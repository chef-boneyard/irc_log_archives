[2014-02-28 01:30:11 -0500] openstackgerrit: David Geng proposed a change to stackforge/cookbook-openstack-network: Add new attributes in linuxbridge plugin templates  https://review.openstack.org/76073
[2014-02-28 01:37:47 -0500] openstackgerrit: David Geng proposed a change to stackforge/cookbook-openstack-network: Add new template for ml2 plugin.  https://review.openstack.org/75875
[2014-02-28 01:40:05 -0500] galstrom: mattray: that seems about right with those 2 changes
[2014-02-28 01:44:06 -0500] openstackgerrit: Justin Shepherd proposed a change to stackforge/cookbook-openstack-identity: update gitignore  https://review.openstack.org/75374
[2014-02-28 01:46:52 -0500] openstackgerrit: A change was merged to stackforge/cookbook-openstack-network: Point to correct lbaas_agent.ini file  https://review.openstack.org/76833
[2014-02-28 01:46:53 -0500] openstackgerrit: A change was merged to stackforge/cookbook-openstack-network: Fix neutron-lbaas-agent issue  https://review.openstack.org/75509
[2014-02-28 01:50:43 -0500] openstackgerrit: A change was merged to stackforge/cookbook-openstack-common: Add NoSQL database support for metering.  https://review.openstack.org/76545
[2014-02-28 02:12:09 -0500] openstackgerrit: Justin Shepherd proposed a change to stackforge/cookbook-openstack-network: update gitignore  https://review.openstack.org/75377
[2014-02-28 02:13:38 -0500] openstackgerrit: Justin Shepherd proposed a change to stackforge/cookbook-openstack-metering: update gitignore  https://review.openstack.org/75376
[2014-02-28 02:14:48 -0500] openstackgerrit: Justin Shepherd proposed a change to stackforge/cookbook-openstack-block-storage: update gitignore  https://review.openstack.org/75369
[2014-02-28 02:16:54 -0500] openstackgerrit: Justin Shepherd proposed a change to stackforge/cookbook-openstack-ops-messaging: update gitignore  https://review.openstack.org/75380
[2014-02-28 02:18:34 -0500] openstackgerrit: Justin Shepherd proposed a change to stackforge/cookbook-openstack-object-storage: update gitignore  https://review.openstack.org/75378
[2014-02-28 02:27:55 -0500] openstackgerrit: A change was merged to stackforge/cookbook-openstack-object-storage: Error in LWRP  https://review.openstack.org/76895
[2014-02-28 03:52:08 -0500] openstackgerrit: Justin Shepherd proposed a change to stackforge/cookbook-openstack-identity: Adding guards to keystone_register  https://review.openstack.org/77060
[2014-02-28 04:51:48 -0500] openstackgerrit: Eric Zhou proposed a change to stackforge/cookbook-openstack-metering: Add NoSQL support for metering and create tenant/user for metering service.  https://review.openstack.org/76553
[2014-02-28 05:35:07 -0500] openstackgerrit: Ma Wen Cheng proposed a change to stackforge/cookbook-openstack-common: Fix undefined method `[]' for nil:NilClass for Network installation  https://review.openstack.org/74958
[2014-02-28 05:42:42 -0500] openstackgerrit: Justin Shepherd proposed a change to stackforge/cookbook-openstack-identity: Adding ChefSpec Custom Matchers for register LWRP  https://review.openstack.org/77073
[2014-02-28 09:12:20 -0500] openstackgerrit: Matt Thompson proposed a change to stackforge/cookbook-openstack-common: Add notification_topics attribute to network  https://review.openstack.org/76145
[2014-02-28 10:43:59 -0500] openstackgerrit: A change was merged to stackforge/cookbook-openstack-ops-messaging: Refactoring chefspec tests  https://review.openstack.org/76915
[2014-02-28 10:45:04 -0500] openstackgerrit: A change was merged to stackforge/cookbook-openstack-ops-messaging: Adding tests for untouched resources  https://review.openstack.org/76953
[2014-02-28 11:46:06 -0500] openstackgerrit: A change was merged to stackforge/cookbook-openstack-ops-messaging: update gitignore  https://review.openstack.org/75380
[2014-02-28 11:47:40 -0500] openstackgerrit: A change was merged to stackforge/cookbook-openstack-identity: update gitignore  https://review.openstack.org/75374
[2014-02-28 11:48:10 -0500] openstackgerrit: A change was merged to stackforge/cookbook-openstack-metering: update gitignore  https://review.openstack.org/75376
[2014-02-28 11:48:37 -0500] openstackgerrit: A change was merged to stackforge/cookbook-openstack-object-storage: update gitignore  https://review.openstack.org/75378
[2014-02-28 11:50:53 -0500] openstackgerrit: A change was merged to stackforge/cookbook-openstack-identity: Adding ChefSpec Custom Matchers for register LWRP  https://review.openstack.org/77073
[2014-02-28 11:56:17 -0500] openstackgerrit: A change was merged to stackforge/cookbook-openstack-network: update gitignore  https://review.openstack.org/75377
[2014-02-28 12:00:51 -0500] openstackgerrit: A change was merged to stackforge/cookbook-openstack-block-storage: update gitignore  https://review.openstack.org/75369
[2014-02-28 12:55:14 -0500] openstackgerrit: Ionut Artarisi proposed a change to stackforge/cookbook-openstack-network: fix lbaas package list for SUSE  https://review.openstack.org/77162
[2014-02-28 13:01:21 -0500] openstackgerrit: Ionut Artarisi proposed a change to stackforge/cookbook-openstack-network: fix lbaas package list for SUSE  https://review.openstack.org/77162
[2014-02-28 13:16:21 -0500] openstackgerrit: Paul Carver proposed a change to stackforge/cookbook-openstack-network: Closes-Bug: 126658  https://review.openstack.org/77168
[2014-02-28 13:25:51 -0500] rajini_ram: Identity Error: Any idea
[2014-02-28 13:25:52 -0500] rajini_ram: ================================================================================[0m
[2014-02-28 13:25:53 -0500] rajini_ram: [31mError executing action `upgrade` on resource 'package[keystone]'[0m
[2014-02-28 13:25:53 -0500] rajini_ram: ================================================================================[0m
[2014-02-28 13:25:54 -0500] rajini_ram: [0m
[2014-02-28 13:25:54 -0500] rajini_ram: Chef::Exceptions::Exec[0m
[2014-02-28 13:25:55 -0500] rajini_ram: ----------------------[0m
[2014-02-28 13:25:56 -0500] rajini_ram: apt-get -q -y -o Dpkg::Options::='--force-confold' -o Dpkg::Options::='--force-confdef' install keystone=1:2013.2.1-0ubuntu1~cloud0 returned 100, expected 0[0m
[2014-02-28 13:26:01 -0500] rajini_ram: [0m
[2014-02-28 13:26:03 -0500] rajini_ram: Resource Declaration:[0m
[2014-02-28 13:26:05 -0500] rajini_ram: ---------------------[0m
[2014-02-28 13:26:07 -0500] rajini_ram: # In /var/chef/cookbooks/openstack-identity/recipes/server.rb
[2014-02-28 13:26:09 -0500] rajini_ram:  51:   package pkg do
[2014-02-28 13:26:11 -0500] rajini_ram:  52:     options platform_options['package_options']
[2014-02-28 13:26:13 -0500] rajini_ram:  53:
[2014-02-28 13:26:15 -0500] rajini_ram:  54:     action :upgrade
[2014-02-28 13:26:17 -0500] rajini_ram:  55:   end
[2014-02-28 13:26:19 -0500] rajini_ram:  56: end
[2014-02-28 13:26:21 -0500] rajini_ram: [0m
[2014-02-28 13:26:23 -0500] rajini_ram: [0m
[2014-02-28 13:26:25 -0500] rajini_ram: Compiled Resource:[0m
[2014-02-28 13:26:27 -0500] rajini_ram: ------------------[0m
[2014-02-28 13:26:31 -0500] rajini_ram: # Declared in /var/chef/cookbooks/openstack-identity/recipes/server.rb:51:in `block in from_file'
[2014-02-28 13:26:33 -0500] rajini_ram: package("keystone") do
[2014-02-28 13:26:35 -0500] rajini_ram:   action [:upgrade]
[2014-02-28 13:26:37 -0500] rajini_ram:   retries 0
[2014-02-28 13:26:39 -0500] rajini_ram:   retry_delay 2
[2014-02-28 13:26:41 -0500] rajini_ram:   options "-o Dpkg::Options::='--force-confold' -o Dpkg::Options::='--force-confdef'"
[2014-02-28 13:26:43 -0500] rajini_ram:   package_name "keystone"
[2014-02-28 13:26:45 -0500] rajini_ram:   version "1:2013.2.1-0ubuntu1~cloud0"
[2014-02-28 13:26:46 -0500] openstackgerrit: Paul Carver proposed a change to stackforge/cookbook-openstack-network: Closes-Bug: 126658  https://review.openstack.org/77168
[2014-02-28 13:26:47 -0500] rajini_ram:   cookbook_name :"openstack-identity"
[2014-02-28 13:26:49 -0500] rajini_ram:   recipe_name "server"
[2014-02-28 13:26:51 -0500] rajini_ram: end
[2014-02-28 13:26:52 -0500] rajini_ram: [0m
[2014-02-28 13:39:49 -0500] nacer_: rajini_ram: don't past error here
[2014-02-28 13:39:55 -0500] nacer_: use pastbin or service like that
[2014-02-28 13:40:06 -0500] nacer_: did you try to run the command in a term ?
[2014-02-28 13:40:07 -0500] nacer_: apt-get -q -y -o Dpkg::Options::='--force-confold' -o Dpkg::Options::='--force-confdef' install keystone=1:2013.2.1-0ubuntu1~cloud0
[2014-02-28 13:40:07 -0500] nacer_:  ?
[2014-02-28 13:46:07 -0500] rajini_ram: The following packages have unmet dependencies:
[2014-02-28 13:46:07 -0500] rajini_ram:  keystone : Depends: python-keystone (= 1:2013.2.1-0ubuntu1~cloud0) but 1:2013.2.2-0ubuntu1~cloud0 is to be installed
[2014-02-28 13:46:40 -0500] rajini_ram: thanks, I guess I have the error
[2014-02-28 14:19:56 -0500] nacer_: rajini_ram: try to apt-get update your system
[2014-02-28 14:26:13 -0500] openstackgerrit: Paul Carver proposed a change to stackforge/cookbook-openstack-network: Added double quotes around the interface name in the grep pattern because the output of ovs-vsctl quotes the interface name.  https://review.openstack.org/77168
[2014-02-28 14:29:50 -0500] openstackgerrit: Paul Carver proposed a change to stackforge/cookbook-openstack-network: Added double quotes around the interface name  https://review.openstack.org/77168
[2014-02-28 15:00:13 -0500] openstackgerrit: A change was merged to stackforge/cookbook-openstack-network: Added double quotes around the interface name  https://review.openstack.org/77168
[2014-02-28 15:44:08 -0500] rajini_ram: Thanks nacer
[2014-02-28 16:37:12 -0500] openstackgerrit: A change was merged to stackforge/cookbook-openstack-dashboard: Don't create empty secret_key_path file  https://review.openstack.org/76540
[2014-02-28 16:56:30 -0500] bpokorny: For anyone interested:  I was just discussing with mrodden and luis_ about opening up firewall ports from the cookbooks.
[2014-02-28 16:57:52 -0500] bpokorny: We were thinking of using this existing cookbook:  https://github.com/opscode-cookbooks/iptables
[2014-02-28 16:59:32 -0500] bpokorny: which apparently requires a recipe to call into it.
[2014-02-28 16:59:33 -0500] bpokorny: So we could have a recipe and a template for the firewall rules in each of the OpenStack cookbooks.
[2014-02-28 16:59:34 -0500] bpokorny: Any comments/concerns?
[2014-02-28 17:11:08 -0500] galstrom: bpokorny: is this around the apis? or are you going all the way down to compute nodes?
[2014-02-28 17:12:57 -0500] bpokorny: galstrom:  I'm thinking just around the APIs for now, but mrodden or luis_ can step in here if that doesn't make sense.
[2014-02-28 17:13:25 -0500] luis_: i think first step would be at least horizon, since that needs to be opened up for sure
[2014-02-28 17:13:44 -0500] luis_: the apis would come optionally with an attribute perhaps
[2014-02-28 17:13:51 -0500] galstrom: luis_, bpokorny: is this based on cent or ubuntu or both?
[2014-02-28 17:14:35 -0500] luis_: we were thinking cent but i think for all really
[2014-02-28 17:15:23 -0500] galstrom: from cent i understand.. cause they have those bs default firewall rules (which i always turn off)
[2014-02-28 17:15:39 -0500] galstrom: but ubuntu does not have a locked down by default iptables setup
[2014-02-28 17:16:00 -0500] luis_: ah ok, so yeah we would not apply it in that case then, i thought it also had it locked down
[2014-02-28 17:16:05 -0500] galstrom: i think this is a fantastic idea for a wrapper cookbook
[2014-02-28 17:16:53 -0500] ctracey: ++
[2014-02-28 17:17:03 -0500] ctracey: we shoudl not be playing with firewalls in the openstack cookbooks
[2014-02-28 17:21:42 -0500] bpokorny: galstrom: ctracey: I'm not very familiar with wrapper cookbooks, but I think that would mean we should send up an all new cookbook to stackforge.
[2014-02-28 17:22:19 -0500] bpokorny: And that new cookbook should contain the recipe to use the iptables cookbook, and also contain the templates for each of the OpenStack services?
[2014-02-28 17:22:45 -0500] ctracey: tbh i see that only as a reference
[2014-02-28 17:22:52 -0500] ctracey: which may or may not live in stackforge
[2014-02-28 17:23:05 -0500] galstrom: agreed ^
[2014-02-28 17:23:10 -0500] ctracey: it is not germain to openstack
[2014-02-28 17:23:17 -0500] ctracey: germane*
[2014-02-28 17:23:20 -0500] galstrom: was thinking this goes in your deployment cookbooks.. and pulls in the stackforge stuff
[2014-02-28 17:23:35 -0500] ctracey: correct
[2014-02-28 17:23:47 -0500] ctracey: iptables is not enough in some cases...
[2014-02-28 17:23:56 -0500] ctracey: and it is not ours to determine this stuff
[2014-02-28 17:25:01 -0500] luis_: i thought we could just make it part of the corresponding recipe (i.e. dashboard server), since pretty much anybody that runs the dashboard cb in production would ahve to open up the port at least
[2014-02-28 17:25:17 -0500] ctracey: i do not agree with that
[2014-02-28 17:25:46 -0500] bpokorny: mrodden ^
[2014-02-28 17:25:46 -0500] luis_: it's like that command there currently, to set selinux permissive
[2014-02-28 17:25:47 -0500] galstrom: nor do i
[2014-02-28 17:25:50 -0500] ctracey: a recipe should have a very confined set of functionality
[2014-02-28 17:25:54 -0500] luis_: that has nothing to do with os either, yetit's in there
[2014-02-28 17:26:07 -0500] ctracey: and when i setup dashboard i do not want that recipe touching iptables
[2014-02-28 17:26:41 -0500] ctracey: well...i would say that needs to be pulled out then
[2014-02-28 17:27:01 -0500] ctracey: i dont run rhel/cent so i would not have run into that
[2014-02-28 17:27:15 -0500] luis_: https://github.com/stackforge/cookbook-openstack-dashboard/blob/master/recipes/server.rb#L221
[2014-02-28 17:27:45 -0500] luis_: ctracey, yeah but i mean i see ur point
[2014-02-28 17:27:53 -0500] ctracey: i dont doubt its in there
[2014-02-28 17:27:56 -0500] ctracey: but it shouldnt be
[2014-02-28 17:27:57 -0500] luis_: so where coudl we put this so that it could be used by anybody
[2014-02-28 17:28:11 -0500] ctracey: we already have a model for this...
[2014-02-28 17:28:29 -0500] ctracey: the ops-database and ops-messaging cookbooks are reference only
[2014-02-28 17:29:08 -0500] ctracey: perhaps we need a new one...but tbh we need to stop thinking of these cookbooks as the only thing someone will need to stand up openstack
[2014-02-28 17:29:15 -0500] ctracey: its just not a reality
[2014-02-28 17:30:12 -0500] ctracey: that code is ancient...from before these cookbooks were even in stackforge, fwiw
[2014-02-28 18:57:58 -0500] openstackgerrit: A change was merged to stackforge/cookbook-openstack-network: fix lbaas package list for SUSE  https://review.openstack.org/77162
[2014-02-28 19:23:55 -0500] fraterla_: Hi
[2014-02-28 19:24:14 -0500] fraterlaetus: So I want to write a plugin for ohai
[2014-02-28 19:24:28 -0500] fraterlaetus: how can I test this without breaking the existing ohai?
[2014-02-28 20:00:54 -0500] mattt: markvan: ping
[2014-02-28 20:01:12 -0500] markvan: mattt: howdy
[2014-02-28 20:01:21 -0500] mattt: markvan: question about https://review.openstack.org/#/c/76145/
[2014-02-28 20:01:32 -0500] mattt: markvan: what would the benefit of making it a list be ?
[2014-02-28 20:01:42 -0500] mattt: either way we write it to the template as a string
[2014-02-28 20:02:59 -0500] markvan: yeah, was thinking out loud there.  My initial thought was to help it stand out from from the other notifiy attr, but I guess maybe a good comment/example is all that is needed
[2014-02-28 20:03:44 -0500] mattt: markvan: my updated comment in https://review.openstack.org/#/c/76145/3/attributes/messaging.rb should be more clear you think ?
[2014-02-28 20:04:18 -0500] markvan: yup that should do the trick.
[2014-02-28 20:04:33 -0500] mattt: cool!
[2014-02-28 20:04:36 -0500] markvan: Btw, i was curious about how much attr validation is done in the cookbooks.
[2014-02-28 20:04:37 -0500] mattt: thanks for having a look
[2014-02-28 20:04:55 -0500] mattt: validation?  i'm guessing next to none?  :)
[2014-02-28 20:05:39 -0500] mattt: markvan: i'm a bit torn about how far these cookbooks should go
[2014-02-28 20:06:02 -0500] mattt: markvan: i think the operator needs to a) research what they're enabling and b) ensure they're entering correct input for attribute overrides
[2014-02-28 20:06:13 -0500] markvan: yes, seems non existent.  My thought was to have the the default recipe or such do some of it so the processing could maybe flag an issue early in the converge.
[2014-02-28 20:07:37 -0500] markvan: mattt: yes, I agree, looks like its up to the deployer to hande it, just seems kinda odd not having something there  (Im way to old school....)
[2014-02-28 20:08:18 -0500] mattt: markvan: i guess it would be nice, and easy to test
[2014-02-28 20:08:29 -0500] mattt: markvan: but it'd add so much bloat to the cookbooks if we have to validate each attribute
[2014-02-28 20:09:35 -0500] markvan: mattt: I guess in the cases where we need to transform an attr into something else, we should be more careful about handling the validation cases so we don't produce a messy output.
[2014-02-28 20:10:07 -0500] mattt: markvan: make each attr a hash, with a type key, and then have something validate all the attributes ;P
[2014-02-28 20:11:03 -0500] markvan: mattt: for now, I guess we have readme and attr comments/examples to help folks get it right the first time.
[2014-02-28 20:12:02 -0500] mattt: yeah, i'd imagine we're due for a blueprint to have all our READMEs updated
[2014-02-28 20:12:41 -0500] mattt: although i do feel the attr files themselves serve as good documentation, and perhaps we should focus on those instead
[2014-02-28 20:18:27 -0500] markvan: mattt: what was you opinion on having a tool like knife-cookbook-doc gen the readme for us?   Seems like that would really allow more focus on the code/comments.
[2014-02-28 20:29:05 -0500] openstackgerrit: Justin Shepherd proposed a change to stackforge/cookbook-openstack-identity: Adding guards to keystone_register  https://review.openstack.org/77060
[2014-02-28 20:31:29 -0500] openstackgerrit: Justin Shepherd proposed a change to stackforge/cookbook-openstack-identity: Adding guards to keystone_register  https://review.openstack.org/77060
[2014-02-28 21:17:05 -0500] openstackgerrit: Christopher Dearborn proposed a change to stackforge/cookbook-openstack-ops-database: Add ability to specify IP for service  https://review.openstack.org/74481
[2014-02-28 21:36:11 -0500] openstackgerrit: Christopher Dearborn proposed a change to stackforge/cookbook-openstack-ops-messaging: Add ability to specify IP for service  https://review.openstack.org/74480
