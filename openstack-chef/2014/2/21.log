[2014-02-21 09:02:59 -0500] openstackgerrit: Stephan Renatus proposed a change to stackforge/cookbook-openstack-block-storage: Ceph RBD integration for openstack-block-storage  https://review.openstack.org/70332
[2014-02-21 09:20:53 -0500] openstackgerrit: Nacer Laradji proposed a change to stackforge/cookbook-openstack-image: Change execution place of ressource execute['glance-manage version_control 0'] in recipes/registry.rb  https://review.openstack.org/75344
[2014-02-21 09:25:11 -0500] openstackgerrit: Ionut Artarisi proposed a change to stackforge/cookbook-openstack-common: add dashboard migrate attribute  https://review.openstack.org/75347
[2014-02-21 10:39:05 -0500] openstackgerrit: Nacer Laradji proposed a change to stackforge/openstack-chef-repo: Added documentation about databags  https://review.openstack.org/75360
[2014-02-21 10:40:03 -0500] openstackgerrit: Andy McCrae proposed a change to stackforge/cookbook-openstack-block-storage: Add volume_clear & volume_clear_size options for LVM  https://review.openstack.org/73243
[2014-02-21 11:01:51 -0500] mancdaz: srenatus: ping https://bugs.launchpad.net/openstack-chef/+bug/1282996
[2014-02-21 11:11:10 -0500] openstackgerrit: A change was merged to stackforge/cookbook-openstack-block-storage: Add client recipe for block storage  https://review.openstack.org/73014
[2014-02-21 11:12:40 -0500] openstackgerrit: Darren Birkett proposed a change to stackforge/cookbook-openstack-common: add epel repo if adding rdo repo  https://review.openstack.org/75368
[2014-02-21 11:17:04 -0500] openstackgerrit: Darren Birkett proposed a change to stackforge/cookbook-openstack-block-storage: update gitignore  https://review.openstack.org/75369
[2014-02-21 11:18:28 -0500] openstackgerrit: Darren Birkett proposed a change to stackforge/cookbook-openstack-common: update gitignore  https://review.openstack.org/75370
[2014-02-21 11:20:20 -0500] openstackgerrit: Darren Birkett proposed a change to stackforge/cookbook-openstack-compute: update gitignore  https://review.openstack.org/75372
[2014-02-21 11:20:59 -0500] openstackgerrit: Darren Birkett proposed a change to stackforge/cookbook-openstack-dashboard: update gitignore  https://review.openstack.org/75373
[2014-02-21 11:21:51 -0500] openstackgerrit: Darren Birkett proposed a change to stackforge/cookbook-openstack-identity: update gitignore  https://review.openstack.org/75374
[2014-02-21 11:22:15 -0500] openstackgerrit: Darren Birkett proposed a change to stackforge/cookbook-openstack-image: update gitignore  https://review.openstack.org/75375
[2014-02-21 11:23:18 -0500] openstackgerrit: Darren Birkett proposed a change to stackforge/cookbook-openstack-metering: update gitignore  https://review.openstack.org/75376
[2014-02-21 11:23:42 -0500] openstackgerrit: Darren Birkett proposed a change to stackforge/cookbook-openstack-network: update gitignore  https://review.openstack.org/75377
[2014-02-21 11:24:20 -0500] openstackgerrit: Darren Birkett proposed a change to stackforge/cookbook-openstack-object-storage: update gitignore  https://review.openstack.org/75378
[2014-02-21 11:25:14 -0500] openstackgerrit: Nacer Laradji proposed a change to stackforge/openstack-chef-repo: Added documentation about databags  https://review.openstack.org/75360
[2014-02-21 12:56:11 -0500] openstackgerrit: Darren Birkett proposed a change to stackforge/cookbook-openstack-common: add epel repo if adding rdo repo  https://review.openstack.org/75368
[2014-02-21 13:17:17 -0500] openstackgerrit: Nacer Laradji proposed a change to stackforge/openstack-chef-repo: Added documentation about databags  https://review.openstack.org/75360
[2014-02-21 13:21:44 -0500] openstackgerrit: Nacer Laradji proposed a change to stackforge/openstack-chef-repo: Added documentation about databags  https://review.openstack.org/75360
[2014-02-21 13:21:47 -0500] openstackgerrit: Darren Birkett proposed a change to stackforge/cookbook-openstack-block-storage: update gitignore  https://review.openstack.org/75369
[2014-02-21 13:21:54 -0500] openstackgerrit: Darren Birkett proposed a change to stackforge/cookbook-openstack-common: update gitignore  https://review.openstack.org/75370
[2014-02-21 13:22:00 -0500] openstackgerrit: Darren Birkett proposed a change to stackforge/cookbook-openstack-compute: update gitignore  https://review.openstack.org/75372
[2014-02-21 13:22:07 -0500] openstackgerrit: Darren Birkett proposed a change to stackforge/cookbook-openstack-dashboard: update gitignore  https://review.openstack.org/75373
[2014-02-21 13:22:12 -0500] openstackgerrit: Darren Birkett proposed a change to stackforge/cookbook-openstack-identity: update gitignore  https://review.openstack.org/75374
[2014-02-21 13:22:19 -0500] openstackgerrit: Darren Birkett proposed a change to stackforge/cookbook-openstack-image: update gitignore  https://review.openstack.org/75375
[2014-02-21 13:22:25 -0500] openstackgerrit: Darren Birkett proposed a change to stackforge/cookbook-openstack-metering: update gitignore  https://review.openstack.org/75376
[2014-02-21 13:22:29 -0500] openstackgerrit: Nacer Laradji proposed a change to stackforge/openstack-chef-repo: Added documentation about databags  https://review.openstack.org/75360
[2014-02-21 13:22:31 -0500] openstackgerrit: Darren Birkett proposed a change to stackforge/cookbook-openstack-network: update gitignore  https://review.openstack.org/75377
[2014-02-21 13:22:38 -0500] openstackgerrit: Darren Birkett proposed a change to stackforge/cookbook-openstack-object-storage: update gitignore  https://review.openstack.org/75378
[2014-02-21 13:41:31 -0500] srenatus: mancdaz: oh.  any hints on how to do that?  I modelled that after the other repo (ubuntu-cloud) and didn't find any stubs there
[2014-02-21 13:42:52 -0500] openstackgerrit: Nacer Laradji proposed a change to stackforge/openstack-chef-repo: Added documentation about databags  https://review.openstack.org/75360
[2014-02-21 13:43:23 -0500] openstackgerrit: Nacer Laradji proposed a change to stackforge/openstack-chef-repo: Added documentation about databags  https://review.openstack.org/75360
[2014-02-21 13:43:34 -0500] nacer: sorry for the flood
[2014-02-21 13:51:40 -0500] mancdaz: srenatus: srenatus hrm maybe it's not stubs that's needed
[2014-02-21 13:52:04 -0500] mancdaz: not sure why the ceph ones are failing on my mac though
[2014-02-21 13:52:10 -0500] mancdaz: and the other ones aren't
[2014-02-21 13:52:17 -0500] srenatus: mancdaz: that's exactly what I see here
[2014-02-21 13:52:27 -0500] srenatus: and I'm quite puzzled
[2014-02-21 13:52:50 -0500] srenatus: that said, I don't really understand the logic behind the step_into part
[2014-02-21 13:54:22 -0500] mancdaz: srenatus: must admit I don't understand that very well myself.
[2014-02-21 13:54:54 -0500] srenatus: :)
[2014-02-21 13:55:36 -0500] mancdaz: "You should never step_into an LWRP unless you are testing it. Never step_into an LWRP from another cookbook!"
[2014-02-21 13:56:01 -0500] mancdaz: since stepping into the cookbook makes the lwrp try to actually do the things
[2014-02-21 13:56:06 -0500] srenatus: hmm.
[2014-02-21 13:56:31 -0500] srenatus: maybe it's because _before_ ceph_client, there was only one occurence of apt_repository (in the entire cookbook) and now there's two...?
[2014-02-21 13:57:13 -0500] srenatus: I suppose the step_into of default_spec.rb isn't quite right either then
[2014-02-21 13:58:34 -0500] mancdaz: seems that removing 'step into' causes the repo file not to be 'rendered' so the content check fails
[2014-02-21 13:58:44 -0500] srenatus: ah. ok. the way apt_repository (the lwrp) works is by creating that file, i.e. rendering it that way
[2014-02-21 13:58:58 -0500] srenatus: so we're actually stepping into that call to look behind the scenes
[2014-02-21 13:59:02 -0500] srenatus: so to speak
[2014-02-21 13:59:16 -0500] mancdaz: yeah - making it do the thing so we have the file to inspect
[2014-02-21 13:59:33 -0500] mancdaz: I still feel like it's wrong though
[2014-02-21 13:59:46 -0500] mancdaz: and that we should be stubbing the returned content somehow
[2014-02-21 14:00:00 -0500] mancdaz: just don't understand why the default one works :/
[2014-02-21 14:01:03 -0500] mancdaz: but here we aren't testing the apt_repository lwrp itself - that should be done in the apt cookbook spec tests
[2014-02-21 14:01:10 -0500] mancdaz: we're testing that we call it correctly
[2014-02-21 14:01:10 -0500] srenatus: I think it should better be something like expect(@chef_run).to add_apt_repository('openstack-ppa').with(...)
[2014-02-21 14:01:14 -0500] srenatus: yes
[2014-02-21 14:01:30 -0500] mancdaz: yeah
[2014-02-21 14:01:42 -0500] srenatus: I'll do that change to both and submit it.
[2014-02-21 14:01:55 -0500] mancdaz: cool!
[2014-02-21 14:22:39 -0500] openstackgerrit: Stephan Renatus proposed a change to stackforge/cookbook-openstack-common: Fix apt_repository chefspec tests  https://review.openstack.org/75417
[2014-02-21 14:22:49 -0500] srenatus: here we go :)
[2014-02-21 14:32:37 -0500] mancdaz: srenatus: I spy a few other places in the cookbooks where things could all be tidied up like that :-)
[2014-02-21 14:34:44 -0500] srenatus: mancdaz: just found justin shepherd's major refactoring change
[2014-02-21 14:34:52 -0500] mancdaz: srenatus yeah
[2014-02-21 14:34:57 -0500] srenatus: abandoned mine in favor of that one
[2014-02-21 14:35:33 -0500] mancdaz: but he's not testing the calling parameters of the resource matcher
[2014-02-21 14:36:21 -0500] srenatus: hmm yes...
[2014-02-21 14:42:07 -0500] srenatus: oh dear... the comments.
[2014-02-21 14:48:46 -0500] galstrom: srenatus: i can add that bit in from your review.. if you would like
[2014-02-21 14:49:01 -0500] galstrom: it seems like a good idea to have it..
[2014-02-21 14:49:34 -0500] srenatus: galstrom: the parameters? sure
[2014-02-21 14:49:59 -0500] galstrom: srenatus: :)
[2014-02-21 14:51:32 -0500] mancdaz: galstrom: I think srenatus and I made the same inline comments on that patch
[2014-02-21 14:51:44 -0500] mancdaz: I was more ruthless and -1 you
[2014-02-21 14:51:46 -0500] galstrom: mancdaz: yup.. i will add it in there
[2014-02-21 14:51:48 -0500] openstackgerrit: Andy McCrae proposed a change to stackforge/cookbook-openstack-image: Cleanup node['cpu']['total'] work-around for fauxhai  https://review.openstack.org/75423
[2014-02-21 14:51:49 -0500] galstrom: mancdaz: haha
[2014-02-21 14:52:43 -0500] srenatus: mancdaz: hah, that was you...  I still miss some nick -> realname mappings.
[2014-02-21 14:53:07 -0500] galstrom: andymccr: so node.automatic interesting
[2014-02-21 14:53:18 -0500] andymccr: galstrom: interesting and annoying at the same time!
[2014-02-21 14:53:23 -0500] galstrom: andymccr: was going to try node.override
[2014-02-21 14:53:27 -0500] galstrom: andymccr: haha yeah
[2014-02-21 14:53:35 -0500] andymccr: i think TODO: works just as well
[2014-02-21 14:54:12 -0500] galstrom: andymccr: i am not sure it would.. fauxhai/automatic is the last in the priority chain
[2014-02-21 14:54:24 -0500] galstrom: andymccr: so automatic might be the only way to make it work
[2014-02-21 15:14:18 -0500] galstrom: hughsaunders: https://review.openstack.org/#/c/73577/ needs a rebase
[2014-02-21 15:22:37 -0500] openstackgerrit: Justin Shepherd proposed a change to stackforge/cookbook-openstack-common: Refactoring chefspec tests  https://review.openstack.org/75136
[2014-02-21 15:40:46 -0500] mancdaz: galstrom: bluepring
[2014-02-21 15:41:00 -0500] galstrom: mancdaz: ?
[2014-02-21 15:41:13 -0500] mancdaz: galstrom bluepring
[2014-02-21 15:41:22 -0500] galstrom: mancdaz: still not helpful
[2014-02-21 15:41:29 -0500] mancdaz: Addresses: bluepring refactor-spec-files
[2014-02-21 15:41:39 -0500] galstrom: mancdaz: blueprint
[2014-02-21 15:41:41 -0500] galstrom: with a t
[2014-02-21 15:41:45 -0500] galstrom: got it
[2014-02-21 15:42:16 -0500] openstackgerrit: Justin Shepherd proposed a change to stackforge/cookbook-openstack-common: Refactoring chefspec tests  https://review.openstack.org/75136
[2014-02-21 15:43:20 -0500] mancdaz: galstrom: looks like you had fun with that one
[2014-02-21 15:43:27 -0500] mancdaz: the refactor work I mean
[2014-02-21 15:43:32 -0500] openstackgerrit: A change was merged to stackforge/cookbook-openstack-common: add SUSE tests for adding repositories and repo keys  https://review.openstack.org/71482
[2014-02-21 15:43:34 -0500] galstrom: yeah.. that is no fun
[2014-02-21 15:46:54 -0500] mancdaz: galstrom: can you update rhel platform to 6.5 pls?
[2014-02-21 15:47:48 -0500] mancdaz: also, galstrom, https://github.com/sethvargo/chefspec/pull/352/files
[2014-02-21 15:48:00 -0500] mancdaz: re: coverage and non-zero exit on fail
[2014-02-21 15:49:25 -0500] galstrom: mancdaz: yeah.. i saw that when i was doing this refactor.. failing test and complete coverage run but strainer properly failing
[2014-02-21 15:50:04 -0500] mancdaz: galstrom cool!
[2014-02-21 15:51:51 -0500] hughsaunders: galstrom: thanks, will do
[2014-02-21 15:56:09 -0500] andymccr: for the identity cookbook, im trying to understand why there is a register_spec.rb and a registration_spec.rb they seem to be testing similar things but the register_spec is completely inconsistent with testing from other repositories
[2014-02-21 16:01:13 -0500] galstrom: andymccr: i believe the register spec is testing the register lwrp
[2014-02-21 16:01:24 -0500] galstrom: andymccr: and the registration spec is testing the registration recipe
[2014-02-21 16:02:42 -0500] andymccr: in registration though im still testing some of the register LWRP stuff? or not really? i mean its doing like create_tenant etc.
[2014-02-21 16:05:24 -0500] andymccr: ok i see, makes sense i guess!
[2014-02-21 16:06:00 -0500] galstrom: andymccr: i am not saying it is very sane at the moment..
[2014-02-21 16:06:36 -0500] andymccr: well, i think in terms of testing the LWRP I think it makes sense, and I can see how those tests would be formatted differently to the registration recipe ones!
[2014-02-21 16:14:19 -0500] openstackgerrit: Darren Birkett proposed a change to stackforge/openstack-chef-repo: Add vagrantfile/environment for a working multinode vagrant with neutron  https://review.openstack.org/75445
[2014-02-21 16:17:47 -0500] openstackgerrit: Darren Birkett proposed a change to stackforge/openstack-chef-repo: Add vagrantfile/environment for a working multinode vagrant with neutron  https://review.openstack.org/75445
[2014-02-21 16:23:30 -0500] openstackgerrit: Justin Shepherd proposed a change to stackforge/cookbook-openstack-common: Refactoring chefspec tests  https://review.openstack.org/75136
[2014-02-21 16:27:19 -0500] openstackgerrit: Ionut Artarisi proposed a change to stackforge/cookbook-openstack-dashboard: only syncdb when the db migrate attribute is true  https://review.openstack.org/72424
[2014-02-21 16:29:51 -0500] openstackgerrit: Ionut Artarisi proposed a change to stackforge/cookbook-openstack-dashboard: only syncdb when the db migrate attribute is true  https://review.openstack.org/72424
[2014-02-21 16:30:14 -0500] openstackgerrit: Ionut Artarisi proposed a change to stackforge/cookbook-openstack-dashboard: only syncdb when the db migrate attribute is true  https://review.openstack.org/72424
[2014-02-21 17:18:05 -0500] openstackgerrit: Ionut Artarisi proposed a change to stackforge/cookbook-openstack-dashboard: only syncdb when the db migrate attribute is true  https://review.openstack.org/72424
[2014-02-21 17:35:15 -0500] openstackgerrit: A change was merged to stackforge/cookbook-openstack-network: Restricting ChefSpec::Coverage to this cookbook  https://review.openstack.org/74405
[2014-02-21 17:46:14 -0500] openstackgerrit: Ionut Artarisi proposed a change to stackforge/cookbook-openstack-dashboard: only syncdb when the db migrate attribute is true  https://review.openstack.org/72424
[2014-02-21 17:55:25 -0500] openstackgerrit: Andy McCrae proposed a change to stackforge/cookbook-openstack-identity: Utilise ['openstack']['region'] from cookbook-openstack-common  https://review.openstack.org/75473
[2014-02-21 21:03:31 -0500] openstackgerrit: Matt Thompson proposed a change to stackforge/cookbook-openstack-network: Fix neutron-lbaas-agent issues  https://review.openstack.org/75509
[2014-02-21 21:19:11 -0500] openstackgerrit: Matt Thompson proposed a change to stackforge/cookbook-openstack-network: Fix neutron-lbaas-agent issues  https://review.openstack.org/75509
