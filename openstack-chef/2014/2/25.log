[2014-02-25 01:47:16 -0500] openstackgerrit: David Geng proposed a change to stackforge/cookbook-openstack-network: Add new template for ml2 plugin.  https://review.openstack.org/75875
[2014-02-25 02:08:05 -0500] openstackgerrit: A change was merged to stackforge/openstack-chef-repo: Added documentation about databags  https://review.openstack.org/75360
[2014-02-25 02:09:03 -0500] openstackgerrit: A change was merged to stackforge/cookbook-openstack-metering: Add client recipe for metering  https://review.openstack.org/73066
[2014-02-25 02:09:59 -0500] openstackgerrit: A change was merged to stackforge/cookbook-openstack-object-storage: Renamed attributes and references described in blueprint  https://review.openstack.org/75906
[2014-02-25 02:10:58 -0500] openstackgerrit: David Geng proposed a change to stackforge/cookbook-openstack-network: Add new attributes in linuxbridge plugin templates  https://review.openstack.org/76073
[2014-02-25 02:13:02 -0500] openstackgerrit: A change was merged to stackforge/openstack-chef-repo: Add vagrantfile/environment for a working multinode vagrant with neutron  https://review.openstack.org/75445
[2014-02-25 02:14:14 -0500] openstackgerrit: David Geng proposed a change to stackforge/cookbook-openstack-network: Add new attributes in linuxbridge plugin templates  https://review.openstack.org/76073
[2014-02-25 02:15:54 -0500] openstackgerrit: A change was merged to stackforge/cookbook-openstack-network: Add dhcp_lease_duration to neutron.conf  https://review.openstack.org/75900
[2014-02-25 02:17:33 -0500] openstackgerrit: David Geng proposed a change to stackforge/cookbook-openstack-network: Add new attributes in linuxbridge plugin templates  https://review.openstack.org/76073
[2014-02-25 02:27:16 -0500] openstackgerrit: Eric Zhou proposed a change to stackforge/cookbook-openstack-common: Add default auth api version inherited by other cookbooks and add the common auth uri transform logic.  https://review.openstack.org/75897
[2014-02-25 02:32:50 -0500] openstackgerrit: A change was merged to stackforge/cookbook-openstack-compute: Define cephx libvirt secret for rbd volumes  https://review.openstack.org/69406
[2014-02-25 02:54:43 -0500] openstackgerrit: David Geng proposed a change to stackforge/cookbook-openstack-network: Move the database section from plugins into neutron.conf.erb  https://review.openstack.org/76076
[2014-02-25 03:01:23 -0500] openstackgerrit: David Geng proposed a change to stackforge/cookbook-openstack-network: Add new template for ml2 plugin.  https://review.openstack.org/75875
[2014-02-25 03:07:56 -0500] openstackgerrit: David Geng proposed a change to stackforge/cookbook-openstack-network: Add new attributes in linuxbridge plugin templates  https://review.openstack.org/76073
[2014-02-25 03:12:12 -0500] openstackgerrit: David Geng proposed a change to stackforge/cookbook-openstack-network: Add new attributes in linuxbridge plugin templates  https://review.openstack.org/76073
[2014-02-25 03:15:38 -0500] openstackgerrit: David Geng proposed a change to stackforge/cookbook-openstack-common: Add attributes for cookbook-openstack-network  https://review.openstack.org/75766
[2014-02-25 03:19:28 -0500] openstackgerrit: David Geng proposed a change to stackforge/cookbook-openstack-network: Add new attributes in linuxbridge plugin templates  https://review.openstack.org/76073
[2014-02-25 03:21:58 -0500] openstackgerrit: David Geng proposed a change to stackforge/cookbook-openstack-network: Move the database section from plugins into neutron.conf.erb  https://review.openstack.org/76076
[2014-02-25 04:36:56 -0500] openstackgerrit: David Geng proposed a change to stackforge/cookbook-openstack-network: Move the database section from plugins into neutron.conf.erb  https://review.openstack.org/76076
[2014-02-25 05:04:01 -0500] openstackgerrit: David Geng proposed a change to stackforge/cookbook-openstack-network: Move the database section from plugins into neutron.conf.erb  https://review.openstack.org/76076
[2014-02-25 05:14:22 -0500] openstackgerrit: David Geng proposed a change to stackforge/cookbook-openstack-common: Add attributes for cookbook-openstack-network  https://review.openstack.org/75766
[2014-02-25 05:15:43 -0500] openstackgerrit: David Geng proposed a change to stackforge/cookbook-openstack-network: Move the database section from plugins into neutron.conf.erb  https://review.openstack.org/76076
[2014-02-25 05:34:08 -0500] openstackgerrit: Eric Zhou proposed a change to stackforge/cookbook-openstack-common: Add default auth api version inherited by other cookbooks and add the common auth uri transform logic.  https://review.openstack.org/75897
[2014-02-25 05:36:19 -0500] openstackgerrit: David Geng proposed a change to stackforge/cookbook-openstack-network: Add new template for ml2 plugin.  https://review.openstack.org/75875
[2014-02-25 05:38:02 -0500] openstackgerrit: David Geng proposed a change to stackforge/cookbook-openstack-network: Add new attributes in linuxbridge plugin templates  https://review.openstack.org/76073
[2014-02-25 06:20:24 -0500] openstackgerrit: Ma Wen Cheng proposed a change to stackforge/cookbook-openstack-common: Fix undefined method `[]' for nil:NilClass for Network installation  https://review.openstack.org/74958
[2014-02-25 06:25:29 -0500] openstackgerrit: Brett Campbell proposed a change to stackforge/cookbook-openstack-metering: add 'debug' and 'verbose' attributes  https://review.openstack.org/76032
[2014-02-25 06:36:51 -0500] openstackgerrit: Ma Wen Cheng proposed a change to stackforge/cookbook-openstack-common: Fix undefined method `[]' for nil:NilClass for Network installation  https://review.openstack.org/74958
[2014-02-25 08:17:49 -0500] openstackgerrit: Simon Ingelsson proposed a change to stackforge/cookbook-openstack-object-storage: sysctl failed returning a hash into /etc/sysctl.d/50-chef-attributes-params.conf  https://review.openstack.org/76117
[2014-02-25 08:26:30 -0500] openstackgerrit: Simon Ingelsson proposed a change to stackforge/cookbook-openstack-object-storage: sysctl failed returning a hash into /etc/sysctl.d/50-chef-attributes-params.conf  https://review.openstack.org/76117
[2014-02-25 08:33:46 -0500] openstackgerrit: Simon Ingelsson proposed a change to stackforge/cookbook-openstack-object-storage: sysctl returning hash into /etc/sysctl.d/50-chef-attributes-params.conf  https://review.openstack.org/76117
[2014-02-25 09:30:44 -0500] mattt: is Chen Zhiwei in here ?
[2014-02-25 10:13:02 -0500] openstackgerrit: Matt Thompson proposed a change to stackforge/cookbook-openstack-common: Add notification_topics attribute to network  https://review.openstack.org/76145
[2014-02-25 10:33:43 -0500] openstackgerrit: Matt Thompson proposed a change to stackforge/cookbook-openstack-network: Add notification_driver attribute  https://review.openstack.org/75910
[2014-02-25 11:09:00 -0500] mattt: srenatus: ping
[2014-02-25 11:15:34 -0500] srenatus: mattt: :)
[2014-02-25 11:15:50 -0500] mattt: srenatus: just dropped you an email with a question
[2014-02-25 11:15:54 -0500] srenatus: oh
[2014-02-25 11:16:03 -0500] mattt: srenatus: wasn't sure if you were around and didn't want to forget about it :P
[2014-02-25 11:16:07 -0500] mattt: srenatus: it's basically about https://review.openstack.org/#/c/71004/
[2014-02-25 11:17:11 -0500] srenatus: mattt: in the progress, the change actually had backwards-compatibility precautions
[2014-02-25 11:17:42 -0500] mattt: srenatus: yeah, i have no issues with teh change, but since you did some work there i was curious what you thought
[2014-02-25 11:18:13 -0500] mattt: srenatus: do you think we should manually update service_plugins when we include the balancer recipe?
[2014-02-25 11:18:37 -0500] mattt: srenatus: like, is there any reason why we would include balancer recipe but not want to update neutron config ?
[2014-02-25 11:19:15 -0500] srenatus: mattt: it could also work the other way 'round, as in "include_recipe XY" based on what is set in service_plugins
[2014-02-25 11:19:46 -0500] mattt: true but i have heard some chatter about including a recipe from another recipe is a bad design pattern :-/
[2014-02-25 11:19:50 -0500] srenatus: mattt: but that would probably need some hacky additions, the recipe will most probably not exist (except the LB)...
[2014-02-25 11:19:52 -0500] mattt: (tho i always used to do that without issue)
[2014-02-25 11:21:15 -0500] srenatus: appending to service_plugins would be fine, I guess.  Never liked array attributes much but that's kind of what the change manoeuvred us into
[2014-02-25 11:22:24 -0500] srenatus: but this shared config file pattern in openstack is terrible... things might be much nicer (and cleaner) if we'd use conf.d directories, e.g. /etc/neutron/conf.d
[2014-02-25 11:22:53 -0500] srenatus: not sure how they'd be merged though, just read hints that it apparently is supported openstack-wise
[2014-02-25 11:24:57 -0500] srenatus: mattt: honestly, in the service_plugins change I didn't think about the possibility that whatever you do there actually depends on something else... I rather thought that the package was built to include neutron.whatever and the config file includes that plugin reference, et voila, done.
[2014-02-25 11:26:16 -0500] mattt: srenatus: i'm not even sure how things load -- i just disliked how i had to include a recipe AND enable a flag for the lbaas stuff to deploy
[2014-02-25 11:26:45 -0500] mattt: srenatus: but maybe it's less error prone to be explicit with what you want, rather than have the cookbooks implicitly flip things based on what is being included in the run list
[2014-02-25 11:27:11 -0500] srenatus: mattt: true... it has its own agent...hm.
[2014-02-25 11:27:22 -0500] srenatus: mattt: yes, probably
[2014-02-25 11:27:41 -0500] mattt: alright, going to leave it until someone else suggests otherwise :)
[2014-02-25 11:27:43 -0500] srenatus: mattt: alternatively, we could have a resource for enabling/disabling service plugins
[2014-02-25 11:27:52 -0500] mattt: but i like your change tho, i really didn't like that enable flag that was previously there
[2014-02-25 11:28:00 -0500] srenatus: that'd be quite clean but some work
[2014-02-25 11:28:05 -0500] mattt: sounds like a lot of work :(
[2014-02-25 11:28:31 -0500] srenatus: hmm not sure.  If the use case is common, it might be worth to solve it in a general way
[2014-02-25 11:28:39 -0500] mattt: that would be very nice tho, if we end up supporting a lot of plugins
[2014-02-25 11:29:14 -0500] srenatus: an LWRP that wraps array node attributes... I'm not totally convinced...
[2014-02-25 11:30:01 -0500] srenatus: the icky part is that (compared to, say, apache2/sites-enabled) it ends up being ONE value in ONE config file...
[2014-02-25 11:30:13 -0500] mattt: yep
[2014-02-25 11:30:36 -0500] mattt: alright, well i'm context switching for now
[2014-02-25 11:30:41 -0500] mattt: thanks for the chat :)
[2014-02-25 11:31:19 -0500] srenatus: :) bye
[2014-02-25 12:04:21 -0500] openstackgerrit: Darren Birkett proposed a change to stackforge/cookbook-openstack-network: update deprecated sql_* related strings  https://review.openstack.org/76173
[2014-02-25 12:22:22 -0500] openstackgerrit: David Geng proposed a change to stackforge/cookbook-openstack-network: Move the database section from plugins into neutron.conf.erb  https://review.openstack.org/76076
[2014-02-25 13:57:41 -0500] Mr_D: Hey folks, I'm trying to run the test suite for the identity cookbook, and following the instructions in TESTING.md, when running "bundle exec strainer test -s Strainerfile", I get: Strainer::Error::CookbookNotFound - Could not find 'openstack-common' in any of the sources.
[2014-02-25 13:58:21 -0500] Mr_D: I do have a modified Berkshelf that points at a local copy of the common cookbook
[2014-02-25 13:58:37 -0500] Mr_D: Found this, which may be related: https://github.com/customink/strainer/issues/37
[2014-02-25 13:58:49 -0500] Mr_D: But the workaround doesn't work
[2014-02-25 13:58:55 -0500] Mr_D: anyone have any idea?
[2014-02-25 14:43:42 -0500] mattray: https://www.eventbrite.co.uk/e/openstack-march-2014-operators-gathering-tickets-10318369521
[2014-02-25 14:44:03 -0500] mattray: Anyone going to that? Kinda short notice
[2014-02-25 14:48:56 -0500] kbringard: I'm not
[2014-02-25 14:49:06 -0500] kbringard: as much as I'd like to
[2014-02-25 14:49:23 -0500] mattray: I would if I'd heard about it more than 6 days in advance
[2014-02-25 14:49:29 -0500] kbringard: srsly
[2014-02-25 14:49:52 -0500] mattray: but I guess most of OpenStack is in the Valley anyway  _
[2014-02-25 14:50:48 -0500] kbringard: supposedly
[2014-02-25 14:50:50 -0500] kbringard: :-p
[2014-02-25 17:05:54 -0500] mattray: hmmm so vagrant-berkshelf is not happy with my pristine installation
[2014-02-25 17:19:54 -0500] spheromak: morning
[2014-02-25 17:35:19 -0500] mattray: anyone else fight through getting the vagrant plugins working?
[2014-02-25 17:41:44 -0500] openstackgerrit: Andy McCrae proposed a change to stackforge/cookbook-openstack-compute: Disable the NumericLiterals cop for rubocop  https://review.openstack.org/76276
[2014-02-25 17:44:44 -0500] openstackgerrit: Andy McCrae proposed a change to stackforge/cookbook-openstack-block-storage: Disable the NumericLiterals cop for rubocop  https://review.openstack.org/76279
[2014-02-25 17:46:05 -0500] openstackgerrit: Andy McCrae proposed a change to stackforge/cookbook-openstack-compute: Disable the NumericLiterals cop for rubocop  https://review.openstack.org/76276
[2014-02-25 17:48:35 -0500] openstackgerrit: Andy McCrae proposed a change to stackforge/cookbook-openstack-common: Disable the NumericLiterals cop for rubocop  https://review.openstack.org/76282
[2014-02-25 17:49:46 -0500] openstackgerrit: Andy McCrae proposed a change to stackforge/cookbook-openstack-dashboard: Disable the NumericLiterals cop for rubocop  https://review.openstack.org/76283
[2014-02-25 17:51:28 -0500] openstackgerrit: Andy McCrae proposed a change to stackforge/cookbook-openstack-identity: Disable the NumericLiterals cop for rubocop  https://review.openstack.org/76285
[2014-02-25 17:54:44 -0500] openstackgerrit: Andy McCrae proposed a change to stackforge/cookbook-openstack-image: Disable the NumericLiterals cop for rubocop  https://review.openstack.org/76287
[2014-02-25 17:56:31 -0500] openstackgerrit: Andy McCrae proposed a change to stackforge/cookbook-openstack-metering: Disable the NumericLiterals cop for rubocop  https://review.openstack.org/76288
[2014-02-25 18:00:55 -0500] openstackgerrit: Andy McCrae proposed a change to stackforge/cookbook-openstack-network: Disable the NumericLiterals cop for rubocop  https://review.openstack.org/76292
[2014-02-25 18:02:52 -0500] openstackgerrit: Andy McCrae proposed a change to stackforge/cookbook-openstack-object-storage: Disable the NumericLiterals cop for rubocop  https://review.openstack.org/76294
[2014-02-25 18:04:07 -0500] openstackgerrit: Andy McCrae proposed a change to stackforge/cookbook-openstack-ops-database: Disable the NumericLiterals cop for rubocop  https://review.openstack.org/76295
[2014-02-25 18:05:27 -0500] openstackgerrit: Andy McCrae proposed a change to stackforge/cookbook-openstack-ops-messaging: Disable the NumericLiterals cop for rubocop  https://review.openstack.org/76296
[2014-02-25 18:06:51 -0500] openstackgerrit: Andy McCrae proposed a change to stackforge/cookbook-openstack-orchestration: Disable the NumericLiterals cop for rubocop  https://review.openstack.org/76297
[2014-02-25 18:08:17 -0500] mattray: andymccr: you've been busy
[2014-02-25 18:08:35 -0500] spheromak: mattray: i fought with berks until i threw it out
[2014-02-25 18:08:37 -0500] spheromak: ;)
[2014-02-25 18:08:46 -0500] spheromak: re: vagrant plugins
[2014-02-25 18:08:54 -0500] spheromak: but there was a ordering problem for a long while
[2014-02-25 18:09:01 -0500] mattray: spheromak: I'm wondering what our best solution is
[2014-02-25 18:09:02 -0500] spheromak: chef-zero doesn't need berks
[2014-02-25 18:09:15 -0500] spheromak: so I wrote a script to  berks -install
[2014-02-25 18:09:20 -0500] spheromak: ./cooks update
[2014-02-25 18:09:39 -0500] spheromak: and used vagrant-chef-zero without vagrant-berks
[2014-02-25 18:09:56 -0500] mattray: I'm wondering if there's a way to have chef-zero call berks
[2014-02-25 18:10:01 -0500] spheromak: pointing at the cook dir,  its a hack, but so many people in our org were having issues with vagrant-berks
[2014-02-25 18:10:22 -0500] mattray: spheromak: and it looks like the berkshelf guys don't want to support it
[2014-02-25 18:10:27 -0500] spheromak: yea thats another option, I also made it so that our script would wipe out berks cache and store cach to the repo
[2014-02-25 18:10:36 -0500] spheromak: mattray: indeed they don't
[2014-02-25 18:11:15 -0500] spheromak: I really need to find the time to finish up my tooling for our server based workflow and do some release/presentation stuff on it
[2014-02-25 18:16:15 -0500] andymccr: hahah mattray, i think mattt was complaining about the NumericLiterals, so i quickly fixed it
[2014-02-25 18:16:52 -0500] mattray: andymccr: I agree, NumericLiterals are ugly as sin
[2014-02-25 18:21:20 -0500] mattray: andymccr: looks like retr0h and I are fast-tracking that one
[2014-02-25 18:22:27 -0500] mattray: +1_000
[2014-02-25 18:26:59 -0500] openstackgerrit: A change was merged to stackforge/cookbook-openstack-object-storage: Disable the NumericLiterals cop for rubocop  https://review.openstack.org/76294
[2014-02-25 18:27:13 -0500] openstackgerrit: A change was merged to stackforge/cookbook-openstack-ops-database: Disable the NumericLiterals cop for rubocop  https://review.openstack.org/76295
[2014-02-25 18:27:45 -0500] retr0h: yeah those are lame
[2014-02-25 18:28:20 -0500] spheromak: jsut gottta tie your eyes to it
[2014-02-25 18:28:26 -0500] spheromak:  replace those _
[2014-02-25 18:28:30 -0500] spheromak: with ,
[2014-02-25 18:28:35 -0500] spheromak: :D
[2014-02-25 18:28:43 -0500] openstackgerrit: A change was merged to stackforge/cookbook-openstack-ops-messaging: Disable the NumericLiterals cop for rubocop  https://review.openstack.org/76296
[2014-02-25 18:29:32 -0500] retr0h: lol
[2014-02-25 18:29:46 -0500] openstackgerrit: A change was merged to stackforge/cookbook-openstack-identity: Disable the NumericLiterals cop for rubocop  https://review.openstack.org/76285
[2014-02-25 18:30:03 -0500] spheromak: <3 rubocop -Da
[2014-02-25 18:30:04 -0500] openstackgerrit: A change was merged to stackforge/cookbook-openstack-dashboard: Disable the NumericLiterals cop for rubocop  https://review.openstack.org/76283
[2014-02-25 18:32:38 -0500] openstackgerrit: A change was merged to stackforge/cookbook-openstack-image: Disable the NumericLiterals cop for rubocop  https://review.openstack.org/76287
[2014-02-25 18:33:58 -0500] openstackgerrit: A change was merged to stackforge/cookbook-openstack-metering: Disable the NumericLiterals cop for rubocop  https://review.openstack.org/76288
[2014-02-25 18:35:42 -0500] openstackgerrit: Simon Ingelsson proposed a change to stackforge/cookbook-openstack-object-storage: sysctl returning hash to file /etc/sysctl.d/50-chef-attributes-params.conf  https://review.openstack.org/76311
[2014-02-25 18:37:45 -0500] openstackgerrit: A change was merged to stackforge/cookbook-openstack-network: Disable the NumericLiterals cop for rubocop  https://review.openstack.org/76292
[2014-02-25 18:38:58 -0500] openstackgerrit: A change was merged to stackforge/cookbook-openstack-block-storage: Disable the NumericLiterals cop for rubocop  https://review.openstack.org/76279
[2014-02-25 18:42:07 -0500] openstackgerrit: Simon Ingelsson proposed a change to stackforge/cookbook-openstack-object-storage: sysctl returning hash to file /etc/sysctl.d/50-chef-attributes-params.conf  https://review.openstack.org/76311
[2014-02-25 18:43:57 -0500] openstackgerrit: A change was merged to stackforge/cookbook-openstack-compute: Disable the NumericLiterals cop for rubocop  https://review.openstack.org/76276
[2014-02-25 19:01:18 -0500] DeVVaN: god i hate trains, never any good service on the 3g/4g
[2014-02-25 19:18:18 -0500] openstackgerrit: Simon Ingelsson proposed a change to stackforge/cookbook-openstack-object-storage: sysctl returning hash to file  https://review.openstack.org/76311
[2014-02-25 19:38:19 -0500] lrr: So i just did a fresh vagran up ubuntu1204 using Vagrantfile-aio-nova, and apache keeps crashing when trying to load the horizon webui. The apache log says that the SECRET_KEY setting must not be empty, and the SECRET_KEY is empty
[2014-02-25 19:48:41 -0500] luisg: hi guys, would u mind taking a look at this one when you get a chance? https://review.openstack.org/#/c/74547
[2014-02-25 20:04:19 -0500] lrr: anyone help with the SECRET_KEY issue?
[2014-02-25 20:32:55 -0500] openstackgerrit: Darren Birkett proposed a change to stackforge/cookbook-openstack-ops-messaging: Install rabbitmq-server from rabbit site for CentOS/RHEL  https://review.openstack.org/74682
[2014-02-25 20:40:43 -0500] lrr: is there anyone around?
[2014-02-25 20:51:01 -0500] openstackgerrit: Brett Campbell proposed a change to stackforge/cookbook-openstack-metering: add 'debug' and 'verbose' attributes  https://review.openstack.org/76032
[2014-02-25 21:00:21 -0500] openstackgerrit: Brett Campbell proposed a change to stackforge/cookbook-openstack-metering: whitespace cleanup for ceilometer.conf.erb  https://review.openstack.org/76360
[2014-02-25 21:03:16 -0500] openstackgerrit: Darren Birkett proposed a change to stackforge/cookbook-openstack-network: only add service_plugins option if there are some plugins defined  https://review.openstack.org/76361
[2014-02-25 21:04:18 -0500] mancdaz: if any online core reviewers could look at review 76361 I'd appreciate it, as without it neutron is borken by default
[2014-02-25 21:10:11 -0500] mancdaz: mattray markvan spheromak ctracey ^^
[2014-02-25 21:21:47 -0500] mattt: mancdaz: what are you breaking now
[2014-02-25 21:22:11 -0500] mancdaz: mattt: trying to unbreak stuff :-)
[2014-02-25 21:22:31 -0500] mattt: mancdaz: it's funny, i was looking at that service_plugins thing today
[2014-02-25 21:22:43 -0500] mattt: mancdaz: but more about updating it automatically when the balancer recipe is loaded
[2014-02-25 21:23:46 -0500] mancdaz: mattt: ah ok. yeah when you load no service_plugins, much fail
[2014-02-25 21:24:54 -0500] mancdaz: mattt: I think in rcbops cookbooks we add it automatically
[2014-02-25 21:25:10 -0500] mancdaz: before populating the template
[2014-02-25 21:25:33 -0500] mattt: mancdaz: yeah, i don't like having to include the balancer recipe and manually update that attribute, but sometimes i wonder if being overly implicit isn't a good thing too
[2014-02-25 21:25:47 -0500] mancdaz: mattt: yep, there is that
[2014-02-25 21:26:06 -0500] lrr: can someone help me diagnose using Vagrantfile-aio-nova, I keep getting an empty SECRET_KEY file?
[2014-02-25 21:29:15 -0500] mancdaz: lrr: presume you are using the environment that mactches the vagrantfile?
[2014-02-25 21:29:26 -0500] lrr: i think so
[2014-02-25 21:29:37 -0500] lrr: i didn't change anything
[2014-02-25 21:29:44 -0500] mattt: is that a dashboard/django thing?
[2014-02-25 21:29:56 -0500] lrr: yeah
[2014-02-25 21:30:28 -0500] lrr: in /var/log/apache/openstack-dashboard-error.log, it has a long stack trace from an empty SECRET_KEY
[2014-02-25 21:30:47 -0500] mancdaz: lrr: I've not used that vagrantfile for a bit, but I know some changes relating to that secret_key file have gone in recently
[2014-02-25 21:31:02 -0500] mancdaz: perhaps the environment needs updating
[2014-02-25 21:31:32 -0500] mattt: ugh, i made this change recently
[2014-02-25 21:31:32 -0500] mattt: https://review.openstack.org/#/c/73338/
[2014-02-25 21:31:40 -0500] mattt: hope i didn't break it :-/
[2014-02-25 21:33:49 -0500] mancdaz: mattt: seems like that all should just still work
[2014-02-25 21:34:00 -0500] mancdaz: lrr can you paste the chef error you're seeing?
[2014-02-25 21:34:19 -0500] mattt: lrr: what are you running?  grizzly or havana?
[2014-02-25 21:34:21 -0500] mancdaz: lrr also what OS is this on?
[2014-02-25 21:34:29 -0500] lrr: 1 sec
[2014-02-25 21:37:38 -0500] lrr: i'm not getting a chef error. it all seems to run just fine
[2014-02-25 21:38:03 -0500] lrr: however in /var/lib/openstack-dashboard/SECRET_KEY, it's empty
[2014-02-25 21:38:22 -0500] lrr: and then when i try to broswe to https://localhost:8443, apache says 500 internal server error
[2014-02-25 21:38:37 -0500] lrr: the openstack-dashboard apache error logs says that SECRET_KEY cannot be empty
[2014-02-25 21:38:44 -0500] lrr: this is on ubuntu1204
[2014-02-25 21:39:18 -0500] mattt: lrr: can you grep SECRET_KEY from /etc/openstack-dashboard/local_settings.py.erb ?
[2014-02-25 21:39:26 -0500] mattt: sorry, /etc/openstack-dashboard/local_settings.py
[2014-02-25 21:40:35 -0500] lrr: yeah 1 sec
[2014-02-25 21:41:27 -0500] lrr: SECRET_KEY = secret_key.generate_or_read_from_file(os.path.realpath('/var/lib/openstack-dashboard/secret_key'))
[2014-02-25 21:44:07 -0500] mattt: lrr: i think i may have fudged something in the cookbooks here
[2014-02-25 21:44:28 -0500] mattt: lrr: if you just comment out that that line in the local_settings.py file and restart apache, it should generate one for you
[2014-02-25 21:44:42 -0500] lrr: ok
[2014-02-25 21:45:45 -0500] mattt: lrr: on a side note, does /var/lib/openstack-dashboard/secret_key exist?
[2014-02-25 21:46:01 -0500] lrr: mattt: it does exist, just empty
[2014-02-25 21:46:16 -0500] lrr: and commenting that part out fro mthe local_settings.py and restarting apache didn't seem to work
[2014-02-25 21:46:25 -0500] mattt: what does the error log say now ?
[2014-02-25 21:47:13 -0500] lrr: same thing
[2014-02-25 21:47:25 -0500] lrr: it didn't regenerate the SECRET_KEYT
[2014-02-25 21:48:12 -0500] mattt: alright, try SECRET_KEY = "somerandomstring" and restart apache
[2014-02-25 21:48:18 -0500] lrr: mattt: sorry, i got pulled away to a work meeting. i'll have to get back to you on the debugging
[2014-02-25 21:48:31 -0500] mattt: (i suggested commenting it because prior to my chance it was commented (see https://review.openstack.org/#/c/73338/3/templates/default/local_settings.py.erb))
[2014-02-25 21:48:46 -0500] mattt: lrr: i have jet, it's almost 10 PM here
[2014-02-25 21:48:56 -0500] mattt: lrr: i will run through this all tomrrow and put in a fix if i can replicate
[2014-02-25 21:49:05 -0500] lrr: mattt: sounds good, thanks!
[2014-02-25 21:49:24 -0500] mattt: lrr: np, sorry for the bug (assuming i introduced it!)
[2014-02-25 21:51:00 -0500] mancdaz: mattt: I observed the same.  Adding some random stuff into the secret key fixed it
[2014-02-25 21:51:25 -0500] mancdaz: into /var/lib/openstack-dashboar/secret_key that is
[2014-02-25 22:06:28 -0500] lrr: ok, testing adding random stuff into /var/lib/openstack-dashboard/SECRET_KEY
[2014-02-25 22:07:16 -0500] lrr: hey it worked!
