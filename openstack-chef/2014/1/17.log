[2014-01-17 01:00:14 -0500] openstackgerrit: A change was merged to stackforge/cookbook-openstack-block-storage: Add name template attributes  https://review.openstack.org/67236
[2014-01-17 01:10:31 -0500] openstackgerrit: Alan Meadows proposed a change to stackforge/cookbook-openstack-object-storage: Bugfix ring_script.rb to parse recent ring-builder  https://review.openstack.org/65380
[2014-01-17 01:34:59 -0500] openstackgerrit: Zhiwei Chen proposed a change to stackforge/cookbook-openstack-common: Add charset=utf8 to DB2 URI  https://review.openstack.org/67352
[2014-01-17 01:45:11 -0500] openstackgerrit: Zhiwei Chen proposed a change to stackforge/cookbook-openstack-common: Add charset=utf8 to DB2 URI  https://review.openstack.org/67352
[2014-01-17 02:12:17 -0500] openstackgerrit: David Geng proposed a change to stackforge/cookbook-openstack-dashboard: Support customize the dashboard http/https port  https://review.openstack.org/65915
[2014-01-17 02:27:20 -0500] openstackgerrit: David Geng proposed a change to stackforge/cookbook-openstack-network: Creating symbolic link for plugin.ini  https://review.openstack.org/67009
[2014-01-17 03:23:54 -0500] openstackgerrit: Feng Ju proposed a change to stackforge/openstack-chef-repo: Add attribute to support upgrade  https://review.openstack.org/67363
[2014-01-17 03:50:36 -0500] openstackgerrit: Eric Zhou proposed a change to stackforge/cookbook-openstack-dashboard: upgrade local_settings.py.erb to havana.  https://review.openstack.org/65850
[2014-01-17 03:57:53 -0500] openstackgerrit: Feng Ju proposed a change to stackforge/cookbook-openstack-network: Migrate network database  https://review.openstack.org/67368
[2014-01-17 04:00:59 -0500] openstackgerrit: Feng Ju proposed a change to stackforge/cookbook-openstack-network: Migrate network database  https://review.openstack.org/67368
[2014-01-17 04:02:40 -0500] openstackgerrit: Feng Ju proposed a change to stackforge/cookbook-openstack-network: Migrate network database  https://review.openstack.org/67368
[2014-01-17 05:22:45 -0500] openstackgerrit: Eric Zhou proposed a change to stackforge/cookbook-openstack-dashboard: upgrade local_settings.py.erb to havana.  https://review.openstack.org/65850
[2014-01-17 05:32:09 -0500] openstackgerrit: Feng Ju proposed a change to stackforge/cookbook-openstack-network: Migrate network database  https://review.openstack.org/67368
[2014-01-17 06:04:38 -0500] openstackgerrit: David Geng proposed a change to stackforge/cookbook-openstack-network: Creating symbolic link for plugin.ini  https://review.openstack.org/67009
[2014-01-17 06:14:09 -0500] openstackgerrit: Zhiwei Chen proposed a change to stackforge/openstack-chef-repo: Change the recipe order in os-image role  https://review.openstack.org/67377
[2014-01-17 09:09:21 -0500] openstackgerrit: Darren Birkett proposed a change to stackforge/cookbook-openstack-block-storage: explicitly set volumes_dir in cinder.conf  https://review.openstack.org/67100
[2014-01-17 09:39:00 -0500] openstackgerrit: Feng Ju proposed a change to stackforge/openstack-chef-repo: Add attribute to support upgrade  https://review.openstack.org/67363
[2014-01-17 09:42:57 -0500] openstackgerrit: hanzhf proposed a change to stackforge/openstack-chef-repo: Add environment and roles for heat support  https://review.openstack.org/66754
[2014-01-17 10:20:39 -0500] openstackgerrit: Andy McCrae proposed a change to stackforge/cookbook-openstack-compute: Move to use "get_password" instead of "{user,service,db}_password"  https://review.openstack.org/66798
[2014-01-17 11:55:14 -0500] openstackgerrit: Matt Thompson proposed a change to stackforge/cookbook-openstack-block-storage: Clean up cookbook for bp/clean-up-attr-for-mq-and-db  https://review.openstack.org/67242
[2014-01-17 12:24:57 -0500] openstackgerrit: Matt Thompson proposed a change to stackforge/cookbook-openstack-identity: Clean up cookbook for bp/clean-up-attr-for-mq-and-db  https://review.openstack.org/67245
[2014-01-17 12:28:01 -0500] openstackgerrit: Matt Thompson proposed a change to stackforge/cookbook-openstack-compute: Clean up cookbook for bp/clean-up-attr-for-mq-and-db  https://review.openstack.org/67243
[2014-01-17 12:39:37 -0500] openstackgerrit: Matt Thompson proposed a change to stackforge/cookbook-openstack-image: bp/clean-up-attr-for-mq-and-db work  https://review.openstack.org/67445
[2014-01-17 13:05:28 -0500] openstackgerrit: Matt Thompson proposed a change to stackforge/cookbook-openstack-metering: Clean up cookbook for bp/clean-up-attr-for-mq-and-db  https://review.openstack.org/67246
[2014-01-17 13:25:20 -0500] openstackgerrit: Matt Thompson proposed a change to stackforge/cookbook-openstack-image: Clean up cookbook for bp/clean-up-attr-for-mq-and-db  https://review.openstack.org/67445
[2014-01-17 13:29:07 -0500] openstackgerrit: Matt Thompson proposed a change to stackforge/cookbook-openstack-network: Clean up cookbook for bp/clean-up-attr-for-mq-and-db  https://review.openstack.org/67248
[2014-01-17 13:30:59 -0500] openstackgerrit: Matt Thompson proposed a change to stackforge/cookbook-openstack-network: Clean up cookbook for bp/clean-up-attr-for-mq-and-db  https://review.openstack.org/67248
[2014-01-17 14:00:11 -0500] openstackgerrit: Matt Thompson proposed a change to stackforge/cookbook-openstack-common: Initial step to clean up db and mq attributes  https://review.openstack.org/66873
[2014-01-17 14:01:17 -0500] openstackgerrit: Matt Thompson proposed a change to stackforge/cookbook-openstack-common: Initial step to clean up db and mq attributes  https://review.openstack.org/66873
[2014-01-17 14:08:19 -0500] openstackgerrit: Matt Thompson proposed a change to stackforge/cookbook-openstack-common: Initial step to clean up db and mq attributes  https://review.openstack.org/66873
[2014-01-17 14:17:09 -0500] openstackgerrit: Matt Thompson proposed a change to stackforge/cookbook-openstack-common: Initial step to clean up db and mq attributes  https://review.openstack.org/66873
[2014-01-17 14:36:25 -0500] openstackgerrit: Hugh Saunders proposed a change to stackforge/openstack-chef-repo: Remove Berksfile.lock  https://review.openstack.org/67478
[2014-01-17 14:40:22 -0500] openstackgerrit: Hugh Saunders proposed a change to stackforge/openstack-chef-repo: Remove Berksfile.lock  https://review.openstack.org/67478
[2014-01-17 14:50:12 -0500] openstackgerrit: Hugh Saunders proposed a change to stackforge/openstack-chef-repo: Remove Berksfile.lock  https://review.openstack.org/67478
[2014-01-17 14:57:29 -0500] openstackgerrit: Matt Thompson proposed a change to stackforge/cookbook-openstack-common: Initial step to clean up db and mq attributes  https://review.openstack.org/66873
[2014-01-17 15:03:17 -0500] openstackgerrit: Matt Thompson proposed a change to stackforge/cookbook-openstack-network: Clean up cookbook for bp/clean-up-attr-for-mq-and-db  https://review.openstack.org/67248
[2014-01-17 15:55:42 -0500] openstackgerrit: Justin Shepherd proposed a change to stackforge/cookbook-openstack-identity: Rubocop support for providers/*.rb  https://review.openstack.org/66089
[2014-01-17 15:59:43 -0500] openstackgerrit: Hugh Saunders proposed a change to stackforge/openstack-chef-repo: Remove Berksfile.lock  https://review.openstack.org/67478
[2014-01-17 16:01:19 -0500] openstackgerrit: Justin Shepherd proposed a change to stackforge/cookbook-openstack-identity: Rubocop support for spec/*.rb  https://review.openstack.org/67328
[2014-01-17 16:16:50 -0500] galstrom: mattt: ping?
[2014-01-17 16:16:57 -0500] galstrom: can you look at the question in https://review.openstack.org/#/c/66873/
[2014-01-17 16:19:27 -0500] mattt: galstrom: looking now
[2014-01-17 16:20:02 -0500] mattt: galstrom: i ripped those out of network's attributes
[2014-01-17 16:20:34 -0500] mattt: without reading the comments much :P
[2014-01-17 16:21:12 -0500] mattt: galstrom: your question seems to make sense -- let me try it and run tests and see what happens
[2014-01-17 16:21:15 -0500] galstrom: yeah.. i just had a gating quetion
[2014-01-17 16:21:18 -0500] galstrom: question*
[2014-01-17 16:21:28 -0500] galstrom: are they namespaced the same?
[2014-01-17 16:21:48 -0500] galstrom: cause i am worried if they are not.. nothing else will gate until that sweeping change is done on all cookbooks
[2014-01-17 16:21:53 -0500] mattt: galstrom: https://github.com/stackforge/cookbook-openstack-network/blob/master/attributes/default.rb#L53-L71
[2014-01-17 16:22:06 -0500] galstrom: i know you moved some of them around in the namespace
[2014-01-17 16:22:07 -0500] mattt: namespacing has changed but i've updated all references to those attributes
[2014-01-17 16:22:15 -0500] galstrom: haha..
[2014-01-17 16:22:19 -0500] galstrom: mattt: the other question
[2014-01-17 16:22:22 -0500] galstrom: not the inline one
[2014-01-17 16:22:24 -0500] galstrom: :)
[2014-01-17 16:22:40 -0500] galstrom: the inline question wont block anything
[2014-01-17 16:22:47 -0500] galstrom: just cosmetic
[2014-01-17 16:24:29 -0500] mancdaz: galstrom - what gating?
[2014-01-17 16:24:47 -0500] mattt: galstrom: i had it at one stage so that the common commit wouldn't break stuff
[2014-01-17 16:25:08 -0500] mattt: galstrom: but i reworked some stuff this morning for @mattray and i think those will now break other cookbooks
[2014-01-17 16:25:26 -0500] mattt: so i would recommend merging these together otherwise KABOOM
[2014-01-17 16:25:54 -0500] galstrom: ok..
[2014-01-17 16:26:06 -0500] mattt: galstrom: the issue is mainly https://review.openstack.org/#/c/66873/13/attributes/messaging.rb
[2014-01-17 16:26:19 -0500] mattt: we now wrap the qpid/rabbit attributes in a case statement, so they don't necessarily get set
[2014-01-17 16:26:23 -0500] mattt: which breaks a bunch of tests
[2014-01-17 16:26:32 -0500] mattt: (i've updated those tests but obviously those changes are pending)
[2014-01-17 16:26:39 -0500] galstrom: ok..
[2014-01-17 16:27:00 -0500] galstrom: so can the cookbooks be merged prior to the commom merge? or are they dependent on the common merge
[2014-01-17 16:27:20 -0500] galstrom: this is the whole circle dep gating issue.. that i love so very much
[2014-01-17 16:27:22 -0500] galstrom: :)
[2014-01-17 16:27:23 -0500] mattt: most depend on the updated namespacing in common
[2014-01-17 16:28:27 -0500] mattt: galstrom: did you see my comment about the qpid/rabbit default settings?  are you ok w/ that ?
[2014-01-17 16:28:38 -0500] mattt: because i did look and both have the same defaults
[2014-01-17 16:28:40 -0500] galstrom: mattt: which one?
[2014-01-17 16:28:42 -0500] galstrom: yes
[2014-01-17 16:28:44 -0500] galstrom: i saw that one..
[2014-01-17 16:28:46 -0500] galstrom: ty
[2014-01-17 16:28:53 -0500] galstrom: then you have it in the right spot
[2014-01-17 16:29:00 -0500] galstrom: if it is not specific to either imp
[2014-01-17 16:29:16 -0500] mattt: mattray: you there ?
[2014-01-17 16:29:31 -0500] mattray: mattt: now I am
[2014-01-17 16:29:47 -0500] mattt: mattray: hey, two questions/comments about your reviews
[2014-01-17 16:30:02 -0500] mattt: mattray: https://review.openstack.org/#/c/66873/13/attributes/messaging.rb -- is it fine to leave this as is or do i need to wrap in a block?
[2014-01-17 16:30:36 -0500] mattt: mattray: also, the db_type => service_type attribute name change is pretty big (it touches pretty much everything); can i make that change in another pass?
[2014-01-17 16:32:01 -0500] mattray: mattt: it's fine, we can make it better in another review
[2014-01-17 16:32:17 -0500] mattray: and db_type => service_type, leave it alone if it's too intrusive for now
[2014-01-17 16:32:35 -0500] hughsaunders: galstrom: do you know why this didn't get merged after approval? https://review.openstack.org/#/c/67283/ I can't see any related jobs in zuul
[2014-01-17 16:32:46 -0500] galstrom: mattt: one more question.. where did node['openstack']['db'][<service>]['username'] come from?
[2014-01-17 16:32:57 -0500] galstrom: hughsaunders: ill look in a sec
[2014-01-17 16:33:05 -0500] mattt: mattray: cool, i have a TODO list of further changes to make, i'm just worried about delaying longer because more and more changes are coming in and it's a lot of rebasing going on :)
[2014-01-17 16:33:29 -0500] mattt: galstrom: those came from the cookbooks that create dbs -- compute, image, etc.
[2014-01-17 16:33:31 -0500] mattray: hughsaunders: looks like it needs another approval from core
[2014-01-17 16:33:36 -0500] galstrom: hughsaunders: jenkins is super slow today.. it was also yesterday
[2014-01-17 16:33:43 -0500] mattray: that too
[2014-01-17 16:33:58 -0500] hughsaunders: mattray: you+galstrom should be enough though ?
[2014-01-17 16:34:10 -0500] mattt: galstrom: for example: https://github.com/stackforge/cookbook-openstack-compute/blob/master/attributes/default.rb#L26
[2014-01-17 16:34:12 -0500] galstrom: mattray: i has 2 x +2s and a Approve
[2014-01-17 16:34:25 -0500] mattray: hughsaunders: yeah, getting to reviews now
[2014-01-17 16:34:28 -0500] galstrom: mattt: ok.. thanks
[2014-01-17 16:35:20 -0500] mattt: galstrom / mattray: there was a suggestion to move attributes like this into common (https://github.com/stackforge/cookbook-openstack-ops-database/blob/master/attributes/default.rb#L20)  however i didn't do that
[2014-01-17 16:35:43 -0500] mattt: what are your thoughts?  my opinion was that they should be there because no other cookbook uses those attributes and they pertain to that specific cookbook only
[2014-01-17 16:36:29 -0500] galstrom: mattt: that is a control variable for the database server.. that is not a <service> attribute
[2014-01-17 16:36:41 -0500] galstrom: so you would not have a bind for network and a different bind for compute
[2014-01-17 16:38:01 -0500] galstrom: and for the moment all cookbooks handle their own bind ports.. in their attribute files
[2014-01-17 16:38:06 -0500] galstrom: i vote to keep it where it is
[2014-01-17 16:38:09 -0500] mattt: agreed
[2014-01-17 16:38:18 -0500] galstrom: mattray: opinion?
[2014-01-17 16:38:47 -0500] mattray: seems fine
[2014-01-17 16:39:35 -0500] galstrom: hughsaunders: so jenkins is running through the two updates i made to -identity now.. which means that yours should be up here in a bit
[2014-01-17 16:39:52 -0500] hughsaunders: galstrom: just me being impatient then!
[2014-01-17 16:40:06 -0500] mattt: it was salman who made the suggestion (https://review.openstack.org/#/c/67250/1/attributes/default.rb), i'll catch up w/ him about it later
[2014-01-17 16:40:11 -0500] galstrom: hughsaunders: you and me both
[2014-01-17 16:40:19 -0500] galstrom: jenkins is running like a dog lately
[2014-01-17 16:40:35 -0500] galstrom: 204 events in queue
[2014-01-17 16:40:54 -0500] hughsaunders: starting now
[2014-01-17 16:41:25 -0500] galstrom: ish
[2014-01-17 16:43:02 -0500] galstrom: claco: https://review.openstack.org/#/c/67230/2/Strainerfile
[2014-01-17 16:45:16 -0500] mattt: galstrom: i can't wrap those eventlet network db attributes in an if because the template assumes they always exist -- we'd have to rework the template a bit
[2014-01-17 16:45:19 -0500] mattt: that will require a bit more testing
[2014-01-17 16:46:28 -0500] galstrom: mattt: ok.. diff merge-prop
[2014-01-17 16:46:33 -0500] galstrom: works for me
[2014-01-17 16:46:50 -0500] openstackgerrit: A change was merged to stackforge/openstack-chef-repo: Add openstack-orchestration to chef-repo Berksfile.  https://review.openstack.org/67283
[2014-01-17 16:47:20 -0500] galstrom: so jenkins is faster this morning than it was last night..
[2014-01-17 16:47:35 -0500] galstrom: it was taking like 2 hours before a job was run
[2014-01-17 16:49:28 -0500] mattt: leaving the office, i'll pop back online later this evening to answer any remaining questions about this blueprint
[2014-01-17 16:49:47 -0500] galstrom: mattt: ty
[2014-01-17 17:22:10 -0500] openstackgerrit: Matt Ray proposed a change to stackforge/cookbook-openstack-block-storage: Unified Rubocop cleanups under single file.  https://review.openstack.org/67008
[2014-01-17 17:23:14 -0500] mattray: hmm http://logs.openstack.org/08/67008/4/check/gate-cookbook-openstack-block-storage-chef-lint/94664af LOST
[2014-01-17 17:23:27 -0500] mattray: that's an interesting jenkins failure
[2014-01-17 17:32:32 -0500] claco: ha. I saw that. that's why it's faster today...it's just losing things. :-)
[2014-01-17 17:34:36 -0500] claco: oh my. http://status.openstack.org/zuul/
[2014-01-17 17:35:53 -0500] paulczar: that's cool!
[2014-01-17 17:37:34 -0500] ctracey: paulczar, i didnt forget about your pull
[2014-01-17 17:38:01 -0500] ctracey: just trying to get other things sorted before i make some changes
[2014-01-17 17:38:29 -0500] paulczar: ctracey: np,   not even sure its useful,  just did a thing and figured I should push it
[2014-01-17 17:38:49 -0500] ctracey: nah man...keep emcoming
[2014-01-17 17:39:46 -0500] paulczar: need to convince $JOB that they should just pay me to fuck about with random open source projects all day
[2014-01-17 17:39:48 -0500] ctracey: started this: https://github.com/craigtracey/cookbook-openstack-omnibus
[2014-01-17 17:40:06 -0500] ctracey: i thought thats what $JOB sells
[2014-01-17 17:40:45 -0500] paulczar: yeah,  but I'm *supposed* to be focussed on just one
[2014-01-17 17:41:12 -0500] paulczar: cool!  btw,  maybe runit instead of upstart?  potentially more portable  generally less shit than upstart
[2014-01-17 17:41:44 -0500] paulczar: and the chef runit cookbook has some solid lwrps/templating
[2014-01-17 17:42:12 -0500] ctracey: paulczar, https://github.com/craigtracey/cookbook-openstack-omnibus/commit/61eaed96b6a1aae20b6c9d461a878dc8b954f6e6
[2014-01-17 17:42:13 -0500] ctracey: :)
[2014-01-17 17:42:43 -0500] ctracey: in the plans...i just need a baseline with as little noise as possible
[2014-01-17 17:42:52 -0500] ctracey: then grow it from there
[2014-01-17 17:44:04 -0500] paulczar: It might even be useful having both cookbook::upstart and cookbook::runit and let the user choose
[2014-01-17 17:44:19 -0500] ctracey: thats exactly what i plan
[2014-01-17 17:44:44 -0500] ctracey: itll all be attribute driven
[2014-01-17 18:14:50 -0500] ctracey: friendly remind that the openstack board elections end today
[2014-01-17 18:14:58 -0500] ctracey: http://www.openstack.org/election/2014-individual-director-election/CandidateList/
[2014-01-17 19:01:54 -0500] mattray: apparently OpenStack CI has rebooted and working again
[2014-01-17 19:10:25 -0500] aspiers: https://github.com/stackforge/cookbook-openstack-identity/blob/master/spec/register_spec.rb#L3 is a braino, right?
[2014-01-17 19:10:36 -0500] aspiers: it's not describing Chef::Provider::Execute
[2014-01-17 19:53:28 -0500] claco: mattray: galstrom_zzz: can someone relook at https://review.openstack.org/#/c/67201/.  The other 2 deps are approved and ready to go. Thanks!
[2014-01-17 19:53:44 -0500] mattray: claco: doing reviews right now
[2014-01-17 19:53:50 -0500] claco: cools
[2014-01-17 19:54:00 -0500] claco: I suspect... a rebase. because you know, why not. :-)
[2014-01-17 19:54:04 -0500] mattray: I already +2d that
[2014-01-17 19:54:39 -0500] mattray: we need more core reviewers
[2014-01-17 20:00:16 -0500] openstackgerrit: A change was merged to stackforge/cookbook-openstack-block-storage: explicitly set volumes_dir in cinder.conf  https://review.openstack.org/67100
[2014-01-17 20:03:20 -0500] claco: aspiers: yes, I think it should just be the string...like this: https://github.com/stackforge/cookbook-openstack-image/blob/master/spec/registry_spec.rb#L4
[2014-01-17 20:03:37 -0500] mrodden1: so this is causing me some issues with my deployment work lately https://github.com/stackforge/cookbook-openstack-common/commit/5d3e7237d3420e9a7a388b0c7a1d827816fda4a3#diff-55bf87238c9b8af164c5133a60721f12
[2014-01-17 20:03:50 -0500] mrodden1: we deploy on RHEL but do not use RDO packages
[2014-01-17 20:03:54 -0500] ctracey: anyone ever have experience with execute not honoring path?
[2014-01-17 20:04:07 -0500] ctracey: mattray, i will be on some shortly
[2014-01-17 20:04:18 -0500] claco: ctracey: got a quick gist of that resource block?
[2014-01-17 20:04:18 -0500] mrodden1: and i'm pretty sure it is a support problem if you install those on RHEL oddly enough
[2014-01-17 20:05:15 -0500] ctracey: http://paste.openstack.org/show/61470/
[2014-01-17 20:05:22 -0500] mattray: ctracey: execute can be picky, cwd and environment http://docs.opscode.com/chef/resources.html#id66
[2014-01-17 20:05:28 -0500] ctracey: it only looks like that bc I have tried it every which way
[2014-01-17 20:05:57 -0500] claco: what happens?
[2014-01-17 20:06:27 -0500] claco: ctracey: path is the path to the thing to execute, including the thing to execute..
[2014-01-17 20:06:38 -0500] claco: cwd sets the working directory
[2014-01-17 20:07:04 -0500] claco: in that gist, I would exepect nothing to run right?
[2014-01-17 20:07:13 -0500] ctracey: nothing ran
[2014-01-17 20:07:24 -0500] ctracey: path is not ENV['path'] ?
[2014-01-17 20:07:32 -0500] claco: change path() to cwd()
[2014-01-17 20:07:34 -0500] mattray: claco: docs say path is directory, resets $PATH completely
[2014-01-17 20:07:48 -0500] claco: I've never been successful that way...
[2014-01-17 20:07:48 -0500] ctracey: heh
[2014-01-17 20:08:05 -0500] claco: but, take that as a grain of salt...
[2014-01-17 20:08:13 -0500] mattray: ctracey: the command could be trying to use something else in your standard path that is no longer available
[2014-01-17 20:08:55 -0500] claco: oh...wait...
[2014-01-17 20:08:55 -0500] mattray: when you set path ["/opt/openstack/keystone/bin/"], stuff like sed and awk are no longer in your path
[2014-01-17 20:09:13 -0500] mattray: no more /bin:/usr/bin
[2014-01-17 20:09:15 -0500] claco: this won't use .openrc will it?
[2014-01-17 20:09:21 -0500] mattray: nope
[2014-01-17 20:09:32 -0500] ctracey: ill try to drop PATH in there too
[2014-01-17 20:09:33 -0500] claco: so, you need thing sin environment() to make that call successful?
[2014-01-17 20:10:11 -0500] mattray: claco: probably, or make the call "source .openrc; command"
[2014-01-17 20:10:22 -0500] mattray: with paths and stuff
[2014-01-17 20:10:36 -0500] mattray: execute is a pain
[2014-01-17 20:11:00 -0500] claco: digging through our stuff out of curiousity now..
[2014-01-17 20:11:30 -0500] ctracey: still no dice with ENV['PATH']
[2014-01-17 20:11:34 -0500] ctracey: very odd
[2014-01-17 20:11:44 -0500] mrodden: would anyone be against me dropping in something liek "only_if node['openstack']['enable_rdo']" in these yum repo resource blocks ? https://review.openstack.org/gitweb?p=stackforge/cookbook-openstack-common.git;a=blob;f=recipes/default.rb;h=c7e6e28809d129d791ab16319b32f75c8aa10384;hb=5e7592dc180bc30348afe7b1ecb3328d0fbacc5e#l40
[2014-01-17 20:11:45 -0500] claco: ctracey: https://github.com/rcbops-cookbooks/keystone/blob/815f9a66feb86ea341863eea51eb1cd57979e935/recipes/setup.rb#L57
[2014-01-17 20:11:53 -0500] mattray: -l debug should give you some pointers
[2014-01-17 20:12:26 -0500] ctracey: claco, that is when keystone-manage is part of your PATH
[2014-01-17 20:12:43 -0500] ctracey: mattray, yeah....tried that too
[2014-01-17 20:12:43 -0500] mattray: mrodden: fine by me. Forgive my ignorance, where all do RHEL packages come from if not RDO?
[2014-01-17 20:12:44 -0500] ctracey: no love
[2014-01-17 20:13:01 -0500] mrodden: mattray: we have our own packages and repo that we ship
[2014-01-17 20:13:08 -0500] mrodden: they predate the existence of RDO
[2014-01-17 20:13:29 -0500] claco: ctracey: snenanigans! :-)
[2014-01-17 20:13:47 -0500] mrodden: also we run on python 2.6 because RH doesn't officially support 2.7 for some reason on RHEL6
[2014-01-17 20:14:02 -0500] mrodden: so there is a definite conflict
[2014-01-17 20:14:14 -0500] mattray: mrodden: makes sense
[2014-01-17 20:14:18 -0500] mattray: also, my condolences
[2014-01-17 20:14:27 -0500] ctracey: seriously
[2014-01-17 20:14:27 -0500] mrodden: np
[2014-01-17 20:14:28 -0500] ctracey: hah
[2014-01-17 20:14:43 -0500] ctracey: i am tackling that differently
[2014-01-17 20:14:43 -0500] mrodden: just disappointed I didn't see it while it was in review
[2014-01-17 20:14:49 -0500] ctracey: with a wrapper cookbook
[2014-01-17 20:14:53 -0500] mattray: I'm looking forward to ctracey's Omnibus Linux
[2014-01-17 20:15:18 -0500] mrodden: wrapper cookbook for yum repo?
[2014-01-17 20:15:26 -0500] ctracey: yeah...no more RDO, no more ubuntu, no more f$%kin distros!
[2014-01-17 20:15:32 -0500] ctracey: no for omnibus
[2014-01-17 20:15:36 -0500] claco: ctracey: also... you'e executing as root... not the keystone user?
[2014-01-17 20:15:57 -0500] mattray: ctracey: debian docker on coreOS with Omnibus OpenStack right?
[2014-01-17 20:15:57 -0500] ctracey: shouldnt make a different
[2014-01-17 20:15:59 -0500] ctracey: difference*
[2014-01-17 20:16:00 -0500] claco: gotta be something simple
[2014-01-17 20:16:17 -0500] ctracey: if i run by hand it works
[2014-01-17 20:16:26 -0500] ctracey: im sure it is
[2014-01-17 20:16:48 -0500] claco: but you're logged in...but execute is non-interactive
[2014-01-17 20:17:01 -0500] ctracey: mrodden, are you just suggesting using another conditional for rhel?
[2014-01-17 20:17:53 -0500] mrodden: well for RDO repos
[2014-01-17 20:17:54 -0500] ctracey: claco, well shit...that might just be it
[2014-01-17 20:18:00 -0500] ctracey: let me try to run sudo keystone
[2014-01-17 20:19:04 -0500] mrodden: right now i have another recipe that runs just before the openstack ones in a runlist that drops in our yum repo entries
[2014-01-17 20:19:20 -0500] mrodden: problem is that our packages and RDO packages can't coexist
[2014-01-17 20:19:49 -0500] mrodden: and i don't like the idea of dropping in a bunch of yum repos on systems unless they are needed for sure
[2014-01-17 20:20:02 -0500] ctracey: it works as keystone too
[2014-01-17 20:20:03 -0500] ctracey: heh
[2014-01-17 20:20:35 -0500] ctracey: well  that is how apt works
[2014-01-17 20:20:42 -0500] ctracey: early in runlist we setup apt
[2014-01-17 20:20:52 -0500] ctracey: and then use it for the packages
[2014-01-17 20:21:05 -0500] mrodden: right
[2014-01-17 20:21:55 -0500] mrodden: but i'm saying this resource will always drop in the RDO repo on RHEL family, there is no way to disable it unless i override the resource later  https://review.openstack.org/gitweb?p=stackforge/cookbook-openstack-common.git;a=blob;f=recipes/default.rb;h=c7e6e28809d129d791ab16319b32f75c8aa10384;hb=5e7592dc180bc30348afe7b1ecb3328d0fbacc5e#l47
[2014-01-17 20:22:00 -0500] mrodden: which i would rather not do
[2014-01-17 20:24:02 -0500] mrodden: can figure out the details later when the patch is up to work around it i guess
[2014-01-17 20:24:42 -0500] ctracey: oh so wrap it witch enable_rdo?
[2014-01-17 20:24:42 -0500] claco: crap.. I was thinking of path on dir... my bad. #BrainWrotFriday
[2014-01-17 20:25:04 -0500] openstackgerrit: A change was merged to stackforge/cookbook-openstack-metering: Update attributes to be rubocop compliant  https://review.openstack.org/67201
[2014-01-17 20:25:06 -0500] mrodden: ctracey: right, wrap or put an only_if condition in the resource blocks
[2014-01-17 20:26:10 -0500] ctracey: yeah...seems to make sense
[2014-01-17 20:26:12 -0500] ctracey: i mean except for the whole using rhel thing ;)
[2014-01-17 20:26:12 -0500] ctracey: sorry...too easy
[2014-01-17 20:26:16 -0500] ctracey: ouch tough room :)
[2014-01-17 20:26:50 -0500] openstackgerrit: A change was merged to stackforge/openstack-chef-repo: Add environment and roles for heat support  https://review.openstack.org/66754
[2014-01-17 20:29:01 -0500] openstackgerrit: A change was merged to stackforge/cookbook-openstack-common: Add charset=utf8 to DB2 URI  https://review.openstack.org/67352
[2014-01-17 20:31:19 -0500] openstackgerrit: A change was merged to stackforge/cookbook-openstack-dashboard: Support customize the dashboard http/https port  https://review.openstack.org/65915
[2014-01-17 20:31:34 -0500] openstackgerrit: A change was merged to stackforge/cookbook-openstack-network: Migrate network database  https://review.openstack.org/67368
[2014-01-17 20:35:09 -0500] openstackgerrit: A change was merged to stackforge/cookbook-openstack-dashboard: upgrade local_settings.py.erb to havana.  https://review.openstack.org/65850
[2014-01-17 20:36:19 -0500] ctracey: claco, i have a much better solution anyhow
[2014-01-17 20:36:23 -0500] ctracey: my change would have required that I update the chef4openstack cookbooks to support path
[2014-01-17 20:36:30 -0500] ctracey: but I am just going to set it early on
[2014-01-17 20:39:19 -0500] galstrom: claco: rebase https://review.openstack.org/#/c/67215/
[2014-01-17 20:39:52 -0500] claco: galstrom: ...ha... doing 66930 atm (dashboard)
[2014-01-17 20:39:58 -0500] galstrom: ok
[2014-01-17 20:40:00 -0500] claco: dashboard spec rubo
[2014-01-17 20:40:04 -0500] galstrom: faster!
[2014-01-17 20:41:14 -0500] openstackgerrit: Christopher H. Laco proposed a change to stackforge/cookbook-openstack-dashboard: Update specs to be rubocop compliant  https://review.openstack.org/66930
[2014-01-17 20:41:47 -0500] claco: what does "OUTDATED" mean on a dep anyways?
[2014-01-17 20:41:56 -0500] claco: esp since it...merged...ha
[2014-01-17 20:42:12 -0500] openstackgerrit: A change was merged to stackforge/cookbook-openstack-compute: Move to use "get_password" instead of "{user,service,db}_password"  https://review.openstack.org/66798
[2014-01-17 20:47:01 -0500] openstackgerrit: Christopher H. Laco proposed a change to stackforge/cookbook-openstack-metering: Update recipes to be rubocop compliant  https://review.openstack.org/67215
[2014-01-17 21:02:56 -0500] openstackgerrit: Christopher H. Laco proposed a change to stackforge/cookbook-openstack-metering: Update specs to be rubocop compliant  https://review.openstack.org/67230
[2014-01-17 21:11:27 -0500] galstrom: retr0h: can you take a look at the following reviews?
[2014-01-17 21:11:42 -0500] galstrom: https://review.openstack.org/#/c/66089/
[2014-01-17 21:11:56 -0500] galstrom: https://review.openstack.org/#/c/66730/
[2014-01-17 21:12:03 -0500] galstrom: https://review.openstack.org/#/c/66915/
[2014-01-17 21:12:49 -0500] galstrom: alanmeadows: ^^^^
[2014-01-17 21:12:57 -0500] galstrom: spheromak: ^^^^
[2014-01-17 21:13:04 -0500] galstrom: ctracey: ^^^^
[2014-01-17 21:13:58 -0500] galstrom: retr0h, alanmeadows, spheromak, ctracey: https://review.openstack.org/#/c/66085/
[2014-01-17 21:14:17 -0500] galstrom: retr0h, alanmeadows, spheromak, ctracey: https://review.openstack.org/#/c/66966/
[2014-01-17 21:14:37 -0500] claco: omg
[2014-01-17 21:14:45 -0500] claco: step away from coffee. :-)
[2014-01-17 21:14:53 -0500] galstrom: claco: shut it
[2014-01-17 21:16:17 -0500] mattt: galstrom: you said ohio, that is the insult
[2014-01-17 21:16:33 -0500] mattt: my work here is done
[2014-01-17 21:16:52 -0500] galstrom: mattt: agreed.. too many options.. could not pick just one
[2014-01-17 21:17:39 -0500] ctracey: galstrom, i will be crankin through reviews this evening
[2014-01-17 21:17:49 -0500] ctracey: unfortunately I am stuck atm
[2014-01-17 21:18:43 -0500] galstrom: ctracey: np.. thanks
[2014-01-17 21:21:16 -0500] openstackgerrit: Christopher H. Laco proposed a change to stackforge/cookbook-openstack-metering: Update specs to be rubocop compliant  https://review.openstack.org/67580
[2014-01-17 21:23:57 -0500] spheromak: heh
[2014-01-17 21:26:24 -0500] galstrom: mattray: need to rebase https://review.openstack.org/#/c/67008/
[2014-01-17 21:26:53 -0500] mattray: galstrom: getting to it
[2014-01-17 21:35:51 -0500] openstackgerrit: Matt Ray proposed a change to stackforge/cookbook-openstack-block-storage: Unified Rubocop cleanups under single file.  https://review.openstack.org/67008
[2014-01-17 21:37:40 -0500] claco: mattray: 37th patchset's a sure winner here. :-)
[2014-01-17 21:38:20 -0500] mattray: claco: rubocop has lost all meaning to me, I'm just in a fight with gerrit at this point
[2014-01-17 21:38:57 -0500] claco: ha ha
[2014-01-17 21:39:18 -0500] claco: gating cross cutting concerns is wonderful experience. :-)
[2014-01-17 21:40:31 -0500] claco: the larger patchset was almost quicker, since it was more to review, but less rebase cycles to do it.
[2014-01-17 21:40:42 -0500] mattray: claco: agreed
[2014-01-17 21:40:58 -0500] mattray: speaking of, https://review.openstack.org/#/c/66915/ passed jenkins, merge it ASAP!
[2014-01-17 21:40:59 -0500] claco: they mostly rebase at night. mostly.
[2014-01-17 21:44:22 -0500] openstackgerrit: A change was merged to stackforge/cookbook-openstack-metering: Update recipes to be rubocop compliant  https://review.openstack.org/67215
[2014-01-17 21:44:26 -0500] spheromak: https://review.openstack.org/#/c/66915/ want it merged ?
[2014-01-17 21:45:05 -0500] spheromak: i should really be doing work
[2014-01-17 21:45:08 -0500] openstackgerrit: A change was merged to stackforge/cookbook-openstack-dashboard: Update specs to be rubocop compliant  https://review.openstack.org/66930
[2014-01-17 21:45:08 -0500] spheromak: and not this  :D
[2014-01-17 21:46:17 -0500] claco: spheromak: just make "work" == $this
[2014-01-17 21:47:14 -0500] spheromak: yea
[2014-01-17 21:47:39 -0500] spheromak: work right now is = building pipelines for delivering stuff into crazyland
[2014-01-17 21:47:48 -0500] claco: wait... jenkins merged something in less than 2 hours? Amazing!
[2014-01-17 21:51:51 -0500] openstackgerrit: A change was merged to stackforge/cookbook-openstack-network: Setting rubocop to run against the entire cookbook.  https://review.openstack.org/66730
[2014-01-17 21:53:36 -0500] openstackgerrit: Justin Shepherd proposed a change to stackforge/cookbook-openstack-dashboard: Move to use "get_password" instead of "{user,service,db}_password"  https://review.openstack.org/66801
[2014-01-17 21:54:24 -0500] openstackgerrit: A change was merged to stackforge/cookbook-openstack-identity: Rubocop support for providers/*.rb  https://review.openstack.org/66089
[2014-01-17 22:03:30 -0500] galstrom: whoa.. patch submitted at 15:53 jenkins verified at 16:00
[2014-01-17 22:08:58 -0500] openstackgerrit: A change was merged to stackforge/cookbook-openstack-metering: Update specs to be rubocop compliant  https://review.openstack.org/67580
[2014-01-17 22:35:56 -0500] openstackgerrit: A change was merged to stackforge/cookbook-openstack-object-storage: Update attributes to be rubocop compliant  https://review.openstack.org/67308
[2014-01-17 22:38:37 -0500] openstackgerrit: A change was merged to stackforge/cookbook-openstack-dashboard: Move to use "get_password" instead of "{user,service,db}_password"  https://review.openstack.org/66801
