[2014-06-16 02:08:58 -0400] openstackgerrit: David Geng proposed a change to stackforge/cookbook-openstack-compute: Remove the storage_availability_zone settings  https://review.openstack.org/97704
[2014-06-16 03:08:07 -0400] openstackgerrit: Eric Zhou proposed a change to stackforge/cookbook-openstack-orchestration: Allow region_name_for_services to be configured.  https://review.openstack.org/100127
[2014-06-16 03:24:54 -0400] openstackgerrit: Terry Yao proposed a change to stackforge/cookbook-openstack-compute: Add resize_confirm_window configuration option  https://review.openstack.org/100129
[2014-06-16 05:23:23 -0400] openstackgerrit: Eric Zhou proposed a change to stackforge/cookbook-openstack-orchestration: Allow region_name_for_services to be configured.  https://review.openstack.org/100127
[2014-06-16 08:10:14 -0400] openstackgerrit: Snow Cherry proposed a change to stackforge/cookbook-openstack-network: Add 3 interface ,and  physical_interface_mappings = physnet1:eth0  https://review.openstack.org/100182
[2014-06-16 13:33:22 -0400] openstackgerrit: Stephan Renatus proposed a change to stackforge/cookbook-openstack-network: Include the keystone client in the common recipe  https://review.openstack.org/100252
[2014-06-16 14:52:18 -0400] markvan: galstrom: Any ideas on why gate is still slow.  My patch https://review.openstack.org/#/c/97537/  takes only 9 minutes on my laptop, but is hitting 60 minute job timeout.
[2014-06-16 14:52:18 -0400] markvan: Is there a better way to do specs? I thought I was changing these for the better.
[2014-06-16 14:52:44 -0400] galstrom: markvan: not sure.. i will take a look
[2014-06-16 15:05:12 -0400] galstrom: markvan: it might just be busy workers
[2014-06-16 15:05:26 -0400] galstrom: since milestone1 came out.. zuul has been slammed
[2014-06-16 15:27:54 -0400] openstackgerrit: A change was merged to stackforge/cookbook-openstack-compute: Add resize_confirm_window configuration option  https://review.openstack.org/100129
[2014-06-16 15:30:41 -0400] mattray: https://plus.google.com/hangouts/_/hoaevent/AP36tYdu20dOEP0EwKf4IHTPFH_VMYzoxoPkjJsmcpArscoSYHMPjA?authuser=0&hl=en
[2014-06-16 15:31:21 -0400] mattray: Chef/OpenStack Weekly Status Meeting 6/16/2014
[2014-06-16 15:31:44 -0400] mattray: galstrom: markvan: salmanbaset: ctracey: ^^
[2014-06-16 15:32:18 -0400] mattray: iartarisi: srenatus: mrodden: mancdaz: ^^
[2014-06-16 15:32:28 -0400] mattray: YouTube; http://youtu.be/zJKl5lqtGNE
[2014-06-16 15:32:30 -0400] galstrom: mattray: will be a couple of minutes late
[2014-06-16 15:33:10 -0400] iartarisi: I'm in, listening only
[2014-06-16 15:40:59 -0400] iartarisi: mattray: I can put my trove cookbook in
[2014-06-16 15:41:13 -0400] mattray: iartarisi: sounds great
[2014-06-16 15:42:12 -0400] iartarisi: whoa, the youtube is off by 30 secs :)
[2014-06-16 15:50:33 -0400] iartarisi: YAY for killing JIRA!
[2014-06-16 16:01:20 -0400] openstackgerrit: A change was merged to stackforge/cookbook-openstack-integration-test: First pass at cookbook-openstack-integration-test  https://review.openstack.org/94647
[2014-06-16 16:27:56 -0400] openstackgerrit: Mark Vanderwiel proposed a change to stackforge/cookbook-openstack-compute: Allow flat_injected and use_ipv6 overrides  https://review.openstack.org/99480
[2014-06-16 16:36:06 -0400] openstackgerrit: Mark Vanderwiel proposed a change to stackforge/cookbook-openstack-orchestration: Increase spec coverage  https://review.openstack.org/97537
[2014-06-16 16:49:39 -0400] openstackgerrit: Ionut Artarisi proposed a change to stackforge/cookbook-openstack-database: initial basic setup  https://review.openstack.org/100294
[2014-06-16 16:52:41 -0400] openstackgerrit: Ionut Artarisi proposed a change to stackforge/cookbook-openstack-database: initial basic setup  https://review.openstack.org/100294
[2014-06-16 19:27:27 -0400] mattray: markvan: https://tickets.opscode.com/browse/CHEF-3193 has been updated
[2014-06-16 19:27:42 -0400] mattray: I knew they eventually got around to updating tickets
[2014-06-16 19:28:07 -0400] markvan: mattray: wow, looks really offical now. thx
[2014-06-16 19:28:16 -0400] mattray: thank you :)
[2014-06-16 19:33:44 -0400] openstackgerrit: A change was merged to stackforge/cookbook-openstack-integration-test: Automatic upload of needed image files to glance for tempest tests  https://review.openstack.org/99941
[2014-06-16 20:44:25 -0400] galstrom: markvan: ping
[2014-06-16 20:50:05 -0400] mattray: http://www.getchef.com/blog/2014/06/16/chef-issue-tracking-and-contribution-workflow-updates/
[2014-06-16 20:50:21 -0400] openstackgerrit: Justin Shepherd proposed a change to stackforge/cookbook-openstack-orchestration: Increase spec coverage  https://review.openstack.org/97537
[2014-06-16 20:50:30 -0400] mattray: per discussion in the status meeting, Chef's moving stuff out of Jira into GitHub
[2014-06-16 22:07:26 -0400] galstrom: markvan: checkout https://review.openstack.org/#/c/97537/ when you get a chance
[2014-06-16 22:50:09 -0400] Mike`: Hey all - I have a working 3 cluster OS (havana) environment and a working chef environment - but it seems like I'm missing the piece of the puzzle between them two.
[2014-06-16 22:50:54 -0400] Mike`: I've been passing userdata to new instances to bootstrap, but is there a more intuitive way of doing this rather than specicfying user-data manually each time?
[2014-06-16 23:16:44 -0400] mattray: Mike`: knife-openstack?
[2014-06-16 23:17:11 -0400] mattray: you're provisioning your nodes on top of your OS right?
[2014-06-16 23:24:58 -0400] Mike`: mattray: you there?
[2014-06-16 23:25:10 -0400] Mike`: What do you mean, 'on top of my OS'?
[2014-06-16 23:29:10 -0400] mattray: Mike`: on top of your OS, meaning nova instances
[2014-06-16 23:29:18 -0400] Mike`: Yes.
[2014-06-16 23:29:30 -0400] Mike`: I have a few R720's. one as a controller, and 2 as compute nodes.
[2014-06-16 23:29:40 -0400] mattray: knife openstack is going to request instances from the API and install Chef on them
[2014-06-16 23:30:09 -0400] Mike`: ORLY?
[2014-06-16 23:30:17 -0400] Mike`: is that by passing user-data?
[2014-06-16 23:30:59 -0400] Mike`: I'm deciding if that's the way to go, or to roll an ubuntu server image that registers with the chef server
[2014-06-16 23:31:25 -0400] Mike`: Is there a way to prefix this so the UI builds the VMs to that spec?
[2014-06-16 23:31:43 -0400] Mike`: I don't want to copy/paste into user-data field everytime
[2014-06-16 23:32:35 -0400] mattray: Mike`: yeah, you don't want to do that. You'll want to use the base Ubuntu images from https://cloud-images.ubuntu.com/
[2014-06-16 23:33:04 -0400] mattray: and knife-openstack will use your API credentials to SSH into the box
[2014-06-16 23:33:23 -0400] mattray: and then install Chef, then run your run list that you passed. All in 1 shot
[2014-06-16 23:33:37 -0400] mattray: no need for userdata
[2014-06-16 23:33:51 -0400] Mike`: hrm -
[2014-06-16 23:34:11 -0400] mattray: that's the typical Chef/cloud workflow
[2014-06-16 23:34:19 -0400] mattray: EC2, Rackspace, etc.
[2014-06-16 23:34:44 -0400] Mike`: Maybe I'm missing something here - if it uses my API credentials, what if the credentials on the VM don't match?
[2014-06-16 23:34:46 -0400] mattray: just enough OS on your instances, let Chef provision them the rest of the way
[2014-06-16 23:34:52 -0400] Mike`: I know - something is whizzing right over my head
[2014-06-16 23:35:42 -0400] mattray: Mike`: in the openstack UI, under your account somewhere, you can get a shared key
[2014-06-16 23:36:04 -0400] mattray: that'll be used to give you root (or the ubuntu user) when you spin up a box
[2014-06-16 23:36:48 -0400] mattray: knife openstack server create -A 'MyUsername' -K 'MyPassword' --openstack-api-endpoint 'http://cloud.mycompany.com:5000/v2.0/tokens' -f 1 -I 13 -S secret -i ~/.ssh/secret.pem -r 'role[webserver]'
[2014-06-16 23:37:34 -0400] mattray: http://docs.opscode.com/plugin_knife_openstack.html
[2014-06-16 23:38:12 -0400] mattray: the -S is your secret name, the -i is the path to it
[2014-06-16 23:38:22 -0400] Mike`: mattray: I was literally just reading that page lol
[2014-06-16 23:38:50 -0400] mattray: so under the covers knife is calling "ssh -i ~/.ssh/secret.pem"
[2014-06-16 23:39:03 -0400] mattray: and the "secret" gets injected into your instances by OpenStack
[2014-06-16 23:39:17 -0400] mattray: so you have the private key, the public key is injected
[2014-06-16 23:39:18 -0400] Mike`: which is really just an id_rsa?
[2014-06-16 23:39:22 -0400] mattray: yes
[2014-06-16 23:39:53 -0400] Mike`: the MyUsername and MyPassword are keystone credentials to login to horizon?
[2014-06-16 23:39:57 -0400] mattray: and if it's a CentOS user, it's 'root', for Ubuntu you need to specify the user with -u ubuntu and --sudo
[2014-06-16 23:40:02 -0400] mattray: Mike`: yes
[2014-06-16 23:40:23 -0400] Mike`: Ok, great. I'm going to need devs to spin up their own VMs via the API while not having access to destroy the infrastructure.
[2014-06-16 23:40:36 -0400] mattray: exactly
[2014-06-16 23:40:40 -0400] mattray: https://github.com/opscode/knife-openstack/blob/master/README.md has more docs
[2014-06-16 23:41:00 -0400] mattray: they use their Keystone creds, you put a quota on them and you're good to go
[2014-06-16 23:41:13 -0400] Mike`: hrmm.
[2014-06-16 23:41:31 -0400] Mike`: OH.
[2014-06-16 23:41:32 -0400] mattray: or no quota ;)
[2014-06-16 23:41:38 -0400] Mike`: deargodno. quota.
[2014-06-16 23:42:27 -0400] mattray: but knife-openstack is how most Chef users are going to want to manage their infrastructure on top of OpenStack
[2014-06-16 23:42:47 -0400] mattray: because then it's really portable, if you need to do knife-ec2 or knife-azure
[2014-06-16 23:43:08 -0400] mattray: or knife-rackspace or knife-hp, which are really similar to knife-openstack
[2014-06-16 23:43:33 -0400] mattray: I gotta run, but hit me up tomorrow if you still have questions
[2014-06-16 23:43:41 -0400] Mike`: I'll most definitely do that. Thanks!
