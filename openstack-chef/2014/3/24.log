[2014-03-24 08:37:18 -0400] nacer: mmmm it seem each compute node need to have acces to other compute node fpr live migration
[2014-03-24 08:45:37 -0400] nacer: "mkdir -p /var/lib/nova/instances/74ba86a5-58f3"
[2014-03-24 08:45:50 -0400] nacer: th weird part is that i use ceph
[2014-03-24 09:27:25 -0400] srenatus: nacer: /var/lib/nova/instances/$ID is still used, even when you use ceph, for (among others) libvirt.xml
[2014-03-24 09:27:54 -0400] srenatus: nacer: and the migration process is horrible enough to have nova ssh from one compute to another to create that
[2014-03-24 09:31:55 -0400] nacer: srenatus: ... :)
[2014-03-24 09:32:38 -0400] nacer: so perhaps we should add the ssh key of each compute node to other compute node with the stackforge installer
[2014-03-24 09:43:42 -0400] srenatus: nacer: sounds like blueprint material to me ;)
[2014-03-24 09:44:12 -0400] nacer: srenatus: yup
[2014-03-24 09:47:23 -0400] srenatus: nacer: note that it will also fail when the other compute node is not in known_hosts (in /etc/ssh/ for example)
[2014-03-24 09:48:59 -0400] nacer: srenatus: yup
[2014-03-24 09:55:34 -0400] nacer: srenatus: so right now even without ceph , live migration don't work ?
[2014-03-24 09:58:42 -0400] nacer: srenatus: https://blueprints.launchpad.net/openstack-chef/+spec/live-migration
[2014-03-24 15:00:48 -0400] mattray: Weekly Status Meeting: https://plus.google.com/hangouts/_/hoaevent/AP36tYc4nh4C3tnQADmEkrah7y396HQ8otqI_2L9TpGYn3orJe-d6A?authuser=0&hl=en
[2014-03-24 15:01:32 -0400] mattray: YouTube: http://youtu.be/XNRV2YnVrQU
[2014-03-24 15:01:48 -0400] nacer: hi mattray
[2014-03-24 15:02:32 -0400] mattray: nacer: greetings
[2014-03-24 15:04:44 -0400] mattray: galstrom: you coming?
[2014-03-24 15:04:50 -0400] mattray: spheromak: ^^
[2014-03-24 15:13:04 -0400] openstackgerrit: Nacer Laradji proposed a change to stackforge/cookbook-openstack-network: Ml2 plugin tpl should be in a 'case' declaration like other tpl  https://review.openstack.org/81553
[2014-03-24 15:17:10 -0400] galstrom: mancdaz: ping
[2014-03-24 15:17:20 -0400] mancdaz: galstrom: pong
[2014-03-24 15:17:38 -0400] galstrom: mancdaz: can you confirm status on these bps?
[2014-03-24 15:17:49 -0400] galstrom: https://blueprints.launchpad.net/openstack-chef/+spec/reference-havana-vagrant
[2014-03-24 15:17:55 -0400] galstrom: https://blueprints.launchpad.net/openstack-chef/+spec/centos-rhel-for-metering
[2014-03-24 15:18:00 -0400] galstrom: https://blueprints.launchpad.net/openstack-chef/+spec/centos-rhel-for-network
[2014-03-24 15:18:22 -0400] mancdaz: galstrom: metering I am going to mark as implemented as I tested successfully last week
[2014-03-24 15:18:56 -0400] mancdaz: the vagrant stuff, if we are happy with a aio nova network, an aio neutron, and a multinode neutron with gre, I would say is completed
[2014-03-24 15:19:42 -0400] mancdaz: network has been a bit of a moving target but I believe it's stable enough to be marked implemented
[2014-03-24 15:19:49 -0400] mancdaz: object I do not know
[2014-03-24 15:20:06 -0400] galstrom: mancdaz: on the vagrant one.. I am happy with the existing vagrant stuff.. i think we can mark it as completed
[2014-03-24 15:20:13 -0400] mancdaz: galstrom: done
[2014-03-24 15:20:29 -0400] galstrom: mancdaz: so network is done as well?
[2014-03-24 15:20:36 -0400] galstrom: mancdaz: all 3 closing?
[2014-03-24 15:21:29 -0400] galstrom: mancdaz: of course.. bugs happen.. just wanted to make sure you felt it was complete-ish
[2014-03-24 15:21:30 -0400] galstrom: :)
[2014-03-24 15:21:37 -0400] mancdaz: yup - have closed all 3 out
[2014-03-24 15:21:44 -0400] galstrom: mancdaz: thanks
[2014-03-24 15:22:10 -0400] mancdaz: galstrom: not sure what to do about object as that is blocking the parent bp
[2014-03-24 15:22:40 -0400] galstrom: mancdaz: i removed the dependency on the master.. and pushed object-storage to icehouse
[2014-03-24 15:22:48 -0400] mancdaz: sweet
[2014-03-24 15:25:16 -0400] galstrom: markvan: here are the bps for status updates from your team
[2014-03-24 15:25:23 -0400] galstrom: https://blueprints.launchpad.net/openstack-chef/+spec/move-keystone-authtoken-move-auth-uri-logic
[2014-03-24 15:25:28 -0400] galstrom: https://blueprints.launchpad.net/openstack-chef/+spec/neutron-ml2
[2014-03-24 15:25:32 -0400] galstrom: https://blueprints.launchpad.net/openstack-chef/+spec/vmwareapi-support
[2014-03-24 15:25:37 -0400] galstrom: https://blueprints.launchpad.net/openstack-chef/+spec/metering-nosql-support
[2014-03-24 15:26:27 -0400] markvan: galstrom: thx, looks in good shape there.
[2014-03-24 15:26:40 -0400] openstackgerrit: Nacer Laradji proposed a change to stackforge/cookbook-openstack-network: Ml2 plugin tpl should be in a 'case' declaration like other tpl  https://review.openstack.org/81553
[2014-03-24 15:26:46 -0400] galstrom: markvan: yeah.. all reviews filed against those bps have been merged..
[2014-03-24 15:26:58 -0400] galstrom: markvan: just wanted confirmation on completing them
[2014-03-24 15:27:41 -0400] markvan: Is this bug really need before branch? https://bugs.launchpad.net/openstack-chef/+bug/1286582    I see a bp outhere with other potential live migration work, so that seems like a icehouse item to me.
[2014-03-24 15:28:36 -0400] nacer: it should be in both
[2014-03-24 15:28:41 -0400] galstrom: markvan: I am ok with moving it to icehouse.. but salman mentioned he wanted it to get in havana
[2014-03-24 15:28:59 -0400] nacer: live migration is not only a feature of icehouse
[2014-03-24 15:29:09 -0400] galstrom: we can also continue to push code once we branch.. so
[2014-03-24 15:29:21 -0400] nacer: yep
[2014-03-24 15:29:39 -0400] markvan: ok, I'll check with him on his plans, just that one flag looks straight forward, but I know there's other live migration work todo https://blueprints.launchpad.net/openstack-chef/+spec/live-migration
[2014-03-24 15:29:52 -0400] galstrom: markvan: agreed ^^
[2014-03-24 15:30:10 -0400] nacer: mancdaz: i'm adding the bug in the comment of bp/live_migration
[2014-03-24 15:30:46 -0400] galstrom: markvan: so are you ok with me marking those 4 bps as completed?
[2014-03-24 15:31:09 -0400] nacer: galstrom: not for the neutron-ml2 :)
[2014-03-24 15:31:21 -0400] markvan: galstrom: I'm going through them now....
[2014-03-24 15:31:23 -0400] galstrom: ok.. leave ml2 open
[2014-03-24 15:31:39 -0400] galstrom: nacer: there are no active reviews for that bp
[2014-03-24 15:31:53 -0400] galstrom: nacer: nvm.. just saw it
[2014-03-24 15:32:06 -0400] galstrom: nacer: https://review.openstack.org/#/c/81553/
[2014-03-24 15:32:14 -0400] galstrom: it is not targeting the blueprint ^
[2014-03-24 15:32:22 -0400] nacer: oups
[2014-03-24 15:35:30 -0400] openstackgerrit: Nacer Laradji proposed a change to stackforge/cookbook-openstack-network: Ml2 plugin tpl should be in a 'case' declaration like other tpl  https://review.openstack.org/81553
[2014-03-24 15:36:45 -0400] nacer: galstrom: bp link
[2014-03-24 15:36:47 -0400] markvan: galstrom: yes I'm ok with marking other 3 as complete, thx.  I'll get David to help with ml2 patch review tonight.
[2014-03-24 15:36:53 -0400] galstrom: nacer: ty
[2014-03-24 15:37:15 -0400] galstrom: markvan: cool.. ill close out everything but the ml2 one.. which i marked as 'needs code review'
[2014-03-24 15:37:19 -0400] galstrom: markvan: thanks
[2014-03-24 15:39:07 -0400] galstrom: CURRENT STATUS: 1 open blueprint, 8 bugs in review, 1 open bug
[2014-03-24 15:41:17 -0400] galstrom: ctracey: can you rebase https://review.openstack.org/#/c/80122/ when you get a chance
[2014-03-24 15:41:31 -0400] markvan: galstrom: thx for staying on top of this.
[2014-03-24 15:41:42 -0400] galstrom: markvan: np
[2014-03-24 15:41:58 -0400] galstrom: markvan: but some one else will have to be release manager for icehouse :)
[2014-03-24 15:41:59 -0400] ctracey: galstrom, yessir. was PTO last week and totally disconnected
[2014-03-24 15:42:06 -0400] ctracey: which was *wonderful*
[2014-03-24 15:42:12 -0400] galstrom: ctracey: i bet..
[2014-03-24 15:42:13 -0400] ctracey: i will get to that today
[2014-03-24 15:42:21 -0400] galstrom: ctracey: welcome back.. typey typey
[2014-03-24 15:42:22 -0400] galstrom: :)
[2014-03-24 15:42:37 -0400] ctracey: the disconnected part...the disney with kids that arent yours...not so much
[2014-03-24 15:42:43 -0400] galstrom: hahahaha
[2014-03-24 15:42:48 -0400] galstrom: that sounds amazing
[2014-03-24 15:43:44 -0400] ctracey: FYI on that bug...
[2014-03-24 15:44:18 -0400] ctracey: used it as a live demo for our Boston user group of how to contribute to OpenStack
[2014-03-24 15:44:38 -0400] ctracey: fixed, committed, and sent to review live
[2014-03-24 15:44:58 -0400] galstrom: sweet
[2014-03-24 15:52:15 -0400] galstrom: spheromak, ctracey, markvan, mattray, alanmeadows, andymccr, iartarisi, retr0h_: These are open reviews that need looking at for branching:
[2014-03-24 15:52:23 -0400] galstrom: spheromak, ctracey, markvan, mattray, alanmeadows, andymccr, iartarisi, retr0h_: https://review.openstack.org/#/c/81341/
[2014-03-24 15:52:30 -0400] galstrom: spheromak, ctracey, markvan, mattray, alanmeadows, andymccr, iartarisi, retr0h_: https://review.openstack.org/#/c/81082/
[2014-03-24 15:52:38 -0400] galstrom: spheromak, ctracey, markvan, mattray, alanmeadows, andymccr, iartarisi, retr0h_:  https://review.openstack.org/#/c/81838/
[2014-03-24 15:52:50 -0400] galstrom: spheromak, ctracey, markvan, mattray, alanmeadows, andymccr, iartarisi, retr0h_: https://review.openstack.org/#/c/82220/
[2014-03-24 15:53:00 -0400] galstrom: spheromak, ctracey, markvan, mattray, alanmeadows, andymccr, iartarisi, retr0h_: https://review.openstack.org/#/c/81553/
[2014-03-24 15:57:06 -0400] iartarisi: aaagh!!! my hair is on fire!
[2014-03-24 15:57:22 -0400] ctracey: stop drop and roll
[2014-03-24 15:57:25 -0400] iartarisi: thanks for the list, galstrom
[2014-03-24 15:57:41 -0400] iartarisi: :)
[2014-03-24 15:58:25 -0400] galstrom: haha
[2014-03-24 15:59:12 -0400] andymccr: will take a look!
[2014-03-24 16:02:19 -0400] ctracey: so wait...are we still using rubocop?
[2014-03-24 16:02:36 -0400] ctracey: in these reviews I have been seeing what should be failures
[2014-03-24 16:03:24 -0400] andymccr: ctracey: we should be! I haven't heard otherwise.
[2014-03-24 16:03:40 -0400] ctracey: andymccr, https://review.openstack.org/#/c/81341/
[2014-03-24 16:03:44 -0400] ctracey: see my comment
[2014-03-24 16:03:49 -0400] ctracey: or am i missing something
[2014-03-24 16:03:53 -0400] andymccr: oh ok
[2014-03-24 16:03:57 -0400] andymccr: yeh tempaltes werent included (not sure why)
[2014-03-24 16:04:49 -0400] andymccr: https://github.com/stackforge/cookbook-openstack-compute/blob/master/.rubocop.yml
[2014-03-24 16:05:09 -0400] andymccr: none of them do if i recall correctly - templates probably should be included cos it doesn't make sense for them not to be.
[2014-03-24 16:05:59 -0400] ctracey: heh...figured it had to be something like that
[2014-03-24 16:07:29 -0400] openstackgerrit: Mark Vanderwiel proposed a change to stackforge/cookbook-openstack-identity: Remove dup identity port attributes  https://review.openstack.org/81082
[2014-03-24 16:10:15 -0400] openstackgerrit: Mark Vanderwiel proposed a change to stackforge/cookbook-openstack-identity: Remove dup identity port attributes  https://review.openstack.org/81082
[2014-03-24 16:12:29 -0400] nacer: iartarisi: yeah my commit message was for WORK_IN_PROGRESS, i can remove that part now :)
[2014-03-24 16:12:58 -0400] openstackgerrit: Nacer Laradji proposed a change to stackforge/cookbook-openstack-network: Ml2 plugin tpl should be in a 'case' declaration like other tpl  https://review.openstack.org/81553
[2014-03-24 16:21:57 -0400] iartarisi: nacer: cool, thanks
[2014-03-24 16:47:21 -0400] openstackgerrit: A change was merged to stackforge/cookbook-openstack-compute: Add compute and ec2 api ip and port configuration  https://review.openstack.org/81341
[2014-03-24 16:50:25 -0400] galstrom: srenatus: could you rebase https://review.openstack.org/#/c/81838/
[2014-03-24 16:56:08 -0400] srenatus: galstrom: sure :)
[2014-03-24 16:57:27 -0400] openstackgerrit: Stephan Renatus proposed a change to stackforge/cookbook-openstack-compute: Add rbd_* settings to nova.conf when images_type=rbd  https://review.openstack.org/81838
[2014-03-24 17:03:31 -0400] galstrom: srenatus: that failed jenkins: https://jenkins05.openstack.org/job/gate-cookbook-openstack-compute-chef-style/19/console
[2014-03-24 17:04:58 -0400] openstackgerrit: Justin Shepherd proposed a change to stackforge/cookbook-openstack-compute: Adds specs for template contents  https://review.openstack.org/82294
[2014-03-24 17:09:44 -0400] openstackgerrit: A change was merged to stackforge/cookbook-openstack-network: Ml2 plugin tpl should be in a 'case' declaration like other tpl  https://review.openstack.org/81553
[2014-03-24 17:12:00 -0400] galstrom: nacer: does https://review.openstack.org/#/c/81553/ merging close out the ml2 blueprint?
[2014-03-24 17:12:09 -0400] nacer: galstrom: \o/
[2014-03-24 17:12:41 -0400] nacer: galstrom: i don't know, i have made this patch because the previous one was breaking stuff
[2014-03-24 17:13:01 -0400] nacer: galstrom: i did not test the ml2 plugin myself
[2014-03-24 17:13:11 -0400] galstrom: nacer: ok.. i was just asking because it was the last assigned review on that blueprint
[2014-03-24 17:13:53 -0400] nacer: galstrom: so if it was close before my commit , i think it can be closed again
[2014-03-24 17:16:01 -0400] srenatus: galstrom: heh, just noticed. stupid me.
[2014-03-24 17:17:04 -0400] openstackgerrit: Stephan Renatus proposed a change to stackforge/cookbook-openstack-compute: Add rbd_* settings to nova.conf when images_type=rbd  https://review.openstack.org/81838
[2014-03-24 17:20:09 -0400] galstrom: luisg: ping
[2014-03-24 17:20:20 -0400] luisg: galstrom, hi
[2014-03-24 17:20:42 -0400] galstrom: i am assuming that you are the correct person here.. https://review.openstack.org/#/c/81946/ needs to be rebased
[2014-03-24 17:21:01 -0400] luisg: yeah, that'd be me, sure..
[2014-03-24 17:21:05 -0400] galstrom: :)
[2014-03-24 17:21:58 -0400] galstrom: luisg: not blocking branching.. just fyi
[2014-03-24 17:22:39 -0400] luisg: oh ok, yeah i'll take care of it right now anyway..
[2014-03-24 17:25:20 -0400] alop: oh FFS, again with that 12.04 stevedore problem
[2014-03-24 17:27:24 -0400] galstrom: I wish chefspec on compute, network, and object-storage did not take 15 - 20 minutes :(
[2014-03-24 17:27:44 -0400] openstackgerrit: Luis A. Garcia proposed a change to stackforge/cookbook-openstack-block-storage: Generalize control_exchange attribute  https://review.openstack.org/81946
[2014-03-24 17:28:39 -0400] luisg: galstrom, done thx
[2014-03-24 18:36:47 -0400] openstackgerrit: A change was merged to stackforge/cookbook-openstack-compute: Add rbd_* settings to nova.conf when images_type=rbd  https://review.openstack.org/81838
[2014-03-24 19:32:14 -0400] openstackgerrit: Federico Gimenez Nieto proposed a change to stackforge/cookbook-openstack-compute: Adds specs for template contents  https://review.openstack.org/82294
[2014-03-24 19:43:44 -0400] mattray: Anyone interested in the next version of the mysql cookbook, sneak preview here: https://github.com/someara/mysql/tree/tableflip
[2014-03-24 19:44:00 -0400] mattray: we'll want to make sure we're properly pinned in Berkshelf :)
[2014-03-24 19:49:12 -0400] galstrom: mattray: that is kind of awesome
[2014-03-24 19:49:20 -0400] galstrom: way less of a tragedy than the current one
[2014-03-24 19:50:40 -0400] mattray: less tragedy sounds like a good thing ;)
[2014-03-24 19:55:42 -0400] ctracey: someone here at my workspace was just talking about what a joke the mysql cookbook currently is
[2014-03-24 19:59:25 -0400] mattray: supporting every platform and every opinion is a recipe (hah!) for failure
[2014-03-24 20:52:58 -0400] mrodden1: is everyone aware that the default setup for nova-compute opens up the TCP libvirt socket for anyone to talk to?
[2014-03-24 20:53:10 -0400] mrodden: in our cookbooks anyways
[2014-03-24 21:05:38 -0400] galstrom: mrodden: I am not terribly shocked.. i believe it was there for block migration..
[2014-03-24 21:06:15 -0400] mrodden: galstrom: yeah i'm sure
[2014-03-24 21:06:30 -0400] mrodden: i think openstack lets you set up a SSH keypair that it will use so you don't need to do TCP listen
[2014-03-24 21:06:41 -0400] mrodden: in fact i am pretty sure that would be preferred
[2014-03-24 21:06:50 -0400] galstrom: mrodden: https://github.com/stackforge/cookbook-openstack-compute/blob/master/templates/default/libvirtd.conf.erb#L35
[2014-03-24 21:07:08 -0400] mrodden: yeah its hardcoded
[2014-03-24 21:07:13 -0400] mrodden: which is probably the worst part
[2014-03-24 21:07:47 -0400] mrodden: i probably have an internal defect coming along... so it will probably be on my list of todos quick
[2014-03-24 21:07:58 -0400] mrodden: :)
[2014-03-24 21:09:45 -0400] galstrom: mrodden: i am not sure the ssh keypair is enough to get the entire job done
[2014-03-24 21:10:09 -0400] galstrom: i thought tcp listen was needed to initiate the block migration/live migration
[2014-03-24 21:10:30 -0400] galstrom: and ssh was used.. to do the actual block copying between hosts
[2014-03-24 21:10:41 -0400] galstrom: but.. i have not looked at it in a while
[2014-03-24 21:11:54 -0400] mrodden: yeah
[2014-03-24 21:12:06 -0400] mrodden: i am pretty sure libvirt has an SSH+qemu:///system mode
[2014-03-24 21:13:24 -0400] galstrom: kk
[2014-03-24 21:13:32 -0400] mrodden: plus SCP
[2014-03-24 21:13:41 -0400] mrodden: for file transfer for offline migration
[2014-03-24 21:14:00 -0400] mrodden: (i thought block/live migration all happened through libvirt)
[2014-03-24 21:14:10 -0400] galstrom: live does..
[2014-03-24 21:14:20 -0400] galstrom: but block does not use a shared file system
[2014-03-24 21:14:22 -0400] galstrom: so.. thus the scp
[2014-03-24 21:14:24 -0400] galstrom: :)
[2014-03-24 21:14:36 -0400] mrodden: block is through libvirt too i though
[2014-03-24 21:14:41 -0400] mrodden: thought*
[2014-03-24 21:14:59 -0400] mrodden: otherwise offline migrate is literally a stop/copy/start
[2014-03-24 21:15:15 -0400] mrodden: it will SCP
[2014-03-24 21:16:08 -0400] mrodden: guess i'm not sure what 'block migration' means in libvirt terms
[2014-03-24 21:16:25 -0400] mrodden: nova already has a path for offline migrate, its the resize workflow
[2014-03-24 21:21:33 -0400] galstrom: block migration.. is almost the same thing as live migrate.. except the two compute nodes do not share a common file system
[2014-03-24 21:21:57 -0400] galstrom: so the node runing the instance needs to scp the image file over to the host to be migrated to
[2014-03-24 21:22:27 -0400] mrodden: galstrom: but SCP wouldn't make sense if the thing is running?
[2014-03-24 21:22:40 -0400] mrodden: unless it does initial copy and then libvirt takes care of the delta
[2014-03-24 21:22:53 -0400] mrodden: guess thats simple if one is using qcow2
[2014-03-24 21:23:39 -0400] galstrom: yeah.. that is the gist of it
[2014-03-24 21:23:55 -0400] galstrom: scp deltas until the delta can be copied over in a short enought time frame
[2014-03-24 21:24:01 -0400] galstrom: then migrate
[2014-03-24 21:24:22 -0400] mrodden: yeah, pretty much same strategy as memory page migration
[2014-03-24 21:24:45 -0400] mrodden: set timestamp, copy initial image, copy deltas
[2014-03-24 21:29:26 -0400] openstackgerrit: Bill Owen proposed a change to stackforge/cookbook-openstack-compute: Add disk_cachemodes and instances_path support  https://review.openstack.org/80795
[2014-03-24 21:31:07 -0400] mrodden: i really wish i knew how to break lines up better in Ruby/Chef; >79 character lines make the code review diffs look awful
[2014-03-24 21:35:39 -0400] galstrom: :)
[2014-03-24 21:50:32 -0400] openstackgerrit: Bill Owen proposed a change to stackforge/cookbook-openstack-block-storage: Add gpfs volume driver configuration flags  https://review.openstack.org/80794
[2014-03-24 21:56:18 -0400] openstackgerrit: Mathew Odden proposed a change to stackforge/cookbook-openstack-compute: Use openstack-common VNC endpoint information  https://review.openstack.org/82220
[2014-03-24 22:47:23 -0400] openstackgerrit: A change was merged to stackforge/cookbook-openstack-identity: Remove dup identity port attributes  https://review.openstack.org/81082
[2014-03-24 22:48:02 -0400] openstackgerrit: Mark Vanderwiel proposed a change to stackforge/cookbook-openstack-compute: Use endpoint for setting compute and ec2 port  https://review.openstack.org/82647
[2014-03-24 23:01:48 -0400] openstackgerrit: Mark Vanderwiel proposed a change to stackforge/cookbook-openstack-compute: Use endpoint for setting compute and ec2 port  https://review.openstack.org/82647
[2014-03-24 23:03:16 -0400] openstackgerrit: Mark Vanderwiel proposed a change to stackforge/cookbook-openstack-identity: Use endpoint for setting identity ports  https://review.openstack.org/82652
[2014-03-24 23:14:08 -0400] openstackgerrit: Bill Owen proposed a change to stackforge/cookbook-openstack-compute: Add disk_cachemodes and instances_path support  https://review.openstack.org/80795
[2014-03-24 23:46:47 -0400] openstackgerrit: Bill Owen proposed a change to stackforge/cookbook-openstack-block-storage: Add gpfs volume driver configuration flags  https://review.openstack.org/80794
