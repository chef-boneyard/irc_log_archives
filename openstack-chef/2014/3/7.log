[2014-03-07 01:34:00 -0500] openstackgerrit: David Geng proposed a change to stackforge/cookbook-openstack-network: Add new attributes in linuxbridge plugin templates  https://review.openstack.org/76073
[2014-03-07 01:52:29 -0500] openstackgerrit: David Geng proposed a change to stackforge/cookbook-openstack-network: Add new attributes in linuxbridge plugin templates  https://review.openstack.org/76073
[2014-03-07 09:49:59 -0500] nacer: hello guys
[2014-03-07 09:50:07 -0500] nacer: what do you think about the cloud-archive:havana-proposed ?
[2014-03-07 09:50:39 -0500] nacer: it's seem the default cloud-archive:havana repo is a bit slow to release havana bugfix
[2014-03-07 09:56:03 -0500] nacer: funny repo seem to have been updated today
[2014-03-07 11:48:01 -0500] mattt: iartarisi: ping
[2014-03-07 13:07:44 -0500] iartarisi: mattt: pong
[2014-03-07 13:07:50 -0500] iartarisi: yeah, that jenkins fail is weird
[2014-03-07 13:09:50 -0500] iartarisi: aah, I just did a berks update and now i see it
[2014-03-07 13:11:31 -0500] mattt: :)
[2014-03-07 13:11:40 -0500] mattt: i'll split it out
[2014-03-07 13:11:52 -0500] iartarisi: ok, I was just preparing another commit now
[2014-03-07 13:12:03 -0500] mattt: iartarisi: https://bugs.launchpad.net/openstack-chef/+bug/1289350
[2014-03-07 13:12:08 -0500] mattt: i'm just about to commit
[2014-03-07 13:12:19 -0500] mattt: allowing the full spec test to go through before i push
[2014-03-07 13:12:20 -0500] iartarisi: cool, go ahead
[2014-03-07 13:14:42 -0500] iartarisi: mattt: can you then also move your previous patch on top of this new one? So we get the proper dependency in gerrit.
[2014-03-07 13:19:12 -0500] mattt: iartarisi: how do i do that ?
[2014-03-07 13:19:37 -0500] iartarisi: mattt: just have them on the same branch when you do git review
[2014-03-07 13:19:55 -0500] iartarisi: in the proper order of course :)
[2014-03-07 13:21:17 -0500] mattt: i think i'll just add a review stating that the one depends on the other :P
[2014-03-07 13:21:22 -0500] mattt: next time i'll look at doing that
[2014-03-07 13:22:01 -0500] iartarisi: ok :)
[2014-03-07 13:22:43 -0500] iartarisi: mattt: there's some more info here: https://wiki.openstack.org/wiki/GerritWorkflow#Add_dependency
[2014-03-07 13:23:04 -0500] mattt: iartarisi: that is handy, i'll do that next time
[2014-03-07 14:00:44 -0500] iartarisi: mattt: actually you'll probably have to rebase once the stub_command patch merges anyway :)
[2014-03-07 14:07:30 -0500] mattt: iartarisi: that's fine, i'll do that once it's through
[2014-03-07 14:43:39 -0500] mattt: iartarisi: stop challenging me !
[2014-03-07 14:44:17 -0500] iartarisi: mattt: :) it's my job to -1 people
[2014-03-07 14:44:34 -0500] mattt: iartarisi: i have to do a new runner there, otherwise it no worky
[2014-03-07 14:44:39 -0500] iartarisi: oh
[2014-03-07 14:45:23 -0500] mattt: iartarisi: https://review.openstack.org/#/c/78567/3/templates/default/nova.conf.erb
[2014-03-07 14:45:49 -0500] mattt: iartarisi: when i didn't re-setup the runner, @mq_service_type would always reflect the default (rabbit)
[2014-03-07 14:46:44 -0500] iartarisi: tjat
[2014-03-07 14:46:50 -0500] iartarisi: that's weird
[2014-03-07 14:47:09 -0500] iartarisi: I wonder why 'has misc option' works then
[2014-03-07 14:47:21 -0500] mattt: iartarisi: well, i think i know why
[2014-03-07 14:47:36 -0500] mattt: iartarisi: in the recipe itself we set mq_service_type based on a node attribute
[2014-03-07 14:47:45 -0500] mattt: my understanding is that the recipe is rendered once per runner setup
[2014-03-07 14:47:53 -0500] mattt: and if we don't set it up again, it will always reflect the default (rabbitmq)
[2014-03-07 14:48:17 -0500] iartarisi: ah
[2014-03-07 14:48:27 -0500] iartarisi: so the recipes are cached, while the templates aren't?
[2014-03-07 14:48:47 -0500] mattt: i THINK so, but i'm not very clued up about chefspec
[2014-03-07 14:48:58 -0500] mattt: i just know i banged my head for ages until i set up that runner
[2014-03-07 14:49:04 -0500] iartarisi: meh, anyway, we'll need to refactor those unittests to use let anyway and at least those I understand
[2014-03-07 14:49:19 -0500] mattt: yeah when you do let it all works fine
[2014-03-07 14:49:30 -0500] mattt: because i did the mq_service_type conditional in the image cookbook and didn't have to do anything further
[2014-03-07 14:53:10 -0500] iartarisi: yeah, AFAIU let caches only inside a test, not between multiple tests and it only does the chef run when you call expect on it, so it lets you set node attributes before that
[2014-03-07 14:55:05 -0500] mattt: wish there was a bit more documentation on this stuff :)
[2014-03-07 14:57:43 -0500] iartarisi: mattt: I think this blueprint does an awesome job at describing this stuff: https://blueprints.launchpad.net/openstack-chef/+spec/refactor-spec-files
[2014-03-07 14:58:13 -0500] iartarisi: actually that's where I was parrotting stuff from just now :)
[2014-03-07 15:08:15 -0500] bpokorny: mattray: We've got a potential change we'd need to make in Ohai here:  https://github.com/opscode/ohai/blob/master/lib/ohai/plugins/linux/platform.rb#L103
[2014-03-07 15:08:43 -0500] bpokorny: To add a specific case for /ibm/ (similar to the /oracle/ case).
[2014-03-07 15:09:10 -0500] bpokorny: Would we need to sign the opscode CLA to make a change in Ohai?
[2014-03-07 15:09:17 -0500] mattray: bpokorny: makes sense.
[2014-03-07 15:09:22 -0500] mattray: bpokorny: yup
[2014-03-07 15:09:53 -0500] mattray: you can report it in tickets.opscode.com and make a pull request, but the code would need a PR
[2014-03-07 15:10:18 -0500] mattray: there was a chef-dev ML post yesterday that the 11.12 client goes to RC end of the month
[2014-03-07 15:10:33 -0500] mattray: we could probably slip that into a minor bug for Ohai to get included
[2014-03-07 15:12:19 -0500] bpokorny: mattray:  Thanks.  I'm not entirely sure we need a change there at this point, but we'll follow those guidelines if we do.
[2014-03-07 15:12:36 -0500] mattray: bpokorny: the ticket might be good enough to do without a CLA, but a PR tagged with "obvious fix" might not require a CLA
[2014-03-07 15:12:41 -0500] bpokorny: luisg was looking into how we can sign the CLA, so I'll keep digging into that too.
[2014-03-07 15:13:00 -0500] bpokorny: mattray:  Ah, ok.  Good to know.
[2014-03-07 15:13:09 -0500] lbragstad: mattray: bpokorny this one right? https://wiki.opscode.com/display/chef/How+to+Contribute
[2014-03-07 15:13:21 -0500] mattray: I mean, adding  "/ibm/" is pretty obvious
[2014-03-07 15:13:31 -0500] mattray: lbragstad: yup
[2014-03-07 15:14:57 -0500] mattray: bpokorny: lbragstad: http://docs.opscode.com/community_contributions.html#the-obvious-fix-rule
[2014-03-07 15:15:41 -0500] lbragstad: mattray: nice, good to know
[2014-03-07 15:16:04 -0500] bpokorny: Yep, that's helpful.
[2014-03-07 15:34:47 -0500] srenatus: I like the thought that went into this rule... other projects have you add a remark on the triviality of your contribution...
[2014-03-07 16:05:08 -0500] openstackgerrit: Matt Thompson proposed a change to stackforge/cookbook-openstack-compute: Add libvirt_inject_key attribute  https://review.openstack.org/79001
[2014-03-07 16:23:38 -0500] openstackgerrit: David Paterson proposed a change to stackforge/cookbook-openstack-common: Fix unnecessary error messages in log when default['openstack']['apt']['components'] attribute is nil or empty.  https://review.openstack.org/78715
[2014-03-07 16:33:16 -0500] mattt: markvan: ping
[2014-03-07 16:33:31 -0500] markvan: mattt: howdy
[2014-03-07 16:33:37 -0500] mattt: markvan: hey there, what are you asking in https://review.openstack.org/#/c/77912/?
[2014-03-07 16:34:25 -0500] markvan: I did not see a package install statement for neutron_lb_agent_service, did I miss it?
[2014-03-07 16:34:43 -0500] markvan: oops, it's for the service, not package...my bad.
[2014-03-07 16:34:48 -0500] mattt: markvan: that is a service name, not a package name
[2014-03-07 16:35:07 -0500] mattt: markvan: the package name is a different attribute
[2014-03-07 16:35:21 -0500] markvan: I'll fix that up, sorry,  tgif.
[2014-03-07 16:35:26 -0500] mattt: markvan: https://github.com/stackforge/cookbook-openstack-network/blob/master/attributes/default.rb#L800
[2014-03-07 16:36:12 -0500] mattt: markvan: and yes, tgif!  it's 4:35 PM here, so i wanted to make sure i wasn't misunderstanding what you were asking
[2014-03-07 16:36:15 -0500] mattt: thanks for clearing it up
[2014-03-07 16:43:34 -0500] mattt: iartarisi: nice catch, thanks for that
[2014-03-07 16:44:30 -0500] iartarisi: sure
[2014-03-07 16:47:34 -0500] openstackgerrit: Matt Thompson proposed a change to stackforge/cookbook-openstack-compute: Add libvirt_inject_key attribute  https://review.openstack.org/79001
[2014-03-07 17:07:51 -0500] openstackgerrit: Luis A. Garcia proposed a change to stackforge/cookbook-openstack-dashboard: Add attribute for setting WSGISocketPrefix  https://review.openstack.org/79014
[2014-03-07 18:02:57 -0500] openstackgerrit: Luis A. Garcia proposed a change to stackforge/cookbook-openstack-dashboard: Add attribute for setting WSGISocketPrefix  https://review.openstack.org/79014
[2014-03-07 19:41:20 -0500] openstackgerrit: Rajini Ram proposed a change to stackforge/cookbook-openstack-identity: Fix EC2 credentials create to use admin user credentials.  https://review.openstack.org/78693
[2014-03-07 22:33:16 -0500] mattray: Just pushed out knife-openstack 0.9.0 with a bunch of changes
[2014-03-07 23:39:47 -0500] openstackgerrit: A change was merged to stackforge/cookbook-openstack-compute: Add libvirt_inject_key attribute  https://review.openstack.org/79001
