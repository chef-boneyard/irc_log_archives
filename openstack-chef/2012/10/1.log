[2012-10-01 16:37:46 -0400] retr0h: mattray: I can explain the udev stuff if the gist didn't
[2012-10-01 16:38:01 -0400] mattray: I think I get it. But you still use a cookbook to enforce it?
[2012-10-01 16:41:40 -0400] retr0h: yah so
[2012-10-01 16:41:54 -0400] retr0h: in cobbler I jsut drop in this file
[2012-10-01 16:42:39 -0400] retr0h: then in preseed I do
[2012-10-01 16:42:44 -0400] retr0h: d-i preseed/late_command string wget -O- http://%MANAGEMENT_NODE_IP%/%ASSETS_PATH%/late_command.bash |chroot /target /bin/bash
[2012-10-01 16:43:07 -0400] retr0h: the late_command.bash has the gist I sent you and a few other things
[2012-10-01 16:43:49 -0400] retr0h: chef enforces all udev rules once it runs for all interfaces.. we have a networking cookbook that sets static addresses etc.. all based off pre-calculated node attributes
[2012-10-01 16:44:12 -0400] retr0h: then calls a reboot handler to reboot the node
[2012-10-01 16:44:25 -0400] retr0h: so we can setup bonding, udev, raid, etc.. all via chef
[2012-10-01 16:45:16 -0400] retr0h: this is the stuff jay and I have been flushing out the last couple weeks
[2012-10-01 16:56:33 -0400] mattray: ahh, so in my setup with pxe_dust I actually pass a chef run list to the first-boot.json, so the reboot is included in the end of the OS installation
[2012-10-01 16:57:12 -0400] mattray: so the machines finish installation in a blank-ish slate
[2012-10-01 16:57:35 -0400] mattray: but network is ready
[2012-10-01 18:09:29 -0400] mattray: rpedde: wkelly: have you guys had issues with keystone refusing connections because it wasn't ready?
[2012-10-01 18:18:16 -0400] mattray: oops, multiple controllers present. That was probably the issue
[2012-10-01 19:37:13 -0400] rpedde: mattray: aside from the "multiple controllers" thing, it does indeed report started well before it is accepting connections
[2012-10-01 19:45:45 -0400] mattray: my problem was that one installation was finding another broken installation
[2012-10-01 19:46:02 -0400] mattray: now I've got a potential patch for your rabbitmq-openstack cookbook
[2012-10-01 19:46:17 -0400] mattray: or if that doesn't work, a bigger patchset for the rabbitmq cookbook
[2012-10-01 21:36:23 -0400] poolpog: hello?
[2012-10-01 21:37:41 -0400] mattray: howdy
[2012-10-01 21:38:06 -0400] poolpog: meta questions first...
[2012-10-01 21:38:15 -0400] poolpog: is this a good place to discuss Chef?
[2012-10-01 21:38:21 -0400] poolpog: what about #chef?
[2012-10-01 21:38:49 -0400] poolpog: (I can't seem to find #chef but I am pretty clumsy when it comes to IRC)
[2012-10-01 21:39:19 -0400] mattray: There is most definitely a #chef channel
[2012-10-01 21:39:25 -0400] mattray: try "/join #chef"
[2012-10-01 21:39:31 -0400] poolpog: did..
[2012-10-01 21:39:33 -0400] poolpog: I'll try again
[2012-10-01 21:39:43 -0400] poolpog: oh
[2012-10-01 21:39:47 -0400] poolpog: NOW it workd :)
[2012-10-01 21:39:50 -0400] poolpog: thanks
[2012-10-01 21:39:50 -0400] mattray: :)
[2012-10-01 21:39:57 -0400] mattray: we're talking Chef and OpenStack over here
[2012-10-01 21:40:03 -0400] poolpog: no prob bob
