[2012-09-06 00:42:38 -0400] retr0h: jaypipes: we can work on that spiceweasel error more tomorrow when I get in if still looking at it
[2012-09-06 02:15:26 -0400] mattray: jaypipes: ping
[2012-09-06 02:31:28 -0400] mattray: jaypipes: recreated, it's a permissions thing
[2012-09-06 02:32:16 -0400] mattray: I'll get 1.2.0 out with the fix
[2012-09-06 02:59:44 -0400] carlp: rpedde: you around?
[2012-09-06 16:51:44 -0400] jaypipes: mattray: thx for looking into the spiceweasel issue. did you manage to push a fix yesterday>
[2012-09-06 16:52:32 -0400] mattray: just finished testing
[2012-09-06 16:52:40 -0400] mattray: another Ruby 1.8.7 bug popped up
[2012-09-06 16:52:49 -0400] mattray: I'll have 1.2.0 out in the next few minutes
[2012-09-06 17:08:49 -0400] mattray: jaypipes: pushed out 1.2.0
[2012-09-06 17:08:53 -0400] mattray: retr0h: ^^
[2012-09-06 17:09:05 -0400] jaypipes: mattray: rock on brother. appreciate the quick turnaround.
[2012-09-06 17:09:26 -0400] mattray: no problem, lots of good patches I'd been sitting on
[2012-09-06 17:09:59 -0400] jaypipes: mattray: lol, you're going to hate me...
[2012-09-06 17:10:11 -0400] jaypipes: http://paste.openstack.org/show/20707/
[2012-09-06 17:12:24 -0400] mattray: jaypipes: is that a bug in the ack cookbook?
[2012-09-06 17:12:42 -0400] jaypipes: mattray: hehe, I have no idea :(
[2012-09-06 17:12:45 -0400] mattray: I mean, is that something spiceweasel is choking on
[2012-09-06 17:12:55 -0400] mattray: jaypipes: could you send it to me for testing?
[2012-09-06 17:12:58 -0400] jaypipes: mattray: all I did was gem uninstall, gem install :)
[2012-09-06 17:13:07 -0400] mattray: or a paste with a debug on spiceweasel?
[2012-09-06 17:13:09 -0400] jaypipes: mattray: send you the repo?
[2012-09-06 17:13:42 -0400] mattray: this is what I find weird: No such file or directory - cookbooks/ack/metadata.rb
[2012-09-06 17:13:43 -0400] jaypipes: mattray: http://paste.openstack.org/show/20710/
[2012-09-06 17:14:10 -0400] mattray: is there a metadata.rb for ack?
[2012-09-06 17:14:40 -0400] jaypipes: mattray: doh. problem is on our end... nm.
[2012-09-06 17:14:44 -0400] jaypipes: mattray: sorry bro :(
[2012-09-06 17:14:54 -0400] mattray: no problem, I should probably have better debugging
[2012-09-06 17:15:00 -0400] mattray: or at least error handling
[2012-09-06 17:26:47 -0400] retr0h: mattray: rock! thanks
[2012-09-06 17:28:52 -0400] retr0h: mattray: is there a better way than spiceweasel infrastructure.yml | bash ?
[2012-09-06 17:29:06 -0400] mattray: not yet
[2012-09-06 17:29:13 -0400] retr0h: ok that what i figured..
[2012-09-06 17:29:16 -0400] mattray: eventually execute
[2012-09-06 17:29:45 -0400] retr0h: |bash works.. just wanted to make sure I wasn't missing something obvious
[2012-09-06 18:52:03 -0400] mattray: Anyone interested in a Chef for OpenStack hack day in Boston or NYC? Thinking mid-November
[2012-09-06 18:52:49 -0400] mattray: that gives me time to recuperate after the OpenStack Summit and the Chef Developer Summit
[2012-09-06 20:10:32 -0400] jaypipes: mattray: so what's the latest status on the upstream openstack cookbooks?
[2012-09-06 20:11:04 -0400] mattray: the ones in my github work for me and others, documenting them
[2012-09-06 20:11:11 -0400] mattray: at least for essex
[2012-09-06 20:11:28 -0400] mattray: once documentation is good enough for new users, move them to opscode's github
[2012-09-06 20:13:08 -0400] jaypipes: kk
[2012-09-06 20:13:33 -0400] jaypipes: mattray: so, I'm going to use yours and provide fixes/docs upstream to you.
[2012-09-06 20:13:41 -0400] mattray: excellent
[2012-09-06 20:14:17 -0400] mattray: I'll be funneling stuff into opscode's repo for awhile I expect
[2012-09-06 20:14:37 -0400] jaypipes: rock on.
[2012-09-06 20:21:48 -0400] jaypipes: mattray: another q for ya..
[2012-09-06 20:22:01 -0400] jaypipes: mattray: see here: http://paste.openstack.org/show/20729/
[2012-09-06 20:22:10 -0400] jaypipes: mattray: so, retr0h and I have been disucssing somethig
[2012-09-06 20:22:23 -0400] jaypipes: mattray: the jenkins cookbook has a depends on java cookbook.
[2012-09-06 20:22:54 -0400] jaypipes: mattray: does that mean I need to add a submodule for java, or because the jenkins' cookbook's metadata.rb file notes depends "java", that will be taken care of?
[2012-09-06 20:26:39 -0400] mattray: the dependency in the metadata.rb means that the jenkins cookbook requires you to have the java cookbook present. You'll have access to the java cookbook's LWRPs for example and you can then include_recipe safely from within jenkins recipes
[2012-09-06 20:27:17 -0400] mattray: having a dependency doesn't mean it gets added to a run_list though, you'll need to either do that explicitly or with an include_recipe
[2012-09-06 20:27:21 -0400] jaypipes: mattray: I see. final question: is spiceweasel supposed to inform me of that when I run spiceweasel infrastucutre.yaml?
[2012-09-06 20:27:35 -0400] mattray: yes, it reads the metadata.rb and will catch missing deps
[2012-09-06 20:27:47 -0400] jaypipes: mattray: but it didn't .. see paste above :)
[2012-09-06 20:28:11 -0400] mattray: paste the jenkins metadata.rb
[2012-09-06 20:28:30 -0400] jaypipes: jpipes@uberbox:~/repos/att-cloud/chef-repo$ cat cookbooks/jenkins/metadata.rb
[2012-09-06 20:28:30 -0400] mattray: it's not very smart on validation yet
[2012-09-06 20:28:31 -0400] jaypipes:  maintainer       "AJ Christensen"
[2012-09-06 20:28:31 -0400] jaypipes: maintainer_email "aj@junglist.gen.nz"
[2012-09-06 20:28:31 -0400] jaypipes: license          "Apache 2.0"
[2012-09-06 20:28:31 -0400] jaypipes: description      "Installs and configures Jenkins CI server & slaves"
[2012-09-06 20:28:31 -0400] jaypipes: long_description IO.read(File.join(File.dirname(__FILE__), 'README.md'))
[2012-09-06 20:28:33 -0400] jaypipes: version          "0.6.3"
[2012-09-06 20:28:37 -0400] jaypipes: %w(runit java).each { |cb| depends cb }
[2012-09-06 20:28:39 -0400] jaypipes: %w(iptables yum apt).each { |cb| recommends cb }
[2012-09-06 20:28:41 -0400] jaypipes: mattray: the depends are in a for block :(
[2012-09-06 20:28:47 -0400] jaypipes: mattray: probably the reason it missed it?
[2012-09-06 20:29:00 -0400] mattray: yeah, it's using simple pattern matching
[2012-09-06 20:29:05 -0400] mattray: looking for
[2012-09-06 20:29:08 -0400] mattray: depends "java"
[2012-09-06 20:29:24 -0400] mattray: my next overhaul is to make it actually load the metadata.rb as an object
[2012-09-06 20:29:31 -0400] mattray: and read it that way
[2012-09-06 20:29:36 -0400] mattray: 1.3.0 :)
[2012-09-06 20:29:54 -0400] mattray: so it's still dumb
[2012-09-06 20:30:08 -0400] jaypipes: mattray: no worries. glad retr0h and my debate can be ended ;)
[2012-09-06 20:30:39 -0400] mattray: I'm just happy to know the answers for the bugs people find
[2012-09-06 20:30:48 -0400] mattray: and that people actually use it
[2012-09-06 20:33:49 -0400] retr0h: hah
