[2013-12-11 02:12:52 -0500] openstackgerrit: David Geng proposed a change to stackforge/cookbook-openstack-network: Make sure the linuxbridge agent can be restarted  https://review.openstack.org/58481
[2013-12-11 02:18:27 -0500] openstackgerrit: Zhiwei Chen proposed a change to stackforge/cookbook-openstack-common: Add sleep to search_for function, so that node can be searched  https://review.openstack.org/61305
[2013-12-11 02:27:11 -0500] openstackgerrit: hanzhf proposed a change to stackforge/cookbook-openstack-common: Add Orchestration attributes to attribute file  https://review.openstack.org/59088
[2013-12-11 03:04:13 -0500] openstackgerrit: David Geng proposed a change to stackforge/cookbook-openstack-network: Support neutron configuration  https://review.openstack.org/58217
[2013-12-11 03:35:00 -0500] openstackgerrit: David Geng proposed a change to stackforge/cookbook-openstack-network: Support neutron configuration  https://review.openstack.org/58217
[2013-12-11 03:44:29 -0500] openstackgerrit: Zhiwei Chen proposed a change to stackforge/cookbook-openstack-identity: Add db2 support to keystone on redhat platform  https://review.openstack.org/61311
[2013-12-11 04:24:02 -0500] openstackgerrit: David Geng proposed a change to stackforge/cookbook-openstack-network: Support neutron configuration  https://review.openstack.org/58217
[2013-12-11 04:32:26 -0500] openstackgerrit: David Geng proposed a change to stackforge/cookbook-openstack-common: Support neutron configuration  https://review.openstack.org/61314
[2013-12-11 07:08:55 -0500] openstackgerrit: Zhiwei Chen proposed a change to stackforge/cookbook-openstack-image: Add db2 support to glance on redhat platform  https://review.openstack.org/61327
[2013-12-11 10:18:14 -0500] openstackgerrit: Ionut Artarisi proposed a change to stackforge/cookbook-openstack-metering: upgrade to Havana release  https://review.openstack.org/61363
[2013-12-11 12:48:54 -0500] openstackgerrit: Salman Baset proposed a change to stackforge/cookbook-openstack-compute: Adding neutron support in openstack-compute  https://review.openstack.org/61266
[2013-12-11 13:15:11 -0500] openstackgerrit: Zhiwei Chen proposed a change to stackforge/cookbook-openstack-block-storage: Upgrade to Havana release  https://review.openstack.org/61413
[2013-12-11 13:23:30 -0500] openstackgerrit: Zhiwei Chen proposed a change to stackforge/cookbook-openstack-block-storage: Upgrade to Havana release  https://review.openstack.org/61413
[2013-12-11 13:32:01 -0500] openstackgerrit: Zhiwei Chen proposed a change to stackforge/cookbook-openstack-block-storage: Upgrade to Havana release  https://review.openstack.org/61413
[2013-12-11 13:37:29 -0500] openstackgerrit: Zhiwei Chen proposed a change to stackforge/cookbook-openstack-block-storage: Upgrade to Havana release  https://review.openstack.org/61413
[2013-12-11 13:49:30 -0500] openstackgerrit: Zhiwei Chen proposed a change to stackforge/cookbook-openstack-block-storage: Upgrade to Havana release  https://review.openstack.org/61413
[2013-12-11 13:53:41 -0500] zhiwei: iartarisi: can you give me a list of new gems and it's versions?
[2013-12-11 13:54:39 -0500] iartarisi: zhiwei: what do you mean?
[2013-12-11 13:55:07 -0500] zhiwei: iartarisi: The gems listed in Gemfile of openstack-service cookbook
[2013-12-11 13:55:25 -0500] iartarisi: zhiwei: this? https://review.openstack.org/#/c/61363/1/Gemfile
[2013-12-11 13:55:44 -0500] zhiwei: iartarisi: ok, thanks.
[2013-12-11 13:56:02 -0500] zhiwei: iartarisi: can you tell me the meaning of this error: Could not find gem 'rake (~> 1.4)', required by 'foodcritic (~> 3.0.3)', in any of the sources
[2013-12-11 13:56:28 -0500] iartarisi: how did you get it?
[2013-12-11 13:56:31 -0500] iartarisi: did you run bundle update?
[2013-12-11 13:56:47 -0500] iartarisi: you should do that to generate the new Gemfile.lock
[2013-12-11 13:57:05 -0500] zhiwei: http://logs.openstack.org/13/61413/5/check/gate-cookbook-openstack-block-storage-chef-unit/d47a66a/console.html
[2013-12-11 13:57:12 -0500] zhiwei: oh..
[2013-12-11 13:57:27 -0500] zhiwei: I manually update the Gemfile.lock. stupid.
[2013-12-11 13:58:32 -0500] openstackgerrit: Zhiwei Chen proposed a change to stackforge/cookbook-openstack-block-storage: Upgrade to Havana release  https://review.openstack.org/61413
[2013-12-11 13:59:19 -0500] openstackgerrit: Justin Shepherd proposed a change to stackforge/cookbook-openstack-image: Updating to Havana  https://review.openstack.org/61270
[2013-12-11 14:02:40 -0500] galstrom: iartarisi: I just fixed the openstack-image lwrp test.. and reposted for review
[2013-12-11 14:02:54 -0500] galstrom: iartarisi: this time it is not a WIP.. :)
[2013-12-11 14:05:32 -0500] iartarisi: galstrom: awesome
[2013-12-11 14:06:08 -0500] galstrom: so the deprecating of execute changed that stub quite a bit..
[2013-12-11 14:06:11 -0500] iartarisi: I'll review it now
[2013-12-11 14:06:19 -0500] galstrom: and i was having a hell of a time getting it to work
[2013-12-11 14:06:42 -0500] iartarisi: yeah, I'm quite confused by some of the changes in chefspec 3, especially stubbing
[2013-12-11 14:06:44 -0500] galstrom: also.. the _ in openstack_image was throwing me off
[2013-12-11 14:07:08 -0500] galstrom: could not get it to step_into the lwrp
[2013-12-11 14:07:12 -0500] galstrom: :(
[2013-12-11 14:07:26 -0500] iartarisi: yeah, that step_into openstack_image_image looks crazy :)
[2013-12-11 14:07:32 -0500] galstrom: agreed
[2013-12-11 14:20:15 -0500] zhiwei: hi, I encountered an error: undefined method `upgrade_python_pip' for
[2013-12-11 14:20:53 -0500] zhiwei: anyone know the reason?
[2013-12-11 14:21:05 -0500] iartarisi: yeah, the python_pip provider went away in chefspec3
[2013-12-11 14:21:36 -0500] iartarisi: you would need to write a custom provider for that
[2013-12-11 14:21:42 -0500] iartarisi: sorry, a custom matcher
[2013-12-11 14:21:47 -0500] iartarisi: and I meant matcher above, too
[2013-12-11 14:25:19 -0500] zhiwei: oh, I don't know how to write custom matcher.
[2013-12-11 14:26:21 -0500] iartarisi: zhiwei: it's easy, only three lines of code: https://github.com/sethvargo/chefspec#writing-custom-matchers
[2013-12-11 14:29:33 -0500] zhiwei: iartarisi: I lost connection just now.
[2013-12-11 14:36:32 -0500] iartarisi: ... and then my computer froze
[2013-12-11 14:36:36 -0500] iartarisi: zhiwei: did you get the chefspec link?
[2013-12-11 14:37:04 -0500] zhiwei: yes
[2013-12-11 14:50:07 -0500] zhiwei: iartarisi: hi, I fount this URL: https://www.relishapp.com/rspec/rspec-expectations/v/3-0/docs/custom-matchers
[2013-12-11 14:51:15 -0500] iartarisi: zhiwei: that's for rspec, I don't think we need to go that low
[2013-12-11 14:51:48 -0500] zhiwei: iartarisi: But I don't how to write custom matcher for upgrade_python_pip
[2013-12-11 14:52:55 -0500] iartarisi: zhiwei: something like this should work:
[2013-12-11 14:52:56 -0500] iartarisi: def upgrade_python_pip(pkgname)
[2013-12-11 14:52:56 -0500] iartarisi:   ChefSpec::Matchers::ResourceMatcher.new(:python_pip, :upgrade, pkgname)
[2013-12-11 14:52:56 -0500] iartarisi: end
[2013-12-11 14:53:24 -0500] zhiwei: iartarisi: thanks, I will try it now.
[2013-12-11 14:53:26 -0500] iartarisi: put it in spec/support/matchers.rb and then require_relative 'support/matchers' from spec_helper.rb
[2013-12-11 14:54:04 -0500] iartarisi: zhiwei: also look at the matcher here to see how it's used: https://review.openstack.org/#/c/61381/1
[2013-12-11 15:05:47 -0500] zhiwei: iartarisi: thank you very much. I did as what you said, and it's ok.
[2013-12-11 15:06:39 -0500] openstackgerrit: Zhiwei Chen proposed a change to stackforge/cookbook-openstack-block-storage: Upgrade to Havana release  https://review.openstack.org/61413
[2013-12-11 15:21:25 -0500] mattray: galstrom_zzz: ctracey|away: https://github.com/openstack/openstack-chef
[2013-12-11 16:05:29 -0500] openstackgerrit: Ionut Artarisi proposed a change to stackforge/cookbook-openstack-common: Update the openSUSE repository key  https://review.openstack.org/61466
[2013-12-11 16:13:44 -0500] openstackgerrit: Justin Shepherd proposed a change to stackforge/cookbook-openstack-identity: Relaxing metadata dependency on openstack-common  https://review.openstack.org/61468
[2013-12-11 16:16:50 -0500] openstackgerrit: Justin Shepherd proposed a change to stackforge/cookbook-openstack-image: Updating to Havana  https://review.openstack.org/61270
[2013-12-11 16:21:56 -0500] openstackgerrit: A change was merged to stackforge/cookbook-openstack-common: Update the openSUSE repository key  https://review.openstack.org/61466
[2013-12-11 16:30:02 -0500] galstrom: mattray: we should probably ask the infra guys to delete the "grizzly" branch on cookbook-openstack-ops-messaging (as it is confusing with the stable/grizzly branch)
[2013-12-11 16:30:23 -0500] mattray: galstrom: can we do it?
[2013-12-11 16:30:32 -0500] mattray: we created it right?
[2013-12-11 16:33:37 -0500] galstrom: i dont think we can delete it..
[2013-12-11 16:33:39 -0500] galstrom: let me look
[2013-12-11 16:33:50 -0500] galstrom: i think we only have create permissions
[2013-12-11 16:34:24 -0500] galstrom: yeah.. i can't delete it through gerrit
[2013-12-11 17:14:45 -0500] openstackgerrit: A change was merged to stackforge/cookbook-openstack-common: add swift endpoint  https://review.openstack.org/61099
[2013-12-11 17:46:51 -0500] openstackgerrit: Alan Meadows proposed a change to stackforge/cookbook-openstack-network: Parameterize the dhcp_lease_time  https://review.openstack.org/61230
[2013-12-11 18:57:03 -0500] galstrom: any idea why berks install does not honor the lock file? is there an assumed update?
[2013-12-11 19:09:04 -0500] invsblduck: galstrom: i think you have to use berks apply?
[2013-12-11 19:21:39 -0500] invsblduck: galstrom: related https://github.com/berkshelf/berkshelf/issues/815  https://github.com/berkshelf/berkshelf/issues/939
[2013-12-11 19:46:12 -0500] spheromak: galstrom: that behavior pisses me off to no end. Also it doesn't always enforce metadata restrictions.
[2013-12-11 19:46:49 -0500] spheromak: and preferes local cache to anything / everything else
[2013-12-11 19:47:04 -0500] spheromak: much of that is supposedly fixed in berks3, but I haven't had time to give it a whirl
[2013-12-11 20:30:51 -0500] luis_: mattray, for the block-storage cookbook would it make sense to add a file backed volume group that is laid down in developer_mode for testing, like devstack does?
[2013-12-11 20:31:45 -0500] mattray: luis_: probably worthwhile, galstrom added sqllite support back in to a couple of things for testing purposes
[2013-12-11 20:32:21 -0500] luis_: k, i was just thinking because right now after an all in one, if u try to create a new volume u get: VolumeBackendAPIException: Bad or unexpected response from the storage volume backend API: volume group cinder-volumes doesn't exist
[2013-12-11 20:32:22 -0500] galstrom: mattray: i fixed the existing sqlite bits
[2013-12-11 20:32:43 -0500] galstrom: luis_: is that about the review I -1'd?
[2013-12-11 20:33:03 -0500] luis_: galstrom, not at all..is there a patch already out there for doing this?
[2013-12-11 20:33:11 -0500] galstrom: well there was
[2013-12-11 20:33:13 -0500] galstrom: hold please
[2013-12-11 20:33:17 -0500] luis_: sure
[2013-12-11 20:33:33 -0500] luis_: i was thinking about writing the patch myself, glad i asked here first
[2013-12-11 20:33:35 -0500] galstrom: https://review.openstack.org/#/c/60494/
[2013-12-11 20:34:25 -0500] luis_: oh i see, I think it can actually be valuable, at least for testing purposes, like devstack does
[2013-12-11 20:34:28 -0500] galstrom: i have thought about it a bit.. i mostly have an issue with this test code being mixed into the volume recipe
[2013-12-11 20:34:43 -0500] luis_: i guess not necessarily for testing, but in "dev_mode"
[2013-12-11 20:34:45 -0500] galstrom: i would be fine with this if it were in a seperate test recipe
[2013-12-11 20:35:15 -0500] galstrom: and that could be included if dev_mode
[2013-12-11 20:35:23 -0500] galstrom: i would be happy with that
[2013-12-11 20:36:20 -0500] luis_: what kinds of things settings in addition to the passwords do the cookbooks currently do when running with developer_mode=true
[2013-12-11 20:36:49 -0500] galstrom: at the moment I think that is basically it..
[2013-12-11 20:40:05 -0500] luis_: idk i think the more actios we can try to automate with the recipes the better, even if they are not on by default or are prob not meant to use in production, I was thinking someone could kick the tires with a file backed vg first, working out of the box
[2013-12-11 20:40:10 -0500] luis_: then change the vg
[2013-12-11 20:41:13 -0500] galstrom: yeah.. i can see the value in having a recipe to do this for you.. and then if you are testing .. you can manually add it to your runlist
[2013-12-11 20:41:19 -0500] galstrom: s/runlist/run_list/
[2013-12-11 20:41:30 -0500] galstrom: and.. I would be ok with that approach
[2013-12-11 20:41:50 -0500] galstrom: but was against it being in the main volume recipe
[2013-12-11 20:41:53 -0500] luis_: ok i thiknt hat is fair enough i didn't know we already had this out there, so I'll let genggjh continue to drive it
[2013-12-11 20:41:57 -0500] galstrom: probably should have explained that better in the review
[2013-12-11 20:42:04 -0500] luis_: cool thank you
[2013-12-11 20:42:10 -0500] galstrom: np
[2013-12-11 20:43:47 -0500] galstrom: luis_: thanks for asking about it
[2013-12-11 20:43:54 -0500] luis_: sure np, ty
[2013-12-11 23:42:10 -0500] openstackgerrit: Zhiwei Chen proposed a change to stackforge/cookbook-openstack-block-storage: Upgrade to Havana release  https://review.openstack.org/61413
