[2014-05-15 13:38:49 -0400] komeedipoeg: Hi, i am having trouble with https://github.com/yevgenko/cookbook-php-fpm.git and https://github.com/opscode-cookbooks/nginx.git, it installs nginx and also php-fpm. the trouble is that nginx is unable to use php-fpm socket
[2014-05-15 13:39:03 -0400] komeedipoeg: anyone having any ideas? or better cookbooks?
[2014-05-15 16:22:30 -0400] Shubby: is there a way to grab data from Hosted Chef (say from a data bag) on demand? say I have compiled code and instead of hard coding database credentials, can I fetch those credentials on demand/live from an encrypted data bag whenever it's needed (i.e. not just at the time of a chef-client run) ?
[2014-05-15 17:23:11 -0400] devjj: Is there a reason chef-client wouldn't quit after a successful run?
[2014-05-15 17:25:41 -0400] ssd7: devjj: If you started it with the daemonize flag it will sleep after a successful run and then run again laster
[2014-05-15 17:27:08 -0400] devjj: ssd7: I'm provisioning through Vagrant. I don't believe it's daemonizing.
[2014-05-15 17:29:03 -0400] devjj: ssd7: I have a 5-instance vagrant environment, and I'm attempting to add the hostname cookbook to set the hostname on the nodes. Before adding hostname, my runs all complete as expected. Afterward, the first box will be configured successfully, but when it moves onto the second, I immediately see a "Chef client is running" message. If I look in the vagrant shared cache, the pid file is still there, and it
[2014-05-15 17:29:05 -0400] devjj: contains the PID that Chef is complaining about on the second box that has not yet been configured. If I nix the hostname cookbook all works as expected.
[2014-05-15 17:29:51 -0400] ssd7: devjj: Is this the hostname cookbook on the community site?
[2014-05-15 17:29:57 -0400] devjj: ssd7: Yep
[2014-05-15 17:32:08 -0400] ssd7: devjj: Not sure off the top of my head, but if it really hinges on whether or not the hostname cookbook is there, that is a good place to start, let me take a look at what this thing does
[2014-05-15 17:32:47 -0400] devjj: ssd7: Thanks so much. I've dug through the source for both hostname and hostsfile, which is a dependency. The only thing I can see that might be related is it trigger Ohai to reload, but I don't know why that would cause this particular issue.
[2014-05-15 17:44:25 -0400] ssd7: devjj: The only thing I can think of without just setting up a test environment is that your first chef-client run isn't actually exiting cleanly, perhaps because of the hostname change causing some problem.  So, the pidfile is in a shared location?  Perhaps a quick fix is to use the pid_file option in client.rb to put it in a non-shared location.
[2014-05-15 17:46:38 -0400] devjj: I'll try that. Does Ohai require the server's hostname to resolve? I thought by adding the entry in /etc/hosts it would prevent such issues, but maybe not. I was thinking I'd try creating my own recipe to set the hostname.
[2014-05-15 20:42:29 -0400] devjj: ssd7_: Where do I set the pid_file for the chef client run for Vagrant? I don't have a client.rb
[2014-05-15 20:54:28 -0400] devjj: How do I set the pid_file for a chef client run in Vagrant?
