[2014-06-25 12:38:05 -0400] gestrella: Any ideas?
[2014-06-25 12:38:07 -0400] gestrella: https://gist.github.com/gestrella/63afd817e03f1301a480
[2014-06-25 12:52:03 -0400] gestrella: I need some help with the Git resource
[2014-06-25 15:25:47 -0400] mparadise: gestrell_: could you gist/pastebin what your resource looks like? 
[2014-06-25 15:33:21 -0400] humly: why is it that when i execute ". ~/.bash_profile" in chef, the file isn't being reloaded?
[2014-06-25 15:42:07 -0400] teshian: do you run a bash scipt htat runs .bash_profile, then executest the command?
[2014-06-25 15:42:46 -0400] teshian: if you do it is in different blocks I dont think it will keep the settings between starting new bash instances
[2014-06-25 15:43:28 -0400] teshian: You may also need to source the script instead of just running it, 
[2014-06-25 15:45:24 -0400] humly: what I'm doing is I'm trying to install rbenv. I'm using echo to add some code to ~/.bash_profile, after which I need to reload it so I can then have the rbenv command available.
[2014-06-25 15:46:06 -0400] teshian: what does your chef block look like?
[2014-06-25 15:46:49 -0400] teshian: from /etc/profile
[2014-06-25 15:47:02 -0400] teshian:     if [ -f /etc/bash.bashrc ]; then
[2014-06-25 15:47:03 -0400] teshian:       . /etc/bash.bashrc
[2014-06-25 15:47:04 -0400] teshian:     fi
[2014-06-25 15:47:39 -0400] humly: bash 'install rbenv' do
[2014-06-25 15:47:48 -0400] humly:   code <<-EOH
[2014-06-25 15:48:01 -0400] humly: touch ~/.bash_profile
[2014-06-25 15:48:16 -0400] humly: echo 'export RBENV_ROOT=\"\${HOME}/.rbenv\"
[2014-06-25 15:48:24 -0400] humly: if [ -d \"\${RBENV_ROOT}\" ]; then
[2014-06-25 15:48:30 -0400] humly:   export PATH=\"\${RBENV_ROOT}/bin:\${PATH}\"
[2014-06-25 15:48:35 -0400] humly:   eval \"\$(rbenv init -)\"
[2014-06-25 15:48:39 -0400] humly: fi' > ~/.bash_profile
[2014-06-25 15:48:44 -0400] humly: . ~/.bash_profile
[2014-06-25 15:48:49 -0400] humly: EOH
[2014-06-25 15:48:50 -0400] jonlives: humly: I'd recommend trying out https://github.com/fnichol/chef-rbenv
[2014-06-25 15:48:51 -0400] humly: end
[2014-06-25 15:49:04 -0400] jonlives: makes rbenv muuuch easier to work with in chef
[2014-06-25 15:49:44 -0400] teshian: have you set the chmod u+x on .bash_profile? 
[2014-06-25 15:51:33 -0400] humly: no i haven't, should I/
[2014-06-25 15:52:14 -0400] teshian: you may want to check  ~/.bash_profile, is creating the file where you expect. 
[2014-06-25 15:53:48 -0400] teshian: vbrick@ubuntu:~$ vi file
[2014-06-25 15:53:49 -0400] teshian: vbrick@ubuntu:~$ ls -l file
[2014-06-25 15:53:50 -0400] teshian: -rw-rw-r-- 1 vbrick vbrick 17 Jun 25 11:52 file
[2014-06-25 15:53:51 -0400] teshian: vbrick@ubuntu:~$ . file
[2014-06-25 15:53:52 -0400] teshian: -bash: .: /usr/bin/file: cannot execute binary file
[2014-06-25 15:54:28 -0400] teshian: so if the file doesnt exist then it will probably need chmod u+x file in order for it to run
[2014-06-25 15:58:07 -0400] humly: here is the ls for the file:
[2014-06-25 15:58:16 -0400] humly: -rw-r--r-- 1 root root 138 Jun 25 08:56 /root/.bash_profile
[2014-06-25 15:58:33 -0400] humly: when i do . ~/.bash_profile it reloads successfully
[2014-06-25 15:58:41 -0400] humly: but not when using chef
[2014-06-25 15:59:06 -0400] teshian: try chmod u+x /root/.bash_profile and see
[2014-06-25 15:59:19 -0400] teshian: I am assuming you are logged in as root
[2014-06-25 16:06:08 -0400] humly: chmod u+x /root/.bash_profile didn't help, it's still failing in chef
[2014-06-25 16:06:12 -0400] humly: and yes i'm logged in as root
[2014-06-25 16:12:18 -0400] teshian: try running chef-client -l debug
[2014-06-25 16:20:43 -0400] humly: teshian: alright thanks for your help
[2014-06-25 18:02:54 -0400] philax: First timer... please be gentle...  is it kosher/acceptable to ask a question about a bootstrapping issue here before attempting to open an open source ticket?  Perhaps #chef instead?
[2014-06-25 18:48:34 -0400] binamov: philax hola yes, of course
[2014-06-25 18:50:57 -0400] binamov: philax this channel is usually manned; you can also email learnchef@getchef.com 
[2014-06-25 18:53:05 -0400] philax: ah! thank you!  I just asked in #chef because I missed your reply:  is there some fancy footwork one needs to do to install the knife-windows gem after installing the chefdk?  running a bootstrap with -VV indicates that knife simply doesn't recognize the gem in /opt/chef/embedded...  .bash_profile has the /opt/chef/embedded... etc path.  
[2014-06-25 18:54:16 -0400] binamov: i answered in #chef too lol philax 
[2014-06-25 18:55:07 -0400] binamov: philax in chefdk it's "chef gem install foo" as opposed to "/opt/chef/embedded/bin/gem install foo" take a look here http://docs.opscode.com/ctl_chef.html
[2014-06-25 18:56:00 -0400] philax: Ahh!!  erp derp :D  I see an error indicating I need to add /home/user/.chefdk etc to my path, but it is installing... I think I can take it from here!  Thank you!!!
[2014-06-25 18:56:40 -0400] binamov: hi5
[2014-06-25 18:57:11 -0400] binamov: say my name to get my attention when you have more questions philax 
[2014-06-25 18:57:58 -0400] philax: you're the man
[2014-06-25 19:47:03 -0400] yumoo: hey guys, I'm trying to run git clone https://github.com/sstephenson/ruby-build.git .rbenv/plugins/ruby-build in chef but I get the following error:
[2014-06-25 19:47:09 -0400] yumoo: STDERR: Cloning into '.rbenv/plugins/ruby-build'... 
[2014-06-25 19:47:10 -0400] yumoo: warning: unable to access '/root/.config/git/attributes': Permission denied
[2014-06-25 19:47:42 -0400] yumoo: why is it looking for /root directory when i specified a user to run as?
[2014-06-25 21:12:59 -0400] papasmile: Hi, I think I might have a chef problem and I don't know who to talk to :) (x-post from chef sorry)
[2014-06-25 21:13:28 -0400] papasmile: coderangewe have four roles with override_attributes for a single recipe... is that legit?
[2014-06-25 21:42:23 -0400] philax: I've configured a 2003R2 node's winrm for basic unencrypted auth (winrm...client/auth basic, service/auth basic, service allowunencrypted are all==true).  I can telnet to the box I'm trying to bootstrap over 5985 just fine, but bootstrap from ubuntu just hangs on "Waiting for response before bootstrap."  Has anyone encountered this before?  binamov you said to mention your name.  I hate bothering people I don't know >_< 
[2014-06-25 21:43:05 -0400] teshian: I am assuming you turned off the firewall on the windows machine?
[2014-06-25 21:43:18 -0400] philax: of course.  telnet works just fine
[2014-06-25 21:43:28 -0400] teshian: so telnet from another machine?
[2014-06-25 21:43:40 -0400] teshian: I know it works with 2012
[2014-06-25 21:43:56 -0400] philax: telnet from another machine works fine as well
[2014-06-25 21:44:23 -0400] philax: i did run winrm quickconfig as well, which should have fixed any firewall issues if they existed
[2014-06-25 21:45:18 -0400] philax: but thank you for trying :)
[2014-06-25 21:45:23 -0400] teshian: From a mac machine the following works
[2014-06-25 21:45:24 -0400] teshian: knife bootstrap windows winrm -N nodename 10.0.0.201  --winrm-user="localhost\administrator"
[2014-06-25 21:48:50 -0400] philax: still just.... waits
[2014-06-25 21:49:24 -0400] teshian: i wonder if tcpdump on the ubuntu machine would show anything
[2014-06-25 21:50:23 -0400] teshian: Does bootstrap work from anyother machine? 
[2014-06-25 21:51:15 -0400] philax: good q.  I've tried on a second win03R2 machine as well with the same issue.  might be something workstation side then.
[2014-06-25 21:51:40 -0400] philax: unless I'm just making the same mistake on both of them :P
[2014-06-25 21:51:53 -0400] teshian: The only other thing, the quickconfig stuff didnt work for me in the powershell, I have to use cmd
[2014-06-25 21:52:14 -0400] philax: yeah, i ran winrm qc from cmd prompt instead of powershell too
[2014-06-25 21:52:49 -0400] teshian: ok, I am out of ideas, but i am not an expert, just a user
[2014-06-25 21:53:11 -0400] philax: I wonder if it has anything to do with the fact that the workstation is a vagrant virtualbox... i'd imagine not because telnet works... so networking is working just fine.   np man!  thanks for the thoughts!
[2014-06-25 21:53:45 -0400] teshian: this is what i run on my 2012 servers, I am assuming it is the same as what you are running
[2014-06-25 21:53:47 -0400] teshian: CMD Shell
[2014-06-25 21:53:48 -0400] teshian: winrm quickconfig -q
[2014-06-25 21:53:50 -0400] teshian: winrm set winrm/config/winrs @{MaxMemoryPerShellMB="300"}
[2014-06-25 21:53:51 -0400] teshian: winrm set winrm/config @{MaxTimeoutms="1800000"}
[2014-06-25 21:53:52 -0400] teshian: winrm set winrm/config/service @{AllowUnencrypted="true"}
[2014-06-25 21:53:53 -0400] teshian: winrm set winrm/config/service/auth @{Basic="true"}
[2014-06-25 21:55:03 -0400] teshian: got to go, hope you find your solution
[2014-06-25 21:55:49 -0400] philax: i've run those exact commands except -q doesn't work on 03, so I just have to type yes when it prompts.  just copy-pasted and re-ran just in case but no change
[2014-06-25 23:11:54 -0400] binamov: hey philax any luck?
