[2013-10-29 02:23:16 -0400] wishlistmaster: Hi guys, what's the steps to do when updating cookbook versions *chef-server*
[2013-10-29 14:16:28 -0400] chakatz: How can I run a recipe only if a certain file exist? In this case the file is installed by a previous recipe in the same chef run. My problem is that chef looks for the file at compile (when it isn't there) and not at execution time (when is is there)
[2013-10-29 14:17:56 -0400] tomduffield: i haven't tried this chakatz but you could try putting a not_if/only_if resource guard with the include_recipe resource
[2013-10-29 14:20:43 -0400] chakatz: I tried something like that by placing the entire contents of the recipe inside of an 'if' statement which tests for the file, but that didn't work. I also tried placing a ruby block with the test inside of it at the top of the recipe, that didn't work either.
[2013-10-29 14:22:13 -0400] chakatz: tomduffield, It looks like the not_if/only_if resource guards are evaluated at compilation time.
[2013-10-29 14:24:02 -0400] tomduffield: chakatz: from the opscode docs it says "A guard can be used to evaluate the state of a node during the execution phase of the chef-client run."
[2013-10-29 14:24:28 -0400] tomduffield: so the code inside the not_if/only_if guards are actually run during the execute phase
[2013-10-29 14:26:27 -0400] tomduffield: so something like this should work chakatz: https://gist.github.com/tduffield/38192706aeee98da82f9
[2013-10-29 14:36:54 -0400] chakatz: tomduffield, I actually have the recipe in the run list but I did try the code that I added as a comment to your Gist and it didn't work.
[2013-10-29 14:40:01 -0400] chakatz: It does work on the second execution of chef, after php is installed during the first run.
[2013-10-29 14:43:47 -0400] tomduffield: so by not working you mean that your log doesn't show "Found PHP"?
[2013-10-29 14:43:59 -0400] chakatz: correct
[2013-10-29 14:44:19 -0400] tomduffield: thats because Ruby if statements are parsed during the compilation phases
[2013-10-29 14:44:30 -0400] chakatz: :x
[2013-10-29 14:44:50 -0400] chakatz: Ahha!
[2013-10-29 14:45:19 -0400] tomduffield: node.set happens during compilation
[2013-10-29 14:45:28 -0400] tomduffield: your first one, = 0
[2013-10-29 14:45:42 -0400] tomduffield: node.set['flags']['php_installed'] = 1 happens during execute
[2013-10-29 14:46:00 -0400] tomduffield: if node['flags']['php_installed'] == 1 LOG happens during compilation
[2013-10-29 14:48:32 -0400] chakatz: k. Gonna make a wrapper recipe with the include_recipe code and have it call the real recipe.
[2013-10-29 14:48:55 -0400] chakatz: Will report back
[2013-10-29 15:04:05 -0400] chakatz: tomduffield, it worked! Thanks!!!
[2013-10-29 15:08:18 -0400] tomduffield: chakatz: thats great to hear! 
[2013-10-29 18:39:02 -0400] vt102: I need to recover my webui admin password.  Everything I find references http://lists.opscode.com/sympa/arc/chef/2011-08/msg00151.html but I don't seem to be running CouchDB, and I have nothing listening on 5984.
[2013-10-29 18:40:23 -0400] tomduffield: are you running open source chef or enterprise chef?
[2013-10-29 18:41:38 -0400] vt102: open source
[2013-10-29 18:46:22 -0400] tomduffield: vt102: I'm not exactly sure. The email chain you are referencing was back for Chef10.
[2013-10-29 18:46:32 -0400] tomduffield: I am trying to find someone who might be able to help you
[2013-10-29 18:46:46 -0400] vt102: thanks!
[2013-10-29 18:47:21 -0400] tomduffield: vt102: http://lists.opscode.com/sympa/arc/chef/2013-03/msg00320.html
[2013-10-29 18:47:50 -0400] vt102: Thanks, will give that a shot.
[2013-10-29 18:55:42 -0400] tomduffield: vt102: if you run into any problems with that method I have some alternatives that we could try as well
[2013-10-29 19:06:00 -0400] droy: Hi all, i need to download a file from S3.  My approach was to use the AWS Command line interface, which is python based.  Are there better ways?  I want to rely on using IAM role credentials.
[2013-10-29 19:09:01 -0400] tomduffield: you could try the aws gem
[2013-10-29 19:17:51 -0400] droy: tomduffield: I see there is an s3_file cookbook.  i'll try that.
[2013-10-29 19:17:54 -0400] droy: thanks!
[2013-10-29 21:09:06 -0400] Nashenas: Where do I report bugs about the learnchef.opscode.com website?
[2013-10-29 21:09:57 -0400] eucalyptus: I'm seeing this suddenly:  /usr/lib/ruby/gems/1.8/gems/mixlib-shellout-1.1.0/lib/mixlib/shellout/unix.rb:115:in `chdir': No such file or directory - /var/chef/cache
[2013-10-29 21:10:04 -0400] eucalyptus: thats :file_cache_path
[2013-10-29 21:10:43 -0400] eucalyptus: i can see this physical directory on the machine tho.  it seems to be created after my recipes run
[2013-10-29 21:10:45 -0400] tomduffield: Nashenas: I don't know if there is an official place. I can pass along the bug for you if you like.
[2013-10-29 21:11:58 -0400] tomduffield: eucalyptus: did you check the permissions on the folder and its parents?
[2013-10-29 21:12:09 -0400] Nashenas: tomduffield: https://learnchef.opscode.com/quickstart/workstation-setup/ scroll down a bit, and then hit the "Advanced" tab. The menu on the right enlarges and is partially hidden behind the main content. This occurs on Chrome 30.0.1599.101
[2013-10-29 21:12:19 -0400] Nashenas: The menu on the left*
[2013-10-29 21:13:24 -0400] tomduffield: Nashenas: ah, good catch! I'll pass that along, thank you
[2013-10-29 23:42:03 -0400] quack_up: anybody here used the chef-client cookbook to start the chef-client service at bootstrap time?
[2013-10-29 23:42:17 -0400] quack_up: i'm having a sad time with it.
