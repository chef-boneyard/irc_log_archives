[2013-12-10 00:43:20 -0500] NeedHalpWithChef: anyone else having problems with their validation key?
[2013-12-10 00:43:34 -0500] NeedHalpWithChef: I'm getting Organization not found. (Error 32033) whenever I try to regen
[2013-12-10 01:04:17 -0500] NeedHalpWithChef: anyone?
[2013-12-10 01:36:04 -0500] Visit0r_: hello
[2013-12-10 01:48:12 -0500] Visit0r_: someone around?
[2013-12-10 01:52:36 -0500] chip-: What's up, Visit0r_ ?
[2013-12-10 01:53:25 -0500] Visit0r_: hello chip-, is this the right place to ask a syntax-related question?
[2013-12-10 01:53:51 -0500] chip-: Sure, what's up?
[2013-12-10 01:55:18 -0500] Visit0r_: i do not seem to be able to make a recipe correspond only to one specific attributes file, include_attributes/include_attribute has been nicely explained in the wiki, yet it does not seem to work within one cookbook itself
[2013-12-10 01:56:38 -0500] Visit0r_: recipe_a should only rely on attributes_a within a populated cookbook
[2013-12-10 01:59:35 -0500] Visit0r_: ala include_attribute "cookbook::attributes_a" within recipe_a
[2013-12-10 02:01:33 -0500] Visit0r_: logically, it should work, technically it does not
[2013-12-10 02:06:44 -0500] jidar: goofy, so '/opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.8.2/distro/redhat/etc/init.d/chef-client' exists on install, but doesn't put it in your /etc/init.d, and it needs you to create /var/log/chef
[2013-12-10 02:10:34 -0500] Visit0r_: would you know where i should go from here, chip- ?
[2013-12-10 02:11:22 -0500] chip-: Visit0r_: All attribute files in  attributes/*.rb will be loaded at compile time
[2013-12-10 02:11:45 -0500] chip-: Visit0r_: Are you trying to do per-recipe attribute files, so those attributes are only evaluated when the corresponding recipe is loaded?
[2013-12-10 02:12:05 -0500] chip-: Same attribute key names, but values changing depending on the recipe?
[2013-12-10 02:12:21 -0500] Visit0r_: exactly
[2013-12-10 02:13:00 -0500] Visit0r_: a per-recipe attributes file, is where i want to go
[2013-12-10 02:14:02 -0500] chip-: So what you'd probably do is set some case statements into your attributes file, or namespace them separately.
[2013-12-10 02:14:19 -0500] chip-: default[cookbookname][recipe][attribute] 
[2013-12-10 02:14:34 -0500] chip-: Which I know isn't what you want, but there's (afaik) no way to NOT load an attribute file
[2013-12-10 02:14:43 -0500] Visit0r_: i see
[2013-12-10 02:14:57 -0500] chip-: I'd go with the case statements most likely
[2013-12-10 02:15:02 -0500] Visit0r_: this info was nowhere to be found, i really thought i could modulize the files
[2013-12-10 02:15:09 -0500] chip-: and say "If I'm (doing thing) then attribute should be..."
[2013-12-10 02:15:24 -0500] Visit0r_: as in, recipe_alpha only talks to attributes_alpha
[2013-12-10 02:15:31 -0500] chip-: Yeah, they don't correlate that way.
[2013-12-10 02:15:38 -0500] Visit0r_: too bad
[2013-12-10 02:16:06 -0500] Visit0r_: so the only way would be to modulize within one attributes file?
[2013-12-10 02:16:48 -0500] Visit0r_: ala your example: default[cookbookname][recipe][attribute]
[2013-12-10 02:16:58 -0500] chip-: Or a case statement.
[2013-12-10 02:17:16 -0500] chip-: Or some kind of switch statement anyway.
[2013-12-10 02:17:23 -0500] chip-: (if/unless, case statements, etc.)
[2013-12-10 02:17:46 -0500] Visit0r_: yeah, i will have to re-think the logic of my cookbooks
[2013-12-10 02:19:52 -0500] Visit0r_: thanks for your help, chip- !
[2013-12-10 02:21:00 -0500] chip-: Here's an example of a case statement for mutli-platform support: https://github.com/opscode-cookbooks/ntp/blob/master/attributes/default.rb
[2013-12-10 02:23:51 -0500] Visit0r_: can this > [''] form of syntax be seen as deprecated by now, chip- ?
[2013-12-10 02:24:36 -0500] chip-: Hee! That's a minor holy war that flares up occasionally. I like strings in there. Some people like symbols. Both work. (In fact you can even use methods.)
[2013-12-10 02:25:02 -0500] Visit0r_: as in, would your example translate to cookbookname.recipe.attribute?
[2013-12-10 02:25:11 -0500] chip-: (You'l have to pry my string-keyed-ruby-1.9-hashes from my cold dead hands.)
[2013-12-10 02:25:14 -0500] chip-: *You'll
[2013-12-10 02:26:07 -0500] chip-: As long as you're consistent about it, Chef works with whatever method you prefer for attributes, be it strings, symbols, or methods. Again, I prefer strings, I find them to be the most readable.
[2013-12-10 02:26:15 -0500] Visit0r_: well, i do find it to be more human-readable
[2013-12-10 02:26:19 -0500] Visit0r_: hah!
[2013-12-10 02:27:14 -0500] chip-: They all merge into a hash eventually, and the method notation tends to imply that they do_thing(), which they definitely do_not()
[2013-12-10 02:27:19 -0500] chip-: So I tend to shy away
[2013-12-10 02:27:23 -0500] chip-: but again, it's a personal taste thing.
[2013-12-10 02:28:30 -0500] Visit0r_: yes, i do share your thought over strings, yet the wiki-page on in-depth-attributes kind of deems it "the old way", as in, one should rather use different methods
[2013-12-10 02:31:23 -0500] chip-: The wiki page stating that the attribute syntax is deprecated, has itself been deprecated. https://www.youtube.com/watch?v=SII-jhEd-a0
[2013-12-10 02:31:27 -0500] chip-: http://docs.opscode.com/essentials_cookbook_attribute_files.html
[2013-12-10 02:31:38 -0500] jidar: do you normally have to configure the service yourself via '/opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.8.2/distro/redhat/etc/init.d/chef-client' exists on install, but doesn't put it in your /etc/init.d, and it needs you to create /var/log/chef
[2013-12-10 02:33:02 -0500] chip-: jidar: Chef doesn't set itself up as a service on install. However, you can use the chef-client cookbook to automate having Chef set itself up as a service.
[2013-12-10 02:33:14 -0500] jidar: oh ok
[2013-12-10 02:38:32 -0500] Visit0r_: hah, that's interesting, a false statement within an obsolete wiki-page, so how does one stay updated on the actual working-methods, do-s and dont-s of working with the chef-syntax, chip- ?
[2013-12-10 02:38:44 -0500] chip-: docs.opscode.com is the authoritative source
[2013-12-10 02:39:18 -0500] chip-: Which page on the wiki are you using?
[2013-12-10 02:39:18 -0500] Visit0r_: wasn't it located there?
[2013-12-10 02:39:37 -0500] chip-: Oh, there was a documentation wiki. I thought you were looking there.
[2013-12-10 02:39:51 -0500] chip-: http://docs.opscode.com/essentials_cookbook_attribute_files.html is the authoritative page on cookbook attributes.
[2013-12-10 02:40:46 -0500] Visit0r_: http://docs.opscode.com/breaking_changes_chef_11.html
[2013-12-10 02:48:43 -0500] chip-: Ah! Okay. That's a different thing.
[2013-12-10 02:49:00 -0500] chip-: It used to be that you could set AND get a node attribute from a recipe with just node['foo']['bar']
[2013-12-10 02:49:20 -0500] chip-: which was neat, but had to be removed during a refactor of the attribute code for (reasons)
[2013-12-10 02:49:21 -0500] Visit0r_: i see
[2013-12-10 02:50:02 -0500] chip-: so now you set with node.default['foo']['bar'] = "baz", node.normal['foo']['bar'] = "baz", node.override['foo']['bar'] = "baz"
[2013-12-10 02:50:07 -0500] chip-: and get with node['foo']['bar']
[2013-12-10 02:51:33 -0500] Visit0r_: yes, i've been tinkering around with that as well, chip-
[2013-12-10 02:52:01 -0500] Visit0r_: would this kind of sub-modulization within a single cookbook also be working? > default['cookbook']['subcookbook']['recipe']['attribute'] = ""
[2013-12-10 02:52:03 -0500] chip-: Best practice: Stick to node.default in all situations, and only use one of the others if you really need to.
[2013-12-10 02:52:21 -0500] chip-: There's not really a sub-cookbook concept.
[2013-12-10 02:52:26 -0500] Visit0r_: i see
[2013-12-10 02:52:46 -0500] Visit0r_: that's why it never worked 
[2013-12-10 02:52:47 -0500] Visit0r_: ^^
[2013-12-10 02:52:52 -0500] chip-: What happens is this: All attributes are merged into a hash called the node object at compile time during the chef-client run
[2013-12-10 02:53:11 -0500] chip-: So what you're really denoting with ['foo']['bar']['bas'] is nested hashes
[2013-12-10 02:53:53 -0500] Visit0r_: so it'd be senseless to go and try to structure sub-modulization
[2013-12-10 02:54:13 -0500] chip-: If you want to get modular and meta-programmy with Chef, you absolutely can, but the recipe DSL isn't really the place to do it :)
[2013-12-10 02:55:17 -0500] chip-: Sent you a /query with some examples
[2013-12-10 02:55:24 -0500] chip-: but my dinner is ready, so I'm signing out for the night.
[2013-12-10 02:55:29 -0500] chip-: Have fun!
[2013-12-10 02:55:50 -0500] Visit0r_: alright, thank's alot, chip- !
[2013-12-10 02:56:01 -0500] Visit0r_: i very appreciate your help and intel
[2013-12-10 09:55:11 -0500] sks2013: anybody tried omnibus_updater recently?
[2013-12-10 09:56:56 -0500] sks2013: anybody using chef onlin here?
[2013-12-10 17:10:22 -0500] pmacklin: I have a question about data bags. I created one and an item on the preview.opscode.com chef management portal. I can list it and edit it from my administrator work station, but I was expecting it to be downloaded to that machine so I can check it in as well. Are there knife commands for keeping data bags synced like this?
[2013-12-10 17:11:15 -0500] pmacklin: I found the knife data bag from file command, but the docs only mention it will create the bag on the server, not download an existing one.
[2013-12-10 17:11:28 -0500] tomduffield: pmacklin: data bags are one of those things that is recommended to be managed on your workstation first then uploaded
[2013-12-10 17:12:30 -0500] pmacklin: ah, so it's sort of an experimental feature on the preview management console? Do you know if there are plans to add support for downloading?
[2013-12-10 17:12:45 -0500] tomduffield: pmacklin: if you want to download it you can take advantage of the 'show' sub-command do something like this: knife data_bag show <databag> <databag_item> -Fj > file.json
[2013-12-10 17:13:27 -0500] tomduffield: pmacklin: its not really an experimental feature
[2013-12-10 17:14:33 -0500] pmacklin: ah, i see the -F format option explained on the docs: http://docs.opscode.com/knife_data_bag.html#show What does the -j command do?
[2013-12-10 17:15:02 -0500] tomduffield: pmacklin: the j is actually part of the -F command. -Fj is short code for --format json
[2013-12-10 17:16:20 -0500] pmacklin: that makes perfect sense, heh. Thanks!
[2013-12-10 17:18:36 -0500] tomduffield: pmacklin: no problem. but from now on make sure to create your data bags locally then upload them using 'from file' ;)
[2013-12-10 17:37:02 -0500] pmacklin: tomduffield: I ran this just now and got some positive output:
[2013-12-10 17:37:06 -0500] pmacklin: knife data bag create nodejs npm
[2013-12-10 17:37:09 -0500] pmacklin: Created data_bag[nodejs]
[2013-12-10 17:37:12 -0500] pmacklin: Created data_bag_item[npm]
[2013-12-10 17:37:31 -0500] pmacklin: But I can't find the data bag anywhere on disk. I was in the root of my chef repo when I ran it.
[2013-12-10 17:37:33 -0500] tomduffield: pmacklin: yes, that will create those on the server but not on your local workstation
[2013-12-10 17:37:41 -0500] tomduffield: you need to create the directories manually
[2013-12-10 17:38:02 -0500] tomduffield: from your chef-repo run `mkdir -p data_bags/nodejs`
[2013-12-10 17:38:12 -0500] tomduffield: (if you're on a *nix based system)
[2013-12-10 17:38:13 -0500] pmacklin: they don't show up on the server either yet.
[2013-12-10 17:38:26 -0500] tomduffield: pmacklin: you may need to refresh the page
[2013-12-10 17:38:55 -0500] pmacklin: Refresh did it. Thanks.
[2013-12-10 17:40:15 -0500] pmacklin: right, you meant to follow the manual steps, not the knife steps: http://docs.opscode.com/essentials_data_bags.html#manually my bad.
[2013-12-10 17:40:55 -0500] tomduffield: pmacklin: no worries
[2013-12-10 18:11:29 -0500] vt102: I'm running 11.0.8 on my server, and 11.6.0 on my clients.  It appears the client version is determined by the server...how high can I go on the server?  I seem to be hitting CHEF-4305 bug and want to try 11.6.2.  I assume that will work fine, but wondered if there was a source to confirm.
[2013-12-10 18:11:46 -0500] vt102: Sorry, how high can I go on the client, with 11.0.8 server?
[2013-12-10 19:50:15 -0500] chrisan: is there a way to get the opscode php cookbook to install php5.5 on ubuntu 12.04?
[2013-12-10 20:43:39 -0500] tligda: chrisan: Looks like you can update node['php']['version'] to 5.5.6 and update node['php']['install_method'] to 'package' and you're good for at least a test.
[2013-12-10 20:55:13 -0500] allaire: Hi, I currently wrap many cookbooks in my own corp cookbook. Each recipe in that cookbook wraps another cookbook, i.e we have a nginx recipe in our corp cookbook that wraps the nginx-cookbook. Is there any disadvantage of doing so (wrap cookbooks using recipes in one corp cookbook) instead of many wrapper cookbooks?
[2013-12-10 21:07:56 -0500] chrisan: tligda: where would I put that if I'm using Vagrant?  I tried adding it to attributes/default.rb but it still installed php 5.3.  Alos where did you find that? I think the underlying issue is ubuntu 12.04's default package for php only goes up to 5.3 and you need to add a 3rd party repo to use 5.4 or 5.5
[2013-12-10 21:13:35 -0500] tligda: chrisan: https://github.com/opscode-cookbooks/php That's where I found out the information.
[2013-12-10 21:14:01 -0500] tligda: And I misspoke. It needs node['php']['install_method'] to be set to 'source'
[2013-12-10 21:14:38 -0500] tligda: chrisan: If you install from source, it will use the version attribute to download the specified version.
[2013-12-10 21:14:46 -0500] chrisan: aha, ty
[2013-12-10 21:14:48 -0500] tligda: chrisan: Then compile from source.
[2013-12-10 23:22:53 -0500] adamdill: I'm trying to upgrade to a paid account, says I need to enter contact information, so i enter it under billing, but keep getting an error. anyway around this?
