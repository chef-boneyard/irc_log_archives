[2013-03-14 15:46:33 -0400] DaveK: hi
[2013-03-14 15:47:43 -0400] DaveK: i got a problem with the tutorial. iam supposed to bootstrap the node now and iam running into a network problem
[2013-03-14 15:48:14 -0400] ngrayson: DaveK i would reccommend reading up on vagrant http://docs-v1.vagrantup.com/v1/docs/getting-started/index.html
[2013-03-14 15:51:03 -0400] DaveK: i dont know, if vagrant is the problem here, when iam using a knife command
[2013-03-14 15:51:42 -0400] DaveK: iam just following the tutorial step-by-step and it seems not to work as easy as it is described
[2013-03-14 15:51:52 -0400] ngrayson: yeah that is strange
[2013-03-14 15:52:32 -0400] ngrayson: are you just trying to learn some chef?
[2013-03-14 15:52:42 -0400] DaveK: yep
[2013-03-14 15:53:04 -0400] ngrayson: http://berkshelf.com/ is a great way to author cookbooks
[2013-03-14 15:53:08 -0400] DaveK: iam just trying to get an easy setup going, to get a view, what it is capable of
[2013-03-14 15:53:12 -0400] ngrayson: it handles all of the vagrant for you
[2013-03-14 15:53:53 -0400] DaveK: it not that i have the time to get to learn everything.
[2013-03-14 15:54:41 -0400] DaveK: iam just a junior programmer who has to evalutate if vagrant+chef would suit our needs and if its worth to get it going
[2013-03-14 15:54:59 -0400] ngrayson: do you use and CM right now?
[2013-03-14 15:55:15 -0400] DaveK: cm?
[2013-03-14 15:55:36 -0400] ngrayson: configuration management, puppet or chef
[2013-03-14 15:55:48 -0400] percent20: I am learning chef with vagrant so chef solo. I am running into a problem where I am using the git block for scm. However, I think we have an abnormally large git repo so the git clone is timing out is there a way to up the timeout? I can't seem to find anything on it for the git part.
[2013-03-14 15:55:50 -0400] DaveK: we arent using any right know
[2013-03-14 15:56:20 -0400] DaveK: i have to evaluate if vagrant + puppet or chef would suit our needs
[2013-03-14 15:56:26 -0400] ngrayson: ah gotch
[2013-03-14 15:56:27 -0400] ngrayson: a
[2013-03-14 15:56:39 -0400] DaveK: to do that, iam trying to get a setup running to see what it can do
[2013-03-14 15:56:53 -0400] ngrayson: berkshelf is a quick and easy way to make some cookbooks 
[2013-03-14 15:57:06 -0400] DaveK: atm where at stoneage: setting up induvidual vm's
[2013-03-14 15:57:55 -0400] DaveK: to end that it would be nice to have same nodes for everyone on a team, so that configurations on different vms wont matter that much anymore
[2013-03-14 15:58:19 -0400] ngrayson: right we don't have a dev environment at all
[2013-03-14 15:58:44 -0400] ngrayson: we have a deploy repo with vagrantfiles for each teams setup
[2013-03-14 15:59:23 -0400] ngrayson: so it sets up a load balancer, app server, db servers etc for each dev
[2013-03-14 15:59:51 -0400] ngrayson: this is how vagrant uses chef-solo http://docs-v1.vagrantup.com/v1/docs/provisioners/chef_solo.html
[2013-03-14 16:04:13 -0400] DaveK: thanks for the help. i think ill just read a lot more, until ill try my luck again on setup up that node :)
[2013-03-14 16:04:36 -0400] ngrayson: having vagrant do the chef run is way easier
[2013-03-14 16:04:43 -0400] ngrayson: idk why that guide does it that way
[2013-03-14 16:05:28 -0400] jsnapp: DaveK can you describe your problem a little more?
[2013-03-14 16:05:44 -0400] jsnapp: what part of the tutorial are you running into problems
[2013-03-14 16:06:37 -0400] DaveK: well its not fun at all to do it from my workstation. iam in a restrictive company network so basically i have to set the proxy a lot to fix 50% of the problems, but the other 50% can only be resolved by hoping someone else had it before me
[2013-03-14 16:07:32 -0400] DaveK: so maybe iam better off to evaluate it in theory
[2013-03-14 16:12:18 -0400] jsnapp: DaveK so, did you want more help with the network problem you were running into?
[2013-03-14 16:19:25 -0400] DaveK: jsnapp: i was trying to go through the tutorial at https://learnchef.opscode.com/quickstart/converge/
[2013-03-14 16:20:32 -0400] DaveK: jsnapp: when i tried to bootstrap the node with this command: knife bootstrap localhost \ --ssh-user vagrant \ --ssh-password \ -- ssh-port 2222 \  --run-list "recipe[aliases],recipe[apache2],recipe[networking_basic]" \ --bootstrap-proxy <MYPROXY> \  --sudo
[2013-03-14 16:20:47 -0400] DaveK: i got to a connection problem
[2013-03-14 16:21:26 -0400] DaveK: Output: Bootstrapping Chef on localhost. ERROR: Network Error: Connection refused - connect(2). Check your knife configuration and network settings
[2013-03-14 16:24:14 -0400] j^2: i created: http://www.reddit.com/r/chef_opscode/ for blogposts and ideally useful chef resources
[2013-03-14 16:24:58 -0400] jsnapp: DaveK i'll see if i can replicate that on my machine
[2013-03-14 16:26:49 -0400] jsnapp: DaveK: actually, can you verify that you can run 'vagrant ssh' successfully?  that will ssh to the vm
[2013-03-14 16:28:39 -0400] DaveK: i cant vagrant ssh, due iam using windows
[2013-03-14 16:28:47 -0400] DaveK: but i used putty and can ssh to it
[2013-03-14 16:29:59 -0400] DaveK: i followed the tutorial so iam using a git bash while working on my windows workstation
[2013-03-14 16:31:37 -0400] DaveK: and i prefer to leave it this way. the alternatives i have would be 'more' complicated and have a lot more potential problems for me.
[2013-03-14 16:40:01 -0400] jsnapp: DaveK: does running the knife command with -VV give any more useful debug info?
[2013-03-14 16:41:55 -0400] DaveK: jsnapp: appended \ --VV to the command but no more information
[2013-03-14 16:42:16 -0400] jsnapp: also does replacing localhost with 127.0.0.1 make any difference?
[2013-03-14 16:42:49 -0400] DaveK: nope
[2013-03-14 16:43:02 -0400] DaveK: and it shouldnt ;)
[2013-03-14 16:43:18 -0400] jsnapp: ha, i know 
[2013-03-14 16:44:55 -0400] jsnapp: another shot in the dark .. what happens when you get rid of the bootstrap-proxy parameter?
[2013-03-14 16:46:38 -0400] jsnapp: i don't have a windows workstation to test from so forgive my ignorant question .. but having the backslashes in the command shouldn't be causing a problem right?
[2013-03-14 16:47:24 -0400] izo: hows going everyone
[2013-03-14 16:50:16 -0400] DaveK: jsnapp: get rid bootstrap-proxy-parameter: same output. i dont think that it is needed, but i ran into so many proxy problems during the tutorial, that i start to play safe :)
[2013-03-14 16:50:27 -0400] DaveK: already tried that
[2013-03-14 16:50:36 -0400] DaveK: bachslashes arent a problem
[2013-03-14 16:50:55 -0400] jsnapp: ok, you tried it without the backslashes?
[2013-03-14 16:51:11 -0400] jsnapp: and you used putty to connect to port 2222 just fine?
[2013-03-14 16:51:24 -0400] DaveK: yep
[2013-03-14 16:51:31 -0400] DaveK: can connect to it via putty
[2013-03-14 16:51:55 -0400] DaveK: so it seems to be working "somehow", but the output isnt right
[2013-03-14 16:52:28 -0400] jsnapp: well, the vagrant is up and accessible via ssh on port 2222 as it should be
[2013-03-14 16:52:46 -0400] jsnapp: but knife bootstrap is failing to connect .. i just don't know why
[2013-03-14 16:52:47 -0400] DaveK: leaving out the backslashes or using slashes instead wont work
[2013-03-14 16:53:31 -0400] jsnapp: leaving out the backslashes and typing the whole command on one line should work
[2013-03-14 16:53:36 -0400] jsnapp: why wouldn't it?
[2013-03-14 16:53:41 -0400] DaveK: doing that causes my bash to recognize the command as "knife bootstrap" and giving out the list of possible arguments
[2013-03-14 16:56:04 -0400] jsnapp: knife bootstrap localhost -x vagrant -P vagrant -p 2222 sudo --bootstrap-proxy <YOURPROXY>
[2013-03-14 16:56:21 -0400] jsnapp: you can run the whole thing on one line
[2013-03-14 16:56:25 -0400] DaveK: ah wait a second. the --VV was the problem. skipped out the \
[2013-03-14 16:56:34 -0400] DaveK: doing something else now
[2013-03-14 16:57:04 -0400] jsnapp: i just wanted to make sure the backslashes weren't somehow preventing the bootstrap command from seeing ssh-port 2222
[2013-03-14 16:58:07 -0400] jsnapp: it's just one dash not two  '-VV'
[2013-03-14 16:59:03 -0400] DaveK: i think its working now.
[2013-03-14 16:59:23 -0400] DaveK: at least its synchronizing the cookbooks
[2013-03-14 16:59:46 -0400] DaveK: did more, but still crashed
[2013-03-14 17:00:12 -0400] maplebed: j^2: I added a link to your reddit channel, but I'm apparently karmaless or something so it won't let me add any more.  nice idea though.
[2013-03-14 17:00:34 -0400] j^2: Oh, i can change that
[2013-03-14 17:01:12 -0400] maplebed: huh.  it didn't even put up the one I did successfully submit.
[2013-03-14 17:01:20 -0400] j^2: hmm
[2013-03-14 17:01:22 -0400] j^2: odd looking
[2013-03-14 17:01:58 -0400] maplebed: anyway.  the links I wanted to submit were http://devopsanywhere.blogspot.it/2012/11/how-to-write-reusable-chef-cookbooks.html and http://jtimberman.housepub.org/blog/2012/11/19/chef-repository-berkshelf-conversion/
[2013-03-14 17:02:09 -0400] j^2: it seems i need to approve it
[2013-03-14 17:02:15 -0400] j^2: need to turn that crap off :P
[2013-03-14 17:03:52 -0400] j^2: maplebed: can you post that berkshelf one? i'd like to see what happens
[2013-03-14 17:04:30 -0400] maplebed: k.
[2013-03-14 17:05:02 -0400] maplebed: it went through
[2013-03-14 17:05:14 -0400] j^2: yeah i made you an "approved subbmiter" 
[2013-03-14 17:05:22 -0400] j^2: meh, it's a start ;)
[2013-03-14 17:05:36 -0400] maplebed: ah, now they're both there.
[2013-03-14 17:05:38 -0400] maplebed: heh...
[2013-03-14 17:08:32 -0400] maplebed: there are a few more I've come across I'll add.
[2013-03-14 17:10:00 -0400] j^2: nice thanks!
[2013-03-14 17:17:29 -0400] maplebed: I think that's all for now.
[2013-03-14 17:26:08 -0400] DaveK: jsnapp: finally got past the bootstrap step. there a just a 'few' holes in that tutorial ;)
[2013-03-14 17:34:46 -0400] jsnapp: DaveK: just for clarity sake what was it that got you past the network connection problem?
[2013-03-14 17:36:16 -0400] DaveK: leaving the backslashes out :(
[2013-03-14 17:36:33 -0400] DaveK: next problem was related to apt-get
[2013-03-14 17:36:40 -0400] DaveK: but google was my friend
[2013-03-14 17:39:07 -0400] DaveK: jsnapp: leaving the backslashes out fixed that network error message. after that it started to synchronize cookbooks and ran into errors which were related to out-of-date packages. sudo apt-get update on the vm brought me past this point. vagrant reload and everything works now
[2013-03-14 17:41:05 -0400] DaveK: jsnapp: thx for your help. but without you i wouldnt  have tried to leave the backslashes out and ill still be stuck. as a newb you stick to the tutorial, because its right. even it is not... :-)
[2013-03-14 17:43:58 -0400] N00BZ: I have a question?  I'm trying to bootstrap a server with Chef 11.4  but when its trying to make the callback on port 4000 it fails but there is nothing listening on that port? what service could be down?  Or maybe its on a different port and i have no clue where the config file would be for that? 
[2013-03-14 17:45:15 -0400] jsnapp: DaveK thanks for the input .. i'll see if i can get someone to make some changes to that tutorial
[2013-03-14 17:52:25 -0400] ngrayson: N00BZ what version of chef server do you have?
[2013-03-14 17:53:36 -0400] jsnapp: DaveK: backslashes normally allow someone to spread a long command across multiple lines .. does git bash not recognize backslashes like that?  or do you think there was just a problem with copy and paste?  maybe extra characters getting in there?
[2013-03-14 17:53:52 -0400] N00BZ: ngrayson:chef-server-11.0.6-1
[2013-03-14 17:54:16 -0400] ngrayson: 4000 is the correct port
[2013-03-14 17:54:25 -0400] ngrayson: can you gist your knife.rb
[2013-03-14 18:00:00 -0400] N00BZ: ?
[2013-03-14 18:00:19 -0400] jsnapp: NOOBZ I'm pretty sure default for Chef 11 server is to use 443 
[2013-03-14 18:00:37 -0400] ngrayson: well that is new :D
[2013-03-14 18:01:03 -0400] N00BZ: tcp        0      0 0.0.0.0:443                 0.0.0.0:*                   LISTEN      5205/nginx
[2013-03-14 18:01:08 -0400] N00BZ: would that be it?
[2013-03-14 18:01:25 -0400] jsnapp: yep
[2013-03-14 18:01:47 -0400] jsnapp: try changing chef_server_url to 'https://your-server.com'
[2013-03-14 18:02:05 -0400] jsnapp: that change goes in knife.rb on your workstation
[2013-03-14 18:02:11 -0400] jsnapp: then retry bootstrap
[2013-03-14 18:04:34 -0400] N00BZ: HAHA! That was it
[2013-03-14 18:07:24 -0400] DaveK: jsnapp: i dont know much about git-bash behaviour. i just used it because the tutorial recommended it for windows users. and i think its easy to install and use, so its a good choice to pick it for the tutorial. i didnt copy paste it and checked it a lot of times for extra characters.
[2013-03-14 18:13:03 -0400] jsnapp: so you typed the whole command?
[2013-03-14 18:13:28 -0400] jsnapp: did you hit 'enter' after each \ ?
[2013-03-14 18:15:13 -0400] jsnapp: DaveK ^^
[2013-03-14 18:26:54 -0400] DaveK: jsnapp: yep i typed the whole command with \ in one line
[2013-03-14 18:27:54 -0400] DaveK: jsnapp: assumed it was split like this for visual purpose in the tut. so i didnt hit 'enter' after each \.
[2013-03-14 18:29:05 -0400] jsnapp: the \'s are there to split the line into multi line for visual purpose .. i think it failed because you didn't put the 'enter' after each
[2013-03-14 18:29:23 -0400] DaveK: jsnapp: possible
[2013-03-14 18:29:39 -0400] DaveK: jsnapp: never had to use \'s for that
[2013-03-14 18:29:50 -0400] DaveK: jsnapp: so most likely my bad :/
[2013-03-14 18:29:56 -0400] jsnapp: copy and paste would have worked ..
[2013-03-14 18:30:25 -0400] jsnapp: but it's good to know that a change there might be worthwhile since it obvious could hang someone up
[2013-03-14 18:30:29 -0400] jsnapp: thanks again for the input
[2013-03-14 19:09:00 -0400] sebastian: are the office hours happening yet? I signed up, but have not seen an email with a link to the google hangout
[2013-03-14 22:17:32 -0400] rex_: hello, I just started learning chef, and my concern is about the cookbooks that getting upload from a workstation or repository to the chef-server, when we do upload using knife cookbook upload , where is exactly the cookbook getting upload in the server? is it on a file or getting stored in couchdb? I may not be getting the concept around this.
[2013-03-14 22:18:44 -0400] rex_: any idea or explanation will be much appreciated
[2013-03-14 22:23:57 -0400] jtimberman: rex_: in open source chef server, the cookbook files are stored on the filesystem as "checksum" files. they're intended to be accessed through the API rather than directly. 
[2013-03-14 22:25:32 -0400] jtimberman: rex_: metadata information, including a mapping of the cookbook directory/file structure to the checksums is stored in couchdb in chef 10, and postgresql in chef 11.
[2013-03-14 22:29:57 -0400] rex_: Hi @jtimberman, thanks for the reply, I am actually trying to learn the concept of chef to help me decide whether we will use this in our Org, in addition to my question, when trying to setup the chef-repo in my workstation I did git clone the chef-repo in git, when we do knife upload does all of this gets uploaded as well in the server as checksum? and I noticed the chefignore, is this being used to uninclude files in the chef-repo?
[2013-03-14 22:33:06 -0400] rex_: including roles and data_bags
[2013-03-14 22:33:08 -0400] jtimberman: rex_: chefignore is like gitignore. knife cookbook upload won't upload patterns that are matched in the chefignore file.
[2013-03-14 22:33:22 -0400] jtimberman: mainly so you don't upload editor temp files and the like
[2013-03-14 22:36:10 -0400] rex_: okay, that's very helpful to understand all of this, I read the doc about knife upload , which I believe uploads not only cookbooks but including roles, environments and data bags, is the effect of chefignore to knife upload command is similar when doing knife cookbook upload?
[2013-03-14 22:36:43 -0400] rex_: bascially everything in my chef-repo
