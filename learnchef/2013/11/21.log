[2013-11-21 02:07:05 -0500] jjjjjosh: i'm trying to create a super simple role and it's not working and i'm having trouble figure out why
[2013-11-21 02:07:11 -0500] jjjjjosh: can someone take a look at this?
[2013-11-21 02:07:12 -0500] jjjjjosh: https://gist.github.com/joshuaconner/76ac5d6328f885eaf72c
[2013-11-21 02:08:04 -0500] jjjjjosh: omg i just figured it out
[2013-11-21 02:08:17 -0500] jjjjjosh: 'secret-key' should be 'secret_key'
[2013-11-21 02:13:26 -0500] jjjjjosh: actually while i'm here though  what is the command to re-run a failed role once i have (hopefully) fixed it and re-uploaded it
[2013-11-21 02:13:33 -0500] jjjjjosh: using `knife role from file [filename]`
[2013-11-21 02:33:41 -0500] mmzyk: jjjjjosh what do you mean re-run it?
[2013-11-21 02:33:58 -0500] jjjjjosh: i've updated my role
[2013-11-21 02:34:13 -0500] jjjjjosh: i want the client to try and re-run it
[2013-11-21 02:34:30 -0500] jjjjjosh: looks like i need to ssh into the client and do `sudo chef-client`?
[2013-11-21 02:35:47 -0500] mmzyk: Yeah, so you've applied the role to that client, so when you run chef-client on the client it will pick up the new role automatically from the server and use that.
[2013-11-21 02:36:16 -0500] mmzyk: You can use knife ssh issue the command from the work station if you'd rather not ssh in directly.
[2013-11-21 02:36:34 -0500] mmzyk: although it's really just knife doing ssh for you under the covers using the keys it knows.
[2013-11-21 02:36:57 -0500] jjjjjosh: yeah
[2013-11-21 02:37:04 -0500] mmzyk: http://docs.opscode.com/chef/knife.html#ssh
[2013-11-21 02:37:04 -0500] jjjjjosh: would be nice to get it working the "chef way"
[2013-11-21 02:37:32 -0500] jjjjjosh: so this happens: https://gist.github.com/anonymous/b13a365c774871e3cb6b
[2013-11-21 02:38:42 -0500] jjjjjosh: here's the verbose version: https://gist.github.com/joshuaconner/cb35c6c176efb905cc68
[2013-11-21 02:39:20 -0500] mmzyk: Looks like for some reason the chef server knows about the node but doesn't know it's FQDN.
[2013-11-21 02:40:13 -0500] mmzyk: If this is a brand new node it could be that that data hasn't been indexed into the search index yet.
[2013-11-21 02:40:21 -0500] mmzyk: Are you running against hosted by chance?
[2013-11-21 02:40:25 -0500] jjjjjosh: i am 
[2013-11-21 02:40:48 -0500] jjjjjosh: i can look and see that is the case
[2013-11-21 02:40:53 -0500] mmzyk: yeah, so we (Opscode, I work for them) just did an upgrade to the search server this evening that took it offline for a while, so it's queue is backed up.
[2013-11-21 02:41:21 -0500] mmzyk: It's churning through it, but my guess here is that your nodes data isn't in the index yet.
[2013-11-21 02:41:32 -0500] jjjjjosh: ahh okay  so that'll work eventually though
[2013-11-21 02:41:45 -0500] mmzyk: Sorry about that. In the mean time, you can ssh w/o knife into the box and run sudo chef-client and it will work fine.
[2013-11-21 02:41:51 -0500] jjjjjosh: like if i used `knife ec2 create` tomorrow, it would be in the index right away-ish?
[2013-11-21 02:42:13 -0500] jjjjjosh: (no problem  i'm happy to hear it's not something i did wrong)
[2013-11-21 02:42:26 -0500] mmzyk: Should be. Generally we aim for under a 5 minute lag time, but we'd been seeing slowness in hosted, hence the hardware upgrade today.
[2013-11-21 02:42:39 -0500] jjjjjosh: got it, thanks!
[2013-11-21 02:42:55 -0500] mmzyk: Our solr instance is do for a refresh and update anyway. It's on our list to make that better.
[2013-11-21 02:43:08 -0500] mmzyk: s/do/due
[2013-11-21 02:43:19 -0500] jjjjjosh: thanks again!
[2013-11-21 02:43:31 -0500] mmzyk: yeah, no problem.
[2013-11-21 12:43:00 -0500] ragusource: hey guys, is it possible to override a template that's used by a cookbook?
[2013-11-21 12:47:58 -0500] ragusource: What I am trying to do is customise the apache2 cookbook.
[2013-11-21 19:47:55 -0500] CPS: how do i check to see if a service is installed on a node from within a recipe?
[2013-11-21 20:23:08 -0500] CPS: i'm trying to have one resource notify an execute block. the block i want to notify to run has action :nothing, so that it isn't run every time
[2013-11-21 20:23:46 -0500] CPS: but when it run it it gets skipped
[2013-11-21 23:07:34 -0500] fveillette: https://tickets.opscode.com/browse/COOK-3542
[2013-11-21 23:07:39 -0500] fveillette: i still have this problem
[2013-11-21 23:07:49 -0500] fveillette: even if i loaded the latest windows cookbook
[2013-11-21 23:07:49 -0500] fveillette: why?
