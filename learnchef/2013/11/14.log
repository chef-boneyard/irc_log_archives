[2013-11-14 07:54:49 -0500] forehand: Anyone available?
[2013-11-14 08:34:15 -0500] holms: dead everywhere
[2013-11-14 13:34:40 -0500] juzerali: what does an id field in databags.json represent?
[2013-11-14 13:34:52 -0500] juzerali: is it a unique name for a databag?
[2013-11-14 14:50:11 -0500] vt102: How should I be installing ruby gems?  I have obviously done as root in past, and apparently you shouldn't do that?  But I can't install into /opt/chef unless root.  Normal gem install knife-vsphere gives "You don't have write permissions into the /opt/chef/embedded/lib/ruby/gems/1.9.1 directory."
[2013-11-14 14:50:32 -0500] vt102: Yet, if I install knife-vsphere as root, then I don't see the vsphere subcommand unless I run knife as root.
[2013-11-14 14:58:59 -0500] bean__: I have all of my ruby stuff set up to use my user account -- is this on a server?
[2013-11-14 15:44:00 -0500] vt102: On your workstation, who should own /opt/chef?  It installed as user 999.  I'm guessing it should be the local user account?  Not root, nor a chef role account?
[2013-11-14 16:34:07 -0500] mad-wop: hello
[2013-11-14 16:43:46 -0500] mad-wop: who can help me?
[2013-11-14 16:47:32 -0500] jbz: mad-wop: With what? :-)
[2013-11-14 16:53:25 -0500] mad-wop: jbz
[2013-11-14 16:53:51 -0500] jbz: mad-wop ?
[2013-11-14 16:54:04 -0500] mad-wop: well, i have to understand how to create a chef coobook 
[2013-11-14 16:54:21 -0500] mad-wop: jbz , can we talk in pvt?
[2013-11-14 16:58:28 -0500] cannonball: jbz: Good starting point:  https://learnchef.opscode.com/
[2013-11-14 17:21:58 -0500] ras__: hi is anyone around? 
[2013-11-14 17:25:25 -0500] ras__: Hi i'm trying to connect my server from Vagrant with knife bootstrap but keep getting the following error: Bootstrapping Chef on 127.0.0.1
[2013-11-14 17:25:25 -0500] ras__: ERROR: Network Error: Connection refused - connect(2)
[2013-11-14 17:25:25 -0500] ras__: Check your knife configuration and network settings
[2013-11-14 17:25:25 -0500] ras__: Any tips?
[2013-11-14 17:28:18 -0500] cannonball: Have you changed your hostname since you installed chef-server, maybe to change it from a hostname to a FQDN?
[2013-11-14 17:28:27 -0500] cannonball: https://tickets.opscode.com/browse/CHEF-4105
[2013-11-14 17:35:03 -0500] ras__: i don't think so, i don't know how to do that 
[2013-11-14 18:36:38 -0500] sygyzy: good morning chefs
[2013-11-14 18:38:12 -0500] jbz: ohai
[2013-11-14 18:40:09 -0500] ras__: sygyzy: jbz any chance eiither of you have experience dealing with network connection errors with knife bootstrap? 
[2013-11-14 18:40:28 -0500] sygyzy: experience with bootstrapping but not network connection errors
[2013-11-14 18:40:30 -0500] ras__: I've been working on this since last night and haven't had much luck
[2013-11-14 18:40:34 -0500] sygyzy: what is the issue?
[2013-11-14 18:40:42 -0500] ras__: ah gotcha
[2013-11-14 18:40:56 -0500] ras__: trying to connect to my vagrant server
[2013-11-14 18:41:07 -0500] ras__: knife bootstrap 127.0.0.1 --sudo -x vagrant -P vagrant -N "target1"
[2013-11-14 18:41:21 -0500] ras__: it keep saying : ERROR: Network Error: Connection refused - connect(2) Check your knife configuration and network settings
[2013-11-14 18:41:41 -0500] sygyzy: wait
[2013-11-14 18:41:49 -0500] sygyzy: you have a vagrant instance running on localhost
[2013-11-14 18:41:54 -0500] sygyzy: and you are trying to bootstrap that machine?
[2013-11-14 18:41:56 -0500] sygyzy: that VM
[2013-11-14 18:42:31 -0500] ras__: I'm following the chef weekly webinar series i thought that was what I was supposed to do. am i mistaken? 
[2013-11-14 18:42:55 -0500] sygyzy: I am not familiar with the webinar. You are not mistaken. I am just trying to understand the setup
[2013-11-14 18:43:52 -0500] sygyzy: can you try knife bootstrap 127.0.0.1 -x vagrant --sudo
[2013-11-14 18:43:59 -0500] sygyzy: and enter vagrant pw when you get the prompt
[2013-11-14 18:44:03 -0500] sygyzy: leave out -N and target
[2013-11-14 18:44:25 -0500] sygyzy: also, do you even know if 127.0.0.1 is accessible? d
[2013-11-14 18:44:25 -0500] ras__: sure let me try 
[2013-11-14 18:44:49 -0500] ras__: no luck
[2013-11-14 18:45:36 -0500] ras__: i thought it was because with I ran ssh vagrant@127.0.0.1 -p 2201 it worked fine
[2013-11-14 18:45:38 -0500] sygyzy: can you cut and paste your error message?
[2013-11-14 18:45:46 -0500] ras__: Bootstrapping Chef on 127.0.0.1
[2013-11-14 18:45:47 -0500] ras__: ERROR: Network Error: Connection refused - connect(2)
[2013-11-14 18:45:47 -0500] ras__: Check your knife configuration and network settings
[2013-11-14 18:45:48 -0500] ras__: Richies-MacBook-Pro% 
[2013-11-14 18:46:03 -0500] sygyzy: are you using hosted chef?
[2013-11-14 18:46:08 -0500] sygyzy: ie opscode
[2013-11-14 18:46:58 -0500] ras__: yes i believe so
[2013-11-14 18:47:11 -0500] ras__: my entire install is off the opscode website
[2013-11-14 18:47:57 -0500] sygyzy: oh
[2013-11-14 18:47:59 -0500] sygyzy: so here's my theory
[2013-11-14 18:48:09 -0500] sygyzy: your vagrant VM is not accessible outside of your box
[2013-11-14 18:48:16 -0500] sygyzy: hence opscode cannot actually communicate with it
[2013-11-14 18:48:19 -0500] sygyzy: which actually makes a lot of sense
[2013-11-14 18:48:36 -0500] ras__: ohhhh
[2013-11-14 18:48:38 -0500] sygyzy: for example, use a different computer, outside your network and try to ssh into vagrant
[2013-11-14 18:48:40 -0500] sygyzy: you wouldnt be able to
[2013-11-14 18:48:51 -0500] sygyzy: 127.0.0.1 is a localaddress
[2013-11-14 18:48:58 -0500] sygyzy: it's not accessible to others
[2013-11-14 18:49:11 -0500] ras__: got it 
[2013-11-14 18:49:13 -0500] sygyzy: Did you skip any steps in the tutorial?
[2013-11-14 18:49:32 -0500] ras__: i did take out their given vagrant file and use my own box
[2013-11-14 18:49:39 -0500] sygyzy: oh that's not the problem
[2013-11-14 18:49:44 -0500] sygyzy: do you have a link to the series?
[2013-11-14 18:49:58 -0500] ras__: https://learnchef.opscode.com/screencasts/fundi-webinar-week-3/
[2013-11-14 18:51:46 -0500] sygyzy: how come you are using vagrant 
[2013-11-14 18:51:58 -0500] sygyzy: instead of the server they mention, in the cloud
[2013-11-14 18:53:16 -0500] ras__: mostly bc i've toyed around with it before, and am planning to do further projects with vagrant
[2013-11-14 18:54:18 -0500] sygyzy: i think you are making things hard on yourself by using vagrant in this manner
[2013-11-14 18:54:25 -0500] sygyzy: i think you can use vagrant for testing locally, no problem
[2013-11-14 18:54:25 -0500] ras__: fair
[2013-11-14 18:54:51 -0500] ras__: ill finish the tutorial with the server they mentioned, appreciate the help! 
[2013-11-14 18:54:54 -0500] sygyzy: My guess is to have this work with vagrant, is you'd need to forward the vagrant port to your IP
[2013-11-14 18:54:57 -0500] sygyzy: so it's reachable
[2013-11-14 18:55:08 -0500] sygyzy: even then it'd be uncertain
[2013-11-14 18:55:11 -0500] ras__: gotcha
[2013-11-14 18:55:14 -0500] sygyzy: yeah please try using their EC2 server
[2013-11-14 18:55:20 -0500] sygyzy: just to get past the tutorial. it's free afterall
[2013-11-14 18:55:42 -0500] ras__: haha true 
[2013-11-14 19:03:36 -0500] vt102: On your workstation, who should own /opt/chef?  It installed as user 999.  I'm guessing it should be the local user account?  Not root, nor a chef role account?
[2013-11-14 19:24:38 -0500] sygyzy: mine is owned by root
[2013-11-14 19:24:41 -0500] sygyzy: i am not sure if that's bad
[2013-11-14 19:38:30 -0500] vt102: sygyzy: I have two different workstations.  knife-vsphere is working on one, which has some root ownership, some 999.  It's not working on the one that's all 999.  Not really sure what the correct resolution is...I thought all gems were supposed to be installed by local user, not root?
[2013-11-14 19:38:35 -0500] vt102: Not a ruby guy
[2013-11-14 19:38:57 -0500] sygyzy: i am not either. excuse the ignorance but what is user 999?
[2013-11-14 19:44:54 -0500] vt102: It's just the linux user id my /opt/chef is getting installed as on ubuntu 12.04
[2013-11-14 19:45:32 -0500] vt102: there's not user with uid 999 on my system, I'm guessing it's in a tar file or something.
[2013-11-14 20:33:54 -0500] boldfield: I've got a question re: test-kitchen.  I'm using the vagrant driver and am trying to test on ubuntu 12.04.  My issue is that bootstrapping is failing due to an out of date apt-cache (a package dependency of the cookbook i'm testing fails when bootstrapping)
[2013-11-14 20:34:30 -0500] boldfield: I've been searching around trying to figure out how to get test-kitchen to run some provisioning of the vm prior to bootstrapping it with chef
[2013-11-14 20:35:23 -0500] boldfield: I know I can add the apt::default recipe to the runlist for the test suite, but I'd prefer not to add apt as a dependency for the cookbook 
[2013-11-14 20:35:23 -0500] boldfield: any ideas?
[2013-11-14 20:37:05 -0500] boldfield: or maybe I'm missing something and I don't need to add apt as a dependency for the cookbook, and only the run, though Im not sure how I would get that done.
[2013-11-14 21:00:34 -0500] bean__: boldfield: I'd just add apt::default to the run list.
[2013-11-14 21:48:30 -0500] sygyzy: i got disconnected, did you figure out your problem boldfield
[2013-11-14 22:34:14 -0500] boldfield: hey sygyzy, I did, thank you!
[2013-11-14 22:34:41 -0500] boldfield: it turns out that I really should be running apt-get update in the cookbook anyway so that ended up being the solution
[2013-11-14 22:34:47 -0500] boldfield: thanks for your help though
[2013-11-14 22:42:17 -0500] sygyzy: oh no problem
[2013-11-14 22:42:19 -0500] b0c1: hi
[2013-11-14 22:42:23 -0500] sygyzy: yeah it's sort of annoying but apt-get is almost mandatory
[2013-11-14 22:42:28 -0500] sygyzy: so it can do the apt-get update
[2013-11-14 22:42:39 -0500] sygyzy: btw you know that just including apt-get cookbook will run update 
[2013-11-14 22:42:50 -0500] sygyzy: you dont need to explicitly run it
[2013-11-14 22:43:01 -0500] sygyzy: or wait, you mean you did run it manually., that works too
[2013-11-14 22:43:12 -0500] b0c1: I try to create a simple infrastructure  for my application deployment. I have a workstation and a node
[2013-11-14 22:43:27 -0500] b0c1: but in the node when I call chef-client I get exception (401)
[2013-11-14 22:43:45 -0500] b0c1: I used knife upload .  in the workstation to upload everything
[2013-11-14 22:44:36 -0500] b0c1: how can I solve this?
[2013-11-14 22:44:43 -0500] sygyzy: what is 401?
[2013-11-14 22:44:45 -0500] sygyzy: authentication?
[2013-11-14 22:44:57 -0500] b0c1: yepp
[2013-11-14 22:45:05 -0500] b0c1: the whole story
[2013-11-14 22:45:30 -0500] b0c1: 1.  First the chef-client started normally, but I get error (missing dependency)
[2013-11-14 22:45:33 -0500] sygyzy: does the node have ssh installed?
[2013-11-14 22:45:42 -0500] b0c1: y
[2013-11-14 22:45:47 -0500] sygyzy: what is the dependency that is missing?
[2013-11-14 22:46:02 -0500] b0c1: 2. change the config, in workstation knife upload . -> 403 in the node
[2013-11-14 22:46:21 -0500] b0c1: sygyzy: irrevelant, I installed and uploaded with knife upload .
[2013-11-14 22:46:41 -0500] b0c1: 3. I do kniw download . and knife upload . in the server -> 401 in the client
[2013-11-14 22:46:54 -0500] b0c1: kniw = knife
[2013-11-14 22:47:00 -0500] sygyzy: Sorry I can't be more helpful. I am not sure I understand the issue
[2013-11-14 22:47:20 -0500] b0c1: the issue the workstation kick my node ass
[2013-11-14 22:47:36 -0500] b0c1: I dunno why, I dunno how, but after download/upload the node cant login
