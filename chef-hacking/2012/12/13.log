[2012-12-13 00:01:38 -0500] github-bawt: [chef] sdelano pushed 1 new commit to CHEF-3660: http://git.io/i9502g
[2012-12-13 00:01:39 -0500] github-bawt: chef/CHEF-3660 39e7a72 sdelano: CHEF-3660: only monkeypatch on ruby 1.9 and earlier
[2012-12-13 00:11:26 -0500] github-bawt: [omnibus-chef] sdelano force-pushed omnibus-windows from c5dd060 to 1225d2d: http://git.io/MxnWwg
[2012-12-13 00:11:26 -0500] github-bawt: omnibus-chef/omnibus-windows f6a766a sdelano: start of chef-windows project
[2012-12-13 00:11:27 -0500] github-bawt: omnibus-chef/omnibus-windows 1ba2091 sdelano: ruby-windows software config
[2012-12-13 00:11:27 -0500] github-bawt: omnibus-chef/omnibus-windows 19fad1a sdelano: chef-windows project needs ruby-windows
[2012-12-13 00:15:21 -0500] github-bawt: [ohai] btm pushed 3 new commits to master: http://git.io/zeSU-Q
[2012-12-13 00:15:21 -0500] github-bawt: ohai/master a21fcc7 Xabier de Zuazo: [OHAI-400] fix URI parsing bug when MAC address starts with a number
[2012-12-13 00:15:22 -0500] github-bawt: ohai/master 1143a00 Xabier de Zuazo: [OHAI-400] Removed not needed URI normalization
[2012-12-13 00:15:22 -0500] github-bawt: ohai/master 8dd5962 Bryan McLellan: 6.16.0.beta.2
[2012-12-13 02:15:49 -0500] github-bawt: [chef] danielsdeleo pushed 2 new commits to master: http://git.io/bPw7Sg
[2012-12-13 02:15:49 -0500] github-bawt: chef/master a19d39a Adam Jacob: CHEF-3688 remove stale attribute read protection...
[2012-12-13 02:15:49 -0500] github-bawt: chef/master c97007b danielsdeleo: Merge branch 'CHEF-3688'
[2012-12-13 04:29:37 -0500] jtimberman: sascha_d: yo
[2012-12-13 04:30:06 -0500] sascha_d: ohai!
[2012-12-13 04:30:27 -0500] jtimberman: sascha_d: hayyyyy. what is it that you're doing? there's a couple places that use the metadata.rb
[2012-12-13 04:30:34 -0500] sascha_d: setting shit up
[2012-12-13 04:30:39 -0500] jtimberman: kitchen init?
[2012-12-13 04:30:52 -0500] sascha_d: well, I tried to make a kitchenfile
[2012-12-13 04:30:56 -0500] sascha_d: and run kitchentest
[2012-12-13 04:31:03 -0500] sascha_d: with the openstack runner
[2012-12-13 04:31:42 -0500] jtimberman: ok so, openstack runner stuff is ... ahem, strangely order dependent (shouldn't be in this case, imo, but it is, not sure why)
[2012-12-13 04:31:44 -0500] sascha_d: but something is happening where it tells me it can't find a metadata.rb in blah/blah/cookbooks
[2012-12-13 04:31:49 -0500] sascha_d: ok
[2012-12-13 04:31:57 -0500] sascha_d: I write code for a living too. I don't judge.
[2012-12-13 04:31:58 -0500] jtimberman: do you have metadata.rb in blah/blah/cookbooks?
[2012-12-13 04:32:11 -0500] sascha_d: I hope not, but let me check :)
[2012-12-13 04:32:28 -0500] jtimberman: can you gist the error/stacktrace etc from where its complaining?
[2012-12-13 04:32:45 -0500] sascha_d: nope
[2012-12-13 04:32:56 -0500] sascha_d: I mean, soory, there are no metadata.rb files in that dir
[2012-12-13 04:33:07 -0500] sascha_d: I can gist you. It's on my other laptop that actively resists irc
[2012-12-13 04:33:12 -0500] sascha_d: corp issue
[2012-12-13 04:33:24 -0500] sascha_d: although, that's why I dropbox my coding
[2012-12-13 04:33:31 -0500] sascha_d: let me install the testkitchen gem over here
[2012-12-13 04:35:55 -0500] sascha_d: why is it mad at me for not having virtualbox? Is that a hard dep?
[2012-12-13 04:38:20 -0500] sascha2: jtimberman: https://gist.github.com/37e4a45aa0e3e34308de
[2012-12-13 04:40:47 -0500] jtimberman: sascha2: yeah, so, what its doing is trying to find out what platforms your cookbook says it supports.
[2012-12-13 04:41:08 -0500] jtimberman: you *should* have a metadata.rb file in the cookbook.
[2012-12-13 04:41:09 -0500] sascha2: jtimberman: https://gist.github.com/2f80dfa9a26cdeef2bd2 which has my first attempt at a kitchenfile. I couldn't find any examples of how to format the file so there aren't any out there, I can blog something when I get this kicked off
[2012-12-13 04:41:12 -0500] jtimberman: for test kitchen
[2012-12-13 04:41:16 -0500] sascha2: in the cookbooks and I duz
[2012-12-13 04:41:42 -0500] jtimberman: ignore FC001?!
[2012-12-13 04:41:46 -0500] sascha2: does it require a supports line?
[2012-12-13 04:41:50 -0500] jtimberman: it doens't
[2012-12-13 04:41:51 -0500] jtimberman: doesn't
[2012-12-13 04:41:54 -0500] sascha2: is that the strings vs sym?
[2012-12-13 04:41:57 -0500] sascha2: yeah, I like dots
[2012-12-13 04:42:03 -0500] sascha2: I mean, I like colons
[2012-12-13 04:42:05 -0500] jtimberman: hahah :)
[2012-12-13 04:42:27 -0500] sascha2: I like dots a lot too, but as someone trying to teach and evangelize, I've quit using them
[2012-12-13 04:42:44 -0500] jtimberman: :)
[2012-12-13 04:43:02 -0500] sascha2: I get slightly prettier formatting in rubymine with symbols
[2012-12-13 04:46:05 -0500] ssd7: Hello friends
[2012-12-13 04:47:03 -0500] jtimberman: ssd7: ohai
[2012-12-13 04:48:46 -0500] sascha2: jtimberman: so I don't see anything in my local configs that are causing it to look for a metadata.rb in the cookbook root...unless I need one there?
[2012-12-13 04:49:02 -0500] sascha2: so I copied in my metadata.rb to the root for fun and it worked and told me I have no cookbooks to test
[2012-12-13 04:49:53 -0500] sascha2: I have to go to bed. I only got 4 hours of sleep last night and I'm drooping. Yell if you think of anything for me to try. I'll try again tomorrow.
[2012-12-13 04:49:56 -0500] ssd7: I was actually just going to see if I could do some test-kitchen bug squashing
[2012-12-13 04:50:14 -0500] sascha2: ssd  Iam working to get it going with the openstack runner
[2012-12-13 04:50:22 -0500] sascha2: but currently can't get it off the ground
[2012-12-13 04:50:50 -0500] ssd7: test-kitchen is really f'ing picky about how directories are laid out and there is something very wierd about how it processes configuration
[2012-12-13 04:51:17 -0500] sascha2: I've got my code in a dropbox dir for ease of access
[2012-12-13 04:51:23 -0500] sascha2: don't know if thats an issue
[2012-12-13 04:51:53 -0500] sascha2: and ok, I checked, I have a test folder in both my cookbook root and one of the cookbook folders where I was experimenting
[2012-12-13 04:51:57 -0500] sascha2: would that cause issues?
[2012-12-13 04:52:02 -0500] jtimberman: sascha2: i have a sample kitchenfile for you!
[2012-12-13 04:52:14 -0500] sascha2: I'm a fan of samples
[2012-12-13 04:52:26 -0500] jtimberman: https://gist.github.com/682b59e1edea8f9ad2d9
[2012-12-13 04:52:37 -0500] jtimberman: put that *after* the cookbook block
[2012-12-13 04:57:19 -0500] sascha2: jtimberman: I'm getting mostly the same thing. It lints the cookbooks with foodcritic if I have that metatdata in the cookbook root or it fails if I don't have the metadata.rb
[2012-12-13 04:57:50 -0500] sascha2: I glanced briefly at the code and it wasn't obvious to me. I'll look at things some more tomorrow.  Thanks for helping though.
[2012-12-13 04:58:38 -0500] ssd7: sascha2: You might want to start tomorrow just seeing if you can get the core vagrant stuff working.
[2012-12-13 04:58:38 -0500] jtimberman: okay, i'll be here if you have questions tomrorow :)
[2012-12-13 04:58:51 -0500] ssd7: Have a nice night!
[2012-12-13 05:01:16 -0500] ssd7: jtimberman: What order dependent stuff have you found that you mentioned above?
[2012-12-13 05:11:45 -0500] jtimberman: ssd7: its something to do with having the openstack and platform stuff before the project, but i don't remember the order details. Matt found it when he was testing on his openstack cluster.
[2012-12-13 05:12:43 -0500] jtimberman: ssd7: unrelated, COOK-1136 was broken :/ - http://tickets.opscode.com/browse/COOK-1136?focusedCommentId=30133&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-30133
[2012-12-13 05:14:29 -0500] ssd7: :(
[2012-12-13 05:15:06 -0500] ssd7: jtimberman: Yeah, I'm happy matt dug into that stuff. I wish he didn't send one monolithic pull request
[2012-12-13 05:16:48 -0500] jtimberman: for multiple tickets? i might have said to
[2012-12-13 05:24:24 -0500] ssd7: We can always cherry-pick around, so it isn't a bit issue eithe rwya
[2012-12-13 05:32:17 -0500] ssd7: jtimberman: So the access_control thing has a requires_change? method that we should be able to use to address comment 2 there
[2012-12-13 05:45:30 -0500] jtimberman: ssd7: well, I think that the best thing would be if the underlying provider for file didn't try to read from, e.g., pipes :)
[2012-12-13 05:45:52 -0500] jtimberman: that is, only perform the checksum check if there are content changes.
[2012-12-13 05:46:27 -0500] jtimberman: from browsing the code it looks like its possible that the other file providers (remote_, cookbook_, template) may use it? Not entirely sure, I didn't follow all the code paths.
[2012-12-13 09:23:06 -0500] madteckhead: Anyone have a moment to help me debug overriding nginx cookbook attributes in a role? Im stuck.
[2012-12-13 16:44:47 -0500] sascha2: jtimberman: I think I figured it out. I shouldn't have run "kitchen init" in my cookbook root? I need to run it in each cookbook itself?
[2012-12-13 17:37:52 -0500] github-bawt: [chef] btm pushed 2 new commits to master: http://git.io/EAO_9w
[2012-12-13 17:37:52 -0500] github-bawt: chef/master a178b6c Xabier de Zuazo: [CHEF-3632] All providers have whyrun enabled by default due to RemoteDirectory
[2012-12-13 17:37:52 -0500] github-bawt: chef/master c3b9777 Xabier de Zuazo: [CHEF-3632] removed duplicated provider#whyrun_supported? method
[2012-12-13 17:40:59 -0500] jtimberman: sascha2: ooh - 'cookbook root' you mean "the chef-repo"?
[2012-12-13 17:41:21 -0500] jtimberman: yeah, kitchen init goes in the cookbook itself. Sorry if that wasn't clear. Its intended to be a per project thing, rather than a whole repository thing.
[2012-12-13 17:41:40 -0500] jtimberman: The project that Erik Hollensbe is working on is designed to b the whole repository / infrastructure workflow and testing framework
[2012-12-13 17:43:29 -0500] sascha2: do I have to make a detailed config kitchenfile for each cookbook :( ?
[2012-12-13 17:47:48 -0500] jtimberman: Yes. :-D
[2012-12-13 17:48:12 -0500] jtimberman: The goal of test-kitchen is to perform integration tests of individual projects in isolation.
[2012-12-13 17:49:07 -0500] jtimberman: It's focus is on cookbook projects, but it can be used for things like libraries or similar, that have their own set of integration tests (cucumber, e.g.)
[2012-12-13 17:49:41 -0500] jtimberman: It *may* not be, at this time, the correct tool for putting together a bunch of cookbooks to see that they bring up the service required.
[2012-12-13 18:03:17 -0500] sascha2: jtimberman: we already have something that does that
[2012-12-13 18:03:30 -0500] sascha2: I was checking to see how to integrate test-kitchen into that
[2012-12-13 18:03:56 -0500] sascha2: our stuff just runs the linting and stuff when we run the other testing
[2012-12-13 18:11:55 -0500] github-bawt: [chef] btm pushed 2 new commits to 10-stable: http://git.io/eZCd9Q
[2012-12-13 18:11:55 -0500] github-bawt: chef/10-stable 8afc9d5 Xabier de Zuazo: [CHEF-3632] All providers have whyrun enabled by default due to RemoteDirectory
[2012-12-13 18:11:56 -0500] github-bawt: chef/10-stable 373db00 Xabier de Zuazo: [CHEF-3632] removed duplicated provider#whyrun_supported? method
[2012-12-13 18:31:03 -0500] github-bawt: [chef] btm pushed 1 new commit to 10-stable: http://git.io/b7WUGA
[2012-12-13 18:31:03 -0500] github-bawt: chef/10-stable 4444667 Bryan McLellan: CHEF-3672: Add Ruby 1.9 based Ubuntu 12.10 Gems bootstrap
[2012-12-13 18:36:29 -0500] github-bawt: [chef] btm pushed 5 new commits to 10-stable: http://git.io/Qys6Dg
[2012-12-13 18:36:29 -0500] github-bawt: chef/10-stable 7d5dfbc danielsdeleo: [CHEF-3662] ApiClient can reregister itself
[2012-12-13 18:36:29 -0500] github-bawt: chef/10-stable 8071f0d danielsdeleo: [CHEF-3662] fix spec for ruby 1.8.7...
[2012-12-13 18:36:30 -0500] github-bawt: chef/10-stable 8b22cd0 danielsdeleo: [CHEF-3662] ApiClient can set a private key from JSON...
[2012-12-13 19:00:29 -0500] github-bawt: [omnibus-chef] sdelano pushed 1 new commit to omnibus-windows: http://git.io/JbSo6Q
[2012-12-13 19:00:30 -0500] github-bawt: omnibus-chef/omnibus-windows 40d8376 sdelano: Gemfile: pull in Windows changes for omnibus-{ruby,software}
[2012-12-13 19:29:27 -0500] github-bawt: [chef] sdelano pushed 5 new commits to master: http://git.io/Bkw-bg
[2012-12-13 19:29:28 -0500] github-bawt: chef/master 9c82cae sdelano: CHEF-3660: use FileUtils.cp_r to copy directories in deploy_provider
[2012-12-13 19:29:28 -0500] github-bawt: chef/master 22dbbc9 sdelano: CHEF-3660: add functional tests for executing FileUtils.cp_r(:preserve) on symlinks
[2012-12-13 19:29:28 -0500] github-bawt: chef/master 855311e sdelano: CHEF-3660: Add FileUtils::Entry_ monkey patch...
[2012-12-13 19:44:15 -0500] github-bawt: [chef] sdelano pushed 1 new commit to master: http://git.io/Ox8N6g
[2012-12-13 19:44:16 -0500] github-bawt: chef/master b3a4d70 sdelano: CHEF-3660: rename files that didn't play nice with git rebase
[2012-12-13 19:55:26 -0500] github-bawt: [chef] btm created CHEF-2812 (+2 new commits): http://git.io/KF1NyA
[2012-12-13 19:55:26 -0500] github-bawt: chef/CHEF-2812 fa14140 Geoff Papilion: one line fix to http://tickets.opscode.com/browse/CHEF-2812...
[2012-12-13 19:55:26 -0500] github-bawt: chef/CHEF-2812 082c9a7 Bryan McLellan: CHEF-2812: Warn the user when cloning resources
[2012-12-13 20:05:21 -0500] github-bawt: [chef] btm force-pushed CHEF-2812 from 082c9a7 to 2b065f5: http://git.io/IYeJwg
[2012-12-13 20:05:23 -0500] github-bawt: chef/CHEF-2812 2b065f5 Bryan McLellan: CHEF-2812: Warn the user when cloning resources
[2012-12-13 20:10:39 -0500] github-bawt: [chef] btm pushed 2 new commits to 10-stable: http://git.io/X9CQVg
[2012-12-13 20:10:39 -0500] github-bawt: chef/10-stable 957bb77 Seth Vargo: Add name attribute to metadata.rb by default
[2012-12-13 20:10:40 -0500] github-bawt: chef/10-stable cab37e7 Bryan McLellan: Merge branch 'CHEF-3562' into 10-stable
