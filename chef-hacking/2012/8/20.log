[2012-08-20 13:40:13 -0400] miketheman: schisamo: I'm here
[2012-08-20 13:42:41 -0400] schisamo: miketheman: hey man.
[2012-08-20 13:42:56 -0400] schisamo: so just wanted to give you some background on why we use load vs require
[2012-08-20 13:43:02 -0400] miketheman: sure
[2012-08-20 13:43:36 -0400] schisamo: tl;dr is if chef-client is daemonized require will not reload the handler code into memory every chef run.
[2012-08-20 13:43:44 -0400] schisamo: load will/does
[2012-08-20 13:44:08 -0400] schisamo: but load is obviously harder to work with since you need a fully qualified path to said ruby file
[2012-08-20 13:44:27 -0400] miketheman: why would I want the handler code reloaded every run?
[2012-08-20 13:44:43 -0400] schisamo: what if you deploy a new version of your handler?
[2012-08-20 13:44:51 -0400] schisamo: either via a cookbook_file OR the gem is updated
[2012-08-20 13:44:52 -0400] schisamo: ?
[2012-08-20 13:45:03 -0400] miketheman: doesn't chef_gem reload the gem file?
[2012-08-20 13:45:31 -0400] schisamo: it may install a new version of itbut doesn't mean the new code will be loaded into memory.
[2012-08-20 13:45:46 -0400] schisamo: and the cookbook_file scenario (which is pretty common)
[2012-08-20 13:47:24 -0400] nico: +1 on this
[2012-08-20 13:47:35 -0400] schisamo: nico: which part :)
[2012-08-20 13:47:38 -0400] miketheman: let me see if I understand.
[2012-08-20 13:47:49 -0400] nico: I've been trapped by this when deploying a new handler through the chef_handler CB
[2012-08-20 13:48:19 -0400] nico: "why isn't it working ?!?" => restarting the daemon being required
[2012-08-20 13:48:37 -0400] miketheman: so handlers can be distributed in a couple of ways: 1. gems, 2. files
[2012-08-20 13:48:44 -0400] miketheman: any others?
[2012-08-20 13:48:52 -0400] nico: and of course, running it by hand work as it's a whole now new object
[2012-08-20 13:49:18 -0400] schisamo: miketheman: that should cover it.
[2012-08-20 13:49:57 -0400] miketheman: and gems can be either in a 'chef/handlers/path' style or 'gem-specific-path'
[2012-08-20 13:50:23 -0400] schisamo: miketheman: gems are basically whatever the gem author wants to do...
[2012-08-20 13:50:40 -0400] miketheman: heh, sure. but there's a convention that could be followed
[2012-08-20 13:50:47 -0400] schisamo: chef/handlers/path doesn't do anything magically (like the knife plugins)
[2012-08-20 13:51:03 -0400] schisamo: but a convention like that isn't a bad idea for chef core...
[2012-08-20 13:54:24 -0400] schisamo: ^^ btm
[2012-08-20 14:00:41 -0400] miketheman: yeah. I've found that having a convention that works makes more peoiple use the convention
[2012-08-20 14:16:40 -0400] btm: I'm not sure exactly what we're discussing about changing in core chef. handlers are in chef/handler/foo because they subclass Chef::Handler. the chef_handler cookbook uses file_cache_path/handlers I think.
[2012-08-20 15:06:42 -0400] miketheman: btm: from what schisamo explained, there's no hard requirement on handlers being anywhere specific.
[2012-08-20 15:38:32 -0400] schisamo: btm: We don't autoload handlers that ship in gems (like we do with knife plugins). The basic use case is install a handler using chef_gem and then enable that handler in a recipe.
[2012-08-20 15:44:07 -0400] miketheman: schisamo: is that's the basic case, then loading from file should be a secondary, non-default action, right?
[2012-08-20 15:51:31 -0400] schisamo: miketheman: you could add an attribute to control the branching logic in the LWRP. ie "type :gem" or "type :file" with :gem being the default?
[2012-08-20 15:52:23 -0400] miketheman: that sounds like a good idea. default to gem, default to 'chef/handler/<handlername>' and go from there
[2012-08-20 15:52:55 -0400] schisamo: miketheman: yeah just  be sure you can override default behavior and document all variations in the README
[2012-08-20 15:53:19 -0400] miketheman: ok
[2012-08-20 15:53:54 -0400] schisamo: miketheman: feel free to open a PR with your WIP and I can give some feedback.  Will also want to open a COOK ticket.
[2012-08-20 15:54:14 -0400] miketheman: ok, I'll try to hack on that in the next couple of days
[2012-08-20 15:54:20 -0400] schisamo: miketheman: awesome!
[2012-08-20 17:28:59 -0400] github-bawt: [chef] Atalanta created CHEF-2496 (+1 new commit): http://git.io/jOos8Q
[2012-08-20 17:29:00 -0400] github-bawt: [chef/CHEF-2496] Support accept_license package resource attribute. - Stephen Nelson-Smith
[2012-08-20 17:44:12 -0400] jtimberman: miketheman: Thanks for the comments on that plugin gist :)
[2012-08-20 17:44:39 -0400] miketheman: jtimberman: no problemo - it's a brainstorming.
[2012-08-20 17:53:54 -0400] jtimberman: miketheman: :D
[2012-08-20 17:58:53 -0400] github-bawt: [chef] btm created CHEF-2496_10 (+2 new commits): http://git.io/5lJvYw
[2012-08-20 17:58:54 -0400] github-bawt: [chef/CHEF-2496_10] Support accept_license package resource attribute. - Stephen Nelson-Smith
[2012-08-20 17:58:54 -0400] github-bawt: [chef/CHEF-2496_10] CHEF-2496: Fix broken IPS tests and add test for accept_license - Bryan McLellan
[2012-08-20 19:36:39 -0400] github-bawt: [chef] btm pushed 1 new commit to CHEF-2496_10: http://git.io/Aoq7ww
[2012-08-20 19:36:39 -0400] github-bawt: [chef/CHEF-2496_10] CHEF-2496: Move accept_license attribute to ips_package resource - Bryan McLellan
[2012-08-20 19:47:29 -0400] github-bawt: [chef] btm pushed 2 new commits to 10-stable: http://git.io/GrUAAA
[2012-08-20 19:47:29 -0400] github-bawt: [chef/10-stable] [CHEF-3360] - split version string - jtimberman
[2012-08-20 19:47:29 -0400] github-bawt: [chef/10-stable] [CHEF-3360] - Add unit test - jtimberman
[2012-08-20 19:50:45 -0400] github-bawt: [chef] btm pushed 1 new commit to 10-stable: http://git.io/7arDOQ
[2012-08-20 19:50:45 -0400] github-bawt: [chef/10-stable] [CHEF-3359] - add provider defaults for omnios - jtimberman
[2012-08-20 19:54:43 -0400] github-bawt: [chef] btm pushed 1 new commit to 10-stable: http://git.io/nNcdUg
[2012-08-20 19:54:44 -0400] github-bawt: [chef/10-stable] CHEF-3353: Fix tests on FreeBSD - Mitsuru Yoshida
[2012-08-20 19:58:41 -0400] github-bawt: [chef] btm pushed 2 new commits to 10-stable: http://git.io/WaUD7g
[2012-08-20 19:58:41 -0400] github-bawt: [chef/10-stable] Replaces non-corporate language 'crap' with more neutral wording - Gardner Bickford
[2012-08-20 19:58:42 -0400] github-bawt: [chef/10-stable] Merge branch 'CHEF-3368_10' into 10-stable - Bryan McLellan
[2012-08-20 20:04:37 -0400] mattray: The end of an era CHEF-3368
[2012-08-20 20:05:07 -0400] jtimberman: \o/
[2012-08-20 20:05:08 -0400] btm: that ended way back with OHAI-17.
[2012-08-20 20:05:41 -0400] jtimberman: hahaha
[2012-08-20 20:05:52 -0400] mattray: we used to be so edgy
[2012-08-20 20:06:10 -0400] btm: now we're just corporate goons.
[2012-08-20 20:06:23 -0400] btm: someone fetch me a tps report!
[2012-08-20 20:06:29 -0400] jtimberman: btm: I have three.
[2012-08-20 20:06:48 -0400] mattray: http://www.imdb.com/title/tt0701127/quotes?qt=qt0290328
[2012-08-20 20:06:49 -0400] jtimberman: So corporate, with my Stone Brewing t-shirt and plaid shorts
[2012-08-20 20:07:13 -0400] jtimberman: though to be fair the shorts are "Golf Course Attire Approved" (because the Golf courses haven't kicked me out for wearing them instead of Kahkis
[2012-08-20 20:08:12 -0400] mattray: 2 of the 4 times I played golf it was a company-sponsored event, 50% of those times we got kicked off the course
[2012-08-20 20:08:25 -0400] c_t: if you can't wear plaid pants on the golf course, where could you wear them?
[2012-08-20 20:08:26 -0400] mattray: 100% had warnings
[2012-08-20 20:08:36 -0400] c_t: geez, mattray
[2012-08-20 20:08:56 -0400] mattray: c_t: twice in 12 years
[2012-08-20 20:08:56 -0400] c_t: I've gone golfing with aging punks more often than I can count, and we somehow *never* got warnings
[2012-08-20 20:09:10 -0400] mattray: c_t: the warnings were from company HR :)
[2012-08-20 20:09:15 -0400] c_t: oh....
[2012-08-20 20:09:20 -0400] c_t: OK, carry on
[2012-08-20 20:10:11 -0400] mattray: I mean seriously, when a software company has a optional team-building exercise at a country club and software developers actually show up (4 of us, 50 sales people), what did they expect would happen?
[2012-08-20 20:11:53 -0400] jtimberman: I went golfing yesterday.
[2012-08-20 20:11:57 -0400] jtimberman: And I'm going again Wednesday.
[2012-08-20 20:16:49 -0400] c_t: I haven't been in ages :-/
[2012-08-20 20:17:21 -0400] c_t: no one to really go golfing with around here
[2012-08-20 20:17:43 -0400] c_t: although in addition I'm not sure I'm up to the task anyway :-(
[2012-08-20 20:22:07 -0400] miah: plaid pants are acceptable punk, and golf attire.
[2012-08-20 22:13:38 -0400] github-bawt: [chef] btm pushed 1 new commit to 10-stable: http://git.io/8BwmLA
[2012-08-20 22:13:38 -0400] github-bawt: [chef/10-stable] Release 10.14.0.rc.0 - Bryan McLellan
[2012-08-20 22:16:14 -0400] jtimberman: \o/
