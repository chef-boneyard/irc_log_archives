[2012-08-22 00:01:13 -0400] github-bawt: [chef] tylercloke pushed 1 new commit to RESOURCE-UPDATING: http://git.io/1uTA7g
[2012-08-22 00:01:13 -0400] github-bawt: [chef/RESOURCE-UPDATING] Added state reporting to service provider. - tylercloke
[2012-08-22 15:42:00 -0400] fnichol: sascha_d: Hi there!
[2012-08-22 15:42:12 -0400] sascha_d: ohai
[2012-08-22 15:42:24 -0400] sascha_d: I'm just going through all your stuff
[2012-08-22 15:43:04 -0400] z: btm: is http://tickets.opscode.com/browse/CHEF-3209 actually going anywhere, or is Mitsuru considered AWOL at this point?
[2012-08-22 15:44:11 -0400] fnichol: Cool, it's not a perfect sol'n but it's making me usable workstations now at least. I still go back and forth whether to run chef-client as root on the mac or as my main user. jtimberman, do you run your mac workstation chef runs as a non-root user?
[2012-08-22 15:45:48 -0400] z: seems a bit extreme people have been talking about chef-client locking for nearly 3 years and its still stalled
[2012-08-22 15:45:50 -0400] sascha_d: If I could figure out how to get the gcc tools on there without root, I owuld gladly
[2012-08-22 15:46:17 -0400] sascha_d:  This is for a client with existing process. I am converting a shell script that comes with lots of pre-reqs, including a hand-installed gcc compiler.  My selling point for this was that we could eliminate the by-hand pre-reqs and automate all the things.
[2012-08-22 15:50:33 -0400] fnichol: sascha_d, looking back the only software I installed by hand was XCode and Command Line Tools but that was because I didn't want to bother mirroring it somewhere and pulling it down again off the net
[2012-08-22 15:50:57 -0400] sascha_d: ok, I'm looking at those now on the apple dev network
[2012-08-22 15:51:39 -0400] fnichol: sascha_d, assuming they were normal packages I would have let Chef do the work, thanks be to the omnibus installer removing the need for a toolchain *before* running chef-solo/chef-client
[2012-08-22 15:51:55 -0400] sascha_d: I know right?
[2012-08-22 15:52:59 -0400] sascha_d: @fnicholso the CLI tools and the app-gcc42 are what you use instead?
[2012-08-22 15:54:22 -0400] fnichol: sascha_d, maybe in your case you wouldn't need homebrew/Xcode/etc. I was using Homebrew to give me libxml2, libffi, libyaml, libksba as RVM/nokogiri requirements
[2012-08-22 15:55:19 -0400] fnichol: sascha_d, that's what I'm using atm. the CLI tools give you the clang compiler which can build 1.9.3 but gcc42 is needed for 1.8.7 which Apple doesn't provide any more
[2012-08-22 15:56:20 -0400] sascha_d: @fnicholyeah these guys are into having a 1.8.7 distro as well although I don't know why. They have some prod servers using 1.8.7 but all development happens on a VM and not on the actual desktop
[2012-08-22 15:56:24 -0400] fnichol: sascha_d, frankly I'm surprised I built all the software I needed under Mountain Lion on the first try. Lion gave me problems for like a week and I ended up just using Xcode 4.1 and never upgrading
[2012-08-22 15:57:03 -0400] sascha_d: we're still using Lion and no telling when ML will show up; we're in the Enterprise and lucky to have macs at all
[2012-08-22 15:57:12 -0400] fnichol: sascha_d, so do you think you need a specific 1.8.7 build with RVM? If not you might be able to use system Ruby or skip that headeache :)
[2012-08-22 15:57:24 -0400] sascha_d: I'm also building a process using omnibus and jruby for windows boxes
[2012-08-22 15:57:46 -0400] fnichol: sascha_d, cool, that'll be nice!
[2012-08-22 15:57:55 -0400] sascha_d: I think system ruby is fine but they want the ability to use gemsets with RVM
[2012-08-22 15:58:22 -0400] sascha_d: Is it possible to find a system installed Ruby once you've installed RVM?
[2012-08-22 15:58:57 -0400] fnichol: sascha_d, yes you can `rvm use system` which "switches you" into system Ruby. i.e. unsets a bunch of RVM variables
[2012-08-22 15:59:19 -0400] sascha_d: o neat
[2012-08-22 15:59:42 -0400] sascha_d: So yeah they wanted to use RVM gemsets for vagrant so I still need to do that
[2012-08-22 16:00:09 -0400] sascha_d: but I will gratefully remove the 1.8.7 stuff
[2012-08-22 16:01:59 -0400] fnichol: sascha_d, too funny :) Is the hand-installed gcc compiler being used for the purposes of building and Ruby versions or gems, or just other stuff?
[2012-08-22 16:02:21 -0400] sascha_d: fnicholjust ruby afaik
[2012-08-22 16:02:38 -0400] sascha_d: and really mostly just chef for knife (no really
[2012-08-22 16:11:00 -0400] miketheman: tossing this out there: still need a way to remove/yank a cookbook from the community site when uploaded in error.
[2012-08-22 16:11:06 -0400] fnichol: sascha_d, if there's not Xcode requirements, you might be able to get away with the CLI tools or Xcode 4.1 (it still has gcc42 included)
[2012-08-22 16:11:30 -0400] sascha_d: @fnicholI was told that Xcode breaks something else. I can't remember what.
[2012-08-22 16:11:56 -0400] sascha_d: But I'm in favor of the CLI tools
[2012-08-22 16:12:05 -0400] sascha_d: we have an artifactory where I can dump the pkg
[2012-08-22 16:22:46 -0400] fnichol: sascha_d, good idea, love local asset repos :)
[2012-08-22 16:24:39 -0400] fnichol: miketheman, good question I can't see an option in the community site ui
[2012-08-22 16:54:42 -0400] jtimberman: miketheman: upload a new version, and i htink you can delete the old if you are the maintainer
[2012-08-22 17:02:45 -0400] miketheman: jtimberman: nope.
[2012-08-22 17:04:25 -0400] miketheman: "Deletes a cookbook. Not yet fully implemented."
[2012-08-22 17:13:38 -0400] jtimberman: miketheman: ah, indeed.
[2012-08-22 17:13:40 -0400] jtimberman: sorry about that.
[2012-08-22 17:51:53 -0400] miah: hi
[2012-08-22 18:39:09 -0400] github-bawt: [chef] danielsdeleo created CHEF-3382 (+1 new commit): http://git.io/afwuPg
[2012-08-22 18:39:09 -0400] github-bawt: [chef/CHEF-3382] [CHEF-3382] filter backtraces on cookbook_path - danielsdeleo
[2012-08-22 18:51:58 -0400] sascha_d: @fnichol... something to consider: homebrew requires a sudo ownership of /usr/local and the dmg_package requires a sudo in the middle of things to install the package
[2012-08-22 18:52:04 -0400] sascha_d: it's like we're doomed to sudo
[2012-08-22 18:52:11 -0400] sascha_d: DOOMED I TELL YOU
[2012-08-22 18:52:57 -0400] miketheman: sascha_d: sudo once during initial deploy for homebrew only, no?
[2012-08-22 18:53:22 -0400] sascha_d: the point is that something somewhere requires user interaction and a password
[2012-08-22 18:53:38 -0400] sascha_d: it makes me sad
[2012-08-22 18:53:59 -0400] hoover_damm: it makes me sad that people have gone away from using passwords and would prefer a sudo with a passwordless setup
[2012-08-22 18:54:07 -0400] hoover_damm: throwing away security for ease of use
[2012-08-22 18:54:16 -0400] sascha_d: I was trying to eliminate written wiki steps, not add more
[2012-08-22 18:54:48 -0400] hoover_damm: I find passwordless sudo to be a gaping hole that even RSA keys can't protect against
[2012-08-22 18:54:54 -0400] sascha_d: or if Chef would stop and wait for someone to enter a password
[2012-08-22 18:54:58 -0400] sascha_d: I could probably live with that
[2012-08-22 18:55:11 -0400] hoover_damm: but so many people don't have that simple expect/put
[2012-08-22 18:55:39 -0400] sascha_d: but when we run chef-solo with sudo itself, it mangles rvm
[2012-08-22 18:55:49 -0400] miketheman: hoover_damm: sounding cranky. ;)
[2012-08-22 18:55:50 -0400] sascha_d: if I could fix that, things would be way better
[2012-08-22 18:56:18 -0400] sascha_d: I'm off to the doc; back later
[2012-08-22 18:58:03 -0400] hoover_damm: miketheman, if that sounds cranky then it's likely i'm talking about you as well :)
[2012-08-22 18:58:15 -0400] hoover_damm: because there are many people who love using RSA keys without passwords, passwordless sudo
[2012-08-22 18:58:18 -0400] hoover_damm: etc
[2012-08-22 18:58:28 -0400] hoover_damm: and they just don't get how wrong they are, and I am not here to correct them.
[2012-08-22 18:59:30 -0400] miketheman: well, it's a convinence thing, not necessarily a security thing.
[2012-08-22 19:00:38 -0400] github-bawt: [chef] danielsdeleo pushed 1 new commit to master: http://git.io/t6FwIQ
[2012-08-22 19:00:39 -0400] github-bawt: [chef/master] [CHEF-3382] filter backtraces on cookbook_path - danielsdeleo
[2012-08-22 19:02:31 -0400] github-bawt: [chef] danielsdeleo pushed 1 new commit to 10-stable: http://git.io/MMpI1w
[2012-08-22 19:02:31 -0400] github-bawt: [chef/10-stable] [CHEF-3382] filter backtraces on cookbook_path - danielsdeleo
[2012-08-22 20:08:08 -0400] veszig: i've played around test-kitchen and two questions came to mind: why not have the possibility to test roles instead of cookbooks and why not resolve dependencies from metadata.rb? are these concious design decisions?
[2012-08-22 20:09:03 -0400] veszig: i understand that the primary pain you wanted to solve is to manage the official opscode cookbooks but testing whole roles seems like a natural need for organizations
[2012-08-22 20:09:37 -0400] jtimberman: veszig: the idea is testing a "project", where a cookbook is such a thing, or another kind of software project that should have tests run in isolation from an existing system, such as integration tests for an application.
[2012-08-22 20:09:50 -0400] jtimberman: if you want to test with roles, just use vagrant straight up
[2012-08-22 20:10:44 -0400] veszig: is the cucumber integration available separately or is this just plain cucumber-chef?
[2012-08-22 20:11:48 -0400] jtimberman: the only integration is that the default behavior of test-kitchen is to run 'bundle exec cucumber' if it finds the 'features' directory. it doesn't use cucumber-chef (yet?)
[2012-08-22 20:12:03 -0400] veszig: ah, cool
[2012-08-22 20:12:37 -0400] jtimberman: https://github.com/opscode/test-kitchen/blob/master/lib/test-kitchen/project/cookbook.rb#L49-52
[2012-08-22 20:13:53 -0400] veszig: ok, simple enough :) thank you
[2012-08-22 20:14:53 -0400] jtimberman: and you can also just write your own script in there in your kitchenfile :)
[2012-08-22 20:45:41 -0400] hoover_damm: I really wish dell would post their cookbooks on the community site... so when I search for ipmi I don't se 0 results found
[2012-08-22 20:46:40 -0400] hoover_damm: even if it's crowbar it's :) useful to me
[2012-08-22 23:35:42 -0400] github-bawt: [chef] danielsdeleo pushed 1 new commit to 10-stable: http://git.io/5d3JqA
[2012-08-22 23:35:42 -0400] github-bawt: [chef/10-stable] [CHEF-3382] fix for 3382 broke tests calling filtered_bt - danielsdeleo
[2012-08-22 23:36:04 -0400] github-bawt: [chef] danielsdeleo pushed 1 new commit to master: http://git.io/s_u5Kg
[2012-08-22 23:36:04 -0400] github-bawt: [chef/master] [CHEF-3382] fix for 3382 broke tests calling filtered_bt - danielsdeleo
[2012-08-22 23:50:57 -0400] github-bawt: [chef] tylercloke pushed 1 new commit to RESOURCE-UPDATING: http://git.io/nV74sg
[2012-08-22 23:50:57 -0400] github-bawt: [chef/RESOURCE-UPDATING] Removed formatting from error reporting. - tylercloke
