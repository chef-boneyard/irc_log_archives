[2012-04-12 00:37:00 -0400] hoover_damn: man this is one time where runit totally fails me
[2012-04-12 00:37:19 -0400] hoover_damn: I'm actually better off hacking the init.d script
[2012-04-12 00:37:28 -0400] hoover_damn: time to backout runit
[2012-04-12 00:37:52 -0400] yfeldblum: hoover_damn, what's not working?
[2012-04-12 00:38:15 -0400] hoover_damn: yfeldblum, cannot get it to give me an open file limit > 1024
[2012-04-12 00:39:09 -0400] yfeldblum: hoover_damn, using chpst or runit?
[2012-04-12 00:39:17 -0400] hoover_damn: yfeldblum, chpst
[2012-04-12 00:39:31 -0400] hoover_damn: chpst -o 65535 -p 65535 gives me an open process limit of 65535
[2012-04-12 00:39:33 -0400] hoover_damn: but not open file
[2012-04-12 00:39:45 -0400] yfeldblum: hoover_damn, you can use runit with some other tool besides chpst to set up the limit
[2012-04-12 00:39:47 -0400] hoover_damn: yfeldblum, and to try and do ulimit hacks in chpst just speaks of great evil
[2012-04-12 00:39:54 -0400] hoover_damn: such as?
[2012-04-12 00:41:38 -0400] yfeldblum: ulimit?
[2012-04-12 00:42:14 -0400] hoover_damn: yeah that's the issue, the second I hit su nobody... ulimit becomes hard
[2012-04-12 00:42:22 -0400] hoover_damn: because ulimit -n 65535 is being interperted by su
[2012-04-12 00:42:26 -0400] hoover_damn: no clue why
[2012-04-12 00:43:14 -0400] yfeldblum: hoover_damn, what's your runit script look like?
[2012-04-12 00:43:15 -0400] hoover_damn: su -l -c '/bin/bash --login -c 'ulimit -a'' nobody
[2012-04-12 00:43:17 -0400] hoover_damn: am I crazy
[2012-04-12 00:43:17 -0400] hoover_damn: ?
[2012-04-12 00:43:23 -0400] hoover_damn: i mean clearly I have double -c's
[2012-04-12 00:43:25 -0400] hoover_damn: but beyond that
[2012-04-12 00:44:46 -0400] yfeldblum: hoover_damn, what's the intention?
[2012-04-12 00:44:55 -0400] hoover_damn: yfeldblum, memcached running with 65535 open files
[2012-04-12 00:45:19 -0400] hoover_damn: yfeldblum, su -l -c 'ulimit -n 65535 && ulimit -S 65535 /usr/bin/memcached'
[2012-04-12 00:45:22 -0400] hoover_damn: was my goal
[2012-04-12 00:45:28 -0400] hoover_damn: just ulimit n and -S
[2012-04-12 00:49:28 -0400] yfeldblum: might want to change the limits before changing users
[2012-04-12 00:57:49 -0400] benburkert: is it possible to install libgecode-dev without the million x11 dependencies?
[2012-04-12 00:59:08 -0400] hoover_damn: yfeldblum, I tried that
[2012-04-12 01:00:08 -0400] hoover_damn: basically have to man up and do chpst bash -c 'ulimit -n 65535 && ulimit -S 65535
[2012-04-12 01:00:13 -0400] hoover_damn: but I was really hoping to avoid such lameness
[2012-04-12 01:02:22 -0400] hoover_damn: root@ip-10-66-6-165:/etc/service/memcached# su -l -c 'ulimit -n 65535 && ulimit -S 65535 && ulimit -a' nobody
[2012-04-12 01:02:25 -0400] hoover_damn: ulimit: 1: error setting limit (Operation not permitted)
[2012-04-12 01:02:27 -0400] hoover_damn: trying to work with the nobody user
[2012-04-12 01:02:31 -0400] hoover_damn: might be pushing it over the limit of pain
[2012-04-12 14:26:03 -0400] hoover_damn: well back to work i Iguess
[2012-04-12 14:26:07 -0400] hoover_damn: rackspace stopped failing
[2012-04-12 14:26:09 -0400] hoover_damn: or the moment
[2012-04-12 15:03:14 -0400] matthewvermaak: thanks for the help yesterday, wrapped up the product into knife-rackspace-load-balancer gem
[2012-04-12 15:05:01 -0400] mattray: matthewvermaak: link?
[2012-04-12 15:06:07 -0400] hoover_damn: rubygems I think
[2012-04-12 15:06:08 -0400] hoover_damn: heh
[2012-04-12 15:07:36 -0400] mattray: yeah, 5 clicks later I've forked it
[2012-04-12 15:07:48 -0400] hoover_damn: http://rubygems.org/gems/knife-rackspace-load-balancer
[2012-04-12 15:10:50 -0400] matthewvermaak: ah, sorry, yeah thats the link :0)
[2012-04-12 15:11:40 -0400] StormSilver: You know the conventions work well when someone has forked your code before you even tell them where it is.
[2012-04-12 15:11:55 -0400] matthewvermaak: lol
[2012-04-12 15:12:08 -0400] jtimberman: yes.
[2012-04-12 15:12:34 -0400] jtimberman: i wish people would stop trying to rely on finding cookbooks on github thoguh.
[2012-04-12 15:12:44 -0400] jtimberman: and use the community site to share and find cookbooks.
[2012-04-12 15:12:49 -0400] hoover_damn: so does anyone do any high level prototyping of refactoring or cookbooks on chef and what tools to you use to try and organize this?
[2012-04-12 15:13:17 -0400] jtimberman: hoover_damn: I write the readme first.
[2012-04-12 15:13:23 -0400] jtimberman: not completely
[2012-04-12 15:13:30 -0400] jtimberman: but i jot down the ideas for what i want in there
[2012-04-12 15:13:33 -0400] hoover_damn: last time I wrote a README
[2012-04-12 15:13:36 -0400] hoover_damn: i never wrote any code LOL
[2012-04-12 15:13:44 -0400] hoover_damn: that was months ago so doesn't count
[2012-04-12 15:13:56 -0400] matthewvermaak: @jtimberman is there an additional step i should take to better share that gem?
[2012-04-12 15:14:15 -0400] hoover_damn: matthewvermaak, you can drop a note on the mailing list for other users to become aware
[2012-04-12 15:14:16 -0400] mattray: matthewvermaak: twitter? blog it?
[2012-04-12 15:14:28 -0400] hoover_damn: matthewvermaak, honestly the mailing list will reach more users then twitter prolly
[2012-04-12 15:14:39 -0400] mattray: matthewvermaak: I'm working on a Rackspace demo, if I use it I'll be sure to mention it
[2012-04-12 15:14:50 -0400] jtimberman: the cookbook i'm working on in my free time now is 82 lines of code, but 108 lines of readme :)
[2012-04-12 15:14:57 -0400] hoover_damn: mattray, how long has it taken?
[2012-04-12 15:15:04 -0400] jtimberman: matthewvermaak: no gems go on rubygems.org
[2012-04-12 15:15:16 -0400] jtimberman: matthewvermaak: and the code (generally) goes on github
[2012-04-12 15:15:18 -0400] hoover_damn: jtimberman, just linked it
[2012-04-12 15:15:23 -0400] hoover_damn: ^^
[2012-04-12 15:15:32 -0400] mattray: hoover_damn: has the new API work taken? 2 or 3 days
[2012-04-12 15:15:48 -0400] mattray: but that's mainly because of interruptions
[2012-04-12 15:16:12 -0400] hoover_damn: mattray, you know you can just hire some homeless guys off of 3rd and virginia to boot 500 instances for you
[2012-04-12 15:16:18 -0400] hoover_damn: mattray, it would only cost you a couple bottles of jack
[2012-04-12 15:16:53 -0400] mattray: yeah, the demo requirements keep changing, the homeless guy would get bored and wander off
[2012-04-12 15:17:05 -0400] hoover_damn: no that's what the jack is for.
[2012-04-12 15:17:25 -0400] mattray: :)
[2012-04-12 15:20:36 -0400] hoover_damn: huh I just patched .git?
[2012-04-12 15:20:41 -0400] hoover_damn: go go diff!
[2012-04-12 15:21:41 -0400] hoover_damn: jtimberman, well this is for refactoring so i'm just trying to condense my thoughts on moving all parts from cookbook x into other places that fit better
[2012-04-12 15:23:48 -0400] jtimberman: oh
[2012-04-12 15:23:53 -0400] jtimberman: i make a topic branch and get crackin' :)
[2012-04-12 15:24:03 -0400] hoover_damn: yeah I used to do that
[2012-04-12 15:24:15 -0400] hoover_damn: I used to spend days refactoring cookbooks to only throw away the work
[2012-04-12 15:24:23 -0400] hoover_damn: I'd like to find a slightly less masochistic manner
[2012-04-12 15:24:52 -0400] hoover_damn: I think I pretty much got my answer :) it isn't really done
[2012-04-12 15:57:49 -0400] github-bawt: [knife-ec2] stevendanna pushed 1 new commit to master: http://git.io/z1Bdfg
[2012-04-12 15:57:49 -0400] github-bawt: [knife-ec2/master] Merge pull request #22 from agoddard/master - Steven Danna
[2012-04-12 16:23:29 -0400] btm: StormSilver: meaning of life questions added to OHAI-267 ticket.
[2012-04-12 16:23:41 -0400] StormSilver: btm: I've been pondering them. :D
[2012-04-12 16:23:58 -0400] StormSilver: Best answer I've got so far is 42, but that doesn't help us much here.
[2012-04-12 16:27:18 -0400] hoover_damn: btm, interesting... so /etc/cloud would need to be written by the knife process during bootstrap/server create
[2012-04-12 16:27:45 -0400] StormSilver: hoover_damn: That's the idea
[2012-04-12 16:27:46 -0400] btm: hoover_damn: or whenever, but that's how we'd do it for now.
[2012-04-12 16:27:47 -0400] hoover_damn: my only question is really how to do the people who don't adopt those patterns populate /etc/cloud?
[2012-04-12 16:27:59 -0400] hoover_damn: and is cloud yaml or json?
[2012-04-12 16:27:59 -0400] btm: hoover_damn: you could bake it into an AMI too
[2012-04-12 16:28:11 -0400] StormSilver: hoover_damn: It's neither ATM
[2012-04-12 16:28:12 -0400] hoover_damn: btm, you don't really want to bake it on the ami
[2012-04-12 16:28:16 -0400] btm: hoover_damn: our first thought was just a one line test file.
[2012-04-12 16:28:25 -0400] mattray: StormSilver: what about /etc/chef/cloud?
[2012-04-12 16:28:35 -0400] StormSilver: mattray: I was even thinking of /etc/ohai/cloud
[2012-04-12 16:28:36 -0400] hoover_damn: mattray, i didn't want to ask that
[2012-04-12 16:28:38 -0400] hoover_damn: but +1
[2012-04-12 16:28:42 -0400] btm: hoover_damn: but I'm wondering if 'rackspace' is really enough information.
[2012-04-12 16:28:48 -0400] hoover_damn: btm, no
[2012-04-12 16:28:49 -0400] StormSilver: btm: It may not be
[2012-04-12 16:29:03 -0400] hoover_damn: btm, I want /etc/chef/cloud.json to be populated with the 'creation' blob sent back honestly
[2012-04-12 16:29:05 -0400] mattray: well, we can get fancy with the contents later if necessary?
[2012-04-12 16:29:13 -0400] hoover_damn: btm, it gives a good point of reference if your world changes
[2012-04-12 16:29:16 -0400] StormSilver: mattray: That's what I was thinking.
[2012-04-12 16:29:25 -0400] hoover_damn: btm, they don't all have to be used, but definetly stored.
[2012-04-12 16:30:16 -0400] StormSilver: hoover_damn: Trying to make it easy to populate the detection file yourself if you need to though
[2012-04-12 16:30:22 -0400] hoover_damn: btm, knowing ord1/ord2/dfw1/dfw2/etc
[2012-04-12 16:30:23 -0400] hoover_damn: should be good
[2012-04-12 16:30:24 -0400] jtimberman: can we fall back, or try, network based discovery first?
[2012-04-12 16:30:26 -0400] StormSilver: hoover_damn: So if it's a huge JSON blob, then it's harder.
[2012-04-12 16:30:46 -0400] hoover_damn: jtimberman, that's the point of if cloud?('rackspace') || has_mac? || has_kernel
[2012-04-12 16:30:49 -0400] StormSilver: jtimberman: Sure, we could reverse the order of the ORs
[2012-04-12 16:31:02 -0400] hoover_damn: jtimberman, if the cloud file says your rackspace... your rackspace, otherwise fall back to mac/kernel
[2012-04-12 16:31:18 -0400] hoover_damn: or at least that's what I think was mentioned in there
[2012-04-12 16:31:21 -0400] StormSilver: jtimberman: Yeah, what hoover_damn said... I was thinking that if your file said it, you should damn well respect it
[2012-04-12 16:32:09 -0400] jtimberman: ah
[2012-04-12 16:32:10 -0400] jtimberman: :)
[2012-04-12 16:32:17 -0400] hoover_damn: http://docs.rackspace.com/servers/api/v1.0/cs-devguide/content/Create_Server-d1e1937.html
[2012-04-12 16:32:23 -0400] hoover_damn: this is what you get out of rackspace when you create a server
[2012-04-12 16:32:50 -0400] StormSilver: Just thinking along the lines of: "Fuck, ohai didn't figure out my server is rackspace.... echo rackspace > /etc/ohai/cloud... okay, cool, it works now"
[2012-04-12 16:32:58 -0400] hoover_damn: looking at that output I don't see why we can't pass that in.
[2012-04-12 16:33:20 -0400] hoover_damn: StormSilver, right... wrong thing to do
[2012-04-12 16:33:25 -0400] mattray: hoover_damn: I was looking at doing the same with the v2 api
[2012-04-12 16:33:29 -0400] hoover_damn: StormSilver, right reason, right idea.  But we don't want to make it too loose
[2012-04-12 16:33:45 -0400] StormSilver: hoover_damn: Sure, maybe we need to populate a few more bits in the file
[2012-04-12 16:34:10 -0400] StormSilver: hoover_damn: But if you're talking about putting the RS response from create in there, it goes back to the question of: what if you don't use The Knife Way?
[2012-04-12 16:34:10 -0400] hoover_damn: StormSilver, is there a meta-data endpoint for rs like ec2?
[2012-04-12 16:34:24 -0400] StormSilver: hoover_damn: That's a question for mattray
[2012-04-12 16:34:34 -0400] StormSilver: So we don't want to punish people for not Doing It With Knife.
[2012-04-12 16:34:38 -0400] hoover_damn: right what do you do with ohai when you are stuck in a pidgeonhole and you need it to give you the answer
[2012-04-12 16:34:48 -0400] hoover_damn: without creating a horrible one off situation that will screw you later on
[2012-04-12 16:34:52 -0400] mattray: hoover_damn: not that they know about. BTM and I have had threads with their Dev Partners that have gone nowhere
[2012-04-12 16:35:13 -0400] hoover_damn: mattray, hrmph, well that makes this really stupid
[2012-04-12 16:35:31 -0400] hoover_damn: because how are we going to detect who we are? if you don't give us any methods?
[2012-04-12 16:35:39 -0400] mattray: I can go complain for v2, but I don't think they're going to fix v1 and it's a problem today
[2012-04-12 16:35:48 -0400] StormSilver: A growing problem.
[2012-04-12 16:36:09 -0400] hoover_damn: that's why I said dmidecode
[2012-04-12 16:36:37 -0400] hoover_damn: there needs to be a feedback loop saying 'Hi I'm a rackspace instance... my public ip is 50.0.0.1 and my private ip is 10.0.0.2 and my root password is fartknockersrule'
[2012-04-12 16:36:52 -0400] hoover_damn: 'I'm in this datacenter and this is my security group.'
[2012-04-12 16:37:17 -0400] hoover_damn: otherwise you need a lot of duct tape to slap against it to throw against the wall
[2012-04-12 16:37:32 -0400] hoover_damn: Even Terramark gives you a few vmware bits of love
[2012-04-12 16:37:38 -0400] hoover_damn: it's not exactly fantastic
[2012-04-12 16:37:42 -0400] hoover_damn: but it's better then this
[2012-04-12 16:37:49 -0400] hoover_damn: barely
[2012-04-12 16:38:25 -0400] hoover_damn: because part of being on the cloud is knowing what cloud your on, so you can appropriately configure/adapt/fail
[2012-04-12 16:39:00 -0400] StormSilver: Right... and given the lack of support for that from the cloud suppliers, it looks like we have to invent it ourself. :(
[2012-04-12 16:39:09 -0400] hoover_damn: and not having the file progrmatically filled from rackspace... just fills me with fear of doom of a one off situation where someone does echo ec2 > /etc/chef/cloud
[2012-04-12 16:39:19 -0400] hoover_damn: to get something working... and then for 2-4hours they sit in #chef asking for help
[2012-04-12 16:39:33 -0400] hoover_damn: with folks confused / etc
[2012-04-12 16:40:05 -0400] hoover_damn: StormSilver, right, at that point you might as well create a rackspace hosting service for your account
[2012-04-12 16:40:08 -0400] hoover_damn: to spill your deets
[2012-04-12 16:40:37 -0400] hoover_damn: http://metadata.mydomain.com/instances?key=bob
[2012-04-12 16:41:07 -0400] hoover_damn: it really isn't me singing praise of ec2 metadata here... it's not
[2012-04-12 16:41:29 -0400] hoover_damn: it's being able to identify where you are in the world carmen sandiego... from the instance itself without any arcane 3rd party tools
[2012-04-12 16:41:32 -0400] hoover_damn: or witchcraft or voodoo
[2012-04-12 16:41:54 -0400] hoover_damn: wish i had the voice or power to help :(
[2012-04-12 16:42:01 -0400] btm: Rackspace isn't convinced this is a big enough priority because only Chef users have complained so far.
[2012-04-12 16:42:03 -0400] hoover_damn: but outside of my rhertoric i'm useless
[2012-04-12 16:42:23 -0400] hoover_damn: it's only because chef depends on this... more will
[2012-04-12 16:42:39 -0400] hoover_damn: as more users need to know where they are in the world, the need becomes greater...
[2012-04-12 16:42:51 -0400] hoover_damn: and you can always tell a customer they don't need it and hope they accept that answer... lots do
[2012-04-12 16:43:08 -0400] hoover_damn: Just like how Rackspace didn't create a ticket for my issue yesterday when I was being created in a huddle I shouldn't have.
[2012-04-12 16:43:25 -0400] hoover_damn: coulda shoulda ... didn't
[2012-04-12 16:44:24 -0400] hoover_damn: btm, is there anyone I can make our account of note of the complaint?
[2012-04-12 16:44:30 -0400] hoover_damn: btm, so our account gets a 'us too' nod at RS?
[2012-04-12 16:47:15 -0400] btm: hoover_damn: my ticket was #256467. probably decent to get some of those linked together.
[2012-04-12 16:49:23 -0400] btm: hoover_damn: looking back over my email, we pinged LivingSocial to ask those guys to make some noise at rackspace too.
[2012-04-12 16:49:47 -0400] btm: Our product team has been looking into this.  While there is no clear current mechanism to do so, they are trying to build the right solution that can help you identify Rackspace Cloud and even potentially the datacenter.
[2012-04-12 16:49:51 -0400] btm: So this is certainly on the roadmap, thank you for alerting us to this, we will continue to push.  Not aware of a timeline as yet.  Will keep you informedplease advise of other concerns?
[2012-04-12 16:50:04 -0400] btm: ^-- from rackspace on 1/13/2012
[2012-04-12 16:56:30 -0400] hoover_damn: btm, did benchmark raise a racket?
[2012-04-12 17:22:44 -0400] btm: hoover_damn: not that I heard of.
[2012-04-12 17:29:34 -0400] hoover_damn: :(
[2012-04-12 17:29:40 -0400] hoover_damn: well he works for livingsocial now
[2012-04-12 17:29:41 -0400] hoover_damn: ^^ benchMark
[2012-04-12 17:39:02 -0400] github-bawt: [knife-ec2] mattray pushed 2 new commits to master: http://git.io/O_1K-A
[2012-04-12 17:39:02 -0400] github-bawt: [knife-ec2/master] explicit highline dependency - mattray
[2012-04-12 17:39:02 -0400] github-bawt: [knife-ec2/master] Merge branch 'KNIFE_EC2-53' - mattray
[2012-04-12 18:51:07 -0400] github-bawt: [chef] btm pushed 1 new commit to master: http://git.io/Z9889g
[2012-04-12 18:51:07 -0400] github-bawt: [chef/master] CHEF-1747: Technically x.y versioned cookbooks are legal but a.b.c.d are not. - Bryan McLellan
[2012-04-12 19:43:58 -0400] laurent\: btm: answered your comment on OHAI-343
[2012-04-12 19:44:59 -0400] btm: laurent\: word.
[2012-04-12 19:46:20 -0400] laurent\: pardon my french, what does that mean ? :)
[2012-04-12 19:46:55 -0400] jtimberman: laurent\: "Cool"
[2012-04-12 19:49:57 -0400] StormSilver: It's short for "word to your mother"
[2012-04-12 19:51:42 -0400] StormSilver: As in, "Tell your mother hello, because she is of the opinion that I am a fine, upstanding young gentleman, and she will enjoy hearing from me."
[2012-04-12 19:54:59 -0400] laurent\: thanks :-)
[2012-04-12 19:55:45 -0400] c_t: your mom always enjoys hearing from me
[2012-04-12 19:55:48 -0400] c_t: along with the US Navy
[2012-04-12 19:58:31 -0400] StormSilver: "What she does not know, however, is that I am really a rowdy young baller who runs hot in the streets with my rowdy clique of friends, who are also hard ballers."
[2012-04-12 21:30:58 -0400] github-bawt: [knife-ec2] mattray pushed 2 new commits to master: http://git.io/hy3jMw
[2012-04-12 21:30:58 -0400] github-bawt: [knife-ec2/master] chef dependency needed, highline not so much - mattray
[2012-04-12 21:30:58 -0400] github-bawt: [knife-ec2/master] Merge branch 'KNIFE_EC2-54' - mattray
[2012-04-12 21:35:48 -0400] fujin: hoover_damn: thanks for the PR, will look through it today
[2012-04-12 21:35:51 -0400] fujin: looks very tidy
[2012-04-12 21:43:56 -0400] hoover_damn: fujin, there's a few loose angles that I shoulda done better
[2012-04-12 21:44:05 -0400] hoover_damn: fujin, but I really lack the time unortunately
[2012-04-12 21:44:21 -0400] hoover_damn: nothing buggy, just nitpicky
[2012-04-12 21:44:46 -0400] hoover_damn: I kinda need to spend more time on my graphite cookbook and it's dumping and loading of data
[2012-04-12 21:45:05 -0400] hoover_damn: thanks to some django tips that jdixon gave me he made me realize how silly and easy it is to pre-populate with data
[2012-04-12 21:45:20 -0400] hoover_damn: damn puppet users are good for something
[2012-04-12 21:45:48 -0400] spox: :ls
[2012-04-12 21:49:02 -0400] joewilliams: has anyone else seen an error like this? https://gist.github.com/15afe1209ce31b45e558
[2012-04-12 21:49:15 -0400] joewilliams:  the file exists and if i delete/purge the cookbook and upload again it works fine
[2012-04-12 21:52:46 -0400] hoover_damn: joewilliams, connection refused is connection refused... so why does your local machine think the connection was refused is the question
[2012-04-12 21:53:00 -0400] hoover_damn: and if you delete and reupload the cookbook it works?
[2012-04-12 21:53:07 -0400] joewilliams: yup every time
[2012-04-12 21:53:09 -0400] hoover_damn: compact your database recently?
[2012-04-12 21:53:29 -0400] hoover_damn: almost sounds like something with couchdb
[2012-04-12 21:54:21 -0400] joewilliams: ive compacted it in the past and it hasnt helped
[2012-04-12 22:07:58 -0400] hoover_damn: joewilliams, odd haven't seen that behavior i'd love to see more...
[2012-04-12 22:08:13 -0400] hoover_damn: joewilliams, can you crank up the server logs to debug and reproduce and gist the logs scrubbed up?
[2012-04-12 22:10:57 -0400] joewilliams: yeah will do, i need to figure this one out, it seems to pop up every few weeks for us
[2012-04-12 22:12:43 -0400] kyd__: joewilliams: sounds like you're starved on unicorn workers. once they're all busy the unicorn master won't accept anymore connections.
[2012-04-12 22:12:50 -0400] kyd__: any more*
[2012-04-12 22:13:10 -0400] kyd__: which is why it goes away when you try later, cuz they're not as busy.
[2012-04-12 22:13:45 -0400] joewilliams: nah, if i dont delete the cookbook it happens every time
[2012-04-12 22:13:58 -0400] hoover_damn: you shouldn't get connection refused
[2012-04-12 22:14:05 -0400] hoover_damn: that's something completely else
[2012-04-12 22:14:11 -0400] joewilliams: agreed, the error is bogus
[2012-04-12 22:14:15 -0400] hoover_damn: starved on unicorn workers will give a 503
[2012-04-12 22:14:18 -0400] hoover_damn: err 502
[2012-04-12 22:14:29 -0400] hoover_damn: as the master will still be up and listening on the port
[2012-04-12 22:15:01 -0400] hoover_damn: so once you get some time to reproduce this let us know what the gist is and we'll see what we can glean from it.
[2012-04-12 22:15:02 -0400] joewilliams: my guess is something dumb is happening underneath and its being conveyed as a connection refused when it really isnt
[2012-04-12 22:15:36 -0400] hoover_damn: no your getting connection refused
[2012-04-12 22:15:43 -0400] hoover_damn: but not exactly
[2012-04-12 22:15:45 -0400] kyd__: if the listen backlog is full, you will get connection refused
[2012-04-12 22:15:50 -0400] joewilliams: i know there is some net-http hackery in there
[2012-04-12 22:15:51 -0400] kyd__: but you have nginx in front of it?
[2012-04-12 22:16:11 -0400] joewilliams: nope
[2012-04-12 22:16:13 -0400] hoover_damn: total net-http hackery in there... so my guess is your hitting a rescue
[2012-04-12 22:16:17 -0400] hoover_damn: so we need debug mode to see more
[2012-04-12 22:16:22 -0400] joewilliams: yup
[2012-04-12 22:16:49 -0400] hoover_damn: btw what version of couchdb?
[2012-04-12 22:17:06 -0400] hoover_damn: not like i know what a good version is anymore
[2012-04-12 22:17:07 -0400] hoover_damn: lol
[2012-04-12 22:17:17 -0400] joewilliams: what ever is on 10.04
[2012-04-12 22:17:54 -0400] hoover_damn: hrm, well one of my clients runs 10.04 and i'm not seening that issue
[2012-04-12 22:17:58 -0400] hoover_damn: seeing*
[2012-04-12 22:18:59 -0400] hoover_damn: i'd say something's up with chef.couch prolly, find a good time to replicate the database to itself?
[2012-04-12 22:19:07 -0400] hoover_damn: if that doesn't make sense I can explain
[2012-04-12 22:21:03 -0400] joewilliams: nah i know what you mean
[2012-04-12 22:32:30 -0400] hoover_damn: there is an upper limit on couchdb so if you update couchdb make sure not to go too high, but replicating the database should fix it
[2012-04-12 23:44:57 -0400] hoover_damn: observation, is every package on ubuntu stupid?
[2012-04-12 23:45:06 -0400] hoover_damn: yeah let's install something and auto-start it.
[2012-04-12 23:47:38 -0400] holoway: hoover_damn: that's debian policy
[2012-04-12 23:47:43 -0400] holoway: it's not a preseed option
[2012-04-12 23:47:48 -0400] holoway: it's a built-in policy for every service
[2012-04-12 23:47:54 -0400] hoover_damn: ugh
[2012-04-12 23:48:18 -0400] hoover_damn: this totally works against me as I want to install postgresql, and then configure it
[2012-04-12 23:48:59 -0400] hoover_damn: yeah that policy makes me do silly things.
[2012-04-12 23:50:46 -0400] holoway: I *just* had this argument
[2012-04-12 23:50:59 -0400] hoover_damn: :( sorry you had it twice
[2012-04-12 23:51:11 -0400] hoover_damn: I understand Opscode's need to support Ubuntu
[2012-04-12 23:51:37 -0400] hoover_damn: support the modern used distributions that have the majority
[2012-04-12 23:51:47 -0400] hoover_damn: heck your lucky you can call ubuntu the majority
[2012-04-12 23:51:59 -0400] hoover_damn: a few years ago you'd be spending more time on debian and fedora core likely
[2012-04-12 23:53:33 -0400] hoover_damn: no way anyone (including myself) can shove their head in the sand just because they don't like x and y in ubuntu..
[2012-04-12 23:58:08 -0400] hoover_damn: http://ask.debian.net/questions/how-to-prevent-daemons-from-starting-at-installation-time
[2012-04-12 23:58:11 -0400] hoover_damn: wow
[2012-04-12 23:58:27 -0400] hoover_damn: sigh
