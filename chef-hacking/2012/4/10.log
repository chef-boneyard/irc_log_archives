[2012-04-10 14:57:27 -0400] StormSilver: I'd like to set some per-server first_run attributes from a bootstrap template. Obviously I can't just hardcode the data in the template, it needs to be passed in at knife invocation time. AFAICT, there is no support for doing this.
[2012-04-10 14:58:23 -0400] StormSilver: And I can't seem to find a ticket of anyone working on it.
[2012-04-10 14:58:42 -0400] StormSilver: Wondering if maybe there's A Better Way and I'm missing it?
[2012-04-10 15:12:57 -0400] thom: if there is a better way i have not found it
[2012-04-10 15:13:11 -0400] StormSilver: thom: Are you doing anything like that?
[2012-04-10 15:13:44 -0400] thom: i don't really use knife bootstrap any more
[2012-04-10 15:14:04 -0400] StormSilver: Heh, moved beyond it, eh?
[2012-04-10 15:14:44 -0400] thom: but when i did, it constantly annoyed me that i couldn't. but i wound up writing some proper autoscaling scripts so they do the bootstrap there
[2012-04-10 15:15:09 -0400] StormSilver: Well, it shouldn't be too hard to add.
[2012-04-10 15:15:34 -0400] thom: indeed
[2012-04-10 15:15:57 -0400] thom: hmm, i really shouldn't shave the zsh knife completion yak this afternoon
[2012-04-10 15:16:17 -0400] thom: there's one in oh-my-zsh that just needs to be totally rewritten
[2012-04-10 15:31:53 -0400] pom_: StormSilver: ^5 for the 11.10 template, works a treat!
[2012-04-10 15:39:16 -0400] StormSilver: roidrage: NP mate, glad it helped
[2012-04-10 15:39:30 -0400] StormSilver: roidrage: For a second I was like WHO IS THIS POM CHARACTER
[2012-04-10 16:00:49 -0400] hoover_damm: StormSilver, it's roidrage's new secret nickname
[2012-04-10 16:00:49 -0400] hoover_damm: :)
[2012-04-10 16:01:12 -0400] hoover_damm: StormSilver, I now think of pom and roidrage as the same just to make sure I don't get confused :)
[2012-04-10 16:01:27 -0400] StormSilver: Tired of raging, he begins drinking pomegranate juice instead
[2012-04-10 16:01:50 -0400] hoover_damm: lol
[2012-04-10 16:02:05 -0400] hoover_damm: there's so many ways we can go with that... but let's not :)
[2012-04-10 16:07:34 -0400] roidrage: nice, rvm's installer script now returns 1, wat?
[2012-04-10 16:12:18 -0400] hoover_damm: :( good time to debug or ask in #rvm :(
[2012-04-10 17:22:24 -0400] hoover_damm: anyone from opscode... is this yours? https://github.com/cookbooks
[2012-04-10 17:22:35 -0400] hoover_damm: or should I just email the address in that list?
[2012-04-10 17:28:54 -0400] mattray: hoover_damm: not ours
[2012-04-10 17:29:56 -0400] jtimberman: hoover_damm: that is not ours.
[2012-04-10 17:30:09 -0400] jtimberman: hoover_damm: https://github.com/opscode-cookbooks
[2012-04-10 17:30:10 -0400] jtimberman: is ours
[2012-04-10 17:30:38 -0400] hoover_damm: okay then i'm going to email them, because i'm a little bothered by the cookbooks they have forked
[2012-04-10 17:31:06 -0400] hoover_damm: that and it's easily confused as they registered the org of cookbooks
[2012-04-10 17:31:21 -0400] hoover_damm: I can see how someone would try and turn that into the definitive
[2012-04-10 17:31:25 -0400] hoover_damm: as it'd be the shortest url
[2012-04-10 18:24:53 -0400] c_t: woohoo
[2012-04-10 18:25:08 -0400] c_t: I think I'll get a little bit of a breather for a few months
[2012-04-10 18:35:36 -0400] StormSilver: This commit seems to have broken knife ssh: https://github.com/opscode/chef/commit/1d38d01071a060ba13565139eab89c84a3da2498
[2012-04-10 18:37:14 -0400] StormSilver: btm: ^
[2012-04-10 18:38:37 -0400] jtimberman: StormSilver: http://tickets.opscode.com/browse/CHEF-2705
[2012-04-10 18:38:45 -0400] jtimberman: https://github.com/opscode/chef/pull/265
[2012-04-10 18:39:07 -0400] StormSilver: jtimberman: I'm no good with the tools - I was wondering how to figure out the associated ticket/pull request... How did you get there?
[2012-04-10 18:39:35 -0400] StormSilver: Oh wait
[2012-04-10 18:39:41 -0400] StormSilver: I should read what you sent me first
[2012-04-10 18:39:47 -0400] btm: StormSilver: hard work. :)
[2012-04-10 18:40:33 -0400] StormSilver: I noticed that the order was switched up in that line.
[2012-04-10 18:40:55 -0400] StormSilver: So it's always going to use Chef::Config if it's set, so you can't override it inside the config hash.
[2012-04-10 18:41:07 -0400] StormSilver: Not understanding _exactly_ what this code is supposed to be doing, is that intentional?
[2012-04-10 18:49:28 -0400] github-bawt: [chef] btm pushed 9 new commits to master: http://git.io/S0zfjw
[2012-04-10 18:49:29 -0400] github-bawt: [chef/master] Refactored cron provider unit tests. - Alex Tomlins
[2012-04-10 18:49:29 -0400] github-bawt: [chef/master] CHEF-1681 Handle commented out cron entries - Alex Tomlins
[2012-04-10 18:49:29 -0400] github-bawt: [chef/master] Rename Chef::Provider::Cron.compare_cron method to cron_different? - Alex Tomlins
[2012-04-10 18:53:54 -0400] github-bawt: [chef] btm pushed 8 new commits to master: http://git.io/RBsyMw
[2012-04-10 18:53:54 -0400] github-bawt: [chef/master] [CHEF-2964] Pass the "fast" flag to rc scripts to disable any pre-flight checks on whether the service is already started. - Andrea Campi
[2012-04-10 18:53:54 -0400] github-bawt: [chef/master] [CHEF-2964] Specs for overridden methods in the freebsd service provider. - Andrea Campi
[2012-04-10 18:53:54 -0400] github-bawt: [chef/master] [CHEF-2964] Convert the freebsd service provider to Mixlib ShellOut. - Andrea Campi
[2012-04-10 19:00:29 -0400] StormSilver: After I've sent a pull request and added a link to it in the ticket, should I set it to resolved or what?
[2012-04-10 19:00:57 -0400] StormSilver: There used to be a thing on the wiki telling you what status to set it to, but I can't find it now. :/
[2012-04-10 19:01:22 -0400] StormSilver: Oh wait, NM, there it is.
[2012-04-10 21:20:00 -0400] fnichol: Hey chefs, I need to conditionally set Chef::Config[:http_proxy] at runtime (rather than in chef-{client,solo}.rb). Does this seem insane or okay as recipe code early in the run_list? https://gist.github.com/2354416
[2012-04-10 21:23:51 -0400] github-bawt: [chef] btm pushed 4 new commits to master: http://git.io/rA6JEQ
[2012-04-10 21:23:51 -0400] github-bawt: [chef/master] 3rd part of fix for CHEF-1747
[2012-04-10 21:23:51 -0400] github-bawt: [chef/master] Update tests to verify CHEF-1747 - j3p0uk
[2012-04-10 21:23:52 -0400] github-bawt: [chef/master] Update to most appropriate regex for cookbook version - j3p0uk
[2012-04-10 21:24:43 -0400] StormSilver: fnichol: Your comment says "run in compilation phase", however, by sticking it in a ruby_block you are running it in the convergence phase
[2012-04-10 21:25:02 -0400] StormSilver: fnichol: If you truly want to run it during compilation, just write it as straight ruby - no resources
[2012-04-10 21:25:47 -0400] StormSilver: fnichol: Which would make that code an awful lot simpler. :)
[2012-04-10 21:25:48 -0400] fnichol: StormSilver: der, oh yeah! This was the product of over-thinking :)
[2012-04-10 21:25:56 -0400] StormSilver: fnichol: Don't you hate that?
[2012-04-10 21:26:41 -0400] fnichol: StormSilver: no kidding. That solution was standing in line waiting for lunch. I'm just hoping it's not overly evil modifying Chef::Config
[2012-04-10 21:26:42 -0400] StormSilver: fnichol: Only problem I can see is - how is the client going to connect to the server to get the recipe to set the proxy... if it needs a proxy to connect in the first place?
[2012-04-10 21:26:56 -0400] StormSilver: fnichol: Nah, modify that shit
[2012-04-10 21:28:03 -0400] fnichol: StormSilver: woot, will do now. Just needed my arm twisted
[2012-04-10 21:28:19 -0400] StormSilver: fnichol: Did my question make sense, though?
[2012-04-10 21:28:31 -0400] StormSilver: fnichol: I think you've got a horse and cart problem there
[2012-04-10 21:29:55 -0400] fnichol: StormSilver: ah I see what you mean now. In this case it's using knife-solo which rsync's the chef-repo over to the node before executing. Sadly the plugin and chef-solo use the same solo.rb file and not all hosts need this awful firewall work around
[2012-04-10 21:30:16 -0400] StormSilver: fnichol: That makes sense, then.
[2012-04-10 21:32:36 -0400] fnichol: StormSilver: thanks, now maybe I can get these nodes to finish a convergence :/
[2012-04-10 21:32:58 -0400] StormSilver: fnichol: Always a good feeling when that happens
[2012-04-10 23:40:07 -0400] cwj: i dont think there will be a real one-size-fits-all solution for repo management for sometime to come, if ever
[2012-04-10 23:40:12 -0400] cwj: er
[2012-04-10 23:40:14 -0400] cwj: ww
[2012-04-10 23:41:06 -0400] hoover_damm: there never was
[2012-04-10 23:41:21 -0400] hoover_damm: I was on the fringe years ago about chef-repo thought it was obscure/bizzare
[2012-04-10 23:41:31 -0400] hoover_damm: I really didn't like it until 0.8 once all the role from file and other love was added
[2012-04-10 23:41:47 -0400] hoover_damm: now I think it's the bees knee's and a good starting point
[2012-04-10 23:46:24 -0400] jtimberman: cwj: nope, too many bikesheds
[2012-04-10 23:46:25 -0400] jtimberman: :)
[2012-04-10 23:47:04 -0400] cwj: yep :)
[2012-04-10 23:47:17 -0400] atomic-penguin: Isn't bikesheds the whole point of the cook project though?
[2012-04-10 23:47:43 -0400] hoover_damm: no
[2012-04-10 23:47:48 -0400] atomic-penguin: lol j/k
[2012-04-10 23:48:16 -0400] atomic-penguin: man this attribute needs to be green for suicide-linux
[2012-04-10 23:48:47 -0400] jtimberman: atomic-penguin: kind of.
[2012-04-10 23:48:55 -0400] jtimberman: like, our apache2 cookbook is totally a green bikeshed.
[2012-04-10 23:50:03 -0400] hoover_damm: jtimberman, I think people could argue what color the apache2 cookbook is until someone agreed on puke green
[2012-04-10 23:50:21 -0400] jtimberman: it works consistently across several platforms though.
[2012-04-10 23:50:44 -0400] jtimberman: so anyone familiar with it will know what to expect.
[2012-04-10 23:51:23 -0400] hoover_damm: you should see what I did to your postgresql cookbook
[2012-04-10 23:51:31 -0400] hoover_damm: :)
[2012-04-10 23:51:43 -0400] atomic-penguin: ...until the stacked case switches don't work
[2012-04-10 23:51:46 -0400] hoover_damm: actually might be a good pull request away except I took it to 9.1 and heavily optimized it
[2012-04-10 23:52:06 -0400] hoover_damm: just you know the regular shared memory stuff, effective cache size
[2012-04-10 23:52:08 -0400] hoover_damm: other stuff :)
[2012-04-10 23:52:10 -0400] hoover_damm: logging :)
[2012-04-10 23:52:18 -0400] hoover_damm: knob it all
[2012-04-10 23:52:22 -0400] atomic-penguin: not that is anyone's fault, nature of the beast.  there is no cross-distro standardization going on
[2012-04-10 23:52:22 -0400] hoover_damm: everything must be a knob
[2012-04-10 23:52:30 -0400] hoover_damm: nope
[2012-04-10 23:52:34 -0400] hoover_damm: and they're getting worse i bet
[2012-04-10 23:52:44 -0400] jtimberman: atomic-penguin: yeah
[2012-04-10 23:53:03 -0400] jtimberman: atomic-penguin: cookbooks aren't the place where you accommodate different distros ways of doing something.
[2012-04-10 23:53:19 -0400] jtimberman: atomic-penguin: they're where you say "Everyone using this will conform to my opinion"
[2012-04-10 23:53:23 -0400] jtimberman: usually with an evil cackle.
[2012-04-10 23:53:40 -0400] jtimberman: some behavior will have to be modified depending on platform, of course.
[2012-04-10 23:53:52 -0400] atomic-penguin: muwhahah
[2012-04-10 23:54:19 -0400] jtimberman: i think dinner is ready
[2012-04-10 23:54:23 -0400] jtimberman: ttyl yall
