[2012-11-09 00:57:39 -0500] joewilliams: can anyone help me wrap my brain around this: https://gist.github.com/0dce8c33e9b4a38cc976 (cc jtimberman)
[2012-11-09 00:58:32 -0500] joewilliams: that search is from the nagios cookbook (at least the version i have)
[2012-11-09 00:58:56 -0500] joewilliams: the 'hostname:[* TO *]' anyway
[2012-11-09 00:59:32 -0500] jtimberman: wherei n the recipe is that and what version of the cookbook do you have
[2012-11-09 01:01:22 -0500] joewilliams: jtimberman: https://github.com/opscode-cookbooks/nagios/blob/master/recipes/server.rb#L75
[2012-11-09 01:02:58 -0500] joewilliams: if i understand that search correctly my example should be impossible
[2012-11-09 01:03:16 -0500] jtimberman: its possible to have nodes wihtout a hostname attribute
[2012-11-09 01:03:26 -0500] jtimberman: but i'm confused about those myself :/
[2012-11-09 01:03:57 -0500] joewilliams: my gist shows that it both has and doesn't have a hostname attribute
[2012-11-09 01:03:59 -0500] joewilliams: lol
[2012-11-09 01:04:10 -0500] joewilliams: unless i am doing something silly
[2012-11-09 01:04:27 -0500] jtimberman: hmm
[2012-11-09 01:04:54 -0500] jtimberman: i don't know how you got to this point in your search index :/
[2012-11-09 01:05:12 -0500] joewilliams: you and me both
[2012-11-09 01:05:21 -0500] joewilliams: i did a reindex, no help
[2012-11-09 01:09:49 -0500] jtimberman: sorry man, i don't know offhand why it would do that.
[2012-11-09 15:37:27 -0500] nacer: hello
[2012-11-09 15:38:17 -0500] nacer: i'am testting kitchen with minitest, how can i inject some json attribute to the chef-solo run for my test ?
[2012-11-09 16:00:05 -0500] github-bawt: [omnibus-chef] schisamo created sc/OC-4876/nuke-admin-client (+7 new commits): http://git.io/yDN6JQ
[2012-11-09 16:00:05 -0500] github-bawt: omnibus-chef/sc/OC-4876/nuke-admin-client 8a09fe7 Seth Chisamore: write chef-pedant's config file to the omnibus data dir...
[2012-11-09 16:00:05 -0500] github-bawt: omnibus-chef/sc/OC-4876/nuke-admin-client aa82e21 Seth Chisamore: use the `webui-admin` user that we bootstrap as the pedant admin user
[2012-11-09 16:00:05 -0500] github-bawt: omnibus-chef/sc/OC-4876/nuke-admin-client 23f9458 Seth Chisamore: create a chef-pedant log directory and log http request by default
[2012-11-09 17:22:28 -0500] jtimberman: nacer: write a 'test' cookbook that sets attributes in the recipe
[2012-11-09 17:22:37 -0500] jtimberman: nacer: examples can be foudn in the rabbitmq cookbook
[2012-11-09 17:22:45 -0500] jtimberman: test/kitchen/rabbitmq_test/recipes/
[2012-11-09 17:23:04 -0500] nacer: ok jtimberman, i have a other one about the kitchenfile
[2012-11-09 17:23:12 -0500] jtimberman: https://github.com/opscode-cookbooks/rabbitmq/blob/master/test/kitchen/cookbooks/rabbitmq_test/recipes/cook-1684.rb
[2012-11-09 17:23:20 -0500] jtimberman: as an example
[2012-11-09 17:23:23 -0500] nacer: can i add run_list_extra into configuration ?
[2012-11-09 17:23:29 -0500] jtimberman: you then create a "configuration" in the configuration
[2012-11-09 17:23:42 -0500] jtimberman: i don't remember if run_list_extras works in a configuration or if its at the whole project
[2012-11-09 17:23:45 -0500] nacer: jtimberman: i don't want to install mysql::server when i test zabbix::agent
[2012-11-09 17:23:54 -0500] jtimberman: nacer: but mysql server is good for you!
[2012-11-09 17:23:57 -0500] jtimberman: ;)
[2012-11-09 17:24:04 -0500] nacer: jtimberman: it seem it's for the project :)
[2012-11-09 17:24:17 -0500] jtimberman: yeah that sounds right.
[2012-11-09 17:24:23 -0500] jtimberman: i might have opened a ticket about it
[2012-11-09 17:24:38 -0500] nacer: jtimberman: i stick with mysql for the moment
[2012-11-09 17:24:41 -0500] nacer: :)
[2012-11-09 17:29:35 -0500] nacer: jtimberman: i'dont see your ticket
[2012-11-09 17:37:56 -0500] jtimberman: nacer: i guess i didn't make one then..
[2012-11-09 17:38:36 -0500] miketheman: jtimberman: honey badger strikes again
[2012-11-09 17:39:06 -0500] jtimberman: miketheman: what!
[2012-11-09 17:39:30 -0500] miketheman: telling people you made tickets...
[2012-11-09 18:34:13 -0500] miah: moin
[2012-11-09 18:38:39 -0500] c_t: hail
[2012-11-09 19:00:30 -0500] github-bawt: [chef] danielsdeleo pushed 1 new commit to master: http://git.io/PSuctA
[2012-11-09 19:00:30 -0500] github-bawt: chef/master 238c212 danielsdeleo: Merge branch 'CHEF-2903'
[2012-11-09 19:02:16 -0500] github-bawt: [chef] danielsdeleo pushed 3 new commits to master: http://git.io/200gvQ
[2012-11-09 19:02:17 -0500] github-bawt: chef/master 5f19be6 danielsdeleo: Add "force" level precedence to Node::Attribute
[2012-11-09 19:02:17 -0500] github-bawt: chef/master 4d02117 danielsdeleo: Wire "force" default and override into node...
[2012-11-09 19:02:17 -0500] github-bawt: chef/master 1a08e84 danielsdeleo: Merge branch 'runtime-precedence'
[2012-11-09 19:33:16 -0500] miah: hrm. the lvm cookbook hosted on the community is a different version than what is in the opscode-cookbooks repo.. 0.7.0 vs 0.8.0.
[2012-11-09 19:33:22 -0500] miah: the version on community lacks the lwrp..
[2012-11-09 19:39:55 -0500] jhulten: Hey. Is @new_resource.updated_by_last_action called by subresources in a LWRP?
[2012-11-09 19:40:15 -0500] jhulten: Or do I need to call it even if I am just proxying?
[2012-11-09 19:42:53 -0500] miah: on that same line of questioning..
[2012-11-09 19:43:29 -0500] miah: i'm having a issue passing 'new_resource.<parameter>' to subresources that happen to be other lwrps. though in one case it works.. in another it doesnt.
[2012-11-09 19:43:59 -0500] miah: if i wrap the attribute in a variable 'foo = new_resource.<attribute>' then it works.
[2012-11-09 19:44:16 -0500] miah: and.. now is time for standup.
[2012-11-09 19:46:54 -0500] c_t: "What is the deal with daemons dying on you without leaving anything in syslog?"
[2012-11-09 20:17:29 -0500] miah: ah. i think i have figured it out.
[2012-11-09 20:58:19 -0500] kallistec: jhulten: depends on your exact usage, a lot of people have started using the pattern of calling Resource#run_action on sub-resources in LWRPs and checking the updated status of those to decide if they need to set the LWRP resource's updated_by_last_action flag
[2012-11-09 20:58:43 -0500] kallistec: otherwise you're kinda screwed with notifications
[2012-11-09 21:14:26 -0500] miah: ~.
[2012-11-09 21:15:11 -0500] miah: thats smart
[2012-11-09 21:47:49 -0500] StormSilver: fnichol: In knife-server, on the EC2 bootstrap, a few config items are copied into the Ec2ServerCreate object: https://github.com/fnichol/knife-server/blob/master/lib/chef/knife/server_bootstrap_ec2.rb#L115
[2012-11-09 21:48:36 -0500] StormSilver: fnichol: However, --flavor doesn't get passed, so all I can create are m1.small chef server instances. Is there a reason we can't just: bootstrap.config.merge!(config) in place of line 115 above?
[2012-11-09 21:49:22 -0500] StormSilver: fnichol: Specifically, it doesn't get passed because of the way that knife-ec2 grabs that config item (and a few others)
[2012-11-09 22:06:19 -0500] StormSilver: fnichol: Sent you a pull request with the change since it's so easy. Let me know if it's not acceptable for some reason.
[2012-11-09 23:10:36 -0500] github-bawt: [omnibus-chef] schisamo pushed 9 new commits to master: http://git.io/Bzq9Kw
[2012-11-09 23:10:36 -0500] github-bawt: omnibus-chef/master 050271c Seth Chisamore: [OC-4876] remove admin client from system...
[2012-11-09 23:10:37 -0500] github-bawt: omnibus-chef/master a448b82 Seth Chisamore: remove unneeded ['chef-server-webui']['validation_client_name'] cookbook attribute
[2012-11-09 23:10:37 -0500] github-bawt: omnibus-chef/master 3dd8d49 Seth Chisamore: set webui rest client name from configuration attributes
