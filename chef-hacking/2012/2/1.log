[2012-02-01 19:19:00 -0500] Cope: guys got any idea why bundle exec rake ..... would result in every damn file in the whoe fscking world being stat'd ?
[2012-02-01 19:19:00 -0500] Cope: is this just a ruby 1.8.7 shitism?
[2012-02-01 19:20:00 -0500] Cope: I mean seriously bundle exec rake -T takes minutes to complete
[2012-02-01 19:20:00 -0500] Cope: that sounds fucked to me
[2012-02-01 19:24:00 -0500] jtimberman: does bundler even install with ruby 1.8.7? (troll)
[2012-02-01 19:41:00 -0500] coderanger: Damm: Ping
[2012-02-01 19:45:00 -0500] Damm: coderanger, pong
[2012-02-01 19:46:00 -0500] coderanger: Damm: Just a heads up you might see a slight spike in your server logs for the IRC log data
[2012-02-01 19:46:00 -0500] coderanger: using it to backfill our new log viewer :)
[2012-02-01 19:48:00 -0500] jtimberman: n0m!
[2012-02-01 19:49:00 -0500] Damm: coderanger, okay
[2012-02-01 19:49:00 -0500] Damm: cool
[2012-02-01 19:49:00 -0500] Damm: coderanger, if you need direct access or anything just let me know
[2012-02-01 19:50:00 -0500] coderanger: Still testing the feature, I'll let you know when its closer
[2012-02-01 20:05:00 -0500] Damm: k
[2012-02-01 20:21:00 -0500] Cope: srsly... this is insane:
[2012-02-01 20:21:00 -0500] Cope: real    3m45.575s
[2012-02-01 20:22:00 -0500] Cope: to run bundle exec rake -T
[2012-02-01 20:24:00 -0500] fujin: on what project?
[2012-02-01 20:30:00 -0500] Damm: sounds like he just got hired at EY and is working on awsm
[2012-02-01 20:30:00 -0500] Damm: lol
[2012-02-01 20:30:00 -0500] Damm: bundle --local actually takes +90s
[2012-02-01 20:30:00 -0500] Damm: and it's all in vendor/cache
[2012-02-01 20:30:00 -0500] Damm: :|
[2012-02-01 20:32:00 -0500] fujin: crazy gemfile that does that or?
[2012-02-01 20:32:00 -0500] fujin: or like infinite rake tasks
[2012-02-01 20:35:00 -0500] Damm: fujin, rals + merb + other crud
[2012-02-01 20:37:00 -0500] Damm: fujin, basic large legacy app
[2012-02-01 20:37:00 -0500] Damm: i guess
[2012-02-01 20:41:00 -0500] fujin: bundle exec rake -T  10.80s user 0.21s system 225% cpu 4.878 total
[2012-02-01 20:41:00 -0500] fujin: on my jruby project pylon
[2012-02-01 20:42:00 -0500] Cope: fujin: largeish rails 3.1 app
[2012-02-01 20:43:00 -0500] fujin: ah, suck :\
[2012-02-01 20:43:00 -0500] Cope: with ree.....
[2012-02-01 20:43:00 -0500] fujin: I bet someone has put some code that does shit slowly in a task. :P
[2012-02-01 20:44:00 -0500] Cope: fujin: so.. why does rake -T stat everything?
[2012-02-01 20:44:00 -0500] Cope: or is that a bundle exec side-effect
[2012-02-01 20:44:00 -0500] fujin: ruby probably stats everything it loads
[2012-02-01 20:44:00 -0500] Cope: right
[2012-02-01 20:45:00 -0500] yfeldblum: #require is O(n^2)
[2012-02-01 20:45:00 -0500] yfeldblum: is that what you're running into?
[2012-02-01 20:46:00 -0500] fujin: https://github.com/tmm1/rbtrace
[2012-02-01 20:48:00 -0500] Cope: yfeldblum: dunno, but i'm brand new to the project and just trying to find out how to run the tests is taking minutes at a time; seriously fucked.
[2012-02-01 20:49:00 -0500] Cope: thanks fujin - will look at that
[2012-02-01 20:49:00 -0500] Damm: prolly some weird ass Dir.glob require shit
[2012-02-01 20:50:00 -0500] Damm: as they require app/jobs/*.rb
[2012-02-01 20:50:00 -0500] Damm: and those are full of requires and other things
[2012-02-01 20:50:00 -0500] Damm: there's reasons why rails apps are slow (and rake) it's because of bad code
[2012-02-01 21:02:00 -0500] yfeldblum: Cope, how many gems is it loading? (gems listed in Gemfile plus all of the dependencies all the way down the line)
[2012-02-01 21:12:00 -0500] jtimberman: P=NP
[2012-02-01 21:12:00 -0500] jtimberman: isn't bundler turing complete?
[2012-02-01 21:12:00 -0500] yfeldblum: Damm, rails will autorequire every ruby file anywhere in app/*/ at boot (in test/prod modes)
[2012-02-01 21:13:00 -0500] yfeldblum: jtimberman, yes, because it's just ruby
[2012-02-01 21:13:00 -0500] Damm: yfeldblum, yes but developers make it worse and double and triple load ...
[2012-02-01 21:13:00 -0500] jtimberman: yfeldblum: stop destroying my snarkjokes
[2012-02-01 21:14:00 -0500] jtimberman: ^5
[2012-02-01 21:15:00 -0500] yfeldblum: jtimberman, dependency resolution can take exponential time but is NP-complete, since the resolution can be checked quite quickly
[2012-02-01 21:15:00 -0500] yfeldblum: Damm, not sure what you mean
[2012-02-01 21:15:00 -0500] Damm: yfeldblum, its okay you haven't seen it yet
[2012-02-01 21:16:00 -0500] yfeldblum: Damm, u mean they separately #load the same files that rails autoloaded?
[2012-02-01 21:17:00 -0500] Damm: yes
[2012-02-01 21:40:00 -0500] yfeldblum: Damm, weak
[2012-02-01 21:58:00 -0500] Damm: yfeldblum, I actually saw a job posting today that made me twitch because they wanted you to be proficient in rails 2.3.x and legacy apps
[2012-02-01 21:58:00 -0500] Damm: great another 2.3.5 user who refuses to upgrade even though they have to monkeypatch security fixes
[2012-02-01 21:58:00 -0500] Damm: yfeldblum, bad practices are rampent in old rails gigs
[2012-02-01 22:10:00 -0500] jtimberman: Damm: at least its not COBOL
[2012-02-01 22:31:00 -0500] c_t: COBOL probably pays better
[2012-02-01 22:32:00 -0500] jtimberman: c_t: not post y2k
[2012-02-01 22:35:00 -0500] c_t: I haven't asked about it in a while, but I think the state still has tons of COBOL laying around
[2012-02-01 22:35:00 -0500] c_t: I would have thought that they
[2012-02-01 22:36:00 -0500] c_t: d start becoming more valuable again as more of the original COBOL programmers die off
[2012-02-01 22:36:00 -0500] c_t: if nothing else to keep things going until they can move
[2012-02-01 22:37:00 -0500] jtimberman: COBOL is really easy to learn.
[2012-02-01 22:38:00 -0500] Damm: sigh
[2012-02-01 22:39:00 -0500] Damm: mine is too old for native drivers... last made was panther
[2012-02-01 22:39:00 -0500] Damm: I run lion
[2012-02-01 22:39:00 -0500] Damm: :/
[2012-02-01 22:39:00 -0500] Damm: oh and they're ppc no less
[2012-02-01 22:39:00 -0500] c_t: SANE might have something
[2012-02-01 22:41:00 -0500] Damm: nope
[2012-02-01 22:41:00 -0500] Damm: never did
[2012-02-01 22:48:00 -0500] c_t: bummer
[2012-02-01 22:50:00 -0500] Damm: eh crap happens
[2012-02-01 22:50:00 -0500] Damm: old hardware gets old and unsupported
[2012-02-01 22:50:00 -0500] Damm: happens
[2012-02-01 23:54:00 -0500] github-bawt: [chef] mmzyk pushed 1 new commit to CHEF-2899: http://git.io/nWSiCw
[2012-02-01 23:54:00 -0500] github-bawt: [chef/CHEF-2899] Added activesupport to its own group in bundler so it can be loaded on machines for chef compatibility testing - Mark Mzyk
