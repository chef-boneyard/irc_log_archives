[2012-05-30 00:19:09 -0400] github-bawt: [chef] danielsdeleo pushed 8 new commits to whyrun: http://git.io/wUmH5w
[2012-05-30 00:19:09 -0400] github-bawt: [chef/whyrun] Fix option long form typo - Chris Roberts
[2012-05-30 00:19:09 -0400] github-bawt: [chef/whyrun] CHEF-3103: Add chef-client -o option to markdown docs - Bryan McLellan
[2012-05-30 00:19:09 -0400] github-bawt: [chef/whyrun] [CHEF-3106] - fix default path for checksum cache - jtimberman
[2012-05-30 01:53:24 -0400] miah: guh. programming is hard.
[2012-05-30 04:15:34 -0400] github-bawt: [chef] schisamo created CHEF-3142 (+2 new commits): http://git.io/94dPLQ
[2012-05-30 04:15:35 -0400] github-bawt: [chef/CHEF-3142] [CHEF-3142] gracefully handle unimplemented Win32 api functions - Seth Chisamore
[2012-05-30 04:15:35 -0400] github-bawt: [chef/CHEF-3142] [CHEF-3142] Link provider should print friendly errors on unsupported Windows versions - Seth Chisamore
[2012-05-30 04:20:42 -0400] github-bawt: [chef] schisamo force-pushed CHEF-3142 from a6ade5f to 8a7e9ef: http://git.io/pta6PA
[2012-05-30 04:20:42 -0400] github-bawt: [chef/CHEF-3142] [CHEF-3142] Link provider should print friendly errors on unsupported Windows versions - Seth Chisamore
[2012-05-30 14:51:45 -0400] github-bawt: [chef] schisamo pushed 3 new commits to master: http://git.io/At9eCQ
[2012-05-30 14:51:45 -0400] github-bawt: [chef/master] [CHEF-3142] move the `attach_function` aliased method into a separate `safe_attach_function` method - Seth Chisamore
[2012-05-30 14:51:45 -0400] github-bawt: [chef/master] [CHEF-3142] print the more human friendly `node[:kernel][:name]` when the link resource is used on unsupported Windows versions - Seth Chisamore
[2012-05-30 14:51:45 -0400] github-bawt: [chef/master] Merge branch 'CHEF-3142' - Seth Chisamore
[2012-05-30 16:20:30 -0400] btm: Mithrandir: it looks like ruby-merb-core is in sid now, this closes CHEF-2766, right?
[2012-05-30 16:21:28 -0400] Mithrandir: yup
[2012-05-30 16:26:18 -0400] btm: awesome possum.
[2012-05-30 16:30:22 -0400] jtimberman: \o/
[2012-05-30 16:35:59 -0400] hoover_damm: oOo
[2012-05-30 16:36:07 -0400] hoover_damm: merb is in sid wow
[2012-05-30 16:37:03 -0400] c_t: ... merb wasn't in already?
[2012-05-30 16:40:16 -0400] btm: c_t: an older version of merb that jtimberman had packaged special for chef. merb is from the old days. the hipsters now have neckbeards.
[2012-05-30 16:40:25 -0400] hoover_damm: c_t, http://tickets.opscode.com/browse/CHEF-2766
[2012-05-30 16:40:47 -0400] hoover_damm: be thankful merb wasn't javascript :)
[2012-05-30 16:40:55 -0400] hoover_damm: yehuda's such a mobile hipster
[2012-05-30 16:54:02 -0400] c_t: aha
[2012-05-30 16:57:41 -0400] hoover_damm: people were truly afraid that merb was going to splinter/crack the rails community
[2012-05-30 16:57:48 -0400] hoover_damm: I wonder if that actually could have happened now
[2012-05-30 16:58:06 -0400] jtimberman: hoover_damm: no, they all went over to node.js
[2012-05-30 16:58:07 -0400] jtimberman: ;)
[2012-05-30 16:58:10 -0400] hoover_damm: I think it would have been possibly just a bumpy ride for a short period
[2012-05-30 16:58:36 -0400] hoover_damm: is that a hidden troll? even if it's valid
[2012-05-30 16:59:49 -0400] hoover_damm: jtimberman, that wasn't me trying to devalue your valid point.
[2012-05-30 17:00:15 -0400] ampledata: this is me doing that though
[2012-05-30 17:00:27 -0400] jtimberman: ampledata: !
[2012-05-30 17:00:39 -0400] ampledata: i smell like smoke
[2012-05-30 17:00:41 -0400] ampledata: camping is dirty
[2012-05-30 17:02:32 -0400] hoover_damm: no dirtier then the Colorado River running through China
[2012-05-30 17:04:18 -0400] hoover_damm: yfeldblum, btw that is what we all work to.  Having enough cookbooks that are good enough to 'share' and just run knife and win
[2012-05-30 17:04:30 -0400] hoover_damm: btw that is always a work in progress
[2012-05-30 17:04:41 -0400] hoover_damm: as the barrier will get reset commonly as what is the 'finishing' line
[2012-05-30 17:04:59 -0400] hoover_damm: yfeldblum, what you said in #chef.  (I didn't want to respond in there)
[2012-05-30 18:10:38 -0400] hoover_damm: anyone notice a rise in hostile/annoyed pull requests?
[2012-05-30 18:10:52 -0400] hoover_damm: I seem to be getting more people opening pull requests demanding x cookbook work this way
[2012-05-30 18:23:25 -0400] ampledata: hey jtimberman
[2012-05-30 18:23:49 -0400] ampledata: for exception handlers, where should we stick these in the namespace? in their own toplevel class or under Chef::Handler ?
[2012-05-30 18:29:57 -0400] btm: laurent\: Any chance you can tell which bug this dupes? http://tickets.opscode.com/browse/OHAI-376
[2012-05-30 18:45:52 -0400] github-bawt: [chef] lamont-opscode pushed 1 new commit to whyrun: http://git.io/4A3IFA
[2012-05-30 18:45:52 -0400] github-bawt: [chef/whyrun] always set perms on files with new content, instead of never setting perms until the next run... - Lamont Granquist
[2012-05-30 18:55:22 -0400] hoover_damm: btm, when are you going to release the knife-rackspace and ideally knife-ec2 plugins to fully correct OHAI-305 (OHAI-376)
[2012-05-30 18:55:30 -0400] hoover_damm: or have you already and I was just an ass and didn't look?
[2012-05-30 18:55:54 -0400] hoover_damm: hrm looks like rackspace has the bump to devel 15days ago
[2012-05-30 18:55:59 -0400] hoover_damm: phew not a total ass :(
[2012-05-30 18:59:15 -0400] github-bawt: [ohai] btm pushed 1 new commit to master: http://git.io/9lW8Aw
[2012-05-30 18:59:15 -0400] github-bawt: [ohai/master] Release Ohai 6.14.0 - Bryan McLellan
[2012-05-30 19:21:25 -0400] atomic-penguin: hoover_damm, for example?
[2012-05-30 19:25:52 -0400] hoover_damm: atomic-penguin, example of? sorry late response
[2012-05-30 19:25:56 -0400] hoover_damm: so i don't know what your responding to
[2012-05-30 19:26:51 -0400] atomic-penguin: hoover_damm, hostile pull requests of course
[2012-05-30 19:30:12 -0400] atomic-penguin: hoover_damm, dunno, more people == more opinions
[2012-05-30 19:30:29 -0400] hoover_damm: atomic-penguin, see query in a sec
[2012-05-30 19:31:40 -0400] c_t: hostile pull requests?
[2012-05-30 19:31:51 -0400] c_t: I... wouldn't have guessed there'd be such a thing
[2012-05-30 19:35:05 -0400] hoover_damm: https://github.com/blasten/turn.js/commit/8db4c68a16aca1d82bd0eedd8ead5c187772e4b9#-P0
[2012-05-30 19:35:08 -0400] hoover_damm: wow
[2012-05-30 19:36:08 -0400] hoover_damm: i'm going to step away as after that little license war
[2012-05-30 19:36:11 -0400] hoover_damm: lol
[2012-05-30 19:37:13 -0400] c_t: erm
[2012-05-30 20:05:02 -0400] hoover_damm: c_t, bikeshedding/trolling happens everywhere
[2012-05-30 20:10:29 -0400] github-bawt: [chef] btm pushed 1 new commit to master: http://git.io/Ioq32Q
[2012-05-30 20:10:29 -0400] github-bawt: [chef/master] [CHEF-3143] - Omnibus path and gem binary fix - jtimberman
[2012-05-30 20:31:00 -0400] Mithrandir: hmm, the chef client shouldn't need bunny, should it?
[2012-05-30 20:35:12 -0400] ampledata: hrm
[2012-05-30 20:35:36 -0400] hoover_damm: in theory no
[2012-05-30 20:36:07 -0400] ampledata: Runtime Dependencies
[2012-05-30 20:36:07 -0400] ampledata: .https://rubygems.org/gems/bunnyhttps://rubygems.org/gems/bunny
[2012-05-30 20:36:24 -0400] Mithrandir: yes, I know the gem depends on it
[2012-05-30 20:36:26 -0400] ampledata: https://rubygems.org/gems/chef/versions/0.10.10
[2012-05-30 20:36:47 -0400] ampledata: ah yeah i guess not
[2012-05-30 20:36:59 -0400] hoover_damm: it is loaded
[2012-05-30 20:37:17 -0400] hoover_damm: I don't believe it's exercised but the bunny gem is loaded
[2012-05-30 20:38:48 -0400] Mithrandir: yeah, I guess
[2012-05-30 20:52:40 -0400] Mithrandir: hmm, grumble, why does the gem need yajl 1.1.0 now?
[2012-05-30 20:53:14 -0400] hoover_damm: because the json gem sucks, so everyone wants to move to yajl
[2012-05-30 20:53:25 -0400] hoover_damm: #1 issue with ruby basically
[2012-05-30 20:53:31 -0400] Mithrandir: yes, but why isn't 1.0 enough?
[2012-05-30 20:53:48 -0400] ampledata: pure_json
[2012-05-30 20:53:59 -0400] Mithrandir: and why can't rubygems have a changelog?
[2012-05-30 20:54:16 -0400] yfeldblum: hmm why does the json gem suck?
[2012-05-30 20:55:06 -0400] yfeldblum: Mithrandir, you mean this? https://github.com/rubygems/rubygems/blob/master/History.txt - that hasn't been updated for 10 patch-level releases?
[2012-05-30 20:55:26 -0400] Mithrandir: yfeldblum: no, I meant rubygems.org, for yajl-ruby
[2012-05-30 20:55:35 -0400] Mithrandir: so I could figure out if the chef dep made sense or not
[2012-05-30 20:55:38 -0400] yfeldblum: ah
[2012-05-30 20:55:53 -0400] Mithrandir: (sorry for being imprecise)
[2012-05-30 20:56:26 -0400] yfeldblum: i usually look at the changelog on github and look at the diff between releases
[2012-05-30 20:57:43 -0400] Mithrandir: they've forgotten to tag the 1.0 release on github, naturally
[2012-05-30 21:00:06 -0400] hoover_damm: ampledata, was pure_json really the best answer? I forgot what part of the bikeshed was right or wrong on that whole thing
[2012-05-30 21:00:34 -0400] Mithrandir: none are pink, so they're all wrong
[2012-05-30 21:00:42 -0400] ampledata: i've had pretty good success s/json/pure_json/ in my work
[2012-05-30 21:04:58 -0400] github-bawt: [chef] danielsdeleo pushed 2 new commits to master: http://git.io/zJSf7g
[2012-05-30 21:04:58 -0400] github-bawt: [chef/master] Reset configuration after tests - Tollef Fog Heen
[2012-05-30 21:04:58 -0400] github-bawt: [chef/master] Merge branch 'CHEF-3153' - Daniel DeLeo
[2012-05-30 21:05:59 -0400] ampledata: is it me or is rubygems.org redunk slow?
[2012-05-30 21:06:15 -0400] hoover_damm: the problem I believe with both json and json_pure is they create excessive objects
[2012-05-30 21:06:19 -0400] ampledata: https://rubygems.org/gems/multi_json
[2012-05-30 21:06:28 -0400] hoover_damm: 150k objects per something or wrtather
[2012-05-30 21:06:54 -0400] hoover_damm: but the json gem is the main reason why people cry foul at ruby GC
[2012-05-30 21:09:43 -0400] jtimberman: yfeldblum: json gem has a history of making backwards incompatible changes, hence we have a pessimistic version constraint on it.
[2012-05-30 21:10:12 -0400] jtimberman: and that is part of the desire to get rid of its use for Chef, the yajl gem is better behaved.
[2012-05-30 21:15:29 -0400] ampledata: hey jtimberman, re my earlier question about handler namespace
[2012-05-30 21:15:44 -0400] ampledata: for exception handlers, where should we stick these in the namespace? in their own toplevel class or under Chef::Handler ?
[2012-05-30 21:15:50 -0400] yfeldblum: jtimberman, but backwards incompatibilities is what makes writing software fun!
[2012-05-30 21:17:35 -0400] laurent\: btm: can you tell me more about this issue with default_interface on latest ohai rc ?
[2012-05-30 21:18:08 -0400] yfeldblum: ampledata, there's no rule on that to my knowledge, and there are arguments for both sides
[2012-05-30 21:20:43 -0400] Mithrandir: btm: chef 0.10.10-1 uploaded
[2012-05-30 21:20:48 -0400] ampledata: ok lets make up a preference
[2012-05-30 21:24:21 -0400] btm: laurent\: I don't get default_interface on a lot of platforms, but it isn't just master, it's 0.6.12 + 0.6.10 too.
[2012-05-30 21:24:39 -0400] btm: laurent\: I noticed this while testing OHai 6.14.0 (which is actually released, but I ahven't told anyone yet)
[2012-05-30 21:26:16 -0400] btm: laurent\: But I didn't look that deeply, which is why it said 'note to my self'
[2012-05-30 21:26:20 -0400] btm: :)
[2012-05-30 21:27:39 -0400] ampledata: bah someone jacked up the favicon on wiki.opscode
[2012-05-30 21:28:28 -0400] ampledata: http://help.opscode.com/discussions/suggestions/45-change-faviconico-on-opscode-wiki
[2012-05-30 21:29:03 -0400] jtimberman: Mithrandir: zomg :D <3
[2012-05-30 21:29:20 -0400] jtimberman: ampledata: i think i just make mine modules
[2012-05-30 21:29:27 -0400] jtimberman: i'd have to check
[2012-05-30 21:30:03 -0400] ampledata: ok thanks no rush
[2012-05-30 21:30:05 -0400] jtimberman: ampledata: hmm. My growl handler is Chef::Handler::Growl, which < Chef::Handler
[2012-05-30 21:30:58 -0400] ampledata: yeah i copied that pattern
[2012-05-30 21:31:07 -0400] c_t: people actually use Growl?
[2012-05-30 21:31:08 -0400] jtimberman: ampledata: my other one (simple resource one) is a module with a class that subclasses Chef::Handler
[2012-05-30 21:31:12 -0400] jtimberman: c_t: I do.
[2012-05-30 21:31:17 -0400] c_t: growl's always bugged the fuck out of me
[2012-05-30 21:31:24 -0400] ampledata: i'm updating my campfire one
[2012-05-30 21:31:27 -0400] jtimberman: it used to bug me too
[2012-05-30 21:31:35 -0400] ampledata: so i'm coping my splunkstorm one, which copied your growl one ;)
[2012-05-30 21:31:44 -0400] jtimberman: but when it went to the app store instead of just being bundled under every app i paid for it.
[2012-05-30 21:31:55 -0400] jtimberman: because its clearly useful to a lot of people and it was $2.
[2012-05-30 21:32:06 -0400] jtimberman: ampledata: ha :)
[2012-05-30 21:32:30 -0400] c_t: I did decide to take a look at tmux because of you going on about it
[2012-05-30 21:32:43 -0400] c_t: it meets with the ct Seal of Approval
[2012-05-30 21:34:17 -0400] ampledata: oh weird
[2012-05-30 21:34:21 -0400] ampledata: so if u push a new gem
[2012-05-30 21:34:24 -0400] ampledata: and then yank it
[2012-05-30 21:34:34 -0400] ampledata: gem install fails to install the older version?
[2012-05-30 21:34:51 -0400] ampledata: unless you explicitly set a version
[2012-05-30 21:35:03 -0400] btm: Mithrandir: that rocks dude.
[2012-05-30 21:36:22 -0400] btm: hoover_damm: we'll update knife ec2 and knife rackspace in a week or so. We're getting omnibus out the door as soon as I get this ohai release finished.
[2012-05-30 21:36:42 -0400] laurent\: btm: ok, go for the ticket then ! I'll be happy to give it a try :-)
[2012-05-30 21:37:11 -0400] StormSilver: Yay! Can't wait to get my -j patches in
[2012-05-30 21:38:26 -0400] c_t: I'm still waiting on my perl cookbook stuff
[2012-05-30 21:38:38 -0400] c_t: which is, of course, the HIGHEST PRIORITY imaginable
[2012-05-30 21:38:56 -0400] StormSilver: :D
[2012-05-30 21:39:12 -0400] StormSilver: When it's standing in your way, it's always high priority, even if it's not really.
[2012-05-30 21:39:54 -0400] c_t: actually, it's just a fix I did in a local recipe & moved into the main perl cookbook
[2012-05-30 21:40:06 -0400] c_t: all it was was making said cookbook run under OS X
[2012-05-30 21:56:52 -0400] hoover_damm: btm, cool thanks :)
[2012-05-30 21:58:32 -0400] btm: Ohai 6.14.0 released: http://www.opscode.com/blog/2012/05/30/ohai-6-14-0-released/
[2012-05-30 21:58:55 -0400] StormSilver: w00t! Grats!
[2012-05-30 22:01:14 -0400] spox: btm: if you get a chance some time in the near future to ping dan regarding this ticket (http://tickets.opscode.com/browse/CHEF-3104) i'd be most appreciative
[2012-05-30 22:01:48 -0400] btm: kallistec: ping --^
[2012-05-30 22:02:50 -0400] kallistec: spox: hey, so why'd you have to use exit! ?
[2012-05-30 22:03:02 -0400] kallistec: instead of `exit` with no `!` ?
[2012-05-30 22:04:54 -0400] spox: kallistec: in case there were any at_exit's hanging around
[2012-05-30 22:05:04 -0400] spox: i wanted the child process to get out as soon as it was done
[2012-05-30 22:05:26 -0400] kallistec: but how do you know those at_exit are not supposed to run?
[2012-05-30 22:05:51 -0400] spox: because #run wouldn't exit
[2012-05-30 22:06:02 -0400] spox: rescue Exception and all that
[2012-05-30 22:06:53 -0400] kallistec: where is the rescue exception?
[2012-05-30 22:07:33 -0400] spox: kallistec: https://github.com/opscode/chef/blob/master/chef/lib/chef/client.rb#L169
[2012-05-30 22:07:53 -0400] kallistec: yeah, but it's re-raising
[2012-05-30 22:08:07 -0400] kallistec: on line 75
[2012-05-30 22:09:38 -0400] spox: kallistec: https://github.com/opscode/chef/blob/master/chef/lib/chef/application/client.rb#L275
[2012-05-30 22:11:16 -0400] spox: kallistec: from the look of the code i was under the impression that a failure of a run alone should not cause the process to exit
[2012-05-30 22:11:23 -0400] spox: that's my assumption though
[2012-05-30 22:11:31 -0400] kallistec: right above that, it's explicitly allowing SystemExit to pass through
[2012-05-30 22:12:00 -0400] kallistec: is this only occurring in rspec tests or in real operation?
[2012-05-30 22:12:25 -0400] spox: ah, dur. i looked right past that
[2012-05-30 22:12:54 -0400] kallistec: anyway, exit! is a workaround that you should only use when someone else's library is doing bad things or as a temporary fix
[2012-05-30 22:12:58 -0400] kallistec: IMO
[2012-05-30 22:13:51 -0400] spox: okay. so if a systemexit were raised in the child process, should that cause the parent to exit?
[2012-05-30 22:13:52 -0400] kallistec: there could be at_exit hooks cleaning up system resources that would cause leaks if we ignored them, for example
[2012-05-30 22:14:24 -0400] kallistec: no, if systemexit makes it to the top of the stack without being rescued, then ruby will exit
[2012-05-30 22:15:02 -0400] kallistec: but all that will happen to the parent is that it will be able to collect the process status from the kernel
[2012-05-30 22:15:27 -0400] kallistec: and the kernel will wake the parent if it did a blocking waitpid on the child's process id
[2012-05-30 22:18:21 -0400] spox: okay. that make sense.
[2012-05-30 22:18:24 -0400] spox: kallistec: thanks :)
[2012-05-30 22:27:39 -0400] github-bawt: [ohai] btm pushed 1 new commit to master: http://git.io/zM5jlA
[2012-05-30 22:27:39 -0400] github-bawt: [ohai/master] Bump version for development - Bryan McLellan
[2012-05-30 22:32:36 -0400] github-bawt: [chef] danielsdeleo pushed 1 new commit to master: http://git.io/aO9nog
[2012-05-30 22:32:36 -0400] github-bawt: [chef/master] ensure log level is info for git provider tests - Daniel DeLeo
[2012-05-30 22:46:10 -0400] ampledata: https://github.com/ampledata/chef-handler-campfire
[2012-05-30 22:46:12 -0400] ampledata: there ya go
[2012-05-30 22:52:46 -0400] jtimberman: :D
[2012-05-30 22:53:02 -0400] ampledata: i think you can s/campfire/hipchat/ everywhere and use it there
[2012-05-30 22:53:06 -0400] ampledata: :)
[2012-05-30 22:53:27 -0400] ampledata: er i guess there's already one for hipchat
[2012-05-30 22:54:29 -0400] jtimberman: hipchat gem has a handler.
[2012-05-30 22:55:03 -0400] ampledata: ah right
[2012-05-30 23:00:27 -0400] jtimberman: i haven't used it myself, i think schisamo has.
[2012-05-30 23:01:27 -0400] ampledata: at least it's an excuse for me to get more familiar w/ rubygems
