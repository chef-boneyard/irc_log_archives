[2012-05-24 13:04:43 -0400] github-bawt: [ohai] btm pushed 3 new commits to master: http://git.io/mjJPcw
[2012-05-24 13:04:43 -0400] github-bawt: [ohai/master] [TOOLS-112] Remove platform_version from /etc/release switch - trevoro
[2012-05-24 13:04:43 -0400] github-bawt: [ohai/master] OHAI-337 Fixing platform spec to allow 5.11 match - trevoro
[2012-05-24 13:04:43 -0400] github-bawt: [ohai/master] Merge branch 'OHAI-361' - Bryan McLellan
[2012-05-24 13:48:21 -0400] laurent\: oh i've just resolved OHAI-355, time to run and hide :)
[2012-05-24 14:59:12 -0400] hoover_damm: expecting more breakage?
[2012-05-24 14:59:18 -0400] hoover_damm: or just hiding to relax?
[2012-05-24 15:01:37 -0400] hoover_damm: http://www.catb.org/~esr/faqs/smart-questions.html
[2012-05-24 15:01:40 -0400] hoover_damm: beautiful guide
[2012-05-24 17:52:59 -0400] Mithrandir: btm: hmm, why doesn't the chef gem ship the specs?  Do you know?
[2012-05-24 18:45:30 -0400] btm: Mithrandir: Because the spec directory isn't listed in s.files in the gemspec.
[2012-05-24 18:46:02 -0400] btm: Mithrandir: And I suppose that is because nobody saw a use case to include them in the gem itself, but I've never heard that discussed.
[2012-05-24 18:46:14 -0400] Mithrandir: the debs are built from the gem
[2012-05-24 18:46:29 -0400] Mithrandir: so that's a use case
[2012-05-24 18:47:28 -0400] btm: Mithrandir: they are now, yeah. They didn't used to be, they used the gitredir site/feature/hack.
[2012-05-24 18:47:40 -0400] btm: Mithrandir: file a bug and we can include them. :)
[2012-05-24 18:48:42 -0400] Mithrandir: yup
[2012-05-24 18:49:02 -0400] Mithrandir: btw, 4657 examples, 8 failures, 19 pending
[2012-05-24 18:49:16 -0400] Mithrandir: that's rake spec from a git checkout.  No gems installed on the system at all
[2012-05-24 18:53:03 -0400] btm: Mithrandir: they've been pretty dependent on being run in the bundle lately.
[2012-05-24 18:54:26 -0400] Mithrandir: ok, maybe it's a bad idea then.
[2012-05-24 18:54:36 -0400] Mithrandir: no point in filing a bug if there's no interest in getting it fixed.
[2012-05-24 18:54:56 -0400] btm: Mithrandir: Hosh did a bunch of work dynamically converting some tests to pending based on system state, but he was focusing more on cross-platform than rubyist environment tinted glasses.
[2012-05-24 18:56:05 -0400] btm: Mithrandir: I personally think they should run out of the box, it's just a matter of fixing the world-view of the spec when its run on an imperfect planet.
[2012-05-24 18:58:08 -0400] Mithrandir: in theory, I agree.  I just don't think filing bugs that will never be fixed is productive.
[2012-05-24 18:58:20 -0400] Mithrandir: bugs filed have a cost each time somebody looks at a bug list.
[2012-05-24 19:03:24 -0400] sdelano: btm: another (similar) use case for including the specs (and tests in general) in the gem would be to run the tests on all supported platforms as the output of the omnibus builds
[2012-05-24 19:12:03 -0400] github-bawt: [chef] danielsdeleo pushed 5 new commits to master: http://git.io/1JRacQ
[2012-05-24 19:12:03 -0400] github-bawt: [chef/master] [CHEF-3140] turn off gzip for remote_file tarballs - Daniel DeLeo
[2012-05-24 19:12:03 -0400] github-bawt: [chef/master] [CHEF-3140] further docco gzip disable workaround - Daniel DeLeo
[2012-05-24 19:12:03 -0400] github-bawt: [chef/master] [CHEF-3140] regression test for gzip disable - Daniel DeLeo
[2012-05-24 19:14:31 -0400] jtimberman: i wish all directories in a cookbook would get uploaded to the community site.
[2012-05-24 19:16:22 -0400] Mithrandir: ok, filed http://tickets.opscode.com/browse/CHEF-3150
[2012-05-24 20:04:01 -0400] yfeldblum: jtimberman, why?
[2012-05-24 20:08:19 -0400] jtimberman: yfeldblum: mainly, i want three directories: doc, examples, test
[2012-05-24 20:08:47 -0400] jtimberman: yfeldblum: and directories that are the "chef" ones - libraries attributes definitions recipes templates files resources providers - aren't uploaded to the community site.
[2012-05-24 20:09:22 -0400] yfeldblum: jtimberman, why should they be? cookbook projects should include that; but why should built artifacts include that?
[2012-05-24 20:10:40 -0400] yfeldblum: jtimberman, cookbooks take less building than gems, true, for now ... but there's gotta be a distinction made between project source and build artifact
[2012-05-24 20:13:43 -0400] yfeldblum: jtimberman, is the opscode community site there to show off projects or to serve build artifacts? or both, but then how does it make the distinction?
[2012-05-24 20:14:33 -0400] jtimberman: yfeldblum: for doc and example, there's only so much that a README is really appropriate to cover, and trying to find information in a hhuge monolithic text file can be cumbersome.
[2012-05-24 20:14:49 -0400] jtimberman: similar to how say, a deb might give you /usr/share/doc/FOO
[2012-05-24 20:15:48 -0400] jtimberman: test i'm less concerned with, but it may be nice since users can modify the cookbook and might want to ensure the tests pass, such as in a CI environment
[2012-05-24 20:15:56 -0400] yfeldblum: jtimberman, ok, so then you've got docs source and compiled docs
[2012-05-24 20:16:20 -0400] yfeldblum: jtimberman, then users would need to fetch tagged sources from git and build themselves ...
[2012-05-24 20:16:22 -0400] jtimberman: where they push their local chef repo to a git server, and say jenkins takes it, runs tests and then uploads to the chef server.
[2012-05-24 20:17:08 -0400] jtimberman: if i as a cookbook maintainer want to document my cookbook for users, i have to put everything in the top level files (README.md etc), or they aren't available to the user unless they go find the git repo and look.
[2012-05-24 20:17:15 -0400] jtimberman: i don't care about "built" docs
[2012-05-24 20:17:32 -0400] jtimberman: plain text is fine.
[2012-05-24 20:18:26 -0400] yfeldblum: jtimberman, perhaps metadata.rb should list dirs that get packaged up when building a cookbook
[2012-05-24 20:19:00 -0400] yfeldblum: `include_in_build %w(docs examples test)`
[2012-05-24 20:20:10 -0400] mattray: I like that suggestion
[2012-05-24 20:20:27 -0400] yfeldblum: don't use the method name `include_in_build` ... think of something prettier
[2012-05-24 20:21:01 -0400] yfeldblum: build do ; include "docs" ; include "examples" ; include "tests" ; end
[2012-05-24 20:21:26 -0400] yfeldblum: i dunno
[2012-05-24 20:22:01 -0400] yfeldblum: the metadata.rb is the thing that tells anyone who cares about the rest of the cookbook, at least as far as it deviates from the conventional defaults
[2012-05-24 20:22:12 -0400] jtimberman: i can roll with that too
[2012-05-24 20:23:09 -0400] yfeldblum: so by default it's just the dirs that chef-client can make use of, but you can also add extra non-default dirs to the built artifact with a line in metadata.rb
[2012-05-24 20:27:21 -0400] jtimberman: Let me be clear. This is specifically for uploading to the Community Site, not to a Chef Server, so the chef-client isn't part of the equation at all.
[2012-05-24 20:27:48 -0400] jtimberman: nothing would change in the cookbook sync that chef-client does.
[2012-05-24 20:35:07 -0400] atomic-penguin: jtimberman, so you think tests and examples directories should ship onto the community site then?
[2012-05-24 20:37:25 -0400] jtimberman: atomic-penguin: probably
[2012-05-24 20:37:29 -0400] jtimberman: atomic-penguin: definitely examples
[2012-05-24 20:37:43 -0400] jtimberman: more documentation than README.md would be nice.
[2012-05-24 20:40:28 -0400] yfeldblum: jtimberman, quite understand, but the community site originally served built & packaged cookbooks, and then later on the interactive viewing stuff was added, but that set the standard for building & packaging cookbooks
[2012-05-24 20:41:19 -0400] yfeldblum: jtimberman, e.g. librarian-chef knows how to retrieve a packaged cookbook from the opscode community site and knows how to unpack it for use with knife or whatever
[2012-05-24 20:42:18 -0400] yfeldblum: jtimberman, simple, i know, just untargz, but nevertheless it's going to be extended later on somehow in a way that no-one right now can predict
[2012-05-24 20:44:13 -0400] Mithrandir: btm: does rake spec work for you on wheezy?  I run into trouble with the securable mixin ending up giving me a broken Chef::Config which includes C:\\ paths and such, which is obviously not true.
[2012-05-24 20:52:53 -0400] jtimberman: yfeldblum: indeed - while "cookbooks" was the focus originally, we've always had plans for expanding the capability of the site.
[2012-05-24 20:53:27 -0400] jtimberman: yfeldblum: it can be kind of like a package/library/plugin metarepository to help chef users find code they can use for building their infrastructures.
[2012-05-24 20:53:32 -0400] jtimberman: github is great and all
[2012-05-24 20:53:38 -0400] jtimberman: so is rubygems.org
[2012-05-24 20:53:41 -0400] miah: its hard to find things on github though
[2012-05-24 20:53:51 -0400] jtimberman: but as a chef user, have fun trying to find a chef specific thing.
[2012-05-24 20:53:58 -0400] miah: unless you know specifically what you are looking for (even then still hard)
[2012-05-24 20:54:18 -0400] jtimberman: not to mention things that aren't on github, like google code or sourceforge (mock all you want, some people really like those sites for their projects)
[2012-05-24 20:54:26 -0400] miah: i will upload all my books to community as soon as namespacing issues are resolved =)
[2012-05-24 20:54:35 -0400] jtimberman: miah: :)
[2012-05-24 20:55:08 -0400] miah: i think the community site is great if it helps people find, and contribute to already existing cookbooks
[2012-05-24 20:55:21 -0400] miah: so we end up with some really great options, instead of several really poor implementations
[2012-05-24 20:58:08 -0400] miah: my friend is really into hosting code on bitbucket and using mercurial
[2012-05-24 20:58:10 -0400] miah: (he's a weirdo)
[2012-05-24 21:02:36 -0400] Mithrandir: btm: ok, got it fixed now, I'll stop poking for a bit
[2012-05-24 21:15:35 -0400] yfeldblum: i would integrate the community site with github etc. ... github has forking, issues, pull reqs, wiki, etc; no point in the community site reimplementing all of that ... metadata should have an attribute for project source url, and most people would put in the project's github url
[2012-05-24 21:15:59 -0400] yfeldblum: which is what the current rubygems.org does
[2012-05-24 21:20:22 -0400] Mithrandir: on the good side, it seems like we can use json 1.6.3
[2012-05-24 21:22:21 -0400] jtimberman: miah: is his bikeshed blue?
[2012-05-24 21:22:24 -0400] jtimberman: because mine is green
[2012-05-24 21:22:26 -0400] jtimberman: :)
[2012-05-24 21:37:36 -0400] miah: jtimberman: mine is a pretty lavender pastel. green and blue sheds are oogly.
[2012-05-24 21:39:37 -0400] jtimberman: miah: I'm also wearing a rather violently green shirt, and my water bottle coincidentally matches.
[2012-05-24 21:41:12 -0400] miah: uhoh
[2012-05-24 21:44:29 -0400] miah: bbl. <3
