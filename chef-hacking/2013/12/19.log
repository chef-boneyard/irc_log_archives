[2013-12-19 01:16:27 -0500] github-bawt: [ohai] danielsdeleo created dependency-fixup (+2 new commits): http://git.io/v61qCQ
[2013-12-19 01:16:28 -0500] github-bawt: ohai/dependency-fixup 17f1e18 danielsdeleo: Fix dependency cycle error explanation.
[2013-12-19 01:16:28 -0500] github-bawt: ohai/dependency-fixup bffd2d2 danielsdeleo: Remove Solaris2 DMI self-dependency...
[2013-12-19 07:42:56 -0500] coderanger: portertech: You around?
[2013-12-19 07:43:21 -0500] coderanger: portertech: Playing with the remote stuff in kitchen-docker at long last, seems stuck at "Waiting for localhost:49153..."
[2013-12-19 07:47:01 -0500] coderanger: portertech: It seems like it wants to ssh directly to the container instead of muxing over the docker connection
[2013-12-19 08:05:08 -0500] portertech: coderanger: using the remote tcp socket?
[2013-12-19 08:05:13 -0500] coderanger: portertech: Yeah
[2013-12-19 08:05:18 -0500] portertech: coderanger: it will use the tcp socket hostname for ssh
[2013-12-19 08:05:22 -0500] portertech: using the forwarded port
[2013-12-19 08:05:28 -0500] coderanger: portertech: I have docker running on EC2, so I only have the docker port available via SSH tunnel
[2013-12-19 08:05:36 -0500] portertech: ah, that's why
[2013-12-19 08:05:49 -0500] coderanger: yeah, if I forward the randomized SSH port for each container, it works
[2013-12-19 08:05:53 -0500] coderanger: but why not just use docker run?
[2013-12-19 08:06:07 -0500] coderanger: (other than it was probably easier to subclass SSHBase :)
[2013-12-19 08:06:11 -0500] portertech: most kitchen drivers are ssh based
[2013-12-19 08:06:22 -0500] coderanger: Yahr, but it doesn't look like thats actually required
[2013-12-19 08:06:35 -0500] portertech: no, but cookbook uploads etc
[2013-12-19 08:06:35 -0500] coderanger: I just forked the repo, going to play with a docker-run based solution :)
[2013-12-19 08:06:49 -0500] portertech: coderanger: dealing w/ run assets will be a pita
[2013-12-19 08:06:55 -0500] portertech: coderanger: good luck!
[2013-12-19 08:07:00 -0500] coderanger: yeah, docker run "cat > /foo"
[2013-12-19 08:07:03 -0500] coderanger: or something like that
[2013-12-19 08:07:25 -0500] coderanger: My end goal is to get this in a state where I can run it on travis against a remote docker server
[2013-12-19 08:08:19 -0500] coderanger: in other news the reeeeeeally need to add auth to the docker API :-(
[2013-12-19 08:21:10 -0500] coderanger: portertech: Grr, never mind, I guess they didn't actually get around to https://github.com/dotcloud/docker/issues/1228
[2013-12-19 08:21:15 -0500] github-bawt: [kitchen-vagrant] jmahowald opened pull request #60: Changes to allow vagrant-aws provider (master...master) http://git.io/ckAk3Q
[2013-12-19 08:21:26 -0500] coderanger: back to the drawing board :-(
[2013-12-19 09:14:53 -0500] coderanger: portertech: Just to follow up, I hacked together net-ssh-gateway support for test-kitchen and set kitchen-docker to use that, works happily then :)
[2013-12-19 09:15:30 -0500] portertech: coderanger: neat, up somewhere?
[2013-12-19 09:17:20 -0500] portertech: coderanger: I'll be back! TO THE CHOPPER!
[2013-12-19 09:17:29 -0500] coderanger: https://github.com/test-kitchen/test-kitchen/pull/294
[2013-12-19 09:17:41 -0500] github-bawt: [test-kitchen] coderanger opened pull request #294: SSH gateway support (master...gateway) http://git.io/sQcGqw
[2013-12-19 09:17:51 -0500] coderanger: :)
[2013-12-19 10:38:22 -0500] aspiers: subscribes / notifies only apply between recipes within the same chef-client run, right?
[2013-12-19 11:53:49 -0500] zts: aspiers: correct
[2013-12-19 13:47:44 -0500] github-bawt: [kitchen-ec2] bozinsky opened pull request #27: EC2 endpoint configurable (master...endpoint-configurable) http://git.io/35qe_w
[2013-12-19 14:33:41 -0500] github-bawt: [test-kitchen] bozinsky opened pull request #295: Add support for site-cookbooks in chef repos. (master...site-cookbooks) http://git.io/X8ul3g
[2013-12-19 15:38:16 -0500] github-bawt: [test-kitchen] jschneiderhan opened pull request #296: Fixing error when using more than one helper (master...multiple-helpers) http://git.io/XVUgbA
[2013-12-19 16:26:17 -0500] github-bawt: [test-kitchen] fnichol pushed 2 new commits to master: http://git.io/tF3NlQ
[2013-12-19 16:26:18 -0500] github-bawt: test-kitchen/master c8c0df9 jschneiderhan: Fixing error when using more than one helper...
[2013-12-19 16:26:18 -0500] github-bawt: test-kitchen/master cadd416 Fletcher Nichol: Merge pull request #296 from meyouhealth/multiple-helpers...
[2013-12-19 16:28:11 -0500] github-bawt: [test-kitchen] sethvargo closed pull request #247: Add docs website (master...sethvargo/docs) http://git.io/rV_P9w
[2013-12-19 17:14:02 -0500] btm: kallistec: any memory why the cron resource has these blind rescues on ArgumentError, e.g. https://github.com/opscode/chef/blob/master/lib/chef/resource/cron.rb#L108 ?
[2013-12-19 17:14:24 -0500] btm: I mean, I guess I wrote it, but I don't remember. :P
[2013-12-19 17:16:56 -0500] kallistec: btm:  Integer("alkj") => ArgumentError
[2013-12-19 17:17:02 -0500] kallistec: only thing I can think of
[2013-12-19 17:44:04 -0500] github-bawt: [ohai] sersut created OC-10161 (+1 new commit): http://git.io/6xPemA
[2013-12-19 17:44:04 -0500] github-bawt: ohai/OC-10161 107dc6a sersut: Make sure :disabled_plugins can disable both v6 and v7 plugins.
[2013-12-19 17:46:26 -0500] github-bawt: [ohai] danielsdeleo force-pushed dependency-fixup from bffd2d2 to c863cb6: http://git.io/wiqvQQ
[2013-12-19 17:46:26 -0500] github-bawt: ohai/dependency-fixup c9664b3 danielsdeleo: Fix dependency cycle error explanation.
[2013-12-19 17:46:26 -0500] github-bawt: ohai/dependency-fixup c863cb6 danielsdeleo: Remove Solaris2 DMI self-dependency...
[2013-12-19 17:53:45 -0500] github-bawt: [ohai] sersut force-pushed OC-10161 from 107dc6a to 16c3f55: http://git.io/ZaYz9w
[2013-12-19 17:53:46 -0500] github-bawt: ohai/OC-10161 16c3f55 sersut: Make sure :disabled_plugins can disable both v6 and v7 plugins.
[2013-12-19 18:42:52 -0500] btm: kallistec: Ryota came back with an error message. I noticed an issue and added a bunch of tests for CHEF-4848 https://github.com/opscode/chef/pull/1185
[2013-12-19 18:47:13 -0500] kallistec: btm: looks fine, that weekday method is starting to get kinda long, though
[2013-12-19 18:47:27 -0500] github-bawt: [ohai] mcquin force-pushed OC-10250 from 09e42e7 to 1caba37: http://git.io/5aVgPA
[2013-12-19 18:47:27 -0500] github-bawt: ohai/OC-10250 70db970 Claire McQuin: rescue from syntax error in loader
[2013-12-19 18:47:28 -0500] github-bawt: ohai/OC-10250 1caba37 Claire McQuin: tune syntax error message output, handle invalid plugin names that aren't syntax errors
[2013-12-19 19:50:13 -0500] github-bawt: [chef-rfc] btm pushed 1 new commit to btm/windows-package: http://git.io/BboGcw
[2013-12-19 19:50:13 -0500] github-bawt: chef-rfc/btm/windows-package bdd2dde Bryan McLellan: add examples
[2013-12-19 20:06:30 -0500] btm: kallistec: comment for thus guys attempt at stubbing the ui object? https://github.com/opscode/chef/pull/1170
[2013-12-19 20:07:41 -0500] btm: I'm going to do a chef contributions merge pass
[2013-12-19 20:21:18 -0500] github-bawt: [chef] btm pushed 1 new commit to contributions: http://git.io/Mf1f-Q
[2013-12-19 20:21:18 -0500] github-bawt: chef/contributions 5dbaaaa Peter Fern: CHEF-4849: Implement `#response_file_variables` in Package resource...
[2013-12-19 20:26:20 -0500] github-bawt: [chef] danielsdeleo created plugin-manifest (+1 new commit): http://git.io/P07wgw
[2013-12-19 20:26:20 -0500] github-bawt: chef/plugin-manifest f67a741 danielsdeleo: Add support for loading a static list of plugin files....
[2013-12-19 20:27:39 -0500] github-bawt: [chef] danielsdeleo force-pushed plugin-manifest from f67a741 to 3299aef: http://git.io/XdJhvw
[2013-12-19 20:27:39 -0500] github-bawt: chef/plugin-manifest 3299aef danielsdeleo: Add support for loading a static list of plugin files....
[2013-12-19 20:32:31 -0500] github-bawt: [chef] btm pushed 1 new commit to contributions: http://git.io/xUCqOw
[2013-12-19 20:32:32 -0500] github-bawt: chef/contributions c8f0b3c Tobias Schmidt: [CHEF-4845] Fix typo in aix packager provider regexp...
[2013-12-19 20:41:38 -0500] github-bawt: [chef] btm pushed 2 new commits to contributions: http://git.io/c4pcOg
[2013-12-19 20:41:38 -0500] github-bawt: chef/contributions d85a143 Ranjib Dey: remove unused variable startup_type
[2013-12-19 20:41:38 -0500] github-bawt: chef/contributions df4fccd Bryan McLellan: Merge branch 'CHEF-4822' into contributions
[2013-12-19 20:44:59 -0500] kallistec: coderanger: can you see if this actually fixes your problem https://github.com/opscode/chef/pull/1186
[2013-12-19 20:46:38 -0500] github-bawt: [ohai] danielsdeleo merged dependency-fixup into master: http://git.io/De7TOA
[2013-12-19 20:47:05 -0500] github-bawt: [ohai] danielsdeleo deleted dependency-fixup at c863cb6: http://git.io/bpGfGQ
[2013-12-19 20:50:13 -0500] github-bawt: [ohai] danielsdeleo created cli-run-mode (+1 new commit): http://git.io/ZSjgxA
[2013-12-19 20:50:14 -0500] github-bawt: ohai/cli-run-mode ceddd4a danielsdeleo: WIP - whitelist attrs from CLI
[2013-12-19 20:51:14 -0500] github-bawt: [chef] btm pushed 6 new commits to contributions: http://git.io/ChdZ7Q
[2013-12-19 20:51:14 -0500] github-bawt: chef/contributions 0696bbf Laurent Desarmes: another assumption: load_current_resource always sets a priority...
[2013-12-19 20:51:14 -0500] github-bawt: chef/contributions 18e833b Laurent Desarmes: fix for when the service doesn't set priority
[2013-12-19 20:51:15 -0500] github-bawt: chef/contributions 61d52da Laurent Desarmes: tests updated for services only starting at run level S
[2013-12-19 20:54:54 -0500] github-bawt: [ohai] danielsdeleo force-pushed cli-run-mode from ceddd4a to 30fdbb8: http://git.io/0O-Dog
[2013-12-19 20:54:54 -0500] github-bawt: ohai/cli-run-mode 30fdbb8 danielsdeleo: Pass user-requested attributes from CLI to whitelist...
[2013-12-19 21:01:52 -0500] github-bawt: [chef] btm pushed 2 new commits to contributions: http://git.io/WkL7Jw
[2013-12-19 21:01:52 -0500] github-bawt: chef/contributions caf4115 Ranjib Dey: allow chef to be invoked with empty environment (env -i)
[2013-12-19 21:01:52 -0500] github-bawt: chef/contributions 3aa816a Bryan McLellan: Merge branch 'CHEF-4358' into contributions
[2013-12-19 21:40:13 -0500] mesmer: Was there a knife code review today?
[2013-12-19 21:45:55 -0500] aspiers: if my recipe has an execute block followed by a ruby_block, what difference does it make if the ruby_block subscribes to the action in the execute block?
[2013-12-19 21:46:11 -0500] aspiers: surely the ruby_block will run immediately after, whether there is a subscription or not?
[2013-12-19 21:47:32 -0500] aspiers: mattray: I'm trying to understand why you added this subscribes: https://github.com/mattray/barclamp_ha_service/commit/97271f7b8851141d139927c16b798142dedebb80#diff-40e98e7bcc462e51a7d4881ebc5c9751L34
[2013-12-19 21:49:26 -0500] mattray: aspiers: the ruby_block has an action of :nothing, so it only runs on the subscribes notification
[2013-12-19 21:49:36 -0500] mattray: that said, the execute is always going to trigger it I think
[2013-12-19 21:49:51 -0500] aspiers: ahh
[2013-12-19 21:50:12 -0500] aspiers: actually that was the wrong commit
[2013-12-19 21:50:25 -0500] mattray: there should be a guard on the corosync-keygen to see if it needs to be called
[2013-12-19 21:50:31 -0500] mattray: an only_if
[2013-12-19 21:50:44 -0500] aspiers: right
[2013-12-19 21:51:56 -0500] aspiers: mattray: this is the one I meant https://github.com/mattray/barclamp_ha_service/commit/775f742ad0ab3d392a31f56a7cea84b7136cbbc1#diff-40e98e7bcc462e51a7d4881ebc5c9751R33
[2013-12-19 21:52:30 -0500] aspiers: so previously, there was neither action :nothing, nor subscribes :run
[2013-12-19 21:52:45 -0500] mattray: which file?
[2013-12-19 21:52:55 -0500] aspiers: see the above link
[2013-12-19 21:53:10 -0500] aspiers: it should deep link into the last hunk
[2013-12-19 21:53:15 -0500] aspiers: recipes/master.rb
[2013-12-19 21:54:51 -0500] mattray: aspiers: yeah, so it looks like I was trying to only do the ruby_block if the execute was called
[2013-12-19 21:55:05 -0500] mattray: that's why the :nothing and subscribes was added
[2013-12-19 21:55:11 -0500] aspiers: ah of course
[2013-12-19 21:55:13 -0500] aspiers: thanks!
[2013-12-19 21:55:16 -0500] mattray: but it will always get called without a guard
[2013-12-19 21:55:31 -0500] mattray: execute is dumb that way
[2013-12-19 21:55:49 -0500] aspiers: ok, so should be enough to add a guard to the keygen block
[2013-12-19 22:04:52 -0500] aspiers: mattray: what do you think about https://github.com/ktc-itsnotbutter/corosync/commit/99a62ca81f8092d4627ce060534eede420dd4fe1 ?
[2013-12-19 22:05:20 -0500] aspiers: mattray: I'm not sure if you were aware, but RCB took the code from your pacemaker_service branch and developed it further
[2013-12-19 22:05:28 -0500] aspiers: probably you knew that :)
[2013-12-19 22:06:18 -0500] aspiers: Crowbar could orchestrate the authkey rollout so that one node goes first - however there's still the potential race window due to slow solr commit
[2013-12-19 22:06:35 -0500] mattray: aspiers: yeah, I think they eventually gave up on pacemaker
[2013-12-19 22:07:00 -0500] aspiers: and given that Crowbar typically handles ordering via roles, it sort of defeats the point of trying to have a single recipe
[2013-12-19 22:08:07 -0500] eliklein: howdy.. curious if you guys run multiple test-kitchen instances on a single box when running CI? if so, how do you make this work properly?
[2013-12-19 22:08:18 -0500] eliklein: (you guys = chef)
[2013-12-19 22:08:54 -0500] eliklein: we've had terrible luck with one test-kitchen run stepping on another when kitchen destroy gets called.. even when running as separate users.
[2013-12-19 22:45:16 -0500] juliancdunn: eliklein: using what hypervisor?
[2013-12-19 22:45:40 -0500] juliancdunn: I mean, if you use VirtualBox, then yes, they will step on each other because it just turns around and tosses a command to VBoxManage...
[2013-12-19 22:57:03 -0500] eliklein: juliancdunn: shouldn't test-kitchen be s-m-r-t enough to only kill the virtualbox vm it's working with?
[2013-12-19 22:57:19 -0500] eliklein: juliancdunn: (and ya, we're using virtualbox)
[2013-12-19 23:09:04 -0500] eliklein: fnichol: you around by chance?
[2013-12-19 23:28:40 -0500] github-bawt: [ohai] danielsdeleo created OC-10244-verify from master (+0 new commits): http://git.io/Ab9qBw
[2013-12-19 23:30:36 -0500] github-bawt: [ohai] danielsdeleo pushed 1 new commit to OC-10244-verify: http://git.io/-_UkOQ
[2013-12-19 23:30:37 -0500] github-bawt: ohai/OC-10244-verify 9d5b090 danielsdeleo: Explicitly test dependency cycle detection for self-dependency
[2013-12-19 23:34:53 -0500] github-bawt: [ohai] danielsdeleo merged OC-10244-verify into master: http://git.io/R5mwpw
[2013-12-19 23:35:26 -0500] github-bawt: [ohai] danielsdeleo deleted OC-10244-verify at 9d5b090: http://git.io/7OahpA
[2013-12-19 23:59:02 -0500] juliancdunn: eliklein: it should, that seems strange given the VM name is a random string
[2013-12-19 23:59:15 -0500] juliancdunn: ""default-centos-64_default_1387405552481_99332" {26ad5d1e-dbd7-43b0-83cb-33f0bbeaa612}"
