[2013-01-09 00:14:28 -0500] github-bawt: [knife-windows] sersut created omnitruck-download (+1 new commit): http://git.io/yf9XQw
[2013-01-09 00:14:29 -0500] github-bawt: knife-windows/omnitruck-download 2da51e0 sersut: Use omnitruck to download the latest chef-client MSI.
[2013-01-09 19:55:43 -0500] fnichol: schisamo_: is there a way i get a sha256 for a chef-server omnibus package off /download-server?
[2013-01-09 21:01:20 -0500] miketheman: opscode hosted slowing down today?
[2013-01-09 21:02:24 -0500] miketheman: and the intermittenet errors from yesterday were never set as "resolved"
[2013-01-09 21:02:29 -0500] miketheman: http://status.opscode.com/
[2013-01-09 21:16:59 -0500] fujin: miketheman: yeah, fucked for me, even the sandboxes API is returning errors
[2013-01-09 22:08:15 -0500] fujin: jtimberman: hey buddy, is it possible to use the chef-server cookbook to install erchef?
[2013-01-09 22:08:33 -0500] fujin: even necessary?
[2013-01-09 22:08:37 -0500] fujin: you can just plonk the deb on a boxen and boom, right?
[2013-01-09 22:10:54 -0500] fnichol: fujin: works great, just had an issue finding a current pkg this morning
[2013-01-09 22:11:14 -0500] fujin: interesting!
[2013-01-09 22:11:31 -0500] fujin: I built a omnibus erchef pkg just the other day, so that shouldn't be any trouble
[2013-01-09 22:11:32 -0500] fnichol: fujin: in a crazy Vagrantfile: https://github.com/blueboxgroup/razor-vagrant-lab/blob/master/Vagrantfile#L78-L114
[2013-01-09 22:11:33 -0500] fujin: fnichol: thx!
[2013-01-09 22:12:21 -0500] fnichol: fujin: my guess is that they are migrating to a new download service right now (https://github.com/opscode-cookbooks/chef-server/commit/125e93b5f79284c2aad3c6548d0faead9a0533b2)
[2013-01-09 22:12:43 -0500] fujin: exciting
[2013-01-09 22:12:44 -0500] fnichol: so i had to go s3 bucket splunking
[2013-01-09 22:13:43 -0500] fujin: thanks, that helps *a lot*
[2013-01-09 22:13:51 -0500] fnichol: fujin: n/p dude!
[2013-01-09 22:15:41 -0500] fujin: fnichol: does that repo build up a full razor setup? Looks baller
[2013-01-09 22:16:42 -0500] fnichol: fujin: totally does! `razor up razor` gives you razor, `vagrant up chef` gives you a chef server to use, then run a script out of contrib/ to set it up
[2013-01-09 22:16:46 -0500] fujin: dang
[2013-01-09 22:16:52 -0500] fujin: spox: ^^^
[2013-01-09 22:17:03 -0500] fnichol: fujin: working on a blog post to "demo" the razor chef handler, so why not make it interactive, right?
[2013-01-09 22:17:09 -0500] fujin: very very cool
[2013-01-09 22:18:13 -0500] spox: interesting
[2013-01-09 22:18:36 -0500] spox: also, i have just been grabbing erchef debs from the omnitruck bucket directly + dpkg -i
[2013-01-09 22:19:48 -0500] fnichol: spox: makes the installs so nice now, can't wait for the blessed bits
[2013-01-09 22:33:30 -0500] miketheman: razor up razor - heh
[2013-01-09 22:33:35 -0500] fujin: vagrant up razor, I think he meant
[2013-01-09 22:33:41 -0500] fujin: (there's no razor bin in the bundle)
[2013-01-09 22:34:09 -0500] fujin: fnichol: looks like with 2.0.0 you wouldn't have to specify the package & checksum, just set it to install nightlies or whatever.
[2013-01-09 22:34:14 -0500] fujin: chef-server@2.0.0 I mean
[2013-01-09 22:36:11 -0500] fnichol: fujin: that's correct, but the pre-2.0.0 version was re-downloading the 188MB file on every run, so i was looking for a timesaver
[2013-01-09 22:36:18 -0500] fujin: ah word
[2013-01-09 22:36:31 -0500] fujin: looks like the razor node doesn't have ubuntu/apt cookbooks in run_list too, so it borks on first run
[2013-01-09 22:37:06 -0500] fujin: I sure wish people would dep on ubuntu cookbook to make sure that APT bloody works before installing packages. :P
[2013-01-09 22:37:58 -0500] spox: apt cookbook!
[2013-01-09 22:38:06 -0500] fnichol: oh yeah? wonder why i wasn't getting that. you're right though, i should do that anyway to be on the safe side
[2013-01-09 22:38:27 -0500] fnichol: fujin: log output by chance?
[2013-01-09 22:39:20 -0500] fujin: fnichol: https://gist.github.com/7760ea9e887249e2767c
[2013-01-09 22:40:01 -0500] fujin: fnichol: mongo runs later in the run list and deps to apt cookbook too; I just tossed recipe[ubuntu] at top of razor node runlist
[2013-01-09 22:40:10 -0500] fujin: workin' now
[2013-01-09 22:40:16 -0500] fnichol: ah right, our opscode-ubuntu-12.04 vintages probably differ, updating
[2013-01-09 22:40:36 -0500] fnichol: fujin: you're talking recipe[apt], correct?
[2013-01-09 22:42:24 -0500] miketheman: chef 10.16, ftw.
[2013-01-09 22:42:39 -0500] fujin: fnichol: ubuntu depends on 'apt', sure.
[2013-01-09 22:42:48 -0500] fujin: I used ubuntu cookbook 'cause it sets up the sources.list w/ attrib control
[2013-01-09 22:43:05 -0500] fnichol: ah cool, i haven't used that directly before
[2013-01-09 22:43:24 -0500] fnichol: fujin: there we are: https://github.com/blueboxgroup/razor-vagrant-lab/commit/8729b9a313b367daf6376072ef701963c9fa3eab
[2013-01-09 22:43:29 -0500] fujin: cool! thx
[2013-01-09 22:43:54 -0500] fnichol: well, it better work decent or it'll be a disappointing demo :)
[2013-01-09 22:44:28 -0500] fujin: razor up, booting the chefserver node now
[2013-01-09 22:44:30 -0500] fujin: seems slick so far :)
[2013-01-09 22:45:44 -0500] cwj: razor is openvz ish?
[2013-01-09 22:45:46 -0500] fnichol: it should get set up the chef server with a role[web_server] as well and carve off a root client key.
[2013-01-09 22:46:02 -0500] fujin: cwj: nah it's puppetlabs bare metal provisioner thing
[2013-01-09 22:46:04 -0500] fnichol: cwj: no, it's like ipxe on crack with an api
[2013-01-09 22:46:07 -0500] cwj: ah
[2013-01-09 22:46:10 -0500] fujin: fnichol and some other dude hacked chef into it a minute ago
[2013-01-09 22:46:16 -0500] cwj: \m/.
[2013-01-09 22:46:17 -0500] fujin: king shit
[2013-01-09 22:46:23 -0500] cwj: sounds kingly
[2013-01-09 22:46:46 -0500] fnichol: right, then it can pass off a node to chef. it all goes well, sort of like an api for bare metal
[2013-01-09 22:47:36 -0500] fujin: fnichol: do you work at bluebox now?
[2013-01-09 22:47:53 -0500] fnichol: fujin: yeah, been working remotely since mid-september
[2013-01-09 22:48:33 -0500] fnichol: they've got me working on some of our next-gen stuff, so that's the razor angle
[2013-01-09 22:51:34 -0500] fujin: Thank you for installing Chef Server!
[2013-01-09 22:52:14 -0500] fujin: lol wtfeh, totally worked
[2013-01-09 22:52:41 -0500] fnichol: rockin!
[2013-01-09 22:53:56 -0500] fujin: I always want to type razer
[2013-01-09 22:53:57 -0500] fujin: (gaming)
[2013-01-09 22:54:03 -0500] cwj: hehe
[2013-01-09 22:54:09 -0500] fnichol: now you totally are :)
[2013-01-09 22:55:00 -0500] fnichol: the longest part is setting up policies, tags, brokers, stuff like that. that's what calling /vagrant/contrib/razor_for_bare_ubuntu.sh from root on the razor node is to help you with
[2013-01-09 22:55:09 -0500] fujin: just going through that now
[2013-01-09 22:55:25 -0500] fnichol: awesome, i added some "cheat sheet" parts so there's not much guessing
[2013-01-09 22:57:07 -0500] fujin: I love downloading .iso's for 30min lolz
[2013-01-09 22:57:15 -0500] fujin: Going to need a bigger boat
[2013-01-09 22:57:31 -0500] cwj: we recently signed razer as a client and i kept typing 'razor' when provisioning them. names r hrd
[2013-01-09 22:57:39 -0500] fnichol: oh right, that made me nutty so there's a --iso-url flag on those scripts if you have a local copy
[2013-01-09 22:57:52 -0500] fnichol: haha!
[2013-01-09 22:57:55 -0500] fujin: I have an older one, not the -1 release
[2013-01-09 22:57:58 -0500] fujin: cwj: heh. nice
[2013-01-09 22:58:09 -0500] fnichol: ah
[2013-01-09 22:58:47 -0500] fnichol: also would like to add apt-cacher support on the os install which speeds the crap out of an installation
[2013-01-09 22:58:58 -0500] fnichol: that'll be a razor pull request though
[2013-01-09 23:00:56 -0500] mattray: fnichol: I recently added a custom bootstrap builder to go with pxe_dust's caching of full-stack installers
[2013-01-09 23:01:15 -0500] mattray: so you get caching of installers and apt at least
[2013-01-09 23:01:25 -0500] fnichol: oh nice, that saves so much time
[2013-01-09 23:01:34 -0500] fnichol: well, the second time through
[2013-01-09 23:01:37 -0500] mattray: separate recipes so you can use pxe_dust without the pxe booting part
[2013-01-09 23:01:50 -0500] mattray: I use it for bootstrapping openstack instances
[2013-01-09 23:02:08 -0500] fnichol: coolbeans!
[2013-01-09 23:02:23 -0500] fnichol: mattray: you had a pxe/ipxe cookbook right?
[2013-01-09 23:04:15 -0500] mattray: yeah, I started an ipxe cookbook so I could do custom ipxe chain loading
[2013-01-09 23:04:46 -0500] mattray: haven't gone beyond building out the toolchain yet
[2013-01-09 23:04:56 -0500] mattray: and spheromak has patches too
[2013-01-09 23:05:17 -0500] mattray: or, a parallel ipxe cookbook
[2013-01-09 23:05:29 -0500] mattray: that we intend to merge. He's probably much further along than I
[2013-01-09 23:05:39 -0500] fnichol: i should swap out my terrible impl' in the razor cookbook for a proper ipxe installation
[2013-01-09 23:06:06 -0500] mattray: yeah, my goal is to add ipxe chainloading to pxe_dust
[2013-01-09 23:06:12 -0500] fnichol: that sounds great, i also noticed that in this vagrant/razor/chef demo project i'm using a downstream fork of your dhcp cookbook :)
[2013-01-09 23:06:34 -0500] mattray: that hasn't gotten much love from me since I have hardware dhcp
[2013-01-09 23:06:34 -0500] fnichol: i think it's been updated in the last 2 months as well
[2013-01-09 23:06:38 -0500] fnichol: ah!
[2013-01-09 23:06:46 -0500] mattray: again, spheromak is using it in anger
[2013-01-09 23:07:26 -0500] mattray: I should use it, but I'm lazy and just use my router's dhcp
[2013-01-09 23:07:56 -0500] mattray: heading home, TTYL
[2013-01-09 23:08:09 -0500] fnichol: mattray: cool, see ya
[2013-01-09 23:09:58 -0500] fnichol: fujin: did you manage to get any razor node-lings running?
[2013-01-09 23:11:01 -0500] fujin: still waiting on the download brobro
[2013-01-09 23:11:19 -0500] fnichol: ugh right, probably canonical's us mirror
[2013-01-09 23:12:33 -0500] fujin: Just antipodean oceanic tubes man
[2013-01-09 23:12:41 -0500] fujin: 451kb/s
[2013-01-09 23:14:02 -0500] spheromak: whats up
[2013-01-09 23:14:44 -0500] fujin: yo
[2013-01-09 23:14:46 -0500] spheromak: yea i have shared the ipxe with matt i think
[2013-01-09 23:15:18 -0500] fnichol: spheromak: hey dude!
[2013-01-09 23:15:19 -0500] spheromak: finchol can share my work out with you its not release quality, but its a start in a direction. I've been pulled other ways in my work so i haven't been able to get back to that stuff yet
[2013-01-09 23:16:08 -0500] fnichol: spheromak: totally know the feeling there too
[2013-01-09 23:16:09 -0500] spheromak: oh ipxe
[2013-01-09 23:16:14 -0500] spheromak: i have that public
[2013-01-09 23:16:22 -0500] spheromak: was thinking the pxe stuff i did internally :D
[2013-01-09 23:17:09 -0500] spheromak: think i sent either a pull req or a pm to matt about ipxe
[2013-01-09 23:17:22 -0500] spheromak: was like a month ago so memory is shaky
[2013-01-09 23:17:35 -0500] fnichol: sweet, that would be nicer to just depend on a cookbook for that
[2013-01-09 23:18:51 -0500] spheromak: ah
[2013-01-09 23:19:37 -0500] spheromak: https://github.com/cloudware-cookbooks/ipxe
[2013-01-09 23:19:52 -0500] spheromak: think its similar to matts, and the differences are trivial to merge
