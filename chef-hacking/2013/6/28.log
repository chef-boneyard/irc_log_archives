[2013-06-28 03:17:52 -0400] github-bawt: [chef-zero] jkeiser created addchef (+1 new commit): http://git.io/4VBPjQ
[2013-06-28 03:17:52 -0400] github-bawt: chef-zero/addchef 3be86c8 John Keiser: Add chef 11 as development dependency
[2013-06-28 03:19:06 -0400] github-bawt: [chef-zero] jkeiser deleted chef-pedant-test at e06334b: http://git.io/Ixibwg
[2013-06-28 03:19:17 -0400] github-bawt: [chef-zero] jkeiser deleted request_handler at a6da3a2: http://git.io/LHv0UA
[2013-06-28 03:28:35 -0400] github-bawt: [chef-zero] jkeiser pushed 2 new commits to master: http://git.io/t2D2zw
[2013-06-28 03:28:36 -0400] github-bawt: chef-zero/master 7326242 John Keiser: Update to latest master of chef-pedant
[2013-06-28 03:28:36 -0400] github-bawt: chef-zero/master 83de6d9 John Keiser: Add chef 11 as development dependency
[2013-06-28 03:30:09 -0400] github-bawt: [chef-zero] jkeiser deleted addchef at 3be86c8: http://git.io/Yvka9g
[2013-06-28 03:30:21 -0400] github-bawt: [chef-zero] jkeiser deleted data_store at 28042a7: http://git.io/Bjyotw
[2013-06-28 03:50:01 -0400] github-bawt: [chef-zero] jkeiser pushed 2 new commits to master: http://git.io/tfdNSA
[2013-06-28 03:50:01 -0400] github-bawt: chef-zero/master 9bc3e51 John Keiser: Fix #23: add Server header for identification
[2013-06-28 03:50:01 -0400] github-bawt: chef-zero/master d17390c John Keiser: Bump version to 1.5.3
[2013-06-28 03:57:20 -0400] github-bawt: [chef-zero] jkeiser tagged v1.5.3 at f9611b5: http://git.io/XnGPpQ
[2013-06-28 04:42:41 -0400] github-bawt: [chef-zero] jkeiser pushed 1 new commit to master: http://git.io/XbeWsA
[2013-06-28 04:42:41 -0400] github-bawt: chef-zero/master 06a44f4 John Keiser: Complete changelog
[2013-06-28 06:30:05 -0400] github-bawt: [chef] sersut created OC-8697 (+1 new commit): http://git.io/ozDt5A
[2013-06-28 06:30:05 -0400] github-bawt: chef/OC-8697 4e51ae0 sersut: Don't call readlines on stderr which is a string object.
[2013-06-28 07:06:11 -0400] github-bawt: [chef] sersut force-pushed OC-8697 from 4e51ae0 to cf66006: http://git.io/H-3h2A
[2013-06-28 07:06:12 -0400] github-bawt: chef/OC-8697 cf66006 sersut: Don't call readlines on stderr which is a string object.
[2013-06-28 15:35:39 -0400] dpetzel: is this the best place to ask questions about test-kitchen? or is there are a better channel?
[2013-06-28 15:38:44 -0400] jtimberman: dpetzel: here
[2013-06-28 15:39:10 -0400] dpetzel: jtimberman, thanks.
[2013-06-28 15:39:26 -0400] dpetzel: Im trying to turn sudo off for a given platform (windows if it matters)
[2013-06-28 15:39:31 -0400] dpetzel: and Im going on https://github.com/opscode/test-kitchen/pull/102
[2013-06-28 15:39:41 -0400] dpetzel: and setting `sudo: false`
[2013-06-28 15:39:57 -0400] dpetzel: however config always shows true
[2013-06-28 15:40:12 -0400] dpetzel: gist coming
[2013-06-28 15:41:22 -0400] dpetzel: https://gist.github.com/dpetzel/5885644
[2013-06-28 15:43:52 -0400] dpetzel: so i gues my question is what is the "right" way to disable sudo globally, or for a given platform?
[2013-06-28 15:53:48 -0400] jtimberman: oh - that i don't know
[2013-06-28 15:53:59 -0400] jtimberman: install sudo on windows, obvious! (trollololol :))
[2013-06-28 16:06:27 -0400] hakunin: I'm going to say this here again: I notice that upload_chef_data in test-kitchen is incredibly slow with ssh driver, it uploads each file separately via scp, and it takes about a second for each file
[2013-06-28 16:06:36 -0400] hakunin: so i'm thinking of rewriting it with gzip
[2013-06-28 16:06:55 -0400] hakunin: wonder if any effort is being made in this direction
[2013-06-28 16:16:47 -0400] jtimberman: hakunin: there may have been a ticket open for that topic but i dont recall offhand for sure.
[2013-06-28 16:19:25 -0400] hakunin: jtimberman: thx, will search
[2013-06-28 16:22:40 -0400] erikh: y u no rsync
[2013-06-28 16:23:46 -0400] jtimberman: erikh: ain't nobody got time for 1024 command-line arguments
[2013-06-28 16:27:15 -0400] dpetzel: jtimberman, msiexec /q sudo running now :)
[2013-06-28 16:28:12 -0400] hakunin: erikh: jtimberman: everyone got time for 200byte/second upload speed because scp reconnects on every file :) #offmeme
[2013-06-28 16:32:40 -0400] hakunin: jtimberman: looks like no ticket
[2013-06-28 16:42:19 -0400] github-bawt: [chef] sersut force-pushed OC-8697 from cf66006 to 5e82382: http://git.io/H-3h2A
[2013-06-28 16:42:19 -0400] github-bawt: chef/OC-8697 5e82382 sersut: Don't call readlines on stderr which is a string object.
[2013-06-28 17:20:11 -0400] erikh: hakunin: heh
[2013-06-28 17:20:17 -0400] erikh: jtimberman: this man. he knows what he says
[2013-06-28 17:27:16 -0400] c_t: ohai, chefs
[2013-06-28 17:39:13 -0400] jtimberman: dpetzel: fyi: I've updated our zenoss cookbook repository.
[2013-06-28 17:39:25 -0400] jtimberman: https://github.com/opscode-cookbooks/zenoss :)
[2013-06-28 17:39:40 -0400] jtimberman: and opened issue #8 in the new repo
[2013-06-28 17:39:58 -0400] dpetzel: jtimberman, :) will take care of that onight
[2013-06-28 17:40:01 -0400] dpetzel: tonight*
[2013-06-28 17:40:25 -0400] jtimberman: :D
[2013-06-28 17:40:27 -0400] jtimberman: Thanks so much.
[2013-06-28 17:58:39 -0400] github-bawt: [chef] lamont-granquist pushed 1 new commit to lcg/diff-encoding: http://git.io/z2c7lw
[2013-06-28 17:58:40 -0400] github-bawt: chef/lcg/diff-encoding ac9e0df Lamont Granquist: add some comments
[2013-06-28 18:01:21 -0400] github-bawt: [chef] lamont-granquist force-pushed lcg/diff-encoding from ac9e0df to 59e7020: http://git.io/QAGp3Q
[2013-06-28 18:01:21 -0400] github-bawt: chef/lcg/diff-encoding d755dee Lamont Granquist: ruby >= 1.9 is more useful than ruby == 1.9 in a ruby 1.9+2.0 world
[2013-06-28 18:01:22 -0400] github-bawt: chef/lcg/diff-encoding 50f2ca0 Lamont Granquist: many bugs:...
[2013-06-28 18:01:22 -0400] github-bawt: chef/lcg/diff-encoding 59e7020 Lamont Granquist: add some comments
[2013-06-28 19:18:57 -0400] hakunin: jtimberman: erikh: so this actually worked: https://gist.github.com/maxim/5887312
[2013-06-28 19:19:20 -0400] erikh: imma stay quiet
[2013-06-28 19:19:27 -0400] hakunin: given you also override the driver to use GzippedChefDataUploader instead of ChefDataUploader
[2013-06-28 19:21:55 -0400] hakunin: erikh: safer that way
[2013-06-28 19:26:25 -0400] hakunin: now test-kitchen uploads are very fast, and everything works as intended
[2013-06-28 19:26:53 -0400] hakunin: also alternate logic only kicks in for directories
[2013-06-28 19:28:59 -0400] hakunin: now to publish a gem, it's currently bundled via local path
[2013-06-28 19:44:04 -0400] github-bawt: [test-kitchen] jtimberman pushed 1 new commit to master: http://git.io/R_nj8Q
[2013-06-28 19:44:04 -0400] github-bawt: test-kitchen/master 85431e2 Joshua Timberman: Merge pull request #152 from opscode/new-vm-bucket...
[2013-06-28 19:56:01 -0400] github-bawt: [chef] sersut pushed 1 new commit to master: http://git.io/9uZFWw
[2013-06-28 19:56:02 -0400] github-bawt: chef/master 86ad7a6 Serdar Sutay: Merge pull request #862 from opscode/OC-8697...
[2013-06-28 20:13:09 -0400] github-bawt: [omnibus-chef] sersut created chef-11.6.rc-ruby-448 (+2 new commits): http://git.io/TPvBfg
[2013-06-28 20:13:09 -0400] github-bawt: omnibus-chef/chef-11.6.rc-ruby-448 76800db sersut: Point to omnibus-ruby with ruby 1.9.3-p448
[2013-06-28 20:13:09 -0400] github-bawt: omnibus-chef/chef-11.6.rc-ruby-448 69f211d sersut: Bump the ruby version for windows to 1.9.3-p448
[2013-06-28 20:32:14 -0400] hakunin: jtimberman: erikh: so it's a gem now, readme should be pretty clear https://github.com/maxim/kitchen-sshgzip
[2013-06-28 20:33:44 -0400] erikh: doesn't scp -C accomplish this too?
[2013-06-28 20:35:17 -0400] hakunin: erikh: not familiar, would be happy to make it simpler
[2013-06-28 20:35:28 -0400] erikh: it enables compression
[2013-06-28 20:37:04 -0400] hakunin: erikh: hm, man suggests it does this, that would make this file even shorter: https://github.com/maxim/kitchen-sshgzip/blob/master/lib/kitchen/sshgzip.rb
[2013-06-28 20:37:30 -0400] erikh: again, I'm pretty sure you'd rather have rsync here
[2013-06-28 20:37:46 -0400] erikh: nobody loves rsync
[2013-06-28 20:38:03 -0400] hakunin: erikh: no no no, i love rsync! don't cry
[2013-06-28 20:38:09 -0400] erikh: heh
[2013-06-28 20:38:28 -0400] erikh: sorry, I really have to go do work-y things
[2013-06-28 20:39:34 -0400] hakunin: erikh: i'm sure not all clear with rsync. we're hooking into kitchen's existing uploader, it supplies paths, and it erases wipes dir before upload, so would be a bit more involved
[2013-06-28 20:39:39 -0400] hakunin: erikh: (to do it right)
[2013-06-28 20:39:44 -0400] hakunin: erikh: enjoy
[2013-06-28 20:39:58 -0400] erikh: hmm.
[2013-06-28 20:40:06 -0400] erikh: you should bother fletcher then
[2013-06-28 20:40:23 -0400] erikh: rsync is the ideal tool here -- I'm sure he'll agree, but orchestrating it is a different issue
[2013-06-28 20:40:31 -0400] hakunin: erikh: i agree too
[2013-06-28 20:40:53 -0400] erikh: he probably knows quite a bit more about what that code should look like than I do
[2013-06-28 20:42:22 -0400] hakunin: this is an MVP, the simplest that can work, lowest impact hook, etc
[2013-06-28 20:43:12 -0400] erikh: gotcha
[2013-06-28 20:43:36 -0400] erikh: right now I'm trying to tire iron puppet into working under unicorn so this is a nice mild distraction
[2013-06-28 20:44:04 -0400] erikh: there are classes here that puppet apparently never uses
[2013-06-28 20:44:13 -0400] erikh: this whole codebase makes me cry
[2013-06-28 20:44:36 -0400] hakunin: huh puppet under unicorn? perhaps you should try hadoop it into redis?
[2013-06-28 20:44:43 -0400] erikh: b.igdata.co
[2013-06-28 20:44:53 -0400] erikh: puppet's just a rack app underneath
[2013-06-28 20:45:00 -0400] erikh: and I need test-kitchen-y things with it
[2013-06-28 20:45:05 -0400] hakunin: oh didn't know
[2013-06-28 20:45:07 -0400] erikh: so I have this very ugly deploy tool
[2013-06-28 20:45:15 -0400] erikh: that launches a unicorn one-off
[2013-06-28 20:45:24 -0400] erikh: but cert auth is kicking my ass.
[2013-06-28 20:45:33 -0400] erikh: that and some issues with rack and reserved IP blocks
[2013-06-28 20:45:41 -0400] erikh: but got that nailed.
[2013-06-28 20:45:53 -0400] hakunin: sigh, sounds exhausting
[2013-06-28 20:46:44 -0400] erikh: yes
[2013-06-28 20:48:44 -0400] hakunin: i had wonderful experience bootstrapping test-kitchen nodes locally via vagrant driver until VirtualBoz started corrupting my SSD, so i had to restart and repair it occasionally
[2013-06-28 20:48:52 -0400] hakunin: not a biggie, just could lose all of the data
[2013-06-28 20:49:17 -0400] hakunin: so instead i switched to digitalocean driver
[2013-06-28 20:49:28 -0400] hakunin: and it's great
[2013-06-28 20:49:51 -0400] hakunin: but it takes 5 minutes to upload 50kilobytes, so can't really iterate at all, but great otherwise
[2013-06-28 20:49:55 -0400] hakunin: so here i am with custom driver
[2013-06-28 20:50:35 -0400] hakunin: it's a deep yak, and outside is so sunny
[2013-06-28 20:57:46 -0400] hakunin: Hm ok i see. You need to run converge twice for digitalocean driver to work. Sounds legit.
[2013-06-28 22:15:44 -0400] github-bawt: [omnibus-chef] sersut force-pushed chef-11.6.rc-ruby-448 from 69f211d to 76800db: http://git.io/uvd60Q
[2013-06-28 22:30:42 -0400] jtimberman: \o/ ^^
[2013-06-28 23:21:23 -0400] github-bawt: [chef] lamont-granquist pushed 1 new commit to lcg/diff-encoding: http://git.io/eujzTw
[2013-06-28 23:21:23 -0400] github-bawt: chef/lcg/diff-encoding bcd053f Lamont Granquist: fix 1.9 mixlib-shellout encoding issues
[2013-06-28 23:22:03 -0400] github-bawt: [chef] lamont-granquist pushed 1 new commit to lcg/diff-encoding: http://git.io/4ReD4Q
[2013-06-28 23:22:03 -0400] github-bawt: chef/lcg/diff-encoding 0892801 Lamont Granquist: confusingly named var
