[2013-09-26 16:24:51 -0400] github-bawt: [chef] btm created CHEF-4568 (+3 new commits): http://git.io/JO6v-w
[2013-09-26 16:24:51 -0400] github-bawt: chef/CHEF-4568 5d55882 Seth Vargo: Normalize whitespace on all files
[2013-09-26 16:24:51 -0400] github-bawt: chef/CHEF-4568 b7c174b Seth Vargo: Reset some_windows_line_endings test fixture
[2013-09-26 16:24:51 -0400] github-bawt: chef/CHEF-4568 88483dd Bryan McLellan: CHEF-4568: Make apt showpkg regex more friendly to differing whitespace
[2013-09-26 16:28:44 -0400] github-bawt: [chef] sethvargo deleted sethvargo/fix_whitespace at 352dbaa: http://git.io/BA8SZQ
[2013-09-26 16:45:04 -0400] adamjk-dev: hey all.... anyone want to talk about: https://tickets.opscode.com/browse/COOK-3594
[2013-09-26 16:45:13 -0400] adamjk-dev: and the best way for me to fix it
[2013-09-26 17:29:41 -0400] mattjalexander: @adamjk-dev update the permissions on the directory *after* the package installs?
[2013-09-26 17:30:03 -0400] mattjalexander: or use a case statement in the test that triggers on paltform_family?
[2013-09-26 17:30:26 -0400] mattjalexander: or just not care :/
[2013-09-26 17:39:56 -0400] adamjk-dev: i know....
[2013-09-26 17:40:15 -0400] adamjk-dev: mattjalexander: it just sounds so dirty to repeat the whole resource declaration again
[2013-09-26 17:40:28 -0400] adamjk-dev: mattjalexander: but I don't know how I can control the permissions and ownership set by a package installation
[2013-09-26 17:40:33 -0400] adamjk-dev: that is outside the control of Chef
[2013-09-26 17:40:40 -0400] adamjk-dev: but those directories need to be created beforehand
[2013-09-26 17:40:45 -0400] adamjk-dev: (some of them at least)
[2013-09-26 17:40:58 -0400] adamjk-dev: i hate non-elegant solutions..... bleh
[2013-09-26 17:43:10 -0400] mattjalexander: so the package installation depends on folders already existing?
[2013-09-26 17:43:16 -0400] adamjk-dev: mattjalexander: would it make sense to just add a notifier from the package installation recipe? to invoke that resource again?
[2013-09-26 17:43:38 -0400] mattjalexander: sounds cleaner than declaring it twice
[2013-09-26 17:44:21 -0400] adamjk-dev: i thought so... it kept failing and I was confused why.... there are a few notifications going on .... I assume it hit something where it expected at least the home directory to be there
[2013-09-26 17:44:53 -0400] adamjk-dev: yeah, one option would be to notify the directory resource from the _server_package recipe
[2013-09-26 17:45:07 -0400] mattjalexander: that sounds odd, i've never had rpm/apt-get fail because a directory didn't exist
[2013-09-26 17:45:12 -0400] mattjalexander: (well, maybe /tmp or something basic)
[2013-09-26 17:46:10 -0400] adamjk-dev: mattjalexander: let me run it again... and see what is up
[2013-09-26 17:57:27 -0400] adamjk-dev: mattjalexander: im not sure where my brain is at today.... but yeah the _server_war recipe needs the home directory https://github.com/opscode-cookbooks/jenkins/blob/master/recipes/_server_war.rb#L30
[2013-09-26 17:57:46 -0400] adamjk-dev: but it is possible that the fix works for the package installation (I think I just ran it successfully, I need to try it again)
[2013-09-26 18:04:20 -0400] mattjalexander: i'm confused, i thought the problem was the package was munging up directory perms
[2013-09-26 18:09:49 -0400] mattjalexander: kitchen test server-war-ubuntu-1204 works for me
[2013-09-26 18:13:41 -0400] mattjalexander: kitchen test server-package-ubuntu-1204 works for me too :p
[2013-09-26 18:13:53 -0400] adamjk-dev: which linux distro :)?
[2013-09-26 18:13:57 -0400] adamjk-dev: im not sure its the same on all
[2013-09-26 18:14:07 -0400] adamjk-dev: i know I was running into issues on RHEL
[2013-09-26 18:14:12 -0400] adamjk-dev: possibly CentOS
[2013-09-26 18:14:26 -0400] github-bawt: [chef] btm pushed 3 new commits to master: http://git.io/giX5sw
[2013-09-26 18:14:27 -0400] github-bawt: chef/master 6315871 Seth Vargo: Normalize whitespace on all files
[2013-09-26 18:14:27 -0400] github-bawt: chef/master c79a723 Seth Vargo: Reset some_windows_line_endings test fixture
[2013-09-26 18:14:27 -0400] github-bawt: chef/master 1bb1a93 Bryan McLellan: CHEF-4568: Make apt showpkg regex more friendly to differing whitespace
[2013-09-26 18:14:33 -0400] adamjk-dev: so yeah... the idea was to move the directory perms stuff below the package installation (in case the package installer changes anything)
[2013-09-26 18:15:22 -0400] mattjalexander: oh, it's rhel specific
[2013-09-26 18:18:04 -0400] adamjk-dev: im memory serves me well
[2013-09-26 18:20:57 -0400] mattjalexander: yeah, kitchen test server-package-centos-59 fails
[2013-09-26 18:21:16 -0400] adamjk-dev: yeah
[2013-09-26 18:21:18 -0400] adamjk-dev: there yah go
[2013-09-26 18:21:21 -0400] adamjk-dev: so non-ubuntu
[2013-09-26 18:24:09 -0400] github-bawt: [chef] danielsdeleo created 61e98b94fb387353841d5b4575816a1d716cfbc9 from master (+0 new commits): http://git.io/gS5xVA
[2013-09-26 18:25:25 -0400] github-bawt: [chef] danielsdeleo deleted 61e98b94fb387353841d5b4575816a1d716cfbc9 at 1bb1a93: http://git.io/Za6ccQ
[2013-09-26 18:30:11 -0400] adamjk-dev: can you notify a directory resource that uses a variable for the directory name?
[2013-09-26 18:30:13 -0400] mattjalexander: wow, kitchen test server-war-centos-59 blew up on me trying to use runit
[2013-09-26 18:32:33 -0400] adamjk-dev: mattjalexander: I see your point about the permissions
[2013-09-26 18:32:49 -0400] adamjk-dev: mattjalexander: but RHEL used nogrp as the group... which didn't seem right
[2013-09-26 18:34:14 -0400] adamjk-dev: mattjalexander: https://github.com/opscode-cookbooks/jenkins/blob/master/attributes/server.rb#L37
[2013-09-26 18:34:26 -0400] adamjk-dev: looks like RHEL is set to the jenkins user, but debian uses nogroup
[2013-09-26 18:45:31 -0400] adamjk-dev: but worse, CentOS uses jenkins (it doesn't have a 'nogroup'), and RHEL uses 'nogroup'
[2013-09-26 18:45:35 -0400] adamjk-dev: but they are both RHEL based
[2013-09-26 18:45:41 -0400] adamjk-dev: im annoyed at this point ..... :(
[2013-09-26 18:49:08 -0400] github-bawt: [chef] lamont-granquist created lcg/windows-gems (+1 new commit): http://git.io/sQmTUQ
[2013-09-26 18:49:08 -0400] github-bawt: chef/lcg/windows-gems 5bfb658 Lamont Granquist: comment win32-process references
[2013-09-26 18:59:03 -0400] github-bawt: [chef] lamont-granquist force-pushed lcg/windows-gems from 5bfb658 to e9fee07: http://git.io/eWx4pQ
[2013-09-26 18:59:03 -0400] github-bawt: chef/lcg/windows-gems e9fee07 Lamont Granquist: comment win32-process references
[2013-09-26 19:04:39 -0400] adamjk-dev: mattjalexander: so i think we need to force the permissions of the directories
[2013-09-26 19:04:55 -0400] adamjk-dev: mattjalexander: since we can install on a platform via package or war, shouldn't we drive the permissions?
[2013-09-26 19:05:28 -0400] adamjk-dev: mattjalexander: otherwise, we would need different permissions for each type of install and perhaps each linux distro..... getting a bit out there
[2013-09-26 19:10:11 -0400] mattjalexander: @adamjk-dev i dunno, that's kinda the point of using package management
[2013-09-26 19:12:24 -0400] mattjalexander: if there are going to be difference, just go ahead and make it an attribute, and add in case statement to default for debian & rhel families
[2013-09-26 19:22:18 -0400] adamjk-dev: mattjalexander: bleh..... I know... that does sound like the "right" solution.... just takes me iterating over all of the possibilities and getting the perms right hahaha
[2013-09-26 19:22:47 -0400] adamjk-dev: mattjalexander: and rhel is too vague... have to break it down to redhat, other it seems.... I don't have a fedora box to run against
[2013-09-26 19:24:28 -0400] adamjk-dev: mattjalexander: then, do we make the WAR installation permissions match the package installation... or just leave all WAR installations with 0700 etc.?
[2013-09-26 19:25:42 -0400] mattjalexander: yeah, fragmentation inside of families is going to suck i'd leave the war files to whatever you want to do
[2013-09-26 19:26:10 -0400] mattjalexander: unless you find out whatever compelling reason VendorB had to use crazy perms
[2013-09-26 19:27:50 -0400] adamjk-dev: mattjalexander: I see no need really... perhaps we can just leave the perms and ownership as is for WAR installations... and figure out the group and permissions for the package installations
[2013-09-26 19:32:05 -0400] github-bawt: [chef] lamont-granquist force-pushed lcg/windows-gems from e9fee07 to 4dd670c: http://git.io/eWx4pQ
[2013-09-26 19:32:05 -0400] github-bawt: chef/lcg/windows-gems 4dd670c Lamont Granquist: remove win32-process from gemfile
[2013-09-26 20:07:33 -0400] prometheanfire: is there a simple tarball I can download?
[2013-09-26 20:07:35 -0400] github-bawt: [chef] lamont-granquist force-pushed lcg/windows-gems from 4dd670c to 1d54b8b: http://git.io/eWx4pQ
[2013-09-26 20:07:35 -0400] github-bawt: chef/lcg/windows-gems 1d54b8b Lamont Granquist: pin version to match shellout
[2013-09-26 20:07:41 -0400] prometheanfire: I'd rather not install from deb on gentoo
[2013-09-26 20:40:54 -0400] github-bawt: [chef] lamont-granquist pushed 1 new commit to master: http://git.io/Ppnlhg
[2013-09-26 20:40:54 -0400] github-bawt: chef/master 4f4049b Lamont Granquist: for now, pin win32-process to match mixlib-shellout
[2013-09-26 20:48:44 -0400] github-bawt: [chef] lamont-granquist pushed 1 new commit to master: http://git.io/pBgxfQ
[2013-09-26 20:48:44 -0400] github-bawt: chef/master 75898ba Lamont Granquist: undo whitespace change
[2013-09-26 21:06:49 -0400] github-bawt: [chef] lamont-granquist pushed 1 new commit to master: http://git.io/QVgaAw
[2013-09-26 21:06:49 -0400] github-bawt: chef/master 5f8455f Lamont Granquist: revert whitespace for all spec/data fixtures...
[2013-09-26 21:47:55 -0400] github-bawt: [chef] lamont-granquist pushed 1 new commit to master: http://git.io/Y0YC0w
[2013-09-26 21:47:55 -0400] github-bawt: chef/master 6e148e3 Lamont Granquist: revert checksum to pre-whitespace fix state
[2013-09-26 21:59:14 -0400] github-bawt: [chef] lamont-granquist pushed 1 new commit to master: http://git.io/f8UdKg
[2013-09-26 21:59:14 -0400] github-bawt: chef/master db4e72e Lamont Granquist: revert another checksum to pre-whitespace state
[2013-09-26 23:06:46 -0400] github-bawt: [chef] lamont-granquist created muktaa-oc-9475-windows-cookbook-upload (+1 new commit): http://git.io/_Zl3zA
[2013-09-26 23:06:46 -0400] github-bawt: chef/muktaa-oc-9475-windows-cookbook-upload 52bae68 Mukta A: Support in Windows to create symlink for knife upload cookbook in case of versioned_cookbooks
