[2013-08-14 00:02:35 -0400] github-bawt: [ohai] nordsieck-oc pushed 1 new commit to tn/cleanup: http://git.io/x67R2w
[2013-08-14 00:02:35 -0400] github-bawt: ohai/tn/cleanup 564d3f2 Theodore Nordsieck: wip
[2013-08-14 00:17:28 -0400] github-bawt: [ohai] nordsieck-oc pushed 1 new commit to tn/cleanup: http://git.io/D0yXOg
[2013-08-14 00:17:29 -0400] github-bawt: ohai/tn/cleanup 1c87fa0 Theodore Nordsieck: wip
[2013-08-14 00:21:27 -0400] github-bawt: [ohai] nordsieck-oc pushed 1 new commit to tn/cleanup: http://git.io/_t9-xA
[2013-08-14 00:21:27 -0400] github-bawt: ohai/tn/cleanup d7652c4 Theodore Nordsieck: Resolved some potential convusion
[2013-08-14 00:22:51 -0400] github-bawt: [ohai] nordsieck-oc pushed 1 new commit to tn/cleanup: http://git.io/INXpfw
[2013-08-14 00:22:51 -0400] github-bawt: ohai/tn/cleanup a85a11f Theodore Nordsieck: phrasing
[2013-08-14 00:51:16 -0400] programmerq: so, I'm trying to get my head around test-kitchen (the 1.0 version, not the old one). I'm hoping I can paramaterize the version of chef used. Is there a way to do that?
[2013-08-14 05:38:18 -0400] github-bawt: [knife-windows] adamedx created adamed-knife-354 at df7fdd2 (+0 new commits): http://git.io/BllYpA
[2013-08-14 11:08:30 -0400] github-bawt: [chef] sersut pushed 1 new commit to 10-stable: http://git.io/s_bOmg
[2013-08-14 11:08:31 -0400] github-bawt: chef/10-stable 221d123 sersut: Fix windows configure specs on windows.
[2013-08-14 14:29:14 -0400] github-bawt: [chef] christophermaier created cm/CHEF-4353-validator-clients-from-knife (+1 new commit): http://git.io/0yeb4g
[2013-08-14 14:29:14 -0400] github-bawt: chef/cm/CHEF-4353-validator-clients-from-knife aa3f801 Christopher Maier: Make ApiClient aware of validator property...
[2013-08-14 15:59:39 -0400] BryanWB: yo yo ! https://github.com/foodfight/showz/blob/master/scripts/episode-XX-packer.md
[2013-08-14 16:13:47 -0400] cwj: excited for this episode :D
[2013-08-14 18:10:22 -0400] github-bawt: [knife-windows] adamedx pushed 1 new commit to adamed-knife-354: http://git.io/fgTK1A
[2013-08-14 18:10:23 -0400] github-bawt: knife-windows/adamed-knife-354 47b542d adamedx: CHEF-354: Fix bootstrap failure for Windows 8.1 and any unknown Windows versions
[2013-08-14 18:26:00 -0400] github-bawt: [knife-windows] adamedx force-pushed adamed-knife-354 from 47b542d to 3da675c: http://git.io/BllYpA
[2013-08-14 18:26:00 -0400] github-bawt: knife-windows/adamed-knife-354 3da675c adamedx: CHEF-354: Fix bootstrap failure for Windows 8.1 and any unknown Windows versions
[2013-08-14 18:28:10 -0400] github-bawt: [knife-windows] adamedx force-pushed adamed-knife-354 from 3da675c to b6c0cb9: http://git.io/BllYpA
[2013-08-14 18:28:10 -0400] github-bawt: knife-windows/adamed-knife-354 b6c0cb9 adamedx: KNIFE-354: Fix bootstrap failure for Windows 8.1 and any unknown Windows versions
[2013-08-14 18:35:48 -0400] github-bawt: [ohai] lamont-granquist created rhel-platform-family-comment (+1 new commit): http://git.io/RhVzjw
[2013-08-14 18:35:48 -0400] github-bawt: ohai/rhel-platform-family-comment 7a48b48 Lamont Granquist: add comment about use of rhel platform_family
[2013-08-14 18:39:21 -0400] jchauncey: has anyone used test-kitchen to bring up multiple vms and bridge them together?
[2013-08-14 18:39:56 -0400] jchauncey: i really want to do this with chef-zero but the vagrant-chef-zero plugin requires too many moving parts for what i need (I'm trying to get away from having the user need knife to bring up a machine)
[2013-08-14 18:40:25 -0400] jchauncey: since test-kitchen creates a client on the image itself for provisioning it seems like that would work
[2013-08-14 18:40:29 -0400] jtimberman: jchauncey: multiple vm isn't really something test kitchen is designed to do
[2013-08-14 18:40:36 -0400] jchauncey: yeah i know =)
[2013-08-14 18:40:40 -0400] jtimberman: its for testing a project in isolation.
[2013-08-14 18:40:56 -0400] jtimberman: others want this, but i think it's what a "Non-production test enviornment" is for :)
[2013-08-14 18:41:04 -0400] jchauncey: exactly!
[2013-08-14 18:41:21 -0400] jchauncey: thats what I'm trying to build, a web app that allows a tester to say what cookbooks they want to provision on a host
[2013-08-14 18:41:31 -0400] jchauncey: that would generate a vagrant file and corresponding berksfile
[2013-08-14 18:41:46 -0400] jchauncey: so all they would need to do is vagrant up and the rest is handled for them
[2013-08-14 18:42:29 -0400] jchauncey: this obviously is easy to do with chef-solo but its limited functionality makes it really difficult
[2013-08-14 18:42:59 -0400] jchauncey: rather makes it difficult to use cookbooks that rely on search etc...
[2013-08-14 18:43:15 -0400] jchauncey: seems like i may have to write this
[2013-08-14 18:45:57 -0400] adamjk-dev: i had gripes with test-kitchen standing up a master/slave scenario
[2013-08-14 18:46:32 -0400] jchauncey: yeah
[2013-08-14 18:46:35 -0400] adamjk-dev: I had to jimmy up some weird platforms: in the kitchen YML and tell test-kitchen to test everything (and not destroy, i.e. --destroy=never)
[2013-08-14 18:46:47 -0400] adamjk-dev: and then my master vame up first (jenkins::server), then my slave (jenkins::node_jnlp)
[2013-08-14 18:46:53 -0400] adamjk-dev: I am less than impressed with it
[2013-08-14 18:46:57 -0400] adamjk-dev: but its the only way I could get it to work
[2013-08-14 18:47:15 -0400] jchauncey: is this for writing integration tests?
[2013-08-14 18:47:23 -0400] jchauncey: or for manual testing?
[2013-08-14 18:47:27 -0400] adamjk-dev: and my vote would be to put support for this sort of thing into test-kitchen explicitly (especially since so many people use Vagrant, and it is easy to do there)
[2013-08-14 18:47:35 -0400] adamjk-dev: I wrote integration tests with it
[2013-08-14 18:47:37 -0400] adamjk-dev: either/or
[2013-08-14 18:47:38 -0400] jchauncey: ah k
[2013-08-14 18:47:38 -0400] adamjk-dev: really
[2013-08-14 18:47:39 -0400] adamjk-dev: imo
[2013-08-14 18:48:01 -0400] adamjk-dev: my thoughts are that test-kitchen should be syntactically as powerful as a Vagrantfile :)
[2013-08-14 18:48:06 -0400] jchauncey: yeah seems like with test-kitchen you could just specify your list of platforms and then tell test-kitchen to start them with particular run lists
[2013-08-14 18:48:07 -0400] adamjk-dev: but I don't make those decisions
[2013-08-14 18:48:09 -0400] jchauncey: just like you have with suites
[2013-08-14 18:48:12 -0400] jtimberman: at the end of the day, test kitchen is just a fancy thing on top of a "multi-vm vagrantfile" (with the capability to use other instance/machine provisioners) :)
[2013-08-14 18:48:19 -0400] adamjk-dev: indeed
[2013-08-14 18:48:22 -0400] adamjk-dev: i like it... dont get me wrong
[2013-08-14 18:48:35 -0400] adamjk-dev: I was only mad when I saw no support for multiple machines being up at the same time and being dependent
[2013-08-14 18:48:38 -0400] jchauncey: i love how test-kitchen is interacting with chef-zero though
[2013-08-14 18:48:42 -0400] adamjk-dev: so I had to jimmy rig it to do it
[2013-08-14 18:48:44 -0400] jtimberman: but the way it works now, it's intended to only test a single thing.
[2013-08-14 18:48:49 -0400] adamjk-dev: im not aware of chef-zero
[2013-08-14 18:48:53 -0400] jtimberman: i haven't played w/ it and chef-zero yet.
[2013-08-14 18:49:02 -0400] adamjk-dev: jtimberman: exactly :)
[2013-08-14 18:49:03 -0400] jchauncey: chef-zero is a fully functional chef server that runs in memory
[2013-08-14 18:49:04 -0400] jtimberman: adamjk-dev: chef-zero is the most awesome thing for quick testing and playing with a chef server.
[2013-08-14 18:49:11 -0400] adamjk-dev: ohhhhh
[2013-08-14 18:49:12 -0400] adamjk-dev: interesting
[2013-08-14 18:49:17 -0400] jchauncey: chef-zero > chef-solo
[2013-08-14 18:49:18 -0400] adamjk-dev: that sounds scary :)
[2013-08-14 18:49:18 -0400] jtimberman: i used it for the tutorial I taught at OSCON last month.
[2013-08-14 18:49:27 -0400] adamjk-dev: hrmmmm
[2013-08-14 18:49:30 -0400] jchauncey: it has a fully functional search capability
[2013-08-14 18:49:33 -0400] adamjk-dev: now I am intrigued
[2013-08-14 18:49:41 -0400] adamjk-dev: can you use minitest-handler with chef-zero?
[2013-08-14 18:49:49 -0400] jtimberman: slides from my tutorial are here: https://speakerdeck.com/jtimberman/oscon-2013-system-management-with-chef-tutorial
[2013-08-14 18:49:50 -0400] adamjk-dev: since the fix isn't fully in for chef-client and minitest-handler?
[2013-08-14 18:49:52 -0400] adamjk-dev: if you are aware
[2013-08-14 18:49:55 -0400] jchauncey: the problem is the vagrant support is lacking for it
[2013-08-14 18:50:00 -0400] adamjk-dev: jtimberman: thank you, sir
[2013-08-14 18:50:12 -0400] jchauncey: adamjk-dev: yes
[2013-08-14 18:50:13 -0400] adamjk-dev: jtimberman: and get the team thinking about multi-VM for test-kitchen ;)
[2013-08-14 18:50:32 -0400] adamjk-dev: jchauncey: oh, really? have you used it there?
[2013-08-14 18:50:43 -0400] adamjk-dev: jchauncey: chef-zero and minitest handler, that is
[2013-08-14 18:50:44 -0400] jchauncey: adamjk-dev: you just tell test-kitchen to provision your box with chef-zero and it will do all the heavy lifting for you
[2013-08-14 18:50:58 -0400] adamjk-dev: jchauncey: craziness... just when you get caught up on the old stuff ;)
[2013-08-14 18:51:01 -0400] jchauncey: we don't use mini-test handler but test-kitchen + serverspec
[2013-08-14 18:51:11 -0400] adamjk-dev: hrm
[2013-08-14 18:51:16 -0400] adamjk-dev: serverspec like chefspec?
[2013-08-14 18:51:18 -0400] jchauncey: works well with berkshelf
[2013-08-14 18:51:28 -0400] jchauncey: basically, just OS level validation
[2013-08-14 18:52:18 -0400] jchauncey: https://github.com/RallySoftware-cookbooks/chromedriver/blob/master/test/integration/default/serverspec/default_spec.rb
[2013-08-14 18:52:43 -0400] mkirk_: adamjk-dev: We are using TC,chef-zero and minitest-handler with lcx's for testing cookbooks (through Jenkins).
[2013-08-14 18:53:02 -0400] mkirk_: Oh, and berkshelf.
[2013-08-14 18:53:07 -0400] adamjk-dev: jchauncey: interesting..... seems like spec but run after provisioning (like the goal of test-kitchen with minitest)
[2013-08-14 18:53:19 -0400] jchauncey: yeah
[2013-08-14 18:53:27 -0400] adamjk-dev: mkirk_: nice... so it does play nice .... and you can use search and databags etc.?
[2013-08-14 18:53:44 -0400] jchauncey: adamjk-dev: yes
[2013-08-14 18:54:00 -0400] adamjk-dev: jchauncey: nice, now I have another thing to learn and try out
[2013-08-14 18:54:03 -0400] jchauncey: that's why we had to make the switch, we had a cookbook that relied on searching for data bags and chef-solo didn't work
[2013-08-14 18:54:04 -0400] mkirk_: Correct.  We have our cookbooks setup to be self contained and keep the databags we want to test against in the cookbook.
[2013-08-14 18:54:07 -0400] adamjk-dev: jchauncey: but honestly, thanks
[2013-08-14 18:54:22 -0400] adamjk-dev: jchauncey: it looks quite expressive, just different syntax than minitest
[2013-08-14 18:54:48 -0400] adamjk-dev: good information.... interesting
[2013-08-14 18:54:50 -0400] jchauncey: adamjk-dev: yeah i don't think it was built for chef in mind its just OS level validation through rspec
[2013-08-14 18:55:23 -0400] jchauncey: so i think what I'm going to try is building a vagrant plugin that works like test-kitchen
[2013-08-14 18:55:24 -0400] adamjk-dev: jchauncey: I see.... I happen to like the minitest-handler syntax and such
[2013-08-14 18:55:30 -0400] jchauncey: yeah
[2013-08-14 18:55:38 -0400] adamjk-dev: well... its another option
[2013-08-14 18:55:41 -0400] adamjk-dev: that I wasn't aware of
[2013-08-14 18:55:51 -0400] adamjk-dev: i like test-kitchen... just that one gripe ;)
[2013-08-14 18:56:02 -0400] jchauncey: we were using mini-test-handler to start but just liked server spec more, to each his own =)
[2013-08-14 18:56:15 -0400] jchauncey: yeah test-kitchen as a "framework/platform" is awesome
[2013-08-14 18:56:41 -0400] jchauncey: i have a ton of blog posts written (that should be published soon) about using serverspec/tk
[2013-08-14 18:56:48 -0400] adamjk-dev: indeed, until one can't handle something you need... to each his own
[2013-08-14 18:56:58 -0400] adamjk-dev: nice
[2013-08-14 18:57:02 -0400] adamjk-dev: id like to see them
[2013-08-14 18:57:24 -0400] jchauncey: right now we are waiting on opscode =P
[2013-08-14 18:57:33 -0400] adamjk-dev: hrmmmm
[2013-08-14 18:57:47 -0400] adamjk-dev: which github repo for chef-zero?   jkeiser's?
[2013-08-14 18:57:47 -0400] jchauncey: i said too many nice things about chef, so our marketing department wants to be technology partners with them
[2013-08-14 18:57:50 -0400] jchauncey: yes
[2013-08-14 18:57:55 -0400] adamjk-dev: haha, nice
[2013-08-14 18:58:10 -0400] adamjk-dev: this stuff is fun... i give it that
[2013-08-14 18:58:13 -0400] adamjk-dev: new world for me
[2013-08-14 19:00:26 -0400] mkirk_: jchauncey: I think there is a chef-zero provisioner for Vagrant.
[2013-08-14 19:01:24 -0400] jchauncey: there is
[2013-08-14 19:01:30 -0400] jchauncey: but it relies on too many things for my needs
[2013-08-14 19:02:06 -0400] jchauncey: you basically need to modify your knife.rb to point to the chef-zero server that is started (which is on the host machine not the vm)
[2013-08-14 19:03:19 -0400] mkirk_: True
[2013-08-14 19:04:10 -0400] adamjk-dev: nice
[2013-08-14 19:04:15 -0400] adamjk-dev: im way behind on it... need to learn
[2013-08-14 19:06:27 -0400] mkirk_: I would also say we need to help document as we learn.  I feel that the curve is somewhat steep for new folks right now.
[2013-08-14 19:06:55 -0400] adamjk-dev: that's true, I need to be better about that and updating public docs etc.
[2013-08-14 19:07:15 -0400] adamjk-dev: i am waiting for legal to make me a contributor for opscode right now :)
[2013-08-14 19:07:43 -0400] mkirk_: Write blog posts while you wait! :)
[2013-08-14 19:07:54 -0400] adamjk-dev: never have ... lol
[2013-08-14 19:08:22 -0400] adamjk-dev: very new to the open source community
[2013-08-14 19:17:08 -0400] adamjk-dev: jtimberman: nice slides, btw
[2013-08-14 19:27:25 -0400] jchauncey: mkirk_: thats what we are doing here at rally
[2013-08-14 19:28:08 -0400] jchauncey: I've got like 5 or 6 posts queued up right now with 3 more in the hopper ready to be written
[2013-08-14 20:12:25 -0400] fred909: i'm trying to get test-kitchen working... and it seems to be emitting bad vagrantfiles or something... /Users/aje/git/chef-repo/.kitchen/kitchen-vagrant/default-ubuntu-1204/Vagrantfile:12: unknown regexp options - aj
[2013-08-14 20:12:29 -0400] fred909: any ideas
[2013-08-14 20:12:31 -0400] fred909: ?
[2013-08-14 20:13:25 -0400] fred909: running the latest version of test-kitchen... 1.0.0.beta.2
[2013-08-14 20:24:20 -0400] fred909: kitchen-vagrant was old... 0.7.0. solved.
[2013-08-14 20:40:13 -0400] mkirk_: jchauncey: Are you fully implemented?
[2013-08-14 20:40:29 -0400] jchauncey: what do you mean?
[2013-08-14 20:40:50 -0400] mkirk_: With your testing workflow?  We are just starting.
[2013-08-14 20:40:54 -0400] jchauncey: yaeh
[2013-08-14 20:41:16 -0400] jchauncey: even our CI servers are built using chef which is then used to test the ci-cookbook we built =P
[2013-08-14 20:41:31 -0400] jchauncey: very meta
[2013-08-14 20:44:16 -0400] mkirk_: Ha!  It's been years since I used Rally.  I'll check out the blog at some point.
[2013-08-14 20:48:45 -0400] jchauncey: hopefully they will start posting them next week
[2013-08-14 20:53:44 -0400] jchauncey: check out our github org for our cookbook development - https://github.com/RallySoftware-cookbooks
[2013-08-14 20:54:00 -0400] jchauncey: should give you a good overview of how we are doing things
[2013-08-14 21:54:40 -0400] mkirk_: Ha!  It's been years since I used Rally.  I'll check out the blog at some point.
