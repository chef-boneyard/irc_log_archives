[2013-05-08 01:15:02 -0400] paulmooring: .quit
[2013-05-08 01:32:21 -0400] spheromak: spox: is there doc on tha vagabond+kitchen stuff ? or where do i start doing that ? (any examples)
[2013-05-08 01:32:32 -0400] petecheslock: schisamo, KarlHungus  - I"m not sure how or why - but my 8.1 freebsd build of omnibus works on 8.2 but only if devel/libexecinfo port is installed
[2013-05-08 01:32:57 -0400] petecheslock: i'm not sure why - but when that port is installed - omnibus built on 8.1 works on 8.2
[2013-05-08 02:18:04 -0400] gondoi: kallistec: but it's in the context of the test spec, and it's specifically the apt_spec.rb test, so it should be mocking up the Package::Apt
[2013-05-08 02:28:48 -0400] ssd7: Heads up for Hosted Chef folks: http://status.opscode.com/post/49903588652/scheduled-maintenance-time-change
[2013-05-08 13:29:40 -0400] github-bawt: [test-kitchen] calavera opened pull request #102: Allow to override sudo. (1.0...optional_sudo)  http://git.io/xmJ2FQ
[2013-05-08 13:52:01 -0400] jwitrick: fnichol: jtimberman: Question about new test-kitchen. Is there a way I can deploy 2 vagrant boxes for a single test. My usecase is that I need two boxes to be deployed and talk to each other during a run.
[2013-05-08 13:53:09 -0400] jtimberman: jwitrick: test-kitchen is specifically intended for running tests on a single machine.
[2013-05-08 13:53:32 -0400] jwitrick: darn. I was hopeful I could do it to a pair. oh well thanks
[2013-05-08 13:53:37 -0400] jtimberman: jwitrick: if you need multi-machine testing, i recommend taking a look into chef-workflow
[2013-05-08 13:54:09 -0400] jtimberman: github.com/chef-workflow
[2013-05-08 13:54:19 -0400] jwitrick: thanks. I will take a look at that
[2013-05-08 14:54:57 -0400] BryanWB: yo chefs, anybody know of an existing lwrp to defer a group of resources until the end of convergence?
[2013-05-08 14:56:50 -0400] BryanWB: jwitrick: i use test-kitchen for that purpose
[2013-05-08 14:59:13 -0400] jwitrick: BryanWB: you use test-kitchen for testing multi vms that need to talk to each other during run ?
[2013-05-08 14:59:21 -0400] BryanWB: jwitrick: yup
[2013-05-08 14:59:28 -0400] BryanWB: w/ kitchen-lxc
[2013-05-08 15:00:14 -0400] BryanWB: but u have to use a Gemfile right now cuz not all of the changes that it depends on have been pushed to rubygems
[2013-05-08 15:00:26 -0400] BryanWB: tutorial to come in a few days, i promise
[2013-05-08 15:00:27 -0400] jwitrick: k. ill take a look at that thanks
[2013-05-08 15:00:29 -0400] jwitrick: : )
[2013-05-08 15:01:04 -0400] BryanWB: already wrote it, just waiting for spox to get some free time
[2013-05-08 15:01:34 -0400] BryanWB: there are updated docs on kitchen-lxc here https://github.com/portertech/kitchen-lxc
[2013-05-08 15:02:32 -0400] jwitrick: so just looking at that example is goes not appear to do multi vms?
[2013-05-08 15:03:05 -0400] BryanWB: no u can do it
[2013-05-08 15:03:16 -0400] BryanWB: specify ipaddress in ur driver config
[2013-05-08 15:03:24 -0400] jwitrick: perfect. thanks I will give that a shot
[2013-05-08 15:05:22 -0400] BryanWB: jwitrick: really buggy guide here https://speakerdeck.com/bryanwb/lxc-and-test-kitchen-tutorial
[2013-05-08 15:05:27 -0400] BryanWB: less buggy guide coming
[2013-05-08 15:06:27 -0400] jwitrick: BryanWB: Thanks for the help. Im honestly surprised u r back at work already.
[2013-05-08 15:18:18 -0400] github-bawt: [test-kitchen] fnichol pushed 1 new commit to 1.0: http://git.io/ox_JnA
[2013-05-08 15:18:18 -0400] github-bawt: test-kitchen/1.0 c8137c1 Fletcher Nichol: Release 1.0.0.alpha.6, community awesomeness abounds.
[2013-05-08 15:19:22 -0400] github-bawt: [test-kitchen] fnichol pushed 1 new commit to 1.0: http://git.io/ylabCg
[2013-05-08 15:19:22 -0400] github-bawt: test-kitchen/1.0 8ee8d01 Fletcher Nichol: Up version for development.
[2013-05-08 15:21:17 -0400] github-bawt: [kitchen-vagrant] fnichol pushed 2 new commits to master: http://git.io/ptfj6w
[2013-05-08 15:21:17 -0400] github-bawt: kitchen-vagrant/master 9ff4c0e Fletcher Nichol: Refactor VagrantfileCreator to reduce ABC complexity.
[2013-05-08 15:21:17 -0400] github-bawt: kitchen-vagrant/master d8adb83 Fletcher Nichol: Release 0.10.0, insanely awesome edition.
[2013-05-08 15:21:47 -0400] github-bawt: [kitchen-vagrant] fnichol pushed 1 new commit to master: http://git.io/i1NuHg
[2013-05-08 15:21:47 -0400] github-bawt: kitchen-vagrant/master 4742374 Fletcher Nichol: Up version for development.
[2013-05-08 15:29:52 -0400] jtimberman: fnichol: vagrant-berkshelf middleware is now also optional and off by default (can be re-enabled by setting use_vagrant_berkshelf_plugin: true)
[2013-05-08 15:30:21 -0400] jtimberman: fnichol: that's what i meant
[2013-05-08 15:32:53 -0400] fnichol: jtimberman: so yes the kitchen-vagrant driver can operate like all other SSHBase drivers making the vagrant driver a little less different
[2013-05-08 15:33:44 -0400] jtimberman: fnichol: did you get the message i said 3 lines up?
[2013-05-08 15:33:50 -0400] jtimberman: the readme line had me confused
[2013-05-08 15:35:28 -0400] fnichol: ah, should i draft up an email to chef{,-dev} with a bit more backstory?
[2013-05-08 15:36:30 -0400] fnichol: jtimberman: in short, this changes the underlying implementation of kitchen-vagrant a touch, but shouldn't affect the overall behavior
[2013-05-08 15:36:30 -0400] jtimberman: that'd be peachy
[2013-05-08 15:37:08 -0400] jtimberman: mainly i'm concerned about whether i need to update 30 .kitchen.yml :)
[2013-05-08 15:37:19 -0400] jtimberman: which is totally fine if it's needed.
[2013-05-08 15:37:34 -0400] fnichol: jtimberman: oh no, if that's the case then it's totally messed up and a fix would be needed :)
[2013-05-08 15:38:40 -0400] fnichol: jtimberman: my intention was to not change anyone's config or workflow but to simplify the vagrant driver a bit more in the long run
[2013-05-08 15:38:42 -0400] jtimberman: ok :)
[2013-05-08 15:38:45 -0400] jtimberman: <3
[2013-05-08 15:39:03 -0400] jtimberman: have you seen erikh's furnish stuff yet?
[2013-05-08 15:39:18 -0400] fnichol: jtimberman: the side benefit of this is that you don't technically need the vagrant-berkshelf plugin anymore with test kitchen by default
[2013-05-08 15:39:26 -0400] jtimberman: oho.
[2013-05-08 15:40:12 -0400] fnichol: after helping a few more people get set up with everything my eye is towards less steps :)
[2013-05-08 15:40:54 -0400] jtimberman: moar magic
[2013-05-08 15:41:14 -0400] fnichol: good magic or bad magic?
[2013-05-08 15:41:20 -0400] jtimberman: always for awesome.
[2013-05-08 15:41:23 -0400] fnichol: haha
[2013-05-08 15:57:48 -0400] jamesturnbull: fnichol: hey
[2013-05-08 15:58:48 -0400] fnichol: jamesturnbull: hey, how are you? i think we could use a chat :)
[2013-05-08 16:05:28 -0400] wdpro_kevin: ohai chefs question about test-kitchen error I am seeing
[2013-05-08 16:06:15 -0400] wdpro_kevin: here is a gist
[2013-05-08 16:06:16 -0400] wdpro_kevin: https://gist.github.com/crackmac/5541514
[2013-05-08 16:07:14 -0400] wdpro_kevin: basically a "you've ran a newer version of Vagrant on this computer" error
[2013-05-08 16:07:23 -0400] jtimberman: wdpro_kevin: Using vagrant (1.0.7)
[2013-05-08 16:07:30 -0400] jtimberman: You have vagrant 1.1 installed on the same system.
[2013-05-08 16:07:43 -0400] jtimberman: that's what the output is saying, basically.
[2013-05-08 16:07:51 -0400] jtimberman: wdpro_kevin: remove vagrant from your Gemfiel.
[2013-05-08 16:07:54 -0400] jtimberman: s/fiel/file/
[2013-05-08 16:15:46 -0400] wdpro_kevin: got it let me try
[2013-05-08 16:15:58 -0400] wdpro_kevin: thanks
[2013-05-08 16:16:40 -0400] jtimberman: wdpro_kevin: i don't use bundler at all for my test kitchen environment.
[2013-05-08 16:17:04 -0400] jtimberman: and i'm going to have a blog post coming later this week about how i set it up and using it w/ jenkins :)
[2013-05-08 16:17:19 -0400] wdpro_kevin: I'm beginning to wish I didn't use bundler
[2013-05-08 16:17:36 -0400] jtimberman: it's easy to remove!
[2013-05-08 16:17:39 -0400] jtimberman: rm Gemfile
[2013-05-08 16:17:45 -0400] wdpro_kevin: I'll probably start from scratch
[2013-05-08 16:17:46 -0400] jtimberman: install gems globally
[2013-05-08 16:17:47 -0400] jtimberman: :D
[2013-05-08 16:18:01 -0400] fnichol: wdpro_kevin: yeah sorry about the vagrant versions stuff. it's been an agressively dynamic past few weeks :)
[2013-05-08 16:18:41 -0400] fnichol: wdpro_kevin: you should be able to use test-kitchen with bundler or without. if it's not working correctly without then we still have some work to do
[2013-05-08 16:18:52 -0400] wdpro_kevin: hey no worries. You've earned that jacket many times over! :)
[2013-05-08 16:19:50 -0400] wdpro_kevin: lol "rm Gemfile"
[2013-05-08 16:20:01 -0400] fnichol: wdpro_kevin: haha, thanks :)
[2013-05-08 16:28:42 -0400] eliklein: can test-kitchen (1.0.0alpha) run knife cookbook test and foodcritic in addition to spec tests? we've been playing around with it this AM and are wondering if we can just use test-kitchen or if we need to use a wrapper like strainer to pull it all together..
[2013-05-08 16:28:42 -0400] wdpro_kevin: another question how do I do a "gem install" for the 1.0 branch of test-kitchen?
[2013-05-08 16:29:00 -0400] eliklein: wdpro_kevin: we were able to gem install 1.0.0alpha6 this AM
[2013-05-08 16:29:15 -0400] eliklein: by just calling 'gem install test-kitchen'
[2013-05-08 16:29:20 -0400] wdpro_kevin: so just pass the version
[2013-05-08 16:29:27 -0400] wdpro_kevin: ah
[2013-05-08 16:30:23 -0400] fnichol: right, i can't wait to get these prereleases out of the way :) to get the alpha/beta/rc gems you can `gem install test-kitchen --pre`
[2013-05-08 16:31:51 -0400] wdpro_kevin: sweet thank you
[2013-05-08 16:46:27 -0400] eliklein: i suppose i'm just going to use strainer.  let me know if test-kitchen can just do all of this for me! :)
[2013-05-08 16:52:30 -0400] wdpro_kevin: I just realized I have a new machine coming my way and will probably have to redo the setup all over again.
[2013-05-08 17:23:20 -0400] gchristensen: so has testkitchen abandoned librarian / cheffile support?
[2013-05-08 17:28:27 -0400] fnichol: gchristensen: nope! if you have a Cheffile, it'll use Librarian :)
[2013-05-08 17:28:48 -0400] jtimberman: fnichol: it will?
[2013-05-08 17:28:51 -0400] jtimberman: what sorcery is this
[2013-05-08 17:29:35 -0400] gchristensen: cool :) I was hopingI didn't get further down this rabbit hole and have to migrate to berkshelf at the same time.
[2013-05-08 17:29:43 -0400] fnichol: gchristensen, jtimberman: it already does :) https://github.com/opscode/test-kitchen/blob/1.0/lib/kitchen/chef_data_uploader.rb#L123-L138
[2013-05-08 17:30:06 -0400] fnichol: gchristensen: naw, it's all about having control and choice, right?
[2013-05-08 17:30:38 -0400] jtimberman: fnichol: once again, <3
[2013-05-08 17:30:50 -0400] gchristensen: some projects don't seem to agree with the sentiment, but I believe so yes
[2013-05-08 17:30:54 -0400] fnichol: only refactoring i'd like to make is to drive berkshelf and librarian via ruby vs. the shell outs. i should be able to make them still weak dependencies so the gem doesn't get heavier
[2013-05-08 17:31:45 -0400] fnichol: also, if you don't have a ./Berksfile or ./Cheffile, but a cookbooks/ directory instead, test kitchen will just use that
[2013-05-08 17:32:12 -0400] gchristensen: nice
[2013-05-08 17:32:29 -0400] fnichol: and now with that last .alpha.6 release if you have no metadata.rb depends, and no ./Bersfile, ./Cheffile, or ./cookbooks/, it'll still work :)
[2013-05-08 17:32:31 -0400] teukka: fnichol: will the next version also write the cookbook based on the tests? :D
[2013-05-08 17:32:46 -0400] fnichol: teukka: we're getting there aren't we?
[2013-05-08 17:35:09 -0400] jtimberman: fnichol: an cookbooks, as in ./cookbooks, or ./test/cookbooks?
[2013-05-08 17:36:17 -0400] fnichol: jtimberman: sorry, I meant a ./cookbooks/ directory. that means that if you had a .kitchen.yml in the root of, say a chef-repo, you'll most likely get what you want
[2013-05-08 17:40:43 -0400] gchristensen: fnichol: I very much like that the alpha (appears) to support vagrant + vmware
[2013-05-08 17:41:36 -0400] fnichol: gchristensen: you bet, that's been a nice first step into the vagrant providers and i suspect the most useful one to date
[2013-05-08 17:44:31 -0400] jtimberman: fnichol: ah, nice.
[2013-05-08 17:44:46 -0400] jtimberman: fnichol: have you looked at the fission gem by tbishop?
[2013-05-08 17:47:45 -0400] teukka: fnichol: I didn't know that fusion wasn't supported but have been using it just fine =)
[2013-05-08 17:47:49 -0400] jmartin1: fnichol: any chance for citrix/xen support ?
[2013-05-08 17:47:50 -0400] cwj: speaking of fission, is bento expected to work for building vmware fusion baseboxes?
[2013-05-08 17:47:55 -0400] teukka: by setting VAGRANT_DEFAULT_PROVIDER
[2013-05-08 17:50:01 -0400] gchristensen: what version of berkshelf are you all using for alpha.6? I'm getting a conflict on thor being ~0.15.2 for berkshelf, and 0.18.1 on test-kitchen
[2013-05-08 18:02:50 -0400] gchristensen: any insight here? I'm getting an exception ActionFailed saying #converge can't convert nil into String: https://gist.github.com/grahamc/40b45f96142240e5e949/raw/59efb73803996071a3c49611a0942a12a8acb3a4/gistfile1.txt
[2013-05-08 18:04:48 -0400] github-bawt: [kitchen-vagrant] tmatilai opened pull request #20: Respect VAGRANT_DEFAULT_PROVIDER environment variable (master...default-provider)  http://git.io/3Viu3g
[2013-05-08 18:08:49 -0400] teukka: gchristensen: berkshelf >= 1.4 have ~> 0.18.0
[2013-05-08 18:09:32 -0400] gchristensen: teukka: I managed to fix that... it was just an idiocy on my part. I've been chasing rabbit holes all day and am starting to lose focus
[2013-05-08 18:12:53 -0400] wdpro_kevin: ack Now I'm getting this message from test-kitchen
[2013-05-08 18:13:01 -0400] wdpro_kevin: Please upgrade to version 1.1.0 or higher
[2013-05-08 18:13:49 -0400] wdpro_kevin: what version of kitchen-vagrant do we need to use?
[2013-05-08 18:21:31 -0400] github-bawt: [kitchen-vagrant] tmatilai opened pull request #21: Configure tailor to actually check the code style (master...tailor-config)  http://git.io/gJ_Q8w
[2013-05-08 18:22:59 -0400] github-bawt: [omnibus-chef] lamont-granquist pushed 1 new commit to lcg/unbundle-tests: http://git.io/IXw80A
[2013-05-08 18:22:59 -0400] github-bawt: omnibus-chef/lcg/unbundle-tests 8c2453b Lamont Granquist: adding path override to bundle install
[2013-05-08 18:29:28 -0400] fnichol: so what's the skinny on include_attribute? is that still chef-11 friendly? is it availble within an attributes file itself?
[2013-05-08 18:30:20 -0400] fnichol: ah found it, docs site i love you so http://docs.opscode.com/essentials_cookbook_attribute_files.html
[2013-05-08 18:42:46 -0400] atomic-penguin: BryanWB, did you play around with "arkose" when you were researching LXC for hackday?
[2013-05-08 18:44:34 -0400] atomic-penguin: BryanWB, https://www.stgraber.org/category/arkose/
[2013-05-08 19:22:32 -0400] github-bawt: [omnibus-chef] lamont-granquist pushed 1 new commit to lcg/unbundle-tests: http://git.io/UD7upA
[2013-05-08 19:22:32 -0400] github-bawt: omnibus-chef/lcg/unbundle-tests aea800e Lamont Granquist: syntax is a thing
[2013-05-08 19:22:59 -0400] wdpro_kevin: I'm seeing this error when running "kitchen-test"
[2013-05-08 19:23:24 -0400] wdpro_kevin: "Detected an old version of Vagrant (1.0.7). Please upgrade to version 1.1.0"
[2013-05-08 19:24:02 -0400] wdpro_kevin: I don't think we can use 1.1.0 right?
[2013-05-08 19:24:52 -0400] wdpro_kevin: "kitchen init" installed kitchen-vagrant-0.10.0 which I'm guessing is the problem
[2013-05-08 19:29:46 -0400] rayrod2030: what are everybody's bootstrap runs taking with test kitchen on physical diks host?  10 minutes?
[2013-05-08 19:30:18 -0400] rayrod2030: chef install step alone is taking about 4 minutes for me.
[2013-05-08 19:41:45 -0400] miketheman: rayrod2030: my tk runs take about 3 minutes each
[2013-05-08 19:41:58 -0400] rayrod2030: physical disk or ssd?
[2013-05-08 19:45:04 -0400] miketheman: ssd
[2013-05-08 19:45:10 -0400] miketheman: which is a physical disk.
[2013-05-08 19:45:11 -0400] miketheman: :)
[2013-05-08 19:45:21 -0400] rayrod2030: yeah I meant spinning disk :)
[2013-05-08 19:54:53 -0400] github-bawt: [omnibus-chef] lamont-granquist pushed 1 new commit to lcg/unbundle-tests: http://git.io/RjwTNw
[2013-05-08 19:54:53 -0400] github-bawt: omnibus-chef/lcg/unbundle-tests 75bc467 Lamont Granquist: try the internal devkit
[2013-05-08 20:22:49 -0400] gchristensen: fnichol: do you have any insight into this? https://github.com/fnichol/chef-rvm/issues/193 I seem to be experiencing this. I'm including the default recipe only and executing rvm_ruby "2.0.0-p0"
[2013-05-08 22:32:39 -0400] jfoy: hey all, we've just run into a problem on our chef-client runs where an LDAP name containing non-US-ASCII characters caused all nodes to fail to save
[2013-05-08 22:32:53 -0400] jfoy: Encoding::InvalidByteSequenceError: "\xC3" on US-ASCII
[2013-05-08 22:33:47 -0400] jfoy: I suspect we could fix it by amending for_json in node.rb to force encoding to UTF-8 -- any reason not to do so?
[2013-05-08 23:05:36 -0400] github-bawt: [omnibus-chef] lamont-granquist created lamont-jenkins (+1 new commit): http://git.io/PMi0bw
[2013-05-08 23:05:36 -0400] github-bawt: omnibus-chef/lamont-jenkins c562644 Lamont Granquist: DO NOT MERGE TO MASTER: this sets up tracking of my mirror...
