[2013-05-10 02:27:01 -0400] github-bawt: [test-kitchen] fnichol pushed 2 new commits to 1.0: http://git.io/Xz1RHQ
[2013-05-10 02:27:01 -0400] github-bawt: test-kitchen/1.0 be71f19 Graham Christensen: Expand documentation around run-time switches....
[2013-05-10 02:27:01 -0400] github-bawt: test-kitchen/1.0 6203325 Fletcher Nichol: Merge pull request #105 from grahamc/patch-1...
[2013-05-10 02:27:44 -0400] github-bawt: [test-kitchen] fnichol pushed 2 new commits to master: http://git.io/hlsXRA
[2013-05-10 02:27:44 -0400] github-bawt: test-kitchen/master d97aa32 David Calavera: Fix minitest test examples link.
[2013-05-10 02:27:44 -0400] github-bawt: test-kitchen/master a9596ec Fletcher Nichol: Merge pull request #91 from calavera/fix_minitest_example_link...
[2013-05-10 02:37:23 -0400] fnichol: jtimberman: you mean the frantic output all over the place? i haven't circled back to the chef 11 output yet, it was a surprise to me the first time one ran :)
[2013-05-10 02:38:00 -0400] fnichol: gchristensen: no, this is great! once i get the docs up and going (so past due) we can extract this to there. in the meantime everyone benefits, thank you!
[2013-05-10 02:44:32 -0400] gchristensen: sure thing :) I was planning on doing a blog post, but figured that'd be marginally helpful.
[2013-05-10 02:45:06 -0400] gchristensen: I noticed a bug that I didn't end up making a test case or issue for - if berks fails to install dependant cookbooks, TK exits with something less than helpful.
[2013-05-10 02:48:33 -0400] github-bawt: [test-kitchen] fnichol pushed 4 new commits to 1.0: http://git.io/6OoFhg
[2013-05-10 02:48:33 -0400] github-bawt: test-kitchen/1.0 33fba3d Thom May: tests for a global config file
[2013-05-10 02:48:33 -0400] github-bawt: test-kitchen/1.0 d226875 Thom May: load global config and merge it
[2013-05-10 02:48:33 -0400] github-bawt: test-kitchen/1.0 5070ae1 Thom May: clean up tailor errors
[2013-05-10 03:03:37 -0400] jtimberman: fnichol: yeah the crazy output. i mean its not a big deal to me as im gpnna stick jobs in jenkins
[2013-05-10 03:18:03 -0400] github-bawt: [test-kitchen] fnichol pushed 1 new commit to 1.0: http://git.io/85UV5A
[2013-05-10 03:18:03 -0400] github-bawt: test-kitchen/1.0 cb060cf Fletcher Nichol: Merge pull request #99 from opscode/ssd/fix-parallel-destroy...
[2013-05-10 03:18:33 -0400] github-bawt: [test-kitchen] fnichol deleted ssd/fix-parallel-destroy at 43aa983: http://git.io/b43sHg
[2013-05-10 03:25:07 -0400] github-bawt: [test-kitchen] fnichol pushed 2 new commits to 1.0: http://git.io/ItVeHg
[2013-05-10 03:25:08 -0400] github-bawt: test-kitchen/1.0 de003df David Calavera: Allow to override sudo.
[2013-05-10 03:25:08 -0400] github-bawt: test-kitchen/1.0 48f7969 Fletcher Nichol: Merge pull request #102 from calavera/optional_sudo...
[2013-05-10 03:44:03 -0400] github-bawt: [test-kitchen] fnichol pushed 2 new commits to 1.0: http://git.io/sBsG5Q
[2013-05-10 03:44:03 -0400] github-bawt: test-kitchen/1.0 78dde16 David Calavera: Set the default ssh port.
[2013-05-10 03:44:03 -0400] github-bawt: test-kitchen/1.0 6fb253a Fletcher Nichol: Merge branch 'fix_sshd_waiting_port' of https://github.com/calavera/test-kitchen into calavera-fix_sshd_waiting_port...
[2013-05-10 03:55:37 -0400] ssd7: jtimberman: Speaking of putting it all in Jenkins, feels like that would be greatly improved if we could output into a format that jenkins can understand by default
[2013-05-10 10:02:34 -0400] github-bawt: [test-kitchen] thommay opened pull request #106: first cut at pulling test results out of the vm (1.0...download-output)  http://git.io/D7sc7g
[2013-05-10 10:02:59 -0400] thom: ssd7: so, shorterm - minitest can create junit compat xml; https://github.com/opscode/test-kitchen/pull/106 lets you get that from the vm. it's not brilliant but it's a start
[2013-05-10 13:00:05 -0400] BryanWB: is it just me or does chefspec not run the delayed notifications?
[2013-05-10 15:40:20 -0400] gondoi: anyone know how I can override the size of the instance that is spun up for a test in test-kitchen 1.0?
[2013-05-10 15:40:32 -0400] gondoi: I want to use a 512 instead of a 256
[2013-05-10 15:44:24 -0400] gondoi: nvm found it :D
[2013-05-10 16:06:47 -0400] jamesturnbull: thom: isn't the platform available as a variable somewhere? Can't you copy using that to name
[2013-05-10 16:06:49 -0400] jamesturnbull: ?
[2013-05-10 16:09:13 -0400] thom: jamesturnbull: yeah, that was what i was leaning towards, but i'm not thrilled about the hard coding.
[2013-05-10 16:10:04 -0400] thom: i only have a single platform configured on my CI machine right now, so i've not been motivated to do it yet :)
[2013-05-10 16:10:13 -0400] jamesturnbull: thom: yeah the sysadmin in me says "okay" - the developer in me says "ugly ugly ugly bad james"
[2013-05-10 16:10:38 -0400] thom: heh yeah :)
[2013-05-10 16:11:03 -0400] thom: i'm increasingly comfortable with using pull reqs as discussion vehicles
[2013-05-10 16:12:26 -0400] jamesturnbull: me too
[2013-05-10 16:14:33 -0400] thom: i think that the whole config side of test-kitchen probably needs to change a bit, but i'm utterly lacking in bright ideas as to how, right now
[2013-05-10 16:21:55 -0400] jamesturnbull: thom: yeah I am working to abstract away the chef specific bits to a more pluggable model and config is an element of that
[2013-05-10 16:29:36 -0400] thom: jamesturnbull: hah, yeah i bet.
[2013-05-10 16:33:47 -0400] jamesturnbull: thom: really CM tools should be just like drivers
[2013-05-10 16:33:55 -0400] jamesturnbull: thom: and loaded as needed
[2013-05-10 16:38:23 -0400] jamesturnbull: thom: https://github.com/opscode/test-kitchen/issues/107
[2013-05-10 17:02:28 -0400] spox: ohai opscode chefers
[2013-05-10 17:03:05 -0400] spox: it currently looks like the omnitruck client is not returning a valid url for chef-server package downloads
[2013-05-10 17:06:49 -0400] jwitrick: fnichol: I am having an issue with test-kitchen and minitest. Can you take a look at this gist: https://gist.github.com/jwitrick/5555802
[2013-05-10 18:15:06 -0400] github-bawt: [omnibus-chef] schisamo created CHEF-4177 (+1 new commit): http://git.io/8CJCVA
[2013-05-10 18:15:06 -0400] github-bawt: omnibus-chef/CHEF-4177 60f018c Seth Chisamore: [CHEF-4177] WIP TESTING DO NOT MERGE
[2013-05-10 18:16:29 -0400] teukka: haha, let's see if someone can resist that commit message :D
[2013-05-10 18:17:54 -0400] petecheslock: schisamo - doing final testing on 8.3 32/64bit and 9.1 32/64 bit omnibus builds and will issue my PR - The boxes included in the vagrant file have chef on them -but i have chef less boxes built that could be used with vagrant-omnibus (tested and mostlyworking) but that would need those boxes in the build pipeline.
[2013-05-10 18:18:38 -0400] petecheslock: if this all works i think the next step is to give you guys the boxes and current builds I have and they should import pretty easily into your build stuff
[2013-05-10 18:19:31 -0400] fnichol: jwitrick: what version of test-kitchen are you currently using? i.e. a gem release (which) or from git (ref)? agreed, that looks odd :)
[2013-05-10 18:19:48 -0400] jwitrick: fnichol: test-kitchen (1.0.0.alpha.6)
[2013-05-10 18:20:09 -0400] jwitrick: i installed it by 'pre'
[2013-05-10 18:20:33 -0400] fnichol: jamesturnbull: i've been looking over the test kitchen chef-isms this morning. looking forward to our real time chat today
[2013-05-10 18:21:50 -0400] jwitrick: fnichol: for some reason it looks like it might be trying to execute the cmds as the vagrant user.
[2013-05-10 18:22:11 -0400] fnichol: jwitrick: think you could re-run a fresh converge with `kitchen converge <your-instance> --log-level debug and drop a gist? feels like a sudo/no-sudo issue
[2013-05-10 18:22:40 -0400] fnichol: jwitrick: yeah, that's what i'm thinking, just wanted to verify that and when chef_gem was getting called in the chef run
[2013-05-10 18:22:51 -0400] jwitrick: np. im running now...
[2013-05-10 18:23:52 -0400] jwitrick: fnichol: https://gist.github.com/jwitrick/5556363
[2013-05-10 18:25:45 -0400] fnichol: jwitrick: alright, does look like sudo is not being passed into the chef-solo run: https://gist.github.com/jwitrick/5556363#file-gistfile1-txt-L110
[2013-05-10 18:25:56 -0400] fnichol: jwitrick: looking back at your .kitchen.yml setup now
[2013-05-10 18:28:04 -0400] fnichol: jwitrick: you don't have a .kitchen.local.yml by chance?
[2013-05-10 18:33:33 -0400] fnichol: jwitrick: hm, if you were running off the 1.0 branch then there might be a config inheritance issue with a sudo default (just pulled in last night) https://github.com/opscode/test-kitchen/pull/102
[2013-05-10 18:34:41 -0400] fnichol: jwitrick: we could verify that by adding `sudo: true` into your `driver_config` hash
[2013-05-10 18:47:41 -0400] jwitrick: sure. where do u want me to put that ?
[2013-05-10 18:49:08 -0400] jwitrick: fnichol: that looks like it worked.
[2013-05-10 18:49:34 -0400] jwitrick: adding the sudo: true to the .kitchen.yml file make it work. thanks for your help
[2013-05-10 18:56:16 -0400] petecheslock: schisamo - woot!  https://github.com/opscode/omnibus-chef/pull/72
[2013-05-10 19:01:44 -0400] github-bawt: [chef] danielsdeleo pushed 1 new commit to master: http://git.io/LN89WQ
[2013-05-10 19:01:44 -0400] github-bawt: chef/master cba4ccc Teemu Matilainen: [CHEF-4106] Remove obsolete default configuration...
[2013-05-10 19:13:56 -0400] schisamo: petecheslock: nice!
[2013-05-10 19:20:24 -0400] github-bawt: [omnibus-chef] schisamo pushed 1 new commit to master: http://git.io/EQg13A
[2013-05-10 19:20:24 -0400] github-bawt: omnibus-chef/master 60ff2e3 Seth Chisamore: [CHEF-4177] update to omnibus-software d4459f69f6
[2013-05-10 19:25:55 -0400] github-bawt: [test-kitchen] fnichol pushed 1 new commit to 1.0: http://git.io/pww_eg
[2013-05-10 19:25:55 -0400] github-bawt: test-kitchen/1.0 1dc4a66 Fletcher Nichol: Propagate default_config from base driver classes into subclasses....
[2013-05-10 19:27:01 -0400] schisamo: petecheslock: testing your stuff now. will merge shortly
[2013-05-10 19:28:06 -0400] fnichol: jwitrick: ok in the 1.0 branch i have a fix for this--the default_config for :sudo was being inherited from the base driver class (which defaulted to no sudo on chef run)
[2013-05-10 19:28:08 -0400] petecheslock: schisamo - awesome!
[2013-05-10 19:28:18 -0400] fnichol: jwitrick: this should fix it up https://github.com/opscode/test-kitchen/commit/1dc4a6681e288828d9c17ed2eb245a0eaf5d7aa3
[2013-05-10 19:28:57 -0400] jwitrick: fnichol: Thanks for getting back to me, and for the quick fix.
[2013-05-10 19:29:12 -0400] jwitrick: ill take a look at pulling down the fresh code tonight
[2013-05-10 19:30:52 -0400] fnichol: jwitrick: no problem! and just to be clear: you shouldn't have to set `sudo: true` explicitly with this fix...unless you really really want to
[2013-05-10 19:31:42 -0400] jwitrick: sounds good.
[2013-05-10 19:37:45 -0400] github-bawt: [test-kitchen] jtimberman created legacy-0.7 from master (+0 new commits): http://git.io/HRejiQ
[2013-05-10 19:41:59 -0400] github-bawt: [test-kitchen] jtimberman force-pushed master from a9596ec to 1dc4a66: http://git.io/L3PuEQ
[2013-05-10 19:43:26 -0400] gchristensen: jtimberman: 1.0 looks like it just got real :)
[2013-05-10 19:51:47 -0400] github-bawt: [chef] danielsdeleo created CHEF-4176 (+2 new commits): http://git.io/gYCSMg
[2013-05-10 19:51:47 -0400] github-bawt: chef/CHEF-4176 f6b8642 danielsdeleo: [CHEF-4176] remove unneeded aliases for chef_server_url
[2013-05-10 19:51:47 -0400] github-bawt: chef/CHEF-4176 bc76019 danielsdeleo: [CHEF-4176] default to https port 443 for chef_server_url
[2013-05-10 20:01:10 -0400] gchristensen: fnichol: it seems --destroy=never is causingy my machines to be destroyed on the next run. thoughts? I'm running on the 1.0 branch, cloned a few hours ago.
[2013-05-10 20:04:21 -0400] github-bawt: [test-kitchen] sethvargo created sink (+1 new commit): http://git.io/JcUOTg
[2013-05-10 20:04:21 -0400] github-bawt: test-kitchen/sink 05eb2d2 Seth Vargo: Add the sink
[2013-05-10 20:04:31 -0400] github-bawt: [test-kitchen] sethvargo opened pull request #111: Add the sink (master...sink)  http://git.io/UUxkcQ
[2013-05-10 20:06:12 -0400] github-bawt: [test-kitchen] sethvargo pushed 1 new commit to sink: http://git.io/0i7DTA
[2013-05-10 20:06:12 -0400] github-bawt: test-kitchen/sink 260ff11 Seth Vargo: Fix alignment
[2013-05-10 20:29:31 -0400] github-bawt: [test-kitchen] sethvargo pushed 1 new commit to sink: http://git.io/M_ZN9A
[2013-05-10 20:29:31 -0400] github-bawt: test-kitchen/sink 7db4012 Seth Vargo: Add features
[2013-05-10 20:37:27 -0400] github-bawt: [omnibus-chef] schisamo pushed 3 new commits to master: http://git.io/E7Yc3A
[2013-05-10 20:37:27 -0400] github-bawt: omnibus-chef/master 98bba95 Pete Cheslock: CHEF-4183 - Include 8.3 & 9.1 32/64 bit build baseboxes
[2013-05-10 20:37:27 -0400] github-bawt: omnibus-chef/master e911e18 Seth Chisamore: [CHEF-4183] update README with FreeBSD versions
[2013-05-10 20:37:27 -0400] github-bawt: omnibus-chef/master b82049d Seth Chisamore: Merge branch 'CHEF-4183'
[2013-05-10 20:37:33 -0400] schisamo: ^^ petecheslock
[2013-05-10 20:37:46 -0400] petecheslock: Awwwww Yea!!!!
[2013-05-10 20:39:53 -0400] github-bawt: [omnibus-chef] schisamo pushed 1 new commit to master: http://git.io/9gpCxQ
[2013-05-10 20:39:53 -0400] github-bawt: omnibus-chef/master 98a0e16 Seth Chisamore: Add Ubuntu 13.04 to the Linux build lab
[2013-05-10 20:40:03 -0400] petecheslock: Now I just need to coordinate with btm on the next steps to get this into omnitruck - i think everything is ready to go
[2013-05-10 20:40:29 -0400] schisamo: petecheslock: heads up I am out all of next week on vacation...but can help with that effort the following week.
[2013-05-10 20:41:26 -0400] petecheslock: cool - we've got chef training next week (mandi is coming out) so i won't make much progress - so it works out actually
[2013-05-10 21:02:32 -0400] jtimberman: gchristensen: yeah
[2013-05-10 21:08:00 -0400] spox: jtimberman: howdy
[2013-05-10 21:08:16 -0400] spox: is the omnitruck client for server downloads known to be hosed currently?
[2013-05-10 21:10:20 -0400] jtimberman: spox: i don't know
[2013-05-10 21:10:23 -0400] jtimberman: schisamo: ^^
[2013-05-10 21:10:45 -0400] jtimberman: oh he's gone for the day
[2013-05-10 21:10:47 -0400] schisamo: spox jtimberman no known issues. I have to run now.
[2013-05-10 21:10:58 -0400] spox: it's been failing most of the day
[2013-05-10 21:11:01 -0400] spox: schisamo: 
[2013-05-10 21:11:44 -0400] schisamo: Web ui is working http://www.opscode.com/chef/install/
[2013-05-10 21:11:58 -0400] spox: right, and client package pull is fine
[2013-05-10 21:12:03 -0400] spox: but server package returns errors
[2013-05-10 21:12:10 -0400] schisamo: I tried the server tab
[2013-05-10 21:12:37 -0400] spox: chef-server cookbook has been failing for me consistently
[2013-05-10 21:12:46 -0400] spox: i'll roll another through and see
[2013-05-10 21:12:55 -0400] schisamo: what platform? and platform version?
[2013-05-10 21:13:03 -0400] spox: ubuntu 12.04
[2013-05-10 21:13:06 -0400] spox: latest for server
[2013-05-10 21:14:12 -0400] schisamo: spox: let me try quickly
[2013-05-10 21:14:13 -0400] spox: FATAL: RuntimeError: Could not locate chef-server package matching version 'latest' for node.
[2013-05-10 21:14:47 -0400] spox: GET requests to the url i thought worked okay
[2013-05-10 21:14:53 -0400] spox: directly hitting it gave me 500s
[2013-05-10 21:22:23 -0400] kallistec: spox: what is the URL you're trying to GET?
[2013-05-10 21:22:37 -0400] spox: kallistec: sec
[2013-05-10 21:22:45 -0400] spox: kallistec: http://www.opscode.com/chef/download-server?p=ubuntu&pv=12.04&m=x86_64&v=latest&prerelease=false&nightlies=false
[2013-05-10 21:27:07 -0400] kallistec: hrm
[2013-05-10 21:29:36 -0400] schisamo: spox I've got to run. kallistec is looking into it.
[2013-05-10 21:29:52 -0400] spox: cool. thanks :)
[2013-05-10 22:39:26 -0400] kallistec: spox: should be G2G now. and I'm off to fix a handful of bugs
