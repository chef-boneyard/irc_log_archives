[2014-07-11 00:26:09 -0400] jalberts: can anyone tell me how I can specify the branch or ref I want to use for a git source for omnibus-ruby?
[2014-07-11 00:26:36 -0400] jalberts: looking at the code, i'm not seeing a way to set it.  maybe i'm looking in the wrong spot
[2014-07-11 00:29:29 -0400] fujin: source(git: 'foo', branch: 'baz') ?
[2014-07-11 00:29:33 -0400] fujin: let me double check
[2014-07-11 00:30:07 -0400] fujin: naw
[2014-07-11 00:30:10 -0400] jalberts: fujin: nope
[2014-07-11 00:30:11 -0400] fujin: it uses the default_version as the branch
[2014-07-11 00:30:36 -0400] fujin: I have environment variables ina ll of my project files (all of the build environments inject env vars into the shell processes that spawn omnibus)
[2014-07-11 00:30:42 -0400] fujin: default_version ENV['FOOBAR_BRANCH']
[2014-07-11 00:31:02 -0400] fujin: that way you can pump them in with Docker or whatever, pretty e.z
[2014-07-11 00:31:29 -0400] jalberts: ty
[2014-07-11 00:32:06 -0400] jalberts: yep. that does exactly what I expected.  thanks again
[2014-07-11 00:32:12 -0400] fujin: word
[2014-07-11 01:22:25 -0400] Majost_: Does anyone know where I can find some examples of using Ohai for miscellaneous ruby projects -- specifically, I want to be able to use it for parsing network interface information
[2014-07-11 01:23:05 -0400] Majost_: The end goal is to make a cluster capable chef-zero provisioner for TK
[2014-07-11 01:26:14 -0400] lamont_oc: isnt that what kitchen-metal does?
[2014-07-11 01:59:34 -0400] fujin: haroooooo nettoo spritto
[2014-07-11 01:59:53 -0400] fujin: !ping
[2014-07-11 10:22:11 -0400] daxroc_: Hi Chefs, is it good practice to introduce both the metadata.rb and metadata.json when downloading cookbooks via the supermarket, I see these as conflicting files where we should have one or the other not both? Any comments ?
[2014-07-11 10:26:06 -0400] daxroc_: I'm just assuming that the metadata.json gets introduced in the download form supermarket storage, am I correct in thinking this is a chef-server / bookshelf ?
[2014-07-11 13:31:02 -0400] spheromak: well the thing is daxroc_ that the .rb is only used by knife.
[2014-07-11 13:31:17 -0400] spheromak: in that the chef-server only really understands the .json
[2014-07-11 13:31:24 -0400] spheromak: as the parsed form of the .rb
[2014-07-11 13:32:54 -0400] spheromak: and if you want to write tooling ouutside of knife to muck with cooks the .json is the easier to deal with. So iirc there was issues with geting berks,kitchen,zero to all handle cooks consistently. I think this might be moving things in the right direction.
[2014-07-11 13:33:01 -0400] spheromak: knife will regen   the .json on upload
[2014-07-11 13:37:39 -0400] spheromak: well it will post to server. It used to drop the json in the cook, but i think that got removed a while ago.. theres a discussion round it here https://github.com/opscode/chef-zero/pull/39  and one on berks and one on kitchen iirc :)
[2014-07-11 14:39:06 -0400] daxroc_: spheromak: Yeah, Looks like berks only gives you the .json if you use their api to package, And that does make sense to only give the json for the community cookbooks. But it can use both the rb and json
[2014-07-11 14:39:40 -0400] daxroc_: It does complain if they are out of sync.
[2014-07-11 14:49:09 -0400] spheromak: yea
[2014-07-11 15:09:53 -0400] daxroc_: My take would be that the supermarket only deliver the .json too as this is consistent and it sort of makes it more difficult to edit community cookbooks directly ?
[2014-07-11 15:13:24 -0400] spheromak: daxroc_: probably, dunno  my stance is theres no reason to have metadata.rb
[2014-07-11 15:13:38 -0400] spheromak: we don't compute the metadata usually
[2014-07-11 15:14:31 -0400] spheromak: and doing that would make it easier to write tools around cooks.
[2014-07-11 15:53:44 -0400] github-bawt: [ohai] mcquin force-pushed mcquin/rspec-3 from e82d780 to 7ab4695: http://git.io/-sobWw
[2014-07-11 15:53:45 -0400] github-bawt: ohai/mcquin/rspec-3 da9cccb Claire McQuin: Pin to rspec 3.0
[2014-07-11 15:53:46 -0400] github-bawt: ohai/mcquin/rspec-3 9bd8a0c Claire McQuin: Use RSpec 3 compatible JUnit formatter.
[2014-07-11 15:53:46 -0400] github-bawt: ohai/mcquin/rspec-3 7ab4695 Claire McQuin: Add rspec-collection_matchers
[2014-07-11 15:55:56 -0400] holoway: hi c_t
[2014-07-11 15:56:14 -0400] c_t: holla holoway
[2014-07-11 15:56:24 -0400] jtimberman: ahoy!
[2014-07-11 15:56:42 -0400] holoway: I haz coffee and just ate an apple, so I'm ready to type for an hour :)
[2014-07-11 15:57:16 -0400] c_t: BAM BAM BAM BAMBAMBAM
[2014-07-11 15:57:17 -0400] c_t: BAM BAM BAM BAMBAMBAM
[2014-07-11 15:57:21 -0400] c_t: BAM BAM BAM BAMBAMBAM
[2014-07-11 15:57:26 -0400] c_t: BAAAAAM BAAAAAAAAM
[2014-07-11 15:57:27 -0400] holoway: NEEERRRREEERREEEEE
[2014-07-11 15:57:34 -0400] spheromak: this house hold music ?
[2014-07-11 15:57:34 -0400] c_t: BAAAAAAAAAAAAAAAAAAAAAAAAAM
[2014-07-11 15:57:53 -0400] c_t: turns out the end of Prince Igor renders well in IRC
[2014-07-11 15:58:27 -0400] spheromak: c_t: i find myself constantly having to wikipedia your refrences
[2014-07-11 15:59:14 -0400] btm: ssd7: sure, by having all the developers come here and stop pushing :)
[2014-07-11 15:59:34 -0400] j^2: hey all
[2014-07-11 15:59:34 -0400] kallistec:  /play vuvuzela
[2014-07-11 15:59:43 -0400] holoway: ssd7: perhaps we could devoice it?
[2014-07-11 15:59:48 -0400] someara: greetings
[2014-07-11 16:00:02 -0400] someara: voice is only a thing if the channel is +m iirc
[2014-07-11 16:00:14 -0400] someara: which means we'd have to +v everyone then -v the bot
[2014-07-11 16:00:34 -0400] j^2: oh irc making life difficult
[2014-07-11 16:00:37 -0400] holoway: not worth it - I think the btm approach is better
[2014-07-11 16:00:40 -0400] holoway: :)
[2014-07-11 16:00:50 -0400] ssd7: I like the btm method as well
[2014-07-11 16:00:55 -0400] holoway: we're going to start in 2 minutes
[2014-07-11 16:00:59 -0400] mivok: there was a way to mut just one person... +q I think. Or you can ban but not kick the bot.
[2014-07-11 16:01:03 -0400] coderanger: You can +q it
[2014-07-11 16:01:10 -0400] btm: I've requested in Hipchat that no Chef Software people push.
[2014-07-11 16:01:32 -0400] shlant: am I supposed to be hear sick beats right now
[2014-07-11 16:01:39 -0400] c_t: shlant: no
[2014-07-11 16:01:48 -0400] coderanger: Run /mode #chef-hacking +q github-bawt!*@*
[2014-07-11 16:01:49 -0400] shlant: ok I was confused, thanks
[2014-07-11 16:01:52 -0400] c_t: you're supposed to hear the Muzak version of "Light My Fire"
[2014-07-11 16:02:10 -0400] holoway: coderanger: nice!
[2014-07-11 16:02:11 -0400] lnxchk: O.o
[2014-07-11 16:02:28 -0400] kierrr: http://www.youtube.com/watch?v=6g4dkBF5anU just open that in another tab, you'll be fine
[2014-07-11 16:02:57 -0400] holoway: For those who want to see the agenda in advance, it is here: https://docs.google.com/a/opscode.com/document/d/1j9Cdzfrrbx_1rXT48GN8u_iJkeXeFHqAUuKv8-0DXuU/edit
[2014-07-11 16:03:16 -0400] holoway: ok - 9:03, if you're late, you're late
[2014-07-11 16:03:27 -0400] holoway: ## meeting begins ##
[2014-07-11 16:03:43 -0400] holoway: Hi all - welcome to the first chef dev meeting
[2014-07-11 16:03:59 -0400] holoway: thanks for taking the time out of your day to make it
[2014-07-11 16:04:12 -0400] burtlo: (golfclap)
[2014-07-11 16:04:37 -0400] holoway: the over-arching reason for the meeting is to kick of the process of getting more explicit about how the project is governed and managed
[2014-07-11 16:04:45 -0400] holoway: so that's the bulk of the agenda
[2014-07-11 16:05:17 -0400] holoway: before we get there, sersut (the engingeering leader at Chef Software for the Chef Client) is going to drop a few words about whats upcoming in the next release
[2014-07-11 16:05:32 -0400] holoway: nathenharvey is going to talk about supermarket (thanks for the post-mortems, cwebber)
[2014-07-11 16:05:42 -0400] holoway: and then we'll go straight to talking about the plan for how we get more explicit
[2014-07-11 16:06:03 -0400] holoway: if anyone has questions about how this meeting will be run, you can reference https://github.com/opscode/chef-rfc/blob/master/irc-meetings.md
[2014-07-11 16:06:14 -0400] holoway: any questions before we head to sersut?
[2014-07-11 16:06:27 -0400] holoway: once
[2014-07-11 16:06:28 -0400] holoway: twice
[2014-07-11 16:06:36 -0400] holoway: okay, you have the floor, sersut
[2014-07-11 16:06:51 -0400] sersut: Ohai Chefs Serdar here from Chef Client Team @ Chef
[2014-07-11 16:07:12 -0400] sersut: Some things that we've been working on in the last two weeks:
[2014-07-11 16:07:23 -0400] sersut: 1-) Chef Client 11.14.0 Release Candidates are out for all platforms...
[2014-07-11 16:07:34 -0400] sersut: Give it a shot if you have not already :)
[2014-07-11 16:07:46 -0400] sersut: We are planning to ship 11.14.0 for real some time next week
[2014-07-11 16:08:09 -0400] sersut: 2-) Chef Development Kit 0.2.0 which includes Windows packages is released as of yesterday
[2014-07-11 16:08:31 -0400] sersut: However the download page link is not updated yet since its still a manual process :(
[2014-07-11 16:08:57 -0400] sersut: we will update the link today and get a blog post out about the instructions to get it..
[2014-07-11 16:09:16 -0400] sersut: Some of the things that are coming soon
[2014-07-11 16:09:34 -0400] sersut: *) We are working on CHef CLient 10.34.0 release
[2014-07-11 16:09:59 -0400] sersut: Watch the blog for announcement of release candidates this week
[2014-07-11 16:10:23 -0400] sersut: *) One of the big things is that we will be working on a major release bump for Chef during the rest of the summer..
[2014-07-11 16:10:37 -0400] sersut: New version Chef 12 will be fully backwards compatible with Chef
[2014-07-11 16:11:04 -0400] sersut: we will have yet another blog post about the details but the two important things in that release are:
[2014-07-11 16:11:30 -0400] sersut: 1-) SSL verification will be enabled by default along with the tooling needed for bootstrapping Chef nodes correctly..
[2014-07-11 16:11:54 -0400] sersut: 2-) We will be updating the RUby version in the omnibus packages
[2014-07-11 16:12:04 -0400] holoway: sersut: to which version of ruby?
[2014-07-11 16:12:24 -0400] burtlo: Ruby! Woot!
[2014-07-11 16:12:28 -0400] sersut: Current thinking is to bump to Ruby 2.X and drop the support for Ruby 1.8.7
[2014-07-11 16:12:31 -0400] alexbst: ohai chefs!
[2014-07-11 16:12:38 -0400] lamont_oc: (2.1.2 as of right now)
[2014-07-11 16:12:43 -0400] coderanger: holoway: Should we be holding questions until the end of each section?
[2014-07-11 16:12:52 -0400] holoway: coderanger: lets see how we do without holding
[2014-07-11 16:13:07 -0400] zts: "major release bump for Chef" <- client, server, or both?
[2014-07-11 16:13:17 -0400] holoway: zts: both
[2014-07-11 16:13:22 -0400] someara: will the chef-client and chefdk ruby versions be synced going forward?
[2014-07-11 16:13:30 -0400] coderanger: Roger, sersut re: 11.14rc, any thoughts on the chef-dev thread about the attributes syntax in the whitelist stuff?
[2014-07-11 16:13:50 -0400] sersut: i dont want to consume the meeting with this topic so maybe we can have a blog post out with some details and gather after that to chat more in detail..
[2014-07-11 16:14:20 -0400] holoway: zts: I'm going to talk about it a little later in roadmap stuff, but there are things coming in the server side of 12 that I can't talk about publicly, but this should be the last time I can't talk publicly about whats happening on the server side
[2014-07-11 16:14:47 -0400] zts: holoway: cool, no worries.  Related question: if Chef 12 is fully backwards compatible, why the major version bump?
[2014-07-11 16:14:49 -0400] holoway: sersut, coderanger: I think we should come to lazy consensus on the attributes syntax
[2014-07-11 16:15:04 -0400] holoway: zts: that would be the thing I can't talk about publicly
[2014-07-11 16:15:05 -0400] sersut: coderanger: i have just skimmed over that thread will look into it later today..
[2014-07-11 16:15:15 -0400] holoway: zts: which sucks, I know, and fixing that is part of why I can't talk about it
[2014-07-11 16:15:16 -0400] zts: holoway: ah :)  np
[2014-07-11 16:15:46 -0400] sersut: thats pretty much it from updates on the Client side
[2014-07-11 16:15:49 -0400] holoway: someara: re version sync, feels like it will be (and probalby should be)
[2014-07-11 16:16:08 -0400] sersut: someara: ideally yeah
[2014-07-11 16:16:19 -0400] holoway: nathenharvey: can you take down that we have an action for sersut, coderanger, and anyone else who cares to weigh in on the chef-dev list re attr syntax and come to lazy consensus?
[2014-07-11 16:16:30 -0400] sersut: note that it doesnt mean that its the only supported Ruby version tough..
[2014-07-11 16:16:33 -0400] nathenharvey: holoway: got it
[2014-07-11 16:16:38 -0400] holoway: yep
[2014-07-11 16:16:49 -0400] holoway: I have two other small things in client-ish lan
[2014-07-11 16:16:51 -0400] holoway: er land
[2014-07-11 16:16:51 -0400] btm: someara: I think since ChefDK is new, we got away with whatever Ruby version we wanted so it is an ideal version, and we want to get the client omnibus package up there soon.
[2014-07-11 16:17:06 -0400] holoway: the first is that we merged the on_failure rfc https://github.com/opscode/chef-rfc/blob/master/on_failure.md
[2014-07-11 16:17:28 -0400] holoway: so we'll be looking at the implementation in the cookbook and seeing about making it a core feature - it got universal 
[2014-07-11 16:18:00 -0400] holoway: the second is there was conversation on the ml about berkshelf and the need for a universe for assets on a chef server
[2014-07-11 16:18:19 -0400] holoway: after digging and talking with reset, we'll add an authenticated /universe endpoint
[2014-07-11 16:18:33 -0400] holoway: so you can have a source thats a chef server followed by the supermarket source
[2014-07-11 16:18:44 -0400] spheromak: (yay)
[2014-07-11 16:18:58 -0400] holoway: ok, nathenharvey - wanna spend a minute on community stuff?
[2014-07-11 16:19:08 -0400] nathenharvey: holoway: yep, thanks
[2014-07-11 16:19:22 -0400] nathenharvey: supermarket.getchef.com was officially released on Monday.  This is a great step forward for our community site.  Thanks to cwebber, the developer from full stack, and everyon who's helped by providing code, feedback, opening issues, and more.  This was definitely a community effort.
[2014-07-11 16:19:31 -0400] coderanger: holoway: Should probably have at least some discussion on chef-dev about RFCs as a general thing, "universal" is mostly of people that happened to be cc'd on that ticket
[2014-07-11 16:19:42 -0400] nathenharvey: Since opening we've had a couple of production issues and have held three public post-mortems.  Check blog.getchef.com for additional details.
[2014-07-11 16:19:55 -0400] holoway: coderanger: got it - added to the next agenda item
[2014-07-11 16:20:12 -0400] nathenharvey: Individual contributors should login to the Supermarket, using the legacy community site credentials or hosted Chef credentials.  After logging in, assoicate your github account with your profile (https://supermarket.getchef.com/profile/edit).  You will then be able to sign an individual contributor license agreement (ICLA) https://supermarket.getchef.com/icla-signatures/new.  Any CLA you've previously signe
[2014-07-11 16:20:13 -0400] nathenharvey: d is still in force and this new CLA is identical to the one you've previously signed.  However, confirming your CLA on the Supermarket site, makes it easier for us to tag your pull requests as coming from someone who's already signed a CLA.  We have bot that watches our open source repos.  When a pull request is made, it will be tagged with the CLA status of the contributor.
[2014-07-11 16:20:41 -0400] nathenharvey: Companies who have a Corporate Contributor License Agreement (CCLA) have extra management capabilities in the Supermarket.  Each CCLA will have one or more administrators who can manage additional signers on the CCLA.
[2014-07-11 16:20:54 -0400] nathenharvey: Again, previous CLAs are still in force and the new CLAs on the Supermarket are identical to the ones you've previously signed.  This is primarily an affirmation of youre existing CLA and a link to your github account.
[2014-07-11 16:20:58 -0400] kallistec: holoway: also please say if chef-rfc is the right venue to get items on the server roadmap
[2014-07-11 16:21:10 -0400] nathenharvey: Over the next week or so all of the Chef maintained cookbooks will be added to the bot. At that time, all open pull requests will be checked to see if the author has a CLA on file with Supermarket.
[2014-07-11 16:21:21 -0400] nathenharvey: If you need any help or have any questions about the new CLA process, please reach out to me (nharvey@getchef.com) or Chris Webber (cwebber@getchef.com).
[2014-07-11 16:21:36 -0400] nathenharvey: The Supermarket itself is an open-source project that we're managing over on github - http://github.opscode.com/supermarket.  Your feedback on the site is greatly appreciated.  This is truly a community site for and by the community.
[2014-07-11 16:21:44 -0400] nathenharvey: The Supermarket was the subject of yesterday's Food Fight Show podcast http://foodfightshow.org/2014/07/supermarket.html.
[2014-07-11 16:21:53 -0400] nathenharvey: What questions can I answer for you about the Supermarket or the CLA process?
[2014-07-11 16:21:58 -0400] holoway: kallistec: check
[2014-07-11 16:22:05 -0400] btm: nathenharvey: mailing list, gitter?
[2014-07-11 16:22:07 -0400] shlant: *excited clapping*
[2014-07-11 16:22:20 -0400] nathenharvey: holoway: barring questions, I'm done with my update for this week.
[2014-07-11 16:22:22 -0400] j^2: https://github.com/opscode/supermarket
[2014-07-11 16:22:41 -0400] cwebber: gitter.im/opscode/supermarket is where chat is
[2014-07-11 16:22:50 -0400] nathenharvey: btm: yes - mailing list is https://groups.google.com/forum/#!forum/chef-supermarket
[2014-07-11 16:22:53 -0400] jalberts: nathenharvey: i notice the bot adds the 'signed cla' tag to github PRs. How/when is the 'verified cla' tag added?
[2014-07-11 16:22:58 -0400] nathenharvey: cwebber: thanks for the gitter link
[2014-07-11 16:23:28 -0400] jtimberman: good to note that there is a supermarket cookbook which is what we use to deploy the app to prod, too. so you can run the same site locally for testing. https://supermarket.getchef.com/cookbooks/supermarket
[2014-07-11 16:23:30 -0400] lamont_oc: the green CLA tag is from when sethv was doing it manually
[2014-07-11 16:23:31 -0400] nathenharvey: jalberts: sometime after you submit the PR and before you notice the tag ;)
[2014-07-11 16:23:47 -0400] btm: jalberts: "verified cla" is a manual thing the client team has been doing since before the bot came online, we haven't reconciled the two tags yet.
[2014-07-11 16:24:04 -0400] nathenharvey: cwebber: do you know the frequency of the bot checking in?
[2014-07-11 16:24:11 -0400] jalberts: btm: ah. ok. was curious what the difference was. thx
[2014-07-11 16:24:32 -0400] holoway: ok, any more supermarket/community in general questions before I move on?
[2014-07-11 16:24:33 -0400] cwebber: it works via webhooks so each time an event occurs
[2014-07-11 16:24:37 -0400] holoway: once
[2014-07-11 16:24:38 -0400] MikeTLive: docs on standing up local mini-mart version of supermarket is needed.
[2014-07-11 16:24:41 -0400] nathenharvey: jalberts: sorry, I misread your question... btm's got you covered though
[2014-07-11 16:24:52 -0400] jalberts: nathenharvey: i submitted 3 PRs yesterday and the 'signed cla' tag was added each time within 60 seconds
[2014-07-11 16:25:04 -0400] jalberts: it works nicely
[2014-07-11 16:25:10 -0400] nathenharvey: jalberts: +1
[2014-07-11 16:25:12 -0400] jalberts: signing the cla process was very smooth
[2014-07-11 16:25:19 -0400] holoway: nathenharvey: can you take a note to get some docs ready on local supermarket?
[2014-07-11 16:25:25 -0400] holoway: thanks MikeTLive
[2014-07-11 16:25:46 -0400] someara: bodega
[2014-07-11 16:25:47 -0400] holoway: ok
[2014-07-11 16:25:48 -0400] nathenharvey: holoway: MikeTLive got it.
[2014-07-11 16:25:48 -0400] holoway: once
[2014-07-11 16:25:52 -0400] Eulipion: second bodega
[2014-07-11 16:25:53 -0400] holoway: twice
[2014-07-11 16:26:02 -0400] cwebber: MikeTLive: we need to work out some kinks because right now there is a missing component to doing it locally. Hit me up afterwards for more info
[2014-07-11 16:26:04 -0400] MikeTLive: we've embraced chef community as core to our use of chef. wrapping community books, never forking, then contributing back adds/fixes.  having that localized will really make it easy  for our micro community of dozen+ ops-teams link in to the larger community.
[2014-07-11 16:26:23 -0400] MikeTLive: cwebber: will do
[2014-07-11 16:26:25 -0400] holoway: ok, moving on
[2014-07-11 16:27:00 -0400] holoway: as has been flapping about on the blog(s), and on the mailing list, and was the catalyst for this meeting
[2014-07-11 16:27:39 -0400] holoway: I think there was broad agreement that we needed to start being more regular and explicit about how we as a community work together to build chef
[2014-07-11 16:28:03 -0400] shlant: *looks at coderanger*
[2014-07-11 16:28:14 -0400] shlant: I kid I kid
[2014-07-11 16:28:25 -0400] holoway: that includes being more clear about how we make decisions (which you could also read simply as 'be clear'), where we talk about things, where we communicate things to folks who might not have been available for live conversation, and how we make the rules
[2014-07-11 16:29:12 -0400] holoway: the process to do that involves a couple of different core constituencies, and I want to make sure I haven't missed any
[2014-07-11 16:29:48 -0400] holoway: the first is obviously end users - folks who don't really have any desire to be in a room like this, but just use chef in their daily life
[2014-07-11 16:30:13 -0400] holoway: (this list is in no particular order)
[2014-07-11 16:30:29 -0400] holoway: we have chef developers, who care not only about how chef works day to day, but also the health and well-being of the internals
[2014-07-11 16:31:06 -0400] holoway: we have ecosystem developers, who care about how chef works as part of the tooling/software they build (test kitchen, berkshelf, deis, engine yard, amazon, etc.)
[2014-07-11 16:31:41 -0400] holoway: we have chef software, who have a pretty deep vested interest both in chef as open source software and our commercial offerings built on top of it
[2014-07-11 16:32:09 -0400] holoway: and we have other organizations (like IBM) who embed chef in their products, but are less present in the day-to-day ecosystem
[2014-07-11 16:33:09 -0400] holoway: as the original chef author, I'm going to take the lead in gathering input from all of those constituencies
[2014-07-11 16:33:37 -0400] holoway: and focus in on getting us clear about two broad areas
[2014-07-11 16:34:00 -0400] holoway: the first is governance - how do we make decisions about how the project will be managed?
[2014-07-11 16:34:25 -0400] holoway: the second is what, for lack of a better term, I've been calling maintenance policy
[2014-07-11 16:34:44 -0400] holoway: how do the folks who do the work of writing code, proposing it for merge, and releasing the software do their work
[2014-07-11 16:35:33 -0400] holoway: in looking at lots of different models, I'm leaning toward one that looks like Docker
[2014-07-11 16:35:41 -0400] holoway: as a starting place for the conversation
[2014-07-11 16:36:01 -0400] holoway: there are a few things I like about what they've done
[2014-07-11 16:36:21 -0400] holoway: on governance, the advice they give is broadly advisory
[2014-07-11 16:36:40 -0400] holoway: deferring most authority to maintenance policy, which is set primarily by the maintainers
[2014-07-11 16:37:37 -0400] holoway: and the maintainer policy is very straightforward - you add yourself as a maintainer for a subsystem in a pull request, and the same model for accepting any other code takes over (simple majority with high level vetos)
[2014-07-11 16:37:40 -0400] holoway: (roughly)
[2014-07-11 16:37:42 -0400] coderanger: I think it might help to clarify, I think when you say "they" you mean the Docker advisory board?
[2014-07-11 16:38:30 -0400] holoway: coderanger: I'm not sure which use of the word they you are clarifying - but the Advisory Board set up here http://www.docker.com/community/governance/
[2014-07-11 16:38:43 -0400] coderanger: "on governance, the advice they give is broadly advisory"
[2014-07-11 16:38:44 -0400] holoway: coderanger: is the governance model, which basically puts most of the authority directly on the maintainers
[2014-07-11 16:39:02 -0400] holoway: coderanger: yes - by 'they' I mean the members of the advisory board give, well - advice
[2014-07-11 16:39:22 -0400] holoway: what I like is that decisions are made by those who code
[2014-07-11 16:39:34 -0400] holoway: you can't pay to play and game the system
[2014-07-11 16:40:13 -0400] holoway: I think that, on how we manage the process, we need to do a couple of things
[2014-07-11 16:40:37 -0400] holoway: first, we need to bless lieutenants (happy to change the word) that take ownership of significant parts of the Chef code base
[2014-07-11 16:41:10 -0400] holoway: one example would be operating system lt's, who take responsibility for (and merge patches directly) for given operating systems
[2014-07-11 16:41:45 -0400] j^2: holoway: As a community member i like how you said "by 'they' I mean the members of the advisory board give, well - advice," it's good to see at the very beginning you are expecting advice not direction/dictation
[2014-07-11 16:42:02 -0400] ssd7: Question (can be defered for later): How does the Docker model compare to the model of other communities that have been around longer than Docker.
[2014-07-11 16:42:06 -0400] holoway: j^2: good software is made and directed by the people who write it, not by other folks
[2014-07-11 16:42:17 -0400] holoway: ssd7: it's pretty lightweight
[2014-07-11 16:42:17 -0400] j^2: holoway: +1
[2014-07-11 16:42:30 -0400] sam___: Question (can be answered later) how does a new community cookbook name gets its name? first one to submit to supermarket wins or thre will be some control as to how cookbooks are named? what is the policy to prevent duplicate cookbooks from showing up in supermarket?
[2014-07-11 16:42:43 -0400] holoway: sam___: I'm going to table that
[2014-07-11 16:42:50 -0400] holoway: nathenharvey: can you track that ^^
[2014-07-11 16:43:08 -0400] spheromak: _cough_ namespaces :)
[2014-07-11 16:43:21 -0400] coderanger: namespaces was formally rejected this morning
[2014-07-11 16:43:22 -0400] nathenharvey: holoway: got it
[2014-07-11 16:43:23 -0400] coderanger: (good timing)
[2014-07-11 16:43:24 -0400] holoway: spheromak: lets not have that argument
[2014-07-11 16:43:33 -0400] someara: lets have it at the community summit
[2014-07-11 16:43:34 -0400] holoway: coderanger: well, a PR was formally closed
[2014-07-11 16:43:40 -0400] spheromak: yea not wanting to open that can
[2014-07-11 16:43:43 -0400] holoway: coderanger: that had no code
[2014-07-11 16:43:52 -0400] holoway: and also, tabled :)
[2014-07-11 16:44:07 -0400] cwebber: coderanger: not formally rejected, just set aside for later when we have cycles
[2014-07-11 16:44:11 -0400] jonlives: holoway: how does that governance model cope with a maintainer with a particularly dogmatic view of an aspect of chef enforcing their version of canon?
[2014-07-11 16:44:19 -0400] holoway: jonlives: great question
[2014-07-11 16:44:33 -0400] coderanger: holoway: I would like to propose we evaluate the Python PEP model as a way to manage large-scale or complex changes
[2014-07-11 16:44:45 -0400] holoway: in thinking through how it might work, I think we need a simple policy with escalating veto
[2014-07-11 16:45:00 -0400] holoway: jonlives: so lets say you become the LT of Enterprise Linux
[2014-07-11 16:45:14 -0400] holoway: jonlives: and you have 4 maintainers on your team (all volunteers, of course)
[2014-07-11 16:45:31 -0400] holoway: a patch comes in, the 5 of you review it, and a simple majority of  gets the go ahead to merge
[2014-07-11 16:45:53 -0400] holoway: if the LT thinks its harmful, they can veto the majority, and the majority can appeal to a project lead
[2014-07-11 16:46:06 -0400] holoway: who makes the call
[2014-07-11 16:46:17 -0400] MikeTLive: ideally the Lt would not have to *do* anything until and unless a conflict emerges. - use standard quorum rules..
[2014-07-11 16:46:28 -0400] MikeTLive: and only if the team still disagree with the Lt. would it go higher up
[2014-07-11 16:46:31 -0400] holoway: yep
[2014-07-11 16:46:38 -0400] jonlives: that sounds sensible!
[2014-07-11 16:46:53 -0400] holoway: in all these cases, the folks who are in those roles exist in a file you make a PR against
[2014-07-11 16:46:57 -0400] holoway: and we have rules for their acceptance
[2014-07-11 16:47:00 -0400] holoway: including the project lead itself
[2014-07-11 16:47:28 -0400] holoway: getting to a first draft of those rules means talking to lots of constituents :)
[2014-07-11 16:47:31 -0400] MikeTLive: simple rules and guides that define the structure and direction, when applied globally, combine to resolve most questions later.
[2014-07-11 16:47:57 -0400] coderanger: holoway: It should probably be noted that in the case of disagreement, things should probably side with the status quo instead of one person making a decision
[2014-07-11 16:48:24 -0400] jmink: holoway: What if you have a project with lots of maintainers?  That would lead to latency in getting enough +1's
[2014-07-11 16:48:26 -0400] holoway: coderanger: probably? I can think of plenty of examples where the mob builds bad software
[2014-07-11 16:48:45 -0400] holoway: coderanger: but yeah, lets say the No Asshole Rule applies to the community as well
[2014-07-11 16:48:54 -0400] coderanger: holoway: Indeed, hence we favor the status quo
[2014-07-11 16:48:57 -0400] MikeTLive: coderanger: most of the time. but dont be fooled by the popularity being more correct :) (i think you said something like that to me some months back)
[2014-07-11 16:49:14 -0400] holoway: jmink: I think if we have that problem, we can adjust by simply having fewer maintainers, or changing the rules for how many you need
[2014-07-11 16:49:23 -0400] jmink: Fair enough.
[2014-07-11 16:49:31 -0400] holoway: jmink: I would *love* to have so many people invested in reviewing PRs that we have latency issues
[2014-07-11 16:49:33 -0400] mivok: coderanger: by status quo do you mean favor rejecting a change if there is controversy?
[2014-07-11 16:49:39 -0400] btm: holoway: I hope we can get a draft started soon, as constituent talking happens, so the process of developing the document doesn't stall and the iterations are public.
[2014-07-11 16:50:06 -0400] holoway: btm: yes. to be honest, there are two things that are holding up a first draft, and subsequent ones will be public
[2014-07-11 16:50:08 -0400] coderanger: mivok: Yes, where "controversy" means that a large number of people are on both sides not just one loud person
[2014-07-11 16:51:07 -0400] holoway: the first is that this activity has a big impact on Chef Software, and any big changes to the status quo have potential financial side effects - which means, for example, we need to talk to our internal management, and our board of directors
[2014-07-11 16:51:28 -0400] holoway: I've had those discussions already, and nothing I've said in this meeting is controversial to anyone
[2014-07-11 16:51:38 -0400] holoway: in those constituencies
[2014-07-11 16:51:46 -0400] jonlives: this is good.
[2014-07-11 16:52:46 -0400] holoway: the second is simply wanting to make sure we had no deep reservations about the broad path here, because what I'm heading towards is a place where the authors of the software have the majority of the say in how it is built
[2014-07-11 16:52:58 -0400] holoway: so this room needed to hear what would be in the draft before its even written
[2014-07-11 16:53:21 -0400] holoway: (for those of you who don't know, I'm also on the board of directors at Chef Software, so I'm well suited to carry those conversations)
[2014-07-11 16:53:34 -0400] coderanger: holoway: One question, will employees follow this path to getting commit bits as well?
[2014-07-11 16:53:36 -0400] jonlives: the broad outline of the docker model and the way it's been described sounds good to me at least :p
[2014-07-11 16:53:39 -0400] holoway: coderanger: yes
[2014-07-11 16:53:45 -0400] coderanger: holoway: (+1)
[2014-07-11 16:53:59 -0400] holoway: the community is made up of people, not employees or non-employees
[2014-07-11 16:54:10 -0400] cwebber: holoway: how do the goverance things we are discussing apply to things like the supermarket itself (ie around namespace issues), and chef maintained cookbooks are those sperate of this?
[2014-07-11 16:54:25 -0400] ssd7: Maybe I missed it in backscroll, but does being a maintainer == commit bit?
[2014-07-11 16:54:29 -0400] holoway: cwebber: I'm explicitly just talking about the core chef project
[2014-07-11 16:54:31 -0400] holoway: ssd7: yes
[2014-07-11 16:54:37 -0400] holoway: ssd7: with rules around pressing the button
[2014-07-11 16:54:39 -0400] jonlives: holoway: does the docker model require any sort of activity commitment from maintainers? ie if I became one and then had a busy month at work, does that cause problems?
[2014-07-11 16:54:54 -0400] jonlives: or is that covered by voting in the team
[2014-07-11 16:55:04 -0400] holoway: jonlives: I think we would want to have an activity commitment, but probably only used in cases of extreme disapperance
[2014-07-11 16:55:19 -0400] holoway: coderanger: on PEP, I've never been a python person
[2014-07-11 16:55:31 -0400] nathenharvey: holoway: time check:  we're at five minutes to the top of the hour
[2014-07-11 16:55:35 -0400] jonlives: holoway: that sounds faie
[2014-07-11 16:55:36 -0400] holoway: coderanger: would you take an action to write up how that process works, and we can put you talkinga bout it on the agenda for the next meeting?
[2014-07-11 16:55:40 -0400] jonlives: *fair
[2014-07-11 16:55:43 -0400] coderanger: holoway: Surely
[2014-07-11 16:55:44 -0400] holoway: nathenharvey: thanks
[2014-07-11 16:55:54 -0400] holoway: nathenharvey: make sure coderanger gets 20 minutes on PEP
[2014-07-11 16:56:05 -0400] holoway: okay, in last 5 minutes
[2014-07-11 16:56:09 -0400] holoway: I want to talk about chef-rfc
[2014-07-11 16:56:17 -0400] holoway: and the roadmap
[2014-07-11 16:56:38 -0400] holoway: historically, the chef roadmap is driven almost entirely by Chef Software
[2014-07-11 16:56:51 -0400] holoway: with this model, we need to adapt that at least a little
[2014-07-11 16:56:59 -0400] btm: jonlives: I've had success in other groups with unexcused absence for X period being the rule for removing someone for purposes of housekeeping, rather than kicking people out who have lives that occasionally get in the way of projects/hobbies.
[2014-07-11 16:57:01 -0400] holoway: Chef Software still, obviously, gets to decied what its employees do
[2014-07-11 16:57:27 -0400] holoway: but we need a way for everyone to get involved and accept a proposal
[2014-07-11 16:57:33 -0400] jonlives: btm: ack
[2014-07-11 16:57:49 -0400] holoway: for now, I propose we re-start using the chef-rfc repository
[2014-07-11 16:58:00 -0400] holoway: for anything that has a broad impact on Chef
[2014-07-11 16:58:32 -0400] holoway: and that the policy for merging falls on me, and I will hew toward consensus, until we have a formal model in place
[2014-07-11 16:58:50 -0400] jonlives: i think that sounds fair to begin with
[2014-07-11 16:59:06 -0400] holoway: those who want to be kept up to date can subscribe to the github repo
[2014-07-11 16:59:18 -0400] holoway: assent is shown with a  on the PR
[2014-07-11 16:59:31 -0400] jonlives: what was that symbol? :p
[2014-07-11 16:59:32 -0400] holoway: and, in lieu of a formal maintainership process, every vote will count
[2014-07-11 16:59:41 -0400] holoway: colon +1 colon
[2014-07-11 16:59:45 -0400] jonlives: aha
[2014-07-11 16:59:57 -0400] coderanger: holoway: I really think discussion should be held on chef-dev, not the individual tickets, github's model makes it too easy to get an echo chamber
[2014-07-11 17:00:25 -0400] holoway: coderanger: I think we actually have more folks who are happy/willing/able to talk on the PR
[2014-07-11 17:00:49 -0400] holoway: coderanger: but if it gets into an echo chamber and we're not working, we'll talk about it in this meeting and change our minds
[2014-07-11 17:00:52 -0400] jonlives: personally speaking I'd prefer the PR purely so it's all kept in one place.
[2014-07-11 17:00:58 -0400] jonlives: but agreed - need to see how it goes
[2014-07-11 17:01:01 -0400] jtimberman: what about, bring up the PR on the mailing list, and encourage the discussion on the PR?
[2014-07-11 17:01:09 -0400] jtimberman: just to reach a potentially broader audience?
[2014-07-11 17:01:10 -0400] holoway: jtimberman: agreed
[2014-07-11 17:01:14 -0400] ssd7: I imagine a lot of things would start as discussions on chef-dev, someone would take some time to make a pr to chef-rfc, and then discussion would continue on the PR in a more formal way
[2014-07-11 17:01:24 -0400] jeffbyrnes:  Love the transparency that the chef-rfc repo brings
[2014-07-11 17:01:25 -0400] adamleff: bah, jtimberman just took the words out of my mouth as I was typing.  No reason we cant use the mailing list to help drive the conversation.
[2014-07-11 17:01:27 -0400] jtimberman: ssd7: ^5
[2014-07-11 17:01:32 -0400] holoway: so put to the floor - we use chef-rfc, the author of an rfc posts to the mailing list, and the discussion happens on the pr
[2014-07-11 17:01:34 -0400] jtimberman: adamleff: ^5
[2014-07-11 17:01:44 -0400] paulmooring: jtimberman we could maybe automate sending all new PRs to the mailing list
[2014-07-11 17:01:44 -0400] jonlives: +1
[2014-07-11 17:01:48 -0400] paulmooring: +1
[2014-07-11 17:01:49 -0400] ssd7: +1
[2014-07-11 17:01:50 -0400] jeffbyrnes: +1
[2014-07-11 17:01:55 -0400] sfalcon: +1
[2014-07-11 17:01:57 -0400] nathenharvey: +1
[2014-07-11 17:01:59 -0400] adamedx: +1
[2014-07-11 17:02:00 -0400] holoway: +1
[2014-07-11 17:02:06 -0400] moted: :1:
[2014-07-11 17:02:09 -0400] jtimberman: +1
[2014-07-11 17:02:10 -0400] JoeNuspl: +1
[2014-07-11 17:02:12 -0400] paulyOC: +1
[2014-07-11 17:02:14 -0400] adamleff: +1
[2014-07-11 17:02:15 -0400] holoway: okay - is there a -1 ?
[2014-07-11 17:02:19 -0400] jeffbyrnes: heh
[2014-07-11 17:02:21 -0400] spheromak: --
[2014-07-11 17:02:23 -0400] spheromak: :)
[2014-07-11 17:02:24 -0400] zts: +1
[2014-07-11 17:02:25 -0400] jonlives: (I also just want to +1 this entire process)
[2014-07-11 17:02:28 -0400] coderanger: +1
[2014-07-11 17:02:32 -0400] someara: +1
[2014-07-11 17:02:32 -0400] holoway: okay, last thing
[2014-07-11 17:02:37 -0400] kallistec: +1
[2014-07-11 17:02:42 -0400] holoway: this process should be complete no later than the community summit
[2014-07-11 17:02:51 -0400] holoway: ideally, the bulk of it should be done before then
[2014-07-11 17:02:53 -0400] coderanger: Also should post regular reminders of "if you want to be involved, click this Watch button"
[2014-07-11 17:03:03 -0400] dylannorthrup: +1
[2014-07-11 17:03:06 -0400] coderanger: (maybe as a standard footer for RFC announcements)
[2014-07-11 17:03:06 -0400] ssd7: holoway: this process == the more formal definition of the maintainership and RFC process?
[2014-07-11 17:03:09 -0400] tech356: When is the community summit?
[2014-07-11 17:03:17 -0400] holoway: ssd7: yes - I want to have a governance and maintainership model in place by the summit
[2014-07-11 17:03:27 -0400] holoway: http://www.getchef.com/summit/
[2014-07-11 17:03:34 -0400] holoway: tech356: october 3-4
[2014-07-11 17:03:36 -0400] nathenharvey: Community Summit - October 2-3 October
[2014-07-11 17:03:37 -0400] holoway: er 2-3
[2014-07-11 17:04:09 -0400] holoway: do we have a volunteer to write an RFC on how we are going to process RFCs?
[2014-07-11 17:04:21 -0400] btm: holoway: will you number rfc's when you merge them?
[2014-07-11 17:04:27 -0400] holoway: btm: sure!
[2014-07-11 17:04:30 -0400] holoway: ;0
[2014-07-11 17:04:31 -0400] btm: holoway: me, volunteer.
[2014-07-11 17:04:47 -0400] holoway: btm: great - take what we said in IRC, open the PR, and ship to the list for review
[2014-07-11 17:05:00 -0400] zts: jonlives: ditto, even east coast USA would be a help :)
[2014-07-11 17:05:28 -0400] btm: zts: ya'll can come vacation in Maine and talk about Chef any time.
[2014-07-11 17:05:32 -0400] holoway: ok - we're 5 minutes past
[2014-07-11 17:05:44 -0400] holoway: any other urgent topics?
[2014-07-11 17:05:48 -0400] holoway: once
[2014-07-11 17:05:55 -0400] holoway: twice
[2014-07-11 17:06:01 -0400] jonlives: hugs for all #hugops
[2014-07-11 17:06:03 -0400] holoway: meeting adjourned
[2014-07-11 17:06:08 -0400] j^2: jonlives: ditto
[2014-07-11 17:06:12 -0400] holoway: thanks for coming :)
[2014-07-11 17:06:16 -0400] nathenharvey: I'll post meeting notes to the chef-dev list
[2014-07-11 17:06:17 -0400] MikeTLive: :hugs:
[2014-07-11 17:06:20 -0400] holoway: nathenharvey: thanks
[2014-07-11 17:06:27 -0400] holoway: next meeting in two weeks
[2014-07-11 17:06:35 -0400] kallistec: holoway: oh, we'll use chef-rfc for chef-server ?
[2014-07-11 17:06:37 -0400] ssd7: Thanks all!
[2014-07-11 17:06:40 -0400] paulyOC: holoway and nathenharvey: THANKS
[2014-07-11 17:06:41 -0400] holoway: kallistec: yes lets
[2014-07-11 17:06:44 -0400] kallistec: k
[2014-07-11 17:06:52 -0400] holoway: ok, lets re-open the namespace chatter
[2014-07-11 17:06:53 -0400] jtimberman: jonlives: there's a pub nearby... they're probably open soon... ;)
[2014-07-11 17:07:05 -0400] jonlives: jtimberman: it's 6PM here, they're all open :p
[2014-07-11 17:07:36 -0400] kallistec: btm: can you unmute the github bot?
[2014-07-11 17:07:48 -0400] c_t: jtimberman: you just need to find a bar with a longshoreman's happy hour
[2014-07-11 17:07:53 -0400] c_t: 6am-10am
[2014-07-11 17:08:00 -0400] holoway: from my perspective, it boils down to how we think people 'should' use the site
[2014-07-11 17:08:04 -0400] c_t: admittedly longshoremen may be in short supply in Denver
[2014-07-11 17:08:22 -0400] holoway: the bummer about having explicit user namespaces is that maintainership/etc get complex
[2014-07-11 17:08:34 -0400] holoway: the good part is you don't ever have to rename your cookbook
[2014-07-11 17:09:11 -0400] c_t: it might be somewhat unintentional, but knife supports namespaces for commands
[2014-07-11 17:09:14 -0400] holoway: although we can solve that problem without explicit namespacing if we wanted to (decouple the name on supermarket from the cookbook name in metadata, and prefer the metadata name when writing out/unpacking the cookbook)
[2014-07-11 17:09:15 -0400] c_t: seems to work well enough
[2014-07-11 17:09:28 -0400] kallistec: flip side of same coin is that you can have completely different cookbooks with the same name
[2014-07-11 17:09:38 -0400] holoway: yep
[2014-07-11 17:10:04 -0400] MikeTLive: first-come-first-served cookbook naming leads to the best/active cookbook sometimes having funny names. would like to see a migration from technologynew to technology by releasing major number change that replaces it and/or merges with it.
[2014-07-11 17:10:06 -0400] ssd7: So, part of my opinion on it depends on how it is implemented.  I would like there to still be a top level namespace where we (the community) could highlight the best content for various software/system components.  But I would totally be down with something like PPAs in addition to that
[2014-07-11 17:10:16 -0400] zts: the worry I have with namespacing is that it's a solution, not a problem.  There are some problems it would solve, others it would exacerbate, and some new ones it would create
[2014-07-11 17:10:19 -0400] lamont_oc: holoway: the problem is that theres no one way to manage something as complicated as apache2, and trying to do that has been a failure (admitted by adam at the community summit), so having one apache2 cookbook in the world is not the right model.
[2014-07-11 17:11:38 -0400] kallistec: lamont_oc: but maybe that implies we should move to a world where ppl share (H|L)WRPs not cookbooks
[2014-07-11 17:11:56 -0400] jonlives: don't forget definitions, they're awesome ;)
[2014-07-11 17:11:58 -0400] holoway: kallistec: I think mandating that is a mistake, but I think that's probably become real
[2014-07-11 17:11:59 -0400] cwebber: I actually talked about my feelings a bit on the foodfight show yesterday coming from the puppet world, i hate name spaces
[2014-07-11 17:12:14 -0400] adamedx: why cwebber?
[2014-07-11 17:12:22 -0400] holoway: ssd7: the idea of PPAs is an interesting one
[2014-07-11 17:12:32 -0400] cwebber: i got 99 modules and they all suck
[2014-07-11 17:12:51 -0400] someara: I think we should deprecate the term "(H|WRP)" and just refer to them as "resources"
[2014-07-11 17:12:51 -0400] MikeTLive: as a community we should expect a tendency towards one "technology" cookbook with flavors of the different options. vs. technology2 or freds-technology
[2014-07-11 17:12:52 -0400] lamont_oc: well, the LWRPs/HWRPs/definitions/libraries still need to be packaged and named in some way
[2014-07-11 17:13:03 -0400] kallistec: holoway: "but I think that's probably become real" I'm not parsing that 100%
[2014-07-11 17:13:05 -0400] coderanger: cwebber: Namespaces don't make things suck more or less, it just makes the names of the things that suck less ugly
[2014-07-11 17:13:11 -0400] btm: cwebber: as opposed to having one module and it sucks?
[2014-07-11 17:13:24 -0400] cwebber: so there were two major problems...
[2014-07-11 17:13:52 -0400] lamont_oc: so in some way you still need to be able to point at lamonts LWRPs for apache2 vs noahs LWRPs for apache2
[2014-07-11 17:13:56 -0400] cwebber: 1) there was no way to even begin to know which was a better fit. you assumed the puppetlabs ones were best but that isnt always the case
[2014-07-11 17:13:57 -0400] coderanger: I've really said my piece on this I think, I can cut and paste what I said in that (closed) ticket but it will be the same argument as always
[2014-07-11 17:13:58 -0400] holoway: MikeTLive: I think that's not actually what we've seen happen - you have many "technology" cookbooks expressing their opinions, rather than one giant one
[2014-07-11 17:14:11 -0400] cwebber: 2) you could still only have one
[2014-07-11 17:14:16 -0400] holoway: coderanger: what if we had PPAs?
[2014-07-11 17:14:26 -0400] coderanger: holoway: Not sure how thats different from namespacing
[2014-07-11 17:14:38 -0400] holoway: coderanger: there is a first come/first serve namespace
[2014-07-11 17:14:44 -0400] someara: maybe some ansible style "modules" status
[2014-07-11 17:14:59 -0400] holoway: coderanger: a PPA would let you create a private subset, where you control the contents (and the collaborators)
[2014-07-11 17:15:03 -0400] MikeTLive: @holoway i think this comes from a lack of feedback and contribution. forking over fixing
[2014-07-11 17:15:05 -0400] coderanger: holoway: PPAs aren't first-come-first-serve, they are namespaced on username exactly as I've proposed
[2014-07-11 17:15:13 -0400] someara: where something like, say, the yum_repository can get some sort of official "part of the language" status
[2014-07-11 17:15:30 -0400] coderanger: #2 to be clear: "just have one cookbook for X" is _not_ an option, literally impossible.
[2014-07-11 17:15:30 -0400] jonlives: i haven't read all of coderanger's comments, but namespacing on username was what had occured to me too
[2014-07-11 17:15:35 -0400] holoway: someara: I think we should do that, but I think one of the things we should get out of LTs and maintainers is way more resources in core
[2014-07-11 17:15:37 -0400] MikeTLive: its OK for the first of something to only cover MY use cases.
[2014-07-11 17:15:44 -0400] MikeTLive: the next to contribute adds their use cases
[2014-07-11 17:15:47 -0400] MikeTLive: and extends.
[2014-07-11 17:15:48 -0400] cwebber: so you get to this place where you have a dependency on cwebber/foo in cwebber/bar but coderanger/blah depends on coderanger/foo so i cant use cwebber/bar or coderanger/blah in the same org
[2014-07-11 17:15:48 -0400] someara: LT?
[2014-07-11 17:15:49 -0400] bawt: LT not found
[2014-07-11 17:16:00 -0400] lamont_oc: id like to see something like PPAs but tie it into bodegas/mini-marts
[2014-07-11 17:16:01 -0400] c_t: Lieutenant
[2014-07-11 17:16:06 -0400] someara: ah
[2014-07-11 17:16:15 -0400] coderanger: cwebber: Yes, that does suck, but it is no different from what we have now, it just lets you detect that state
[2014-07-11 17:16:20 -0400] lamont_oc: so you have a url for your own supermarket site
[2014-07-11 17:16:30 -0400] holoway: someara: ie - if you love you some yum, you could be the maintainer/lt for it, and merge those resources into core, and keep them maintained there
[2014-07-11 17:16:33 -0400] lamont_oc: which is analogous to a PPA
[2014-07-11 17:16:37 -0400] cwebber: coderanger: i disagree
[2014-07-11 17:16:37 -0400] solarce: I don't think namespaces is a good idea, it leads to a mess, the puppet forge and the docker registry are both good examples of this
[2014-07-11 17:16:44 -0400] cwebber: coderanger: nm
[2014-07-11 17:16:51 -0400] someara: only problem with an exploding code is testing already takes forever
[2014-07-11 17:16:52 -0400] holoway: coderanger: thats not true - right now, you would explicitly have to depend on another name
[2014-07-11 17:16:53 -0400] coderanger: cwebber: Right now if you accidentally have a rouge dep that is supposed to be philliper/postgresql, instead of a detecting the error, you just get non-working server (this is not a hypothetical case)
[2014-07-11 17:16:59 -0400] lamont_oc: and the combination of the url + cookbok name creates the unique namespace.   metadata.rb would have the cookbook anme
[2014-07-11 17:16:59 -0400] cwebber: coderanger: i can see where this would break
[2014-07-11 17:17:07 -0400] MikeTLive: cwebber_foo, the wrapper around foo and coderanger_foo, another wrapper, should only have their specific custom bits. anythng else needs to update and improve and contribute back to the community "foo"
[2014-07-11 17:17:09 -0400] jonlives: i like the idea that cookbooks could be forked & grouped into "mini marts" by org name or username, and contributions could be proposed to the upstream
[2014-07-11 17:17:15 -0400] jonlives: pretty much github style
[2014-07-11 17:17:31 -0400] coderanger: jonlives: That would be isomorphic to per-user namespaces, yes
[2014-07-11 17:17:39 -0400] kallistec: someara: "only problem with an exploding code is testing already takes forever" you mean chef-client tests?
[2014-07-11 17:17:46 -0400] jonlives: yeag
[2014-07-11 17:17:53 -0400] jonlives: coderanger: we agree on something :D
[2014-07-11 17:17:58 -0400] MikeTLive: add your extras into overrides and new recipes into your wrapper, work with the "foo" maintainer to get the sharable updates into the main, remove them from your wrapper.
[2014-07-11 17:18:07 -0400] solarce: frankyl, i think that if the cookbook is in the "primary name" of something common, e.g. mysql, and it's a horrible cookbook, then there should a process where by the community can get a better, alternative cookbook into that name
[2014-07-11 17:18:11 -0400] someara: yea... yea
[2014-07-11 17:18:13 -0400] someara: er
[2014-07-11 17:18:16 -0400] someara: yep.
[2014-07-11 17:18:29 -0400] kallistec: someara: yep to me? :P
[2014-07-11 17:18:31 -0400] coderanger: Really namespacing is one feature, disconnect the name of the "community cookbook record" from the name of the cookbook, that just spans multiple systems
[2014-07-11 17:18:42 -0400] MikeTLive: @solarce EXACTLY. primary name must be for the community determined best of breed most active
[2014-07-11 17:18:54 -0400] coderanger: This is analogous to Ruby having a split between gem name and actual lib file name
[2014-07-11 17:18:56 -0400] MikeTLive: "tomcat" must be the primary around which we all wrap.
[2014-07-11 17:19:06 -0400] solarce: just because someone came along and claimed the name doesn't mean they should get it in purpetuity
[2014-07-11 17:19:12 -0400] someara: kallistec yes... but I was thinking more on the module side
[2014-07-11 17:19:13 -0400] cwebber: MikeTLive: solarce : I think we need to see more governance around the way the supermarket operates
[2014-07-11 17:19:14 -0400] btm: bawt: LT is Lieutenant
[2014-07-11 17:19:15 -0400] coderanger: Once you have that, all the wrapper stuff and whatnot can happen organically
[2014-07-11 17:19:18 -0400] holoway: ruby and npm are both examples of non-namespaced package management
[2014-07-11 17:19:21 -0400] MikeTLive: this is an important governance step that needsto be defined.
[2014-07-11 17:19:30 -0400] coderanger: holoway: False
[2014-07-11 17:19:31 -0400] solarce: cwebber: essentially that's what i think i am saying
[2014-07-11 17:19:34 -0400] lamont_oc: MikeTLive: the problem is that theres architectural decisions make in the upstream which are often very hard to merge  so look at the debianness of the way that the apache2 cookbook installs on RHEL    and if you rip that out, youll make some users who like to manage their RHEL servers like debian unhappy, while you make the RHEL users that use SELinux extremely unhappy  and trying to satisfy everyone is going to create a mess....
[2014-07-11 17:19:37 -0400] coderanger: holoway: Rubygems is namespaced
[2014-07-11 17:19:44 -0400] coderanger: holoway: ex. right-aws (originally)
[2014-07-11 17:19:59 -0400] adamedx: namespaced by convention
[2014-07-11 17:19:59 -0400] holoway: coderanger: that's not a namespace, that's a flat reservation
[2014-07-11 17:20:01 -0400] solarce: cwebber: the case of the main name being a bad cookbook is really a user experience problem you can solve with a process, not cobbling on namespaces
[2014-07-11 17:20:09 -0400] MikeTLive: @lamont_oc that needs to refactor the cookbook to support debian or ububto or solaros ...
[2014-07-11 17:20:11 -0400] someara: lamont_oc apache2 is just an example of technological debt.... its not designed to support anything other than 2.2 on debian
[2014-07-11 17:20:11 -0400] holoway: coderanger: with a library that doesn't match the name
[2014-07-11 17:20:18 -0400] coderanger: holoway: Its a namespace, just not a predictable one
[2014-07-11 17:20:20 -0400] someara: it CAN be designed in a cross platform way
[2014-07-11 17:20:21 -0400] holoway: coderanger: supermarket has that today
[2014-07-11 17:20:23 -0400] someara: which I'm doing right now with httpd
[2014-07-11 17:20:36 -0400] MikeTLive: that it was writtien primarily for one OS is ok. that it is forked for other OS is bad.
[2014-07-11 17:20:38 -0400] coderanger: holoway: No, you can't have the name on the community site be something different from the cookbook name
[2014-07-11 17:20:38 -0400] holoway: coderanger: well, fuck man, if that's cool, we're money - you have a non predictable namespace and we can just all go home?
[2014-07-11 17:20:50 -0400] holoway: :)
[2014-07-11 17:20:59 -0400] holoway: coderanger: right - I think *that* is an excellent feature to add
[2014-07-11 17:21:02 -0400] jonlives: ok the pub calls strongly - later y'all!
[2014-07-11 17:21:07 -0400] coderanger: holoway: That feature _is_ namespacing
[2014-07-11 17:21:08 -0400] holoway: jonlives: have a good drink
[2014-07-11 17:21:17 -0400] cwebber: jonlives: thinking the same thing, except lunch
[2014-07-11 17:21:19 -0400] cwebber: later all
[2014-07-11 17:21:26 -0400] someara: I have a whole rant brewing about cross platform design patterns =)
[2014-07-11 17:21:31 -0400] MikeTLive: the common shared community book needs to be the standard name we all use. any forking is my_technology
[2014-07-11 17:21:37 -0400] coderanger: holoway: Beyond that its just a question as to if the community site name is freely chosen or algorithmically derived
[2014-07-11 17:21:51 -0400] lamont_oc: sure, you can fix everything in principle by throwing enough code at it, but i dont see the tech debt being paid down which is the problem
[2014-07-11 17:21:56 -0400] kallistec: someara: we can (and probably should have already) split chef-client into smaller components that we test separately before combining
[2014-07-11 17:21:58 -0400] MikeTLive: essentially the lack of namespacing is the master, and anything else is an offshoot
[2014-07-11 17:21:59 -0400] coderanger: and on that, I care less, though still non-zero (I think github style username/cookbook is easiest to grok)
[2014-07-11 17:22:01 -0400] holoway: coderanger: just to be explicit - if the feature you got was the tooling around a cookbook preferred the metadata name when used inside of chef, but the published name could be different, that's acceptable?
[2014-07-11 17:22:18 -0400] holoway: coderanger: cause I think I'm totally +1 on that
[2014-07-11 17:22:37 -0400] coderanger: holoway: Yes, if there was an equivalent of gem name vs. "the thing you require" that would absolutely solve this
[2014-07-11 17:22:57 -0400] holoway: kallistec: right - just because we ship more resources in core doesn't neccessarily imply we have them in one repo
[2014-07-11 17:23:00 -0400] someara: how would username/cookbook affect dep solving?
[2014-07-11 17:23:14 -0400] coderanger: someara: As with Ruby, dep solving knows about the "gem name" equiv
[2014-07-11 17:23:15 -0400] holoway: someara: hard to say
[2014-07-11 17:23:18 -0400] MikeTLive: @holoway @coderanger - but then two different systems could behave quite differently and not realize why?
[2014-07-11 17:23:23 -0400] someara: can you install alice/cookbook_name and bob/cookbook_name at the same time in chef-server?
[2014-07-11 17:23:27 -0400] kallistec: someara: e.g., we have all the functional tests for resources which are fairly slow to run, but that could easily be a chef-client-core-resources gem
[2014-07-11 17:23:34 -0400] holoway: someara: not if they have the same functional name
[2014-07-11 17:23:38 -0400] coderanger: MikeTLive: Indeed, this is why I think the two names should be algorithmically related
[2014-07-11 17:23:50 -0400] coderanger: MikeTLive: Makes it at least somewhat clearer whats going on
[2014-07-11 17:24:06 -0400] kallistec: someara: that we test before merge/gem release, and the combined product only gets some functional tests
[2014-07-11 17:24:13 -0400] coderanger: I mean I would love if we could have npm-style private deps, but thats just not something chef supports
[2014-07-11 17:24:22 -0400] coderanger: so the namespaces have to get flattened at run time eventually
[2014-07-11 17:24:28 -0400] someara: dependencies are already brain splittingly annoying to deal with... adding alice and bob's cookbooks to the mix sounds like a bad idea
[2014-07-11 17:24:39 -0400] MikeTLive: @coderanger we take the community coobook name AS IS and wrap with a platform_technology book. this book pins to the community version and all its dependencies and their versions.
[2014-07-11 17:24:46 -0400] MikeTLive: then we add extras inside that wrapper.
[2014-07-11 17:25:10 -0400] MikeTLive: and make efforts to get thos extras needed to make the wrapped "technology" book better and not need our extras
[2014-07-11 17:25:17 -0400] coderanger: MikeTLive: That 1) isn't always viable and 2) doesn't cover when there isn't a "the community version"
[2014-07-11 17:25:25 -0400] solarce: holoway: thanks for everything you've kicked off, looking forward to seeing the fruits for the community :)
[2014-07-11 17:25:27 -0400] someara: now that we have an open source and hackable supermarket.. the entire chain can be experimented with
[2014-07-11 17:25:30 -0400] MikeTLive: when there is no comunity version then we get to write it :)
[2014-07-11 17:25:33 -0400] coderanger: Ex. redis, which has like 5 cookbooks
[2014-07-11 17:26:43 -0400] coderanger: I don't see a world where there is a single "primary" cookbook for things to be viable
[2014-07-11 17:27:04 -0400] coderanger: for example, my jenkins cookbook and Chef's jenkins cookbook are permanently irreconcilable
[2014-07-11 17:27:17 -0400] MikeTLive: @coderanger we take the best we can find of the options. we make the wrapper have everything we need, we work with that primary to make it more better - say a funny recipe or odd attribute
[2014-07-11 17:27:19 -0400] coderanger: Neither is bad, they are just very very different approaches
[2014-07-11 17:27:38 -0400] MikeTLive: my biggest pain with community was specificly the forking vs. evolving.
[2014-07-11 17:28:00 -0400] MikeTLive: its fast for ME to fork/invent. but i have a dozen other ops teams doing the same thing differently.
[2014-07-11 17:28:17 -0400] MikeTLive: and when we look at the larger community, how many here have forked and not contributed back?
[2014-07-11 17:28:26 -0400] coderanger: MikeTLive: Indeed, you can try to reduce forking, but its a pressure relief system for the community and needs to be supported
[2014-07-11 17:28:49 -0400] someara: if chef::supermarket as ruby::rubygems and python::pypi .... then cookbook are effective software modules and part of the language
[2014-07-11 17:28:57 -0400] coderanger: someara: Yes, they are
[2014-07-11 17:29:11 -0400] someara: so, if I wanted to write my own, say.... json tem
[2014-07-11 17:29:24 -0400] someara: er, json gem.... how so I communicate to everyone that they need to use that
[2014-07-11 17:29:51 -0400] coderanger: someara: Make it better enough that people take notice? Ex. yajl
[2014-07-11 17:29:59 -0400] MikeTLive: @coderanger selecting the best of a mess means choosing the one that has the base name of "technology" and making it better.
[2014-07-11 17:30:19 -0400] someara: yajl is a semantically different name than json
[2014-07-11 17:30:25 -0400] github-bawt: [chef-rfc] btm opened pull request #17: Proposal for the initial process for managing RFCs (master...rfc-process) http://git.io/3mM9Ig
[2014-07-11 17:30:26 -0400] coderanger: MikeTLive: I cite jenkins again, neither cookbook is better than the other, just super different
[2014-07-11 17:30:29 -0400] someara: so why not just name your cookbook something else
[2014-07-11 17:30:31 -0400] someara: sean_java
[2014-07-11 17:30:38 -0400] someara: coderanger_jenkins
[2014-07-11 17:30:41 -0400] spheromak: yea
[2014-07-11 17:30:41 -0400] coderanger: someara: Because you end up with names like "yajl" :-)
[2014-07-11 17:30:45 -0400] MikeTLive: it's bad for the community to fork.
[2014-07-11 17:30:47 -0400] spheromak: thats what it ends up having to be
[2014-07-11 17:30:56 -0400] MikeTLive: work together leverage each others work.
[2014-07-11 17:31:05 -0400] someara: the stupid names in ruby come from a flat namespace in rubygems.org
[2014-07-11 17:31:10 -0400] coderanger: someara: because then you can't have modular replacements like aws vs. right-aws
[2014-07-11 17:31:22 -0400] someara: so we can either have stupid cookbook names, or the crazy that is namespaces
[2014-07-11 17:31:42 -0400] coderanger: someara: Pretty much, and I prefer the latter
[2014-07-11 17:31:47 -0400] MikeTLive: theres 156 people on this chat. each take an hour to fork jenkins. 156 hours. thats at least 150 wasted hours. think of what you could have done instead?
[2014-07-11 17:31:53 -0400] coderanger: someara: because then you can have modular replacements
[2014-07-11 17:32:10 -0400] coderanger: MikeTLive: Thats true, but not productive, this isn't a discussion about if forking is good or not
[2014-07-11 17:32:17 -0400] someara: what if that modular replacement consumes/exposes a different API than the other thing
[2014-07-11 17:32:19 -0400] coderanger: MikeTLive: Forking is a reality and the tools need to accomodate it
[2014-07-11 17:32:39 -0400] MikeTLive: improve to allow flexibility through atrributes. the configuration of the software.
[2014-07-11 17:32:45 -0400] coderanger: someara: Then it doesn't matter, but for when it does having this ability is hugely useful
[2014-07-11 17:33:04 -0400] coderanger: MikeTLive: Again, thats is a strawman, you can't will forking out of existence
[2014-07-11 17:33:10 -0400] lamont_oc: heh, if conributing back to the upstream always worked, we wouldnt have chef, wed only have puppet
[2014-07-11 17:33:11 -0400] lamont_oc: well
[2014-07-11 17:33:18 -0400] lamont_oc: wed only have CFEngine
[2014-07-11 17:33:22 -0400] coderanger: Exactly
[2014-07-11 17:33:23 -0400] btm: The ability to download coderanger/jenkins and have it be named jenkins on my chef server (but not have to be in a directory named jenkins) seems important (CHEF-3307)
[2014-07-11 17:33:36 -0400] someara: or better yet, we'd all still be using cfengine2 =)
[2014-07-11 17:33:41 -0400] coderanger: btm: That is the heart of the feature, yes
[2014-07-11 17:33:57 -0400] someara: cfengine4lyfe
[2014-07-11 17:34:01 -0400] lamont_oc: cfengine2 worked for me at amazon at scale, i have no idea what were all doing here
[2014-07-11 17:34:02 -0400] MikeTLive: @btmnaming the directory should be an attribute not needing a fork to accomodate
[2014-07-11 17:34:25 -0400] MikeTLive: so its an improvement to the book to be more flexible.
[2014-07-11 17:35:01 -0400] btm: MikeTLive: I think everyone likes CHEF-3307 in isolation, or at least doesn't care because they don't have to use the feature.
[2014-07-11 17:35:11 -0400] MikeTLive: if the maintainer is not responsive, forking is the solution, until and unless there is governance to take ownership of a "technology" named book
[2014-07-11 17:35:33 -0400] coderanger: btm: 3307 only covers a small bit of the required changes though
[2014-07-11 17:35:49 -0400] someara: coderanger if somebody was willing to hack chef-client/chef-server/berkshelf/librarian/supermarket, I'd be willing to help test and experiment with the consequences of having namespaces
[2014-07-11 17:35:51 -0400] coderanger: btm: A lot of dependency resolution stuff would need to grok this name split too
[2014-07-11 17:36:05 -0400] MikeTLive: it takes effort to improve a cookbook. it can double my personal investment. but the benefits are exponential.
[2014-07-11 17:36:32 -0400] MikeTLive: if i work on the book i am passionate about, and you work on the one you are passionate about, we can each benefit from each other.
[2014-07-11 17:36:36 -0400] someara: the cookbook governance thing is real.... we need to establish a hit-by-the-bus policy
[2014-07-11 17:36:56 -0400] coderanger: MikeTLive: Again, strawman
[2014-07-11 17:37:09 -0400] btm: coderanger: agreed. from my view of namespacing, which I think is significantly similar to yours, the tools are updated to do the right thing when interacting with APIs for those cases, and CHEF-3307 is one of those cases.
[2014-07-11 17:37:10 -0400] coderanger: MikeTLive: I would love it if forking never needed to happen, but that isn't how the world works
[2014-07-11 17:37:27 -0400] coderanger: btm: Yep, 3307 is just a good first step
[2014-07-11 17:37:39 -0400] MikeTLive: i have a mini-community in my corp. dozens of ops teams all doing their own unique way of configuring things. wasting so many hours that could be spent on producing more cool stuff
[2014-07-11 17:38:21 -0400] btm: MikeTLive: that's a culture bug, yes?
[2014-07-11 17:38:36 -0400] holoway: coderanger/someara: I think we should start an rfc that just talks about supporting a cookbook having its 'directory' or 'canonical name' be the metadata rather than the artifcat name
[2014-07-11 17:38:52 -0400] MikeTLive: by embracing the community cookbooks, wrapping and not forking, committing to solve not simply for myself but for the other teams - chef is enabling a cultural evolution.
[2014-07-11 17:38:57 -0400] coderanger: holoway: +1
[2014-07-11 17:39:00 -0400] holoway: once that feature works, we can see if we need personal namespaces
[2014-07-11 17:39:11 -0400] coderanger: holoway: Thats a good step forward and required prereq
[2014-07-11 17:39:19 -0400] holoway: coderanger: it's required for any solution, really
[2014-07-11 17:39:21 -0400] ranjib: +1
[2014-07-11 17:39:41 -0400] holoway: coderanger: otherwise if you want to share, you're forced into naming all your personal stuff different from the day you start
[2014-07-11 17:39:58 -0400] coderanger: Indeed, which never happens, which means people don't share, which makes me sadpanda
[2014-07-11 17:40:08 -0400] holoway: coderanger: or be forced into a change for no good reason
[2014-07-11 17:40:25 -0400] holoway: it also has the benefit of not requiring any changes to the tools that do dependency shit
[2014-07-11 17:40:28 -0400] coderanger: Which, given how hard it is to change a cookbook name safely, rarely happens
[2014-07-11 17:40:30 -0400] holoway: librarian/berks/friends will just work
[2014-07-11 17:40:33 -0400] holoway: coderanger: right
[2014-07-11 17:40:53 -0400] kallistec: yes, we should be prompt about 3307 because it breaks some things and 12.0 would be the time for that
[2014-07-11 17:41:11 -0400] someara: what would 3307 break?
[2014-07-11 17:42:20 -0400] kallistec: someara: nothing serious (IMO). you could have the name attribute set to something that doesn't match dirname, now the cookbook has a different name
[2014-07-11 17:42:24 -0400] holoway: if coderanger, ranjib, or the og author of 3307 wants to clean it up, we should seriously consider it
[2014-07-11 17:43:00 -0400] kallistec: holoway: in past code review, we were all +1 on feature, -1 on some breakages
[2014-07-11 17:43:26 -0400] btm: someara: The patch for CHEF-3307 in the past broke CHEF-2923 which changed how we loaded cookbooks so we could avoid loading cookbooks that weren't part of the dependency set.
[2014-07-11 17:43:57 -0400] holoway: kallistec: what if we actually enforced that you only got to have one cookbook with a loadable name of 'apache' in your namespace
[2014-07-11 17:44:10 -0400] holoway: kallistec: ie - you can't cross the streams, egon
[2014-07-11 17:44:35 -0400] btm: someara: one potential breaking change that needs to be covered in the proposal/fix is what happens when you have multiple cookbooks with different names on disk but the same cookbook name in the metadata.
[2014-07-11 17:45:07 -0400] kallistec: btm + someara yes, the way `knife cookbook upload` works now, it's implicit where your apache2 cookbook lives on your filesystem
[2014-07-11 17:45:15 -0400] someara: metadata should be the only important thing imho
[2014-07-11 17:45:55 -0400] holoway: right - so if you started uploading coderanger_jenkins and jenkins
[2014-07-11 17:46:00 -0400] holoway: they would both upload to 'jenkins'
[2014-07-11 17:46:03 -0400] kallistec: holoway: what defines the namespace in this instance? you mean what is on your disk at the time you type `knife cookbook upload` ?
[2014-07-11 17:46:07 -0400] holoway: and you would, in nice terms - get screwed
[2014-07-11 17:46:20 -0400] coderanger: holoway: Yes, though that already happens in a lot of cases
[2014-07-11 17:46:22 -0400] holoway: but that's okay, because hey - you gotta make a choice
[2014-07-11 17:46:32 -0400] holoway: kallistec: metadata
[2014-07-11 17:46:33 -0400] ranjib: btm, first one in the load path wins
[2014-07-11 17:46:38 -0400] coderanger: holoway: The example with philliper/postgresql from github was very non-hypothethical
[2014-07-11 17:47:27 -0400] btm: ranjib: if that happens silently and some random cookbook that happens to be lying around that someone else in your company wrote and gets chosen, you get screwed later. there at least needs to be a warning, if not a failure.
[2014-07-11 17:47:28 -0400] someara: could we just make '/' a valid character for a cookbook name?
[2014-07-11 17:47:47 -0400] coderanger: someara: Would still need teh cookbook name vs. artifact name split
[2014-07-11 17:47:50 -0400] kallistec: holoway: understand that part of what you're saying, but are you referring to, say, having $cookbook_path/dan-apache2 and $cookbook_path/jane-apache2 and they both claim the name "apache2" in their metadata?
[2014-07-11 17:48:00 -0400] holoway: kallistec: yes
[2014-07-11 17:48:01 -0400] coderanger: someara: Otherwise you don't get much over coderanger_jenkins
[2014-07-11 17:48:10 -0400] holoway: kallistec: as a user, you have to deal with it
[2014-07-11 17:48:15 -0400] ranjib: agree. but this is the same risk as usual, we deal with PATH and binaries.. if i want to override something i prepend, and i also take the risk of breaking stuff
[2014-07-11 17:48:15 -0400] holoway: kallistec: tldr - don't fucking do that
[2014-07-11 17:48:30 -0400] kallistec: holoway: yes, though we should prevent you from doing so by accident
[2014-07-11 17:48:31 -0400] coderanger: holoway: Well, if the artifact name was known to Chef, it could at least detect that collision and warn you
[2014-07-11 17:48:34 -0400] MikeTLive: what about a "provides" line in addition to a "depends"
[2014-07-11 17:48:42 -0400] holoway: coderanger: how would it know?
[2014-07-11 17:48:48 -0400] holoway: coderanger: ah, I see
[2014-07-11 17:48:52 -0400] holoway: yeah
[2014-07-11 17:48:58 -0400] holoway: you want to have the artifact name known
[2014-07-11 17:49:01 -0400] holoway: and if they don't match, be like
[2014-07-11 17:49:03 -0400] kallistec: holoway: which I would like to make simpler to implement by ripping out the overlay stuff
[2014-07-11 17:49:09 -0400] holoway: yo dawg
[2014-07-11 17:49:13 -0400] spheromak: MikeTLive: oh then you have replaces  conflicts  as well..  YAY Deps
[2014-07-11 17:49:17 -0400] someara: this twinky represents the normal about of confusion around cookbooks. According to today's IRC samplings, namspacing would create a twinky.... thirty-five feet long weighing approximately six-hundred pounds
[2014-07-11 17:49:22 -0400] holoway: kallistec: the overlay stuff remains eminently useful
[2014-07-11 17:49:31 -0400] someara: s/about/amount/
[2014-07-11 17:49:36 -0400] coderanger: holoway: Yes, either by noting it down somewhere, or if the artifact name is authorname+cookbookname then it can be derived
[2014-07-11 17:49:38 -0400] holoway: kallistec: but I respect how much you hate it
[2014-07-11 17:49:47 -0400] kallistec: holoway: well, I hate that it's implicit
[2014-07-11 17:49:52 -0400] holoway: ;)
[2014-07-11 17:49:54 -0400] spheromak: holoway: respect the rage
[2014-07-11 17:50:07 -0400] MikeTLive: coderanger_jenkins should be a wrapper around jenkins and have depends on the version of jenkins it wraps. then, go work with the jenkins maintainer to improve it
[2014-07-11 17:50:09 -0400] kallistec: holoway: makes it way to easy to footgun yourself
[2014-07-11 17:50:24 -0400] coderanger: MikeTLive: Again, that isn't possible
[2014-07-11 17:50:28 -0400] btm: MikeTLive: the feature being discussed is having the existing "name" attribute in the metadata work. I'd like to preserve "provides" for different cases that make me think of situations like "web-server" in debian
[2014-07-11 17:50:31 -0400] coderanger: MikeTLive: The two cookbooks are truly different
[2014-07-11 17:50:32 -0400] holoway: MikeTLive: bless your advocacy, but it's not only unrealistic, it's not actaully better in practice
[2014-07-11 17:51:06 -0400] coderanger: And I can't prove my poise/hwrp/whatever style is actually better to the degree I would even encourage merging it
[2014-07-11 17:51:19 -0400] coderanger: but as it stands, I don't have the tools to make my case effectively :)
[2014-07-11 17:51:39 -0400] kallistec: holoway: in a ticket for chef-zero (IIRC), I've proposed either just shipping an overlay build tool, e.g., `knife cookbook build-overlays CANONICAL_COOKBOOK MY_CHANGES` or make an overlays dir in chef-repo somehow
[2014-07-11 17:52:25 -0400] holoway: kallistec: lets table that, because I need to go in 8 minutes, and it's orthogonal to resolving artifact name vs cookbook name
[2014-07-11 17:52:37 -0400] kallistec: no problem
[2014-07-11 17:52:49 -0400] holoway: kallistec: and as long as its supported, I think its probably fine to change the implementation and deprecate the old one
[2014-07-11 17:53:10 -0400] kallistec: I deprecated the old one in chef 10.x ;)
[2014-07-11 17:53:15 -0400] spheromak: i think if there were some way to manage resource names and consitent apis then the  artifact vs the metadata name wouldn't matter as much.
[2014-07-11 17:53:34 -0400] spheromak: if i implement the resource spec for jenkins/whatever's resources then it doesn't matter what my implementation is.
[2014-07-11 17:53:35 -0400] holoway: so it sounds like we (those who remain) are all  on the idea of having artifact name and cookbook name
[2014-07-11 17:53:48 -0400] btm: coderanger: given our time constraint right now, can you write an RFC on a CHEF-3307 equivalent proposal so we can agree on that part, get it written, and committed?
[2014-07-11 17:53:50 -0400] holoway: spheromak: that's an optimization
[2014-07-11 17:53:59 -0400] kallistec: holoway: yes, :+1:
[2014-07-11 17:54:02 -0400] coderanger: btm: Roger, wilco
[2014-07-11 17:54:27 -0400] holoway: coderanger: focus in on the part we have broad agreement on, for low wattage argument resurrection odds
[2014-07-11 17:54:35 -0400] kallistec: holoway: modulo releasing the breakages responsibly
[2014-07-11 17:54:51 -0400] holoway: kallistec: pretty sure it wouldn't have any breaking changes
[2014-07-11 17:55:12 -0400] holoway: kallistec: you keep storing the cookbooks based on metadata name
[2014-07-11 17:55:19 -0400] coderanger: holoway: Indeed, I think there should be two RFCs, one for the 3307 changes and one for adding "artifact name" (which initially will do very little)
[2014-07-11 17:55:20 -0400] holoway: kallistec: artifact name just becomes a new metadata item
[2014-07-11 17:55:28 -0400] MikeTLive: enabling artifactName  cookbookName is a nice thing, enables using a diverse set. but it leads to confusion where you can now have many cookbooks all providing same thing and lead to more lone rangers in the wild wild west. not coming together to make for a community effort
[2014-07-11 17:55:32 -0400] holoway: kallistec: and on upload, you complain about the switch
[2014-07-11 17:55:35 -0400] coderanger: holoway: At some point in the future those can go voltron-style to produce namespacing
[2014-07-11 17:55:58 -0400] holoway: coderanger: but day-one, it resolves the problem of coderanger-jenkins not being "jenkins" when you require it
[2014-07-11 17:56:08 -0400] kallistec: holoway: oh, I got mixed up between 3307 and having a supermarket name metadata thing
[2014-07-11 17:56:16 -0400] kallistec: I'm +1 on both anyway
[2014-07-11 17:56:38 -0400] holoway: kallistec: I'm  on you, sir
[2014-07-11 17:56:56 -0400] spheromak: holoway: long as the chef-run/server can blow up on conflicts. +1
[2014-07-11 17:57:19 -0400] MikeTLive: @holoway we took the side of the community first my self second. dont fork (creating miket-jenkins as a fork)  instead create miket-jenkins as a wrapper around jenkins and work with the jenkins maintainer to make it flexible enough to support whatever i am adding.
[2014-07-11 17:57:20 -0400] spheromak: deep deps causing unexpect behavior cause you got the wrong x-foo someplace
[2014-07-11 17:57:42 -0400] spheromak: MikeTLive: sysctl
[2014-07-11 17:57:44 -0400] MikeTLive: i can see, where its a drastic different this is a huge pain
[2014-07-11 17:57:45 -0400] coderanger: spheromak: +1, that should definitely be a design goal
[2014-07-11 17:58:35 -0400] spheromak: MikeTLive: assumes #1 canonical for the thing #2 that there is a solution for all cases that can be had in a single cook.
[2014-07-11 18:01:06 -0400] holoway: ok, gotta run
[2014-07-11 18:01:14 -0400] github-bawt: [ohai] mcquin deleted mcquin/rspec-3 at 7ab4695: http://git.io/9I2mqQ
[2014-07-11 18:01:56 -0400] MikeTLive: @spheromak correct.  and thats what we are pushig for.
[2014-07-11 18:03:16 -0400] MikeTLive: at least internally, working to make it better vs. more divergent.
[2014-07-11 18:03:33 -0400] lamont_oc: MikeTLive: youre correct for where youre at.  you and at least 95% of chef users should be aiming to reuse what they can and contribute back.  but there /are/ limits to that.
[2014-07-11 18:03:36 -0400] MikeTLive: and then externally, with the book maintainer(s) too.
[2014-07-11 18:04:06 -0400] lamont_oc: theres also downsides to that, since the upstream may change and as you pull the upstream they make break their API with major version bumps and you at that maint cost, which is not insignificant.
[2014-07-11 18:04:55 -0400] MikeTLive: this is why the goal is to not have custom in the wrapper and not to fork. by contributing back and working with the maintainer you participate in that change.
[2014-07-11 18:05:05 -0400] MikeTLive: just like here, participating in the CHEF community.
[2014-07-11 18:05:11 -0400] MikeTLive: not simply consuming
[2014-07-11 18:05:20 -0400] lamont_oc: again, chef itself is a fork of a fork
[2014-07-11 18:05:44 -0400] MikeTLive: sure. and there will always be forks of things when the differences get to a point where people can not work together.
[2014-07-11 18:05:47 -0400] MikeTLive: i understand that.
[2014-07-11 18:05:52 -0400] lamont_oc: right
[2014-07-11 18:05:59 -0400] lamont_oc: were talking about /that/ case
[2014-07-11 18:06:13 -0400] MikeTLive: but that forking should not be the rule. it is an exception mor of a last resort.
[2014-07-11 18:06:17 -0400] lamont_oc: yes
[2014-07-11 18:06:21 -0400] MikeTLive: what i see is that its been the fedault.
[2014-07-11 18:06:25 -0400] MikeTLive: default
[2014-07-11 18:06:36 -0400] MikeTLive: find thing, dont like it, fork it, move on.
[2014-07-11 18:06:43 -0400] MikeTLive: that helps one person.
[2014-07-11 18:06:52 -0400] MikeTLive: 150 people on this chat.
[2014-07-11 18:07:14 -0400] MikeTLive: work together. and now you can build that thing you wanted to build.
[2014-07-11 18:07:17 -0400] lamont_oc: yes
[2014-07-11 18:07:50 -0400] MikeTLive: we dont work together enough. its damn hard to work together. takes commitment from both sides.
[2014-07-11 18:08:28 -0400] MikeTLive: i bet at least 30 people here have a fork of the same common cookbook.
[2014-07-11 18:08:57 -0400] lamont_oc: so a lot of the people here pull back to the upstream whenever possible
[2014-07-11 18:08:59 -0400] MikeTLive: if its bad, make it better, not simply for yourself.
[2014-07-11 18:09:14 -0400] lamont_oc: but you have coderangers reimaging of the jenkins cookbook
[2014-07-11 18:09:36 -0400] lamont_oc: and now the problem is that id /prefer/ to use his cookbook and not write my own, but i dont want the chefinc jenkins cookbook
[2014-07-11 18:09:46 -0400] spheromak: MikeTLive: I agree that you should work to make it better, but if fundamental difference in approach it can't be rectified.
[2014-07-11 18:09:48 -0400] lamont_oc: and theres irreconcilable differences
[2014-07-11 18:10:04 -0400] MikeTLive: thats perfecly fine. the really smart hotshots will always find it easier to write new than to work together. and they will produce awesome stuff.
[2014-07-11 18:10:11 -0400] spheromak: so IMO what you want is a SPEC for the Resources, so that we can take implmentation out
[2014-07-11 18:10:16 -0400] lamont_oc: that is the use case were talking about
[2014-07-11 18:10:17 -0400] spheromak: we need defined interfaces
[2014-07-11 18:11:02 -0400] MikeTLive: when a better ay emerges, somehow we need to take note of it and incorporate the improvements that make life better.
[2014-07-11 18:11:19 -0400] spheromak: assumes consensus on better is reached
[2014-07-11 18:11:25 -0400] MikeTLive: not simply fork off another one.
[2014-07-11 18:11:30 -0400] spheromak: and in that case whoever thinks theirs is better will bifurcate.
[2014-07-11 18:11:41 -0400] lamont_oc: if there was always consensus on better, we wouldnt still have CFEngine and Puppet
[2014-07-11 18:11:51 -0400] spheromak: well the forks in the case of sysctl exist mainly cause there was no maintainer on the person who camped the name
[2014-07-11 18:12:00 -0400] spheromak: then it was differences of opinion
[2014-07-11 18:12:17 -0400] spheromak: It's like wishing for peace on earth.. nice thought, but reality tends to make it more complex.
[2014-07-11 18:13:09 -0400] spheromak: dealiing with the reality of multiple cooks that solve the same problem is the better aproach IMO. via namespacing or whatever else.
[2014-07-11 18:13:24 -0400] MikeTLive: this is where guidelines on cookbook structure can help out. how should i set my atrributes? how does a template get created/maintained? does the cookbook dictate structure or provide flexibility AND a default instead of only the default.
[2014-07-11 18:13:33 -0400] spheromak: IMO its a fundamental problem in how the chef-modularization for Resources has been built.
[2014-07-11 18:13:55 -0400] spheromak: tho I don't see a _better_ solution in sighht.
[2014-07-11 18:14:07 -0400] spheromak: MikeTLive: all that is good, but doesn't sovle the problem.
[2014-07-11 18:14:36 -0400] spheromak: I am also in the camp with you of not forking as much as possible btw.
[2014-07-11 18:14:38 -0400] MikeTLive: @spheromak can you restate the problem for me?
[2014-07-11 18:14:41 -0400] spheromak: Im a wrapper and PR fool
[2014-07-11 18:14:49 -0400] spheromak: problem: people disagree
[2014-07-11 18:14:51 -0400] spheromak: :)
[2014-07-11 18:14:57 -0400] MikeTLive: heck yea!
[2014-07-11 18:15:11 -0400] MikeTLive: but the cookbooks should support that disagreement.
[2014-07-11 18:15:17 -0400] spheromak: yes
[2014-07-11 18:15:26 -0400] MikeTLive: dont hardcode that which can be disagreed upon
[2014-07-11 18:15:50 -0400] spheromak: well because its code
[2014-07-11 18:15:59 -0400] spheromak: it is all subject to disagrement
[2014-07-11 18:16:00 -0400] coderanger: MikeTLive: Some disagreements are fundamental to the very fabric of the code
[2014-07-11 18:16:01 -0400] spheromak: :)
[2014-07-11 18:19:02 -0400] MikeTLive: @coderanger so far those differences are more that the flexability of configuration is not coded for. and so it is up to the one who wants that flexibilty to provide it. AND it is the DUTY of the original maintainer (if it is the accepted standard name) to accept and work with enabling the flexibility, (within some reasonable limit of course)
[2014-07-11 18:19:34 -0400] MikeTLive: choesing an install directory, for a too simple example.
[2014-07-11 18:20:13 -0400] coderanger: MikeTLive: No, it isn't their duty
[2014-07-11 18:20:32 -0400] coderanger: someara doesn't owe me anything, and it isn't his duty to judge if my code is total nonsense
[2014-07-11 18:20:33 -0400] MikeTLive: as a member of the community, you must participate with the communituy.
[2014-07-11 18:20:55 -0400] coderanger: It is my job to _prove_ my code isn't total nonsense
[2014-07-11 18:20:55 -0400] MikeTLive: if my code is in the community of cookbooks, then, yes. it is my duty to work with the community
[2014-07-11 18:21:02 -0400] coderanger: and currently that is made very difficult
[2014-07-11 18:21:27 -0400] coderanger: because the only proof one can have of that is people using it
[2014-07-11 18:21:46 -0400] MikeTLive: by joining the community i make a commitment to that community.
[2014-07-11 18:24:13 -0400] MikeTLive: if i have a community cookbook "httpd" and it is hardcoded to certain things, and its working great for me and a hundred others. and someone comes along with a pullrequest to make it flexible, more modular, and still be backward compatible .. it is my duty to the community to take that improvement. to make it so that another hundred can use it out of the box and pick their configuration parameters.
[2014-07-11 18:24:19 -0400] coderanger: MikeTLive: Yes, I made a commitment to maintain and improve my jenkins cookbook, not the Chef Inc one
[2014-07-11 18:24:36 -0400] coderanger: MikeTLive: Lolno
[2014-07-11 18:24:50 -0400] coderanger: over-config is a terrible thing in software
[2014-07-11 18:25:09 -0400] coderanger: and is actually why most people agree the apache2 cookbook is a failure, because it did _exactly_ what you just described
[2014-07-11 18:25:21 -0400] coderanger: And now the cookbook is both unreadable and impossible to reason about
[2014-07-11 18:25:55 -0400] someara: I have no idea how to computer
[2014-07-11 18:26:28 -0400] coderanger: someara: None of us really have much of a clue about writing cookbooks
[2014-07-11 18:26:38 -0400] coderanger: I mean its only been a thing for a few years now, how could we?
[2014-07-11 18:27:52 -0400] MikeTLive: @someara agree. and thats part of the problem. now that we have a bunch of ideas and differences, its time to look at those and find the patterns and clean up and consolidate with those patterns.
[2014-07-11 18:28:07 -0400] MikeTLive: there are basic parts that should be parameterized and flexible.  start with the simple task of get the artifact, install the artifact, then configure the artifact.
[2014-07-11 18:28:35 -0400] MikeTLive: do you parameterize everything at the start? probly not. why would i write miles of code for params i dont need myself?
[2014-07-11 18:28:46 -0400] MikeTLive: but write to support those additions later.
[2014-07-11 18:28:49 -0400] coderanger: MikeTLive: I've spent the last 3+ years trying to figure out how to build community cookbooks, its really freakin' hard
[2014-07-11 18:29:11 -0400] coderanger: I'm still not sure I even have a great solution
[2014-07-11 18:29:20 -0400] MikeTLive: @coderanger +1 on the really really hard.
[2014-07-11 18:29:22 -0400] spheromak: MikeTLive: goes to the other point, is you assume that one cook could solve all problems.
[2014-07-11 18:29:29 -0400] coderanger: And what I do have requires extensive knowledge of both Chef and Ruby
[2014-07-11 18:29:41 -0400] spheromak: *all problems for all people*
[2014-07-11 18:29:44 -0400] coderanger: So yeah, right now people should probably be forking way more than they are
[2014-07-11 18:30:28 -0400] coderanger: Overuse of "community" cookbooks is a really reason common people get frustrated with chef as a new user
[2014-07-11 18:30:36 -0400] coderanger: and leave it for a "simpler" tool like Ansible
[2014-07-11 18:30:52 -0400] coderanger: when really chef would have been nearly as simple if they just wrote the code they needed
[2014-07-11 18:31:00 -0400] MikeTLive: its use of the "wrong" cookbooks. the feedback and improvements of the books is not happening enough due to the fork.
[2014-07-11 18:31:05 -0400] MikeTLive: and learning curve
[2014-07-11 18:32:39 -0400] MikeTLive: how do i know coming in that you have a framework that works well together? i dont. nor do hundreds of others out there
[2014-07-11 18:33:05 -0400] MikeTLive: ferreting out the cookbook authors that are good and then their cookbooks. is hard.
[2014-07-11 18:37:56 -0400] spheromak: MikeTLive: that's another issue
[2014-07-11 18:37:57 -0400] spheromak: :P
[2014-07-11 19:01:36 -0400] zts: Hopefully Supermarket will help with that.  I'll note again there's things to learn here from CPAN :)
[2014-07-11 20:30:54 -0400] spheromak: zts: agree
[2014-07-11 20:48:42 -0400] travis-ci: [travis-ci] opscode/chef#2855 (11-stable - bb1d4bc : Seth Vargo): The build has errored.
[2014-07-11 20:48:42 -0400] travis-ci: [travis-ci] Change view : https://github.com/opscode/chef/compare/fc8f9ef17261...8aca45f38cb6
[2014-07-11 20:48:42 -0400] travis-ci: [travis-ci] Build details : http://travis-ci.org/opscode/chef/builds/29729337
[2014-07-11 21:01:02 -0400] travis-ci: [travis-ci] opscode/chef#2856 (master - 3ec42a5 : Serdar Sutay): The build was fixed.
[2014-07-11 21:01:03 -0400] travis-ci: [travis-ci] Change view : https://github.com/opscode/chef/compare/aa59fcc2a714...3ec42a522a5b
[2014-07-11 21:01:03 -0400] travis-ci: [travis-ci] Build details : http://travis-ci.org/opscode/chef/builds/29729954
