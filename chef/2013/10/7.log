[2013-10-07 02:01:51 -0400] sgronblom: Trying to figure out how to create a wrapper cookbook
[2013-10-07 02:03:49 -0400] sgronblom: I created a web_server cookbook and tried to put include_recipe("nodejs") in the recipes/default.rb file
[2013-10-07 02:04:36 -0400] jbz: Did you put it into the depends?
[2013-10-07 02:04:46 -0400] sgronblom: Nope
[2013-10-07 02:04:52 -0400] jbz: yep that'll break then.
[2013-10-07 02:05:03 -0400] jbz: Put it into the depends statement in metadata.rb of the wrapper.
[2013-10-07 02:20:46 -0400] sgronblom: jbz: Thanks. It worked.
[2013-10-07 02:20:52 -0400] jbz: Cool.
[2013-10-07 02:23:36 -0400] sgronblom: How would I now define a dev_server that includes web_server? Is it a cookbook in a role or a cookbook in yet one more cookbook? (I wish people would stop using cute names) How can I even include all the recipes of another cookbook?
[2013-10-07 03:16:51 -0400] arussel: I'm having this error: Unable to satisfy constraints on package windows, which does not exist, due to solution constraint  (java = 1.13.0) -> (windows >= 0.0.0), (artifact = 1.10.1) -> (windows ~> 1.8.0)
[2013-10-07 03:17:28 -0400] arussel: what can I do ? I've tried to pin                       "windows" => "1.8.0", but this didn't solve it
[2013-10-07 04:47:44 -0400] dysinger: is there a special trick to using 'template' inside of an LWRP action :create ?
[2013-10-07 04:48:14 -0400] dysinger: it flails & says my template file doesn't exist in the calling recipe (duh! it's in the LWRP recipe)
[2013-10-07 09:22:54 -0400] s2r2: hmm.  https://github.com/opscode-cookbooks/jenkins/blob/master/recipes/_node_ssh.rb#L26 < this prohibits jenkins ssh nodes from picking up the new ssh pubkey when the master's keypair has changed...
[2013-10-07 10:48:43 -0400] laurent\:  sounds silly but how do you escape <% in erb templates ? :)
[2013-10-07 10:49:10 -0400] laurent\: silly maybe not, pretty sure it's straightforward, still searching
[2013-10-07 10:49:35 -0400] arussel: <%%
[2013-10-07 10:49:42 -0400] arussel: iirc
[2013-10-07 10:53:51 -0400] irr: Ohai Chefs. How can I read variable from ~/.chef/knife.rb using ruby and chef gem?
[2013-10-07 10:57:58 -0400] irr: nm, found it
[2013-10-07 11:00:19 -0400] laurent\: arussel: thanks :)
[2013-10-07 11:36:34 -0400] matti_: Quick question - can a provider/LWRP set an attribute so this attribute is later available for use? Or, some sort of a variable that other bits in the provider could use it?
[2013-10-07 11:51:41 -0400] david118: is there a framework similar to test-kitchen more focused on integration tests (maybe wrapping up some chef-zero magic) ?
[2013-10-07 11:52:14 -0400] Oleg: hi, I've found this tool: https://github.com/leftathome/depgraph, but nothing about the command that generates me a graph which shows me the dependencies of a cookbook. Can anyone help me?
[2013-10-07 11:55:01 -0400] Oleg: @david118: as far as i know does test-kitchen support the chef-zero provider. You must only define them in the yml file. See: http://blog.safariflow.com/2013/08/15/using-test-kitchen-with-berkshelf-lxc-and-chef-zero/
[2013-10-07 12:00:42 -0400] david118: Oleg: but afaik the concept of running a suite with 2 or more VMs and running tests across them (i.e. appserver+db) isn't something that is directly supported and some of the tickets that define functionality in that direction have been closed, citing that kitchen was really seen as a unit-test tool.
[2013-10-07 12:01:46 -0400] JayJee: Hello everybody .. Can someone help with this issue undefined method `default_release' for Chef::Resource::Package
[2013-10-07 12:02:05 -0400] JayJee: I have Chef Solo
[2013-10-07 12:03:18 -0400] JayJee: Solved!
[2013-10-07 12:07:37 -0400] matti_: ;]
[2013-10-07 13:07:47 -0400] fishGoM00: trying to upload the rbenv cookbook and get this error
[2013-10-07 13:07:49 -0400] fishGoM00: knife cookbook upload rbenv
[2013-10-07 13:07:49 -0400] fishGoM00: Uploading rbenv          [1.6.5]
[2013-10-07 13:07:49 -0400] fishGoM00: FATAL: Cookbook file resources/execute.rb has a ruby syntax error:
[2013-10-07 13:07:50 -0400] fishGoM00: FATAL: /cookbooks/rbenv/resources/execute.rb:11: syntax error, unexpected ':', expecting $end
[2013-10-07 13:07:50 -0400] fishGoM00: FATAL: attribute :command, kind_of: [String, Array], name_attribute: true
[2013-10-07 13:08:20 -0400] fishGoM00: I must be going blind, I cannot spot the syntax error.  Anyone lend a clue?
[2013-10-07 13:09:53 -0400] fishGoM00: does anyone else get this error when uploading rbenv?
[2013-10-07 13:22:07 -0400] Sticky: hay guys, having a bit of an issue, I want to store a password in an encrypted databag then add it to the attributes so it is available at run time. However adding the "Chef::EncryptedDataBagItem.load" call in the role then adding the result to the attributes gets flattend when the role is uploaded leaving the password in plain text on the server in the attributes
[2013-10-07 13:23:07 -0400] Sticky: is there any way to avoid this other than making the call to Chef::EncryptedDataBagItem.load in the recepie
[2013-10-07 13:25:09 -0400] cwj: Sticky: maybe store it in node.run_state
[2013-10-07 13:25:12 -0400] cwj: e.g. http://lists.opscode.com/sympa/arc/chef/2010-12/msg00067.html
[2013-10-07 13:25:39 -0400] cwj: but i think that still means putting it in a recipe somewhere
[2013-10-07 13:25:49 -0400] cwj: i personally dislike loading data bags in attribute files
[2013-10-07 13:26:05 -0400] cwj: so im not sure if you can do it that way
[2013-10-07 13:27:19 -0400] Sticky: any advice for how to get a password and not have it lying around in plain text? Or would it be use encrypted data bag and read from recipe?
[2013-10-07 13:29:44 -0400] bigbigbang: Ohai guys! newb question : I have a script with "sed" and i want to "translate" it for Chef, How do you handle this ? Execute command ? (<- currently that what i'm doing ...)
[2013-10-07 13:39:51 -0400] pwelch: Morning everyone. Just curious if everyone uses chef-client on their open-source chef serves? When I did it back in 0.10.4 it had issues but it looks like it was fixed on COOK-985. Anyone have any input on this?
[2013-10-07 13:46:55 -0400] bigbigbang: Any advice for translating sed command ? I use execute command but I don't think it's the good way to do it ..
[2013-10-07 13:49:06 -0400] isbaran: bigbigbang: you can use ruby ?
[2013-10-07 13:49:18 -0400] isbaran: if it doesnt look that good :)
[2013-10-07 13:50:05 -0400] bigbigbang: isbaran: yes i can.. u mean using a regex and do the work of sed in ruby ?
[2013-10-07 13:50:12 -0400] isbaran: yes
[2013-10-07 13:51:07 -0400] bigbigbang: isbaran: okay, I was hopping there was a better integration of "sed" with chef DSL or LWRP ..
[2013-10-07 13:51:19 -0400] pwelch: bigbigbang: I think it depends what you are running sed against?
[2013-10-07 13:51:23 -0400] isbaran: bigbigbang: isn't ruby integrated enough ?
[2013-10-07 13:51:29 -0400] bigbigbang: thks anyway !
[2013-10-07 13:51:33 -0400] pwelch: if it is a file could you control that whole file as a template?
[2013-10-07 13:51:34 -0400] Oleg: bigbigbang: You can use http://community.opscode.com/cookbooks/line
[2013-10-07 13:52:42 -0400] Oleg: It defines a new resource named replace_or_add
[2013-10-07 13:53:22 -0400] pwelch: there is also: http://rubydoc.info/gems/chef/0.8.16/Chef/Util/FileEdit
[2013-10-07 13:53:29 -0400] pwelch: oh that is older
[2013-10-07 13:53:41 -0400] pwelch: also it will run every time which is not necessarily good
[2013-10-07 13:54:04 -0400] bigbigbang: Yes i could use a template for the whole file, i already use this instead of "echo" ..
[2013-10-07 13:54:18 -0400] pwelch: http://rubydoc.info/gems/chef/11.6.0/Chef/Util/FileEdit
[2013-10-07 13:54:26 -0400] bigbigbang: i was jsut hopping there was aother solution
[2013-10-07 13:54:36 -0400] bigbigbang: thks for helping
[2013-10-07 13:58:51 -0400] karthee: Hi.. As part of post installation I need to a. install & configure ntp client b. configure /etc/resolv.conf .. I need a suggestion here. Should I create ONE cookbook which does both ? OR create separate cookbooks and assign common role OR any other suggestion ?
[2013-10-07 13:59:37 -0400] kammouflage: I would do separate, I'm a fan of separation when possible.
[2013-10-07 14:00:38 -0400] karthee: kammouflage: okay .. and how do I put them under one name ? say postinstallation => ntp & resolv.conf .? Using roles is right idea ?
[2013-10-07 14:04:14 -0400] kammouflage: using roles is the way to do that
[2013-10-07 14:04:40 -0400] jtimberman: pwelch: for some reason 0.8.16 comes up in google searches :/
[2013-10-07 14:04:45 -0400] karthee: Thanks kammouflage
[2013-10-07 14:05:46 -0400] kammouflage: karthee: i usually do something like, default_base, that has all the cookbooks that should run across all os's, then have something like, centos_base and ubuntu_base that includes the default_base in it's run_list.
[2013-10-07 14:10:33 -0400] karthee: kammouflage: am a newbie here. please bear if its silly q.  default_base, xxx_base are they roles ?
[2013-10-07 14:10:48 -0400] kammouflage: yes, they are
[2013-10-07 14:12:01 -0400] pwelch: previous question, any issues running chef-client on chef-server? Had issues in the past when it was 0.10.14 but it looks like changing the solr log permissions has been fixed
[2013-10-07 14:13:16 -0400] kammouflage: karthee: here is a good reference for using roles, including nesting roles http://docs.opscode.com/essentials_roles.html
[2013-10-07 14:13:23 -0400] fishGoM00: does anyone else get a syntax error when uploading rbenv?
[2013-10-07 14:13:31 -0400] fishGoM00: FATAL: /cookbooks/rbenv/resources/execute.rb:11: syntax error, unexpected ':', expecting $end
[2013-10-07 14:15:47 -0400] karthee: kammouflage: Thanks for the pointer. I already went through it BUT it seems more meaningful after your example "centos_base and ubuntu_base and default_base"
[2013-10-07 14:17:33 -0400] fishGoM00: is anyone able to test uploading rbenv to their chef server?
[2013-10-07 14:17:44 -0400] fishGoM00: I'm wondering if anyone else gets this syntax error?
[2013-10-07 14:21:31 -0400] isbaran: fishGoM00: you have any diff on your cookbook ?
[2013-10-07 14:21:52 -0400] fishGoM00: it's the rbenv cookbook from here
[2013-10-07 14:21:53 -0400] fishGoM00: https://github.com/RiotGames/rbenv-cookbook
[2013-10-07 14:22:05 -0400] fishGoM00: downloads fine, upload gives me the syntax error
[2013-10-07 14:22:17 -0400] isbaran: why dont you ask the dev of it ?
[2013-10-07 14:22:28 -0400] isbaran: or check for differences with opscode rbenv
[2013-10-07 14:23:04 -0400] isbaran: you didnt even mention you were using riot's cook :)
[2013-10-07 14:23:21 -0400] fishGoM00: http://community.opscode.com/cookbooks/rbenv
[2013-10-07 14:23:27 -0400] fishGoM00: do opscode have one?
[2013-10-07 14:24:13 -0400] isbaran: oh sorry then, i thought there was one
[2013-10-07 14:24:20 -0400] isbaran: it uploads fine btw
[2013-10-07 14:24:27 -0400] fishGoM00: I think everyone uses Jamies cookbook
[2013-10-07 14:24:56 -0400] fishGoM00: isbaran: can you do me a favour and tell me which version of ruby you are using on your knife workstation
[2013-10-07 14:24:59 -0400] gchristensen: fishGoM00: there is one by fnichol
[2013-10-07 14:25:16 -0400] isbaran: 1.9.3
[2013-10-07 14:25:17 -0400] fishGoM00: i'm wondering if ruby 1.8.7 (2010-06-23 patchlevel 299) [i386-linux]
[2013-10-07 14:25:20 -0400] fishGoM00: is my problem
[2013-10-07 14:25:30 -0400] isbaran: maybe
[2013-10-07 14:25:43 -0400] fishGoM00: gchristensen: tata will give it a test :)
[2013-10-07 14:25:54 -0400] fishGoM00: if not, upgrade ruby and try again
[2013-10-07 14:25:57 -0400] gchristensen: I'm not saying its better or worse, but I also use riotgames
[2013-10-07 14:26:07 -0400] fishGoM00: it's definately worth a go
[2013-10-07 14:26:56 -0400] mattjalexander: has anyone used  mongodb[:smallfiles] with https://github.com/edelight/chef-mongodb ?
[2013-10-07 14:27:07 -0400] mattjalexander: it doesn't seem to be respecting my .kitchen.yml attribute setting
[2013-10-07 14:38:53 -0400] mattjalexander: aha! it does add smallfiles, but not before the install tries to start up mongodb :(
[2013-10-07 14:46:05 -0400] gg: good day people
[2013-10-07 14:46:24 -0400] gg: I have an issue with avoid re-downloading the same (large) file from AWS S3 over and over again.
[2013-10-07 14:47:22 -0400] gg: Using the aws cookbook, which uses in fact the standard remote_file provider, I played around with the use_conditional_get, use_etag and use_last_modfied but regardless what I do it seems that it keeps on downloading the file over and over again
[2013-10-07 14:47:32 -0400] fishGoM00: I use something like this
[2013-10-07 14:47:34 -0400] fishGoM00: not_if {File.exists?(Chef::Config[:file_cache_path] + "/filename.tar.gz")}
[2013-10-07 14:48:16 -0400] gg: @fishGoM00: thanks, that crossed my mind and is certainly a feasible solution. But why does't the standard remote_file behaviour not cover this, it should when reading the docs
[2013-10-07 14:49:53 -0400] fishGoM00: Can't answer that unfortunately, I've just adopted that workaround for all large files got via remote_file
[2013-10-07 14:52:21 -0400] gg: @fishGoM00 I guess I just have to get over it, and do that as well :-)
[2013-10-07 14:53:18 -0400] fishGoM00: :P
[2013-10-07 14:55:18 -0400] mattjalexander: @gg are you e using create_if_missing or just create?
[2013-10-07 14:56:38 -0400] matti_: LOL
[2013-10-07 14:57:00 -0400] matti_: fishGoM00: Did you found what the issue was?
[2013-10-07 14:57:36 -0400] fishGoM00: the syntax error?
[2013-10-07 14:57:43 -0400] matti_: Yes
[2013-10-07 14:57:49 -0400] fishGoM00: just rying to update ruby on centos
[2013-10-07 14:57:59 -0400] matti_: It is incorrect Ruby
[2013-10-07 14:58:05 -0400] fishGoM00: rvm installed 1.9.3
[2013-10-07 14:58:17 -0400] fishGoM00: just need to sort out the paths now in centos :/
[2013-10-07 14:58:18 -0400] matti_: 'kind_of:' should be a symbol.
[2013-10-07 14:58:25 -0400] matti_: :kind_of
[2013-10-07 14:58:37 -0400] matti_: I am not sure what drunken muppet submitted this cookbook :)
[2013-10-07 14:58:41 -0400] fishGoM00: matti_: have you encountered that before then?
[2013-10-07 14:58:54 -0400] matti_: fishGoM00: I wrote few LWRPs myself.
[2013-10-07 14:59:00 -0400] matti_: fishGoM00: There is not fucking way on the planet.
[2013-10-07 14:59:03 -0400] fak3r: has matti_ encountered drunk muppets before?
[2013-10-07 14:59:25 -0400] matti_: fishGoM00: On in this plane of existance that kind_of: is a correct symbol in Ruby
[2013-10-07 14:59:29 -0400] matti_: fak3r: Of course.
[2013-10-07 14:59:43 -0400] fishGoM00: so you think an upgrade to 1.9.3 will fix it?
[2013-10-07 14:59:52 -0400] matti_: fishGoM00: No.
[2013-10-07 14:59:57 -0400] matti_: fishGoM00: Clone the bloody thing.
[2013-10-07 15:00:01 -0400] matti_: fishGoM00: And correct it.
[2013-10-07 15:00:01 -0400] fishGoM00: dash my hopes :)
[2013-10-07 15:00:09 -0400] matti_: fak3r: http://media.gamerevolution.com/images/misc/Image/drunk_muppet.jpg
[2013-10-07 15:00:36 -0400] gg: @mattjalexander: I use create, trying out create_if_missing as we speak.
[2013-10-07 15:00:39 -0400] fishGoM00: locate bin/ruby
[2013-10-07 15:00:42 -0400] fishGoM00: oopps
[2013-10-07 15:00:43 -0400] gg: Should that makes a difference?
[2013-10-07 15:00:43 -0400] fishGoM00: :P
[2013-10-07 15:01:05 -0400] matti_: fishGoM00: => /bin/under/your/bed/ruby
[2013-10-07 15:01:05 -0400] fak3r: matti_: :)
[2013-10-07 15:01:17 -0400] fishGoM00: it's definately in there somewhere :)
[2013-10-07 15:01:22 -0400] matti_: fishGoM00: :)
[2013-10-07 15:15:19 -0400] dmdeklerk: Hello good[morning||afternoon]
[2013-10-07 15:15:46 -0400] matti_: dmdeklerk: No evening?
[2013-10-07 15:15:47 -0400] matti_: ;S
[2013-10-07 15:15:48 -0400] xhae: It's night in New Zealand.
[2013-10-07 15:16:09 -0400] xhae: I took that as a request for pedantry.
[2013-10-07 15:16:13 -0400] dmdeklerk: I read a couple of times about the 'compile phase' but looking at https://wiki.opscode.com/display/ChefCN/Anatomy+of+a+Chef+Run I cant identify that..
[2013-10-07 15:16:19 -0400] dmdeklerk: haha
[2013-10-07 15:16:39 -0400] xhae: dmdeklerk: 'compile resource collection' in the diagram
[2013-10-07 15:17:12 -0400] dmdeklerk: xhae: aha thnks
[2013-10-07 15:18:16 -0400] matti_: xhae: Pedantry? ;]
[2013-10-07 15:18:39 -0400] matti_: xhae: What if we get colony on Mars? ;]
[2013-10-07 15:18:53 -0400] matti_: Or Moon!
[2013-10-07 15:19:09 -0400] dmdeklerk: they probably use chef to configure the rockets servers ...
[2013-10-07 15:19:22 -0400] dmdeklerk: ;)
[2013-10-07 15:19:30 -0400] gazarsgo: doubtful, they need idempotency
[2013-10-07 15:20:34 -0400] matti_: dmdeklerk: knife send rocket
[2013-10-07 15:20:47 -0400] dmdeklerk: mmmm crypic
[2013-10-07 15:20:51 -0400] dmdeklerk: crypTic
[2013-10-07 15:23:51 -0400] dmdeklerk: Should it be possible to built a railsstack with application_ruby and database cookbooks without writing any recipes? In other words I only write attributes or a json file? (I'm talking 1 app server and 1 db server here)
[2013-10-07 15:26:35 -0400] fishGoM00: gchristensen: which version of the riotgames rbenv cookbook are you using?
[2013-10-07 15:26:49 -0400] gchristensen: 1.6.5
[2013-10-07 15:28:02 -0400] surge_: Anyone set up cookbook replication between different AWS regions/datacenters using Open Source Chef Server? I'm looking for best practices or general guidance in how to best achieve this.
[2013-10-07 15:28:25 -0400] fishGoM00: I was hoping it would be an older version, as 1.6.5 keeps spewing syntax errors for me
[2013-10-07 15:28:29 -0400] surge_: Well, not just cookbooks, but environments, roles, but NOT node data.
[2013-10-07 15:39:15 -0400] nirlay: Hi - Is there any integration with GIT ? As I understand, Chef server acts as a cache, if u change a recipe in GIt, you need to update local repo , and you have to use cmd line tool to publish in chef server.
[2013-10-07 15:39:53 -0400] isbaran: nirlay: yes, you can use a hook to sync everything
[2013-10-07 15:40:33 -0400] nirlay: is that a Ched enterprise feature
[2013-10-07 15:40:50 -0400] isbaran: hmm, not sure i'm not using it
[2013-10-07 15:41:15 -0400] dmdeklerk: nirlay: thats how I understand it too
[2013-10-07 15:41:22 -0400] jbz: As far as I know, there is no official integration with git.  You can use github hooks to automate chef actions.
[2013-10-07 15:41:24 -0400] pabst^: If I am using a wrapper cookbook to set attributes for nagios server, should the attributes be node.default['nagios'] to change the default??
[2013-10-07 15:41:34 -0400] jbz: But chef server isn't a cache.
[2013-10-07 15:41:38 -0400] jbz: It's the canonical store.
[2013-10-07 15:41:53 -0400] pabst^: There is no official integration with any scm, nor should there necessarily be
[2013-10-07 15:42:02 -0400] jbz: Github can be used by us poor humans to store our working trees and history, but the chef server itself is canonical and stands alone.
[2013-10-07 15:42:26 -0400] surge_: pabst^ Yeah, node.default will work fine.
[2013-10-07 15:42:58 -0400] isbaran: i think there is a need for integration, it gets messy if youre not working alone
[2013-10-07 15:43:03 -0400] pabst^: thats what I thought, I am telling it to use htauth and it isn't creating the htauth file for some reason, its still wants to be openID and im not quite sure what I am missing
[2013-10-07 15:43:04 -0400] surge_: recipes have higher precedence than attributes files
[2013-10-07 15:43:15 -0400] pabst^: thats what I thought... hmmm
[2013-10-07 15:43:16 -0400] surge_: pabst^ http://docs.opscode.com/essentials_cookbook_attribute_files.html#attribute-precedence
[2013-10-07 15:43:21 -0400] pabst^: im positive I am doing something dumb than
[2013-10-07 15:43:42 -0400] dmdeklerk: pabst^: i think default[foo] is a shortcut for node.default[foo]
[2013-10-07 15:43:51 -0400] pabst^: dmdeklerk: thanks
[2013-10-07 15:44:01 -0400] surge_: The opscode one? Yeah, you should be able to use htauth without openid. The last time I used it was back in May though. I trashed Nagios since then.
[2013-10-07 15:44:44 -0400] pabst^: node.default['nagios']['server_auth_method'] = "htauth" is in the recipe for the wrapper cookbook
[2013-10-07 15:46:18 -0400] surge_: pabst^ Maybe your order is wrong? Set the attribute then call nagios with include_recipe
[2013-10-07 15:46:39 -0400] pabst^: ah.... ya know what
[2013-10-07 15:46:53 -0400] surge_: Wild guess but it's hard to say with the info you gave
[2013-10-07 15:47:01 -0400] pabst^: nope
[2013-10-07 15:47:03 -0400] surge_: Or you can always do node.override
[2013-10-07 15:47:04 -0400] pabst^: you're 100% right
[2013-10-07 15:48:23 -0400] surge_: pabst^ Cool. Hopefully that fixes the issue
[2013-10-07 15:49:07 -0400] pabst^: surge_: I am sure it will. Thank you. Sometimes you just need to be told your doing stupid to realize it. :) Thanks again!
[2013-10-07 16:02:47 -0400] davidrspin: I am trying to confirm a behavior I am seeing
[2013-10-07 16:03:05 -0400] davidrspin: I have a cookbook which has a custom definition and also a custom Library
[2013-10-07 16:03:42 -0400] davidrspin: I am trying to call a function in the library from the definition but it blows up saying  NameError: uninitialized constant Chef::ResourceDefinitionList::DeployUtils
[2013-10-07 16:04:37 -0400] davidrspin: Looking at the docs and the way things are build in the chef run it appears that this is probably because the definitions are being loaded before the library to fix this I would have to have the library in a cookbook that is earlier in the run list
[2013-10-07 16:04:47 -0400] davidrspin: so by the time I get to the call in the definition it would be there
[2013-10-07 16:04:54 -0400] davidrspin: does this sound right ?
[2013-10-07 16:06:20 -0400] xhae: davidrspin: You should not need to do that.
[2013-10-07 16:06:40 -0400] xhae: any library in libraries/ should be available to your definition
[2013-10-07 16:06:41 -0400] davidrspin: any ideas on why I am seeing what I am seeing?
[2013-10-07 16:07:56 -0400] xhae: Are you mixing in your library module as described in the Syntax section of http://docs.opscode.com/essentials_cookbook_libraries.html?
[2013-10-07 16:08:34 -0400] davidrspin: Yes I created a new namespace
[2013-10-07 16:08:42 -0400] davidrspin: class Chef::Recipe::DeployUtils
[2013-10-07 16:13:36 -0400] davidrspin: Seems very strange
[2013-10-07 16:21:41 -0400] castro1688: question everyone... if i knife upload a cookbook, all environments can use it right? i'm noticing one of my environments never gets the version and I always have to specify -E to get it there
[2013-10-07 16:23:10 -0400] gchristensen: castro1688: the environment might be pinned to a cookbook version
[2013-10-07 16:23:42 -0400] emiles: anybody else having issues resetting the validation key on hosted chef?
[2013-10-07 16:30:27 -0400] castro1688: gchristensen: I am pinning versions, but would that prevent other cookbooks from uploading to it?
[2013-10-07 16:30:45 -0400] gchristensen: you have to re-pin the version to that environment...
[2013-10-07 16:31:12 -0400] gchristensen: that is what pinning does. prevenst your environment from running latest to greatest, so you can phase roll-outs
[2013-10-07 16:33:34 -0400] fishGoM00: castro1688: the only other reason is a cookbook on that node specifies a specific version
[2013-10-07 16:34:21 -0400] davidrspin: can you guys think of a reason why I can call a custom library from a recipe but not from a custom definition
[2013-10-07 16:34:21 -0400] davidrspin: ?
[2013-10-07 16:44:54 -0400] MrBIOS: hi folksI have a "case node platform" statement in a  recipe that I'd like to augment to have an additional conditional (for subfamily/version)
[2013-10-07 16:45:15 -0400] MrBIOS: is there any documentation that covers how I'd go about determining how to do that?
[2013-10-07 16:50:01 -0400] j^2: anyone got a fix for this? --> https://github.com/RiotGames/vagrant-berkshelf/issues/102
[2013-10-07 16:50:16 -0400] j^2: vagrant-berkshelf net-ssh and chef all dont play nice
[2013-10-07 16:53:44 -0400] teukka: j^2: chef depends on net-ssh `net-ssh ~> 2.6`, so there shouldn't be a conflict. did you run `bundle update`? or you can pin net-ssh to that in your Gemfile yourself
[2013-10-07 16:54:08 -0400] j^2: teukka: thanks, i'll give that a shot
[2013-10-07 16:55:00 -0400] teukka: I have had similar issues with the json gem on some projects
[2013-10-07 16:55:14 -0400] teukka: bundler gets sometimes confused
[2013-10-07 16:55:27 -0400] j^2: i reset the gemfile too...
[2013-10-07 16:55:29 -0400] j^2: https://gist.github.com/jjasghar/f367418f7a92b587c7ab
[2013-10-07 16:55:31 -0400] j^2: no luck
[2013-10-07 16:56:31 -0400] j^2: it seems vagrant-berkshelf is the problem
[2013-10-07 16:58:10 -0400] teukka: j^2: oh, but why do you have a vagrant plugin in your Gemfile? vagrant is meant to be used from it's own installer that includes bundled ruby and rubygems
[2013-10-07 16:58:31 -0400] teukka: j^2: you install the plugin using `vagrant plugin install <name>`
[2013-10-07 16:58:53 -0400] j^2: :-O
[2013-10-07 16:59:13 -0400] teukka: vagrant is not distributed as a gem since v1.1
[2013-10-07 16:59:40 -0400] teukka: (you still can use it via bundler from a git repo but that is for developing/testing plugins etc)
[2013-10-07 17:00:11 -0400] j^2: taking a stab at this, thanks :D
[2013-10-07 17:00:31 -0400] teukka: no prob. you got me confused first :)
[2013-10-07 17:00:39 -0400] j^2: NICE!
[2013-10-07 17:00:40 -0400] j^2: thanks!
[2013-10-07 17:00:52 -0400] odyssey4me3: can anyone help me with an example of how to set some mock node data in a chef spec test?
[2013-10-07 17:01:03 -0400] j^2: teukka: i was stuck all weekend on it
[2013-10-07 17:01:33 -0400] teukka: j^2: and test-kitchen invokes vagrant via shell so it won't need the gem version
[2013-10-07 17:03:29 -0400] j^2: teukka: :( it seems i do...
[2013-10-07 17:03:55 -0400] j^2: teukka: https://gist.github.com/jjasghar/15358a1a0657770541a8
[2013-10-07 17:05:44 -0400] teukka: j^2: test-kitchen (and kitchen-vagrant) still need to be in Gemfile. vagrant and vagrant plugins don't
[2013-10-07 17:06:08 -0400] j^2: ahhh
[2013-10-07 17:06:10 -0400] teukka: j^2: and you need to use the pre release version of test-kitchen
[2013-10-07 17:06:18 -0400] j^2: yeah it seems "gem install test-kitchen --pre" fixed the kitchen problem too
[2013-10-07 17:06:24 -0400] j^2: :-/
[2013-10-07 17:06:27 -0400] j^2: i'm so confused
[2013-10-07 17:07:04 -0400] j^2: thanks though, i'll figure this puzzle out, you got me on the path to figure this out
[2013-10-07 17:07:34 -0400] teukka: it gets easier when test-kitchen finally hits v1.0 =)
[2013-10-07 17:32:39 -0400] naminochi: hello chefs, can someone explain why node attributes are unavilable inside a resource block (such as application_python's django -> database block)
[2013-10-07 17:40:12 -0400] bts-: I'm provisioning a box from a clean slate and it's saying that a service is already running (but it can't be... and isn't), and so it says "nothing to do". any tips?
[2013-10-07 17:41:49 -0400] j^2: bts-: before the service in the recipe, put a stanza that stops the service and see what happens
[2013-10-07 17:42:08 -0400] bts-: j^2: thanks. i'll give that a try
[2013-10-07 17:47:23 -0400] bts-: j^2: "Service not running, nothing to stop"
[2013-10-07 17:48:26 -0400] j^2: :-/
[2013-10-07 17:48:40 -0400] bts-: j^2: yeah. haha
[2013-10-07 17:49:54 -0400] naminochi: did the service drop a pidfile that it didnt clean up?
[2013-10-07 17:50:26 -0400] bts-: naminochi: the service has never started at all
[2013-10-07 17:50:43 -0400] naminochi: what service, if you dont mind me asking?
[2013-10-07 17:50:49 -0400] bts-: kafka
[2013-10-07 17:50:53 -0400] bts-: https://github.com/mthssdrbrg/kafka-cookbook
[2013-10-07 17:51:24 -0400] naminochi: there's some kind of existential joke in that somewhere ;D
[2013-10-07 17:51:31 -0400] bts-: haha :)
[2013-10-07 17:51:56 -0400] bts-: indeed
[2013-10-07 17:52:02 -0400] naminochi: what os are you running?
[2013-10-07 17:52:22 -0400] bts-: centos 6.3
[2013-10-07 17:52:43 -0400] naminochi: & which recipe?
[2013-10-07 17:53:49 -0400] bts-: i'm using a slightly modified copy of the "source" recipe from https://github.com/mthssdrbrg/kafka-cookbook
[2013-10-07 17:54:14 -0400] bts-: where basically i moved https://github.com/mthssdrbrg/kafka-cookbook/blob/master/recipes/default.rb#L94-L99 from default to the bottom of source
[2013-10-07 17:54:45 -0400] bts-: because it didn't make sense to me to declare the service before trying to install the thing
[2013-10-07 17:55:44 -0400] bts-: the source recipe includes default
[2013-10-07 17:59:39 -0400] dailynerd: any idea why the opscode haproxy cookbook hasn't been updated in 2+ years? seems to be missing some features
[2013-10-07 18:04:25 -0400] arussel: isn't version 1.5.0 5 days old ?
[2013-10-07 18:04:39 -0400] gleam: https://github.com/opscode-cookbooks/haproxy
[2013-10-07 18:04:43 -0400] gleam: sure looks it to me
[2013-10-07 18:05:01 -0400] arussel: ok, 7 days old :-)
[2013-10-07 18:05:36 -0400] doomviking: override the default attributes to get later versions
[2013-10-07 18:06:47 -0400] beantown1013: Are there any plans to release enterprise 11+ features as part of open chef (e.g. RBAC, push comand, and organizations)?
[2013-10-07 18:08:05 -0400] mattupstate: anyone know why the community hostsfile cookbook wont add an entry for a hostname with an ip address of 127.0.0.1?
[2013-10-07 18:08:33 -0400] mattray: beantown1013: the push server will be open sourced, just not sure what the timeframe is
[2013-10-07 18:08:58 -0400] mattray: beantown1013: organizations = separate open source Chef servers
[2013-10-07 18:09:14 -0400] mattray: I don't think the RBAC is going to be open sourced
[2013-10-07 18:09:16 -0400] beantown1013: unpleasant
[2013-10-07 18:34:51 -0400] bts-: well, by explicitly telling chef to use a generic service::init provider instead of service::init::redhat provider, my problem goes away
[2013-10-07 18:36:19 -0400] bts-: where it would normally use the redhat one implicitly. as it should, since i'm on centos
[2013-10-07 18:37:53 -0400] naminochi: can someone help me understand how to pass node attributes to a LWRP inner block?
[2013-10-07 18:38:04 -0400] naminochi: I'm getting an undefined error
[2013-10-07 18:48:46 -0400] adamjk-dev: someone remind me... where are cookbooks copied to on the machine being provisioned (with chef-client)?
[2013-10-07 18:49:08 -0400] adamjk-dev: of course.... as I ask
[2013-10-07 18:49:09 -0400] adamjk-dev: I found them
[2013-10-07 18:54:25 -0400] naminochi: still looking for someone who can help explain why node attributes are unavialble to a block inside LWRP
[2013-10-07 19:02:00 -0400] btm: @opscode chef/ohai code review: join: https://plus.google.com/hangouts/_/05673cdaa284c8d0d6d30de65d78f586539ccc6d, watch: http://youtu.be/XLuwQAWTEgU
[2013-10-07 19:05:00 -0400] jwitrick: I need some help. I am using the newest recipe for mysql and I keep getting this error: https://gist.github.com/jwitrick/6873166
[2013-10-07 19:05:12 -0400] jwitrick: I am using chef-client  10.6.6
[2013-10-07 19:10:07 -0400] if_then_: Called "RunContext" in newer versions of Chef?
[2013-10-07 19:11:42 -0400] jwitrick: ya im not worried about that. i am more worried that this section now breaks older versions of chef 10
[2013-10-07 19:12:11 -0400] bean: jwitrick: i don't know if chef 10.6.6 has that
[2013-10-07 19:12:34 -0400] bean: hmm, requirements say chef0.10.10+.
[2013-10-07 19:12:45 -0400] techminer: Is anyone using Sensu to monitor Chef?  I'm trying to figure out how to alert when a chef node hasn't checked in in awhile.or if it's getting fatal errors in it's client.log
[2013-10-07 19:13:26 -0400] jwitrick: ya thats why im wondering if this was ever tested. and if one of the @opscode guys have run into this
[2013-10-07 19:14:38 -0400] jwitrick: Ya looking at the code for 10.16.6 (https://github.com/opscode/chef/blob/10.16.6/chef/lib/chef/run_context.rb) it does not appear like this will work
[2013-10-07 19:15:00 -0400] bean: likely not, that seems like something that should have been tested.
[2013-10-07 19:16:03 -0400] bean: jwitrick: added very recently
[2013-10-07 19:16:30 -0400] bean: jwitrick: https://github.com/opscode-cookbooks/mysql/commit/13bb54c71d9f43d245509147bfda159b041a6a84
[2013-10-07 19:17:10 -0400] sprack: anyone have a good solution for using the mysql cookbook with centos? ie...using the REMI repo so that it loads v5.5
[2013-10-07 19:17:50 -0400] jwitrick: ya. im a looking into it to see if I can make a quick pull request to either make it check only on chef11 or to figure out a backwords compatible solution
[2013-10-07 19:24:52 -0400] bean: jwitrick: ah yeah, seth vargo says it requires 0.10.10+, but you have 10.16.6?
[2013-10-07 19:24:59 -0400] bean: or 10.6?
[2013-10-07 19:25:34 -0400] jwitrick: chef-client -v
[2013-10-07 19:25:34 -0400] jwitrick: Chef: 10.16.6
[2013-10-07 19:25:41 -0400] jwitrick: I am creating an issue right now
[2013-10-07 19:25:51 -0400] bean: I just commented on that line of code and he replied.
[2013-10-07 19:26:44 -0400] jwitrick: got the chat now.
[2013-10-07 19:31:12 -0400] dmdeklerk: naminochi: if your still looking.. try this outside the block foo = node['foo']. and then inside the block reference foo. its a ruby scope thing
[2013-10-07 19:34:24 -0400] gchristensen: general team-building question: how many nodes do people have per employee? ie: 100 nodes, 2 employees => 50 nodes / employee
[2013-10-07 19:34:59 -0400] jwitrick: bean: I have created a ticket https://tickets.opscode.com/browse/COOK-3749
[2013-10-07 19:35:05 -0400] bean: nice
[2013-10-07 19:35:12 -0400] jwitrick: and when seth vargo gets online I will send it his way
[2013-10-07 19:35:15 -0400] jchauncey: gchristensen: why does that matter?
[2013-10-07 19:35:33 -0400] gchristensen: jchauncey: honestly just curious
[2013-10-07 19:35:49 -0400] bean: imo it doesn't really matter?
[2013-10-07 19:35:53 -0400] jchauncey: i guess i cant understand why the number of nodes is tied to the number of employees
[2013-10-07 19:35:59 -0400] bean: esp because it depends on how big your servers are etc.
[2013-10-07 19:36:03 -0400] bean: me either, jchauncey
[2013-10-07 19:37:23 -0400] gchristensen: I'm not looking for a definitive answer here, just curious what sorts of numbers people are working with. is it an offensive question or something? :P purely curious.
[2013-10-07 19:37:44 -0400] mveitas: I am looking to override a template that is defined in another cookbook. The template is defined as such:  template "#{node['logstash']['basedir']}/agent/etc/shipper.conf"
[2013-10-07 19:38:01 -0400] bean: gchristensen: i have me and 2 other guys doing all the sysadmining and chef at my company. I don't really think one can correlate the two
[2013-10-07 19:40:25 -0400] jchauncey: gchristensen: how many servers do you have? thats the number of nodes you have (roughly)
[2013-10-07 19:41:23 -0400] gchristensen: *sigh* in fact it is. I'm not looking for correlations here. I'm sorry I asked such an inflammatory question :)
[2013-10-07 19:43:01 -0400] bean: gchristensen: not really inflammatory, just not one that really makes any sense.
[2013-10-07 19:43:09 -0400] dmdeklerk: gchristensen: its like asking how many nails per worker you need at a construction site, well it depends
[2013-10-07 19:44:26 -0400] bean: jwitrick: look at that. It's fixed.
[2013-10-07 19:46:20 -0400] jonathon: does anyone know how to pass node attributes to a block resource inside of a LWRP? I'm getting method [] undefined on the node attribute.
[2013-10-07 19:46:23 -0400] jwitrick: easy enough
[2013-10-07 19:49:35 -0400] dmdeklerk: jonathon: make a variable outside the block with the value of the attribute. then reference the variable inside the block.
[2013-10-07 19:49:37 -0400] gchristensen: my question is rooted in the idea that at some point, you have too much infrastructure for X # of people to manage, and I'm not sure where that is.
[2013-10-07 19:50:57 -0400] sprack: gchristensen: facebook says they manage their chef team with 4 people
[2013-10-07 19:51:13 -0400] if_then_: gchristensen: Definitely a moving target. 1000 virtual servers with simple software would be a inordinately easier to manage than 10, multi-million dollar, bare metal running complex software
[2013-10-07 19:51:33 -0400] killfill: hi
[2013-10-07 19:51:46 -0400] gchristensen: of course there is no single number here, just looking for assorted situations. I recognize that isn't necessarily usefu0
[2013-10-07 19:51:58 -0400] killfill: today i ran chef-client on one of my machines and got this: http://pastebin.ca/2463831
[2013-10-07 19:52:03 -0400] killfill: undefined local variable or method `use_inline_resources' for #<Class:0x00000000c6a598>
[2013-10-07 19:52:07 -0400] killfill: thats up with that?.. :S
[2013-10-07 19:52:19 -0400] jameson__: gchristensen: i'd say instead of # of machine, you want to think of # of deploy groups or node types
[2013-10-07 19:52:34 -0400] gchristensen: I'd buy that
[2013-10-07 19:52:58 -0400] killfill: tryung to run it on an ubuntu 12.04
[2013-10-07 19:53:00 -0400] arussel: gchristensen: the # of people needed depends on the complexity of your settings, not the # of nodes
[2013-10-07 19:53:16 -0400] gchristensen: arussel: that is the general sentiment people have been hammering into my head here, :)
[2013-10-07 19:53:33 -0400] arussel: I've been running a fleet of 200 nodes by myself and I'm not a sysadmin, I'm a dev
[2013-10-07 19:53:43 -0400] gchristensen: I appreciate all the feedback, I'll crawl back under my rock
[2013-10-07 19:53:49 -0400] arussel: same code on all the node, super trivial
[2013-10-07 19:53:53 -0400] jameson__: killfill: you aren't using chef11
[2013-10-07 19:53:54 -0400] gchristensen: aye
[2013-10-07 19:54:05 -0400] dmdeklerk: gchristensen: the whole devops idea is to code your infrastructure, code can do a lot more than a human, do whatever but in a loop et voila
[2013-10-07 19:54:20 -0400] jameson__: killfill: use_inline_resources is a chef11 thang
[2013-10-07 19:54:35 -0400] jameson__: killfill: https://github.com/opscode-cookbooks/ark/pull/25 :3
[2013-10-07 19:55:01 -0400] if_then_: dmdeklerk: Posh, I can do loops *walks in a circle*
[2013-10-07 19:55:10 -0400] killfill: oh!
[2013-10-07 19:55:24 -0400] dmdeklerk: if_then: he?
[2013-10-07 19:55:31 -0400] killfill: so this mean someboady updated the api cookbook on my repo.. hm...
[2013-10-07 19:56:23 -0400] lmickh: dmdeklerk: isn't a good part of devops also understand your workflow and processes (i.e. know how many devs it takes to write said code)?
[2013-10-07 19:57:12 -0400] dmdeklerk: lmickh: absolutely but that goes for every profession
[2013-10-07 19:57:21 -0400] killfill: jameson__: thanks!
[2013-10-07 19:57:34 -0400] dmdeklerk: lmickh: thats the hardest part
[2013-10-07 19:57:57 -0400] naminochino: dmdeklerk can you give me an example? I'm trying to use a node attribute set in the environment to override settings in the database block of an application_python deploy.
[2013-10-07 20:00:03 -0400] btm: @opscode cookbook code review: join: https://plus.google.com/hangouts/_/8fdbcc952a1e9bba860768ec9b1bc61c9a91885c, watch: http://youtu.be/pBu-B9YAeGU
[2013-10-07 20:03:04 -0400] dmdeklerk: naminochino: check this out https://github.com/devops-israel/chef-rails_application/blob/master/recipes/default.rb#L36 (notice the linenumber)
[2013-10-07 20:03:55 -0400] dmdeklerk: naminochino: notice the comment # can't put node[:rails][...] things inside the database block
[2013-10-07 20:04:25 -0400] naminochino: Ok thanks I will try that now.
[2013-10-07 20:04:45 -0400] jessicab1: so.. where does the nodes.transform method come from? seems like you cant use it in chef recipes.. is there an easy way to add to the runlist from a chef recipe?
[2013-10-07 20:05:50 -0400] jessicab1: er i guess its some weird .run_list method actually.. from knife exec
[2013-10-07 20:05:55 -0400] dmdeklerk: naminochino: there's a lot of hocus pocus going on in invoking the database lwrp inside the rails lwrp inside the application lwrp.. good hocus pocus though
[2013-10-07 20:06:57 -0400] naminochino: dmdeklerk indeed, believe me I appreciate all of it but couldn't google my way out of this edge case
[2013-10-07 20:07:27 -0400] dmdeklerk: github now has search it really helped me, just started chef 2 weeks ago
[2013-10-07 20:08:29 -0400] naminochino: awesome thanks! I've been using chef for a while, but only now doing really large and multi-staged code deploys. Before I was just setting up infrastructure and leaving the rest to someone else
[2013-10-07 20:08:39 -0400] dmdeklerk: naminochino: if your interested I put together a list of articles
[2013-10-07 20:09:55 -0400] naminochino: always interested in reading more about how other people do things in chef, by all means let me know where I can find them. You can msg me the details if you dont want to put them in the channel.
[2013-10-07 20:11:09 -0400] dmdeklerk: Collection of chef related articles https://github.com/dmdeklerk/bella/wiki just a list and from all over the place
[2013-10-07 20:11:30 -0400] naminochino: cool thanks Ill check it out
[2013-10-07 20:12:19 -0400] dmdeklerk: your wellcome
[2013-10-07 20:12:39 -0400] dysinger: I tried to implement a lwrp yesterday that managed a template and a package in the action :create. Let's call this cookbook A. When I tried to use it from cookbook B. it worked great until it tried to find the template file & then bailed saying it didn't know how to find the template in cookbook B.  tips?
[2013-10-07 20:13:32 -0400] jwitrick: Seth Vargo around?
[2013-10-07 20:14:06 -0400] naminochino: dysinger sounds like the cookbook name for the template
[2013-10-07 20:14:17 -0400] naminochino: its going to try to pull the template from cookbook B by default
[2013-10-07 20:14:26 -0400] naminochino: let me find you en example
[2013-10-07 20:15:15 -0400] naminochino: https://github.com/opscode-cookbooks/application_python/blob/master/providers/django.rb#L135
[2013-10-07 20:15:21 -0400] dysinger: thanks
[2013-10-07 20:15:41 -0400] dysinger: that's what I needed
[2013-10-07 20:15:57 -0400] naminochino: no problem, I try to help at least 2-3 other people everytime I'm in here for help ;)
[2013-10-07 20:21:19 -0400] ccope: has anyone tried using chef server 11 with pgpool-ii or similar?
[2013-10-07 20:23:07 -0400] tasslehawf: How do I install an older version of Jenkins? 1.534 is broken
[2013-10-07 20:23:35 -0400] ccope: or, does anyone have any experience with pgpool, and know if there might be limitations that would prevent using it as a datastore for erchef?
[2013-10-07 20:33:50 -0400] b-dean: When I run test kitchen or maybe just vagrant, and something in my run list causes an error, there's this nice error handler that shows what line the exception came from in what resource, etc. Does anyone know what handler that is? I thought it might be Chef::Handler::ErrorReport but it does not appear to be
[2013-10-07 20:34:10 -0400] b-dean: I ask because I want the same kind of output when I'm running chef-client as a service
[2013-10-07 20:35:16 -0400] naminochino: b-dean there is a chef_handler that you can set to email you the stacktrace I believe
[2013-10-07 20:44:04 -0400] b-dean: hmm I wasn't really looking for a handler that emails, just one that shows the stack in the /var/log/chef/client.log file. along with the resource that created the error, etc. just like the chef-solo provisioners from vagrant / test-kitchen
[2013-10-07 20:47:30 -0400] sfalcon: ccope: I don't have pgpool experience but can provide details around erchef and what it expects from pg if that would help.
[2013-10-07 20:49:13 -0400] sfalcon: short answer is: erchef talks to pg using its standard wire protocol so from pgpool docs should work.
[2013-10-07 20:49:34 -0400] sfalcon: In terms of connection pooling, that's already built into erchef. But I gather you'd be interested in the replication feature.
[2013-10-07 20:51:00 -0400] gsymons-di: So, anybody know of a cookbook that's a good example of testing LWRPs (or HWRPs) with RSpec/ChefSpec?
[2013-10-07 20:52:24 -0400] chinonami: b-dean https://github.com/opscode-cookbooks/chef_handler
[2013-10-07 20:52:35 -0400] chinonami: I think that will work for what you want
[2013-10-07 20:55:05 -0400] b-dean: I'm already using that chef_handler cookbook to add other handlers. I just thought there was some handler being used by vagrant or test-kitchen and I could not figure out what it was
[2013-10-07 20:55:14 -0400] ccope: sfalcon: that's what initially excited me about pgpool, but then i saw this: http://www.pgpool.net/docs/latest/pgpool-en.html#restriction
[2013-10-07 20:55:47 -0400] ccope: i have no clue if erchef uses any of those unsupported functions+queries
[2013-10-07 21:00:04 -0400] jblack: Hi, I'm trying to use the opscode mysql cookbook.  I'm using mysql::server, which did all sorts of stuff, like installed libmysql-client, and added users and whatnot, but it didn't actually install the mysql-server package itself.
[2013-10-07 21:00:22 -0400] jblack: Has anyone else run into that ?
[2013-10-07 21:03:11 -0400] sfalcon: ccope: the schema for storing cookbooks uses a sequence.
[2013-10-07 21:03:50 -0400] sfalcon: I think I would explore pg replication directly instead of via client wrapper like pgpool
[2013-10-07 21:47:35 -0400] eliklein: sethvargo around by chance?
[2013-10-07 21:48:27 -0400] jblack: So, nobody else is have trouble with mysql::server not actually installing mysql-server ?
[2013-10-07 21:50:07 -0400] bean: jblack: there was a change made to mysql::ruby earlier let me give it a read and see if it looks broken
[2013-10-07 21:50:47 -0400] bean: jblack: what OS?
[2013-10-07 21:51:04 -0400] jblack: Ubuntu, so I suppose platform would be debian
[2013-10-07 21:51:33 -0400] jblack: The mysql::server seems to be doing everything but apt-get install mysql-server
[2013-10-07 21:52:26 -0400] bean: it does a loop on the attribute default['mysql']['server']['packages']
[2013-10-07 21:53:12 -0400] bean: node['mysql']['server']['packages'].each do |name|
[2013-10-07 21:53:13 -0400] bean:   package name do
[2013-10-07 21:53:14 -0400] bean:     action   :install
[2013-10-07 21:53:14 -0400] bean:     notifies :start, 'service[mysql]', :immediately
[2013-10-07 21:53:14 -0400] bean:   end
[2013-10-07 21:53:16 -0400] bean: oops, didnt mean to paste.
[2013-10-07 21:53:25 -0400] bean: yeah, looks like it should be working to me, jblack
[2013-10-07 21:54:12 -0400] jblack: Yeah, I tried adding ["mysql-server"]  to my json under mysql server packages.
[2013-10-07 21:54:24 -0400] jblack: I'll keep at it. I'm sure I'm making an obvious mistake
[2013-10-07 21:55:49 -0400] jblack: It should be as simple as adding the  mysql::server  recipe, right?
[2013-10-07 21:58:03 -0400] bean: should be.
[2013-10-07 21:58:10 -0400] bean: as far as I can tell
[2013-10-07 21:58:16 -0400] jblack: Yeah, and there's a even a default attribute for mysql/server/packages
[2013-10-07 21:58:19 -0400] bean: and this is the most recent, right jblack
[2013-10-07 21:58:36 -0400] bean: 3.0.11
[2013-10-07 21:58:45 -0400] jblack: Should be, yeah. Last revision here is oct 7, bump version to 3.0.11
[2013-10-07 21:59:59 -0400] tayworm: does anyone have a moment to answer a question about the git provider?
[2013-10-07 22:00:38 -0400] MrBIOS: quick question about data bags
[2013-10-07 22:00:56 -0400] MrBIOS: it doesn't seem possible to do something like id data_bag_item("auth-tokens", "aws-user", "key") and then data_bag_item("auth-tokens", "aws-user", "secret")
[2013-10-07 22:01:04 -0400] MrBIOS: can the key/value pair only be one level deep?
[2013-10-07 22:07:35 -0400] jblack: ok bean, I found the problem, I think
[2013-10-07 22:07:56 -0400] jblack: it looks like the recipe attempts to restart mysql before it installs it.
[2013-10-07 22:08:02 -0400] jblack: I"ll get a link
[2013-10-07 22:08:45 -0400] jblack:  ttps://github.com/opscode-cookbooks/mysql/blob/master/recipes/server.rb#L134   is attempting to restart mysql
[2013-10-07 22:08:53 -0400] jblack: however, it doens't get installed, until line 146
[2013-10-07 22:09:50 -0400] jblack: That must man that the package install on 146 that you found isn't actually intended to install msyql itself
[2013-10-07 22:13:38 -0400] ccope: sfalcon: thanks for the tip
[2013-10-07 22:40:56 -0400] gsymons-di: Anybody know if it's possible to use `use_inline_resources` with an HWRP?
[2013-10-07 23:12:59 -0400] dgarstang2: What's the syntax gonna look like for an if inside a template?
[2013-10-07 23:16:24 -0400] sfalcon: dgarstang2: https://github.com/opscode-cookbooks/apache2/blob/master/templates/default/web_app.conf.erb#L31
[2013-10-07 23:29:49 -0400] dgarstang2: Why the hell would https://github.com/customink-webops/hostsfile be REMOVING hosts entries if I have :create or :create_if_missing?
[2013-10-07 23:31:11 -0400] dgarstang2: hostsfile_entry[172.16.1.10] already exists - skipping create_if_missing. .... no it doesn't. it doesn't exist
[2013-10-07 23:37:57 -0400] dgarstang2: seems seriously broken https://github.com/customink-webops/hostsfile
[2013-10-07 23:49:06 -0400] basic`: i can't seem to get my Vagrantfile to copy my encrypted_data_bag_secret to the vm is there more than setting 'encrypted_data_bag_secret_key_path' ?
[2013-10-07 23:52:12 -0400] basic`: i.e. i'm setting     chef.encrypted_data_bag_secret_key_path = "#{ENV['HOME']}/.chef/encrypted_data_bag_secret"
[2013-10-07 23:58:05 -0400] basic`: is there more to getting vagrant to copy the encrypted_data_bag_secret?
[2013-10-07 23:59:39 -0400] basic`: hmm, that's only for chef-solo?
