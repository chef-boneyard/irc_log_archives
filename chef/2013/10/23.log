[2013-10-23 00:14:58 -0400] pwelch: anyone using foodcritic get this output as the returned value when running: foodcritic [cookbook_path]
[2013-10-23 01:01:32 -0400] Hank_: @coderanger: i tried the code suggested by you
[2013-10-23 01:01:39 -0400] Hank_: sorry, no luck
[2013-10-23 01:02:02 -0400] Hank_: is it possible i can wirte the value to node attribute?
[2013-10-23 01:04:54 -0400] Hank_: @All : is it possible to write a value from a ruby block to node attribure and then read in template block
[2013-10-23 01:04:55 -0400] Hank_: ?
[2013-10-23 01:12:46 -0400] vigith: when i try Cheg.Log.fatal! .. i am getting => undefined method `fatal!' for #<Logger:0x00000001fbbb38>
[2013-10-23 01:12:52 -0400] vigith: i am using chef 11.4 client
[2013-10-23 01:13:10 -0400] vigith: fatal is there.. but i want to abort the chef execution
[2013-10-23 01:42:09 -0400] silk: You could try: raise Chef::Exceptions::Service, "Chef-client runs disabled: #{message}."
[2013-10-23 01:51:39 -0400] vigith: silk: thank you
[2013-10-23 01:51:58 -0400] silk: you're welcome
[2013-10-23 01:55:02 -0400] iverson0881: so i've been having a hard time figuring out how to take a partial_search result of fqdns and then putting them into a comma separated list, anyone done this before?
[2013-10-23 02:03:34 -0400] coderanger: iverson0881: partial_search(...).map{|d| d[:fqdn]}.join(',')
[2013-10-23 02:04:19 -0400] walkah: boo. no omnibus for mavericks :-(
[2013-10-23 02:04:27 -0400] flaccid: coderanger: :)
[2013-10-23 02:04:39 -0400] flaccid: walkah:oh dang, i'm installing dat now
[2013-10-23 02:04:40 -0400] iverson0881: coderanger: man  i feel like i did that but lets try again
[2013-10-23 02:05:39 -0400] walkah: flaccid: yeah ... maybe just a single case in install.sh?
[2013-10-23 02:06:01 -0400] flaccid: walkah: i guess so, worth a try
[2013-10-23 02:08:05 -0400] iverson0881: coderanger: damnit. so i was doing this on the @variable instead of on the variable i assigned to the partial_search. and that apparently was it
[2013-10-23 02:16:11 -0400] ggolin: hell
[2013-10-23 02:16:12 -0400] ggolin: o
[2013-10-23 02:16:59 -0400] ggolin: i have a dummy role which contains nothing but a name and a description. my monitoring searches for all of the nodes which do not have this role in the run_list. or so i had thought.
[2013-10-23 02:17:43 -0400] ggolin: wait - does the client need to be run on the nodes for the role to be searcheable ?
[2013-10-23 02:18:54 -0400] ggolin: roles. plural. okay.
[2013-10-23 02:21:27 -0400] not_a_number: hello.  I'm new to Chef.  I've defined a few attributes in attributes/default.rb but it's not getting picked up.  am I missing something simple or is there a particular Chef solo version that supports this?
[2013-10-23 02:21:28 -0400] Hank_: Hi
[2013-10-23 02:21:41 -0400] not_a_number: error message is like .../lib/ruby/gems/1.8/gems/chef-0.6.0.4/lib/chef/node.rb:180:in `method_missing': Attribute default is not defined! (ArgumentError)
[2013-10-23 02:21:57 -0400] Hank_: Can someone help me with ruby_block and templates?
[2013-10-23 02:22:33 -0400] Hank_: the value i set in ruby block to node attribure is blank when i assign it in the template block
[2013-10-23 02:32:11 -0400] ggolin: right, so roles:not_monitored does not work either.
[2013-10-23 02:33:28 -0400] ggolin: what am i doing wrong here? agent_nodes = search(:node, "NOT roles:not_monitored")
[2013-10-23 02:33:39 -0400] ggolin: this returns all of the nodes
[2013-10-23 02:33:51 -0400] ggolin: tried role:not_monitored as well, same result
[2013-10-23 02:39:36 -0400] Hank_: can someone please help
[2013-10-23 02:43:41 -0400] ggolin: Hank_, code
[2013-10-23 02:44:37 -0400] Hank_: one in
[2013-10-23 02:44:39 -0400] Hank_: min
[2013-10-23 02:46:03 -0400] Hank_: @ggolin:http://hastebin.com/ciwosejagi.rb
[2013-10-23 02:47:39 -0400] ggolin: node.save in there somewhere
[2013-10-23 02:47:40 -0400] ggolin: i think
[2013-10-23 02:48:35 -0400] Hank_: oh that will do it?
[2013-10-23 02:48:39 -0400] Hank_: let me try it
[2013-10-23 02:53:07 -0400] ggolin: Hank_, node.save right before the template
[2013-10-23 02:54:13 -0400] Hank_: trying it now
[2013-10-23 03:00:48 -0400] Hank_: ggolin: still no lucj
[2013-10-23 03:00:51 -0400] Hank_: *luck
[2013-10-23 03:09:14 -0400] ggolin: Hank_, node.save!
[2013-10-23 05:22:10 -0400] packeteer: has anybody got a working guide to installing a full chef setup. the howto on docs.opscode.com has incomplete or incorrect instructions :/
[2013-10-23 05:28:42 -0400] chip-: packeteer: which how to? It's pretty simple.
[2013-10-23 05:28:47 -0400] chip-: Chef open-source server?
[2013-10-23 05:28:50 -0400] packeteer: yes
[2013-10-23 05:29:00 -0400] chip-: RHEL or DEB?
[2013-10-23 05:29:07 -0400] packeteer: ubuntu 12.04
[2013-10-23 05:29:21 -0400] chip-: Testing purposes in a local vagrant box or to use in anger?
[2013-10-23 05:29:51 -0400] packeteer: currently in vm's, once learnt, we'll use it in anger
[2013-10-23 05:30:09 -0400] chip-: 1) Make sure your machine has valid forward and reverse dns to itself.
[2013-10-23 05:30:15 -0400] chip-: hostname -f should return a name the machine can reach.
[2013-10-23 05:30:31 -0400] chip-: 2) Download the deb.
[2013-10-23 05:30:38 -0400] chip-: 3) Install it.
[2013-10-23 05:30:43 -0400] chip-: 4) Run chef-server-ctl reconfigure
[2013-10-23 05:30:49 -0400] chip-: and bam, now it's listening on 443.
[2013-10-23 05:30:51 -0400] chip-: That's it.
[2013-10-23 05:31:20 -0400] chip-: (4) needs root privileges.
[2013-10-23 05:31:27 -0400] packeteer: yeah, installing server worked. actually using it proved difficult
[2013-10-23 05:32:20 -0400] packeteer: after 2 days i got as far as using knife to bootstrap a node
[2013-10-23 05:32:54 -0400] chip-: Ah, gotcha.
[2013-10-23 05:33:32 -0400] chip-: So you're way ahead of where I thought you were.
[2013-10-23 05:34:43 -0400] packeteer: copying the chef server private key to the 'workstation' node was a wtf moment ?!?
[2013-10-23 05:34:52 -0400] packeteer: having to
[2013-10-23 05:35:05 -0400] chip-: Which key?
[2013-10-23 05:35:11 -0400] chip-: The validation key?
[2013-10-23 05:35:39 -0400] packeteer: admin.pem
[2013-10-23 05:38:52 -0400] packeteer: btw, the workstation install instructions (http://docs.opscode.com/install_workstation.html), in section "Create the .chef directory" point 3.
[2013-10-23 05:39:03 -0400] packeteer: it says Add .chef to the .gitignore file
[2013-10-23 05:39:13 -0400] packeteer: the example given does not reflect that
[2013-10-23 05:40:14 -0400] packeteer: and in the next section down the page... "Create a knife.rb file. This configuration file must be created by running the knife configure --initial command on the machine that will be run as a workstation"
[2013-10-23 05:41:16 -0400] packeteer: this fails because the workstation cannot find either /etc/chef-server/admin.pem or /etc/chef-server/chef-validator.pem
[2013-10-23 05:41:29 -0400] chip-: Copying admin.pem is only if you want to run everything as admin. You probably don't want to do that. You probably want to make another user on the server and use that instead.
[2013-10-23 05:41:34 -0400] packeteer: workstation/script/
[2013-10-23 05:41:37 -0400] chip-: Hm.
[2013-10-23 05:41:42 -0400] chip-: I haven't run that stuff in a very long time.
[2013-10-23 05:41:54 -0400] chip-: If I weren't wrestling with the vagrantfile that installs Chef OSS I'd try it out
[2013-10-23 05:41:55 -0400] chip-: one sec
[2013-10-23 05:42:07 -0400] chip-: (Vagrant.has_plugin? seems broken as hell right now :( )
[2013-10-23 05:42:16 -0400] packeteer: chef solo is easy by comparison
[2013-10-23 05:42:52 -0400] chip-: Easier setup. Harder to use overall I think.
[2013-10-23 05:43:11 -0400] chip-: You wind up having to ship your cookbooks around in a monolith archive, and no state saved between runs.
[2013-10-23 05:44:30 -0400] chip-: spinning up a Chef server to test the docs as written.
[2013-10-23 05:45:08 -0400] packeteer: + workstation
[2013-10-23 05:54:18 -0400] chip-: OK. See what you mean. I've been dealing with paid Chef for a long time now, where this bit is way easier.
[2013-10-23 05:58:07 -0400] chip-: Yeah, that needs some polish.
[2013-10-23 05:58:20 -0400] chip-: So you've got a machine bootstrapped and it's showing up in knife node list?
[2013-10-23 05:59:02 -0400] packeteer: no, bootstrap fails
[2013-10-23 06:00:10 -0400] chip-: OK.
[2013-10-23 06:00:16 -0400] packeteer: RROR: Errno::ENOENT: No such file or directory - /etc/chef/validation.pem  <-
[2013-10-23 06:01:28 -0400] chip-: Are you able to run knife client list and get back two lines?
[2013-10-23 06:01:33 -0400] chip-: chef-validator and chef-webui
[2013-10-23 06:03:12 -0400] packeteer: yes
[2013-10-23 06:04:00 -0400] chip-: ok cool. So you're almost there.
[2013-10-23 06:04:37 -0400] chip-: in your .chef/knife.rb file, there's a "validation_key" setting.
[2013-10-23 06:05:06 -0400] chip-: copy the validation key from your Chef server (which will be on that host at /etc/chef-server/chef-validator.pem) and put it in your .chef directory next to your user.pem and your knife.rb.
[2013-10-23 06:05:13 -0400] chip-: then change the path in validation_key to point to it.
[2013-10-23 06:05:19 -0400] chip-: and from there out bootstrap will work.
[2013-10-23 06:05:38 -0400] chip-: Also you probably don't want to keep admin.pem around unless you are doing everything as admin. And you shouldn't be.
[2013-10-23 06:06:39 -0400] packeteer: huzzah
[2013-10-23 06:07:04 -0400] packeteer: and yeah, having to move private keys around is really sucky
[2013-10-23 06:08:47 -0400] chip-: So I don't know why knife configure --initial wants your admin.pem. I mean, I get why it needs it - it's signing requests as admin to create users - but it's a bit weird.
[2013-10-23 06:08:52 -0400] chip-: Rather do that through the webui personally
[2013-10-23 06:08:55 -0400] chip-: ANYWAY.
[2013-10-23 06:09:05 -0400] chip-: So: Each user gets a unique private key.
[2013-10-23 06:09:12 -0400] chip-: Each client gets a unique private key.
[2013-10-23 06:09:24 -0400] chip-: Each OSS Chef Server gets a unique private key.
[2013-10-23 06:10:06 -0400] chip-: The OSS server key is called the 'validation' key, and it's only got two privileges: It can list all the client keys, and it can generate new client keys. It can do exactly nothing else.
[2013-10-23 06:10:47 -0400] chip-: When you bootstrap a new node, the bootstrap process connects to that node, installs Chef, generates a config file based on the contents of your knife.rb, copies the validation key into place, and then runs Chef-client for the first time.
[2013-10-23 06:11:25 -0400] packeteer: thanks heaps
[2013-10-23 06:11:39 -0400] chip-: Chef-client detects that it doesn't have a client.pem yet, so it uses that validation.pem as creds to introduce itself and request its own key. If the validation.pem is good, then the server will issue the client a new client.pem to sign its own requests, and continue like normal.
[2013-10-23 06:11:44 -0400] chip-: From there out the node is good to go.
[2013-10-23 06:12:15 -0400] chip-: and the validation.pem isn't needed anymore on the client.
[2013-10-23 06:12:27 -0400] chip-: so you can write a chef recipe to delete it (or use the one in the opscode chef-client cookbook)
[2013-10-23 06:12:55 -0400] chip-: Anyway, hope that helps. Sorry you had a rough time getting going.
[2013-10-23 06:12:57 -0400] chip-: Bedtime for me.
[2013-10-23 06:13:30 -0400] packeteer: thanks again
[2013-10-23 07:37:00 -0400] Schul: Hello, does someone know if there's a way to install chef-server using an existing nginx ? Or should I just disable nginx via nginx['enable'] and then manually configure the existing nginx server (seems counterproductive) ?
[2013-10-23 07:45:37 -0400] laurent\: Schul: install chef-server, then disable nginx :)
[2013-10-23 07:45:50 -0400] laurent\: i've done that for rabbitmq
[2013-10-23 07:46:14 -0400] Schul: And then manually configure the existing nginx ?
[2013-10-23 07:46:49 -0400] Schul: Or is there a conf file that I can just move to the conf dir of existing nginx
[2013-10-23 08:28:48 -0400] drrk: I'm trying to bootstrap a node that is debian on sparc, and it fails.  Any idea how I can get a sparc version made available to the bootstrap command?
[2013-10-23 08:37:59 -0400] s2r2: drrk: I doubt there's an omnibus package for debian/sparc, but the rubygems method could work
[2013-10-23 08:38:48 -0400] s2r2: drrk: http://docs.opscode.com/knife_bootstrap.html#custom-templates << maybe debian/apt is even better
[2013-10-23 08:39:09 -0400] brucelee1: anyone running into horrible experiences using chef
[2013-10-23 08:39:41 -0400] brucelee1: thinking about using chef, to automate configuration, and using it as a documentation of how servers are set up etc
[2013-10-23 08:39:48 -0400] brucelee1: is it worth the nightmare? :p
[2013-10-23 08:40:18 -0400] brucelee1: right now we do everything manually
[2013-10-23 08:40:24 -0400] s2r2: yes. (now what did you expect?)
[2013-10-23 08:40:26 -0400] brucelee1: dont really have much documentation, everything is in my mind
[2013-10-23 08:40:51 -0400] brucelee1: s2r2: i didnt expect everyone here to automatically be very pro-chef
[2013-10-23 08:41:07 -0400] brucelee1: s2r2: maybe some people here have bad experiences and can share em
[2013-10-23 08:41:18 -0400] s2r2: brucelee1: hehe ok.  that's valid ;)
[2013-10-23 08:41:20 -0400] a_ro: hi all
[2013-10-23 08:41:33 -0400] brucelee1: ;p
[2013-10-23 08:42:12 -0400] a_ro: question: how do I define multiple chef.environments on one node ? We run staging and development on one machine but I like to separate configuration.
[2013-10-23 08:42:14 -0400] brucelee1: s2r2: what are your use cases for chef for your infrastructure?
[2013-10-23 08:43:10 -0400] brucelee1: a_ro: typical scenarios run staging and production in different machines
[2013-10-23 08:43:24 -0400] brucelee1: a_ro: just curious, why do you guys run it in the same machine
[2013-10-23 08:43:52 -0400] s2r2: brucelee1: sorry, kind of busy right now, so short answer: we use chef for deploying openstack clusters as well as "anything" on "any" cloud ;)
[2013-10-23 08:44:14 -0400] brucelee1: s2r2: :p
[2013-10-23 08:44:19 -0400] brucelee1: s2r2: experience so far?
[2013-10-23 08:44:41 -0400] a_ro: I know ;-) its kind of specialwe're currently moving/shuffling machines. we have local VMs to do our stuff and remote development/staging is mainly for testing/QA so theres currently no need to separate those
[2013-10-23 08:44:42 -0400] brucelee1: s2r2: pretty good experience? not running into really shitty time debugging cookbooks/recipes?
[2013-10-23 08:45:56 -0400] s2r2: brucelee1: I love it ;)   It can be hard to keep them up to date, i.e. forking community cookbooks once and letting them rot while fixing only the stuff we need specifically is a bad idea.
[2013-10-23 08:46:29 -0400] s2r2: brucelee1: and you really want to use berks
[2013-10-23 08:46:39 -0400] brucelee1: berkshire library?
[2013-10-23 08:46:46 -0400] s2r2: brucelee1: berkshelf.com
[2013-10-23 08:46:54 -0400] brucelee1: oh right
[2013-10-23 08:47:14 -0400] kernelpanik: Hi guys...is possible give as argument to `knife ssh` a script file?
[2013-10-23 08:47:17 -0400] brucelee1: s2r2: is that the solution to forking community cookbooks and keeping them updating
[2013-10-23 08:47:20 -0400] brucelee1: updated*
[2013-10-23 08:48:28 -0400] s2r2: brucelee1: the solution is wrapping them.  and making use of "berks outdated" (or similar things), while planning to spend time on this "new part of your work"
[2013-10-23 08:49:09 -0400] s2r2: brucelee1: it's rather a new (arguably better) way to do things than a way to save time (at least thinking short-term)
[2013-10-23 08:50:36 -0400] drrk: s2r2: cheers, i'll take a look at that
[2013-10-23 08:50:50 -0400] s2r2: drrk: :)
[2013-10-23 08:51:15 -0400] akalter: hellow
[2013-10-23 08:51:25 -0400] akalter: i have this problem
[2013-10-23 08:52:06 -0400] akalter: on chef-client it use the host-name, without the domain
[2013-10-23 08:56:06 -0400] akalter: so it is not work on linux computers that using another domains (the domains is not real AD domain, it is only for orginize...)
[2013-10-23 08:57:24 -0400] leofl: hi. someone could help me with application-python cookbook, plz? I want to deploy a django app of mine using chef. Searches on Google were not enough to help me =T
[2013-10-23 08:58:18 -0400] glen: how do i find if cpu.total is indexed as INT or STRING in solr?
[2013-10-23 08:58:56 -0400] glen: seems to be string, as this is not giving responses with 24 cores: knife search node "cpu_total:[9 TO *]" -a cpu.total -a cpu.real
[2013-10-23 09:02:05 -0400] bigbigbang: Hi Chefs ! I 'm a bit confused with partial_search ... I think it was integrated with Chef (free) right ? My problem is that I can use it in the default recipe but not in another recipe , chef says me "undefined method ..." How can I use partial_search not in default cookbook ?
[2013-10-23 09:02:24 -0400] bigbigbang: shoul I include something ?
[2013-10-23 09:03:16 -0400] bigbigbang: I could do it by including direclty the partial_search cookbook but if it's already integrated :/ ...
[2013-10-23 09:50:51 -0400] bcave: good morning
[2013-10-23 09:55:50 -0400] bcave: i have a quick question about referencing attributes from other attributes in a role file....
[2013-10-23 09:58:26 -0400] ermajn: Hello, I'm trying to use remote_file resource, and source attribute is remote http site, file is created, but it is empty
[2013-10-23 09:58:40 -0400] ermajn: when I go to source url from my browser, download normally starts
[2013-10-23 10:02:04 -0400] bcave: i have 2 cookbooks. cookbookA has an attribute default[:A][:foo] = "bar"
[2013-10-23 10:02:52 -0400] bcave: and I want to configure override_attributes in a role so that "b" => { "param" => default[:A][:foo] }
[2013-10-23 10:06:22 -0400] jonlives: if you're a knife-spork user, new version has just hit rubygems :) http://blog.jonliv.es/2013/10/23/knife-spork-1-3-0-released/
[2013-10-23 10:06:27 -0400] bcave: is that possible?
[2013-10-23 10:13:56 -0400] aberrios: I've noticed when using the web interface for private chef server. If I've bootstrapped a node and set its environment to say "Production". When i go to edit the node's run list in the web interface the environment has defaulted to "Development", I edit the run list and if I've not paid attention to switch the drop down box to Production the node's env gets set to "Development". Straight after bootstrapping if I "knife node edit" it shows as Production. B
[2013-10-23 10:25:57 -0400] s2r2: bcave: no.  referencing existing node attributes is not possible in role files (someone correct me if I'm missing something, please).  From another cookbook's attributes/default.rb, you can reference them, but only via the node attribute, i.e. node[:A][:foo], not any specific precedence level
[2013-10-23 10:29:29 -0400] ravibhim: guys, I'm having difficulty in cloning a git repo to my vagrant ubuntu vm. I'm using the following git resource in my recipe
[2013-10-23 10:29:31 -0400] ravibhim: git "/home/vagrant/d_experiment" do
[2013-10-23 10:29:31 -0400] ravibhim:   repository <my_git_repo>
[2013-10-23 10:29:32 -0400] ravibhim:   reference "vagrant"
[2013-10-23 10:29:32 -0400] ravibhim:   action :sync
[2013-10-23 10:29:33 -0400] ravibhim:   user 'vagrant'
[2013-10-23 10:29:33 -0400] ravibhim: end
[2013-10-23 10:30:03 -0400] ravibhim: I get the following error
[2013-10-23 10:30:05 -0400] ravibhim: ---- Begin output of git ls-remote "git@github.com:synctree/d_experiment.git" vagrant* ----
[2013-10-23 10:30:05 -0400] ravibhim: STDOUT:
[2013-10-23 10:30:05 -0400] ravibhim: STDERR: fatal: unable to access '/root/.config/git/config': Permission denied
[2013-10-23 10:30:06 -0400] ravibhim: ---- End output of git ls-remote "git@github.com:synctree/d_experiment.git" vagrant* ----
[2013-10-23 10:30:57 -0400] ravibhim: what am i doing wrong? I've set up ssh forwarding and when I vagrant ssh, I get authenticated by github when I run ssh -T git@github.com
[2013-10-23 10:38:12 -0400] aberrios: ravibhim: when you run git are you running as vagrant user? coz looks like chef is running git as root
[2013-10-23 10:39:03 -0400] ravibhim: yes, I'm specifying the user as vagrant in the git resource (as pasted above)
[2013-10-23 10:39:59 -0400] aberrios: ravibhim: i believe thats the git user not system user (as in, to log into the git repo it'll use vagrant. to run git chef is using root)
[2013-10-23 10:41:08 -0400] aberrios: or maybe not
[2013-10-23 10:41:12 -0400] aberrios: just checked the docs
[2013-10-23 10:41:50 -0400] aberrios: what happens if you ssh into your vagrant box as root and attempt to clone?
[2013-10-23 10:42:44 -0400] ravibhim: then it fails, since the keys for the root account are not set
[2013-10-23 10:42:56 -0400] ravibhim: its not the git user  btw, its the system user
[2013-10-23 10:43:04 -0400] aberrios: yeah i just checked that, my bad
[2013-10-23 10:43:37 -0400] aberrios: but its the system user responsible for the checked out code. I still think chef is running git as root and not vagrant. Can you set up root user on the box with the keys?
[2013-10-23 10:43:40 -0400] kim___: is it possible to use node object when i am using chef-solo?
[2013-10-23 10:44:09 -0400] ravibhim: chef is definitely running as root
[2013-10-23 10:44:26 -0400] ravibhim: how can we make it to run as user vagrant
[2013-10-23 10:44:52 -0400] ravibhim: I'm trying to not set it up under root
[2013-10-23 10:56:46 -0400] cheeseplus: ravibhim: http://serverfault.com/questions/402881/execute-as-vagrant-user-not-root-with-chef-solo
[2013-10-23 10:57:16 -0400] cheeseplus: typically expect chef to run as root since it's doing system management tasks like installing packages
[2013-10-23 11:09:00 -0400] ravibhim: thanks cheeseplus for the pointers
[2013-10-23 11:53:37 -0400] arussel: how do we get some resource to be processed concurently ?
[2013-10-23 11:53:39 -0400] bcave: thanks s2r2
[2013-10-23 11:53:48 -0400] s2r2: :)
[2013-10-23 11:55:28 -0400] arussel: or some recipe ...
[2013-10-23 11:55:40 -0400] bigbigbang: Hi Chefs ! I 'm a bit confused with partial_search ... I think it was integrated with Chef (free) right ? My problem is that I can use it in the default recipe but not in another recipe , chef says me "undefined method ..." How can I use partial_search not in default cookbook ? Should I include something ? I could do it by including direclty the partial_search cookbook but if it's already integrated :/ ...
[2013-10-23 11:56:42 -0400] arussel: something like: parallel include_recipe "foo", include_recipe "bar"
[2013-10-23 12:07:05 -0400] karthee: Hi .. can somebody advice if there is a cookbook for applying patch on OS ?
[2013-10-23 12:12:54 -0400] rgsteele: Is there a way to search for nodes that use a specific service with knife?
[2013-10-23 12:16:30 -0400] arussel: if I have recipe Foo with attribute foo.bar. 2 recipes, A and B that include_recipe Foo with foo.bar=a and the other foo.bar=b. Would the Foo recipe run twice ?
[2013-10-23 12:16:59 -0400] arussel: I would thought so, but looking at my run, it seems the Foo recipe is only run the first time
[2013-10-23 12:51:25 -0400] arussel: can I include twice the same recipe with different attribute ?
[2013-10-23 12:57:08 -0400] ocholetras: arussel: why do yo want to do that?
[2013-10-23 12:57:15 -0400] ocholetras: same "task" twice?
[2013-10-23 12:57:34 -0400] ocholetras: sounds like an array attr, or databag search and loop over htat
[2013-10-23 12:57:35 -0400] ocholetras: that
[2013-10-23 12:58:23 -0400] arussel: not sure. The use case is: I have a cookbook for a java-wrapper. This cookbook is a wrapper around a java application.
[2013-10-23 12:58:54 -0400] arussel: I want to deploy multiple java applications on the server, so use the java-wrapper cookbook for each one.
[2013-10-23 12:59:26 -0400] arussel: (obviously with different attributes value, as this is the way to configure the java-wrapper)
[2013-10-23 12:59:46 -0400] ocholetras: umm
[2013-10-23 13:00:43 -0400] ocholetras: so you can have custom hash attribute called default['java']['projects']['proj_1']['name'] = 'foo' and default['java']['projects']['proj_2']['name'] = 'foo'
[2013-10-23 13:00:45 -0400] ocholetras: etc..
[2013-10-23 13:00:53 -0400] ocholetras: some like the apaches vhosts
[2013-10-23 13:00:56 -0400] ocholetras: apache2
[2013-10-23 13:01:55 -0400] arussel: hmm, so the java-wrapper cookbook need to be re-written taking into account that possibly multiple application needs to be deployed.
[2013-10-23 13:02:30 -0400] laurent\: what about using a definition or lwrp ?
[2013-10-23 13:04:49 -0400] arussel: could be, would that mean that instead of calling include_recipe "java-wrapper",
[2013-10-23 13:05:01 -0400] arussel: I could java-wrapper "myname" do ... end ?
[2013-10-23 13:10:45 -0400] arussel: isn't it a problem that it is not 'just' ruby code ? the java-wrapper itself needs to download a tar.gz, have templates ...
[2013-10-23 13:16:14 -0400] laurent\: can't really help with that, have a quick search about "java-wrapper cookbook" you can always add one of these keywords to the search: anti-pattern, lwrp, definition, reusable
[2013-10-23 13:20:56 -0400] arussel: I've wrote the java-wrapper cookbook
[2013-10-23 13:23:23 -0400] arussel: I'll try to refactor java-wrapper to accept multiple applications, this seems the easier path
[2013-10-23 13:39:35 -0400] JamesBelchamber: Chef on Fedora 19 - am I making a massive mistake trying to get this working?
[2013-10-23 13:47:15 -0400] bigbigbang: JamesBelchamber: got it working on fedora 16 ...
[2013-10-23 13:56:39 -0400] JamesBelchamber: bigbigbang: did you do anything special?
[2013-10-23 14:01:01 -0400] kleech: is there a good way to have execute multi-line commands, at the moment I use an array and join: %w{ line1 / line2 / line 3 }.join(' && ')
[2013-10-23 14:03:37 -0400] laurent\: kleech: what about a script resource instead ?
[2013-10-23 14:09:52 -0400] kleech: laurent\: this is what I have: https://gist.github.com/krisleech/a85a6aff99946944113e
[2013-10-23 14:10:38 -0400] kleech: I want multiple lines
[2013-10-23 14:10:49 -0400] kleech: laurent\: the %q{}.join(' && ') is wrong.
[2013-10-23 14:11:51 -0400] xerxas: Hi all
[2013-10-23 14:12:01 -0400] laurent\: kleech: leave the && story apart and just use set -e
[2013-10-23 14:12:03 -0400] allaire: What could I use so I don't hardcode this path? "/usr/local/lib/ruby/gems/2.0.0/gems/my-gem-here"
[2013-10-23 14:12:09 -0400] bigbigbang: kleech: Did you read this ? http://docs.opscode.com/resource_bash.html
[2013-10-23 14:12:15 -0400] xerxas: I want to build chef(-client) pacakges for ubuntu 13.10 (or is there any ETA ? )
[2013-10-23 14:12:15 -0400] allaire: specially the /usr/local/lib/ruby/gems/2.0 part
[2013-10-23 14:13:04 -0400] xerxas: I'm thinking of using the omnibus-chef repo , but , it supports vagrant  , only upto 13.04 , and uses the vagrant-omnibus plugin, which won't work , because the installer won't work
[2013-10-23 14:13:08 -0400] xerxas: how should I do ?
[2013-10-23 14:13:14 -0400] xerxas: can I contribute to this ?
[2013-10-23 14:14:43 -0400] wdilly: are there any chef events going on at LISA this year?
[2013-10-23 14:15:01 -0400] wdilly: minus the intro course.
[2013-10-23 14:16:02 -0400] joe_k: is there a particular syntax for referring to "roles" from a runlist? We put a role in there and get an error "cookbook doesn't exist" as though it thinks we're referring to a recipe/cookbook instead of a role
[2013-10-23 14:19:32 -0400] palms14: joe_k: "role[somerole]" instead of "recipe[somerole]"?
[2013-10-23 14:19:46 -0400] joe_k: we were just using e.g "rolename"
[2013-10-23 14:19:57 -0400] spstarr_work: can you embed ruby in a chef file block? in the 'content' ?
[2013-10-23 14:19:58 -0400] spstarr_work: like
[2013-10-23 14:19:59 -0400] bigbigbang: joe_k: yep here an example : run_list": [     "recipe[ascii_check_passwd]",     "role[base-linux]"   ]
[2013-10-23 14:20:02 -0400] spstarr_work: file "/etc/apt/sources.list.d/samba.list" do   content "deb https://<%= username %>:<%= password %>@download.sernet.de/packages/samba/4.0/ubuntu precise main" ?
[2013-10-23 14:20:09 -0400] spstarr_work: or just use a template
[2013-10-23 14:21:38 -0400] joe_k: "-" is a token character in ruby?
[2013-10-23 14:21:40 -0400] joe_k: crazy
[2013-10-23 14:21:47 -0400] xerxas: schisamo:
[2013-10-23 14:21:56 -0400] spstarr_work: https://tickets.opscode.com/browse/CHEF-675
[2013-10-23 14:22:00 -0400] xerxas: can you help me with omnibus-chef ?
[2013-10-23 14:25:29 -0400] kleech: laurent\: %Q[] instead of %q{} :)
[2013-10-23 14:32:27 -0400] spstarr_work: is this legal in chef: http://fpaste.org/48893/25387251/ ?
[2013-10-23 14:32:41 -0400] spstarr_work: if not, do I have to use a ruby_block to build this?
[2013-10-23 14:34:22 -0400] Breaking_Pitt: someone knows what this error means?
[2013-10-23 14:34:36 -0400] Breaking_Pitt: Chef::Exceptions::Exec: user[jboss] (jboss::0.0.4_uninstall line 48) had an error: Chef::Exceptions::Exec: userdel jboss returned 8, expected 0
[2013-10-23 14:35:29 -0400] walkah: Is install.sh for omnibus on github somewhere? It needs a 1-line fix for mavericks :)
[2013-10-23 14:36:12 -0400] tscanausa1: Breaking_Pitt: the jboss user is actively logged in
[2013-10-23 14:36:34 -0400] Breaking_Pitt: tscanausa1 It's a system user...
[2013-10-23 14:36:56 -0400] Breaking_Pitt: tscanausa1 it run the jboss daemon...
[2013-10-23 14:37:22 -0400] tscanausa1: I understand, I am simply letting you what the man page for userdel says exit code 8 means
[2013-10-23 14:37:36 -0400] tscanausa1: telling*
[2013-10-23 14:37:51 -0400] Breaking_Pitt: tscanausa1 I'm trying to uninstall it and deleting the user via user jboss_user do
[2013-10-23 14:37:51 -0400] Breaking_Pitt:   action :remove
[2013-10-23 14:37:51 -0400] Breaking_Pitt: end
[2013-10-23 14:38:10 -0400] Breaking_Pitt: thanks tscanausa1
[2013-10-23 14:58:56 -0400] jtimberman: stupid chanserv :)
[2013-10-23 15:00:13 -0400] mind_: hi guys, I wonder, if I have for example 1 cookbook(it deploys some simple app to dir1). Can I deploy it to one server the same app but, to different dirs using roles, which will use same cookbook, but will overwrite Path params?
[2013-10-23 15:00:41 -0400] mind_: the goal is to deploy the same app on one server but multiple times
[2013-10-23 15:06:38 -0400] ichilton: hi jtimberman
[2013-10-23 15:27:54 -0400] bigbigbang: mind_: I think you should use databags here to store the install dir , moreover you will be able to change it easier ..
[2013-10-23 15:32:31 -0400] kleech: I am using chef-solo (currently with Vagrant), I want to put t
[2013-10-23 15:33:11 -0400] kleech: I am using chef-solo (currently with Vagrant), I want to configure the domain name (different for each server) does that go in a node config or data bag?
[2013-10-23 15:38:40 -0400] cwj: kleech: if it will differ for each server then I would use a node attribute
[2013-10-23 15:39:21 -0400] cwj: anyone know what version of ruby chef runs under with aws opsworks? i am trying to figure out a bug report
[2013-10-23 15:43:44 -0400] kleech: cwj: thanks, yes, they differ per server.
[2013-10-23 15:43:52 -0400] spstarr_work: any chef folks awake yet? :)
[2013-10-23 16:27:03 -0400] alxism: Hi guys, I'm considering deploying OpenSource Chef server but I'm having a hard time finding details about availability, scalability, etc
[2013-10-23 16:27:08 -0400] alxism: backup.
[2013-10-23 16:27:16 -0400] alxism: Any pointers?
[2013-10-23 16:29:25 -0400] Skeletor1: alxism: is you havent read this yet: https://wiki.opscode.com/display/chef/Scalability+and+High+Availability
[2013-10-23 16:35:47 -0400] coderanger: alxism: Most of that wiki page is pre-chef-11 and so is out of date
[2013-10-23 16:36:04 -0400] coderanger: There isn't a lot of info because HA/scaling is one of the value-add features of Enterprise Chef
[2013-10-23 16:40:52 -0400] jtimberman: coderanger: and because Chef 11 server is pretty awesome and scalability isn't an issue for the majority of use cases :)
[2013-10-23 16:41:23 -0400] coderanger: Sure, and HA is still not magic
[2013-10-23 16:41:38 -0400] coderanger: HA postgres + solr + rabbitmq, load balancer
[2013-10-23 16:41:43 -0400] walkah: jtimberman: hey! what's the way to get a 10.9 line added to omnibus install.sh? :)
[2013-10-23 16:42:40 -0400] spstarr_work: jtimberman: ping
[2013-10-23 16:43:31 -0400] spstarr_work: jtimberman: can we do this structure in chef?  http://fpaste.org/48893/25387251/ ? not exactly like this but similar?
[2013-10-23 16:43:43 -0400] spstarr_work: i know puppet can when I used it
[2013-10-23 16:44:00 -0400] spstarr_work: otherwise i'll just make a template file separate
[2013-10-23 16:44:06 -0400] spstarr_work: or have to use a ruby_block
[2013-10-23 16:44:58 -0400] alxism: @skeletor1 coderanger thanks
[2013-10-23 16:55:32 -0400] justizin: any reported issues with chef 11 omnibus on mavericks?
[2013-10-23 16:56:26 -0400] stevedb: is it just me or even the bigger recipes (java, tomcat) filled with bugs?
[2013-10-23 17:02:35 -0400] spox: stevedb: what are you trying to accomplish with that?
[2013-10-23 17:02:57 -0400] stevedb: spox: well, I am using the java recipe to install oracle jdk onto ubuntu/centos/redhat systems
[2013-10-23 17:03:10 -0400] kallistec: spstarr_work: what you wrote is pretty close, except you use regular ruby string interpolation (putting code expressions in strings) instead of erb
[2013-10-23 17:03:15 -0400] stevedb: if you re-run the recipe, ark will die on running alternatives
[2013-10-23 17:03:21 -0400] stevedb: (on redhat)
[2013-10-23 17:03:50 -0400] stevedb: this is not the only bug, the tomcat recipe will rewrite your server.xml keystone passwords even if you don't generate a key
[2013-10-23 17:03:51 -0400] spstarr_work: kallistec: hmm, so it can do this, i see
[2013-10-23 17:04:06 -0400] kallistec: spstarr_work: e.g., "here is some data about my node: #{node[:ec2][:public_ipv4]}"
[2013-10-23 17:04:06 -0400] spox: stevedb: was referring to your paste
[2013-10-23 17:04:23 -0400] spstarr_work: kallistec: it was erroring on content apt_samba though
[2013-10-23 17:05:08 -0400] spox: arg, tab complete, how do you work!?
[2013-10-23 17:05:15 -0400] spstarr_work: I switched to '"#{node.chef_environment}-samba")' also
[2013-10-23 17:05:56 -0400] spstarr_work: oh maybe because i have 'content ' twice
[2013-10-23 17:06:11 -0400] kallistec: spstarr_work: what's the error exactly? maybe some syntax ruby doesn't like?
[2013-10-23 17:06:25 -0400] spstarr_work: sec pushing to chef server ...
[2013-10-23 17:07:10 -0400] kallistec: but also, yes, you're creating a local variable with a heredoc in ruby, so you just want
[2013-10-23 17:07:20 -0400] kallistec: my_variable=<<-EOH
[2013-10-23 17:07:38 -0400] kallistec: here is the content #{some_expression}
[2013-10-23 17:07:40 -0400] kallistec: EOH
[2013-10-23 17:08:04 -0400] kallistec: you don't need the quotes in there either
[2013-10-23 17:08:15 -0400] spstarr_work: #{samba_creds['username']} though ?
[2013-10-23 17:08:46 -0400] spstarr_work: so i dont need <% = %> i see
[2013-10-23 17:09:00 -0400] kallistec: right, those are only for templates
[2013-10-23 17:09:29 -0400] spstarr_work: I wasn't sure how chef treated generating the file within the recipe directly
[2013-10-23 17:09:58 -0400] kallistec: spstarr_work:  you can think of "foo #{node[:attr]} bar" as being like "foo " + node[:attr] + " bar"
[2013-10-23 17:10:27 -0400] spstarr_work: node is implicit though
[2013-10-23 17:11:02 -0400] spstarr_work: I See what you mean
[2013-10-23 17:11:27 -0400] spstarr_work: deb https://#{samba_creds['username']}:#{samba_creds['pass']}@download.sernet.de/packages/samba/4.0/ubuntu precise main"
[2013-10-23 17:11:44 -0400] spstarr_work: chef will substitute
[2013-10-23 17:12:04 -0400] kallistec: spstarr_work: yes. and I was just being super generic in my examples
[2013-10-23 17:12:14 -0400] spstarr_work: :)
[2013-10-23 17:12:35 -0400] spstarr_work: testing
[2013-10-23 17:19:27 -0400] justizin: steveb: fork, fix, and submit a pull-request+jira ticket .. it sounds like you're also talking about general best practices and many of us may be following bad examples from community cookbooks that made it through.
[2013-10-23 17:20:06 -0400] spstarr_work: failed
[2013-10-23 17:20:26 -0400] spstarr_work: STDERR: E: Malformed line 1 in source list /etc/apt/sources.list.d/samba.list (dist parse)
[2013-10-23 17:21:25 -0400] spstarr_work: it worked but something bad with my apt line, excellent :))
[2013-10-23 17:21:27 -0400] spstarr_work: thanks kallistec
[2013-10-23 17:21:39 -0400] spstarr_work: ahh there's a " at end
[2013-10-23 17:25:16 -0400] spstarr_work: kallistec: there wouldn't be an easier way for me to test this via knife instead of pushing to chef server, then kicking of check on the node being booted?
[2013-10-23 17:25:39 -0400] spstarr_work: it would be great if you could use knife to test output to screen of what would be expected
[2013-10-23 17:27:25 -0400] kallistec: spstarr_work: yeah, agreed. You can get some of this quick feedback if you use chefspec to test your stuff, or if you use vagrant (probably with berkshelf) to run your cookbooks in a VM w/ chef-solo
[2013-10-23 17:28:33 -0400] kallistec: it can be a bit challenging to get going with those tools, which is something we're looking at
[2013-10-23 17:29:40 -0400] justizin: yah i'm struggling to get vagrant-berkshelf working
[2013-10-23 17:30:15 -0400] spstarr_work: kallistec: that would be great, that's something i miss with puppet when previous $company used it my new company uses chef
[2013-10-23 17:30:27 -0400] spstarr_work: which is better because it has more flexibility vs puppet overall
[2013-10-23 17:31:43 -0400] spstarr_work: oh i see., chefspec is hmm.. not pretty
[2013-10-23 17:39:51 -0400] Urocyon: I'm getting an error I think on a not_if for a resource:  NameError: Cannot find a resource for shell_out! on centos version 6.3
[2013-10-23 17:40:15 -0400] Urocyon: that's with chef 10.28
[2013-10-23 17:41:00 -0400] Urocyon: anyone else run into that?
[2013-10-23 17:47:34 -0400] arussel: where is the 'usual' place to put a downloaded file to not have to download it several time ? is there a specific directory, or should we try to use the file resource that would take care of it ?
[2013-10-23 17:48:26 -0400] KimNguyen: how do I use knife azure to add Remote Desktop or Powershell EndPoint to the Azure VM ?
[2013-10-23 17:48:53 -0400] KimNguyen: anyone know ?
[2013-10-23 17:50:04 -0400] ssd7_: Urocyon: Can you post an snippet of your recipe to gist or pastebin?
[2013-10-23 17:51:11 -0400] Urocyon: the recipe is zenoss::server, from community cookbook version 2.0.  Error: https://gist.github.com/sfiggins/7123344
[2013-10-23 17:51:13 -0400] benjaminkvm: Does anyone know how to use binary files with data bags? Base64 encode/decode?
[2013-10-23 17:52:02 -0400] arussel: benjaminkvm: yep, what is your issue ?
[2013-10-23 17:52:37 -0400] arussel: I've done it with the template resource
[2013-10-23 17:52:40 -0400] benjaminkvm: arussel: I have a binary certificate I would like to store in a databag and distribute to nodes. Would base64 be my best option?
[2013-10-23 17:52:49 -0400] benjaminkvm: Yeah that is what I was thinking
[2013-10-23 17:52:56 -0400] spstarr_work: kallistec: I will be following that functionality, certainly would be a good thing
[2013-10-23 17:53:01 -0400] arussel: not sure it is the best, but this is a path I have taken :-)
[2013-10-23 17:53:16 -0400] benjaminkvm: Just making sure there are no other options/preferred methods
[2013-10-23 17:53:26 -0400] ssd7_: Urocyon: looking
[2013-10-23 17:53:36 -0400] arussel: if they are, I would be happy to learn
[2013-10-23 17:53:57 -0400] Urocyon: I guess technically it's in the mysql recipe called by zenoss::server.
[2013-10-23 17:54:17 -0400] arussel: I haven't investigate very long, the other options I've seen was s3 and just putting the s3 access in secret
[2013-10-23 17:54:43 -0400] arussel: might be easier to migrate when certificate changes
[2013-10-23 17:56:13 -0400] benjaminkvm: That is true, thanks
[2013-10-23 18:00:05 -0400] mirey: Hi everyone, having trouble debugging a chef recipe, rvm_passenger. It appears to be putting mod_passenger.so in the incorrect location, than apache fails to load.
[2013-10-23 18:00:34 -0400] mirey: I mean apache fails to start.
[2013-10-23 18:00:55 -0400] ssd7_: Urocyon: Do you have the full stack trace?
[2013-10-23 18:01:28 -0400] Urocyon: ssd7_ grabbing it now.
[2013-10-23 18:02:39 -0400] Urocyon: ssd7_ https://gist.github.com/sfiggins/7123528
[2013-10-23 18:02:52 -0400] mirey: I created an issue here: https://github.com/fnichol/chef-rvm_passenger/issues/27 but I am stuck...
[2013-10-23 18:11:35 -0400] ssd7_: Urocyon: Whatever this is, it isn't an /obvious/ error to me as it is happening deep inside the yum provider itself.
[2013-10-23 18:12:05 -0400] Urocyon: yeah, I'm looking in there now.
[2013-10-23 18:13:17 -0400] ssd7_: Urocyon: https://tickets.opscode.com/browse/CHEF-4380
[2013-10-23 18:13:52 -0400] ssd7_: Looks like maybe that needs to be backported?
[2013-10-23 18:14:28 -0400] Urocyon: Nice find.  google was failing me on that error.
[2013-10-23 18:17:00 -0400] ssd7_: I've reopened it and added your stacktrace
[2013-10-23 18:18:17 -0400] adamjk-dev: anyone got good examples of using the chef-rvm cookbook? https://github.com/fnichol/chef-rvm
[2013-10-23 18:18:29 -0400] adamjk-dev: I want to install rvm system-wise (I think) and like ruby 1.9.3
[2013-10-23 18:22:54 -0400] Urocyon: thanks, ssd7_  Not sure how best to work around for now, though.  :-(
[2013-10-23 18:23:28 -0400] Urocyon: maybe I should stop putting off my chef 11 update.  :-)
[2013-10-23 18:28:23 -0400] dgarstang2: I just wanna say that chef roles are making my head hurt
[2013-10-23 18:28:48 -0400] dgarstang2: someone here put the base role into the location for that node. I put it in the node data for that node. What a mess
[2013-10-23 18:30:29 -0400] Urocyon: Yeah, roles can be tricky, being global and all.
[2013-10-23 18:30:37 -0400] Urocyon: and unversioned.
[2013-10-23 18:31:00 -0400] Urocyon: I try to keep mine minimal, or avoid their use all together.
[2013-10-23 18:35:27 -0400] miah: i still disagree that roles are tricky. i think roles are only tricky because of the hole we've cargoculted ourselves into with recipe design.
[2013-10-23 18:36:06 -0400] miah: whats great about roles? they are an actual ruby object that have attributes that i can deal with
[2013-10-23 18:36:11 -0400] adamjk-dev: we try to make use of role cookbooks when we can
[2013-10-23 18:36:15 -0400] miah: unlike a mash of node attributes
[2013-10-23 18:36:22 -0400] adamjk-dev: if you are worried about versioning
[2013-10-23 18:36:23 -0400] miah: its impossible to decipher whats going on there programatically
[2013-10-23 18:36:57 -0400] miah: i am one of the few chef's thats worried about DRY though =)
[2013-10-23 18:37:04 -0400] dgarstang2: miah: it's more a matter of where they belong
[2013-10-23 18:37:32 -0400] renchap: roles & databags would really benefit from versionning
[2013-10-23 18:37:46 -0400] renchap: (and probably node attributes & runlists too)
[2013-10-23 18:38:09 -0400] miah: i disagree
[2013-10-23 18:38:16 -0400] miah: node attributes are merged anyways
[2013-10-23 18:38:19 -0400] miah: versioning them is just silly
[2013-10-23 18:38:48 -0400] jtimberman: roles are awesome.
[2013-10-23 18:38:52 -0400] miah: data_bags are just chef's easy way of giving you a data_base to store details
[2013-10-23 18:39:04 -0400] jtimberman: miah: "databass"
[2013-10-23 18:39:08 -0400] miah: you dont have to use them, and can use zookeeper or etcd or something else if you'd like
[2013-10-23 18:39:14 -0400] jtimberman: miah: serf! ;)
[2013-10-23 18:39:23 -0400] miah: ya, serf looks neat. but its 0day.
[2013-10-23 18:39:27 -0400] renchap: miah: i am talking about normal or override attributes
[2013-10-23 18:39:32 -0400] jtimberman: miah: run serf on mavericks. boom.
[2013-10-23 18:39:34 -0400] miah: renchap: still, they're merged
[2013-10-23 18:39:35 -0400] jtimberman: to manage ubuntu 13.10
[2013-10-23 18:39:42 -0400] jtimberman: whats up bleeding edge.
[2013-10-23 18:39:47 -0400] renchap: here, we like having everything in plain json files which we can backup or code review
[2013-10-23 18:39:52 -0400] jtimberman: sorry, nothin but snark from me today
[2013-10-23 18:40:12 -0400] miah: more data in json, means more humans typing bullshit
[2013-10-23 18:40:23 -0400] miah: and fewer things being truly automated
[2013-10-23 18:41:28 -0400] renchap: so for you any role/node attribute is something that should be automated ?
[2013-10-23 18:41:41 -0400] miah: its something that should/can be
[2013-10-23 18:41:51 -0400] miah: attributes also, should be 'few'
[2013-10-23 18:42:05 -0400] miah: instead of the mess of basically global variables we have now
[2013-10-23 18:42:25 -0400] renchap: i agree about this, it is a mess
[2013-10-23 18:42:45 -0400] miah: once you get into reasources lazily loading attributes you pass to them and realizing that recipes are 2 phase
[2013-10-23 18:42:50 -0400] renchap: but when you have some differences between nodes, it is nice to have attributes
[2013-10-23 18:42:53 -0400] miah: you start to see why recipes are often the wrong way to do shit
[2013-10-23 18:42:56 -0400] renchap: rather than a new recipe for each node
[2013-10-23 18:43:11 -0400] miah: huh?
[2013-10-23 18:43:29 -0400] miah: you can have differences. without storing them in a node attribute.
[2013-10-23 18:43:38 -0400] Skeletor1: Quick question, how are you all setting the hostname on ec2 nodes, I found a few bash scripts that do this onto my ami?
[2013-10-23 18:43:44 -0400] renchap: and where do you store them ?
[2013-10-23 18:43:51 -0400] renchap: in roles ? same thing
[2013-10-23 18:43:54 -0400] miah: what do i need to store?
[2013-10-23 18:44:15 -0400] miah: my cookbook design is as follows: design a chef resource that takes in _few_ resources
[2013-10-23 18:44:23 -0400] miah: s/_few_ resources/_few_ attributes
[2013-10-23 18:44:42 -0400] renchap: for example, we have many postgresql servers, with differente databases
[2013-10-23 18:44:46 -0400] miah: yes
[2013-10-23 18:45:01 -0400] renchap: where should i set which databases are installed on a node ?
[2013-10-23 18:45:10 -0400] renchap: make a recipe per db, and put them all in the runlist ?
[2013-10-23 18:45:17 -0400] miah: in your orchaestration system (zookeeper, etcd, serf, etc)
[2013-10-23 18:45:30 -0400] miah: also, roles can tell you things like this
[2013-10-23 18:45:54 -0400] miah: but you _dont_ need to abuse node attributes in roles to do it
[2013-10-23 18:46:04 -0400] miah: you can infer lots of details from the environment and roles you belong to
[2013-10-23 18:46:09 -0400] miah: you just have to write code to deal with that
[2013-10-23 18:46:19 -0400] miah: and instead of writing code, people just abuse node attributes
[2013-10-23 18:46:26 -0400] miah: oh, and case statements
[2013-10-23 18:46:26 -0400] gchristensen: miah: by "node attributes" do you mean attributes set right on the node?
[2013-10-23 18:46:47 -0400] gchristensen: or like ... all attributes that are computed and in node[]
[2013-10-23 18:46:51 -0400] miah: any time you set an attribute in a cookbook (via the /attributes/default.rb)
[2013-10-23 18:46:59 -0400] miah: any time you add attributes to a role or environment
[2013-10-23 18:47:06 -0400] gchristensen: gotcha
[2013-10-23 18:47:13 -0400] miah: and anytime you use node.default or node.override or node.set
[2013-10-23 18:47:19 -0400] miah: those are all node attributes
[2013-10-23 18:47:54 -0400] miah: node.normal, node.default, and node.override are actual methods on the node object
[2013-10-23 18:47:59 -0400] Urocyon: They do proliferate, node attributes.
[2013-10-23 18:48:22 -0400] miah: when you do 'node[:foo]' it takes the merged result of normal, default, and override
[2013-10-23 18:48:25 -0400] miah: based on the precedence list
[2013-10-23 18:48:35 -0400] renchap: so you basically advise to not use node attributes but an external thing
[2013-10-23 18:48:38 -0400] renchap: which may make sense
[2013-10-23 18:48:39 -0400] Urocyon: And there are cookbooks, like the postgres cookbook, that makes every configuration setting a node attribute and then uses that to build the config.  Makes for a lot of attributes.
[2013-10-23 18:48:47 -0400] miah: i use node attributes sparingly
[2013-10-23 18:48:50 -0400] gchristensen: miah: that is understood. just clarifying that you aren't just talking about the per-node attributes like `knife node edit` style
[2013-10-23 18:49:01 -0400] miah: editing nodes directly is the stupidest thing
[2013-10-23 18:49:07 -0400] gchristensen: agreed :)
[2013-10-23 18:49:10 -0400] renchap: +1
[2013-10-23 18:49:11 -0400] Urocyon: <snort>
[2013-10-23 18:49:13 -0400] gchristensen: its a whole different level of evil
[2013-10-23 18:49:13 -0400] miah: because the point of automation is to remove unique snow flakes
[2013-10-23 18:49:21 -0400] renchap: also, attributes are very useful for searching
[2013-10-23 18:49:32 -0400] jameson__: having gemfile.lock and berksfile.lock in a community cookbook, good or bad?
[2013-10-23 18:49:38 -0400] miah: only because chef doesn't store any data about resources
[2013-10-23 18:49:56 -0400] miah: i personaly think chef should store information about its resources and their attributes
[2013-10-23 18:49:58 -0400] gchristensen: jameson__: bad, same reason for having a gemfile.lock in a public gem
[2013-10-23 18:49:59 -0400] miah: and let us search across those
[2013-10-23 18:50:02 -0400] miah: moreso than attributes
[2013-10-23 18:50:23 -0400] miah: because i care about objects that can receieve actions and their attributes more than some global variables that mean nothing
[2013-10-23 18:50:24 -0400] gchristensen: jameson__: http://yehudakatz.com/2010/12/16/clarifying-the-roles-of-the-gemspec-and-gemfile/
[2013-10-23 18:51:01 -0400] miah: only include .lock if you want to FORCE users to use the EXACT versions of all of those cookbooks/gems
[2013-10-23 18:51:11 -0400] jameson__: yeah, I was on that but right now berkshelf and test-kitchen hate each other or has for about 3 months if you were on head.
[2013-10-23 18:51:12 -0400] miah: if they want to update things, or run a slightly different version of something
[2013-10-23 18:51:15 -0400] miah: they are going to be in for hell
[2013-10-23 18:51:18 -0400] gchristensen: but that doesn't work on public cookbooks anyway
[2013-10-23 18:51:43 -0400] miah: i've been using test-kitchen and berkshelf since test-kitchen was jamie and haven't had any serious issues with berkshelf
[2013-10-23 18:52:01 -0400] jameson__: right now test-kitchen head and berkshelf has the celluloid version issue
[2013-10-23 18:52:16 -0400] miah: fun
[2013-10-23 18:52:18 -0400] jameson__: test-kitchen was ~0.15 and berkshelf has ~0.14
[2013-10-23 18:52:19 -0400] miah: glad i dont update often
[2013-10-23 18:52:24 -0400] jameson__: via ridley I think
[2013-10-23 18:52:50 -0400] jameson__: I only found out because I was trying to update my gemfile.lock :\
[2013-10-23 18:52:55 -0400] miah: doh :(
[2013-10-23 18:53:10 -0400] miah: dependency hell sucks no matter which packing system it strikes
[2013-10-23 18:54:40 -0400] jameson__: yeh :|
[2013-10-23 19:03:30 -0400] btm: opscode chef/ohai code review: join: https://plus.google.com/hangouts/_/f26b60689b48e3bf0c83acb71633af7b75ac9f3d, watch: http://youtu.be/WEBQx_SX9XQ
[2013-10-23 19:11:16 -0400] jeremyq: I have a question regarding chef and updating packages on a node.
[2013-10-23 19:11:26 -0400] jeremyq: if anyone is available to help
[2013-10-23 19:12:03 -0400] jeremyq: When I log into some of my ubuntu instances it says x amount of packages can be updated. Lets say I have list of cookbooks for a particular node a lamp server for example. I could use the package resource in chef with an action of upgrade but some of the packages have perhaps been installed prior to me provisioning the node or are part of the base install.
[2013-10-23 19:12:03 -0400] jeremyq: Whats the best way or approach to manage package upgrades with chef. I've googled a lot and got very different answers. If someone can point me in the right direction I would really appreciate it.
[2013-10-23 19:12:38 -0400] allaire: hey guys, is there a way to nuke these errors that I get from some cookbooks? WARN: Previous service[postfix]: /home/vagrant/chef-solo/cookbooks-2/postfix/recipes/default.rb:27:in `from_file'
[2013-10-23 19:13:12 -0400] cwj: jeremyq: just recently I came across knife-pkg (https://github.com/hamann/knife-pkg) which seems like a promising approach
[2013-10-23 19:13:40 -0400] cwj: although i couldnt get it to work the way i expected it to on my first attempt
[2013-10-23 19:13:51 -0400] cwj: but i like the idea
[2013-10-23 19:13:59 -0400] jeremyq: cwj: thanks very much will take a look at that
[2013-10-23 19:14:51 -0400] jeremyq: thats only 12 days old :-)
[2013-10-23 19:14:58 -0400] cwj: yep
[2013-10-23 19:24:18 -0400] allaire: Nobody else get alot of errors like that WARN: Previous service[postfix]: /home/vagrant/chef-solo/cookbooks-2/postfix/recipes/default.rb:27:in `from_file' ?
[2013-10-23 19:24:22 -0400] allaire: Should I stress about it?
[2013-10-23 19:24:53 -0400] jeremyq: I get those errors when I provision and generally ignore them
[2013-10-23 19:25:08 -0400] jeremyq: provided the provision went ok
[2013-10-23 19:25:46 -0400] allaire: anyway I cant control them since they are from vendor cookbooks :/
[2013-10-23 19:40:59 -0400] brandon_dacrib: Hey guys. How can I write a recipe that skips a file based on hostname if it doesn't exist in files/host-$hostname.domain.com
[2013-10-23 19:41:29 -0400] brandon_dacrib: for example I have a syslog configuration that will apply to some hosts, but not others and on the ones it doesn't apply to I want to 1. not have the file in that directory
[2013-10-23 19:41:36 -0400] brandon_dacrib: 2. have it skipped by the recipe
[2013-10-23 19:43:15 -0400] brandon_dacrib: basically this question, but ignore_failure true still spits out errors to the client log
[2013-10-23 19:43:18 -0400] brandon_dacrib: http://stackoverflow.com/questions/12571948/chef-test-for-cookbook-file-existence
[2013-10-23 19:45:20 -0400] chris613: brandon_dacrib: Is that a question? Yes, ignore_failure still spits out errors to the client log, but it doesn't bail on the run. I don't know of any way to change this, but I haven't really tried either.
[2013-10-23 19:51:53 -0400] brandon_dacrib: yes that was a question, sorry if I was non specific
[2013-10-23 19:52:25 -0400] brandon_dacrib: basically just looking for a way to have files not in the file/host-$hostname directory
[2013-10-23 19:52:45 -0400] brandon_dacrib: yet include them in the recipes/default.rb
[2013-10-23 19:52:51 -0400] brandon_dacrib: and not have the client fail
[2013-10-23 20:03:00 -0400] btm: @opscode cookbook code review: join: https://plus.google.com/hangouts/_/3b4f52d14082d06b4cef9721a51753d5056f0b9d, watch: http://youtu.be/jfyFxUxqnZk
[2013-10-23 20:13:20 -0400] mveitas: Has anyone been seeing any issues connecting to hosted chef recently?  Errno::ECONNRESET: Connection reset by peer - SSL_connect
[2013-10-23 20:25:13 -0400] dgarstang2: *sigh* Users/dgarstang/.vagrant.d/gems/gems/celluloid-0.14.1/lib/celluloid/responses.rb:29:in `value': SSL_connect returned=1 errno=0 state=SSLv3 read server certificate B: certificate verify failed (Ridley::Errors::ConnectionFailed)
[2013-10-23 20:26:19 -0400] dgarstang2: Since my vagrant is hosed, what would cause this? "cannot load such file -- lvm"
[2013-10-23 20:33:45 -0400] CPS: i'm seeing an issue in chef server 11.4.0 that this ticket addresses: https://tickets.opscode.com/browse/CHEF-4040?page=com.atlassian.jira.plugin.system.issuetabpanels:all-tabpanel the fix version says 11.0.10, which I'm after. shouldn't this issue not be there?
[2013-10-23 20:34:47 -0400] dgarstang2: Oh lovely. I need to determine that I'm on GCE. OHAI has left the virtualization key completely empty in gce
[2013-10-23 20:41:26 -0400] dgarstang2: Since my vagrant is hosed, what would cause this? "cannot load such file -- lvm"
[2013-10-23 20:42:56 -0400] CPS: it's looking like i'm going to need to upgrade my version of chef server. can i run a yum command to do this and not lose all of the configuration i have?
[2013-10-23 20:43:36 -0400] mmzyk: CPS from what version to what version?
[2013-10-23 20:44:14 -0400] CPS: 11.4.0 to 11.8.x, whatever the latest is
[2013-10-23 20:44:29 -0400] CPS: i found a ticket for an issue i'm running into that says it's fixed in 11.8
[2013-10-23 20:45:07 -0400] allaire: is there a definitive solution to this? http://stackoverflow.com/questions/11314523/chef-ohai-how-to-use-newly-installed-ruby-with-gem-package
[2013-10-23 20:46:18 -0400] dgarstang2: I'm wrapping lvm. and I'm calling one of it's lwrp's... which is failing because the lvm package ins't installed. How the hell can that happen?
[2013-10-23 20:46:21 -0400] CPS: separate from the webui ticket i linked
[2013-10-23 20:47:42 -0400] prometheanfire: how would I get the current run list within chef?
[2013-10-23 20:47:52 -0400] CPS: https://tickets.opscode.com/browse/CHEF-4457 this issue is causing problems in an xml template, rendering it invalid xml
[2013-10-23 20:48:10 -0400] mmzyk: CPS well, for one there is no 11.8 - it's 11.0.8 and that is the latest.
[2013-10-23 20:48:11 -0400] dgarstang2: oh this is dry run mode. It looks like chefs dry run mode is as half-assed as puppet's is
[2013-10-23 20:48:24 -0400] prometheanfire: I want to check if a recipe is in the runlist and then set a variable based on that
[2013-10-23 20:48:33 -0400] mmzyk: I saw the issue you asked about CPS - it's slated to be out in the next chef server release which hasn't come out yet.
[2013-10-23 20:48:34 -0400] CPS: prometheanfire: knife node show [node-name]
[2013-10-23 20:48:41 -0400] mmzyk: So it's fixed, not released.
[2013-10-23 20:48:51 -0400] prometheanfire: from within a chef run :P
[2013-10-23 20:48:54 -0400] CPS: git has 2 release candidates up
[2013-10-23 20:49:24 -0400] CPS: prometheanfire: there's probably a run list attribute, mmzyk might have a list of everything available somewhere
[2013-10-23 20:49:36 -0400] prometheanfire: ya, that's what I'm looking for :D
[2013-10-23 20:50:02 -0400] CPS: mmzyk: my question was more about how difficult it is to upgrade from version to version
[2013-10-23 20:52:45 -0400] prometheanfire: so, I guess the question is, how do I get the current run list from within a chef run?
[2013-10-23 20:53:26 -0400] CPS: prometheanfire: try node.run_list
[2013-10-23 20:53:38 -0400] prometheanfire: ok :D
[2013-10-23 20:53:49 -0400] CPS: node.chef_environment will give you the envronment for the node
[2013-10-23 20:53:49 -0400] mmzyk: kallistec could like best answer that, if he's around prometheanfire.
[2013-10-23 20:56:11 -0400] mmzyk: CPS so in theory you can just install another omnibus package over the top of the first one and you'll get the new chef server install.
[2013-10-23 20:56:18 -0400] mmzyk: as always, back up your data first. :)
[2013-10-23 21:01:21 -0400] amccloud: Anyone have a redis cookbook recommendation?
[2013-10-23 21:02:00 -0400] prometheanfire: that worked :D
[2013-10-23 21:02:23 -0400] allaire: amccloud: redisio gets the job done
[2013-10-23 21:02:38 -0400] amccloud: allaire: Great to hear. Was just looking at that
[2013-10-23 21:03:37 -0400] prometheanfire: that node.run_list thing worked,    if node.run_list.include?("rolename")
[2013-10-23 21:21:25 -0400] justizin: augh i cannot effing figure out which email is connected to my opscode jira account
[2013-10-23 21:22:26 -0400] mconigliaro: guys, does this example really work? http://docs.opscode.com/lwrp_custom_provider.html#updated-by-last-action
[2013-10-23 21:22:47 -0400] mconigliaro: when i log t.updated_by_last_action?, it's always false
[2013-10-23 21:23:20 -0400] mconigliaro: i delete the template and force chef to recreate it, but t.updated_by_last_action? is still false
[2013-10-23 21:26:33 -0400] keeth: howdy chefs, having an issue with knife ignoring the --secret-file param when creating an encrypted data bag (Chef 11.6.2 on Mac OS X)
[2013-10-23 21:27:13 -0400] keeth: i'm doing 'knife data bag create myBag myItem -secret-file ~/.chef/my-secret'
[2013-10-23 21:27:32 -0400] keeth: but it is being sent to the server unencrypted
[2013-10-23 21:27:51 -0400] keeth: anyone seen something like this?
[2013-10-23 21:32:33 -0400] chip-: the values are unencrypted at the server?
[2013-10-23 21:35:15 -0400] keeth: chip: yes
[2013-10-23 21:42:06 -0400] keeth: seems like it might be a bug in mixlib-cli
[2013-10-23 21:46:47 -0400] mconigliaro: does anyone have a known working example of new_resource.updated_by_last_action(t.updated_by_last_action?) in an lwrp?
[2013-10-23 21:47:18 -0400] mconigliaro: t.updated_by_last_action? is always false for me
[2013-10-23 21:47:23 -0400] pcn: ohai chefs
[2013-10-23 21:47:45 -0400] pcn: Does anyone know if there's a reason that a system with a validation key wouldn't be able to create a new client for itself?
[2013-10-23 21:48:08 -0400] pcn: I've got the same key on 2 nodes, and 1 works, and 1 errors when talking to hosted chef
[2013-10-23 21:48:26 -0400] pcn: The client.rb is different on each - I'm not sure how different
[2013-10-23 21:49:13 -0400] silk: What is hte error?
[2013-10-23 21:53:21 -0400] pcn: "Failed to authenticate to the chef server (http 401)."
[2013-10-23 21:54:16 -0400] pcn: Then "Invalid signature for user or client '<organization>-validator'
[2013-10-23 21:54:18 -0400] pcn: etc
[2013-10-23 21:55:20 -0400] silk: i would start with ensuring that the validation key was identical on both servers, and then diffing the client.rb files
[2013-10-23 21:55:35 -0400] silk: perhaps also check that the time on both nodes is correct
[2013-10-23 21:56:11 -0400] Murrphy: ohai chefs.  I am trying to create a data bag on the fly within ruby code but it looks like that may not be possible.  Does anyone know if there is a way to do this?
[2013-10-23 21:57:24 -0400] Murrphy: ...I'll note also that I need to do this without creating a flat file that could then be imported via knife.
[2013-10-23 22:01:02 -0400] silk: Murrphy: http://docs.opscode.com/api_chef_server.html#data
[2013-10-23 22:01:38 -0400] silk: But if you are using hosted chef, you would need to authorise the client
[2013-10-23 22:01:42 -0400] Murrphy: Ahhh, excellent!!  Thank you silk!!
[2013-10-23 22:01:54 -0400] silk: you're welcome
[2013-10-23 22:02:02 -0400] Murrphy: Its private Chef
[2013-10-23 22:02:09 -0400] silk: same deal I believe
[2013-10-23 22:02:16 -0400] kallistec: pcn: FWIW, the validator key is only used when /etc/chef/client.pem does not exist, and only for the purpose of creating a new client (basically a named api user)
[2013-10-23 22:03:00 -0400] kallistec: pcn: the client creation process returns the new client's private key, which is used from then on
[2013-10-23 22:03:08 -0400] pcn: Yes That's what we're trying to get to.
[2013-10-23 22:03:29 -0400] pcn: silk: the name of the validator and the url for the organization is the same
[2013-10-23 22:04:14 -0400] silk: are you trying to create a node that already exsist?
[2013-10-23 22:04:18 -0400] silk: or client
[2013-10-23 22:04:33 -0400] kallistec: silk: he'd be getting a 403 probably if that was the problem
[2013-10-23 22:04:51 -0400] kallistec: pcn: on your node that is working, are you sure the validator key is even being used?
[2013-10-23 22:04:55 -0400] silk: fnuff
[2013-10-23 22:05:31 -0400] kallistec: pcn: on your node that's working you probably have /etc/chef/client.pem and the validator is irrelevant at this point
[2013-10-23 22:06:28 -0400] kallistec: so it's possible you or someone else re-keyed the validator and _both_ hosts have an incorrect validator key, but it doesn't matter on the one host that is already working
[2013-10-23 22:07:37 -0400] kallistec: pcn: if you have a working knife installation, https://github.com/danielsdeleo/knife-plugins/blob/master/key_check.rb can be used to check the key
[2013-10-23 22:07:50 -0400] pcn: kallistec: yeah, on the node it's working I killed a node (aws) then had it come back up and run through the regular process
[2013-10-23 22:09:48 -0400] keeth: heh my problem with knife data bag create turned out to be that one of the dashes in --secret-file was not a standard ascii dash but some other unicode dash character *head explodes*
[2013-10-23 22:10:09 -0400] coderanger: keeth:  ftw
[2013-10-23 22:10:25 -0400] coderanger: (unicode emdash, os x will convert automatically in some text fields)
[2013-10-23 22:10:46 -0400] keeth: ya, copy paste from web page argggh
[2013-10-23 22:15:15 -0400] pcn: kallistec: for now I've just created the client.pem from the web ui.  I'll look at it some more tomorrow, I guess
[2013-10-23 22:17:46 -0400] mconigliaro: anyone have an example of this actually working? http://docs.opscode.com/lwrp_custom_provider.html#updated-by-last-action tried it with chef 10 and 11 and t.updated_by_last_action? is always false
[2013-10-23 22:18:05 -0400] mconigliaro: tried t.updated? too
[2013-10-23 22:20:29 -0400] coderanger: mconigliaro: What are you trying to do?
[2013-10-23 22:21:00 -0400] coderanger: As written that will indeed not work since you can only check updated? after run_action
[2013-10-23 22:21:14 -0400] mconigliaro: I'm trying to do this essentially
[2013-10-23 22:21:15 -0400] mconigliaro: https://github.com/opscode-cookbooks/cron/blob/master/providers/d.rb#L26-L51
[2013-10-23 22:21:29 -0400] mconigliaro: i find this all over the place in community cookbooks (maybe because of that example)
[2013-10-23 22:21:37 -0400] coderanger: btm: ^^ bug probably
[2013-10-23 22:21:50 -0400] coderanger: mconigliaro: So what you could do is "action :nothing"
[2013-10-23 22:21:50 -0400] mconigliaro: so i have an lwrp that i want to able to use notifications from
[2013-10-23 22:21:55 -0400] coderanger: and then t.run_action(:create)
[2013-10-23 22:22:02 -0400] coderanger: and _then_ you can change t.updated?
[2013-10-23 22:22:06 -0400] mconigliaro: hmm, let me try that.
[2013-10-23 22:22:10 -0400] mconigliaro: thanks for the help btw
[2013-10-23 22:22:14 -0400] mconigliaro: this is driving me nuts
[2013-10-23 22:22:22 -0400] coderanger: No problem, getting the ordering right is Hard
[2013-10-23 22:22:36 -0400] coderanger: Welcome to the leaky end of the abstraction ;-)
[2013-10-23 22:22:46 -0400] mconigliaro: it doesn't help if the example doesn't work! haha
[2013-10-23 22:22:51 -0400] coderanger: You can also use_inline_resources
[2013-10-23 22:22:57 -0400] coderanger: which basically does that whole cycle for oyu
[2013-10-23 22:23:17 -0400] coderanger: it captures all the sub-resources into an isolated run context, executes them, and then checks if any were updated
[2013-10-23 22:23:34 -0400] mconigliaro: ah, that's only in chef 11 thought, right?
[2013-10-23 22:23:46 -0400] mconigliaro: i think I'm stuck on 10 for a bit
[2013-10-23 22:23:47 -0400] coderanger: Maybe, I forget when it was added exactly
[2013-10-23 22:23:50 -0400] coderanger: 11 sounds right
[2013-10-23 22:23:57 -0400] coderanger: If you are on 10 you can use a similar thing
[2013-10-23 22:23:58 -0400] coderanger: let me find it
[2013-10-23 22:24:34 -0400] coderanger: https://gist.github.com/coderanger/4506662
[2013-10-23 22:24:37 -0400] mconigliaro: coderanger: that worked
[2013-10-23 22:24:45 -0400] mconigliaro: r = template .
[2013-10-23 22:24:49 -0400] coderanger: mconigliaro: Dump that in a libraries/default.rb
[2013-10-23 22:24:55 -0400] mconigliaro: r.run_action(:create)
[2013-10-23 22:24:58 -0400] coderanger: and then use notifying_action instead of action
[2013-10-23 22:25:00 -0400] mconigliaro: then i can check for updated?
[2013-10-23 22:25:20 -0400] coderanger: If you use notifying action it does it all for you :)
[2013-10-23 22:25:31 -0400] coderanger: https://gist.github.com/coderanger/4506662#file-notifying_action-rb-L47-L48
[2013-10-23 22:26:01 -0400] mconigliaro: ok, thanks
[2013-10-23 22:26:06 -0400] mconigliaro: at least i know I'm not an idiot
[2013-10-23 22:26:44 -0400] coderanger: Well, I can't promise you that ;-)
[2013-10-23 22:26:54 -0400] mconigliaro: haha, true
[2013-10-23 22:27:24 -0400] coderanger: On the internet, everyone is a dog^Widiot
[2013-10-23 22:38:10 -0400] miah: hi
[2013-10-23 22:38:26 -0400] miah: the queen of idiots has arrived!
[2013-10-23 23:39:05 -0400] ryker: hi.  anyone here use spiceweasel and have any idea if you can have it run a pre or post script or specify commands to run via shellout?  I found a pull request that was merged a while ago regarding adding a command class, but I'm not sure if it's what i'm looking for.  https://github.com/mattray/spiceweasel/pull/31
