[2013-03-16 00:00:01 -0400] sascha_d_: I'm just trying to find all the servers of a particular name type who are missing this role so I can mass put it on there
[2013-03-16 00:02:28 -0400] sascha_d_: no, something else is weird. I just did a simple name search and it still didn't filter.
[2013-03-16 00:02:38 -0400] sascha_d_: some of these nodes are missing fqdns
[2013-03-16 00:02:47 -0400] sascha_d_: (I didn't set this stuff up. I'm just trying to curate)
[2013-03-16 00:03:11 -0400] sascha_d_: so I wonder if the missing fqdn is mucking up search
[2013-03-16 00:03:32 -0400] paulmooring: if you're not searching on fqdn it shouldn't
[2013-03-16 00:03:43 -0400] sascha_d_: I'm not
[2013-03-16 00:04:11 -0400] sascha_d_: so this search: knife search node name:*en* produced results with the por server names
[2013-03-16 00:04:21 -0400] sascha_d_: I need to go read chef server logs
[2013-03-16 00:04:23 -0400] ranjibd_: sascha_d_: dont search ...fetch stuff from couchd/pg using Chef::Node.all and do select based on your criteria
[2013-03-16 00:04:33 -0400] miah: name is the nodes name. so it depends on what the original fqdn was when the node registered itself (or if somebody specified the node name when they bootstrapped the client)
[2013-03-16 00:04:39 -0400] paulmooring: for me the `thing1:one AND -thing2:two` seems to work fine
[2013-03-16 00:05:34 -0400] paulmooring: ranjibd_: That can be pretty dangerous on large installations
[2013-03-16 00:05:36 -0400] sascha_d_: paul, wild cards?
[2013-03-16 00:05:47 -0400] paulmooring: yeah with wild cards
[2013-03-16 00:05:55 -0400] c_t: I've gotten into the habit of explicitly setting the node name when bootstrapping
[2013-03-16 00:06:10 -0400] paulmooring: I did `name:i-f* AND -role:nginx`
[2013-03-16 00:06:13 -0400] c_t: avoids the heartbreak of unexpected and unreadable node names
[2013-03-16 00:06:50 -0400] ranjibd_: paulmooring: yeah, but if you are struggling with the search query..then i guess iteratively do the Chef::Node.load() and check  on the attribs
[2013-03-16 00:07:22 -0400] ranjibd_: c_t: +1 . Have always specified node name in client configs, -N in bootstrap
[2013-03-16 00:07:37 -0400] c_t: ranjibd_: yurp
[2013-03-16 00:07:40 -0400] nathenharvey: ekristen: I know you're no longer here but in response to the conversation from earlier today:
[2013-03-16 00:07:47 -0400] nathenharvey: http://docs.opscode.com/resource_subversion.html
[2013-03-16 00:07:48 -0400] nathenharvey: and
[2013-03-16 00:07:51 -0400] paulmooring: c_t: why do you care about node name's being human readable?
[2013-03-16 00:07:52 -0400] nathenharvey: http://docs.opscode.com/resource_git.html
[2013-03-16 00:08:24 -0400] c_t: paulmooring: So if I want to edit a node directly I can remember what it is
[2013-03-16 00:08:40 -0400] c_t: or, looking at the list of nodes, have some hope of knowing which are which
[2013-03-16 00:08:43 -0400] ranjibd_: paulmooring: everything is in name. i prefer to name nodes as <env>-<service>-<instance number>
[2013-03-16 00:09:04 -0400] ranjibd_: the fact that you can derive everything from the name of a node,, you can do a lot
[2013-03-16 00:09:07 -0400] c_t: web1.foo.com is much easier to read at a glance than, say, d34233152432
[2013-03-16 00:09:21 -0400] ranjibd_: also as you can see,, searching becomes predictable
[2013-03-16 00:09:38 -0400] paulmooring: c_t: sure but searching by role is better than assuming web1 is my only web role
[2013-03-16 00:10:56 -0400] c_t: it's just something I've found that makes life a little easier, not a make or break type thing
[2013-03-16 00:11:19 -0400] c_t: but it does simplify figuring out what you're looking for when looking at the output of 'knife node list'
[2013-03-16 00:11:52 -0400] c_t: paulmooring: also, I only somewhat recently got our roles & environments more regularlized
[2013-03-16 00:12:08 -0400] c_t: so some older nodes still in the system (mostly not running anymore though) are a bit chaotic
[2013-03-16 00:12:14 -0400] c_t: actually, I need to clean some out I think
[2013-03-16 00:12:30 -0400] ranjibd_: a lot easier..making security groups rules becomes easier, the whole thing becomes more readable
[2013-03-16 00:16:33 -0400] paulmooring: c_t: for the record explicit naming is in no way a bad thing :)
[2013-03-16 00:18:32 -0400] sascha_d_: I am considering explicit names
[2013-03-16 00:18:51 -0400] sascha_d_: I'm not in charge of provisioning, but I AM in charge of writing the cobbler bootstrap snippet
[2013-03-16 00:19:03 -0400] sascha_d_: I end up with names all over the board
[2013-03-16 00:20:53 -0400] yfeldblum: paulmooring, even when everything is automated, there is still a need to debug problems
[2013-03-16 00:21:10 -0400] yfeldblum: paulmooring, that's why names that are both human-readable and machine-readable are good
[2013-03-16 00:21:36 -0400] paulmooring: yfeldblum: yeah I wasn't knocking it, just curious where other's priorities lie
[2013-03-16 00:22:13 -0400] sascha_d_: node naming I've noticed is the source of hot debate
[2013-03-16 00:22:41 -0400] sascha_d_: I think it's nice to be able to decode node names, but I'm good either way since sometimes I have clients in the cloud and sometimes not
[2013-03-16 00:23:03 -0400] c_t: yeah, I've just gotten burned a few times by idiotic and nonsenscical assigned cloud names
[2013-03-16 00:23:06 -0400] c_t: so I've gotten into the habit
[2013-03-16 00:23:28 -0400] yfeldblum: sascha_d, i prefer "#{SecureRandom.hex(16)}" for names to names like "zeus" and "hera", all of which are meaningless
[2013-03-16 00:23:48 -0400] sascha_d_: @yfeldblum I hear you there
[2013-03-16 00:24:17 -0400] sascha_d_: When I work in big companies they often have decodable host names - location/datacenter, env, possibly app type
[2013-03-16 00:24:22 -0400] c_t: that wasn't quite what I had in mind
[2013-03-16 00:24:31 -0400] yfeldblum: sascha_d, but i prefer something like "app-#{app_name}-#{SecureRandom.hex(4)}.company.lan" to either of the above, which embeds useful information
[2013-03-16 00:24:37 -0400] c_t: I was more thinking names like <role>-<num> type names
[2013-03-16 00:24:42 -0400] c_t: not "steve"
[2013-03-16 00:24:59 -0400] sascha_d_: my first ohai plugin was one that decoded the host names of a large data center host and set ohai attrs
[2013-03-16 00:25:02 -0400] yfeldblum: sascha_d, information which you/team/org find important (plus a random tag)
[2013-03-16 00:25:22 -0400] sascha_d_: host collection that is
[2013-03-16 00:25:23 -0400] c_t: although our testing db was named "nimrud" for a long time for weird historical reasons
[2013-03-16 00:25:27 -0400] sascha_d_: :)
[2013-03-16 00:25:28 -0400] cmceldowney1: hi all trying to find a way to programmatically determine what version of chef-client/chef-server I'm running from inside a recipe. want to set up conditional so I can use partial_search when available, and not when not
[2013-03-16 00:26:05 -0400] sascha_d_: So also, for the record, I thought we could use wild cards at the beginning of search terms but they appear to still be a bad idea
[2013-03-16 00:26:07 -0400] c_t: I privately named VMs and computers after Mesopotamian cities, and when my dev Xen box ended up being used by the company at large, some of the machine names hung around
[2013-03-16 00:26:23 -0400] c_t: "ur" was the memcached instance for many years as well
[2013-03-16 00:26:51 -0400] sascha_d_: I try to always think about what will outlive my tenure when naming. I have a couple of crappy cookbooks from early 2010 still in use at a client and I'm still cringe
[2013-03-16 00:27:08 -0400] c_t: became a problem later though, because I kept forgetting what city name went to what
[2013-03-16 00:27:22 -0400] yfeldblum: sascha_d, c_t, i put the random tags in there specifically in order to remind me that every machine can be thrown away and replaced with a new one
[2013-03-16 00:27:29 -0400] c_t: "Was 'mari' the squeeze build box again?"
[2013-03-16 00:27:32 -0400] c_t: that sort of thing
[2013-03-16 00:27:43 -0400] c_t: plus having to look up an atlas every time a new machine came along
[2013-03-16 00:28:08 -0400] c_t: so, really, we all seem to be in agreement
[2013-03-16 00:28:13 -0400] c_t: interesting point though, yfeldblum
[2013-03-16 00:28:20 -0400] yfeldblum: sascha_d, c_t, machine names can get long, but that's better than them being indecipherable
[2013-03-16 00:28:22 -0400] c_t: I tend to get a bit attached to, say, web1-4
[2013-03-16 00:28:34 -0400] yfeldblum: c_t, yeah, i think we're discussing approaches :D
[2013-03-16 00:29:21 -0400] yfeldblum: c_t, i actually don't like that approach because it indicates that there are 4 web machines rather than N, and that web1 is the king of them
[2013-03-16 00:29:44 -0400] c_t: yeah, I just hadn't thought of it that way before
[2013-03-16 00:29:50 -0400] yfeldblum: c_t, that would put me in the wrong frame of thinking
[2013-03-16 00:30:06 -0400] c_t: (because I totally end up thinking of web1 as the king of them)
[2013-03-16 00:30:39 -0400] c_t: (and there've been a few webs5-6, and at least one set of 7-8)
[2013-03-16 00:31:02 -0400] yfeldblum: c_t, rename them web-fd326db1, web-188dcaa3, web-8f531cf6, and web-58a503fa :D
[2013-03-16 00:31:29 -0400] c_t: I should do that moving forward, I think
[2013-03-16 00:31:42 -0400] c_t: on another note, I'd better brave the traffic to Seattle now
[2013-03-16 00:32:01 -0400] yfeldblum: c_t, gl
[2013-03-16 00:32:05 -0400] c_t: daughter's going to the in-laws
[2013-03-16 00:32:11 -0400] c_t: Northbound looks OK though
[2013-03-16 01:36:17 -0400] totumo: Hi all - question: When using recipe_include from another cookbook, do the attributes from that cookbook also come along?
[2013-03-16 01:43:03 -0400] totumo: To answer my own question: Not unless you have it as a dependence in your metadata :)
[2013-03-16 06:17:18 -0400] mmaleko: Hi all what's the preferred method of installing rvm, nginx and passenger with chef?
[2013-03-16 06:26:31 -0400] tmichael: can someone school me rq on the !!node syntax:
[2013-03-16 06:26:33 -0400] tmichael:   enable !!node['apache']['default_site_enabled']
[2013-03-16 06:26:53 -0400] tmichael: just for some edumucation.  thx
[2013-03-16 16:26:40 -0400] ShawnMcCool: strange question. I set up hosted Chef and in general I'm not terribly pleased with the pricing and the speed of the service. It may work well for others but, I would like to try setting up my own Chef server. Does anyone have any quick-tips or know of any specific gotchas when going from an opscode hosted setup to running my own server?
[2013-03-16 16:31:34 -0400] petecheslock: ShawnMcCool - if you go with open source chef server i think you will not get a couple features (that may not have value to you), Access to multitennancy (multiple organizations), and access control (controlling who can interact with chef objects).  For those i believe you need hosted chef or private chef
[2013-03-16 16:32:04 -0400] ShawnMcCool: i see, thank you
[2013-03-16 16:33:33 -0400] petecheslock: but i'm pretty sure private chef & hosted chef retail for the same price.
[2013-03-16 17:05:37 -0400] djdarkbeat: I recently moved from hosted chef to chef server
[2013-03-16 17:06:12 -0400] djdarkbeat: So to deal with the multi tenancy I just put up a chef server for each client on EC2
[2013-03-16 17:06:36 -0400] ShawnMcCool: djdarkbeat and they can set up as many nodes as they want? or what?
[2013-03-16 17:07:15 -0400] djdarkbeat: yes it appears to be unlimited from what I can see
[2013-03-16 17:07:39 -0400] djdarkbeat: there's a gem to bootstrap a whole chef server
[2013-03-16 17:07:59 -0400] djdarkbeat: lol I'm actually sitting in a keynote at pycon right now
[2013-03-16 17:08:54 -0400] ShawnMcCool: ah, nice =)
[2013-03-16 17:09:15 -0400] djdarkbeat: https://github.com/fnichol/knife-server
[2013-03-16 17:23:12 -0400] fauncybillups: i've updated my hostname on one of my chef nodes.. i'm running ohai via chef client, but I'm not seeing the node.fqdn attr being updated.. is this expected behavior?
[2013-03-16 17:55:13 -0400] robertd: Hello. As I saw I can not use remote_directory to copy local folders. Can I use something provided by chef?
[2013-03-16 18:02:54 -0400] djdarkbeat: two ways
[2013-03-16 18:03:20 -0400] djdarkbeat: file "/root/1.txt" do
[2013-03-16 18:03:21 -0400] djdarkbeat:   content IO.read("/tmp/1.txt")
[2013-03-16 18:03:21 -0400] djdarkbeat: end
[2013-03-16 18:03:37 -0400] djdarkbeat: other way is to use remote_file
[2013-03-16 18:05:18 -0400] robertd: I want to copy a folder not a file
[2013-03-16 18:13:22 -0400] petecheslock: you could do a execute resource - cp -av - then do a not_if  the files are in the proper destination to make it idempotent
[2013-03-16 18:13:56 -0400] petecheslock: you're saying a folder of files on the node you want to copy to another place on the same node?
[2013-03-16 18:14:03 -0400] petecheslock: robertd^
[2013-03-16 18:16:36 -0400] robertd: @petecheslock Yes. source and destination folder are on the same node. I was wondering if I can avoid script/bash resource.
[2013-03-16 18:17:32 -0400] petecheslock: yea - i know many people want to stick to "cleaner" resources, but i'm not aware of one that exists to do that.
[2013-03-16 18:18:04 -0400] petecheslock: i'm a "right tool for the job" kind of guy - as long as i can make them idempotent - which you can definitely do (so you're not copying stuff over and over).
[2013-03-16 18:18:35 -0400] robertd: Ok. Thank you
[2013-03-16 18:27:00 -0400] petecheslock: np - good luck
[2013-03-16 19:41:06 -0400] ranjibd: ohai chefs
[2013-03-16 20:04:47 -0400] queso: What is the default port for the webgui for chef 11 server?
[2013-03-16 20:04:57 -0400] josephholsten: :80
[2013-03-16 20:05:53 -0400] queso: Thanks.
[2013-03-16 21:08:56 -0400] madteckhead: I'm stuck and would appreciate a pointer from someone with more know if you have a sec.
[2013-03-16 21:09:46 -0400] madteckhead: I'm using the application and application_python cookbooks which use hostedchef for node discovery how do I setup a vagrant box that makes use of these cookbooks
[2013-03-16 21:10:00 -0400] madteckhead: given that its using chef-solo
[2013-03-16 21:11:01 -0400] madteckhead: sorry, i know its the weekend and no one wants to work but alas I don't have that luxury so any pointers appreciated
[2013-03-16 21:27:18 -0400] chip-: check out using the chef-server provisioner from within Vagrant, and use the vagrant-butcher plugin to handle tearing down your node/client objects at the end of your vagrant run (Not sure if it's updated for 1.1)
[2013-03-16 21:27:36 -0400] chip-: http://docs.vagrantup.com/v2/provisioning/chef_client.html
[2013-03-16 21:43:09 -0400] hakunin: Anyone tried using Riak cookbook? It raises "No version specified, and no candidate version available for riak". I tried forcing apt-get update but that didn't seem to have effect
[2013-03-16 21:45:08 -0400] madteckhead: chip: thanks ill check it out
[2013-03-16 22:04:14 -0400] gchristensen: hakunin: did it successfully add basho.com to the apt repo list?
[2013-03-16 22:12:47 -0400] hakunin: gchristensen: when i do sudo apt-get update manually, i see "Hit http://apt.basho.com precise InRelease" in the output
[2013-03-16 22:13:31 -0400] hakunin: gchristensen: incidentally if i use "sudo apt-get install riak" this happens: "E: Unable to locate package riak"
[2013-03-16 22:13:43 -0400] gchristensen: :) sounds like you've got some debugging / googling to do!
[2013-03-16 22:15:20 -0400] hakunin: gchristensen: i've come here after 2 days of doing that, forcing apt-get updates, debugging, modifying source code, and i think it all comes down to apt-get not finding riak in apt.basho source or something... IRC is my last resort
[2013-03-16 22:16:26 -0400] hakunin: google results are full of apt-related regressions, and yes, i have that issue too, i'm forced to run cookbook apt 1.7.0 when there's 1.9.0 out there due to the chef version used on the box, but manual intervention doesn't seem to help either
[2013-03-16 22:16:30 -0400] gchristensen: hakunin: its not a problem with Chef at this point, the cookbook is doing something that simply doesn't work
[2013-03-16 22:16:51 -0400] hakunin: gchristensen: yeah does look like it
[2013-03-16 22:17:00 -0400] gchristensen: so the recipe is out of date with the real instructions to install it.
[2013-03-16 22:17:53 -0400] hakunin: simply stated, apt_repository is added to apt get, and riak is still not found. i guess this is an apt-get question
[2013-03-16 22:18:11 -0400] gchristensen: might be worth trying #ubuntu or #debian, depending
[2013-03-16 22:18:15 -0400] gchristensen: or #riak if that is a thing.
[2013-03-16 22:18:26 -0400] hakunin: usually these are a thing :)
[2013-03-16 22:18:54 -0400] hakunin: gchristensen: yep, it is
[2013-03-16 22:19:43 -0400] gchristensen: good luck :)
[2013-03-16 22:20:02 -0400] gchristensen: and if all else fails, run the commands manually to try it out, and then tear down the box and do those commands with chef.
[2013-03-16 22:23:13 -0400] chip-: The Basho guys will be very interested in any situation in which their software doesn't JFW
[2013-03-16 22:23:30 -0400] chip-: Ease of installation is a big thing with them
