[2013-03-03 00:31:09 -0500] allaire: my hostname --fqdn is server.lodgem.com, <%= node['fqdn'] %> returns only "com", any ideas why?
[2013-03-03 00:31:49 -0500] allaire: ohai | grep fqdn returns "fqdn": "server.lodgem.com"  I dont get it
[2013-03-03 06:11:19 -0500] metaxis: *sigh*
[2013-03-03 06:11:22 -0500] metaxis: berks cookbook fud --vagrant --git --foodcritic
[2013-03-03 06:11:34 -0500] metaxis: can't activate json-1.7.7, already activated json-1.5.5
[2013-03-03 06:11:51 -0500] metaxis: gem uninstall gherkin -v 2.11.6
[2013-03-03 06:12:00 -0500] metaxis: gem uninstall json -v 1.7.7
[2013-03-03 06:12:04 -0500] metaxis: *sigh*
[2013-03-03 06:14:47 -0500] flaccid: metaxis: the good ol rubygems versioning dilemma
[2013-03-03 06:14:52 -0500] zerokarm1left: charming
[2013-03-03 06:15:56 -0500] metaxis: and the newer version of gherkin?  it got pulled in because I installed, i think, test-kitcken 1 alpha
[2013-03-03 06:18:38 -0500] flaccid: this is why rvm and rbenv exist
[2013-03-03 10:49:36 -0500] pipework: What does https://github.com/fnichol/knife-server provide that's not a part of knife?
[2013-03-03 11:05:08 -0500] zts: pipework: the readme, right there on the page you linked, documents what it provides
[2013-03-03 11:05:31 -0500] pipework: Gosh, I guess I was illiterate and just totally missed it.
[2013-03-03 11:05:51 -0500] pipework: I suppose I should have just known the feature difference.
[2013-03-03 11:06:32 -0500] zts: ...
[2013-03-03 11:08:39 -0500] zts: I can't imagine why you would be wilfully obtuse, but I equally don't undestand where you're coming from.  The readme describes what knife-server adds, which is exactly the question you asked
[2013-03-03 11:10:10 -0500] zts: am I missing something?
[2013-03-03 11:10:53 -0500] pipework: I think it's my lack of knowledge about the features in knife. So I guessed that this just adds the ability to provision a server to install chef server on, whereas knife just provisions chef server on an existing server.
[2013-03-03 11:11:20 -0500] zts: knife doesn't provision chef server at all
[2013-03-03 11:11:33 -0500] pipework: So just chef client?
[2013-03-03 11:11:50 -0500] zts: yes
[2013-03-03 11:12:05 -0500] pipework: Ah, gotcha. So knife-server does both? Nifty, I'd think.
[2013-03-03 11:13:18 -0500] zts: no, knife-server is a plugin for knife which adds stuff to bootstrap a chef server, and to backup and restore various objects stored in a Chef server
[2013-03-03 11:14:23 -0500] pipework: Then why would knife-server need to know the flavor and ami?
[2013-03-03 11:16:58 -0500] zts: if you're using it to create an instance on EC2, it needs those details (among others) to do so
[2013-03-03 11:18:00 -0500] zts: if you're using it to install the server on an existing machine (already reachable on a given IP address), it doesn't need those EC2 options
[2013-03-03 11:18:16 -0500] zts: that's true even if the machine you're pointing it at is actually an EC2 instance
[2013-03-03 11:19:54 -0500] pipework: Gotcha, I don't think I'll use that.
[2013-03-03 14:11:01 -0500] kesor: how can I set attributes in a recipe so that it affects the next include_recipe during runtime? for example node['mysql']['server_root_password'] = 'secret'; includE-recipe "mysql::server"
[2013-03-03 14:20:07 -0500] gazarsgo: just to be clear, the DSL in chef is embedded in ruby, right ?  and not the other way around, like in puppet?
[2013-03-03 14:47:21 -0500] cheeseplus: gazarsgo: yes, you can write straight ruby inside of chef recipes/cookbooks
[2013-03-03 14:49:24 -0500] gazarsgo: excellent! I was trying out puppet, because of boxen, but i hate it and the #puppet guys suggested I try chef instead.  who wants more configuration instead of more code? :)
[2013-03-03 14:49:55 -0500] ashp: me ;)
[2013-03-03 15:05:12 -0500] abstrusenick: i have install chef server
[2013-03-03 15:05:13 -0500] abstrusenick: how to access the web ui?
[2013-03-03 15:44:56 -0500] yruss972: Hi- I want chef to resize my server. I can do it manually using knife. Is there any more elegant way to do it other than telling chef to run knife?
[2013-03-03 15:45:22 -0500] cheeseplus: resize how?
[2013-03-03 15:46:02 -0500] yruss972: cheeseplus: If I were doing it myself, I'd run something like knife joyent server resize <server_id>
[2013-03-03 15:46:26 -0500] yruss972: internally I think knife is using fog
[2013-03-03 15:46:48 -0500] cheeseplus: yea, didn't realize joyent gem had a resize available
[2013-03-03 15:47:26 -0500] cheeseplus: that would be the best way, unless you used chef to drive another node to make the api call based on some metric
[2013-03-03 15:48:13 -0500] yruss972: ok- there is no internal chef magic which turns knife into a chef resource/provider  or anything
[2013-03-03 15:48:41 -0500] cheeseplus: not that I am aware of
[2013-03-03 15:49:33 -0500] yruss972: another one for the wishlist then ;) Thanks for the help
[2013-03-03 15:50:01 -0500] cheeseplus: I'd probably just interact with the Joyent API in a recipe if I wanted something more elegant, might be a rabbit hole though
[2013-03-03 15:57:27 -0500] yruss972: cheeseplus: yeah- I was mostly hoping to save myself the hassle of setting up knife on every server.
[2013-03-03 21:07:46 -0500] gswallow: I'm working with our local copy of the mysql cookbook; specifically the libraries/helpers.rb file.
[2013-03-03 21:08:10 -0500] gswallow: I have a ruby_block and I defined a method in the library called "look_for_master."  But I can't call it in the ruby_block.
[2013-03-03 21:08:12 -0500] gswallow: Why not?
[2013-03-03 21:10:20 -0500] gswallow: http://pastebin.com/c8v1p1F2
[2013-03-03 21:12:53 -0500] duro: I'm in the process of writing my first LWRP. It's a sub-resource for the Opscode Application cookbook for deploying Drupal applications.
[2013-03-03 21:12:53 -0500] duro: I've got the basics work after following the standards of the application_php cookbook
[2013-03-03 21:12:53 -0500] duro: However, now I'm trying to implement a refactor of some of the code to make things cleaner
[2013-03-03 21:12:53 -0500] duro: In the case of our Drupal app, we have 3 different config files that need to be different between versions.
[2013-03-03 21:12:54 -0500] duro: What I would like to do is create a reusable block/attribute/? for creating a config file
[2013-03-03 21:12:55 -0500] duro: I would like this block to be flexible so that it can be used with cookbook templates, or templates that exist on the code repo itself (thus giving the day to day dev team the ability to change the options without having to mod the cookbook)
[2013-03-03 21:12:56 -0500] duro: Here is an example of a resource implementation that I would love to have:
[2013-03-03 21:12:57 -0500] duro: https://gist.github.com/duro/7889a374ac0b0f27c72c#file-gistfile1-rb-L19-L27
[2013-03-03 21:14:33 -0500] duro: I have been trying to figure out how to implement this in my Resource configuration, and I can't seem to get it. Any tips or direction anyone can point me in?
[2013-03-03 21:43:05 -0500] tmichael: trying to work though node/hostnaming pattern in new cloud env (hpcloud)...
[2013-03-03 21:43:14 -0500] tmichael: came across this: http://lists.opscode.com/sympa/arc/chef/2011-04/msg00008.html
[2013-03-03 21:43:59 -0500] tmichael: liking what kallistec proposes, but not sure how get instanceId data for passing to -N knife option at bootstrap
[2013-03-03 21:44:37 -0500] tmichael: appreciate help with that or any better ideas for handling node vs. hostnaming in cloud
[2013-03-03 21:45:01 -0500] tmichael: traditionally i've used chef in env where i control all of this so there's no issue with node vs hostname, but different now in the cloud
[2013-03-03 21:45:35 -0500] tmichael: curious what the cool kids are doing these days
[2013-03-03 22:29:49 -0500] bearrito: Just posted this to SO : http://stackoverflow.com/questions/15191428/using-a-custom-lwrp-in-chef Any insight?
[2013-03-03 22:31:16 -0500] flaccid: bearrito: i guess need to define the sub resource somewhere
[2013-03-03 22:31:50 -0500] gazarsgo: if a puppeteer is one who puppets, what is one who chefs? i'm thinking masterchef or headchef but ...
[2013-03-03 22:33:33 -0500] bearrito: Feel like I've done that. I have a file named flask.rb with the directive :  include Chef::Resource::ApplicationBase
[2013-03-03 22:35:57 -0500] pipework: gazarsgo: A chef is someone who chefs.
[2013-03-03 22:39:45 -0500] gazarsgo: are there non-zero exit codes for success in chef ?
[2013-03-03 22:42:22 -0500] j^2: question, why do i get 403 forbiddens when i randomly? but when i do chef-client -j /etc/chef/first-boot.json it's fine after that?
[2013-03-03 22:43:04 -0500] j^2: wow, i mean....
[2013-03-03 22:43:21 -0500] j^2: when use knife bootstrap, i get 403's such as:
[2013-03-03 22:43:35 -0500] j^2: https://gist.github.com/0654f596c0ad877caf22
[2013-03-03 22:43:50 -0500] j^2: but i can run the chef-client -j /etc/chef/first-boot.json and it passes fine after that
[2013-03-03 23:10:23 -0500] jens___: guys, i need to ask something about chef server, is anybody here? :)
[2013-03-03 23:12:10 -0500] jens___: no? :(
[2013-03-03 23:12:18 -0500] j^2: i'm here
[2013-03-03 23:12:25 -0500] pipework: jens___: Just ask.
[2013-03-03 23:12:31 -0500] pipework: If someone knows, they'll answer.
[2013-03-03 23:12:55 -0500] jens___: it seems that my master server is eating a lot of memory
[2013-03-03 23:12:58 -0500] jens___: is that normal?
[2013-03-03 23:13:08 -0500] j^2: chef10 or chef11?
[2013-03-03 23:13:12 -0500] jens___: 11
[2013-03-03 23:13:59 -0500] j^2: what's alot of memory?
[2013-03-03 23:14:30 -0500] jens___: it hit 800mb a few minutes ago with only 1 connected node
[2013-03-03 23:15:01 -0500] jens___: i can barely run a master server on a ec2 micro server
[2013-03-03 23:15:49 -0500] jens___: a puppet server i set up to compare uses quite less memory
[2013-03-03 23:16:03 -0500] jens___: so i was wondering if it is possible to maybe disable some features or tweak it?
[2013-03-03 23:18:40 -0500] jens___: my micro server now has 300mb in swap :s
[2013-03-03 23:21:27 -0500] zuhaib: Hey I am tryig to use chef_gem("fog") but since its being ran before build-essential I am getting errors about make being missing.  Any suggestion on how to prevent that
[2013-03-03 23:23:35 -0500] zuhaib: nvm i found my own answer, build-essential has compiletime option (derp_
[2013-03-03 23:37:40 -0500] siezer: jens___ an ec2 micro instance is like renting an 386DX
[2013-03-03 23:37:42 -0500] siezer: stop that.
[2013-03-03 23:37:56 -0500] siezer: =)
[2013-03-03 23:45:57 -0500] gazarsgo: you must not have actually used a 386.. ;)
[2013-03-03 23:46:59 -0500] gazarsgo: on a similar note though; does anyone manage medium sized clusters strictly w/ chef-solo or is that insanity ?
[2013-03-03 23:50:23 -0500] pipework: I'm working on it, actually.
[2013-03-03 23:51:19 -0500] pipework: I've even got scripts to bootstrap a local machine with chef, then another to setup chef server and provision itself as a utility server, and another script to then provision the local machine as a development machine.
[2013-03-03 23:51:45 -0500] pipework: If your chef server is already setup, it's a single command to get your local machine set up.
[2013-03-03 23:52:30 -0500] pipework: But i'm also setting up chef-solo stuff for provisioning different companies servers. I'm a consultant, it's nice having those one-click style tools.
[2013-03-03 23:54:56 -0500] siezer: seriously everbody stop using chef-solo for multiple-node setups
[2013-03-03 23:55:09 -0500] siezer: you end up re-inventing various wheels and moving mountains just to
[2013-03-03 23:55:22 -0500] siezer: dist cookbooks and manage topology
[2013-03-03 23:56:17 -0500] gazarsgo: are you using librarian to manage cookbooks ?
[2013-03-03 23:56:24 -0500] siezer: berkshelf
[2013-03-03 23:56:49 -0500] siezer: I've lost work because of librarian
[2013-03-03 23:57:23 -0500] pipework: siezer: I agree. But I don't really want to set up a chef server setup for them, and I'm not going to host it for them.
[2013-03-03 23:57:43 -0500] pipework: It's easy to just chef solo and then leave. all they care about is setup usually.
[2013-03-03 23:57:57 -0500] pipework: If someone wanted me to set up chef server, I'd just use my automation scripts to set it all up.
[2013-03-03 23:59:01 -0500] gazarsgo: siezer: i'm having a hard time seeing any value to running chef server, seems like a useless dependency.  cookbooks are already going to be in git, what does server do for me in managing topology?
