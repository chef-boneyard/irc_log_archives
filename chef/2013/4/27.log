[2013-04-27 00:01:27 -0400] rava_: is cloud.public_hostname also implemented as a method?
[2013-04-27 00:16:07 -0400] rava_: i'm guessing anything under node.cloud is implemented as a method?
[2013-04-27 00:30:03 -0400] zts: rava_: no, the cloud attributes come from ohai
[2013-04-27 00:30:26 -0400] zts: rava_: of course, you can still use the dot notation / method syntax to retrieve them
[2013-04-27 00:30:54 -0400] rava_: hrm, getting the same nil value that node['name'] gave me
[2013-04-27 00:31:23 -0400] rava_: service_hosts[e.name] = n[node['nagios']['host_name_attribute']] || n['cloud']['public_hostname']
[2013-04-27 00:31:29 -0400] rava_: that keeps failing with nil
[2013-04-27 00:33:02 -0400] zts: but it works if you do node.cloud.public_hostname ?
[2013-04-27 00:33:16 -0400] rava_: it works in shef
[2013-04-27 00:33:29 -0400] rava_: but doesn't work when done via the chef-client
[2013-04-27 00:33:42 -0400] rava_: when executing the recipe
[2013-04-27 00:35:05 -0400] zts: the dot notation works in shef but not chef-client, or the string notation?
[2013-04-27 00:35:11 -0400] zts: or both
[2013-04-27 00:35:14 -0400] rava_: string
[2013-04-27 00:36:40 -0400] zts: I note that you say 'n' instead of 'node' - what is definining n, and are you doing the same thing in both shef and your recipe?
[2013-04-27 00:37:42 -0400] rava_: whole code snippet: https://gist.github.com/ravaa/04f15f7607355de74ac4
[2013-04-27 00:37:57 -0400] rava_: and that dot notation didnt work
[2013-04-27 00:38:16 -0400] rava_: returns strings properly when i run that snippet in shef
[2013-04-27 00:42:30 -0400] rava_: starting to think the || is the fail, i tried n['hostname'] with the same failure
[2013-04-27 00:42:52 -0400] rava_: so frustrating to have things work in shef, but the client doesn't execute in the same way and pukes
[2013-04-27 00:42:54 -0400] rava_: blargh
[2013-04-27 00:43:45 -0400] zts: yeah, I don't really know how to explain that - I note your snippet never defines "nodes", though, so I guess you're running more code than that?
[2013-04-27 00:43:57 -0400] rava_: bah, sorry missed it
[2013-04-27 00:43:59 -0400] zts: you could have problems if "nodes" contains nodes that have not had a successful run (and saved their state back to the server)
[2013-04-27 00:44:10 -0400] rava_: nodes = search(:node, '*:*')
[2013-04-27 00:44:27 -0400] zts: as node.chef_environment and node.name will be there regardless, but node.cloud (for example) will not be present without the node being saved to the server
[2013-04-27 00:44:42 -0400] rava_: i have a few of those, but they still have node.name, which is weirding me out why i had to use this in the first place
[2013-04-27 00:46:48 -0400] rava_: what's odd is that the nodes that haven't checked in for a while still have the old node.hostname value
[2013-04-27 00:47:01 -0400] rava_: and cloud attributes
[2013-04-27 00:47:33 -0400] rava_: so no idea why the || is failing
[2013-04-27 00:48:43 -0400] zts: I would expect that node.hostname to be the value of "hostname" the last time that chef-client successfully completed a run
[2013-04-27 00:48:50 -0400] zts: when you say the || is failing, in what way is it failing?
[2013-04-27 00:49:41 -0400] rava_: that the value is remaining nil after a run, even though the attribute on nodes has data
[2013-04-27 00:50:06 -0400] rava_: i did a search for all nodes with -a hostname and -a cloud.public_hostname, and didn't find any with a nil value for those
[2013-04-27 00:51:53 -0400] zts: mmm well, I think the way I would debug this is to add some more statements into your nodes.select block to log node.name, and the two attributes you're looking at, and seeing if that sheds any light
[2013-04-27 03:29:32 -0400] Khazix: is it okay to symlink from a file in file_cache_path?
[2013-04-27 05:26:00 -0400] matti: ;]
[2013-04-27 08:50:23 -0400] bjensen: have any had to set the path of the mysql_config of the mysql package?
[2013-04-27 13:09:48 -0400] halfss: hi
[2013-04-27 13:10:50 -0400] halfss: why a chef client can get chef info of another client?
[2013-04-27 13:42:04 -0400] halfss: what's the different of private chef and opensource chef
[2013-04-27 13:42:05 -0400] halfss: ?
[2013-04-27 16:59:05 -0400] ssd7: Ohai Chefs
[2013-04-27 18:55:11 -0400] gamafranco: hi
[2013-04-27 18:55:36 -0400] gamafranco: I'm installing the server on Ubuntu 12.04 via packages, and it seems sorl was not installed
[2013-04-27 18:55:50 -0400] gamafranco: at least the chef server doesn't start - can't find sorl
[2013-04-27 18:58:50 -0400] ssd7: gamafranco: I would recommend installing Chef Server 11 using the omnibus packages: http://www.opscode.com/chef/install/
[2013-04-27 19:00:04 -0400] gamafranco: hm. but that way the package won't update via apt-get
[2013-04-27 19:02:07 -0400] ssd7: gamafranco: While we don't currently have an apt repo up for those packages, you'll find getting Chef Server 11 up and running orders of magnitude easier I believe
[2013-04-27 19:02:20 -0400] ssd7: you install the package and then run `chef-server-ctl reconfigure`
[2013-04-27 19:02:23 -0400] countdigi: i had a great experience w/ chef-server via omnibus and im pretty low-level hands-on guy
[2013-04-27 19:02:30 -0400] gamafranco: ok
[2013-04-27 19:02:57 -0400] gamafranco: just to understand: http://wiki.opscode.com/display/chef/Installing+Chef+Server+on+Debian+or+Ubuntu+using+Packages
[2013-04-27 19:03:14 -0400] gamafranco: these instructions are broken then? - not a complaint, just want to make sure
[2013-04-27 19:03:32 -0400] countdigi: http://docs.opscode.com/config_rb_chef_server.html gives options which chef-server-ctl reconfigure will pick up if u want to change anything btw
[2013-04-27 19:04:54 -0400] ssd7: gamafranco: We are still in a place where some people /need/ Chef 10 for compat reasons so the wiki still talks about Chef 10.  docs.opscode.com is where you want to start if you don't have existing compatibility concerns
[2013-04-27 19:05:52 -0400] bjensen: can anyone give me a recipe that installs a runit service that lets normal users restart it ?
[2013-04-27 19:05:57 -0400] gamafranco: ssd7 thanks. so, that doc is for chef 10. ok, thanks. I'm going to remove the deb source from the server and try omnibus
[2013-04-27 19:06:00 -0400] bjensen: restart / control it
[2013-04-27 19:07:22 -0400] ssd7: bjensen: Hrm. Does the runit cookbook LWRP not allow for that?
[2013-04-27 19:07:42 -0400] ssd7: Since it seems that would be a good feature
[2013-04-27 19:08:05 -0400] bjensen: lwrp?
[2013-04-27 19:09:02 -0400] ssd7: bjensen: :) Sorry, let's back up.  There is a runit cookbook that provides an easy interface for creating runit services
[2013-04-27 19:09:40 -0400] ssd7: http://community.opscode.com/cookbooks/runit
[2013-04-27 19:09:46 -0400] bjensen: Im using the runit_service cookbook but Im unsure that I am using it correctly, so I am looking for other usages of it
[2013-04-27 19:10:49 -0400] bjensen: sorry runit
[2013-04-27 19:12:05 -0400] ssd7: bjensen: I think if you set the "owner" and "group" attributes of runit_service than that user or members of that group would be able to control it.
[2013-04-27 19:14:18 -0400] sporter: how can i embed Expect scripts in a chef provider
[2013-04-27 19:21:31 -0400] ssd7: sporter: I would take a look at the script or execute resources
[2013-04-27 19:27:05 -0400] bjensen: ssd7: so did I and thats what I have done. However I get operation permitted when I try to do a sv up service-name even though its running as the same group as me
[2013-04-27 19:29:39 -0400] bjensen: ah its the supervise directory that is owned by root..
[2013-04-27 19:39:32 -0400] gamafranco: ssd7: the omnibus installer also didn't work
[2013-04-27 19:40:02 -0400] gamafranco: ok, it needs curl. let me install it
[2013-04-27 19:42:42 -0400] gamafranco: nope, problem is not on curl. need to dig this
[2013-04-27 19:49:46 -0400] ofross: anyone seen too many arguments in the 10.24.4 resource.rb for client?
[2013-04-27 19:49:48 -0400] ofross: Recipe Compile Error in /root/chef/cookbooks/php/resources/pear.rb
[2013-04-27 19:49:54 -0400] ofross: wrong number of arguments (2 for 1)
[2013-04-27 19:50:39 -0400] ofross: i fixed it by changing /usr/lib/ruby/gems/1.8/gems/chef-10.24.4/lib/chef/resource.rb (line 734)
[2013-04-27 19:50:57 -0400] ofross:       -if Chef::Resource.const_defined?(class_name, false)
[2013-04-27 19:50:58 -0400] ofross:       +if Chef::Resource.const_defined?(class_name)
[2013-04-27 20:06:04 -0400] bjensen: ssd7: I am thinking it might be related to http://tickets.opscode.com/browse/COOK-1136
[2013-04-27 20:24:36 -0400] ssd7: bjensen: Hrmm, that appears to be fixed but perhaps it regressed
[2013-04-27 20:24:51 -0400] ssd7: ofross: Yes, there is a fix for that on master, it'll be in the next version
[2013-04-27 20:25:17 -0400] bjensen: right but the bug is still present on the newest version on opscode
[2013-04-27 20:25:19 -0400] bjensen: right?
[2013-04-27 20:30:26 -0400] ssd7: bjensen: Hrmm, that /looks/ fixed when looking at the provider code.  I can try testing it out this afternoon
[2013-04-27 20:33:50 -0400] bjensen: ssd7: well I could just test up against master instead of the opscode repo
[2013-04-27 21:03:02 -0400] gamafranco: hi
[2013-04-27 21:03:38 -0400] gamafranco: I'm installing chef server on ubuntu using the omnibus install - and I get an error when executing End output of curl -sf http://127.0.0.1:8000/_status
[2013-04-27 21:03:51 -0400] gamafranco: sorry - when executing sudo chef-server-ctl reconfigure
[2013-04-27 21:17:22 -0400] gamafranco: is it normal to have no logs on /var/log/chef-server/chef-solr/current ?
[2013-04-27 21:20:16 -0400] subsume: any ops available for hire? i'd like a 5 box basic setup
[2013-04-27 21:24:44 -0400] countdigi: gamafranco: did u change your port for erlang in chef-server.rb?
[2013-04-27 21:24:54 -0400] countdigi: i had to edit that manually cause i needed to change myport to 80880
[2013-04-27 21:24:57 -0400] gamafranco: hm
[2013-04-27 21:25:44 -0400] gamafranco: I didn't change it. I'm trying to figure out what's the real problem, but progress so far is 0
[2013-04-27 21:27:42 -0400] countdigi: whats sudo /opt/chef-server/bin/chef-server-ctl status return?
[2013-04-27 21:39:53 -0400] gamafranco: {"status":"fail","upstreams":{"chef_solr":"fail","chef_sql":"pong"}}
[2013-04-27 21:40:06 -0400] gamafranco: countdigi: that's the status. thanks for the help
[2013-04-27 22:07:20 -0400] gamafranco: ssd7: found the problem with the packages
[2013-04-27 22:07:48 -0400] gamafranco: sudo apt-get install rabbitmq-server
[2013-04-27 22:07:56 -0400] gamafranco:  sudo apt-get install  solr-jetty
[2013-04-27 22:08:20 -0400] gamafranco: this needs to be executed manually. I guess the package doesn't have the dependencies correctly configured
[2013-04-27 22:31:53 -0400] benr: cuddletech.com/tmp/openssl.rb
[2013-04-27 22:32:13 -0400] benr: cuddletech.com/tmp/openssl.rb
[2013-04-27 22:48:24 -0400] benr: siezer:   pkgin -y install scmgit  ruby193-gem_plugin gcc47 gmake autoconf
