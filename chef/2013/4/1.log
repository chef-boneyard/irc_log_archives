[2013-04-01 00:37:20 -0400] coderanger: flaccid: Welcome to lolrubby: namespacing edition
[2013-04-01 00:37:41 -0400] coderanger: flaccid: You can either fix it like that, or you can just do something like "db = node['mydbinfo']"
[2013-04-01 00:37:50 -0400] coderanger: Just has to not be a method call
[2013-04-01 00:38:01 -0400] coderanger: I'll fix it in OptionsCollector when I get a chance
[2013-04-01 00:49:45 -0400] jtimberman: yfeldblum: run a dns server like djbdns/tinydns, bind, pdns, etc
[2013-04-01 01:22:39 -0400] yfeldblum: jtimberman, wondering if there's a way of having chef on one node "push" the records to the DNS service on another node or set of nodes
[2013-04-01 01:36:44 -0400] jfl0wers: can't you write new data bags in a chef script?
[2013-04-01 01:37:12 -0400] jfl0wers: if so then you could write more data bags that the dns server recipe looked at...
[2013-04-01 02:05:27 -0400] yfeldblum: jfl0wers, without writing data-bag items
[2013-04-01 02:05:39 -0400] yfeldblum: jfl0wers, treating data-bag items as read-only from the node's perspective
[2013-04-01 02:06:05 -0400] yfeldblum: jfl0wers, i'm talking about directly adding the record to the DNS service, not adding it to something and waiting for chef-client on the DNS servers to be run
[2013-04-01 02:06:22 -0400] jfl0wers: ooh
[2013-04-01 02:06:43 -0400] jfl0wers: I am not aware of any DNS server that has a rcp capability
[2013-04-01 02:06:52 -0400] jfl0wers: s/rcp/rpc/
[2013-04-01 02:11:15 -0400] yfeldblum: with managing /etc/hosts or running a dns server, trying to create two hosts and configure them to recognize each other by name requires chef-client to be run at least three times
[2013-04-01 03:02:54 -0400] djdarkbeat: has anyone heard of taking an AMI snapshot in AWS destroying chef credentials?
[2013-04-01 03:03:11 -0400] djdarkbeat: I did a snapshot to make an image
[2013-04-01 03:03:25 -0400] djdarkbeat: and now the validator and clients are all broken
[2013-04-01 03:03:49 -0400] djdarkbeat: when I check them from the CLI they match what I have in my local repo and what's on the chef clients.
[2013-04-01 03:20:35 -0400] djdarkbeat: What's weird is it is throwing all these mere errors both on the old server that was snapshotted and on the new server I made from the snapshot.
[2013-04-01 03:20:42 -0400] djdarkbeat: *merb
[2013-04-01 03:28:02 -0400] stuartrexking: I am trying to use the rbenv cookbook from fnichol with the application_ruby rails sub-LWRP. Problem I have is that I want rails to run under ruby 1.9.3 and I want bundler to install the gems using the bundle from rbenv. It's using the bundle command from the chef version of ruby (1.8.7). What is the best strategy to do this?
[2013-04-01 03:28:43 -0400] stuartrexking: I tried using the bundle_command with "/usr/local/rbenv/bin/rbenv exec bundle" but that doesn't seem to work.
[2013-04-01 03:30:50 -0400] stuartrexking: Is it possible to use knife bootstrap and specify that chef use a specific version of ruby (other than 1.8.7)
[2013-04-01 03:34:38 -0400] jtimberman: stuartrexking: create a role with the attributes for the rbenv cookbook as described in its readme, and use that role on the node's run list?
[2013-04-01 03:36:02 -0400] stuartrexking: jtimberman: Yes, I did that, and rbenv is installed and 1.9.3 is set as the global ruby.
[2013-04-01 03:36:14 -0400] djdarkbeat: jtimberman have you heard of the AMI creating messing up Chef10?
[2013-04-01 03:36:57 -0400] djdarkbeat: chef-server
[2013-04-01 03:37:29 -0400] djdarkbeat: I checked the clock skew and that's not off at all after the AMI creation
[2013-04-01 03:38:37 -0400] djdarkbeat: the chef-server-webui keeps throwing 500 errors after this AMI save
[2013-04-01 03:38:55 -0400] djdarkbeat: "No Method Error"
[2013-04-01 03:39:13 -0400] stuartrexking: jtimberman: Do I need to use the bundle_command attribute, or will the LWRP use the system one? Does it run bundler as the user I have specified or as root (chef client user)
[2013-04-01 03:39:54 -0400] stuartrexking: After I login I can see rbenv has been installed https://gist.github.com/stuartrexking/7820b6ded6116d91b48d
[2013-04-01 03:40:51 -0400] stuartrexking: So what I assumed was happening was the execution of the LWRP was using the bundle command from chef, not the one from rbenv
[2013-04-01 03:41:28 -0400] stuartrexking: Which is why I was explicitly using the "/usr/local/rbenv/bin/rbenv exec bundle" with the bundle_command attribute.
[2013-04-01 03:54:55 -0400] stuartrexking: jtimberman: I am running the client with rollback_on_error false. Hopefully I can figure out what is going on.
[2013-04-01 03:55:31 -0400] stuartrexking: Looking at the souce of the rails LWRP I can see that it indeeds executes the bundler stuff as the resource owner, not as the root user.
[2013-04-01 04:03:22 -0400] jtimberman: stuartrexking: oh - sorry, i haven't used rbenv + application_ruby. generally i install the ruby system package (ruby1.9.1-full on ubuntu for 1.9.3-pX)
[2013-04-01 04:03:55 -0400] stuartrexking: jtimberman: How do you do that? Can I do it using knife bootstrap?
[2013-04-01 04:04:12 -0400] jtimberman: stuartrexking: package "ruby1.9.1-full'
[2013-04-01 04:04:16 -0400] jtimberman: er, with the proper quotes
[2013-04-01 04:04:27 -0400] jtimberman: djdarkbeat: sorry, i don't know what you mean.
[2013-04-01 04:04:47 -0400] stuartrexking: jtimberman: Just to clarify, I just install that package before I run the rails LWRP?
[2013-04-01 04:04:56 -0400] jtimberman: stuartrexking: ya
[2013-04-01 04:05:04 -0400] stuartrexking: Excellent. So obvious.
[2013-04-01 04:05:21 -0400] stuartrexking: Will remove rbenv and try that.
[2013-04-01 04:07:03 -0400] jtimberman: i totally get wanting to use rbenv to get the exact ruby version you're using for development, but for deployment simplicity, i prefer the system package where available :)
[2013-04-01 04:08:26 -0400] jtimberman: newer ubuntus the alternatives system for setting it to the default ruby. and you could always create a ppa with a newer package :)
[2013-04-01 04:19:59 -0400] stuartrexking: jtimberman: Weirdly, ruby1.9.1-ful is actually ruby 1.9.3
[2013-04-01 04:23:03 -0400] jtimberman: stuartrexking: yeah, it's actually in reference to the stable version. like ruby1.8 is ruby 1.8.7, and across releases encompassed all of 1.8.0->.7.
[2013-04-01 04:23:25 -0400] jtimberman: stuartrexking: ruby 1.9.0 was not noted as a "stable" release, but 1.9.1 was.
[2013-04-01 04:23:41 -0400] jtimberman: So when Debian packaged the "stable" release of 1.9, it was 1.9.1.
[2013-04-01 04:24:05 -0400] stuartrexking: jtimberman: Sigh.
[2013-04-01 04:24:36 -0400] jtimberman: :)
[2013-04-01 04:25:05 -0400] jtimberman: think of it no less confusing than "ruby1.8" giving you "1.8.7" instead :)
[2013-04-01 04:25:34 -0400] jtimberman: fwiw, debian wheezy (testing) appears have 1.9.3-p194 as the default version if you install the 'ruby' package.
[2013-04-01 04:26:11 -0400] jtimberman: oh, looks like ubuntu quantal does too.
[2013-04-01 04:39:01 -0400] c_t: ohai, chefs
[2013-04-01 05:03:57 -0400] stuartrexking: jtimberman: Thanks for the help but I am still having problems. I can see in the run log that ruby1.9.1-full is installed. When I login via ssh the system ruby is still 1.8.7. What am I missing?
[2013-04-01 05:09:14 -0400] gleam: install ruby-switch to change the default version
[2013-04-01 05:09:30 -0400] gleam: or rbenv
[2013-04-01 05:17:46 -0400] c_t: might need to muck about with update-alternatives
[2013-04-01 05:28:22 -0400] jhubert: What's the best way to use chef to spin up EC2 servers behind a vpc?
[2013-04-01 05:28:47 -0400] jhubert: Do I have to copy the cookbooks to the VPC and run knife from there?
[2013-04-01 05:30:16 -0400] mohits: jhubert, knife-ec2, is the way :), and you don't need to have to have local copies of cookbook, assumming you are using a chef-server.
[2013-04-01 05:30:56 -0400] jhubert: mohits: not using a chef server yet. i'm pretty new to this.. starting with chef-solo as we only have a few machines.
[2013-04-01 05:32:11 -0400] mohits: jhubert, then i recommend knife-solo >> http://matschaffer.github.com/knife-solo/
[2013-04-01 05:32:51 -0400] jhubert: mohits: thanks. I've been playing with that. it's really nice
[2013-04-01 05:33:12 -0400] mohits: jhubert, yes it is
[2013-04-01 05:33:38 -0400] jhubert: also.. i just realized that hosted chef is free for 5- nodes so maybe i'll give that a shot. thanks for the reminder to take a look.
[2013-04-01 05:33:59 -0400] mohits: :)
[2013-04-01 05:34:51 -0400] jhubert: but really.. i have SOO much to learn. we should really just hire a sys admin who already knows chef. :p
[2013-04-01 07:16:52 -0400] stuartrexking: jtimberman: Are you still around?
[2013-04-01 07:30:18 -0400] tt8888: Hi, need some help in diagnosing a problem .. bootstrapping to a ubuntu server, and getting "ArgumentError: Could not parse PKey: no start line"
[2013-04-01 07:30:25 -0400] tt8888: how do I start to debug this?
[2013-04-01 07:30:43 -0400] tt8888: -V -V on knife didn't come back with DEBUG that's usefl
[2013-04-01 07:31:03 -0400] tt8888: only got Mechanism none was requested, but isn't a known type. Ignoring it.
[2013-04-01 07:53:01 -0400] mh`: so, what do folks do for installing a large number of common system packages that are shared amongst large groups of your servers? i.e. there's a list of 'common' apt packages/repos that need added to all nodes, then there's a list that go on all of our staging boxes, a list for prod, etc.
[2013-04-01 07:53:34 -0400] mh`: all of the ones i'm referring to now require zero config, so having one cookbook for each is insane, but curious how you structure the cookbook/recipes for this.. attributes, etc
[2013-04-01 07:53:40 -0400] mh`: can't find much about best practices here
[2013-04-01 09:12:36 -0400] Guest72445: hi all
[2013-04-01 09:12:49 -0400] Guest72445: i'm truing to ovveride chef server defaults, created /etc/chef-server/chef-server.rb
[2013-04-01 09:13:22 -0400] Guest72445: but when trying to "chef-server-ctl reconfigure" it fails. https://gist.github.com/dzinevich/5283952
[2013-04-01 09:25:39 -0400] Guest72445: sorry, figured out. I made chef-server.rb wrong way :S
[2013-04-01 10:32:06 -0400] flaccid: coderanger: thanks, much appreciated; i'll try the second way out soon
[2013-04-01 11:05:42 -0400] kesor: anyone wants to review a cookbook I opensourced? I want to make it better, and all ideas for improvement are appreciated. github.com/devops-israel/chef-sphinxsearch
[2013-04-01 12:24:42 -0400] Guest82623: Anyone make use of the knife.rb setting for "knife[:admin]"
[2013-04-01 12:25:05 -0400] Guest82623: I would like a client to be registered as an administrator through the use of chef-client
[2013-04-01 12:25:26 -0400] Guest82623: so I can manipulate data bags (which I believe requires an admin client)
[2013-04-01 13:18:17 -0400] Guest82623: Anyone make use of the knife.rb setting for "knife[:admin]"
[2013-04-01 13:18:32 -0400] Guest82623: I would like a client to be registered as an administrator through the use of chef-client
[2013-04-01 13:18:39 -0400] Guest82623: so I can manipulate data bags (which I believe requires an admin client)
[2013-04-01 13:19:52 -0400] kesor: anyone has a data bag file in ruby format as an example? I keep getting ERROR: ArgumentError: wrong number of arguments (1 for 0)
[2013-04-01 13:21:39 -0400] Guest82623: kesor, you want to create, manipulate, or get data from a data bag?
[2013-04-01 13:21:58 -0400] kesor: I want to use "knife data bag from file users someuser.rb"
[2013-04-01 13:22:25 -0400] Guest82623: oh
[2013-04-01 13:23:02 -0400] zts: kesor: I didn't think there was a ruby DSL for data bag items...
[2013-04-01 13:23:23 -0400] kesor: well, when I try and use a .yaml file - is says that only ".js .json and .rb" are allowed.
[2013-04-01 13:23:53 -0400] zts: the documentation only mentions json: http://docs.opscode.com/essentials_data_bags_store.html
[2013-04-01 13:24:00 -0400] kesor: :(
[2013-04-01 13:24:21 -0400] zts: I'll have a poke at the code now, maybe that message is inappropriate (or maybe the docs are wrong)
[2013-04-01 13:24:42 -0400] kesor: i rather it supported yaml or ruby, since I can't put no comments in json files ...
[2013-04-01 13:24:56 -0400] Guest82623: you can use the 'knife data bag show <data bag name> <item> -F yaml"
[2013-04-01 13:25:03 -0400] kesor: yes, i know.
[2013-04-01 13:25:10 -0400] Guest82623: so it supports showing yaml
[2013-04-01 13:25:15 -0400] Guest82623: and json
[2013-04-01 13:27:17 -0400] Guest82623: kesor I would need to see more of what you are trying
[2013-04-01 13:27:28 -0400] Guest82623: you are using knife right? not ruby source to do it
[2013-04-01 13:27:46 -0400] Guest82623: 'knife data bag from file'
[2013-04-01 13:27:48 -0400] kesor: Guest82623: you know how you can do "knife role from file somerole_name.rb" ?
[2013-04-01 13:27:57 -0400] Guest82623: yeah
[2013-04-01 13:28:02 -0400] kesor: I want the same for data bags ...
[2013-04-01 13:28:33 -0400] Guest82623: ok
[2013-04-01 13:28:45 -0400] Guest82623: what you might find easy enough
[2013-04-01 13:28:55 -0400] Guest82623: you could try to create a data bag from the web UI for Chef
[2013-04-01 13:29:02 -0400] Guest82623: then do a knife data bag get
[2013-04-01 13:29:07 -0400] Guest82623: and try to upload that format from file
[2013-04-01 13:29:21 -0400] kesor: I can also create a data bag from a json file, but I want ruby  since json has no comments.
[2013-04-01 13:29:32 -0400] Guest82623: oh
[2013-04-01 13:29:38 -0400] Guest82623: I don't know if it supports ruby
[2013-04-01 13:29:56 -0400] Guest82623: doing a 'knife data bag show -F ruby' does not work
[2013-04-01 13:30:12 -0400] kesor: it also doesn't work with roles.
[2013-04-01 13:30:29 -0400] Guest82623: hm
[2013-04-01 13:30:37 -0400] Guest82623: for Ruby or in general
[2013-04-01 13:30:51 -0400] Guest82623: i know uploading data bags from files works, just maybe not with a ruby data bag format
[2013-04-01 13:31:12 -0400] kesor: apparently.
[2013-04-01 13:31:23 -0400] Guest82623: presumably so
[2013-04-01 13:31:34 -0400] Guest82623: i would think roles would work
[2013-04-01 13:31:49 -0400] Guest82623: since I have done a download and upload (to migrate data from a Chef 10 server to a Chef 11 server)
[2013-04-01 13:32:04 -0400] Guest82623: and I imagine it uses some file format (or maybe it hits the RESTful interface, I am not sure)
[2013-04-01 13:32:57 -0400] kesor: most probably you used json as the export/import format.
[2013-04-01 13:33:20 -0400] zts: kesor: yeah, that error message appears to be misleading
[2013-04-01 13:34:19 -0400] Guest82623: likely so, I didn't specify the format
[2013-04-01 13:35:10 -0400] zts: kesor: it comes from a method that's shared between a bunch of things, and doesn't check whether ruby is supported for the particular type of thing it's looking at
[2013-04-01 13:35:54 -0400] Guest82623: kesor
[2013-04-01 13:36:03 -0400] Guest82623: doesn't YAML support comments?
[2013-04-01 13:36:27 -0400] Guest82623: you should be able to comment a data bag with YAML I guess
[2013-04-01 13:37:50 -0400] zts: Guest82623: you can't load data bag items from YAML either
[2013-04-01 13:38:06 -0400] zts: so yeah, if you want to comment them, you have to store them in one format, then transform that to JSON to upload to the server
[2013-04-01 13:39:22 -0400] Guest82623: hm
[2013-04-01 13:39:31 -0400] Guest82623: yeah, I just tried to upload a data bag from a file
[2013-04-01 13:39:47 -0400] Guest82623: and i got a 'FATAL: File must end in .js, .json, or .rb"
[2013-04-01 13:40:52 -0400] zts: yes
[2013-04-01 13:42:10 -0400] Guest82623: has anyone had any luck with the knife configuration: knife[:admin]
[2013-04-01 13:42:23 -0400] Guest82623: to create a client as an administrator while running chef-client
[2013-04-01 13:43:03 -0400] zts: Guest82623: chef-client doesn't look at knife configuration, so that won't work
[2013-04-01 13:43:12 -0400] Guest82623: hm
[2013-04-01 13:43:24 -0400] Guest82623: well do you know how I can have a new client register as an admin?
[2013-04-01 13:43:36 -0400] Guest82623: I need to manipulate data bags from a recipe
[2013-04-01 13:43:48 -0400] Guest82623: and currently, I am deleting the current client and recreating him as an admin via knife
[2013-04-01 13:43:51 -0400] Guest82623: in the middle of the recipe
[2013-04-01 13:43:59 -0400] Guest82623: which sounds like a terrible practice
[2013-04-01 13:44:08 -0400] zts: you should be able to update the client, instead of deleting it
[2013-04-01 13:44:16 -0400] kesor: manipulating other node data in a recipe is a terrible practice as well.
[2013-04-01 13:44:17 -0400] zachallett: im being affected by http://tickets.opscode.com/browse/CHEF-3933in my testing environment. any idea when it will be released?
[2013-04-01 13:44:21 -0400] zts: ^^ also that
[2013-04-01 13:44:36 -0400] zts: in general, running knife from inside chef-client is generally not what you want to be doing
[2013-04-01 13:44:42 -0400] Guest82623: i dont belive you can update the client to be an admin
[2013-04-01 13:44:48 -0400] Guest82623: oh i know
[2013-04-01 13:44:53 -0400] Guest82623: but i havent found a better way at all
[2013-04-01 13:44:59 -0400] kesor: Guest82623: sure you can, the webui has an option like that.
[2013-04-01 13:45:01 -0400] Guest82623: this was my hack to get it to work
[2013-04-01 13:45:08 -0400] Guest82623: to be able to change data bags from a recipe
[2013-04-01 13:45:24 -0400] kesor: why use chef if you support ugly insecure hacks as your daily practice? :/
[2013-04-01 13:45:31 -0400] Guest82623: are you suggesting a knife client update call?
[2013-04-01 13:45:33 -0400] zts: Guest82623: I can do it with 'knife client edit'
[2013-04-01 13:45:48 -0400] Guest82623: ouch....
[2013-04-01 13:45:54 -0400] Guest82623: well I am about 4 weeks into this
[2013-04-01 13:46:02 -0400] zts: Guest82623: anyway, if you need a chef-client to be an admin, you'll either need to create the client using knife (and then ship the client.pem to the server), or let it register using validation.pem, and then update the client
[2013-04-01 13:46:12 -0400] Guest82623: best practices dont come that quickly
[2013-04-01 13:46:30 -0400] Guest82623: update sounds like the most appropriate path
[2013-04-01 13:46:39 -0400] kesor: Guest82623: what is the actual problem you are trying to solve? why would you need updating other nodes in the first place?
[2013-04-01 13:46:43 -0400] Guest82623: the recipe should be inclusive
[2013-04-01 13:46:49 -0400] zts: kesor: not nodes, data bag items
[2013-04-01 13:46:49 -0400] Guest82623: and not require outside knife calls
[2013-04-01 13:47:01 -0400] kesor: zts: he is updating other nodes ...
[2013-04-01 13:47:02 -0400] Guest82623: I need to augment/create data bags
[2013-04-01 13:47:03 -0400] Guest82623: form a recipe
[2013-04-01 13:47:05 -0400] markp: Anyone have any luck with berkshelf and chef-solo provisioning as of late?
[2013-04-01 13:47:08 -0400] kesor: oh
[2013-04-01 13:47:14 -0400] kesor: Guest82623: why do you need that?
[2013-04-01 13:47:18 -0400] Guest82623: you can't create a data bag with a non-admin client
[2013-04-01 13:47:19 -0400] markp: i am at wits end here trying to get it to work
[2013-04-01 13:47:32 -0400] Guest82623: storing SSH keys for an authorized keys file
[2013-04-01 13:47:34 -0400] Guest82623: for clients to retrieve
[2013-04-01 13:47:47 -0400] Guest82623: server/client
[2013-04-01 13:47:48 -0400] kesor: Guest82623: why you need it to be done during a chef run?
[2013-04-01 13:47:51 -0400] markp: the provisioning step cannot find the cookbooks
[2013-04-01 13:47:53 -0400] Guest82623: need the clients to know the server SSH key
[2013-04-01 13:47:57 -0400] Guest82623: so it is stored in a data bag
[2013-04-01 13:48:01 -0400] rking: markp: I had no problems with Vagrant + chef-solo
[2013-04-01 13:48:10 -0400] zts: Guest82623: one alternative pattern (instead of data bags) is to save that information as node data, and use search to retrieve it from other nodes
[2013-04-01 13:48:21 -0400] markp: rking: which versions?
[2013-04-01 13:48:28 -0400] kesor: Guest82623: why not use search() to find your the data stored in your server node?
[2013-04-01 13:48:29 -0400] Guest82623: ah, my coworker mentioned that the other day
[2013-04-01 13:48:35 -0400] Guest82623: i have not used search yet (myself)
[2013-04-01 13:48:46 -0400] Guest82623: I see....
[2013-04-01 13:48:47 -0400] Guest82623: interesting
[2013-04-01 13:48:51 -0400] Guest82623: just trying to learn here
[2013-04-01 13:48:54 -0400] zts: I'd definitely suggest having a look at that, before deciding which approach to use
[2013-04-01 13:48:56 -0400] kesor: Guest82623: there is a good example for that in here -- https://github.com/opscode-cookbooks/ssh_known_hosts
[2013-04-01 13:48:58 -0400] rking: markp: vagrant at 1.1.4, chef-solo at whatever vagrant 1.1.4 comes with. =)
[2013-04-01 13:49:00 -0400] Guest82623: I hate the hack I did... but I didn't know what else to do
[2013-04-01 13:49:05 -0400] Guest82623: hence me hopping on the IRC for first time
[2013-04-01 13:49:19 -0400] zts: in general, if it's a piece of information that comes from one node, that you want others to see, node attributes + search is usually the right approach
[2013-04-01 13:49:20 -0400] Guest82623: ah, nice
[2013-04-01 13:49:22 -0400] rking: markp: It has an explicit "config.vm.provision :chef_solo do |chef|  chef.cookbooks_path" thing
[2013-04-01 13:49:24 -0400] Guest82623: well thanks gentlemen
[2013-04-01 13:49:29 -0400] Guest82623: I will look at updating the client
[2013-04-01 13:49:31 -0400] Guest82623: or using seearch
[2013-04-01 13:49:44 -0400] kesor: Guest82623: you probably should have started with describing the root problem, "letting other nodes find an ssh key created on this node"  and not start asking how to manipulate data bags.
[2013-04-01 13:49:50 -0400] markp: but what "path" belongs in that entry?
[2013-04-01 13:49:50 -0400] Guest82623: that makes sense... it uses Solr right?
[2013-04-01 13:50:05 -0400] Guest82623: gotcha
[2013-04-01 13:50:06 -0400] markp: the path in the vm, or the path on my host filesystem
[2013-04-01 13:50:07 -0400] Guest82623: thanks for the advice
[2013-04-01 13:50:23 -0400] kesor: Guest82623: its using the chef search api  the server might use solr, or whatever, as a recipe author you don't really care.
[2013-04-01 13:50:53 -0400] Guest82623: gotcha, just interested in the underlying search engine is all
[2013-04-01 13:51:05 -0400] Guest82623: ill take a look at those two options, and take the advice going forward
[2013-04-01 13:51:16 -0400] kesor: Guest82623: check the link I pasted to see an example of how it works
[2013-04-01 13:51:57 -0400] markp: @rking how do the cookbooks get into the vm?
[2013-04-01 13:52:44 -0400] Guest82623: yah I will dig through that code kesor, thanks
[2013-04-01 13:56:40 -0400] markp: :rking what path goes into that argument?
[2013-04-01 13:58:09 -0400] rking: I put one in relative to the Vagrantfile
[2013-04-01 13:59:26 -0400] Guest82623: :rking what is the problem again?
[2013-04-01 13:59:30 -0400] markp: no worries
[2013-04-01 14:00:00 -0400] markp: any input is appreciated at this point as I am new to the berkshelf way too
[2013-04-01 14:00:20 -0400] Guest82623: i have used berkshelf myself
[2013-04-01 14:00:29 -0400] markp: interesting as none of the online docs describe what you are saying
[2013-04-01 14:00:36 -0400] rking: Guest82623: Just working with markp's issues a bit.
[2013-04-01 14:00:48 -0400] markp: while what you are saying makes perfect sense
[2013-04-01 14:01:05 -0400] Guest82623: problems with where the cookbooks come from or where they are mounted onto the machine being provisioned?
[2013-04-01 14:01:11 -0400] markp: yes
[2013-04-01 14:01:28 -0400] Guest82623: I had issues with it, using RHEL
[2013-04-01 14:01:32 -0400] Guest82623: came down to a umask issue
[2013-04-01 14:01:40 -0400] markp: berks grabs them fine ... but there is a missing link to where the cookbooks are
[2013-04-01 14:01:54 -0400] Guest82623: hmmmm
[2013-04-01 14:01:57 -0400] markp: in the vm when i vagrant up there are no cookbooks
[2013-04-01 14:02:12 -0400] Guest82623: did you do a VAGRANT_LOG=DEBUG vagrant up
[2013-04-01 14:02:14 -0400] Guest82623: and see what u get?
[2013-04-01 14:02:28 -0400] markp: i could try that
[2013-04-01 14:02:53 -0400] Guest82623: its how i resolved my permissions problem
[2013-04-01 14:03:03 -0400] Guest82623: you get all the INFO level and DEBUG level debugging
[2013-04-01 14:03:10 -0400] Guest82623: you can see the commands being executed by vagrant
[2013-04-01 14:03:17 -0400] Guest82623: I would try that
[2013-04-01 14:07:04 -0400] markp: now i see that it is failing creating the shared dir
[2013-04-01 14:07:16 -0400] markp: sorry not creating ... rather mounting
[2013-04-01 14:07:18 -0400] Guest82623: yep
[2013-04-01 14:07:55 -0400] Guest82623: quite helpful output (you can do VAGRANT_LOG=INFO vagrant up too, to just see INFO level)
[2013-04-01 14:22:17 -0400] markp: any way to use custom vbox with berkshelf?
[2013-04-01 14:22:35 -0400] markp: the one they provide is still using chef-client 10.14.2
[2013-04-01 14:22:40 -0400] markp: i need to test on 11.0.0
[2013-04-01 14:25:06 -0400] jtimberman: markp: change config.vm.box to another box if you have one, or change config.vm.box_url to the URL of the box you want to use.
[2013-04-01 14:25:45 -0400] markp: will i have to manually define the shared folder now?
[2013-04-01 14:25:56 -0400] jtimberman: did you change it in the custom box?
[2013-04-01 14:25:59 -0400] markp: or is there some berks magic pixie dust that does that?
[2013-04-01 14:26:58 -0400] markp: because when i try different box with the same vagrantfile config, it fails to find the cookbooks
[2013-04-01 14:27:19 -0400] markp: not mounting the shared folder like the Berkshelf box does
[2013-04-01 14:28:49 -0400] bbox: hi guys
[2013-04-01 14:29:43 -0400] bbox: I've installed chef using gem install chef (ruby 2.0) and I'm getting the following error when trying to run chef-client /usr/lib/ruby/site_ruby/2.0.0/rubygems/core_ext/kernel_require.rb:45:in `require': cannot load such file -- rubygems/format (LoadError)
[2013-04-01 14:29:50 -0400] bbox: anyone can help with this ?
[2013-04-01 14:32:06 -0400] Guest82623: :markp, I have used Chef 11.0 and my own red hat machine
[2013-04-01 14:32:15 -0400] Guest82623: with Chef solo and berkshelf
[2013-04-01 14:32:30 -0400] markp: anything you had to change to make it work?
[2013-04-01 14:32:39 -0400] Guest82623: I did not put the cookbook path in the Vagrantfile
[2013-04-01 14:32:43 -0400] Guest82623: I just did a berks install from the cookbook directory
[2013-04-01 14:32:50 -0400] Guest82623: and a bundle exec vagrant up
[2013-04-01 14:33:01 -0400] Guest82623: Well, I had a problem with umask
[2013-04-01 14:33:07 -0400] Guest82623: on the base box I used
[2013-04-01 14:33:16 -0400] Guest82623: because vagrant/berkshelf was creating/mounting folders
[2013-04-01 14:33:18 -0400] Guest82623: and it was testing them
[2013-04-01 14:33:26 -0400] Guest82623: but it tested them wrong
[2013-04-01 14:33:38 -0400] Guest82623: vagrant did a mkdir -p to the cookbooks folder it wanted to mount to (with sudo)
[2013-04-01 14:33:57 -0400] Guest82623: but, when it went to test the directory, it test a 'test -d' on some directory without sudo
[2013-04-01 14:33:58 -0400] Guest82623: so it failed
[2013-04-01 14:34:08 -0400] Guest82623: I had to change umask on my base box to be 027 or something
[2013-04-01 14:34:16 -0400] Guest82623: so that new directories were created correctly
[2013-04-01 14:34:26 -0400] Guest82623: red hat must be pretty protective of permissions on create
[2013-04-01 14:35:12 -0400] Guest82623: Are the mounted folders there? Have you done a vagrant SSH to the box after the error and looked?
[2013-04-01 14:35:19 -0400] Guest82623: you should see a "/vagrant" folder
[2013-04-01 14:35:34 -0400] Guest82623: and a "/tmp/chef-solo... blah blah" folder
[2013-04-01 14:37:21 -0400] Guest82623: did you do a "berks install"?
[2013-04-01 14:37:33 -0400] Guest82623: are you pointing to opscode in your berksfile, or your own server?
[2013-04-01 14:38:06 -0400] markp: Guest82623: changed the umask ... reloading
[2013-04-01 14:38:51 -0400] Guest82623: what distro are you using?
[2013-04-01 14:39:00 -0400] markp: Centos 6.3
[2013-04-01 14:39:08 -0400] Guest82623: yeah, I was unhappy with the vagrant code of how it was being handled
[2013-04-01 14:39:11 -0400] Guest82623: and it took me a while to find out
[2013-04-01 14:39:22 -0400] Guest82623: but I compared directory permissions of the two mounted folders
[2013-04-01 14:39:39 -0400] Guest82623: 1. to a base box provided by opscode (ubuntu or something) and 2. my own RHEL box
[2013-04-01 14:40:00 -0400] Guest82623: its possible you have the same problem
[2013-04-01 14:40:09 -0400] Guest82623: I would just need to see your logs, and permissions of the directories etc.
[2013-04-01 15:17:01 -0400] ehlerst: has anybody seen this error before while doing configure on knife?
[2013-04-01 15:17:03 -0400] ehlerst: RROR: knife encountered an unexpected error
[2013-04-01 15:17:03 -0400] ehlerst: This may be a bug in the 'configure' knife command or plugin
[2013-04-01 15:17:03 -0400] ehlerst: Please collect the output of this command with the `-VV` option before filing a bug report.
[2013-04-01 15:17:04 -0400] ehlerst: Exception: NoMethodError: undefined method `gsub' for nil:NilClass
[2013-04-01 15:17:59 -0400] bbox: I've installed chef using gem install chef (ruby 2.0) and I'm getting the following error when trying to run chef-client /usr/lib/ruby/site_ruby/2.0.0/rubygems/core_ext/kernel_require.rb:45:in `require': cannot load such file -- rubygems/format (LoadError)
[2013-04-01 15:18:02 -0400] bbox: anyone can help with this ?
[2013-04-01 15:18:20 -0400] ehlerst: bbox sudo yum install rubygems
[2013-04-01 15:18:26 -0400] ehlerst: sudo gem install require
[2013-04-01 15:18:42 -0400] ehlerst: or apt-get
[2013-04-01 15:18:43 -0400] ehlerst: whatever
[2013-04-01 15:21:24 -0400] bbox:   - RUBYGEMS VERSION: 2.0.3   - RUBY VERSION: 2.0.0 (2013-02-24 patchlevel 0) [x86_64-linux]   - INSTALLATION DIRECTORY: /usr/lib/ruby/gems/2.0.0
[2013-04-01 15:21:35 -0400] bbox: installed them and I'm getting the same error
[2013-04-01 15:22:31 -0400] bbox: gem list --local | grep gems rubygems-update (2.0.3, 1.8.25)
[2013-04-01 15:22:40 -0400] bbox: gem list --local | grep require require (0.2.7)
[2013-04-01 15:23:04 -0400] bbox: ehlerst: I'm using archlinux
[2013-04-01 15:23:20 -0400] bbox: it was working fine with chef 10 and ruby 1.9.x
[2013-04-01 15:23:50 -0400] ehlerst: yeah welcome to the club chef 10 worked fine for me too... chef 11 has just about everything broken
[2013-04-01 15:23:53 -0400] bbox: then upgraded ruby to 2.0 ... and installed chef using gem .... but I'm getting these errors now
[2013-04-01 16:15:32 -0400] dillyjay: i'm trying to use this: https://github.com/priestjim/chef-php in provisioning of a vm running ubuntu 12.04. when i try to build php from source, i get configure: error: Cannot find imap library (libc-client.a). Please check your c-client installation.
[2013-04-01 16:16:00 -0400] dillyjay: i have located the libc-client.a and made symlinks for it in /lib and /lib64
[2013-04-01 16:16:14 -0400] Jazzh: trying to migrate to chef11 following this process http://www.opscode.com/blog/2013/03/12/5106/. Getting "ERROR: TypeError: can't convert nil into String" during knife upload /
[2013-04-01 16:16:38 -0400] dillyjay: as well as /usr/lib/x86_64-linux-gnu
[2013-04-01 16:17:10 -0400] dillyjay: essentially, everywhere that it might look for that file
[2013-04-01 16:17:24 -0400] dillyjay: anyone have any clues to point me in the right direction?
[2013-04-01 16:27:56 -0400] gad0lin_: ohai, I want to have to push devel version of cookbook to chef server, but dont want to interrupt others, is there good description of the flow? I used to lock version on env level, but maybe there is simpler way to do that?
[2013-04-01 16:47:34 -0400] kesor: How can I remove a template that another cookbook defined? I tried using resources.delete("template[/some/file]") but it didn't work, the template is still there ...
[2013-04-01 16:49:56 -0400] gleam: you could always do .not_if { true }
[2013-04-01 16:50:14 -0400] kesor: gleam: hmm thats a good idea! :)
[2013-04-01 16:50:59 -0400] gleam: i dunno if there's a "proper" way to do it, but that should work
[2013-04-01 16:51:25 -0400] kesor: gleam: sure, I'll do it with resources("/template[/some/file").instance_exec do only_if {false} end
[2013-04-01 16:55:35 -0400] kesor: anyone knows where I can learn more about OpsCode's Dendrite? :)
[2013-04-01 16:58:59 -0400] jtimberman: kesor: where'd you see that?
[2013-04-01 16:59:52 -0400] kesor: jtimberman: google
[2013-04-01 17:00:51 -0400] jtimberman: weird.
[2013-04-01 17:01:06 -0400] jtimberman: it's an internal non-public tool.
[2013-04-01 17:01:21 -0400] kesor: that why I asked to hear more about it :)
[2013-04-01 17:02:16 -0400] c_t: gotta love utterly undescriptive names
[2013-04-01 17:03:32 -0400] Guest82623: :kesor, have you used the ssh_known_hosts cookbook?
[2013-04-01 17:03:42 -0400] kesor: Guest82623: yes
[2013-04-01 17:03:48 -0400] Guest82623: or just pointing out the way it searches all nodes for ssh_keys
[2013-04-01 17:03:54 -0400] Guest82623: ah nice
[2013-04-01 17:04:05 -0400] Guest82623: so do you use it to keep one large data bag with all keys?
[2013-04-01 17:04:14 -0400] Guest82623: or point it to a host to grab a key from it, or what
[2013-04-01 17:04:15 -0400] kesor: Guest82623: it also uses a data bag for static values, for example github's ssh key.
[2013-04-01 17:04:20 -0400] jtimberman: kesor: there's not much more to say about it :)
[2013-04-01 17:04:36 -0400] kesor: Guest82623: no, keys are not stored in a data bag. they are stored as node attributes in each of the nodes.
[2013-04-01 17:04:42 -0400] kesor: jtimberman: :)
[2013-04-01 17:05:23 -0400] Guest82623: ah, the README mentions one possibility for adding custom keys
[2013-04-01 17:05:29 -0400] Guest82623: in a data bag called known_ssh_hosts
[2013-04-01 17:05:40 -0400] kesor: Guest82623: yep. but its not something you do during a chef run.
[2013-04-01 17:06:07 -0400] Guest82623: I se
[2013-04-01 17:06:17 -0400] Guest82623: so, each node would run the default recipe
[2013-04-01 17:06:45 -0400] kesor: Guest82623: yeah, which would in turn do a "search" to find all other nodes and read their ssh keys.
[2013-04-01 17:07:06 -0400] Guest82623: so its like a continual super set or aggregation thing
[2013-04-01 17:07:07 -0400] kesor: Guest82623: in your case, you can do something very similar to do a search for your server node and read the key stored as one of its attributes.
[2013-04-01 17:07:14 -0400] Guest82623: right
[2013-04-01 17:07:19 -0400] Guest82623: to do it on this static machine
[2013-04-01 17:07:20 -0400] kesor: no idea what you just said
[2013-04-01 17:07:50 -0400] Guest82623: each run of the recipe aggregates any new nodes
[2013-04-01 17:07:53 -0400] Guest82623: super set
[2013-04-01 17:08:03 -0400] kesor: Guest82623: so when your server runs a recipe, it stores the generated ssh key in its node attributes. then the other servers can read it from there using search.
[2013-04-01 17:08:26 -0400] Guest82623: right
[2013-04-01 17:08:33 -0400] Guest82623: I just set a named attribute on my node
[2013-04-01 17:08:39 -0400] Guest82623: and query that attribute from any client
[2013-04-01 17:09:11 -0400] Guest82623: I was just trying to see if the ssh_known_hosts cookbook was the most widely used means of this
[2013-04-01 17:09:36 -0400] kesor: Guest82623: I gave it as an example to go and see how to use the search api.
[2013-04-01 17:09:49 -0400] Guest82623: indeed
[2013-04-01 17:10:26 -0400] kesor: Guest82623: its a much better way to solve your problem, than running admin knife on your node or generating admin node clients.
[2013-04-01 17:10:50 -0400] Guest82623: makes sense
[2013-04-01 17:11:05 -0400] Guest82623: funny thing is.... that cookbook looks for a data bag
[2013-04-01 17:11:07 -0400] Guest82623: much like in my case
[2013-04-01 17:11:12 -0400] Guest82623: so that would require an admin client as well
[2013-04-01 17:11:43 -0400] kesor: you don't need an admin client to read from data bags.
[2013-04-01 17:11:54 -0400] Guest82623: to create one you do
[2013-04-01 17:12:17 -0400] kesor: why do you still need to create a data bag?
[2013-04-01 17:12:43 -0400] kesor: Guest82623: what would be the information stored in it that you can't store as a node attribute?
[2013-04-01 17:12:49 -0400] Guest82623: :if one existed beforehand, I wouldn't
[2013-04-01 17:13:02 -0400] Guest82623: but, what if I dynamically stand up new instances all the time, and dont want name collisions on a data bag
[2013-04-01 17:13:14 -0400] Guest82623: you can
[2013-04-01 17:13:16 -0400] Guest82623: oh
[2013-04-01 17:13:26 -0400] Guest82623: if can be stored as a node attribute, nothing wrong with that
[2013-04-01 17:13:34 -0400] Guest82623: it*
[2013-04-01 17:13:42 -0400] kesor: Guest82623: then you don't need to create any data bags  at all!
[2013-04-01 17:13:49 -0400] Guest82623: im only pointing out that cookbooks in general, seem to create data bags for some things
[2013-04-01 17:13:52 -0400] Guest82623: like I was trying
[2013-04-01 17:14:01 -0400] Guest82623: and in this case, the very cookbook u pointed out does too :)
[2013-04-01 17:14:07 -0400] Guest82623: right right
[2013-04-01 17:14:15 -0400] Guest82623: I understand that
[2013-04-01 17:14:19 -0400] kesor: no its not. it is only reading from a data bag, if it exists. otherwise it does not try and create anything.
[2013-04-01 17:14:29 -0400] Guest82623: it just to me seems like there should be a way to create a data bag from a recipe
[2013-04-01 17:14:31 -0400] Guest82623: from the get-go
[2013-04-01 17:14:41 -0400] Guest82623: good point, that is true
[2013-04-01 17:14:51 -0400] kesor: the "creation" part is only in the readme, not in code.
[2013-04-01 17:14:58 -0400] Guest82623: I mean, what if I wanted to create a new data bag with encrypted data?
[2013-04-01 17:15:06 -0400] Guest82623: where does security come in with attributes?
[2013-04-01 17:15:54 -0400] Guest82623: I come from a security background.... attributes are in plain view to all users
[2013-04-01 17:16:28 -0400] kesor: Guest82623: you can encrypt them if you like  but where would you store your encryption key that is not in plain view to all users but can still be viewed by chef-client?
[2013-04-01 17:16:51 -0400] Guest82623: yeah... haven't gotten that far yet
[2013-04-01 17:16:54 -0400] Guest82623: just a few weeks into this
[2013-04-01 17:17:00 -0400] Guest82623: it doesn't seem like many good options exist really
[2013-04-01 17:17:08 -0400] Guest82623: thanks for the good points
[2013-04-01 17:21:33 -0400] geekbri: kesor: with encrypted data bags, if chef is running as root you can store the encryption key in a place that is only readable by root
[2013-04-01 17:21:47 -0400] kesor: geekbri: yes you can! :)
[2013-04-01 17:22:21 -0400] geekbri: I mean, it still kind of stink thats you have to distribute this encryption key and have it live on each node but
[2013-04-01 17:22:25 -0400] kesor: geekbri: I know, but its only really good for someone who wants to keep encrypted data on the chef-server, when your users have access to your actual server  nothing is encrypted.
[2013-04-01 17:22:25 -0400] geekbri: its certainly better than plain text :)
[2013-04-01 17:22:39 -0400] kesor: geekbri: its not better. its kinda useless.
[2013-04-01 17:22:50 -0400] kesor: geekbri: security by obscurity.
[2013-04-01 17:22:57 -0400] geekbri: kesor: well right, the person writing the recipes would be responsible for making sure that the data getting laid down is not accessible to those who shouldn't have access to it
[2013-04-01 17:23:12 -0400] geekbri: I think useless is a very strong word
[2013-04-01 17:23:28 -0400] kesor: geekbri: as far as I understand, encrypted data bags are only good for one purpose - when the chef server is not yours.
[2013-04-01 17:23:45 -0400] geekbri: kesor: Well I won't 100% agree with that, that is certainly the main benefit
[2013-04-01 17:24:15 -0400] kesor: isn't it the only one?  how many servers you have where your users have access to them, but without sudo?
[2013-04-01 17:24:23 -0400] geekbri: if you have data in an encrypted data bag, you decrypt it in the recipe, and then you use that decrypted data to lay down a file somewhere else that has 0600 permissions users still can't read that file
[2013-04-01 17:24:46 -0400] kesor: geekbri: who is this "user" you speak of?
[2013-04-01 17:25:26 -0400] geekbri: whomever
[2013-04-01 17:25:33 -0400] basic`: it definitely beats storing plain text in your git repo
[2013-04-01 17:25:48 -0400] kesor: "whomever" should never have access to your servers in the first place.
[2013-04-01 17:25:58 -0400] geekbri: um
[2013-04-01 17:26:02 -0400] geekbri: what are you talking about!
[2013-04-01 17:26:13 -0400] geekbri: Systems often have users. they don't all have access to the same files :)
[2013-04-01 17:26:21 -0400] kesor: basic`: any kind of secret information should not be stored in git in the first place, not even in encrypted form.
[2013-04-01 17:26:41 -0400] geekbri: you dont have to store you encrypted data bag information in git
[2013-04-01 17:26:42 -0400] basic`: kesor, so you would prefer to keep no change history of passwords?
[2013-04-01 17:26:53 -0400] kesor: geekbri: whose systems? who are the users?  are you talking about servers that have shared hosting + ssh access?
[2013-04-01 17:27:15 -0400] basic`: you dont have to do anything, you dont even have to get out of bed in the morning
[2013-04-01 17:27:31 -0400] kesor: basic`: hmm.. good point. although I would most probably use a separate repo for this kind of change tracking.
[2013-04-01 17:27:48 -0400] basic`: yes, separate repo, separate list of users with access
[2013-04-01 17:28:01 -0400] basic`: i wouldn't put it on github :)
[2013-04-01 17:28:04 -0400] basic`: at least public
[2013-04-01 17:28:12 -0400] geekbri: kesor: I'm sorry i think we have a communication issue here.  I'm not sure why youre asking these questions.  These are hypotheticals.  Whomever the users happen to be for any given system
[2013-04-01 17:28:13 -0400] kesor: basic`: I mean I wouldn't put it with the rest of the code
[2013-04-01 17:28:19 -0400] geekbri: you have a system, you have a root user, then you have non root users.
[2013-04-01 17:28:30 -0400] geekbri: the non root users only have access to the files the unix file system gives them permission to
[2013-04-01 17:28:52 -0400] geekbri: if they do not have access to the encryption key, and they don't have access to whatever files store the information that was decrypted and placed down by chef client
[2013-04-01 17:28:54 -0400] kesor: geekbri: in practice, you usuall dont have that kind of separation, with the exception of shared systems.
[2013-04-01 17:28:56 -0400] geekbri: that is better than plain text.
[2013-04-01 17:29:19 -0400] geekbri: It is certainly not the BEST security, and some may argue not even adequate security
[2013-04-01 17:29:33 -0400] geekbri: but it is a higher level security than non encrypted data bags
[2013-04-01 17:29:39 -0400] kesor: geekbri: but then  when you have what you just described, why use encrypted data bags at all? :/
[2013-04-01 17:29:43 -0400] geekbri: I agree that the highest value it provides is protecting your data in the situation of hosted chef.
[2013-04-01 17:30:10 -0400] kesor: geekbri: why is having files with no user access behind an encryption dance is more secure than without the encryption dance?
[2013-04-01 17:30:22 -0400] geekbri: On the file system itself, its not much more
[2013-04-01 17:30:34 -0400] kesor: geekbri: then why encrypt it in the first place?
[2013-04-01 17:30:51 -0400] zts: kesor: to reduce the amount of sensitive data at rest on the chef server, because you want some users to have access to chef but not all of your secrets, etc
[2013-04-01 17:30:56 -0400] geekbri: to prevent people who have access to chef server but no physical access on the machine from getting at the information?
[2013-04-01 17:31:26 -0400] c_t: also if you keep your chef stuff in git, you might not want sensitive stuff like that in there
[2013-04-01 17:31:53 -0400] geekbri: You can store the hashed information in git as well that is true.  Although you can just not store your data bag information in git and simply back it up somewhere periodically
[2013-04-01 17:34:16 -0400] zts: just because something doesn't address all uses cases (or, in this case, attack vectors) doesn't make it useless
[2013-04-01 17:34:34 -0400] geekbri: encrypted data bags aren't useless, it depends on what youre looking to do
[2013-04-01 17:34:41 -0400] kesor: it does solve some problems, mainly when the chef server is not controlled by you.
[2013-04-01 17:34:41 -0400] zts: if you only use a single secret, and all of your users have access to everything, then it buys you nothing more than data being encrypted on yoru chef server
[2013-04-01 17:35:13 -0400] geekbri: kesor: It also solves the situation where you want somebody to have access to things in chef, but not necessarily access to stuff in certain encrypted data bags
[2013-04-01 17:35:26 -0400] zts: but given a user population with different access levels, different secret keys for different data bags, etc, it still has value even when you manage your own chef server
[2013-04-01 17:35:34 -0400] geekbri: +1 ^
[2013-04-01 17:36:09 -0400] geekbri: encrypted data bags are not industrial strength encryption for all your data, and I don't think they are meant to be
[2013-04-01 17:37:02 -0400] geekbri: They are a way to protect data against your own chef users, and your chef host
[2013-04-01 17:38:41 -0400] geekbri: encrypted data bags are certainly not a panacea
[2013-04-01 17:41:45 -0400] jtimberman: geekbri: they're industrial strength if you use a strong key to encrypt :)
[2013-04-01 17:42:12 -0400] geekbri: Yeah sorry what i meant is not necessarily the strength of the hashing algorithm
[2013-04-01 17:42:16 -0400] geekbri: but the process
[2013-04-01 17:44:14 -0400] yfeldblum: indeed the general architecture of encrypted-data-bags seems to suggest it's so that your secrets are not revealed to opscode
[2013-04-01 17:44:45 -0400] geekbri: yfeldblum: or potentially other chef users of yours :)
[2013-04-01 17:44:47 -0400] doomviking: I use them simply for stuff I do not want committed to git
[2013-04-01 17:45:10 -0400] ranjibd: doomviking: same here. Data at rest should be encrypted
[2013-04-01 17:45:15 -0400] yfeldblum: although i don't quite see the point since opscode can easily rewrite your cookbooks to decrypt and transmit all encrypted-data-bag-items on every chef-client run
[2013-04-01 17:45:29 -0400] yfeldblum: doomviking, so just don't commit your data-bag items to git?
[2013-04-01 17:45:57 -0400] ranjibd: yfeldblum: how so? if we commit the encrypted data bag items in git
[2013-04-01 17:46:19 -0400] yfeldblum: ranjibd, well don't do that; leave them out of git
[2013-04-01 17:46:42 -0400] ranjibd: and keep the secrets only in the nodes, which decrypts data bag items on the client side.. how can chef server /opscode can decrypt them?
[2013-04-01 17:46:43 -0400] KarlHungus: we have a convention of naming all enc db's with a leading _, then setting a gitignore for data_bags/_*
[2013-04-01 17:47:26 -0400] geekbri: Just need to make sure to backup you chef databags somehow is all :)
[2013-04-01 17:47:26 -0400] KarlHungus: and committing the chef server backup back to git every couple hours (which results in the encrypted form being stored)
[2013-04-01 17:47:50 -0400] KarlHungus: we ran into problems with users accidentally committing the unencrypted form
[2013-04-01 17:48:00 -0400] yfeldblum: ...
[2013-04-01 17:48:05 -0400] doomviking: yeah I like my data bags in git; what I dont like is passwords, ec2 authentication creds, etc.
[2013-04-01 17:48:12 -0400] KarlHungus: this process has stopped that by encouranging people to use knife to edit bags
[2013-04-01 17:48:15 -0400] jtimberman: yfeldblum: wrt to Opscode Hosted Chef? "easily" isn't accurate. :)
[2013-04-01 17:48:42 -0400] yfeldblum: if it's in git, that means it's code and not data ... or at least that's what it means in every other codebase everyone here works on ...
[2013-04-01 17:49:02 -0400] yfeldblum: jtimberman, erlang is hard?
[2013-04-01 17:49:18 -0400] ranjibd: attributes are data too.
[2013-04-01 17:49:45 -0400] KarlHungus: yfeldblum: sure. we could backup elsewhere (and do w/ zfs snaps and tarsnap offiste) but if the infra is code, and you need the data bag backups to recover it, then they should be in git, right?
[2013-04-01 17:50:17 -0400] geekbri: Should it?  I'm not sure.  If databags are effectively database rows, you wouldn't commit your DB information to git
[2013-04-01 17:50:31 -0400] yfeldblum: geekbri, exactly
[2013-04-01 17:50:33 -0400] KarlHungus: but you would commit migrations...
[2013-04-01 17:50:49 -0400] KarlHungus: schema migrations and data migrations. both should be committed, imho
[2013-04-01 17:50:50 -0400] geekbri: but thast schema information
[2013-04-01 17:50:52 -0400] geekbri: not database rows
[2013-04-01 17:50:56 -0400] yfeldblum: KarlHungus, the premises are true, but the conclusion does not follow
[2013-04-01 17:51:09 -0400] geekbri: A migrationis saying, this was my schema and its changing to this
[2013-04-01 17:51:16 -0400] yfeldblum: KarlHungus, migrations may be committed, but not the actual data
[2013-04-01 17:51:26 -0400] KarlHungus: i dont think thats accurate
[2013-04-01 17:51:38 -0400] geekbri: Think of it like this
[2013-04-01 17:51:51 -0400] KarlHungus: you do commit data migrations, not just schema migrations. so that default setting rows, etc are present when the app is launched
[2013-04-01 17:51:52 -0400] geekbri: when you do a migration, you don't dump the DB before the migration and after and commit those to git
[2013-04-01 17:52:10 -0400] yfeldblum: geekbri, exactly
[2013-04-01 17:52:17 -0400] KarlHungus: a chef data backup doesnt include everything in couchdb
[2013-04-01 17:52:29 -0400] KarlHungus: which is closer to your analogy, i think
[2013-04-01 17:52:37 -0400] ranjibd: data bags are not data base rows. You cant do transactional stuff on top of them. They are just global data stores. Data stores are not databases,
[2013-04-01 17:52:50 -0400] geekbri: Well part of the issue that crops up is, as much as we can say "databags are like rows in a database" they also aren't
[2013-04-01 17:52:56 -0400] KarlHungus: ranjibd: good way to explain it. i agree
[2013-04-01 17:53:10 -0400] yfeldblum: ranjibd, data-bags are tables; they don't have all the features of tables in postgres, but they're probably better than the tables in mysql's ISAM
[2013-04-01 17:53:34 -0400] miah: i check my databags into git and i dont modify them with clients
[2013-04-01 17:53:39 -0400] ranjibd: yfeldblum: no idea how they can be table.
[2013-04-01 17:54:23 -0400] yfeldblum: ranjibd, there are many datastores which are not transactional: mysql-ddl, chef-data-bags, cassandra, mongodb, mysql with per-statement transactions, filesystems, etc
[2013-04-01 17:54:31 -0400] geekbri: Even if you treat databags as just a global data store and not necessarily "database rows" that still brings up questions though.  s3 is a global data store, you wouldn't store information in s3 in git probably
[2013-04-01 17:54:33 -0400] KarlHungus: miah: all chef server updates driven by CI?
[2013-04-01 17:54:39 -0400] ranjibd: the whole point of modeling data as tables comes from the requirement that you need all has a, has many etc relations.
[2013-04-01 17:54:41 -0400] yfeldblum: ranjibd, much like a mongodb collection is like a table
[2013-04-01 17:54:42 -0400] miah: KarlHungus: working towards that yes.
[2013-04-01 17:54:47 -0400] KarlHungus: miah: same here
[2013-04-01 17:54:51 -0400] ranjibd: yfeldblum: agree
[2013-04-01 17:55:27 -0400] yfeldblum: ranjibd, it's a place to put data-as-data (not data-as-default-values-from-schema)
[2013-04-01 17:55:41 -0400] yfeldblum: ranjibd, belongs in the database (data-bags, mongodb, postgres) and not git
[2013-04-01 17:55:58 -0400] ranjibd: yfeldblum: but all the dbs that you mentioned provide locking.
[2013-04-01 17:56:09 -0400] KarlHungus: yfeldblum: so you dont check your data bags into git at all?
[2013-04-01 17:56:18 -0400] yfeldblum: ranjibd, that's true, but it doesn't change the point
[2013-04-01 17:56:37 -0400] yfeldblum: KarlHungus, no
[2013-04-01 17:56:50 -0400] ranjibd: read, write, exclusive etc,, we might not use them directly, but replication, reads, writes use them, while data bags dont , so we should not treat them as databases
[2013-04-01 17:57:07 -0400] KarlHungus: yfeldblum: interesting. how do you manage data bag data in your workflow?
[2013-04-01 17:57:45 -0400] yfeldblum: KarlHungus, `knife data bag edit`
[2013-04-01 17:57:58 -0400] ranjibd: and how you roll back ?
[2013-04-01 17:58:15 -0400] yfeldblum: ranjibd, if you need feature XYZ in your database, then you use a database with feature XYZ; if you need locks, then use postgres instead of chef-data-bags
[2013-04-01 17:58:16 -0400] geekbri: same way you roll back a DB, from backup is my gues s;
[2013-04-01 17:58:17 -0400] geekbri: ;)
[2013-04-01 17:58:21 -0400] yfeldblum: geekbri, exactly
[2013-04-01 17:58:43 -0400] ranjibd: so you trigger a backup soon after the edit ?
[2013-04-01 17:59:02 -0400] yfeldblum: ranjibd, `knife server backup`
[2013-04-01 17:59:05 -0400] KarlHungus: yfeldblum: i see. i think the conclusion on whether data bags belong in git depends heavily on workflow though
[2013-04-01 17:59:31 -0400] KarlHungus: for example, in our production apps we *do* have migrations that manipulate data and not schemas
[2013-04-01 17:59:46 -0400] yfeldblum: KarlHungus, well, seeing as you never put your data into git in any other codebase ...
[2013-04-01 17:59:50 -0400] KarlHungus: such as adding a row for a partner we integrate with
[2013-04-01 18:00:04 -0400] KarlHungus: or updating that row to set different interchange rates, etc
[2013-04-01 18:00:04 -0400] yfeldblum: KarlHungus, why is that data?
[2013-04-01 18:00:21 -0400] yfeldblum: KarlHungus, why is that not a constant in your app code?
[2013-04-01 18:00:47 -0400] KarlHungus: yfeldblum: because using migrations forces it to go through dev and a DBA in our change control process
[2013-04-01 18:01:14 -0400] yfeldblum: KarlHungus, so really this is all about the organization structure and its bureaucratic red tape?
[2013-04-01 18:01:14 -0400] pwelch: so how is everyone handling the Nagios cookbook with multiple AWS regions?
[2013-04-01 18:01:27 -0400] KarlHungus: yfeldblum: well, its about process
[2013-04-01 18:02:06 -0400] yfeldblum: KarlHungus, i've done applications with this type of stuff as data and other applications with this type of stuff as constants in the codebase
[2013-04-01 18:02:15 -0400] KarlHungus: yfeldblum: it also lets us seperate deploys and migrations =)
[2013-04-01 18:02:29 -0400] geekbri: KarlHungus: I agree with your statement about it being very subjective
[2013-04-01 18:02:35 -0400] yfeldblum: KarlHungus, `git checkout -b` and `git merge` also lets you do that
[2013-04-01 18:02:57 -0400] KarlHungus: deploy the codebase to handle new interchange rates, then migrate the data to update providers that will take advantage of the new code
[2013-04-01 18:02:59 -0400] geekbri: KarlHungus: I also think you have a good point when it comes to the fact that, if your infra is modeled as code and the stuff in the data bags is necessary to rebuild your infra, maybe it does make sense for some of that to be in the git repo as well
[2013-04-01 18:03:12 -0400] yfeldblum: KarlHungus, also, unless you've figured out the online migrations dance ... i don't think you separate deploys and migrations ...
[2013-04-01 18:03:25 -0400] KarlHungus: yfeldblum: i have solved online migrations in our infra
[2013-04-01 18:03:36 -0400] yfeldblum: KarlHungus, cool
[2013-04-01 18:04:02 -0400] KarlHungus: but, again, its certainly subjective. and i think it depends heavily on what data you're storing
[2013-04-01 18:04:20 -0400] KarlHungus: i like to have a git record when an entry in the users data bag is modified
[2013-04-01 18:04:22 -0400] yfeldblum: KarlHungus, it also depends heavily on how it's used; i've done it both ways
[2013-04-01 18:05:13 -0400] yfeldblum: KarlHungus, that's only because of a limitation imposed by your data-storage service (chef-data-bags)
[2013-04-01 18:05:50 -0400] KarlHungus: yfeldblum: agreed. thanks for taking the time to discuss, btw. always good to explore how others are doing this
[2013-04-01 18:05:58 -0400] KarlHungus: chef workflow isn't a solved problem :P
[2013-04-01 18:06:00 -0400] yfeldblum: KarlHungus, but someone can always just add another user data-bag-item
[2013-04-01 18:06:46 -0400] yfeldblum: KarlHungus, if you're depending on git to track that ... do you have a daemon running that constantly fetches the latest from git and deletes user data-bag-items not also present in git?
[2013-04-01 18:07:07 -0400] KarlHungus: yfeldblum: i push from git to chef-server through jenkins
[2013-04-01 18:07:23 -0400] KarlHungus: this doesnt affect encrypted data bags, though. i treat them like you treat all data bags
[2013-04-01 18:07:33 -0400] yfeldblum: KarlHungus, that doesn't stop someone else from `knife data bag create users attacker -e vim`
[2013-04-01 18:07:36 -0400] KarlHungus: which may indicate a flaw in my methods ;)
[2013-04-01 18:08:23 -0400] KarlHungus: yfeldblum: nope. only thing that prevents that is an ACL on the chef api, which i dont have
[2013-04-01 18:08:57 -0400] yfeldblum: KarlHungus, the only client with writes is jenkins?
[2013-04-01 18:09:35 -0400] KarlHungus: yfeldblum: yes, except for a few of us on ops who manipulate the encrypted bags with knife
[2013-04-01 18:12:22 -0400] yfeldblum: geekbri, that usually indicates that that data should be code instead
[2013-04-01 18:12:29 -0400] yfeldblum: geekbri, not always
[2013-04-01 18:12:36 -0400] yfeldblum: geekbri, but often
[2013-04-01 18:14:31 -0400] geekbri: yfeldblum: Sometimes it does, and sometimes like you said thats not the case
[2013-04-01 18:16:01 -0400] geekbri: Like a good example would be disk configurations.  That probably shouldn't be code, but it also doesn't really change frequently and when it does it is usually only additional configurations
[2013-04-01 18:16:11 -0400] geekbri: so if you put your disk configurations in a databag, you might want to store that in git.
[2013-04-01 18:16:22 -0400] geekbri: there are so many blurry lines and gray areas when it comes to data bags
[2013-04-01 18:17:08 -0400] KarlHungus: bro, do you even data bag?
[2013-04-01 18:17:11 -0400] KarlHungus: :P
[2013-04-01 18:17:16 -0400] miah: databag usage is very much bike shedding.
[2013-04-01 18:17:20 -0400] yfeldblum: geekbri, is it a) part of the fundamental structure of your infrastructure, no matter how many copies of that infrastructure you build (test, qa, staging, pre-prod, dev, prod1, prod2, prod-green, prod-blue)? or is it variable per-infrastructure?
[2013-04-01 18:17:46 -0400] miah: but i try to build rules around everything to build expectations
[2013-04-01 18:18:03 -0400] yfeldblum: miah, it's got real consequences, such as what happens with old keys if you've got encrypted data-bag-items in git
[2013-04-01 18:18:41 -0400] miah: key escrow is serious business
[2013-04-01 18:19:19 -0400] cheeseplus: Gazzang has a whole business built on it
[2013-04-01 18:19:22 -0400] yfeldblum: miah, old keys have to be assumed to be disclosed (even if you don't disclose them), which is incompatible with keeping encrypted-data-bag-items in git
[2013-04-01 18:20:23 -0400] miah: the keys have to 'disclosed' only in your organization though and how you handle that is up to you
[2013-04-01 18:20:34 -0400] miah: the keys themselves don't need to be published to git
[2013-04-01 18:20:51 -0400] miah: but you do need to retain the ability to access them until you can guarentee that you no longer need them
[2013-04-01 18:21:43 -0400] miah: its tricky if the only copy of a databag key is on some ops' laptop
[2013-04-01 18:22:14 -0400] miah: this is why i say that working through CI is important and having some centralized codified way of building nodes is essential
[2013-04-01 18:22:23 -0400] yfeldblum: miah, the case i'm talking about is when 1) you decide you need to rotate a key, 2) the key is used to encrypt data-bag-items, and 3) your encrypted data-bag-items are in git
[2013-04-01 18:22:41 -0400] miah: yes, you can still do that
[2013-04-01 18:23:09 -0400] miah: that data would be disclosed to the person rotating the key. but this could still be a automated process that isn't really managed by a human.
[2013-04-01 18:23:36 -0400] miah: the process would need access to the current key and the ability to generate and store the new key (and data)
[2013-04-01 18:23:44 -0400] yfeldblum: miah, of course the old key shouldn't be disclosed at all, but the procedures should be built around the assumption that they do get disclosed by accident anyway
[2013-04-01 18:24:13 -0400] miah: well, the key is certainly disclosed because its on _every_ system that needs access to the encrypted databag
[2013-04-01 18:24:16 -0400] yfeldblum: miah, the same procedure would fit an accidental current-key disclosure too
[2013-04-01 18:24:26 -0400] miah: the trickier part comes when you start using _multiple_ encrypted databag keys
[2013-04-01 18:24:37 -0400] geekbri: miah: it sure is messy !
[2013-04-01 18:25:08 -0400] yfeldblum: miah, but the point is now the data is permanently in git's history encrypted under the old key, not the new key, and we assume the old key is or will be disclosed
[2013-04-01 18:25:09 -0400] KarlHungus: miah: dont even go there
[2013-04-01 18:25:16 -0400] KarlHungus: miah: thats asking for pain :P
[2013-04-01 18:25:41 -0400] miah: yfeldblum: oh very true.
[2013-04-01 18:25:50 -0400] miah: you don't need to store databags in your main chef-repo's git repo.
[2013-04-01 18:25:56 -0400] geekbri: yfeldblum: yes that is a serious concern and issue with storing sensitive information that is encrypted in git
[2013-04-01 18:26:05 -0400] miah: they can be in their own dedicated repo and you can purge the history.
[2013-04-01 18:26:14 -0400] geekbri: yfeldblum: in that scenario you would need to rotate all those credentials as well as the key that encrypted them :-\
[2013-04-01 18:26:34 -0400] miah: git repos are free (unless you're on github :P)
[2013-04-01 18:26:37 -0400] geekbri: miah: but why not at that point have some other none git storage mechanism to back it up?
[2013-04-01 18:26:38 -0400] KarlHungus: miah: not really, you'd have to purge all checked out copies too
[2013-04-01 18:26:56 -0400] yfeldblum: miah, that's essentially a database solution, not a git solution :D
[2013-04-01 18:27:04 -0400] KarlHungus: miah: to do that you need something capable of revoking old key's access to the data
[2013-04-01 18:27:04 -0400] miah: very very true
[2013-04-01 18:27:14 -0400] yfeldblum: miah, you're just using git as your database system
[2013-04-01 18:27:27 -0400] miah: well, consider that: you don't need to use databags. there are better solutions out there and there is no reason why you can't make your chef-client use them.
[2013-04-01 18:27:44 -0400] miah: but if you want to use databags you need to be aware of the caveats
[2013-04-01 18:27:53 -0400] yfeldblum: miah, absolutely; and if you ever need locks, transactions, or performance, that's something to consider
[2013-04-01 18:27:57 -0400] miah: and there are some suggested patterns but its not a perfect solution
[2013-04-01 18:28:00 -0400] miah: yfeldblum: yup
[2013-04-01 18:28:10 -0400] miah: locks are exactly why i dont let clients update databags
[2013-04-01 18:28:27 -0400] yfeldblum: miah, but if all you need is a simple single-writer/many-reader (sysadmin writes, chef-clients read) ... data-bags (no git, yes `knife server backup`) is fine
[2013-04-01 18:28:49 -0400] geekbri: chef-client should not be writing to databags
[2013-04-01 18:28:52 -0400] miah: i still backup databags in git. but i'm doing more to reduce my usage of them.
[2013-04-01 18:29:02 -0400] miah: no reason to store user ssh keys in databags when they are available via github api
[2013-04-01 18:29:11 -0400] yfeldblum: geekbri, right; but if chef-client needs to write to *something*, it should be its own node or something besides data-bags (like postgres)
[2013-04-01 18:29:45 -0400] yfeldblum: geekbri, some people feel the burning need to have their recipes perform writes
[2013-04-01 18:30:07 -0400] geekbri: yfeldblum: yes.  Absolutely, although I would want somebody to make a compelling case to be writing information to a DB from chef-client
[2013-04-01 18:30:20 -0400] geekbri: It seems to me like you'd more likely just want to be storing state information in something like zookeeper'
[2013-04-01 18:30:35 -0400] geekbri: but im sure there are valid scenarios where you need to write to a DB from chef-client
[2013-04-01 18:30:52 -0400] yfeldblum: geekbri, yeah i've found easy solutions for everything with the chef-client simply writing to the filesystem and changing the node attributes
[2013-04-01 18:31:27 -0400] yfeldblum: geekbri, of course my situations are not the complete sum and total of all possible situations, so i never know
[2013-04-01 18:31:51 -0400] geekbri:  Schroedingers yfeldblum
[2013-04-01 18:33:35 -0400] yfeldblum: anyway this is just the standard way we all build web applications of all kinds ... applied to chef: code codes in the codebase and is managed with git; data goes in the database and is backed up periodically and on-demand
[2013-04-01 18:56:27 -0400] shufe: hi all. I'm trying to get chef-server working in ec2. I can do `knife client list` from my workstation, and averything works fine; when I try to upload a cookbook, I get this error: http://dpaste.de/jQah8/
[2013-04-01 18:56:43 -0400] shufe: I suspect its DNS related, but I'm having trouble debugging it
[2013-04-01 18:57:07 -0400] shufe: I'm able to resolve my servers hostname (which is in my knife.rb)
[2013-04-01 18:57:14 -0400] shufe: any help would be awesome
[2013-04-01 18:57:20 -0400] doomviking: fqdn
[2013-04-01 18:57:31 -0400] doomviking: your suspicions are correct
[2013-04-01 18:58:04 -0400] shufe: doomviking: is ec2-54-236-203-55.compute-1.amazonaws.com not an fqdn?
[2013-04-01 18:58:48 -0400] doomviking: it is. but the server is going that and getting the ec2 internal name
[2013-04-01 18:58:53 -0400] doomviking: *doing
[2013-04-01 18:59:31 -0400] shufe: I see. so would an entry in /etc/hosts on the server mapping ec2-54-236-203-55.compute-1.amazonaws.com to 127.0.0.1 fix it?
[2013-04-01 19:00:02 -0400] doomviking: I imagine so. I set my fqdn to match that of what is in DNS
[2013-04-01 19:00:14 -0400] doomviking: er, hostname
[2013-04-01 19:00:19 -0400] doomviking: I need more coffee.
[2013-04-01 19:00:26 -0400] shufe: truth
[2013-04-01 19:00:31 -0400] shufe: same here.
[2013-04-01 19:00:56 -0400] juliancd1nn: shufe: what's in your knife.rb for chef_server_url ?
[2013-04-01 19:01:21 -0400] shufe: juliancd1nn: chef_server_url          'https://ec2-54-236-203-55.compute-1.amazonaws.com'
[2013-04-01 19:01:27 -0400] doomviking: it actually doesnt matter what is in the local knife.rb
[2013-04-01 19:02:06 -0400] doomviking: for this particular problem
[2013-04-01 19:02:23 -0400] shufe: doomviking: is it that the server needs to resolve the fqdn to its external IP?
[2013-04-01 19:02:23 -0400] juliancd1nn: doomviking: what do you mean? he's using knife on his workstation to upload cookbooks to the chef server, no?
[2013-04-01 19:03:05 -0400] btm: @opscode chef code review, join: http://bit.ly/YWQ4Ey, watch: http://youtu.be/HIIx166ijpk
[2013-04-01 19:04:00 -0400] doomviking: IIRC, chef-server runs "hostname --fqdn" to set itself. that is an internal name by default in ec2
[2013-04-01 19:04:28 -0400] doomviking: so knife node client etc etc work just fine. but uploading cookbooks fails because the local machine cannot access the internal ec2 name
[2013-04-01 19:05:08 -0400] shufe: gotcha. I'll look into that. Thanks doomviking
[2013-04-01 19:06:04 -0400] doomviking: I set the hostname to chef.example.com on my chef server, which is what is in DNS. that fixes this little thing
[2013-04-01 19:07:08 -0400] doomviking: one hack out of many possibilities
[2013-04-01 19:18:41 -0400] stormerider: question, how do you upgrade from couchdb 1.0.1 to 1.2.0? i upgraded my chef server to quantal and it upgraded couchdb but didnt migrate the data in /var/lib/couchdb/1.0.1
[2013-04-01 19:31:19 -0400] wamcvey: Anyone have suggestions on how to report bugs in the documentation (on the new docs.opscode.com site, not the wiki site).
[2013-04-01 19:32:17 -0400] stuartrexking: I am running a rails app and deploying using the rails LWRP. My app relies on a number of environment variable, that I would like to set for a specific user. Rather than rebuild something that is likely to exist, is there a best practice, common approach to setting environment variables for a user?
[2013-04-01 19:32:26 -0400] stuartrexking: common approach using chef.
[2013-04-01 19:35:23 -0400] cwj: stuartrexking: you are using the rails provider from the application_ruby cookbook?
[2013-04-01 19:35:32 -0400] stuartrexking: Yes
[2013-04-01 19:36:46 -0400] cwj: i'm not familiar with the application_ruby cookbook specifically, but when i found that i needed to set some env vars for apps i was deploying via application_python, it wasn't too hard to introduce that change and contribute it back upstream
[2013-04-01 19:37:12 -0400] siezer: wamcvey create a github issue for now
[2013-04-01 19:37:24 -0400] cwj: a lot of 'heavyweight' chef resources/providers support an environment parameter, but in the case of LWRPs you probably have to implement it yourself
[2013-04-01 19:37:26 -0400] siezer: https://github.com/opscode/chef-docs/issues
[2013-04-01 19:37:37 -0400] wamcvey: thanks siezer
[2013-04-01 19:39:07 -0400] wamcvey: hmm, if the docs are in the github repo, which they appear to be, I'll go ahead and fork it, fix it, and attach my pull request to the bug.
[2013-04-01 19:39:09 -0400] cwj: stuartrexking: so assuming that you are primarily concerned with the env vars to being present when the app runs inside unicorn, you would probably want to add an 'environment' parameter to the application_ruby cookbook's unicorn lwrp
[2013-04-01 19:39:30 -0400] stuartrexking: cwj: Yes, just looking at that source now.
[2013-04-01 19:40:10 -0400] lazyPower: Question - I'm using the opscode wordpress cookbook - i've removed it from teh runlist of the machine and now on every run its trying to create teh default wordpress database and failing. Is this a deficiency in the cookbook or in my runlist?
[2013-04-01 19:40:14 -0400] stuartrexking: cwj: The documentation is a little misleading. It says the environment hash will be set  for the migration. The source shows it's actually set for the deploy, so it should work.
[2013-04-01 19:42:20 -0400] techminer: good day  I have a node with two NICS (eth0, eth1).  I'm trying to figure out how to get the address of each interface in a recipe.  I thought maybe this would work, but I don't get anythingnode['network']['interfaces']['eth0'].  I'm doing it wrong.  :(
[2013-04-01 19:42:54 -0400] cwj: stuartrexking: which docs are you looking at? im not seeing mention of that in the cookbook readme
[2013-04-01 19:44:44 -0400] cwj: stuartrexking: i see what you mean though, https://github.com/opscode-cookbooks/application_ruby/blob/master/providers/rails.rb#L33-L36
[2013-04-01 19:45:35 -0400] cwj: but it looks like unicorn LWRP isnt starting unicorn processes with those environment variables
[2013-04-01 19:45:48 -0400] stuartrexking: cwj: http://cl.ly/image/3N0t0N383U1K under application attributes https://github.com/opscode-cookbooks/application/blob/master/README.md
[2013-04-01 19:46:05 -0400] cwj: ah right
[2013-04-01 19:46:12 -0400] cwj: i was looking at application_ruby specifically
[2013-04-01 19:46:58 -0400] stuartrexking: cwj: Code I was talking about https://github.com/opscode-cookbooks/application/blob/master/providers/default.rb#L134-L135
[2013-04-01 19:49:03 -0400] nebrera_: helllo
[2013-04-01 19:49:29 -0400] nebrera_: is chef compatible with rabbitmq-server-3.0.4  ??
[2013-04-01 19:56:28 -0400] shufe: doomviking: I have my chef server responding with the correct fqdn when I do `hostname --fqdn`, but I still cant upload cookbooks. I have an entry in /etc/hosts that maps the public IP => the hostname. Any ideas?
[2013-04-01 19:56:35 -0400] whack: Trying to escape bracket nightmares in my attributes files; anyone have an alternative to 'default[:foo][:bar][:baz][:fizz] = "blah"' ? Was thinking about just doing default["foo.bar.baz.fizz"] = "blah"
[2013-04-01 19:57:04 -0400] doomviking: shufe: you'll probably need to reconfigure the chef-server
[2013-04-01 19:57:12 -0400] miah: whack: node.default.food.bar.baz = merp
[2013-04-01 19:57:24 -0400] whack: miah: isn't that deprecated though?
[2013-04-01 19:57:35 -0400] doomviking: sudo chef-server-ctl reconfigure
[2013-04-01 19:57:37 -0400] doomviking: or something
[2013-04-01 19:57:40 -0400] whack: I've seen about 12 ways attributes are done in vairous cookbooks, nobody has consensus :(
[2013-04-01 19:57:52 -0400] miah: ya. im pretty sure method chaining still works
[2013-04-01 19:58:21 -0400] shufe: doomviking: it worked! Thank you so much!
[2013-04-01 19:59:05 -0400] miah: http://docs.opscode.com/essentials_cookbook_attribute_files_attribute_methods.html
[2013-04-01 20:00:57 -0400] doomviking: shufe: awesome
[2013-04-01 20:07:11 -0400] btm: @opscode Cookbook code review: join: http://bit.ly/10iLdA5, watch: http://youtu.be/i3Z3xOKX3s8
[2013-04-01 20:22:28 -0400] techminer: Is there a way to use the route resource to create persistent (survive a restart) routes?
[2013-04-01 20:30:20 -0400] miah: the route resource by itself? no.
[2013-04-01 20:44:29 -0400] denken: well this doesnt make any sense. 'knife cookbook upload test' returns "ERROR: Network Error: getaddrinfo: Name or service not known"... yet the chef server is in DNS (forward and reverse), both client and server can properly resolve it
[2013-04-01 20:44:33 -0400] denken: i dont get it
[2013-04-01 20:44:45 -0400] doomviking: heh
[2013-04-01 20:44:58 -0400] doomviking: clearly, the docs need to get updated.
[2013-04-01 20:46:59 -0400] doomviking: denken: I wrote a little about this problem here: http://www.opscode.com/blog/2013/03/11/chef-11-server-up-and-running/
[2013-04-01 20:48:06 -0400] denken: reading
[2013-04-01 20:48:07 -0400] doomviking: a few posts down in the comments.
[2013-04-01 20:48:11 -0400] denken: and ty doomviking
[2013-04-01 20:48:51 -0400] doomviking: I'm assuming you're running in ec2
[2013-04-01 20:49:20 -0400] denken: nah. ubuntu 12.04 lts chef server on a private openstack install.
[2013-04-01 20:49:24 -0400] dyer: Wasn't there some tool out there that did something w/ automatically generating cookbook documentation  ?
[2013-04-01 20:49:34 -0400] denken: interestingly, this all worked fine on friday. im not sure what would have changed.
[2013-04-01 20:49:53 -0400] doomviking: denken: might be related, then. depending on the dns/fqdn is set up
[2013-04-01 20:49:55 -0400] doomviking: huh
[2013-04-01 20:50:55 -0400] denken: trying to curl @ the chef_server_url complains about the cert/CA... so thats a start
[2013-04-01 20:51:24 -0400] denken: and i already tried making the hostname --fqdn match the chef_server_url earlier... but i'll do it again to be sure
[2013-04-01 20:55:49 -0400] denken: huh. that worked.
[2013-04-01 20:55:53 -0400] denken: thanks doomviking
[2013-04-01 20:56:12 -0400] doomviking: sure
[2013-04-01 20:56:14 -0400] denken: i was about to start cutting on myself
[2013-04-01 20:56:22 -0400] denken: ok not really... but almost.
[2013-04-01 20:59:11 -0400] savant: Hi, I have a general chef contribution question
[2013-04-01 20:59:21 -0400] savant: I see that some repositories have quite a few open pull requests
[2013-04-01 20:59:37 -0400] savant: (opscode-cookbooks/mysql having 29 open, for example)
[2013-04-01 20:59:51 -0400] savant: is this a manpower thing, or just the quality of the pull requests isnt there?
[2013-04-01 21:00:24 -0400] savant: In many cases, they are bugfixes, and while I understand that there should be some testing, in most cases there appear to be no tests in the original cookbook, and the changes are more or less "good"
[2013-04-01 21:00:44 -0400] savant: Just curious, as I'm moving more of my companies cookbooks to use opscode where possible
[2013-04-01 21:00:55 -0400] ephess_: anyone know if there is a apt repository with the chef omnibus package in it anywhere?
[2013-04-01 21:02:02 -0400] dcrosta: is there a way to tell which version of a package was installed/upgraded by a "package" resource?
[2013-04-01 21:02:04 -0400] maplebed: savant: there's a 3x/wk review of open tickets against opscode-managed cookbooks
[2013-04-01 21:02:17 -0400] savant: 3x?
[2013-04-01 21:02:17 -0400] dcrosta: i know that it internally checks (or at least i believe it does) -- but can i get access to that info in my recipe?
[2013-04-01 21:02:22 -0400] maplebed: m/w/f
[2013-04-01 21:02:54 -0400] maplebed: (but they review tickets in jira, rather than pull requests directly.  then again, most plul requests link to the jira ticket they're associated with)
[2013-04-01 21:03:17 -0400] savant: yeah. i mean, in this specific case, quite a few have been open for months
[2013-04-01 21:03:29 -0400] savant: link to a jira issue in the header and in the pull body
[2013-04-01 21:03:34 -0400] savant: but there has been no official response
[2013-04-01 21:04:04 -0400] maplebed: I'd ask about specific jiras / PRs in the review if you don't see enough info in the ticket
[2013-04-01 21:04:14 -0400] maplebed: they're held via google hangout
[2013-04-01 21:04:20 -0400] maplebed: (and announced in here just before they begin)
[2013-04-01 21:04:23 -0400] savant: yeah im on that page now
[2013-04-01 21:04:32 -0400] savant: i just missed todays I guess.
[2013-04-01 21:05:27 -0400] maplebed: the folks are all friendly and willing to talk about stuff if you show up.
[2013-04-01 21:05:35 -0400] savant: and looks like its limited to 10 people?
[2013-04-01 21:05:40 -0400] savant: http://wiki.opscode.com/display/chef/Code+Review < from there
[2013-04-01 21:05:43 -0400] maplebed: I've never seen it hit the limit.
[2013-04-01 21:05:45 -0400] maplebed: but yes.
[2013-04-01 21:05:51 -0400] maplebed: usually it's ~4-5
[2013-04-01 21:05:54 -0400] savant: im mostly concerned that lots of these things are just sitting there
[2013-04-01 21:06:02 -0400] savant: if I can help triage/test, that would be useful to me
[2013-04-01 21:06:28 -0400] savant: so im trying to figure out if its that the prs suck (they dont appear to in many cases) or its just there arent enough people reviewing or something.
[2013-04-01 21:06:31 -0400] javmorin: I am running into a "Failed to authenticate" issue running knife bootstrap... it's not using the key file (and I can manually ssh using the passed in keyfile)
[2013-04-01 21:07:15 -0400] maplebed: savant: btm might have advice on how to best help out - my guess is there's just a lot of tickets to go through.
[2013-04-01 21:07:25 -0400] savant: i can tell :)
[2013-04-01 21:07:57 -0400] savant: i dont want to try and help and then get shot down because i dont have community standing though :P
[2013-04-01 21:08:19 -0400] maplebed: sure...
[2013-04-01 21:08:37 -0400] savant: btm: how can I help triage pull requests? I can start by looking at each pull request for those in opscode-cookbooks, commenting on them as "works for me" or something?
[2013-04-01 21:08:53 -0400] savant: (where it works at least, or is even mergeable)
[2013-04-01 21:09:05 -0400] savant: maplebed: i guess im all juiced up after monitorama :P
[2013-04-01 21:09:19 -0400] maplebed: oh, I wished I could go to that.  not in Boston though.
[2013-04-01 21:09:26 -0400] savant: im from nyc
[2013-04-01 21:09:28 -0400] savant: it was good
[2013-04-01 21:12:58 -0400] maplebed: Along the same toipic, is there going to be a discussion of opscode and community managed cookbooks and techniques for managing them at chefconf?  I don't see something obviously like that on the schedule.
[2013-04-01 21:13:30 -0400] maplebed: I really like the process for opscode-managed cookbooks, but there are always cookbooks that are community-managed; it'd be nice to talk about how to set up a good process for making sure that works well.
[2013-04-01 21:14:49 -0400] btm: savant: sure, look at a pull request, if you see anything you think the user is missing, like unit tests, let them know. If it looks good to you, try it out and leave a comment that you tried it on platform X under Y circumstances and it did foo.
[2013-04-01 21:15:54 -0400] savant: alright. what if there werent tests in the first place? Is there a standard unit test library chef uses for cookbooks?
[2013-04-01 21:16:28 -0400] jtimberman: savant: also helpful is to ensure there's a ticket, and if the contributor doesn't have a CLA signed, directing them to the how to contribute wiki page is good.
[2013-04-01 21:17:03 -0400] savant: jtimberman: can I sidestep the cla thing by re-issuing the pull request under my account if it checks out?
[2013-04-01 21:17:27 -0400] savant: in some cases, these people may have disappeared or "not have time"
[2013-04-01 21:20:48 -0400] miah: the point of the cla is to attribute copyright on the code correctly. so unless you were the original author i'd say thats murky water..
[2013-04-01 21:20:57 -0400] savant: fair enough.
[2013-04-01 21:21:02 -0400] savant: i tried!
[2013-04-01 21:21:10 -0400] miah: im not sure how opscode will answer that question though =)
[2013-04-01 21:21:32 -0400] savant: can I reverse engineer the fix from the pull request title?
[2013-04-01 21:21:44 -0400] savant: that counts, right?
[2013-04-01 21:21:47 -0400] savant: clean room and all
[2013-04-01 21:22:03 -0400] maplebed: lol
[2013-04-01 21:23:18 -0400] miah: in some cases probably.
[2013-04-01 21:25:48 -0400] stormerider: question. i'm having some trouble with chef-solr on 10.18.2. any ideas? https://gist.github.com/stormerider/5287889
[2013-04-01 21:27:40 -0400] dyer: Anyone remember the name of that project for generating documentation from cookbooks ?
[2013-04-01 21:27:52 -0400] dyer: I thought I saw it on the mailing list once but I cant seem to find it in the archive
[2013-04-01 21:30:47 -0400] jtimberman: savant: i think we've merged pull requests of that sort before, where the original contributor didn't want to fill out the CLA, so someone else submitted it
[2013-04-01 21:30:56 -0400] savant: fair enough
[2013-04-01 21:31:56 -0400] ev0ldave: dyer: like a parser for mark down files/
[2013-04-01 21:31:57 -0400] ev0ldave: ?
[2013-04-01 21:32:20 -0400] dyer: I dont remember to be honest, it was just something out there related to Chef and Documentation
[2013-04-01 21:32:44 -0400] dyer: I just remember mention of some project and wanted to check it out
[2013-04-01 21:32:46 -0400] ev0ldave: there are a number of markdown formatters that build docs based on the .md files
[2013-04-01 21:32:58 -0400] dyer: well this was chef-centric
[2013-04-01 21:33:04 -0400] ev0ldave: ok
[2013-04-01 21:33:05 -0400] dyer: like chef-rdoc or somethign
[2013-04-01 21:33:43 -0400] dyer: we are wondering if anyone out there generates documentation automatically from attribute files
[2013-04-01 21:39:44 -0400] miah: no. i am adding doc generator stuff to my libs / resources, but recipes/attributes/definitions should make it obvious.
[2013-04-01 21:41:13 -0400] miah: attributes are essentially arguments passed to resources. do people tend to document each setting in a config file? even when its programitically defined?
[2013-04-01 21:45:38 -0400] spheromak: miah: i dont when its generated
[2013-04-01 21:46:06 -0400] spheromak: tho it is easier on an admin if they are looking at something.
[2013-04-01 21:46:11 -0400] miah: sure
[2013-04-01 21:46:35 -0400] dyer: Yea, we have thousands of attributes for our products
[2013-04-01 21:47:13 -0400] miketheman: q: can I evaluate a package's version at cimplie time, and use that information in a case statement in an attributes file?
[2013-04-01 21:47:17 -0400] miketheman: compile*
[2013-04-01 21:47:38 -0400] miah: why?
[2013-04-01 21:47:49 -0400] dyer: Was thinking it would be nice if there was tooling around this, especially when I saw this ( http://docs.opscode.com/config_rb_metadata.html )
[2013-04-01 21:48:03 -0400] miah: attributes seem to me to be a bad reaction to writing cookbooks mostly as a recipe
[2013-04-01 21:48:06 -0400] miketheman: I have a template that need to be filled one way for a specific version of an installed apckage, another way for a newer version
[2013-04-01 21:48:27 -0400] miah: ok. so code that in a recipe / library / resource provider ?
[2013-04-01 21:48:32 -0400] dyer: miah, was that statement directed at me ?
[2013-04-01 21:48:37 -0400] miah: no reason that your attribute needs to be set to a specific way
[2013-04-01 21:49:06 -0400] miah: cookbook attributes should be a 'default' value ready to be overriden by a external source (could be role, environment whatever)
[2013-04-01 21:49:19 -0400] miah: but you also don't even need to use them at all
[2013-04-01 21:49:25 -0400] miketheman: miah: i thought about the recipe part, but: the attributes file allows for a version of the package to be set for the "desired minimum version", and the template needs to be written one way for version x, another for version y.
[2013-04-01 21:49:35 -0400] miah: or if you do use them, they should be used in small quantities
[2013-04-01 21:49:46 -0400] dyer: miah, we have a lot of products in our stack, which we sell to our customers
[2013-04-01 21:49:51 -0400] miah: ya
[2013-04-01 21:49:52 -0400] dyer: dozen or so network roles
[2013-04-01 21:50:16 -0400] miah: this is why i think templates are good for certain situations, but not all.
[2013-04-01 21:50:44 -0400] miah: we do lots of crazy ass code to save us from writing a config generator
[2013-04-01 21:50:51 -0400] miketheman: miah: I think template partials might be the answer, i.e. "add this to the template if the version is y"
[2013-04-01 21:50:51 -0400] dyer: true, but we sell our product to other people so customer A might be fine w/ the defaults
[2013-04-01 21:51:01 -0400] dyer: but customer B, C and D might each need different parameters
[2013-04-01 21:51:14 -0400] miah: i dont think i'll ever use tempalte partials, though they're neat.
[2013-04-01 21:51:21 -0400] miketheman: it's a neat idea.
[2013-04-01 21:51:24 -0400] miah: dyer: ya. sounds like you need resource providers =)
[2013-04-01 21:51:51 -0400] dyer: miah -not sure I get your point
[2013-04-01 21:52:07 -0400] miah: you said literally thousands of attributes
[2013-04-01 21:52:12 -0400] miketheman: anyways, back to the package version detection - other than using an ohai plugin that can accommodate sussing out package versions, is there another way to use the package privider to determine the version of an installed package without acting/installing a new version?
[2013-04-01 21:52:44 -0400] miah: miketheman: not that i know of, it doesnt have that ability really
[2013-04-01 21:52:50 -0400] miah: unlike puppet :/
[2013-04-01 21:53:18 -0400] miketheman: hm. so to do the version detection, I'd have to craft some method that basically acts like the package provider on all platforms
[2013-04-01 21:53:29 -0400] miah: or write a ohai plugin
[2013-04-01 21:53:35 -0400] miah: or fix the package provider
[2013-04-01 21:54:29 -0400] miketheman: miah: I think the first option is most likely
[2013-04-01 21:54:45 -0400] miketheman: although adding a provider method to return the current version might be something interesting
[2013-04-01 21:54:50 -0400] miah: dyer: a common pattern in cookbook writing is to write _huge_ recipes/<foo>.rb files. then pass in tens of parameters as arguments. many of those arguments can probably be gathered from the environment or different external api's and attributes tend to be duplicate datas.
[2013-04-01 21:55:27 -0400] miah: compared to, if you have a process that needs to be repeated many times, its often better to write a resource provider that wrapps all of that behavior, while lowering the number of arguments it takes
[2013-04-01 21:55:40 -0400] miah: then you end up documenting the expected inputs
[2013-04-01 21:55:44 -0400] miah: rather than the inputs themselves
[2013-04-01 21:56:33 -0400] dyer: can you give me an example of how you are using this approach in a config file you had previously had as a template ?
[2013-04-01 21:56:55 -0400] miketheman: anyways, thanks miah. see you in a few weeks?
[2013-04-01 21:57:00 -0400] miah: miketheman: yes, indeed.
[2013-04-01 21:58:34 -0400] miah: what im saying is, not everything passed to a template file needs to be an node attribute
[2013-04-01 21:59:01 -0400] miah: and that there are likely better avenues than dealing with thousands of attributes
[2013-04-01 21:59:44 -0400] miah: additionally, you can default the values and allow them to be overriden, so that should significatnly lower the number of attributes you're dealing with
[2013-04-01 22:00:21 -0400] miah: otherwise you're likely getting into large amounts of needless and duplicated data
[2013-04-01 22:00:36 -0400] jtimberman: oi, he left.
[2013-04-01 22:00:46 -0400] jtimberman: you can get the current state of a resource, albeit not easily.
[2013-04-01 22:01:44 -0400] miah: https://github.com/miah/chef-redis/blob/master/templates/default/redis.conf.erb
[2013-04-01 22:02:27 -0400] jtimberman: you do get a resource added to the resource collection, but this works, e.g.: Chef::Platform.provider_for_resource(package('znc') { action :nothing }).load_current_resource.version
[2013-04-01 22:02:36 -0400] jtimberman:  => "0.206-1"
[2013-04-01 22:02:46 -0400] dyer: miah:  btw, I found the cookbook I was thinking about ( https://github.com/rightscale/yard-chef )
[2013-04-01 22:03:09 -0400] miah: interesting
[2013-04-01 22:03:13 -0400] miah: jtimberman: awesome.
[2013-04-01 22:03:36 -0400] miah: thats a smart way to deal with it
[2013-04-01 22:04:01 -0400] stormerider: any solr gurus around that can help me out?
[2013-04-01 22:24:14 -0400] Majost: What is the proper way to include an attributes file other than default.rb in a cookbook? eg: attributes/optional.rb
[2013-04-01 22:24:40 -0400] log1kal: Majost: They all get included
[2013-04-01 22:24:49 -0400] log1kal: (sec, will grab docs)
[2013-04-01 22:25:01 -0400] Majost: I had issues with this in the past -- are you sure?
[2013-04-01 22:25:12 -0400] log1kal: When a cookbook is run against a node, the attributes contained in all attribute files are evaluated in the context of the node object.
[2013-04-01 22:25:17 -0400] log1kal: from http://docs.opscode.com/essentials_cookbook_attribute_files.html
[2013-04-01 22:25:24 -0400] log1kal: (and yeah, I see it all the time in our cookbooks)
[2013-04-01 22:25:41 -0400] Majost: huh
[2013-04-01 22:25:43 -0400] Majost: okay
[2013-04-01 22:25:44 -0400] Majost: thanks
[2013-04-01 22:25:45 -0400] Majost: =)
[2013-04-01 22:43:57 -0400] Harveste`: ohai! Is it possible to have chef process a template that lives on the node rather than in the cookbook?
[2013-04-01 22:46:19 -0400] kallistec: Harveste`: yeah, check the docs it's something like `local true`
[2013-04-01 22:46:50 -0400] Harveste`: kallistec: ahhhh
[2013-04-01 22:49:58 -0400] log1kal: `local true` in the template definition is the right way
[2013-04-01 22:50:18 -0400] log1kal: and then `source /full/path/to/template`
[2013-04-01 22:51:07 -0400] Harveste`: kallistec: ok, found it. Thanks.
[2013-04-01 23:00:23 -0400] stormerider: has anyone managed to get chef-solr 10.18.2 to work under Ubuntu 12.10? for the life of me i cannot get this to start up properly even on a fresh quantal box that didn't have solr on it before.
[2013-04-01 23:00:38 -0400] stormerider: near as i can tell it's not properly loading apache-solr-core.jar
[2013-04-01 23:05:17 -0400] stormerider: or perhaps just solr-core.jar
[2013-04-01 23:11:01 -0400] xaprb: How can I enable sudo for most users, but make it passwordless for a specific user or group?
[2013-04-01 23:11:35 -0400] xaprb: That was confusing. Let me restate: How can I enable passwordless sudo for a specific user or group, and make it require a password for others?
[2013-04-01 23:14:05 -0400] miah: thats all documented here: http://www.sudo.ws/sudoers.man.html
[2013-04-01 23:21:48 -0400] stormerider: switching gears to attack this problem, is there an easy way to export all data from one chef server to another chef server? or at least download it all with something like knife download all?
[2013-04-01 23:22:00 -0400] ev0ldave: knife-essentials
[2013-04-01 23:23:05 -0400] ev0ldave: treats the chef-server like a filesystem
[2013-04-01 23:23:10 -0400] ev0ldave: http://www.opscode.com/blog/2013/03/12/5106/
[2013-04-01 23:23:15 -0400] ev0ldave: that should give you the gist of it
[2013-04-01 23:24:09 -0400] ev0ldave: this will basically grab everything: knife download /
[2013-04-01 23:39:50 -0400] stormerider: perfect, that's exactly what i was looking for.
[2013-04-01 23:50:11 -0400] awgross: is it possible to access methods defined in a library file inside of a ruby block in a recipe? In this case, I can already access library methods outside of the ruby block since my library uses .send to inject itself in.
[2013-04-01 23:51:17 -0400] awgross: nevermind
[2013-04-01 23:51:21 -0400] awgross: you can
[2013-04-01 23:51:25 -0400] awgross: i just forget method names
[2013-04-01 23:55:41 -0400] stuartrexking: My rails app relies on some ENV variables being set. I am using the environment attribute from the application LWRP and I am populating it from a hash from a databag. The variables are not being made available when referenced using ENV['VAR_NAME'] in my rails ruby code. Should I expect them to be? I am also using the unicorn sub-resource.
[2013-04-01 23:56:09 -0400] stormerider: do chef 10 clients work fine with a chef 11 server? i'm thinking specifically 10.12.x clients. i don't use encrypted data bags or anything like that.
