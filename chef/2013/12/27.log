[2013-12-27 00:34:44 -0500] sb: anyone here can help me with apache cookbook related value issue im having
[2013-12-27 00:34:55 -0500] sb:  Could not resolve host name *:["80", -- ignoring!
[2013-12-27 00:34:55 -0500] sb: Syntax error on line 33
[2013-12-27 00:35:16 -0500] sb:     "apache": {
[2013-12-27 00:35:16 -0500] sb:       "status_allow_list": "localhost 127.0.0.1 ",
[2013-12-27 00:35:17 -0500] sb:       "listen_ports": [
[2013-12-27 00:35:17 -0500] sb:         80,
[2013-12-27 00:35:17 -0500] sb:         81
[2013-12-27 00:35:17 -0500] sb:       ]
[2013-12-27 00:35:18 -0500] sb:     }
[2013-12-27 00:35:21 -0500] sb: whats wrong here?
[2013-12-27 00:36:49 -0500] coderanger: sb: In the future, please use a pastebin
[2013-12-27 00:36:53 -0500] sb: sorry
[2013-12-27 00:36:55 -0500] sb: willd o
[2013-12-27 00:37:39 -0500] coderanger: Can you please pastebin the rest of that JSON file?
[2013-12-27 00:38:35 -0500] sb: sure
[2013-12-27 00:40:24 -0500] sb: http://pastebin.com/9vZzz3pj
[2013-12-27 00:41:08 -0500] coderanger: That looks like valid JSON
[2013-12-27 00:41:29 -0500] sb: yeah but for some reason
[2013-12-27 00:41:34 -0500] sb: its not iterating through the port
[2013-12-27 00:41:42 -0500] sb: its sending it as [ 80, 81]
[2013-12-27 00:41:47 -0500] sb: into the name virtualhost
[2013-12-27 00:41:57 -0500] sb: so im confused as to how they are expecting it
[2013-12-27 00:42:23 -0500] coderanger: What version of the apache2 cookbook do you have?
[2013-12-27 00:43:19 -0500] sb: version "1.7.63"
[2013-12-27 00:54:03 -0500] jpterry: Is there an attribute set for the encrypted data bag key file path on a node? I get different behavior between a bootstrapped chef-client and a vagrant chef-client.
[2013-12-27 00:54:51 -0500] coderanger: sb: Thats pretty old
[2013-12-27 00:54:57 -0500] coderanger: sb: I would try updating your version
[2013-12-27 00:55:42 -0500] coderanger: sb: Actually thats not a version number that matches anything on the community site, did you fork the cookbook?
[2013-12-27 00:57:46 -0500] sb: i did, but yeah i should update it
[2013-12-27 00:57:49 -0500] sb: let me take a look
[2013-12-27 01:03:57 -0500] sb: coderanger
[2013-12-27 01:04:02 -0500] sb: no dice evemn on new copy
[2013-12-27 01:04:09 -0500] sb: i wonder if they want it a certain way
[2013-12-27 01:04:09 -0500] sb: grr
[2013-12-27 02:07:44 -0500] patmaddox: how can I reference the environment name in a recipe or template? I have a template where I need to pass in the environment name...not sure how to do that and can't find any examples so far
[2013-12-27 02:18:50 -0500] coderanger: patmaddox: node.chef_environment
[2013-12-27 02:20:40 -0500] patmaddox: coderanger: thanks
[2013-12-27 02:25:59 -0500] patmaddox: okay another one... I put    default_attributes "node" => {"chef_user" => "vagrant"}   into an environment file, and made sure my node is set to that environment. I expect I'd be able to reference the variable with node.chef_user in my recipe but it blows up with a NoMethodError
[2013-12-27 02:26:59 -0500] coderanger: First you don't need the "node" when setting attributes
[2013-12-27 02:27:12 -0500] coderanger: just default_attributes(chef_user: 'vagrant')
[2013-12-27 02:27:25 -0500] coderanger: Next, always use the hash form for attributes, so node['chef_user']
[2013-12-27 02:31:29 -0500] patmaddox: cool, that worked :)
[2013-12-27 02:31:37 -0500] patmaddox: I thought you could use the method version interchangeable
[2013-12-27 02:31:45 -0500] coderanger: Technically yes, but don't
[2013-12-27 02:32:14 -0500] coderanger: because the converse is not true, node['chef_environment'] == nil
[2013-12-27 05:41:45 -0500] Gambit-: hey folks - someone once told me that in order to understand chef I'd have to understand git.  Anyone care to fill in the blanks on that?
[2013-12-27 05:43:53 -0500] adnichols: Gambit-: many of the cookbooks / libraries you'll want to use are hosted on git - it's probably more about learning the chef-specific tooling around those like berkshelf that you'll need to do, but a basic understanding of git is helpful
[2013-12-27 05:44:26 -0500] Gambit-: huh, he seemed to think there was something more fundamental than 'git is used as the scm' *shrugs*
[2013-12-27 05:44:47 -0500] adnichols: there's some built in integration w/ git/github but no requirement you use it
[2013-12-27 05:45:15 -0500] Gambit-: that said - I'm an experienced engineer who doesn't know ruby, and I'm looking for some way of deciding whether to learn puppet or chef for an infrastructure project I have ~2 weeks to implement and deploy.  Any suggestions on how to make a choice?
[2013-12-27 05:46:43 -0500] adnichols: Not really - both puppet and chef will require you to learn some domain specific stuff, chef is additionally helpful to learn ruby and you'll probably learn about ruby in the process of using it, puppet has their own DSL that sorta looks like ruby, but isn't
[2013-12-27 05:47:31 -0500] adnichols: You don't have a long timeframe to make a good decision - so try one out and see which one falls in place for you I guess
[2013-12-27 05:47:44 -0500] Gambit-: tbh I don't particularly care about ruby :)  Maybe a better question is, which one will have the lower learning curve and simpler approach?
[2013-12-27 05:47:46 -0500] adnichols: any specific capability requirements other than being able to configure machines?
[2013-12-27 05:47:58 -0500] Gambit-: mm riak zookeeper, apache, django.
[2013-12-27 05:48:35 -0500] adnichols: some folks find puppet more approachable initially
[2013-12-27 05:48:45 -0500] adnichols: I started out w/ puppet
[2013-12-27 05:49:35 -0500] Gambit-: how long ago was that? :)
[2013-12-27 05:49:46 -0500] adnichols: 3+ yrs ago I guess
[2013-12-27 05:50:21 -0500] Gambit-: gotcha
[2013-12-27 05:50:38 -0500] Gambit-: okay, thanks for the data points, I'll keep collecting opinions and make my decision tomorrow.
[2013-12-27 05:50:57 -0500] Gambit-: What I'm doing is very narrow and specific, only about 9 or so machines, and mostly I want to make sure I can recreate the cluster when needed.
[2013-12-27 05:51:10 -0500] adnichols: Then it probably will not matter which you choose
[2013-12-27 05:51:16 -0500] Gambit-: should I build it out once by hand, and then automate it afterwards?
[2013-12-27 05:51:29 -0500] Gambit-: probably not - I could probably do it by hand and be pretty happy for a while.
[2013-12-27 05:52:02 -0500] Gambit-: given my timeline, I don't have a ton of time to be tuning things.
[2013-12-27 05:52:09 -0500] adnichols: If it's software I'm familiar w/ and know how I want it setup I can do it w/ chef fromt he start but if I need to figure out software configs I'll often prototype a config & then put into chef after
[2013-12-27 05:52:53 -0500] Gambit-: and just keep a manual log of what you did, and then recreate it in chef after the fact?
[2013-12-27 05:53:02 -0500] adnichols: you should just be prepared to trash it and rebuild it w/ whatever you use to make sure it works from the ground up
[2013-12-27 05:53:12 -0500] Gambit-: yeah
[2013-12-27 05:53:26 -0500] adnichols: yeah, I'll take notes as I go
[2013-12-27 05:53:30 -0500] Gambit-: There's also a bunch of HA aspects I'm probably not going to implement on my first go around too
[2013-12-27 05:53:38 -0500] Gambit-: setting up postgresql replication, for example.
[2013-12-27 05:53:50 -0500] adnichols: sure - some of that's easy to layer on later
[2013-12-27 05:53:53 -0500] Gambit-: generally a solved problem, but when speed is of the essence to reach an arbitrary timeline...
[2013-12-27 05:54:04 -0500] Gambit-: are you familiar with zookeeper at all?
[2013-12-27 05:54:15 -0500] adnichols: I've deployed it a few times, not super familiar w/ the internals
[2013-12-27 05:54:30 -0500] Gambit-: does it have a cross-region HA story?
[2013-12-27 05:55:23 -0500] adnichols: I'm not sure - our deployments never cared about multiple DC's/regions - we cared about that for stuff like Cassandra
[2013-12-27 05:55:47 -0500] Gambit-: did you only keep ephemeral data in zookeeper, then?  Things that as each agent came up it would auto-populate again?
[2013-12-27 05:55:50 -0500] adnichols: so I've always deployed a cluster in isolation
[2013-12-27 05:56:02 -0500] adnichols: yes, generally
[2013-12-27 05:56:18 -0500] adnichols: it was used for other services like kafka/storm
[2013-12-27 05:57:33 -0500] Gambit-: have you used riak before?  I'm swimming in a sea of db soup, and riak seems to be a fairly reasonable middle-of-the-road solution for a write-intensive storage for things like statistics and other runtime records.
[2013-12-27 05:58:04 -0500] adnichols: I haven't - we've used cassandra or redis for stuff like that
[2013-12-27 05:58:31 -0500] Gambit-: yeah I was thinking about using redis, but decided I wanted something with a little more permanency for this first implementation
[2013-12-27 05:58:47 -0500] Gambit-: and that I could scale it accordingly once I had a better idea as to the operational requirements.
[2013-12-27 05:58:57 -0500] adnichols: yeah, I never got super comfortable w/ redis "persistence"
[2013-12-27 06:00:18 -0500] Gambit-: well thanks for the details
[2013-12-27 06:00:33 -0500] adnichols: fwiw - I had a similar timeframe when I first deployed puppet - was in Korea for 2 weeks to deploy our SaaS infra into a new DC, I was able to migrate configs from cfengine to puppet in that time
[2013-12-27 06:00:33 -0500] Gambit-: I appreciate your thoughts on the matter :)
[2013-12-27 06:00:37 -0500] adnichols: np
[2013-12-27 06:01:02 -0500] Gambit-: yeah, if /all/ I had to do was deploy a new saas infra at the same time, it'd be fine.  I have to /write/ the damn thing too, though :P
[2013-12-27 06:01:27 -0500] adnichols: :) yeah, well it's almost 2014 now, we expect more
[2013-12-27 06:01:43 -0500] Gambit-: I know, right?
[2013-12-27 06:01:54 -0500] Gambit-: At least it's my own company, so I get to be my own slave driver :)
[2013-12-27 06:02:05 -0500] adnichols: There ya go
[2013-12-27 09:23:03 -0500] mosez: hi
[2013-12-27 09:23:46 -0500] mosez: how can i manipulate different resources? on debian a service gets restarted by the service lwrp, on suse it gets restarted by xinetd lwrp.
[2013-12-27 09:24:05 -0500] mosez: if i'm updating the config the service of the os got to be restarted
[2013-12-27 09:24:58 -0500] isbaran: mosez: you can put a check for platform ?
[2013-12-27 09:26:17 -0500] mosez: isbaran: and replace notifies :reload, "xinetd[bitlbee]" depending on the platform?
[2013-12-27 09:27:42 -0500] jidar: I just put a case statement per platform, or os
[2013-12-27 09:28:28 -0500] isbaran: mosez: yes, or maybe you can define it in attributes, servicename=xinetd if platform_family = debian
[2013-12-27 09:29:37 -0500] mosez: default["bitlbee"]["service_resource"] = value_for_platform_family( ["debian", "ubuntu"] => "service[bitlbee]", ["suse"] => "xinetd[bitlbee]" )
[2013-12-27 10:33:29 -0500] rfx86: hey guys, i'm having a doubt here, i have a recipe that uses bash do that i need to be sure it is completed before moving on to the next chef script in the batch
[2013-12-27 10:33:44 -0500] rfx86: any ideas on how to achieve this?
[2013-12-27 10:34:25 -0500] rfx86: i've checked on opscode https://wiki.opscode.com/display/chef/Evaluate+and+Run+Resources+at+Compile+Time but this runs it before some files that i need to be there are deployed, aka runs it before anything else
[2013-12-27 10:34:30 -0500] rfx86: so it doesnt fix my problem
[2013-12-27 10:34:41 -0500] rfx86: i was thinking of maybe creating a loop to keep chef from imming out?
[2013-12-27 10:48:01 -0500] jonlives: rfx86: whi not put it in a bash resource? http://docs.opscode.com/resource_bash.html
[2013-12-27 10:48:20 -0500] jonlives: chef won't move onto the next resource until that one is finished
[2013-12-27 11:16:39 -0500] rfx86: i've tried that but it just skips jonlives
[2013-12-27 11:16:49 -0500] rfx86: its an rsync command
[2013-12-27 11:17:06 -0500] jonlives: rfx86: that implies there's an error in the command - chef won't run it in the background.
[2013-12-27 11:17:29 -0500] jonlives: rfx86: do you mean instantly skips?
[2013-12-27 11:18:24 -0500] rfx86: yep, it runs it and passes to the next one
[2013-12-27 11:18:51 -0500] rfx86: not sure if it has to to with the flags being -ex
[2013-12-27 11:19:14 -0500] jonlives: rfx86: can you gist the bash block, and also the output of chef-client when it gets to that resource please?
[2013-12-27 11:19:47 -0500] rfx86: sure, hold on
[2013-12-27 11:20:01 -0500] jonlives: thanks
[2013-12-27 11:21:52 -0500] rfx86: jonlives, http://pastebin.com/R1dm1s2C
[2013-12-27 11:22:07 -0500] rfx86: i need to relaunch an instance for the chef-solo log
[2013-12-27 11:22:19 -0500] jonlives: rfx86: rgr thanks
[2013-12-27 11:23:57 -0500] rfx86: should i relaunch it? it takes like 10~15 mins or so
[2013-12-27 11:24:10 -0500] jonlives: rfx86: why are you passing the -ex flags to the resource out of curiosity?
[2013-12-27 11:24:59 -0500] rfx86:  this is a recipe that a partner of ours provided, and now the guy that worked on it dropped the project and we're holding the hot potatoe in hour hands
[2013-12-27 11:25:06 -0500] rfx86: so those were the flags he used
[2013-12-27 11:25:15 -0500] jonlives: rfx86: you're also skipping the resource if /mnt/ephemeral/file exists - looking at your rsync command, you appear to be rsyncing the contents of one directory into /mnt/ephemeral/files, so it should already exist?
[2013-12-27 11:25:33 -0500] jonlives: can you definitely confirm that directory doesn't exist at the point the bash resource is executed?
[2013-12-27 11:25:44 -0500] rfx86: that is synched from the first run
[2013-12-27 11:25:49 -0500] rfx86: yes i will, might it be it?
[2013-12-27 11:26:06 -0500] rfx86: i thought the not_if didnt break it, just checked if it existed or not
[2013-12-27 11:26:36 -0500] jonlives: rfx86: if that directory exists already, the rsync will never be run - it tells the resource to NOT run IF the directory exists.
[2013-12-27 11:27:08 -0500] jonlives: rfx86: if you want to ensure the directory exists, use a directory resource before the bash resource which sets it up with the right permissions etc
[2013-12-27 11:27:29 -0500] rfx86: it runs jonlives
[2013-12-27 11:27:39 -0500] rfx86: the thing is that it doesnt await for it to become complete
[2013-12-27 11:27:45 -0500] rfx86: its like it starts it
[2013-12-27 11:27:46 -0500] jonlives: rfx86: check out http://docs.opscode.com/resource_common.html#guards
[2013-12-27 11:27:47 -0500] rfx86: and continues
[2013-12-27 11:27:53 -0500] jonlives: rfx86: hmm lemme look
[2013-12-27 11:28:09 -0500] rfx86: thank you sir
[2013-12-27 11:28:52 -0500] jonlives: rfx86: I'd try putting that rsync command in an execute resource instead btw - there's nothing in there you need to have in a bash block
[2013-12-27 11:29:21 -0500] jonlives: I'm not 100% sure what those bash flags do either I'm afraid.
[2013-12-27 11:30:54 -0500] rfx86: never used resource blocks
[2013-12-27 11:30:57 -0500] rfx86: let me see if i can code it
[2013-12-27 11:31:07 -0500] jonlives: rfx86: http://docs.opscode.com/resource_execute.html
[2013-12-27 11:31:16 -0500] jonlives: lemme write you an example
[2013-12-27 11:32:48 -0500] jonlives: rfx86: https://gist.github.com/jonlives/6bbc2ae6943b8e4d4b27
[2013-12-27 11:32:55 -0500] jonlives: something like that
[2013-12-27 11:33:33 -0500] jonlives: rfx86: the bash resource is typically used when you're doing things like building from source where you're more executing a bash *script* than a single command.
[2013-12-27 11:34:03 -0500] jonlives: still not sure why yours is running and then immediately moving on - have you verified that the rsync process is still running in the background after chef runs that resource?
[2013-12-27 11:34:09 -0500] rfx86: yeahh wrotte sumeing like that
[2013-12-27 11:34:11 -0500] rfx86: yep it is
[2013-12-27 11:34:17 -0500] rfx86: that's the wierd part
[2013-12-27 11:34:22 -0500] rfx86: chef usually controls the execution
[2013-12-27 11:34:30 -0500] jonlives: rfx86: could be something to do with those flags then - I'd try removing them and see if it changes it
[2013-12-27 11:34:33 -0500] rfx86: but not there, not sure why, maybe its the damn flags
[2013-12-27 11:34:43 -0500] rfx86: yeah
[2013-12-27 11:34:50 -0500] jonlives: try that and see if it fixes it, I'd say
[2013-12-27 11:36:12 -0500] rfx86: doing it :)
[2013-12-27 11:36:17 -0500] rfx86: will let you know how that goes
[2013-12-27 11:37:41 -0500] jonlives: rfx86: ah found what they do...
[2013-12-27 11:37:47 -0500] jonlives: -e means that if any command fails (which it indicates by returning a nonzero status), the script will terminate immediately.
[2013-12-27 11:37:54 -0500] jonlives: -x causes the shell to print an execution trace.
[2013-12-27 11:38:49 -0500] rfx86: so it shouldnt be the flags
[2013-12-27 11:38:51 -0500] jonlives: unless something is failing, I'm still not sure why rsync is getting backgrounded.
[2013-12-27 11:39:09 -0500] jonlives: rfx86: there wasn't an & at the end of that command that you removed by mistake was there?
[2013-12-27 11:39:13 -0500] jonlives: ie at the end of the rsync command
[2013-12-27 11:40:03 -0500] rfx86: nope
[2013-12-27 11:40:11 -0500] rfx86: the & would justify that but its not present
[2013-12-27 11:40:21 -0500] rfx86: the only reason might be then the not_if
[2013-12-27 11:40:24 -0500] jonlives: rfx86: damn odd then. and I assume if you run that command manually, it runs in the foreground and completes?
[2013-12-27 11:40:31 -0500] rfx86: but then the execution wouldnt occur, right?
[2013-12-27 11:40:50 -0500] rfx86: y
[2013-12-27 11:40:58 -0500] jonlives: rfx86: that's what I'm thinking - could you spin up a new instance and paste the client logs just in case?
[2013-12-27 11:41:08 -0500] jonlives: just want to double check it's doing what we think it is
[2013-12-27 11:41:27 -0500] rfx86: well the other way i've tought of getting chef stopped there would be a while loop that checks if the process is still running
[2013-12-27 11:42:03 -0500] jonlives: rfx86: I wouldn't go down that road - you shouldn't need to do that
[2013-12-27 11:42:12 -0500] jonlives: there's something going on here causing odd behaviour.
[2013-12-27 11:42:47 -0500] jonlives: rfx86: let's see what the logs say, if that doesn't shed any light then try it in an execute resource just to be on the safe side..
[2013-12-27 11:43:37 -0500] rfx86: oki, i'll let you know when i have more info :) thank you so much
[2013-12-27 11:44:21 -0500] jonlives: rfx86: np :)
[2013-12-27 12:23:07 -0500] gyre007: I have a tricky question guys...I have a tiny little library in a cookbook which is (for now) just listing all databases: https://gist.github.com/milosgajdos83/8146323
[2013-12-27 12:23:30 -0500] gyre007: it requires 'pg" gem to be installed in Chef ruby
[2013-12-27 12:23:51 -0500] gyre007: so I load database::postgresql recipe: include_recipe "database::postgresql"
[2013-12-27 12:24:38 -0500] gyre007: however I get the following error: https://gist.github.com/milosgajdos83/8146339
[2013-12-27 12:25:12 -0500] gyre007: I know that this is related due to not having require 'pg' statement in library file
[2013-12-27 12:25:26 -0500] gyre007: BUT if I add it there chef-client bombs out straight away
[2013-12-27 12:25:39 -0500] gyre007: as pg gem is not installed when the library is loaded
[2013-12-27 12:25:47 -0500] gyre007: it's like a chicken and egg problem
[2013-12-27 12:25:49 -0500] gyre007: really annoying
[2013-12-27 12:25:50 -0500] brucelee: i did a chef cookbook site install java and now it seems like its in an endless loop
[2013-12-27 12:25:58 -0500] gyre007: anyone idea ?
[2013-12-27 12:26:00 -0500] brucelee: anyone experienced this issue?
[2013-12-27 12:26:29 -0500] gyre007: brucelee: what do you mean by "endless loop" ?
[2013-12-27 12:27:06 -0500] brucelee: so it tries to install chef_handler then says pristine copy branch chef-vendor-chef_hander exists, switching to it
[2013-12-27 12:27:11 -0500] brucelee: here let me paste
[2013-12-27 12:27:53 -0500] brucelee: http://fpaste.org/64526/13881472/
[2013-12-27 12:29:18 -0500] brucelee: gyre007: see that?
[2013-12-27 12:29:27 -0500] gyre007: sec
[2013-12-27 12:29:50 -0500] brucelee: i think its downloading dependancies, and dependancies make it download itself
[2013-12-27 12:29:50 -0500] brucelee: etc
[2013-12-27 12:30:10 -0500] brucelee: or java requires dependancy A, which requires dependnacy B, which requires dependancy A
[2013-12-27 12:31:16 -0500] gyre007: mm
[2013-12-27 12:31:21 -0500] gyre007: interesting
[2013-12-27 12:33:33 -0500] brucelee: not sure if thats what its trying to do though
[2013-12-27 12:34:48 -0500] gyre007: i never used cookbook site install to be honest...
[2013-12-27 12:34:52 -0500] gyre007: i use berkshelf...
[2013-12-27 12:34:57 -0500] gyre007: but this looks a bit strange mm
[2013-12-27 12:37:07 -0500] brucelee: hmm weird
[2013-12-27 12:38:59 -0500] brucelee: gyre007: ok i guess ill install berkshelf too
[2013-12-27 12:39:12 -0500] gyre007: you won't regret :-)
[2013-12-27 12:39:21 -0500] gyre007: it basically handles dependcies for you
[2013-12-27 12:39:29 -0500] gyre007: *dependencies ...
[2013-12-27 12:44:32 -0500] brucelee: :p
[2013-12-27 13:46:53 -0500] pareshchalke: m getting below error
[2013-12-27 13:47:12 -0500] pareshchalke:  knife cookbook upload s3_file                ERROR: Encoding::InvalidByteSequenceError: "\xC2" on US-ASCII
[2013-12-27 13:47:29 -0500] DandyPandy: What is the best way to backup a chef server? Should I dump out the nodes, data bags, client, etc and grab /etc/chef-server, or just get all of /opt/chef-server and /etc/chef-server?
[2013-12-27 13:47:29 -0500] pareshchalke: can anyone tell me what has gone wrong here
[2013-12-27 13:47:52 -0500] pareshchalke: s2r2: hey need some help
[2013-12-27 13:48:13 -0500] DandyPandy: pareshchalke: I had that before and solved it by setting the default encoding for the ruby interpreter
[2013-12-27 13:48:24 -0500] pareshchalke: wats dat
[2013-12-27 13:48:30 -0500] pareshchalke: can u tell me
[2013-12-27 13:48:58 -0500] DandyPandy: pareshchalke: I'm looking where I set it. Give me a sec.
[2013-12-27 13:49:22 -0500] pareshchalke: DandyPandy: okay
[2013-12-27 13:49:37 -0500] DandyPandy: It's the character set encoding. Ruby is using US-ASCII and it's encountering a (probably) UTF-8 character
[2013-12-27 13:49:47 -0500] DandyPandy: It was breaking my chef-client runs on a small subset of systems.
[2013-12-27 13:50:42 -0500] pareshchalke: okay
[2013-12-27 13:51:08 -0500] Jamin: anyone mongo replica sets with this https://github.com/edelight/chef-mongodb
[2013-12-27 13:51:34 -0500] Jamin: it seems broken on the master from github atm (syntax errors and missing repl attributes)
[2013-12-27 13:51:57 -0500] DandyPandy: pareshchalke: for me, I added 'export RUBYOPT=-Ku' to my /etc/default/chef-client, but you can probably set that in your shell environment
[2013-12-27 13:52:24 -0500] DandyPandy: pareshchalke: try it and see if it works. If so, add that line to your .profile
[2013-12-27 13:52:43 -0500] DandyPandy: and by try it, I mean run that before executing knife
[2013-12-27 13:52:45 -0500] pareshchalke: DandyPandy: will try dat
[2013-12-27 13:53:17 -0500] pareshchalke: DandyPandy: it worked thanks a lot man
[2013-12-27 13:53:32 -0500] DandyPandy: pareshchalke: you may need to set that on your chef clients, so keep that in mind
[2013-12-27 13:53:44 -0500] pareshchalke: DandyPandy: yes sure
[2013-12-27 13:53:56 -0500] pareshchalke: DandyPandy: i made changes in ~/.profile
[2013-12-27 13:54:33 -0500] DandyPandy: pareshchalke: for the chef-client, if you're on a debian-based system, it will go in /etc/default/chef-client
[2013-12-27 13:54:44 -0500] DandyPandy: not sure about the redhat based systems
[2013-12-27 13:55:40 -0500] pareshchalke: DandyPandy: okay thanks for that
[2013-12-27 13:56:06 -0500] DandyPandy: pareshchalke: glad I could help. I spent days trying to figure that one out. :)
[2013-12-27 13:56:23 -0500] DandyPandy: it was a test of my google-foo
[2013-12-27 13:56:46 -0500] DandyPandy: s/foo/fu/
[2013-12-27 13:57:03 -0500] pareshchalke: DandyPandy: hehehe thanks a lot but i was also stucked
[2013-12-27 14:21:39 -0500] notromda: yay, I finally have had some success in writing recipes and deploying to a vagrant server  now the fun part, planning the domain part.   I have multiple servers and multiple rails projects, staging and production where is the best place to store the mapping of project, environment, and node?   Is this a node attribute or a data bag thing?
[2013-12-27 14:29:57 -0500] rayrod2030: is there any way to reference chef attributes from within a serverspec spec?
[2013-12-27 14:44:35 -0500] AntelopeSalad: do you guys think it's reasonable to use chef-solo to provision a development workstation?
[2013-12-27 14:44:52 -0500] gyre007: can someone tell me WHY isnt the home directory created in this case ? https://gist.github.com/milosgajdos83/8147862
[2013-12-27 14:44:59 -0500] gyre007: this is really strange...
[2013-12-27 14:45:59 -0500] gyre007: it should create /home/someuser directory
[2013-12-27 14:46:26 -0500] gyre007: unless im missing something really basic....
[2013-12-27 14:47:23 -0500] gyre007: OH BOY https://tickets.opscode.com/browse/CHEF-2409
[2013-12-27 14:47:50 -0500] gyre007: like ...seriously ?
[2013-12-27 14:48:32 -0500] rayrod2030: just set a user home attribute and you are set.
[2013-12-27 14:48:59 -0500] gyre007: rayrod2030: that's not the point...
[2013-12-27 14:49:26 -0500] rayrod2030: it's a bug.  there will be other bugs.  just work around it.
[2013-12-27 14:50:12 -0500] gyre007: yeah I know
[2013-12-27 14:50:19 -0500] gyre007: but it took me a bit of time
[2013-12-27 14:50:26 -0500] gyre007: like...this is very basic imho...
[2013-12-27 14:50:28 -0500] gyre007: anyways :)
[2013-12-27 14:50:47 -0500] rayrod2030: yeah I know what you mean.  hopefully they take care of it soon.
[2013-12-27 14:56:22 -0500] notromda: This has been one of the most frustrating points of chef - I keep running into recipe bugs. :/
[2013-12-27 15:22:49 -0500] notromda: nice.  the ospcode site has a form to request training materials, but it errors with a 500.
[2013-12-27 15:23:08 -0500] prognostikos: any (happy or otherwise) OpsWorks users about? opinions and experiences would be appreciated.
[2013-12-27 15:49:31 -0500] AntelopeSalad: for the installation instructions of chef, shouldn't you guys use wget instead of curl?
[2013-12-27 15:49:48 -0500] AntelopeSalad: if someone is setting up a brand new box it's more likely they will have wget but not curl
[2013-12-27 15:49:53 -0500] AntelopeSalad: (not a big deal, just throwing it out there)
[2013-12-27 16:39:47 -0500] jidar: I've found curl to be slightly more common than wget, in my experience anyhow
[2013-12-27 16:40:10 -0500] shlant: anyone know why I might be getting "invalid byte sequence in US-ASCII" on this block? https://gist.github.com/MrMMorris/59c82a1b28629279fc6a
[2013-12-27 16:40:33 -0500] shlant: is works the second run
[2013-12-27 16:40:36 -0500] shlant: it*
[2013-12-27 16:40:36 -0500] jidar: shlant: make sure all of the quotes are not the funny ones?
[2013-12-27 16:40:43 -0500] shlant: back ticks?
[2013-12-27 16:40:51 -0500] jidar: uh, no the UTF "s
[2013-12-27 16:41:11 -0500] jidar: like if you copy paste from a website, sometimes they are using the UTF quotes not the regular ascii quotes
[2013-12-27 16:41:18 -0500] jidar: where the quotes have direction
[2013-12-27 16:41:21 -0500] shlant: ok
[2013-12-27 16:41:26 -0500] shlant: i will try redoing the quotes
[2013-12-27 16:41:54 -0500] shlant: thanks
[2013-12-27 16:44:58 -0500] V8Energy: i am trying to run nginx recipe from source, but when I run it, it complains at this line: node['nginx']['source']['url']
[2013-12-27 16:45:06 -0500] V8Energy: it says node['nginx'] is nil
[2013-12-27 16:46:03 -0500] V8Energy: /var/chef/cookbooks/nginx/recipes/source.rb line 28
[2013-12-27 16:46:31 -0500] V8Energy: this is what my main recipe looks like: https://gist.github.com/slavajacobson/be611728f0aca1f88a16
[2013-12-27 16:47:06 -0500] AntelopeSalad: jidar: oh, the box i am setting up now (lubuntu) only had wget, i figured maybe all ubuntu servers did not include curl?
[2013-12-27 16:47:59 -0500] notromda: You could use the package resource to add curl in your recipes
[2013-12-27 16:48:40 -0500] notromda: V8 - have you included attributes somehow, via role, node, or databag?
[2013-12-27 16:49:09 -0500] V8Energy: notromda: i don't think so. I just followed the example on railscasts
[2013-12-27 16:49:37 -0500] V8Energy: notromda: but instead of downloading the recipes manually, i used knife
[2013-12-27 16:53:52 -0500] V8Energy: notromda: I am using Chef: 11.8.2
[2013-12-27 16:54:14 -0500] notromda: I'm pretty new to this myself.
[2013-12-27 16:54:19 -0500] V8Energy: oh
[2013-12-27 16:55:05 -0500] AntelopeSalad: notromda: yeah but i'm talking about a brand new setup, how can i use a recipe without chef being installed first
[2013-12-27 16:55:13 -0500] notromda: I'm guessing that either the defualts for the nginx cookbook aren't loading or something.
[2013-12-27 16:56:30 -0500] notromda: Oh, you mean the bootstrap?
[2013-12-27 16:56:31 -0500] V8Energy: notromda: yeah I guess. the attributes folder is there with all the attributes being set.
[2013-12-27 16:57:30 -0500] nebrera2: hello
[2013-12-27 16:58:56 -0500] nebrera2: I am having an issue with chef-client and erchef
[2013-12-27 16:59:13 -0500] nebrera2: I have a node with its attributes
[2013-12-27 16:59:38 -0500] nebrera2: I do try to execute node.set["attributeX"] = "example" and node.save
[2013-12-27 16:59:40 -0500] nebrera2: and it works
[2013-12-27 17:00:06 -0500] nebrera2: but if I run last command while chef-client is executing it I this changes is overwritten
[2013-12-27 17:00:27 -0500] nebrera2: how could I save an specific attribute to a value for next chef-client run ?
[2013-12-27 17:03:39 -0500] V8Energy: nebrera2: how did you get the default nginx attributes to work? mine won't load. :(
[2013-12-27 17:07:46 -0500] nebrera2: what do you mean ?
[2013-12-27 17:08:00 -0500] nebrera2: I did not do anything spacial
[2013-12-27 17:08:04 -0500] nebrera2: *special
[2013-12-27 17:09:29 -0500] shlant: V8Energy: try setting node['nginx']['version']
[2013-12-27 17:10:15 -0500] shlant: node['nginx']['source']['url'] - (versioned) URL for the Nginx source code. By default this will use the version specified as `node['nginx']['version'].
[2013-12-27 17:10:49 -0500] V8Energy: shlant: where should i set node['nginx']['version'] ? in nginx/attributes/default.rb?
[2013-12-27 17:11:20 -0500] shlant: do you have a recipe that calls the nginx cookbook?
[2013-12-27 17:11:43 -0500] V8Energy: shlant: yes. https://gist.github.com/slavajacobson/be611728f0aca1f88a16
[2013-12-27 17:12:01 -0500] shlant: I think you want to set it there
[2013-12-27 17:12:17 -0500] V8Energy: shlant: after include_recipe right?
[2013-12-27 17:12:21 -0500] shlant: yea
[2013-12-27 17:12:34 -0500] V8Energy: trying now...
[2013-12-27 17:14:28 -0500] V8Energy: shlant: didn't work. here's the error and my custom recipe: https://gist.github.com/slavajacobson/b9dce6f71994ed350e35
[2013-12-27 17:15:42 -0500] shlant: i think instead of node['nginx']['version'] = '1.2.9' you want default['nginx']['version'] = '1.2.9'
[2013-12-27 17:15:53 -0500] shlant: or node.set['nginx']['version'] = '1.2.9'
[2013-12-27 17:15:58 -0500] shlant: not sure best practice
[2013-12-27 17:16:16 -0500] V8Energy: i will try both
[2013-12-27 17:17:30 -0500] V8Energy: shlant: but this is already being set in nginx/attributes/default.rb
[2013-12-27 17:17:34 -0500] V8Energy: for some reason chef doesn't pick it up
[2013-12-27 17:18:21 -0500] shlant: you are running nginx::source not nginx::default right?
[2013-12-27 17:18:49 -0500] V8Energy: shlant: default['nginx']['version'] = '1.2.9'
[2013-12-27 17:18:51 -0500] V8Energy: oops
[2013-12-27 17:18:55 -0500] V8Energy: include_recipe "nginx::source"
[2013-12-27 17:19:08 -0500] shlant: yea so it doesn't pick up the default recipe attributes me thinks
[2013-12-27 17:19:27 -0500] V8Energy: can you take a look at the gist i pasted? maybe you'll notice something that is off?
[2013-12-27 17:20:38 -0500] jonlives: V8Energy: you're setting node['nginx']['version'] = '1.2.9' but you're looking for node['nginx']['source']['version']
[2013-12-27 17:21:21 -0500] jonlives: V8Energy: is the latter set in the recipe you're including?
[2013-12-27 17:21:41 -0500] shlant: node['nginx']['source']['url'] needs node['nginx']['source']['version']
[2013-12-27 17:21:49 -0500] shlant: which points to node['nginx']['version']
[2013-12-27 17:22:01 -0500] shlant: which i don't think is set with the source recipe
[2013-12-27 17:22:51 -0500] V8Energy: shlant / jonlives: those are set within nginx/attributes/source.rb
[2013-12-27 17:22:53 -0500] V8Energy: https://gist.github.com/slavajacobson/c720d478dcbdcc89d3c8
[2013-12-27 17:23:03 -0500] V8Energy: that's the content of source.rb file
[2013-12-27 17:23:24 -0500] shlant: node['nginx']['version'] is not set
[2013-12-27 17:23:29 -0500] shlant: it's just referenced
[2013-12-27 17:23:43 -0500] jonlives: V8Energy: yeah what shlant said
[2013-12-27 17:24:04 -0500] V8Energy: shlant: shouldn't it load both: default.rb and then source.rb? b
[2013-12-27 17:25:02 -0500] shlant: V8Energy: not unless it is included in source
[2013-12-27 17:25:05 -0500] shlant: which it isn't
[2013-12-27 17:25:17 -0500] shlant: default recipe is only run if it is included in the other recipes
[2013-12-27 17:25:41 -0500] V8Energy: how come it isn't? is it something I meant to do myself?
[2013-12-27 17:25:44 -0500] shlant: i assume the nginx version isn't set by default in source because if you are using source it assumes younode['nginx']['version'] want to specify a custom verison
[2013-12-27 17:26:11 -0500] shlant: it's not included in it because it's not required
[2013-12-27 17:26:33 -0500] shlant: and if you look at default
[2013-12-27 17:26:38 -0500] shlant: it would just point to source anyways
[2013-12-27 17:26:39 -0500] shlant: case node['nginx']['install_method']
[2013-12-27 17:26:40 -0500] shlant: when 'source'
[2013-12-27 17:26:41 -0500] shlant:   include_recipe 'nginx::source'
[2013-12-27 17:27:29 -0500] V8Energy: shlant: but the original error that I am getting is for line 28... which is default['nginx']['source']['default_configure_flags'] = %W[.......
[2013-12-27 17:27:56 -0500] V8Energy: it never really complained about node['nginx']['version']
[2013-12-27 17:28:39 -0500] V8Energy: and inside source.rb i already have include_attribute 'nginx::default'
[2013-12-27 17:29:07 -0500] shlant: not explicitly, but node[nginx][version] is nested inside node[nginx][source][version] so without [nginx][version], it complains that a required field in node[nginx][source][version] is nil
[2013-12-27 17:29:27 -0500] shlant: include_attribute 'nginx::default' doesn't make sense
[2013-12-27 17:29:38 -0500] shlant: are you including the default recipe or setting an attribute?
[2013-12-27 17:30:22 -0500] V8Energy: I am sorry, it meant it complains about line 28 in: nginx/recipes/source.rb which is this line: nginx_url = node['nginx']['source']['url'] ||
[2013-12-27 17:30:23 -0500] V8Energy:   "http://nginx.org/download/nginx-#{node['nginx']['source']['version']}.tar.gz"
[2013-12-27 17:30:37 -0500] shlant: to fix your problem add node['nginx']['version'] = '1.2.6' to your custom recipes /attributes/default.rb
[2013-12-27 17:30:51 -0500] V8Energy: shlant: it does make sense, because  it's reusing the attributes from default.rb  to set attributes inside source.rb
[2013-12-27 17:31:07 -0500] V8Energy: ok i will try that
[2013-12-27 17:31:33 -0500] shlant: in order to include the default recipe it would be include_recipe 'nginx::default' not include_attribute 'nginx::default'
[2013-12-27 17:32:04 -0500] shlant: oh nm
[2013-12-27 17:32:07 -0500] shlant: that is a thing
[2013-12-27 17:32:54 -0500] V8Energy: shlant: i tried what you suggested, it still complains about  node['nginx']['source']['url']  undefined methid '[]' for nil class
[2013-12-27 17:33:00 -0500] shlant: i guess include_attribute 'nginx' should work
[2013-12-27 17:33:38 -0500] shlant: in your custom recipe
[2013-12-27 17:34:11 -0500] notromda: just a thought, instead of including it in your recipe, what happnes when you just include it as a runlist item?
[2013-12-27 17:35:05 -0500] V8Energy: sorry, what's a runlist item?
[2013-12-27 17:36:09 -0500] shlant: are you using vagrant?
[2013-12-27 17:36:16 -0500] shlant: how are you provisioning your chef nodes?
[2013-12-27 17:38:57 -0500] V8Energy: i am very new to this. I just followed the tutorial on railscasts. What I did was: I installed chef-solo gem, installed knife, i specified the cookbook path and json attributes (node.json) inside solo.rb, then i used knife to download nginx. then I use chef-solo -c /var/chef/solo.rb to run chef
[2013-12-27 17:39:07 -0500] V8Energy: shlant ^
[2013-12-27 17:39:43 -0500] nebrera2: someone could help me how to modify attributes from console (from management console with api) while the chef-client is running
[2013-12-27 17:39:44 -0500] nebrera2: ?
[2013-12-27 17:40:24 -0500] nebrera2: the problem is when chef-client is finished all attributes modified by api from console are ignored because chef-client has been saved theirs values again
[2013-12-27 17:40:34 -0500] shlant: V8Energy: what is chef-solo being run on? do you have a local vm?
[2013-12-27 17:40:40 -0500] nebrera2: if I do this with the console while chef-client is not running it works perfectly
[2013-12-27 17:40:51 -0500] V8Energy: shlant: vps, ubuntu
[2013-12-27 17:43:26 -0500] shlant: i think you need to create a JSON file (test.json) and put the run list in it
[2013-12-27 17:44:09 -0500] V8Energy: shlant: i found the solution. I had to create metadata.rb inside my custom recipe folder and add: depends 'nginx'
[2013-12-27 17:44:22 -0500] shlant: something like { "run_list": "recipe[main]" }
[2013-12-27 17:44:37 -0500] V8Energy: shlant: oh yea, i got that
[2013-12-27 17:44:43 -0500] shlant: awesome!
[2013-12-27 17:45:28 -0500] shlant: I was confused, because if you are using a chef-server instead of solo, when you try to upload a cookbook (main) it will complain that depends 'nginx' is not in it
[2013-12-27 17:45:40 -0500] shlant: but due to the way you have it, that wouldn't show up[
[2013-12-27 17:45:48 -0500] V8Energy: oh,  interesting
[2013-12-27 17:46:02 -0500] V8Energy: thanks a lot :)
[2013-12-27 17:46:03 -0500] shlant: yea it's been a while since I've used chef solo
[2013-12-27 17:46:10 -0500] shlant: sorry if I confused you haha
[2013-12-27 17:50:52 -0500] V8Energy: shlant: not a problem. I appreciate the moral support. :D
[2013-12-27 17:51:00 -0500] AntelopeSalad: other than the free tier from ec2 (i can't use this anymore) is there a free place where i can test a vm?
[2013-12-27 17:51:11 -0500] shlant: locally :)
[2013-12-27 17:51:17 -0500] AntelopeSalad: i can't do it locally
[2013-12-27 17:51:30 -0500] AntelopeSalad: vagrant won't boot up because my machine doesn't have enough ram
[2013-12-27 17:52:28 -0500] shlant: hmmm
[2013-12-27 17:52:40 -0500] shlant: there aren't many cloud providers that offer free levels
[2013-12-27 17:52:52 -0500] cwj: AntelopeSalad: what platform do you use locally? perhaps lxc is an option?
[2013-12-27 17:52:53 -0500] AntelopeSalad: yeah i've checked and didn't find anything
[2013-12-27 17:53:15 -0500] AntelopeSalad: cwj: i'm running windows 7 on my host OS , then i'm using lubuntu 13.x in a VM (my dev environment)
[2013-12-27 17:53:28 -0500] AntelopeSalad: and inside of that lubuntu VM i was trying to setup vagrant
[2013-12-27 17:53:42 -0500] nebrera2: anyone could help me with overwrite attributes ?
[2013-12-27 17:54:00 -0500] AntelopeSalad: my computer has 2 gigs, i gave 1 gig to the lubuntu VM , and i set vagrant to use 512mb on the server i was trying to setup -- but it always fails to boot
[2013-12-27 17:54:09 -0500] V8Energy: AntelopeSalad: i found a free VPS if you want. I am using it now to test chef
[2013-12-27 17:54:18 -0500] AntelopeSalad: yeah that would be great
[2013-12-27 17:54:31 -0500] shlant: help all around!
[2013-12-27 17:54:59 -0500] cwj: AntelopeSalad: perhaps use vagrant in that VM with https://github.com/fgrehm/vagrant-lxc or https://github.com/fgrehm/docker-provider
[2013-12-27 17:55:19 -0500] V8Energy: AntelopeSalad: http://www.vps.me/ ..but you will have to give them your cellphone number to validate. (i think they use it to prevent mass account creation)
[2013-12-27 17:55:45 -0500] V8Energy: it's about 300mb ram, and 10gb.. enough to test stuff
[2013-12-27 17:55:54 -0500] V8Energy: 10gb bandwidth i meant.
[2013-12-27 17:56:04 -0500] AntelopeSalad: cwj: hmm, i'll try that out maybe, how hard was it to setup?
[2013-12-27 17:56:09 -0500] AntelopeSalad: V8Energy: oh, that won't work
[2013-12-27 17:56:51 -0500] cwj: AntelopeSalad: havent tried it myself, but the lxc and docker cookbooks on the community site worked pretty well for setting up a kitchen-docker environment for me
[2013-12-27 17:57:10 -0500] cwj: nebrera2: dont ask to ask, just ask and well take a shot at it :)
[2013-12-27 17:57:12 -0500] AntelopeSalad: is that going to complicate things a lot? this is my first time trying to test chef
[2013-12-27 17:57:24 -0500] cwj: AntelopeSalad: probably
[2013-12-27 17:57:46 -0500] cwj: does vagrant not run directly on windows? ive never looked into it
[2013-12-27 17:58:05 -0500] AntelopeSalad: then i couldn't have my development VM open
[2013-12-27 17:58:25 -0500] nebrera2: cwj: I have cli access to chef modifying attributes of my nodes, If I modify an attribute with node.set["attribute"]="xxxxx" and then node.save it works only if chef-client of that node is not running
[2013-12-27 17:58:47 -0500] nebrera2: if the chef-client is running it builds again the attributes and override mine modify with the cli
[2013-12-27 17:59:10 -0500] nebrera2: I could use roles instead and modify the params on it but I wouldn't like
[2013-12-27 17:59:57 -0500] nebrera2: is there any way to modify attributes while chef-client is running and next run it will set as normal attributes ?
[2013-12-27 18:00:53 -0500] AntelopeSalad: V8Energy: did you find any providers that don't require a cell phone?
[2013-12-27 18:01:04 -0500] cwj: nebrera2: yeah that would be a race condition, off the top of my head i am not sure how you would avoid it
[2013-12-27 18:01:11 -0500] V8Energy: AntelopeSalad: unfortunately not.
[2013-12-27 18:01:40 -0500] V8Energy: AntelopeSalad: if you don't have a cellphone, ask your friend or soemthing. All they do is send you a validation code by text message
[2013-12-27 18:01:42 -0500] AntelopeSalad: maybe i should just buy a prepaid cell or something
[2013-12-27 18:01:56 -0500] AntelopeSalad: ok
[2013-12-27 18:02:29 -0500] nebrera2: cwj: so the only way to fix this race condition is with a role ?
[2013-12-27 18:03:19 -0500] cwj: you could override at the role or environment level
[2013-12-27 18:03:49 -0500] nebrera2: the problem is I have 100 nodes and I would have to create 100 roles one for each
[2013-12-27 18:04:01 -0500] nebrera2: to avoid this race condition and it is a pain in the ass :-D
[2013-12-27 18:04:36 -0500] cwj: nebrera2: have you considered storing the information in data bag items?
[2013-12-27 18:04:54 -0500] nebrera2: the problem is it is different for each node
[2013-12-27 18:05:13 -0500] nebrera2: or it can be different on each node
[2013-12-27 18:05:28 -0500] nebrera2: cwj, are you chef developer ?
[2013-12-27 18:05:36 -0500] shlant: jidar: looks like it wasn't the quotes
[2013-12-27 18:05:44 -0500] shlant: with the UTF errror
[2013-12-27 18:06:01 -0500] shlant: invalid byte sequence in US-ASCII
[2013-12-27 18:06:10 -0500] cwj: nebrera2: i dont work for Chef if that is what you are asking
[2013-12-27 18:06:20 -0500] shlant: I don;t understand why it works the second time around
[2013-12-27 18:06:22 -0500] nebrera2: you don't have this issue in production, don't you modify node params with cli ?
[2013-12-27 18:07:04 -0500] nebrera2: shlant: I had "invalid byte sequence in US-ASCII" when I added accents like 
[2013-12-27 18:07:04 -0500] cwj: my nodes dont run chef so frequently that i am worried about a race condition
[2013-12-27 18:07:25 -0500] nebrera2: how often do you run it ?
[2013-12-27 18:07:28 -0500] cwj: i have very few recipes that depend on attributes which will be unique per node
[2013-12-27 18:07:41 -0500] shlant: nebrera2: here is the block https://gist.github.com/MrMMorris/59c82a1b28629279fc6a
[2013-12-27 18:07:45 -0500] cwj: i run it as-needed, typically to perform a deploy
[2013-12-27 18:08:17 -0500] shlant: should I just manually retype the block?
[2013-12-27 18:08:51 -0500] shlant: is it ^?
[2013-12-27 18:09:29 -0500] shlant: nope, that's ascii
[2013-12-27 18:20:56 -0500] V8Energy: how come postgresql doesn't have a guide on how to create user and databases? http://community.opscode.com/cookbooks/postgresql
[2013-12-27 18:23:18 -0500] cyberswat: V8Energy: Open Source accepts contributions ... maybe it's a lot of work for that maintainer to manage the code in their free time and they are looking for someone like you to help?
[2013-12-27 18:23:43 -0500] V8Energy: cyberswat: but how am i supposed to figure out the commands and such?
[2013-12-27 18:24:20 -0500] cyberswat: V8Energy: the default attributes are a good place to start ... simply implementing, recording your notes and questions along the way, and then documenting that process would be helpful
[2013-12-27 18:24:36 -0500] V8Energy: i see
[2013-12-27 18:24:39 -0500] KKS: Hi
[2013-12-27 18:24:39 -0500] V8Energy: thamks
[2013-12-27 18:25:05 -0500] KKS: Is there a way to return a variable from powershell script defined within powershell_script resource?
[2013-12-27 18:26:12 -0500] KKS: Is there a way to return a variable from powershell script defined within powershell_script resource?
[2013-12-27 18:26:36 -0500] KKS: I would like to use that returned variable's value in if block
[2013-12-27 18:27:09 -0500] KKS: Not sure how to return the value though
[2013-12-27 18:29:12 -0500] KKS: anybody?
[2013-12-27 18:29:33 -0500] KKS: Is there a way to return a variable from powershell script defined within powershell_script resource?
[2013-12-27 18:40:07 -0500] kallistec: KKS: nope, no way to do that. the powershell cookbook adds a helper `powershell_out` that returns an object where you can get access to the output
[2013-12-27 18:41:00 -0500] KKS: Kallistec: Thanks for your reply. Can you point me to some example on how to use powershell_out helper?
[2013-12-27 18:42:55 -0500] kallistec: KKS: I'm not a windows guy so I haven't used any of it myself. there's a brief example of how to use it in the https://github.com/opscode-cookbooks/powershell readme under "Mixin" heading
[2013-12-27 18:43:10 -0500] KKS: Thanks! I will check it out
[2013-12-27 18:51:55 -0500] AntelopeSalad: V8Energy: i forgot to ask, what's the turn around time for tests using that free host?
[2013-12-27 18:52:03 -0500] AntelopeSalad: it will be a few hours before i can verify an account
[2013-12-27 18:52:24 -0500] AntelopeSalad: like, do you just kill the instance and spin a new one up in between each test run?
[2013-12-27 19:15:03 -0500] Neozonz: 172.16.44.39 The following cookbooks are required by the client but don't exist on the server:
[2013-12-27 19:15:03 -0500] Neozonz: 172.16.44.39 * sysctl
[2013-12-27 19:15:12 -0500] Neozonz: How can i fix this?
[2013-12-27 19:16:06 -0500] theneykov: Neozonz: you need to upload the 'sysctl' cookbook
[2013-12-27 19:16:15 -0500] Neozonz: i did
[2013-12-27 19:16:30 -0500] Neozonz: https://www.irccloud.com/pastebin/zfxZzvXZ
[2013-12-27 19:17:12 -0500] KKS: Is Powershell_out part of Windows cookbook now?
[2013-12-27 19:17:28 -0500] theneykov: Neozonz: run knife cookbook show sysctl
[2013-12-27 19:17:34 -0500] KKS: I am running 11.8.2 and it does not know what powershell_out is
[2013-12-27 19:17:57 -0500] Neozonz: https://www.irccloud.com/pastebin/S266GNj4
[2013-12-27 19:18:16 -0500] Neozonz: Couldn't be found :o
[2013-12-27 19:18:17 -0500] theneykov: it's not on the Chef server then
[2013-12-27 19:18:27 -0500] Neozonz: but i uploaded? :o
[2013-12-27 19:18:35 -0500] theneykov: try to upload it by itself
[2013-12-27 19:18:42 -0500] Neozonz: how do i do that
[2013-12-27 19:18:49 -0500] KKS: Is Powershell_out part of Windows cookbook now?
[2013-12-27 19:19:15 -0500] KKS: it complains about not finding a resource for powershell_out
[2013-12-27 19:19:17 -0500] theneykov: Neozonz: knife cookbook upload sysctl -o parent_dir_of_where_sysctl_is
[2013-12-27 19:20:00 -0500] Neozonz: https://www.irccloud.com/pastebin/DwqYyV7k
[2013-12-27 19:20:31 -0500] theneykov: Neozonz, you need to specify the parent dir of where sysctl is
[2013-12-27 19:20:54 -0500] theneykov: try knife cookbook upload sysctl -o .
[2013-12-27 19:21:33 -0500] Neozonz: ah that worked
[2013-12-27 19:21:37 -0500] Neozonz: lets give this another try
[2013-12-27 19:22:01 -0500] theneykov: cool
[2013-12-27 19:22:42 -0500] Neozonz:  Cookbook sysctl not found. If you're loading sysctl from another cookbook, make sure you configure the dependency in your metadata
[2013-12-27 19:26:16 -0500] kallistec: Neozonz: `knife cookbook upload COOKBOOK` looks for a directory named COOKBOOK in your load path
[2013-12-27 19:26:55 -0500] kallistec: Neozonz: so, `knife cookbook upload sysctl -o .` probably will work for you if you haven't cd'd elsewhere since your paste
[2013-12-27 19:29:47 -0500] Neozonz: hmm
[2013-12-27 19:29:49 -0500] Neozonz: got it uploaded
[2013-12-27 19:30:00 -0500] Neozonz: but when i run bootstrap, it doesn't show the new cook book when syncronizing
[2013-12-27 19:31:01 -0500] theneykov: Neozonz, how are you including it in your cookbook?
[2013-12-27 19:31:22 -0500] Neozonz:  i put it in cookbooks/roles/recipes/default.rb
[2013-12-27 19:31:35 -0500] Neozonz: https://www.irccloud.com/pastebin/Le5a8TLe
[2013-12-27 19:31:36 -0500] theneykov: is it mentioned in your metadata.rb?
[2013-12-27 19:32:19 -0500] Neozonz: https://www.irccloud.com/pastebin/fZHVgp1l
[2013-12-27 19:33:16 -0500] theneykov: what's your run list? how are you invoking your cookbook?
[2013-12-27 19:33:25 -0500] Neozonz: roles
[2013-12-27 19:37:15 -0500] Neozonz: how can i check my runlist?
[2013-12-27 19:38:24 -0500] theneykov: what's the output of the chef-client run?
[2013-12-27 19:39:36 -0500] Neozonz: knife bootstrap 172.16.44.39 -x neozonz --sudo --node-name "stratum3" -r "recipe[roles]"
[2013-12-27 19:39:41 -0500] Neozonz: is how i've been running it
[2013-12-27 19:40:18 -0500] theneykov: a little confusing to call your cookbook 'roles'
[2013-12-27 19:41:50 -0500] theneykov: https://www.irccloud.com/pastebin/Le5a8TLe
[2013-12-27 19:42:07 -0500] theneykov: you're setting an attribute for sysctl after you include sysctl
[2013-12-27 19:42:25 -0500] Neozonz: ?
[2013-12-27 19:45:01 -0500] KKS: Is Powershell_out part of Windows cookbook now?
[2013-12-27 19:45:18 -0500] KKS: Anybody here with powershell experience on Chef?
[2013-12-27 19:45:37 -0500] theneykov: Neozonz, try setting the attribute first and then include sysctl
[2013-12-27 19:46:07 -0500] theneykov: show me the output of the bootstrap process if you can
[2013-12-27 19:46:26 -0500] Neozonz: 172.16.44.39 Recipe: sysctl::default
[2013-12-27 19:46:29 -0500] Neozonz: i think it worked
[2013-12-27 19:46:48 -0500] Neozonz: 172.16.44.39 Error executing action `start` on resource 'service[procps]'
[2013-12-27 19:46:56 -0500] Neozonz: but i got this shortly after and it broke
[2013-12-27 19:46:57 -0500] Neozonz: :(
[2013-12-27 20:18:04 -0500] EricL: How do I install a group of packages at the same time?
[2013-12-27 20:20:53 -0500] tscanausa: EricL I dont think you can. what would be your need?
[2013-12-27 20:21:51 -0500] coderanger: EricL: You mean like a yum group?
[2013-12-27 20:22:27 -0500] EricL: There is a package foo-full which contains 10 sub packages.  If I want to install foo-full=3.0.1 and foo-full=3.0.2 is availble, the only wnat to install the older version is to specify all the older ones invidividually.
[2013-12-27 20:22:55 -0500] coderanger: EricL: What packaging system
[2013-12-27 20:23:02 -0500] EricL: Ubuntu, so apt.
[2013-12-27 20:23:17 -0500] coderanger: Just use apt pinning?
[2013-12-27 20:24:05 -0500] EricL: You mean add a template to pin that?
[2013-12-27 20:24:47 -0500] coderanger: Sure, thats how I would do it
[2013-12-27 20:24:48 -0500] tscanausa: EricL you can specify version of a package to install
[2013-12-27 20:25:14 -0500] EricL: I would prefer to avoid pinning because I want to be able to have the user set the version in the attributes.
[2013-12-27 20:26:10 -0500] coderanger: And just installing foo-full==3.0.1 specifically doesn't work because it doesn't set the required deps on its sub-packages?
[2013-12-27 20:26:40 -0500] EricL: Correct.
[2013-12-27 20:26:53 -0500] tscanausa: EricL: I dislike had packagers that do that
[2013-12-27 20:26:54 -0500] coderanger: And fixing the package isn't an option I'm guessing
[2013-12-27 20:26:57 -0500] EricL: Specifically I get this: https://support.datastax.com/entries/24743933-Installing-an-older-version-of-DSE
[2013-12-27 20:27:03 -0500] EricL: Not up to me.
[2013-12-27 20:27:22 -0500] coderanger: %w{foo-one foo-two etc}.each do |pkg| package pkg do version node['foo']['version'] end
[2013-12-27 20:27:25 -0500] coderanger: or something like that
[2013-12-27 20:27:42 -0500] tscanausa: EricL: ya that seems really easy actually
[2013-12-27 20:28:15 -0500] tscanausa: exactly how coderanger said above would work
[2013-12-27 20:30:57 -0500] EricL: That's what I usually do when installing groups of packages.  BUt it attempts to do the newer deps.
[2013-12-27 20:31:18 -0500] coderanger: EricL: You need to make sure you do them in topological order
[2013-12-27 20:31:24 -0500] coderanger: This is why pinning is a better solution
[2013-12-27 20:31:41 -0500] EricL: I guess I could create the pin file out of a template.
[2013-12-27 20:35:50 -0500] EricL: Haven't dealt with pinning in years.  Off to Google how ot pin an indiviaul package.
[2013-12-27 20:36:31 -0500] gleam: the apt cookbook has a resource for it
[2013-12-27 20:36:45 -0500] gleam: well, for a preference
[2013-12-27 20:36:49 -0500] gleam: but you can use apt_preference to pin
[2013-12-27 20:36:58 -0500] EricL: Even for a few individual packages?
[2013-12-27 20:37:02 -0500] gleam: http://docs.opscode.com/lwrp_apt.html has an example
[2013-12-27 20:56:47 -0500] AntelopeSalad: is it standard to have only a single apt-get upgrade recipe run first right as a node is provisioned or is it better to run it all the time before installing any package?
[2013-12-27 20:59:21 -0500] coderanger: AntelopeSalad: Its pretty normal to just do it at the start
[2013-12-27 21:00:05 -0500] AntelopeSalad: coderanger: ok, thanks
[2013-12-27 21:00:06 -0500] tscanausa: AntelopeSalad: depending on how you have the apt recipe setup it will only "upgrade" once a day
[2013-12-27 21:00:48 -0500] AntelopeSalad: i didn't know it ran by itself
[2013-12-27 21:01:47 -0500] tscanausa: if you have apt::default in the run list it will run by its self
[2013-12-27 21:01:56 -0500] coderanger: Yeah, its a community cookbook, 'apt'
[2013-12-27 21:02:12 -0500] AntelopeSalad: some comments made it seem like the community apt book was bad
[2013-12-27 21:02:39 -0500] AntelopeSalad: i was going to make a simple apt-get cookbook as provided by the opscode webinar
[2013-12-27 21:04:04 -0500] tscanausa: is it true that the apt cookbook is bad?
[2013-12-27 21:04:21 -0500] AntelopeSalad: i'm not sure, the most recent comment scared me off from using it
[2013-12-27 21:04:36 -0500] tscanausa: AntelopeSalad: which comment?
[2013-12-27 21:04:54 -0500] coderanger: I use it every day, never had issues
[2013-12-27 21:05:13 -0500] AntelopeSalad: the one at the bottom of the comment list on the apt community page
[2013-12-27 21:05:15 -0500] coderanger: (okay, thats not true, it does have issues with compile time shenanigans at times)
[2013-12-27 21:05:38 -0500] phutchins: hi
[2013-12-27 21:06:14 -0500] phutchins: Has anyone else experienced hashes that are stored in a node object being returned in random order?
[2013-12-27 21:06:34 -0500] coderanger: AntelopeSalad: Protip: When one person says "this doesn't work" and the two options are "they did something wrong" or "a large number of people didn't notice it being broken", bet on the former
[2013-12-27 21:06:52 -0500] coderanger: phutchins: Are you using omnibus installers?
[2013-12-27 21:07:16 -0500] AntelopeSalad: yeah i would agree with that
[2013-12-27 21:07:26 -0500] coderanger: phutchins: It should be unpredictable but stable unless you change the data
[2013-12-27 21:07:55 -0500] phutchins: coderanger: its chef-solo on aws... And ok.
[2013-12-27 21:08:18 -0500] phutchins: coderanger: I'm using a hash in a node object with a .each to populate a template
[2013-12-27 21:08:22 -0500] coderanger: phutchins: You mean opsworks or something you are doing yourself?
[2013-12-27 21:08:24 -0500] phutchins: and the tempalte changes every time
[2013-12-27 21:08:33 -0500] AntelopeSalad: coderanger: i guess you mainly use it for easily being able to add in your own app repositories?
[2013-12-27 21:08:34 -0500] phutchins: well, the order of attributes changes every time :)
[2013-12-27 21:08:46 -0500] coderanger: AntelopeSalad: No, just to update the apt cache generally
[2013-12-27 21:08:57 -0500] phutchins: coderanger: ospworks... Its my custom recipes tho. Just opsworks chef-solo setup
[2013-12-27 21:09:17 -0500] AntelopeSalad: so you have rolled your own cookbooks for adding various third party repos?
[2013-12-27 21:09:18 -0500] phutchins: Figured i'd jsut do a Hash[h.sort] or something
[2013-12-27 21:09:23 -0500] coderanger: phutchins: I have no idea what version of Ruby opsworks uses, Ruby 1.9+ is order-preserving for hashes
[2013-12-27 21:09:23 -0500] AntelopeSalad: for instance, nginx, postgres, redis, etc.
[2013-12-27 21:09:27 -0500] coderanger: phutchins: 1.8 was randomized
[2013-12-27 21:09:36 -0500] phutchins: coderanger: 1.8... sadly
[2013-12-27 21:09:44 -0500] phutchins: coderanger: so that makes sense.
[2013-12-27 21:09:46 -0500] coderanger: AntelopeSalad: No, I use the apt cookbook for that when it comes up, just doesn't happen that often
[2013-12-27 21:09:49 -0500] coderanger: phutchins: Lame
[2013-12-27 21:09:56 -0500] AntelopeSalad: ok
[2013-12-27 21:09:57 -0500] coderanger: phutchins: I was asking about omnibus because those ship 1.9.3
[2013-12-27 21:10:02 -0500] phutchins: coderanger: agreed :). Wish they would use chef zero :)
[2013-12-27 21:10:05 -0500] phutchins: coderanger: ah gotcha.
[2013-12-27 21:10:06 -0500] AntelopeSalad: so long story short, use the apt cookbook
[2013-12-27 21:10:08 -0500] AntelopeSalad: :D
[2013-12-27 21:10:16 -0500] coderanger: AntelopeSalad: Basically, and if it is broken, fix it
[2013-12-27 21:10:27 -0500] phutchins: coderanger: our code on the box runs on 2.0 :). but their chef runs on 1.8.7
[2013-12-27 21:10:40 -0500] coderanger: phutchins: Yet more reasons to not use opsworks :)
[2013-12-27 21:10:51 -0500] phutchins: coderanger: yeh. wasn't my choice ;)
[2013-12-27 21:10:54 -0500] coderanger: phutchins: Easy enough to throw in some #sort calls though
[2013-12-27 21:11:21 -0500] coderanger: I keep hearing that today, apparently either I work in places that listen to me, or I'm just a loud enough asshole that people stop arguing with me about using bad tech :P
[2013-12-27 21:11:59 -0500] phutchins: i thought i'd just do soemthing like my_hash = { "bleh" => "val1", "bleh2" => "val2" } and new_hash = Hash[my_hash.sort]
[2013-12-27 21:12:18 -0500] phutchins: coderanger: haha, i'd JUST been hired so i didnt' speak up too loudly :)
[2013-12-27 21:12:20 -0500] tscanausa: coderanger: latter but I agree with you
[2013-12-27 21:12:26 -0500] coderanger: phutchins: No, that will still be random
[2013-12-27 21:12:57 -0500] coderanger: phutchins: my_hash.sort.each
[2013-12-27 21:14:22 -0500] phutchins: coderanger: ah ok cool i'll give that a shot
[2013-12-27 21:26:21 -0500] EricL: It appears pinning doesn't work.  I am still getting an error that files to be installed later in the package install path need to be installed.
[2013-12-27 21:26:36 -0500] EricL: But it works when I put all of the packages on the same line.
[2013-12-27 21:30:37 -0500] coderanger: EricL: Once pinned, just install the full pkg
[2013-12-27 21:31:20 -0500] EricL: That's what I am trying to do.  I am getting an error of saying the sub-packages are not supposed to be installed.
[2013-12-27 21:32:27 -0500] coderanger: Can you pastebin the recipe and output?
[2013-12-27 21:33:15 -0500] EricL: If the next thing I try doesn't work, I will paste the stuff I have now.  I want to see what happens if I force each sub-packages sub-package version.
[2013-12-27 21:33:21 -0500] EricL: (which is what I think is failing now)
[2013-12-27 21:35:08 -0500] tscanausa: is partial search stable?
[2013-12-27 21:35:51 -0500] coderanger: tscanausa: As stable as normal search
[2013-12-27 21:36:22 -0500] phutchins: coderanger: that ended up working perfectly, thanks for your help once again :)
[2013-12-27 21:36:25 -0500] tscanausa: coderanger: so good or bad? this is my first time working with it
[2013-12-27 21:37:12 -0500] coderanger: tscanausa: It should come back sorted by the "chef ID" of the object, so in theory it should be
[2013-12-27 21:37:41 -0500] coderanger: But if new nodes are spinning up it can throw things off
[2013-12-27 21:37:50 -0500] coderanger: so in practice, be careful
[2013-12-27 21:38:16 -0500] tscanausa: Everyhting is stable on the server, first time using it and it threw a 400 error and I have no idea why
[2013-12-27 21:40:00 -0500] coderanger: tscanausa: Whats the body of the error say?
[2013-12-27 21:42:50 -0500] tscanausa: debugging was not that high running again
[2013-12-27 21:44:37 -0500] tscanausa: Nothing I can see, it still didnt show up in the output
[2013-12-27 21:45:18 -0500] EricL: coderanger: Here is the pastie, I'm stumped: http://pastie.org/8581121
[2013-12-27 21:47:32 -0500] tscanausa: EricL I think you need to reverse the order or your packages
[2013-12-27 21:47:42 -0500] coderanger: EricL: What happens if you run "apt-cache policy dse" on the server
[2013-12-27 21:47:49 -0500] coderanger: That should dump the policy info
[2013-12-27 21:48:31 -0500] EricL: coderanger:  With policy output: http://pastie.org/8581125
[2013-12-27 21:48:41 -0500] EricL: tscanausa: What do you mean by reverse the order?
[2013-12-27 21:49:11 -0500] tscanausa: install des-demos dse-pig dse-hive then dse-full
[2013-12-27 21:49:43 -0500] tscanausa: right now you are trying to install dse-full before dse-pig and dse-hive are installed
[2013-12-27 21:50:21 -0500] coderanger: tscanausa: Should be installing those as deps though
[2013-12-27 21:50:37 -0500] EricL: Hashes are un-ordered so I think the install order isn't guaranteed.  Either way, why aren't they dependencies being resolved?
[2013-12-27 21:50:43 -0500] EricL: YEa, what coderanger said.
[2013-12-27 21:51:16 -0500] tscanausa: coderanger: the package is broken and does not work like it should.
[2013-12-27 21:51:48 -0500] EricL: tscanausa: But it works if I specify everything on the command line like this link says: https://support.datastax.com/entries/24743933-Installing-an-older-version-of-DSE
[2013-12-27 21:52:14 -0500] tscanausa: which is why the one liner works, because the package is broken and so you need to specify each one so apt knows how to resolve it
[2013-12-27 21:52:49 -0500] coderanger: tscanausa: No, thats a hack to deal with installing an old verison
[2013-12-27 21:53:21 -0500] coderanger: EricL: Does apt-cache policy show the right candidate version for dse and other subs?
[2013-12-27 21:53:58 -0500] EricL: coderanger: It shows package-pin  as the correct version, yes.
[2013-12-27 21:54:23 -0500] coderanger: EricL: What about candidate version
[2013-12-27 21:54:34 -0500] coderanger: EricL: Thats the one that apt thinks it should be installing
[2013-12-27 21:54:40 -0500] EricL: The candidate version is also corect everywhere.
[2013-12-27 21:55:54 -0500] coderanger: EricL: For shits and giggles
[2013-12-27 21:56:04 -0500] coderanger: apt-get clean && apt-get update
[2013-12-27 21:56:36 -0500] EricL: Nope.  Same issue.
[2013-12-27 21:56:53 -0500] coderanger: okay, so at least it isn't a stale state issue
[2013-12-27 21:57:10 -0500] coderanger: Hmm, what if you add -f to the CLI options on the install?
[2013-12-27 21:57:41 -0500] EricL: Nope, same error
[2013-12-27 21:58:30 -0500] coderanger: I think thats about all the apt debugging magic I know :-(
[2013-12-27 21:58:47 -0500] EricL: So I guess I just need to hack up the command line to do it.
[2013-12-27 21:58:54 -0500] coderanger: :-(
[2013-12-27 21:59:00 -0500] EricL: And then run a system command with everything.
[2013-12-27 22:13:52 -0500] mosez: hum.... the resource zypper_package should be accessable, right?
[2013-12-27 22:14:14 -0500] mosez: damn, short name package -.-
[2013-12-27 22:23:08 -0500] yuri1: hey all, what is the best way to get the mcrypt php package installed using chef?
[2013-12-27 22:23:31 -0500] yuri1: all the instructions on google seem dated
[2013-12-27 22:26:19 -0500] coderanger: yuri1: How would you do it by hand?
[2013-12-27 22:27:30 -0500] yuri1: good question, probably download it from rpm: http://rpmfind.net/linux/rpm2html/search.php?query=mcrypt&submit=Search+...
[2013-12-27 22:29:18 -0500] yuri1: here's the sourceforge download site: http://sourceforge.net/projects/mcrypt/
[2013-12-27 22:31:06 -0500] yuri1: it looks like there were some tickets to get it into the php cookbook
[2013-12-27 22:31:08 -0500] yuri1: https://tickets.opscode.com/browse/COOK-425
[2013-12-27 22:31:12 -0500] yuri1: but it looks pretty old
[2013-12-27 22:34:44 -0500] EricL: coderanger: I finally figured it out.
[2013-12-27 22:35:08 -0500] coderanger: yuri1: Just use the package resource then?
[2013-12-27 22:35:14 -0500] coderanger: EricL: What was it?
[2013-12-27 22:35:21 -0500] EricL: While attempting to hack the command line version together, I kept finding other sub-packages that weren't listed.  The dep resolution handled itself when everything was on the same line
[2013-12-27 22:35:39 -0500] EricL: But because packages were being installed separately, I had to get all sub packages of all the sub-packages.
[2013-12-27 22:36:00 -0500] EricL: Which in total amounted to about 7 more packages that I had missed.
[2013-12-27 22:36:15 -0500] EricL: (that I didn't know I Was missing until I attempted to hack together the CLI comamnd)
[2013-12-27 22:36:43 -0500] coderanger: Ahh
[2013-12-27 22:36:53 -0500] coderanger: So now the pinning works with all of them in place?
[2013-12-27 22:37:19 -0500] EricL: This would have been an easier problem to get to the bottom of if Chef showed the error.  But yes, the pinning was still the key.
[2013-12-27 22:37:36 -0500] yuri1: coderanger: I tried that but neither php-mcrypt nor php5-mcrypt exists as a package for some reason
[2013-12-27 22:37:58 -0500] coderanger: EricL: \o/
[2013-12-27 22:38:12 -0500] EricL: That wasn't meant ot be a troll. :)
[2013-12-27 22:38:26 -0500] coderanger: yuri1: You can give rpm a URL to install from
[2013-12-27 22:38:40 -0500] EricL: I was just saying that chef, when it errors from dep issue just shows the apt line that failed, it doesn't show the error message.
[2013-12-27 22:38:57 -0500] yuri1: coderanger: ah I see, I'll try that
[2013-12-27 22:38:58 -0500] yuri1: thanks
[2013-12-27 23:04:28 -0500] coderanger: Sigh, why does it not just do the string->res lookup when the notification fires, instead of at a fixed point?
[2013-12-27 23:04:42 -0500] yuri1: coderanger: what is the right way to do an rpm install from url using chef?
[2013-12-27 23:05:09 -0500] coderanger: yuri1: execute 'rpm install http://whatever'?
[2013-12-27 23:05:16 -0500] coderanger: Or is that rpm -i
[2013-12-27 23:05:19 -0500] coderanger: its been a while
[2013-12-27 23:05:28 -0500] yuri1: oh, I see, so I shouldn't use the rpm package resource
[2013-12-27 23:05:39 -0500] yuri1: I thought there was a more cheffy way to do this
[2013-12-27 23:06:10 -0500] yuri1: thanks
[2013-12-27 23:07:17 -0500] coderanger: yuri1: I mean the Chef-y way requires you to have some level of idempotent system, like a yum repo
[2013-12-27 23:07:34 -0500] coderanger: yuri1: So make a yum repo, add it via the yum cookbook, and then just use a package resource :D
[2013-12-27 23:07:53 -0500] yuri1: ah, that would be nicer :)
[2013-12-27 23:07:58 -0500] yuri1: thanks coderanger
[2013-12-27 23:10:20 -0500] coderanger: yuri1: You could also use a remote_file resource and the rpm_package resource
[2013-12-27 23:10:23 -0500] coderanger: Lots of options :)
[2013-12-27 23:22:09 -0500] ickymettle: howdy chef's
[2013-12-27 23:24:56 -0500] ickymettle: can anyone help unconfuuse me on dependencies and chef-solo?
[2013-12-27 23:25:50 -0500] coderanger: Possibly
[2013-12-27 23:27:41 -0500] ickymettle: first up  just to carlify a (potentially) incorrect assumption if  recipe declares a "depends" in metadata.rb does that get inserted into the run_list?
[2013-12-27 23:30:11 -0500] ickymettle: nm
[2013-12-27 23:30:14 -0500] ickymettle: looks like it does
[2013-12-27 23:31:35 -0500] ickymettle: ok so I think my issue is more berkshelf related
[2013-12-27 23:34:35 -0500] coderanger: No
[2013-12-27 23:34:50 -0500] coderanger: setting a dependency has no effect on the run list
[2013-12-27 23:44:39 -0500] jvoorhis: hello
[2013-12-27 23:45:21 -0500] jvoorhis: anyone here using chef to manage pacemaker?
[2013-12-27 23:47:54 -0500] coderanger: Huh, TIL That CookbookLoader will load everything in the folder, not just things actually being used for the run
[2013-12-27 23:56:24 -0500] shoran: hey, is it possible to reuse the node name when bootstrapping with hosted chef?  "Your validation client is not authorized to create the client for this node" when I am able to choose a different node name.
[2013-12-27 23:56:43 -0500] coderanger: shoran: You have to delete the old node object and client first
[2013-12-27 23:57:06 -0500] shoran: oh wow
[2013-12-27 23:58:05 -0500] shoran: thanks @coderanger!
[2013-12-27 23:59:24 -0500] flaccid_: is there a way to get a list of the directories/files that the omnibus install blob installs?
[2013-12-27 23:59:45 -0500] coderanger: flaccid_: Sure, any packaging tool you want has a query mode
