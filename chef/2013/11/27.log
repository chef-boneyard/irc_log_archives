[2013-11-27 01:02:30 -0500] dysinger: hola.  is there a test-kitchen chan on freenode?
[2013-11-27 01:02:32 -0500] dysinger: dont see one
[2013-11-27 01:03:07 -0500] dysinger: anyway - has anyone tried berkshelf 2.0.10 && chef-zero (via chef 11.8.0) && test-kitchen(HEAD@master)?
[2013-11-27 01:03:11 -0500] dysinger: I can't get it to work.
[2013-11-27 01:03:11 -0500] jmickle: hmm anyone have problems where chef-client is not picking up changes to a hash in a role?
[2013-11-27 01:04:12 -0500] dysinger: did you upload the new role?
[2013-11-27 01:04:15 -0500] jmickle: yep
[2013-11-27 01:04:25 -0500] dysinger: hmm
[2013-11-27 01:04:45 -0500] spheromak: dysinger: hit up the heavywater chan possibly
[2013-11-27 01:04:55 -0500] dysinger: k
[2013-11-27 01:05:07 -0500] jmickle: and a knife role show is correct
[2013-11-27 01:05:23 -0500] jmickle: seems that the client though isn't picking up the changes to the redis['servers'] hash
[2013-11-27 01:07:22 -0500] theskyisdrunk: Anyone here have experience with rackspace cloud servers and knife?
[2013-11-27 01:07:29 -0500] sdicu: is considered legal to have a depends into metadata.rb for a cookbook in the format depends "cookbook",  "~> 0.1" instead of  "~> 0.1.1" ?
[2013-11-27 01:08:46 -0500] theskyisdrunk: DEBUG: Adding 192-237-253-8.static.cloud-ips.com
[2013-11-27 01:08:46 -0500] theskyisdrunk: DEBUG: establishing connection to 192-237-253-8.static.cloud-ips.com:22
[2013-11-27 01:08:47 -0500] theskyisdrunk: WARNING: Failed to connect to  -- SocketError: getaddrinfo: Name or service not known
[2013-11-27 01:09:15 -0500] theskyisdrunk: If you've seen this and solved it or have an idea pleeeeease let me know. kthx :)
[2013-11-27 01:11:30 -0500] jmickle: yeah something is wrong with chef-client
[2013-11-27 01:11:35 -0500] jmickle: its not picking up the changes to the role
[2013-11-27 01:14:43 -0500] theskyisdrunk: jmickle: that wasnt directed at me right?
[2013-11-27 01:14:56 -0500] jmickle: no
[2013-11-27 01:51:17 -0500] supercom32: When using the resource 'execute', is there a way to tell it to ignore errors if they occur?
[2013-11-27 01:52:31 -0500] cwj: the returns parameter allows you to specify allowable return codes
[2013-11-27 01:52:46 -0500] cwj: i have used returns [0,1] before to ignore errors
[2013-11-27 01:53:31 -0500] supercom32: what if your execution returns any non-zero number as an error code? How do you do wildcards like that? or must you make an entery for each item?
[2013-11-27 01:53:47 -0500] TravelingSultan: Hey all. Quick question. I just wrote my first LWRP and it appears syntactically correct but it never actually runs because it appears to always be considered "up to date". I vaguely remember something from chef fundamentals around this, anyone know how I am being dumb?
[2013-11-27 01:54:08 -0500] broconne: how do you know its considred up to date?
[2013-11-27 01:54:30 -0500] TravelingSultan: 1. the log says "(up to date)" 2. The change I would expect it to make never happens
[2013-11-27 01:54:47 -0500] broconne: what does your LWRP do?
[2013-11-27 01:55:14 -0500] TravelingSultan: Essentially all each action does is run some powershell to much with windows firewall rules in windows 2012
[2013-11-27 01:56:17 -0500] broconne: did you write code in your LWRP to check if things were up to date? to check if the rules were already in place?
[2013-11-27 01:56:21 -0500] cwj: supercom32: i am not familiar with the innerworkings of the execute provider, but its documented here http://docs.opscode.com/chef/resources.html#execute
[2013-11-27 01:56:38 -0500] cwj: supercom32: the returns parameter is the one which looks most relevant
[2013-11-27 01:57:07 -0500] cwj: TravelingSultan: probably helpful if you can gist your code
[2013-11-27 01:57:30 -0500] TravelingSultan: Ok give me a sec
[2013-11-27 01:58:57 -0500] regork: Hi everyone. A question about doing something like 'service network restart' upon VM resumption. Does the following service resource look OK?
[2013-11-27 01:59:03 -0500] regork: service "networking" do   supports :resume => true, :reload => true   action :enable end
[2013-11-27 02:01:05 -0500] TravelingSultan: sorry took me a minute
[2013-11-27 02:01:08 -0500] TravelingSultan: here you go: https://gist.github.com/TheSultan/7669558
[2013-11-27 02:01:23 -0500] TravelingSultan: replace _ with / in my file names and you'll get the structure
[2013-11-27 02:01:51 -0500] TravelingSultan: although it is fairly self explanatory
[2013-11-27 02:02:47 -0500] TravelingSultan: @cwj, let me know if that makes things clearer and/or you have questions / need me to add other pieces that may be relevant
[2013-11-27 02:06:31 -0500] juliancdunn: TravelingSultan: and what does your invocation look like? how are you calling it from recipe code?
[2013-11-27 02:07:40 -0500] TravelingSultan: @juliancdunn, yes its from a recipe. I added that to the gist. Thanks for the fundamentals class btw :-)
[2013-11-27 02:09:57 -0500] juliancdunn: np... where did I teach you? :-)
[2013-11-27 02:10:06 -0500] TravelingSultan: Philly IIRC
[2013-11-27 02:10:11 -0500] juliancdunn: the LWRP looks ok, but I wonder if it might be conflicting with the "windows" cookbook
[2013-11-27 02:10:28 -0500] juliancdunn: because it's "default.rb"
[2013-11-27 02:10:53 -0500] juliancdunn: what if you made the provider/resource "rule.rb" and put it in a cookbook called "windows_firewall", just to rule that out
[2013-11-27 02:11:05 -0500] TravelingSultan: hmmm... well the cookbook name is windows_firewall_rule and the resource name becomes windows_firewall_name AFAICT based off the usage (i.e. it didn't compile until I uploaded mine)
[2013-11-27 02:11:47 -0500] TravelingSultan: ok, and I'd have to change the calling code to windows_firewall::rule then?
[2013-11-27 02:12:08 -0500] juliancdunn: no, it'd still be windows_firewall_rule
[2013-11-27 02:12:21 -0500] juliancdunn: the name of the LWRP == $cookbook + "_" + $lwrp_name
[2013-11-27 02:12:34 -0500] TravelingSultan: ok, that's easy enough. Give me 2 minutes
[2013-11-27 02:12:39 -0500] juliancdunn: actually before you change that, do you have use_inline_resources anywhere?
[2013-11-27 02:12:43 -0500] juliancdunn: like at the top of the provider?
[2013-11-27 02:12:57 -0500] TravelingSultan: nope, the provider is just more methods like that (pretty much identical)
[2013-11-27 02:13:02 -0500] TravelingSultan: let me grep to be sure
[2013-11-27 02:13:29 -0500] juliancdunn: he had all sort of idempotency checks too, it was sweet
[2013-11-27 02:13:39 -0500] juliancdunn: er, load_current_resource stuff
[2013-11-27 02:14:06 -0500] TravelingSultan: Ok verified, no instances of use_inline_resources anywhere
[2013-11-27 02:14:20 -0500] TravelingSultan: want me to try the rename (I suspect that is a long shot given the compilation failure I mentioned earlier)
[2013-11-27 02:14:24 -0500] regork: @juliancdunn, I was at your Antipatterns talk. Any suggestions for restarting networking service? I'm thinking of a networking service resource that responds to a VM resume event.
[2013-11-27 02:14:32 -0500] juliancdunn: try to stick use_inline_resources at the top of the provider TravelingSultan
[2013-11-27 02:15:10 -0500] juliancdunn: regork: I wouldn't do it the way you described
[2013-11-27 02:15:19 -0500] juliancdunn: when your hypervisor resumes, it doesn't fix networking?
[2013-11-27 02:16:32 -0500] regork: unfortunately if the DHCP lease (week), the VM tries to reuse its old IP which has been assigned to something else
[2013-11-27 02:16:50 -0500] regork: "lease has expired" that is
[2013-11-27 02:17:11 -0500] regork: we can either reboot it or just restart networking stack
[2013-11-27 02:17:29 -0500] regork: latter is obviously preferable
[2013-11-27 02:18:27 -0500] juliancdunn: surprised that dhclient wouldn't just figure that out
[2013-11-27 02:19:59 -0500] regork: From what I was given to understand it gives up after a few attempts at contacting DHCP server
[2013-11-27 02:20:24 -0500] TravelingSultan: @juliancdunn, did not appear to work. I did notice something weird. I always verify that my change "uploaded" because of the metadata nonsense but the local cache on this server contains nothing inside the windows_firewall_rule cookbook
[2013-11-27 02:20:32 -0500] TravelingSultan: except empty directorys
[2013-11-27 02:20:43 -0500] juliancdunn: TravelingSultan: hmm, that's weird -- that must be the problem
[2013-11-27 02:20:48 -0500] TravelingSultan: which is very odd since I see in the log things that could only have come from thep rovider
[2013-11-27 02:20:52 -0500] TravelingSultan: ???
[2013-11-27 02:21:03 -0500] juliancdunn: regork: yeah, I'm not sure I would solve this in Chef
[2013-11-27 02:21:17 -0500] juliancdunn: hard to write an idempotency guard to figure out if the interface should be reloaded
[2013-11-27 02:22:49 -0500] juliancdunn: anyway, must dinner
[2013-11-27 02:22:50 -0500] juliancdunn: :)
[2013-11-27 02:23:35 -0500] TravelingSultan: @juliancdunn, a man's got to eat. I guess I'll keep poking around
[2013-11-27 02:23:44 -0500] TravelingSultan: unless someone else has any suggestions (hint hint @cwj)
[2013-11-27 02:56:04 -0500] _________: hey, is there a resource for managing iptables with chef?
[2013-11-27 03:31:40 -0500] TravelingSultan: any opscode guys around? I've continued to bang my head against the previous LWRP question: I just wrote my first LWRP and it appears syntactically correct but it never actually runs because it appears to always be considered "up to date". Gist: https://gist.github.com/TheSultan/7669558
[2013-11-27 04:12:13 -0500] jameson__: that doesn't seem possible given that recipe
[2013-11-27 04:12:16 -0500] jameson__: it should always run
[2013-11-27 06:12:34 -0500] ignatz: DrMeta: there is an iptables cookbook
[2013-11-27 06:48:34 -0500] rajdeep: hi
[2013-11-27 06:48:54 -0500] rajdeep: i am getting this error when i am tring to do knife node show <node-name>
[2013-11-27 06:49:10 -0500] rajdeep: Failed to authenticate. Please synchronize the clock on your client
[2013-11-27 06:49:36 -0500] rajdeep: any clues what cud be the issue?
[2013-11-27 07:12:57 -0500] ignatz: have you checked the time on the machine, and that you have an NTP client that's running and sync'd?
[2013-11-27 08:39:24 -0500] halorgium: it looks like upstart server and restart is still broken! https://tickets.opscode.com/browse/CHEF-1424
[2013-11-27 09:01:13 -0500] thekev: upstart has its quirks... that's >3y old
[2013-11-27 09:01:45 -0500] thekev: ahem, >2y
[2013-11-27 09:06:26 -0500] thekev: remember, it's event-driven, and a (properly designed) process will be determined running if the child process tree is tracked as declared http://upstart.ubuntu.com/cookbook/#id161
[2013-11-27 09:06:52 -0500] thekev: better link: http://upstart.ubuntu.com/cookbook/#expect-fork
[2013-11-27 09:07:32 -0500] thekev: best link: http://upstart.ubuntu.com/cookbook/#expect
[2013-11-27 09:08:19 -0500] nacer: morning
[2013-11-27 09:18:43 -0500] thekev: greetings
[2013-11-27 09:36:20 -0500] ocholetras: hi!
[2013-11-27 09:41:29 -0500] thekev: GMT-7, convince me to stay awake. :)
[2013-11-27 09:43:11 -0500] ocholetras: haha
[2013-11-27 09:43:21 -0500] ocholetras: GMT here XD
[2013-11-27 09:43:24 -0500] ocholetras: go bed man xD
[2013-11-27 09:48:59 -0500] thekev: what is this... bed... is that where sleep happens?
[2013-11-27 10:04:14 -0500] divad: GMT+1 here, definitely go to bed
[2013-11-27 10:04:17 -0500] divad: XD
[2013-11-27 10:06:34 -0500] laurent\: time to go to bed at 11m ? :)
[2013-11-27 10:06:41 -0500] laurent\: 11am
[2013-11-27 10:06:51 -0500] thekev: 03:06 here
[2013-11-27 10:07:30 -0500] thekev: shit coincidentally happened when I cracked a la fin du monde, and my world tried to end
[2013-11-27 10:08:08 -0500] thekev: it's alive now, but ... sleep is not at the forefront. :)
[2013-11-27 10:08:09 -0500] divad: laurent\: I was referring to the GMT-7 person there ;-)
[2013-11-27 10:08:33 -0500] thekev: <- yes GMT-7 here
[2013-11-27 10:08:35 -0500] workmad3: laurent\: 11am sounds too early to be awake to me :)
[2013-11-27 10:09:59 -0500] laurent\: divad: oh ok my bad :)
[2013-11-27 10:13:29 -0500] divad: :)
[2013-11-27 12:34:32 -0500] joelmoss: hi all
[2013-11-27 12:34:40 -0500] joelmoss: need a hand with something please?
[2013-11-27 12:34:43 -0500] joelmoss: I'm using https://github.com/opscode-cookbooks/aws
[2013-11-27 12:34:59 -0500] joelmoss: and the `ebs_raid` resource
[2013-11-27 12:35:07 -0500] joelmoss: but when using it, I get Chef com[laining
[2013-11-27 12:35:12 -0500] joelmoss: Cannot find a resource for ebs_raid on ubuntu version 12.0
[2013-11-27 12:35:40 -0500] joelmoss: I've included the was recipe
[2013-11-27 12:36:17 -0500] joelmoss: https://gist.github.com/joelmoss/7674958
[2013-11-27 12:36:19 -0500] gregkare: Are you using the resource from your own cookbook? Did you add the dependency in your metadata.rb?
[2013-11-27 12:36:34 -0500] joelmoss: no, the resource is from the was cookbook
[2013-11-27 12:36:42 -0500] joelmoss: and yes I added the dependency in metadata
[2013-11-27 12:36:48 -0500] joelmoss: depends 'aws'
[2013-11-27 12:37:17 -0500] joelmoss: is it because it is onside a search block?
[2013-11-27 12:44:52 -0500] workmad3: joelmoss: the resource is 'aws_ebs_raid'
[2013-11-27 12:45:03 -0500] joelmoss: yeah, just figured to out now
[2013-11-27 12:45:04 -0500] joelmoss: ;)
[2013-11-27 12:45:05 -0500] joelmoss: thx
[2013-11-27 12:45:25 -0500] gregkare: Oops I should have figured that one out too, sorry! :)
[2013-11-27 12:46:59 -0500] joelmoss: np
[2013-11-27 12:47:12 -0500] joelmoss: thx guys
[2013-11-27 12:47:25 -0500] davsharyan33: Hey ppl. Is there a way to install chef_gem package manually ? copying files to /opt/chef/embedded/lib/ruby/gems/1.9.1/gems didn't help
[2013-11-27 14:13:08 -0500] ptrf: hmm, I have a weird problem here
[2013-11-27 14:13:30 -0500] ptrf: so I'm using the nginx cookbook, but I need to use my own nginx.conf.erb template
[2013-11-27 14:13:38 -0500] raducmr: Does anyone know if non-ASCII chars (i.e. JP chars) can be used in cookbook/recipe names?
[2013-11-27 14:14:40 -0500] ptrf: As the template['nginx.conf'] resource has a "notifies", I unwind that in my wrapper cookbook and add a template resource
[2013-11-27 14:15:30 -0500] cpuguy83: raducmr: only one way to find out.
[2013-11-27 14:16:17 -0500] ptrf: raducmr: I think any restrictions on charsets lies in Ruby, not chef.
[2013-11-27 14:16:41 -0500] ptrf: raducmr: also, UTF-8 support is widely improved in Ruby 2.0, but Ruby is original japanese, so go figure :)
[2013-11-27 14:17:18 -0500] ptrf: I don't know why you would use non-ASCII names though. If I were you, I would make it absolutely clear to myself why I need this
[2013-11-27 14:17:29 -0500] raducmr: could be, as I've used chef-solo and it worked just fine. I had problems once I tried to upload the cb to chef server (complaining about invalid URI)
[2013-11-27 14:17:46 -0500] ptrf: for starters, you cant just copy paste your code to a gist, if something goes wrong, because how are people going to decipher it? :)
[2013-11-27 14:18:32 -0500] gregkare: ptrf: The situation with UTF-8 and Ruby was fucked up for the longest time because Japanese people don't use UTF-8 :)
[2013-11-27 14:18:36 -0500] ptrf: raducmr: ah yeah, you're probably restricted by the chef-server in that case. remember that it uploads using REST
[2013-11-27 14:18:36 -0500] raducmr: well I have to investigate if this is actually supported in chef, and I couldn't find any specific documentation on I18N/L10N
[2013-11-27 14:18:41 -0500] ptrf: gregkare: I know :(
[2013-11-27 14:22:26 -0500] ptrf: oh, back to my problem - I've got the following snippet in my nginx wrapper recipe and output in chef-client.log: https://gist.github.com/ptrf/20c73066713770ddbfc9
[2013-11-27 14:29:56 -0500] ptrf: so basically, I'm defining variables, which I'm using in my template, the template I supply myself, and it's as if it doesnt take effect
[2013-11-27 14:32:17 -0500] cpuguy83: ptrf: First thing, you should clean up the template.  There should be no logic in there.  You can pass variables into the template and do the logic in the recipe.
[2013-11-27 14:32:34 -0500] cpuguy83: ptrf: That will help a ton with any problems you have... also changing it later.
[2013-11-27 14:33:43 -0500] cpuguy83: If you must put logic in the template (and you generally shouldn't need to) don't inline the logic with the configuration itself.  Put it on a separate line so you can read it and store the value in a variable, call the variable inline with the configuration.
[2013-11-27 14:38:19 -0500] ptrf: cpuguy83: thank you. I'll definitely have to pass over it later in any case, as this template was nicked from the opscode nginx cookbook
[2013-11-27 14:38:39 -0500] cpuguy83: Ugh.
[2013-11-27 14:39:03 -0500] cpuguy83: So... really your problem is the template isn't being placed?
[2013-11-27 14:40:03 -0500] cpuguy83: Or your log_format isn't being set properly?
[2013-11-27 14:43:04 -0500] cpuguy83: For this line: <% if node['nginx']['access_log_formats'].length > 0 %>, you don't need to call length.  You can just  do "if node['nginx']['access_log_formats']", Ruby will check the truthiness of that, if it is set to false or nil the expression is false
[2013-11-27 14:48:23 -0500] gyre007: does anyone here use posgresql::ruby recipe ? This compile time run is killing me....how do you get make utilities installed before pg::ruby recipe is run ???
[2013-11-27 14:48:26 -0500] gyre007: arrrghhh
[2013-11-27 14:56:48 -0500] castro1688: Hey chef experts? Hopefully an easy question here.. I create a databag in a provider, but it fails to compile because other providers are looking for that data bag (Chef::EncryptedDataBagItem.load). Error is Chef::Exceptions::ValidationFailed - Data Bag Items must contain a Hash or Mash!
[2013-11-27 14:57:21 -0500] castro1688: oops.. shouldnt have been a question mark.. it fails on this line: data_bag_passwords = Chef::EncryptedDataBagItem.load(
[2013-11-27 15:00:38 -0500] ptrf: cpuguy83: yeah, classical error I see now...
[2013-11-27 15:01:24 -0500] ptrf: cpuguy83: it has to do with ordering of my statements I see that now... meh
[2013-11-27 15:04:20 -0500] ptrf: Insanity: doing the same thing over and over again and expecting different results.
[2013-11-27 15:09:48 -0500] cpuguy83: ptrf: Well, some of that is because chef often does this
[2013-11-27 15:16:09 -0500] ptrf: [2013-11-27T15:14:46+00:00] INFO: Processing template[nginx.conf-from-wrapper] action create (wrap::nginx line 52)  <- and it works
[2013-11-27 15:16:21 -0500] ptrf: dear lord
[2013-11-27 15:21:29 -0500] willejs: anyone having issues with the opscode nginx cookbook recompiling from source on every run
[2013-11-27 15:21:30 -0500] willejs: ?
[2013-11-27 15:24:52 -0500] gyre007: so I have following recipes with following runlists: https://gist.github.com/milosgajdos83/7677514
[2013-11-27 15:25:06 -0500] gyre007: I wonder HOW CAN I GET build-essential executed at the beginning
[2013-11-27 15:25:42 -0500] gyre007: looks like postgresql::ruby is executing at the compile time but how the heck am I supposed to have make utilities there before pg gem compiles ??
[2013-11-27 15:25:53 -0500] gyre007: this is totally beyound me
[2013-11-27 15:26:54 -0500] gregkare: gyre007: And easy workaround is to install build-essential during node bootstrap with a custom bootstrap script
[2013-11-27 15:27:00 -0500] gregkare: s/And/an/
[2013-11-27 15:27:16 -0500] fveillette: Why :change action on windows_task provider don't manage start_time start_day frequency update?
[2013-11-27 15:27:41 -0500] gyre007: gregkare: if you bootstraip with the full runlist as per my example you're screwed
[2013-11-27 15:27:49 -0500] willejs: gyre007: how about p = package 'build-essential'
[2013-11-27 15:28:02 -0500] willejs: p.action(:install)
[2013-11-27 15:28:11 -0500] willejs: will install it at compile time?
[2013-11-27 15:28:44 -0500] gyre007: willejs: yeah that could work...but this is totally crazy....like hacking around some recipe just because of some pg crap oh boy
[2013-11-27 15:29:17 -0500] willejs: gyre007: i had the same issue with xmllib2 for route53 cookbook recently
[2013-11-27 15:29:31 -0500] gyre007: willejs: I could come up with a few other ones...
[2013-11-27 15:29:32 -0500] willejs: that was understandable, but theres no other option.
[2013-11-27 15:29:33 -0500] gyre007: like...
[2013-11-27 15:29:39 -0500] gyre007: this is beyond me really :)
[2013-11-27 15:30:31 -0500] gyre007: you want to follow best practices but Chef simply doesn't allow you to....because...because Chef..
[2013-11-27 15:32:16 -0500] gregkare: Installing build-essential during bootstrap just works, I'd rather stay sane and do it that way :)
[2013-11-27 15:33:59 -0500] gyre007: as oppose to have it at the top of you run_list and CORRECTLY expecting that it would install all utilities for the rest of the run_list to run ? sure...
[2013-11-27 15:34:59 -0500] willejs: gyre007: on a side not, are you compiling nginx from source?
[2013-11-27 15:35:16 -0500] gyre007: willejs: nope
[2013-11-27 15:35:36 -0500] willejs: argh.
[2013-11-27 15:35:48 -0500] willejs: the nginx recipe has some fucked up not_if clause i don't quite get
[2013-11-27 15:35:59 -0500] gyre007: hah
[2013-11-27 15:36:25 -0500] willejs: https://github.com/opscode-cookbooks/nginx/blob/master/recipes/source.rb
[2013-11-27 15:36:46 -0500] willejs: compile_nginx_source resource
[2013-11-27 15:37:39 -0500] willejs: what is run_state?
[2013-11-27 15:37:54 -0500] willejs: i thought it was todo with recipes in the run list and is deprecated?
[2013-11-27 15:38:12 -0500] willejs: gyre007: any idea?
[2013-11-27 15:38:25 -0500] gyre007: willejs: not sure...im guessing all node attributes at that time of run ?
[2013-11-27 15:38:33 -0500] gyre007: might be worth to check the code ///
[2013-11-27 15:40:43 -0500] gyre007: jeeez just found out that build-essential has compiletime attribute I can set.... #win
[2013-11-27 15:40:54 -0500] willejs: haaa
[2013-11-27 15:41:31 -0500] gyre007: willejs: https://github.com/opscode-cookbooks/build-essential/blob/master/attributes/default.rb#L20
[2013-11-27 15:42:49 -0500] willejs: thats kinda cool
[2013-11-27 15:42:59 -0500] willejs: I'm gonna use that
[2013-11-27 15:44:59 -0500] Jaminda: gyre007: always check a cookbooks attributes :)
[2013-11-27 15:45:11 -0500] gyre007: Jaminda: hah! this was a hidden gem!
[2013-11-27 15:45:25 -0500] gyre007: ie. I normally do before I start bi**ing about...
[2013-11-27 15:45:50 -0500] Jaminda: hehehe, I think everyone has found some nice hidden gems in attributes at some stage :)
[2013-11-27 15:46:26 -0500] gyre007: yeah but this one was truly unexpected...
[2013-11-27 15:46:39 -0500] gyre007: but yeah I deserve a kick in the face :-D
[2013-11-27 15:47:10 -0500] Jaminda: I'm having trouble remembering why, but the compile time option is essential for some of my systems
[2013-11-27 15:52:00 -0500] fveillette: Why :change action on windows_task provider don't manage start_time start_day frequency update?
[2013-11-27 15:54:05 -0500] gyre007: anyone here uses database cookbook ? ie https://github.com/opscode-cookbooks/database
[2013-11-27 16:03:21 -0500] CPS: has anyone used chef-handler-mail? the documentation doesn't have much in the way of exampels https://rubygems.org/gems/chef-handler-mail/versions/0.1.2
[2013-11-27 16:04:06 -0500] ptrf: hmm, I would like to use: notifies :reload, 'service[nginx]' on a template resource
[2013-11-27 16:05:24 -0500] ptrf: problem is, I do it in a wrapper cookbook, so I get Exception class: Chef::Exceptions::ValidationFailed, exception message: Option action must be equal to one of: nothing, create, delete, touch, create_if_missing!  You passed :reload.
[2013-11-27 16:08:24 -0500] BryanWB: is there a helper library in chef or cookbook to convert between & compare digital units? i.e. MB -> GB, GB -> KB
[2013-11-27 16:08:39 -0500] BryanWB: i feel like i have partly implemented this several times
[2013-11-27 16:08:51 -0500] ptrf: what's your use case?
[2013-11-27 16:09:40 -0500] ptrf: BryanWB: can't you use chef_gem 'unit'?
[2013-11-27 16:09:42 -0500] ptrf: https://github.com/minad/unit
[2013-11-27 16:10:30 -0500] BryanWB: ptrf: tks! that is what i was looking for
[2013-11-27 16:10:53 -0500] ptrf: ;)
[2013-11-27 16:12:20 -0500] masterkorp: https://wiki.postgresql.org/wiki/Nov2013ReplicationIssue?utm_source=postgresweekly&utm_medium=email
[2013-11-27 16:12:28 -0500] masterkorp: fellow postgres users
[2013-11-27 16:21:06 -0500] cheflevelramen: Ohai Chefs. Running into a few issues with omnibus ruby, system ruby and rbenv ruby environments. Basically, I have a rbenv cookbook that sets up rbenv for the root user with Ruby 2.0.0, but I've run into issues where Chef doesn't find and use that ruby; it uses the omnibus installation it seems. So my question is, what is the proper way to change the ruby environment of a chef run?
[2013-11-27 16:24:09 -0500] BryanWB: inside a ruby block, i can access an LWRP w/ Chef::Resource::MY_LWRP.new('my lwrp') do { block stuff   }
[2013-11-27 16:24:18 -0500] BryanWB: how can i do the same for a definition?
[2013-11-27 16:25:11 -0500] mattray: Anyone using Thor::SCMVersion?
[2013-11-27 16:25:26 -0500] mattray: to auto-increment cookbook versions?
[2013-11-27 16:27:21 -0500] BryanWB: i can do run_context.definitions[:name_of_definition] but gosh that seems hacky
[2013-11-27 16:37:37 -0500] thom: mattray: yep
[2013-11-27 16:38:24 -0500] mattray: thom: do you use a Git post-hook or have Jenkins do it on a merge?
[2013-11-27 16:38:35 -0500] thom: jenkins on a merge
[2013-11-27 16:38:37 -0500] mattray: just trying to figure out how to plug it in
[2013-11-27 16:39:10 -0500] mattray: thom: just the metadata.rb, or do you modify a changelog too?
[2013-11-27 16:40:16 -0500] lewiz: Anybody familiar with the Chef API who can tell me whether it's possible to get the last converge date of a node?
[2013-11-27 16:40:58 -0500] thom: mattray: just metadata
[2013-11-27 16:41:26 -0500] mattray: lewiz: it's definitely available, knife status shows it
[2013-11-27 16:42:24 -0500] lewiz: mattray: ah, that's neat... I hadn't used knife status before.  Still not sure where in the api it is :-)
[2013-11-27 16:43:33 -0500] thom: we don't have particularly high change velocity on any of our cookbooks, so we've not felt the need for a change log at all so far
[2013-11-27 16:44:12 -0500] gchristensen: lewiz: so I use the node's ohai_time for that.
[2013-11-27 16:44:13 -0500] mattray: lewiz: not sure how it gets pulled, but it's there. http://docs.opscode.com/api_chef_server.html might be helpful
[2013-11-27 16:44:27 -0500] mattray: gchristensen: that sounds like a winner
[2013-11-27 16:44:37 -0500] gchristensen: woo! I was helpful!
[2013-11-27 16:45:06 -0500] mattray: lewiz: somewhere in http://docs.opscode.com/api_chef_server.html#nodes-name
[2013-11-27 16:45:33 -0500] mattray: should give you the node back, ohai_time or something else relevant is probably there
[2013-11-27 16:46:02 -0500] lewiz: mattray, gchristensen: thanks - I'll try this now!
[2013-11-27 16:47:59 -0500] lewiz: thanks - I've got ohai_time :-)
[2013-11-27 17:03:00 -0500] cdcrq: hi...is there a way to get chef-client run status(pass/fail) from chef-server using knife etc
[2013-11-27 17:06:56 -0500] jbz: cdcrq: You can use 'knife status' to get a list of nodes and their last checkin time
[2013-11-27 17:07:39 -0500] jbz: cdcrq: since nodes don't generally save state if they fail to converge (unless they do so manually in their runlist), that will get you partway there.
[2013-11-27 17:12:17 -0500] BryanWB: argh, how can i create an instance of a defintion inside a ruby_block?
[2013-11-27 17:18:57 -0500] cdcrq: jbz: are you reffering to 'knife node show' or how else to check node's state
[2013-11-27 17:21:06 -0500] jbz: cdcrq: no.  The command "knife status" should give you the list I described.
[2013-11-27 17:21:10 -0500] jbz: At least, on chef 11.x.
[2013-11-27 17:22:05 -0500] gchristensen: cdcrq: chef doesn't report to the chef-server when it fails.
[2013-11-27 17:22:38 -0500] gchristensen: so... not really :) knife status would return a list of nodes and the last time they checked, which you could infer from. that said, I recommend an error handler like Airbrake or even a simple email
[2013-11-27 17:58:03 -0500] cdcrq: thanks jbz
[2013-11-27 17:59:00 -0500] cdcrq: thx gchristensen
[2013-11-27 17:59:09 -0500] gchristensen: surely
[2013-11-27 18:04:16 -0500] cdcrq: gchristensen jbz  any idea if  chef-client can update its state with status as failed via error/report handler...it will help monitoring on chef-client run status at one place and that too from chef-server itself
[2013-11-27 18:12:34 -0500] bean: cdcrq: might want to check out handlers.
[2013-11-27 18:12:35 -0500] bean: http://docs.opscode.com/essentials_handlers.html
[2013-11-27 18:32:00 -0500] akahn: I'm setting a node attribute with knife node edit, but when I load chef shell on the node in question, the default attribute is present. why might that be?
[2013-11-27 18:33:18 -0500] bean: akahn: because chef hasns't run since you updated the node attributes?
[2013-11-27 18:33:37 -0500] akahn: ah, let me try that
[2013-11-27 18:35:10 -0500] akahn: bean: the default attribute is still present after running chef client
[2013-11-27 18:35:17 -0500] bean: hmm, not sure then
[2013-11-27 18:35:21 -0500] bean: i dont often use chef shell
[2013-11-27 18:36:11 -0500] akahn: i'm just using it to view what the attributes are from the perspective of chef client. the issue is that the attribute i'm setting isn't taking effect when chef client runs.
[2013-11-27 18:53:14 -0500] chip-: akahn: Depending on where the node attribute's default value is set, and whether you set it as a default, normal, or override attribute, it's entirely possible that your change will be overwritten when chef-client runs.
[2013-11-27 19:19:34 -0500] CPS: does anyone have any insight into the best way to send email reports detailing what happened during a recipe run?
[2013-11-27 19:24:36 -0500] stormerider: CPS: probably some form of report handler
[2013-11-27 19:25:57 -0500] juliancdunn: there's a chintzy example one on http://docs.opscode.com/essentials_handlers.html
[2013-11-27 19:26:08 -0500] juliancdunn: you can embrace & extend at will :)
[2013-11-27 19:26:09 -0500] CPS: this one is listed in some of the opscode documentation, but it looks like it hasn't been worked on since 2011 and the documentation is crap https://rubygems.org/gems/chef-handler-mail
[2013-11-27 19:27:03 -0500] juliancdunn: yeah, we need to clean up some of those pages. for some reason we have like 3 different pages talking about handlers
[2013-11-27 19:27:21 -0500] anoldhacker: Anyone from opscode around?
[2013-11-27 19:27:55 -0500] anoldhacker: :) was wondering if that meant that...
[2013-11-27 19:28:14 -0500] juliancdunn: yeah, I was trying to be clever... didn't actually think that'd work
[2013-11-27 19:28:37 -0500] anoldhacker: I've got an issue with http_request.  If a "head" messages is sent with notifies, the notifies will never be invoked.
[2013-11-27 19:29:02 -0500] anoldhacker: 11.6.2 hacked the nil body into an empty string, which is true, so things worked.  11.8 does not.
[2013-11-27 19:29:28 -0500] anoldhacker: https://github.com/opscode/chef/blob/11.8.0/lib/chef/provider/http_request.rb#37
[2013-11-27 19:30:08 -0500] anoldhacker: (the response to the head call turns out to be the body or false if the response is not modified)
[2013-11-27 19:31:00 -0500] juliancdunn: hmm, I bet some of this got wrecked when http_request was switched to (correctly) use Net::HTTP
[2013-11-27 19:31:16 -0500] juliancdunn: can you file a bug? tickets.opscode.com
[2013-11-27 19:31:32 -0500] anoldhacker: Wilco.
[2013-11-27 19:31:49 -0500] anoldhacker: 11.6.2 called to_s on response.body.
[2013-11-27 19:39:53 -0500] cityhawk: hey guys. struggling for two days. I'm trying to write a chefspec test for the cookbook which use partial_search. It fails with ERROR: Connection refused connecting to localhost:443 for /search/node. are there any workarounds for that?
[2013-11-27 19:41:28 -0500] spheromak: stub search
[2013-11-27 19:42:41 -0500] supercom32: If I want to copy one directory to another on the same machine, what is the best way to do it? Is there a resource for that, or should I just do an 'execute' and copy it manually that way?
[2013-11-27 19:42:45 -0500] spheromak: cityhawk: theres docs on how to do it in the readme
[2013-11-27 19:43:09 -0500] cityhawk: afaiu, partial_search doesn't use standard search, but hitting api directly
[2013-11-27 19:45:09 -0500] akahn: chip-: the default is set as a default, and i'm setting the override as a normal attribute
[2013-11-27 19:45:29 -0500] akahn: oh and it's in the cookbook's default attributes file
[2013-11-27 19:45:41 -0500] spheromak: cityhawk: you are right. means you will have to stub the method call directly instead of with the helpers from chefspec
[2013-11-27 19:50:51 -0500] anoldhacker: juliancdunn: Ticket CHEF-4826 created.
[2013-11-27 19:54:31 -0500] cityhawk: spheromak: t y it works
[2013-11-27 19:57:27 -0500] anoldhacker: supercom32:  Do you have a set list of files?  Is the directory a tree?  If it is a tree, is the tree structure fixed?
[2013-11-27 19:58:08 -0500] juliancdunn: thanky. someone from dev will triage, anoldhacker
[2013-11-27 19:58:16 -0500] anoldhacker: ty
[2013-11-27 19:58:50 -0500] anoldhacker: I would do a failing example, but it feelscomplicated. :P
[2013-11-27 20:02:19 -0500] juliancdunn: well, I'd look at fixing it, but I don't know how to write tests :-P
[2013-11-27 20:03:45 -0500] anoldhacker: You know, it might not be too bad to mock out the response.  It's hardly shocking that a HEAD request would have a nil body...
[2013-11-27 20:03:51 -0500] supercom32: anoldhacker: I will not know the contents of the directory, but I do know the location is fixed and is local. So I want to move it to one folder to another.
[2013-11-27 20:06:26 -0500] rana_: guys i hosted my chef-server on amazon ec2, now my server ip address got changed but my chef-server-ui is redirecting to old ip could you please help me where can i change it.??
[2013-11-27 20:06:45 -0500] anoldhacker: Wow.  This is a bit disappointing.
[2013-11-27 20:07:14 -0500] anoldhacker: Wait.
[2013-11-27 20:07:39 -0500] rana_: need immediate help my infrastructure operations was stuck
[2013-11-27 20:08:16 -0500] anoldhacker: Have you experimented with remote_directory resource?
[2013-11-27 20:08:56 -0500] rana_: i didn't get you anoldhacker
[2013-11-27 20:09:13 -0500] supercom32: anoldhacker: I've tried but It seems like it doesn't work for local file systems as a source?
[2013-11-27 20:09:25 -0500] anoldhacker: rana_: Sorry.  I was talking to supercom32
[2013-11-27 20:09:48 -0500] rana_: it's ok @anoldhacker
[2013-11-27 20:10:33 -0500] anoldhacker: supercom32:  did you try specifying the source as file://.....
[2013-11-27 20:11:03 -0500] supercom32: Anoldhacker: Does that work with drive paths? Ie 'file://c:/blah/"?
[2013-11-27 20:11:30 -0500] supercom32: We'll I will soon find out :-(
[2013-11-27 20:11:31 -0500] supercom32: :-)
[2013-11-27 20:11:32 -0500] anoldhacker: supercom32:  Uggh.  I don't do Windows.  O.o
[2013-11-27 20:11:57 -0500] supercom32: Bah, it doesn't work
[2013-11-27 20:12:01 -0500] anoldhacker: supercom32:  You might need to hunt around on the web to see how that usually is handledor you can delve the source...
[2013-11-27 20:13:21 -0500] anoldhacker: If that doesn't work, there is a provider option you can give the resource.  I would create a custom provider that handled filesbut I'm no one's top chef.
[2013-11-27 20:14:03 -0500] anoldhacker: But doing a raw copy feels really wrong.
[2013-11-27 20:14:19 -0500] anoldhacker: First, you want to do the entire "do I really wanna?" dance.
[2013-11-27 20:14:34 -0500] anoldhacker: Then you have to worry about disk full errors & the like.
[2013-11-27 20:14:48 -0500] anoldhacker: Stuff that really, really belongs in a provider.
[2013-11-27 20:15:24 -0500] anoldhacker: Of course, I would be strongly that there is a community cookbook.  Buyer beware...
[2013-11-27 20:19:01 -0500] anoldhacker: s/be/bet/
[2013-11-27 20:28:43 -0500] joelmoss: hi all
[2013-11-27 20:28:58 -0500] joelmoss: so I'm struggling to find a good development workflow for chef
[2013-11-27 20:29:18 -0500] joelmoss: I'm using Berkshelf and have each cookbook in its own repo
[2013-11-27 20:29:30 -0500] anoldhacker: So far so good...
[2013-11-27 20:29:36 -0500] joelmoss: but while developing cookbooks, I want to test them using my chef server and on AWS
[2013-11-27 20:30:00 -0500] joelmoss: but to do that, I goitta upload the cookbook and either increase the version of force upload it
[2013-11-27 20:30:03 -0500] adnichols: joelmoss: test-kitchen?
[2013-11-27 20:30:09 -0500] joelmoss: but that has all sorts of issues
[2013-11-27 20:30:25 -0500] joelmoss: test-kitchen is nice and all, but it cannot catch all issues
[2013-11-27 20:30:37 -0500] anoldhacker: we use environments exclusively to control that sort of thing.
[2013-11-27 20:30:47 -0500] joelmoss: yeah I use envs too
[2013-11-27 20:31:00 -0500] anoldhacker: When we push a cookbook, there is a jenkins-hooked task which runs tests.
[2013-11-27 20:31:21 -0500] joelmoss: but do you push a cookbook with a new version?
[2013-11-27 20:31:29 -0500] anoldhacker: If it succeeds, and metadata.rb indicates that this is a new version, it is uploaded to the server.
[2013-11-27 20:31:30 -0500] joelmoss: and how do you test that against your chef server?
[2013-11-27 20:31:50 -0500] anoldhacker: We have a separate repo that controls which versions of which cookbooks are available in each environment.
[2013-11-27 20:32:00 -0500] anoldhacker: And a tool to promote between environments.
[2013-11-27 20:32:18 -0500] joelmoss: would love to see how that works
[2013-11-27 20:32:19 -0500] anoldhacker: It's not great, but it gets the job done.
[2013-11-27 20:32:25 -0500] anoldhacker: What part?
[2013-11-27 20:32:48 -0500] joelmoss: you have a separate repo? you mean a separate chef server?
[2013-11-27 20:33:22 -0500] anoldhacker: No.
[2013-11-27 20:33:31 -0500] anoldhacker: It sits beside the cookbook repos.
[2013-11-27 20:34:01 -0500] joelmoss: then how do you test dev versions of cookbooks on your chef server?
[2013-11-27 20:34:28 -0500] Foxdie: Hi folks
[2013-11-27 20:34:32 -0500] anoldhacker: We promote them to the qa environment.  Then our qa stacks see it.
[2013-11-27 20:34:57 -0500] Foxdie: Is there any Opscode staff here that can help me with an enterprise chef registration query?
[2013-11-27 20:35:04 -0500] adnichols: anoldhacker: I assume you are using pretty specific version constraints in each environment?
[2013-11-27 20:35:19 -0500] joelmoss: @adnichols that;'s what I would assume
[2013-11-27 20:35:25 -0500] anoldhacker: Is '=' specific?  :D
[2013-11-27 20:35:32 -0500] adnichols: :)
[2013-11-27 20:35:38 -0500] joelmoss: that'd do it
[2013-11-27 20:35:58 -0500] joelmoss: then how do you version things?
[2013-11-27 20:36:12 -0500] joelmoss: because to test, you have increment the version
[2013-11-27 20:36:35 -0500] adnichols: you can have multiple versions on the server
[2013-11-27 20:36:37 -0500] anoldhacker: Yep.  Every new version of the cookbook that hits the server gets a new version number.
[2013-11-27 20:36:48 -0500] joelmoss: yes I know you can
[2013-11-27 20:37:19 -0500] joelmoss: you've never had conflicts where more than one person is hacking on the same cookbook at the same time
[2013-11-27 20:37:26 -0500] joelmoss: and both upload a dev cookbook
[2013-11-27 20:37:48 -0500] adnichols: joelmoss: we constrain that through a specific release process for a given version
[2013-11-27 20:37:49 -0500] anoldhacker: Each team is responsible for maintaining its own cookbooks.
[2013-11-27 20:38:09 -0500] joelmoss: ok, then maybe I'm thinking too hard about this
[2013-11-27 20:38:21 -0500] adnichols: joelmoss: if team a pushes version 1.1.1 first, team b pushing 1.1.1 will fail
[2013-11-27 20:38:36 -0500] joelmoss: you use Berkshelf?
[2013-11-27 20:38:52 -0500] adnichols: joelmoss: yes, but berks doesn't enforce this, we have a rake task
[2013-11-27 20:39:00 -0500] anoldhacker: yes.
[2013-11-27 20:39:15 -0500] joelmoss: ok
[2013-11-27 20:39:34 -0500] joelmoss: and do you guys keep all cookbooks in their own separate repo?
[2013-11-27 20:39:40 -0500] adnichols: joelmoss: yes
[2013-11-27 20:39:44 -0500] joelmoss: or do you put them all in your chef repo?
[2013-11-27 20:40:02 -0500] anoldhacker: ??
[2013-11-27 20:40:24 -0500] adnichols: joelmoss: our cookbooks are all in their own github org, each cookbook is a repo in that org
[2013-11-27 20:40:39 -0500] joelmoss: yes that is how I have it too
[2013-11-27 20:40:50 -0500] joelmoss: then I assume you only promote new versions of them to your chef repo when cookbook is complete?
[2013-11-27 20:41:07 -0500] Foxdie: No one here able to help me track down if my company registered an organisation ID? :)
[2013-11-27 20:41:09 -0500] anoldhacker: What do you mean by complete?
[2013-11-27 20:41:12 -0500] adnichols: joelmoss: true, though we've been discussing a feature-toggle-ish capability to get around that requirement
[2013-11-27 20:41:56 -0500] joelmoss: anoldhacker: I mean when a new version is released
[2013-11-27 20:41:59 -0500] anoldhacker: I should have mentioned that.  We are also starting to use feature flags.
[2013-11-27 20:42:00 -0500] joelmoss: complete
[2013-11-27 20:42:26 -0500] joelmoss: interesting, so how do they work?
[2013-11-27 20:42:41 -0500] adnichols: joelmoss: an example https://github.com/etsy/chef-whitelist
[2013-11-27 20:44:01 -0500] adnichols: I'd imagine there are a number of ways you could accomplish the same result
[2013-11-27 20:44:29 -0500] adnichols: we do this very heavily in our normal software dev so it makes sense for cookbooks to us
[2013-11-27 20:44:30 -0500] joelmoss: ok cool
[2013-11-27 20:44:53 -0500] joelmoss: so sounds like you guys use test-kitchen heavily?
[2013-11-27 20:44:57 -0500] joelmoss: not chefspec?
[2013-11-27 20:45:00 -0500] joelmoss: or both?
[2013-11-27 20:45:15 -0500] adnichols: joelmoss: we use both - chefspec for unit tests & test-kitchen for integration tests
[2013-11-27 20:45:29 -0500] adnichols: mostly serverspec in test-kitchen
[2013-11-27 20:45:39 -0500] joelmoss: k
[2013-11-27 20:49:08 -0500] joelmoss: test-kitchen's docs are very sparse
[2013-11-27 20:49:17 -0500] joelmoss: any good blog posts?
[2013-11-27 20:49:34 -0500] adnichols: http://jtimberman.housepub.org/blog/2013/03/19/anatomy-of-a-test-kitchen-1-dot-0-cookbook-part-1/
[2013-11-27 20:49:59 -0500] adnichols: possibly getting out of date at this point - but a good starting point
[2013-11-27 20:50:21 -0500] adnichols: This uses minitest in the examples
[2013-11-27 20:50:26 -0500] joelmoss: thx
[2013-11-27 20:50:48 -0500] joelmoss: and what do you suggest to use? bats?
[2013-11-27 20:50:58 -0500] cwj: http://starkandwayne.com/articles/2013/05/07/tdd-your-devops-with-test-kitchen/ if youd like screencast
[2013-11-27 20:51:07 -0500] adnichols: bats is reasonable and folks use it - serverspec works too
[2013-11-27 20:51:10 -0500] anoldhacker: We're moving to test kitchen for integration. We love chefspec.
[2013-11-27 20:51:45 -0500] adnichols: I'd say start with whatever you'll use :)
[2013-11-27 20:59:08 -0500] joelmoss: anyone use chef-zero?
[2013-11-27 20:59:12 -0500] adnichols: we do
[2013-11-27 20:59:20 -0500] joelmoss: you use everything! ;)
[2013-11-27 20:59:28 -0500] adnichols: not everything.... :)
[2013-11-27 20:59:47 -0500] adnichols: test-kitchen makes it pretty easy to use chef zero
[2013-11-27 20:59:55 -0500] joelmoss: how?
[2013-11-27 21:00:03 -0500] joelmoss: again, no docs on that
[2013-11-27 21:00:25 -0500] joelmoss: and how do you make sure that your chef-zero is same as your chef server?
[2013-11-27 21:00:31 -0500] adnichols: provisioner: chef_zero
[2013-11-27 21:01:00 -0500] adnichols: Umm... wel initially it will not be but they just recently enabled "zero mode" in chef-client which should bring them closer together
[2013-11-27 21:01:07 -0500] adnichols: but the two were separate projects really
[2013-11-27 21:01:33 -0500] adnichols: I believe when test-kitchen rc comes out it'll support zero mode chef-client
[2013-11-27 21:01:39 -0500] adnichols: Right now it installs the chef_zero gem
[2013-11-27 21:02:29 -0500] adnichols: we haven't gotten to the point where version differences between zero & our server have bitten us - suppose it could happen tho
[2013-11-27 21:04:59 -0500] joelmoss: ok thx
[2013-11-27 21:05:53 -0500] joelmoss: how do you get all your data from your server?
[2013-11-27 21:06:18 -0500] joelmoss: for zero use I mean
[2013-11-27 21:06:28 -0500] adnichols: you don't
[2013-11-27 21:06:48 -0500] adnichols: kitchen loads up the stuff you need - ideally you have all the test data you need in your cookbook
[2013-11-27 21:06:57 -0500] adnichols: you can mock nodes and such
[2013-11-27 21:07:23 -0500] adnichols: testing environments are imperfect - but it's pretty good
[2013-11-27 21:08:16 -0500] x0nic_: how are people installing ruby on their boxes lately? I am trying to avoid using rvm or rbenv on ubuntu.
[2013-11-27 21:08:27 -0500] joelmoss: rbenv all the way
[2013-11-27 21:08:35 -0500] cheflevelramen: rbenv
[2013-11-27 21:08:37 -0500] cpuguy83: ruby-install/chruby
[2013-11-27 21:09:39 -0500] spheromak: x0nic_: chruby + ruby-build
[2013-11-27 21:09:58 -0500] joelmoss: whats the best way to keep all your chef clients up to date with latest chef version?
[2013-11-27 21:10:12 -0500] anoldhacker: rbenv
[2013-11-27 21:10:20 -0500] x0nic_: nice thanks guys.
[2013-11-27 21:10:49 -0500] x0nic_: spheromak: is there a good cookbook for chruby?
[2013-11-27 21:10:56 -0500] juliancdunn: joelmoss: there's a cookbook for that: https://github.com/hw-cookbooks/omnibus_updater
[2013-11-27 21:11:13 -0500] cpuguy83: I never got the cookbook for chruby working
[2013-11-27 21:11:35 -0500] cpuguy83: But it's pretty trivial to install and use
[2013-11-27 21:12:28 -0500] spheromak: cpuguy83: the atlant sys one ?
[2013-11-27 21:12:32 -0500] spheromak: worked for me
[2013-11-27 21:12:39 -0500] cpuguy83: Been awhile, I'm not sure.
[2013-11-27 21:12:40 -0500] spheromak: community site chruby cook
[2013-11-27 21:13:40 -0500] cpuguy83: That's probably what I tried, but it was several months ago
[2013-11-27 21:14:07 -0500] x0nic_: thanks, this is what I wanted. I was just using the ruby-build cookbook alone
[2013-11-27 21:30:08 -0500] joelmoss: anyone else getting error when re-running the ebs_raid provider that is part of the was cookbook?
[2013-11-27 21:30:09 -0500] joelmoss: https://tickets.opscode.com/browse/COOK-2935
[2013-11-27 21:34:09 -0500] cheflevelramen: anyone know if the application cookbook is working? I seem to be getting this error:
[2013-11-27 21:34:12 -0500] cheflevelramen: https://tickets.opscode.com/browse/COOK-4004
[2013-11-27 21:37:39 -0500] freezey_: when installing with the package resource.. what happens if a package name is aliased to something else. anyway to tell chef to follow the alias?
[2013-11-27 21:39:16 -0500] freezey_: otherwise you get this "you must explicitly select one to install
[2013-11-27 21:46:42 -0500] spheromak: freezey_: that may be provider specific
[2013-11-27 21:46:53 -0500] joelmoss: for those using berkshelf, how do you use/test an external cookbook within another cookbook?
[2013-11-27 21:47:12 -0500] joelmoss: I don't see a way to specify the path of a dependency in metadata
[2013-11-27 21:47:24 -0500] spheromak: joelmoss: have to call it in your Berksfile
[2013-11-27 21:47:43 -0500] spheromak:  cookbook "test-thing", path: "test/cookbook/test-thing"
[2013-11-27 21:47:51 -0500] freezey_: spheromak: k thanks
[2013-11-27 21:47:57 -0500] joelmoss: spheromak: thought so, but doesn't that have other implications?
[2013-11-27 21:48:06 -0500] spheromak: if you're testing its ok
[2013-11-27 21:48:24 -0500] spheromak: cause thats a test cook. but I don't have enough info to talk about your specific case.
[2013-11-27 21:48:34 -0500] spheromak: definately has implications when you call paths that aren't local
[2013-11-27 21:48:52 -0500] spheromak: aren't local to the cookbook i mean. i.e.  ~/somecooks/foobar/cook
[2013-11-27 21:48:59 -0500] joelmoss: what about when testing with chef server?
[2013-11-27 21:49:33 -0500] joelmoss: if I upload this cookbook, it won't also upload the cookbook from that path will it?
[2013-11-27 21:50:02 -0500] alexbst___: hi spheromak how was the chef unconf ?
[2013-11-27 21:50:58 -0500] spheromak: alexbst___: summit ?
[2013-11-27 21:51:47 -0500] alexbst___: yeah
[2013-11-27 21:52:23 -0500] alexbst___: atrullmdsol here in case the name rings a bell
[2013-11-27 21:54:06 -0500] spheromak: ah alex
[2013-11-27 21:54:14 -0500] spheromak: alexbst___: yea it was great
[2013-11-27 21:54:18 -0500] spheromak: hows filesystem cook :D
[2013-11-27 21:54:39 -0500] alexbst___: seems fine but needs tests
[2013-11-27 21:54:53 -0500] spheromak: alexbst___: need to pass that over to you
[2013-11-27 21:54:58 -0500] alexbst___: i am hospitalized atm :/
[2013-11-27 21:55:00 -0500] spheromak: and link the master from my tree to yours
[2013-11-27 21:55:03 -0500] spheromak: ouch that sucks
[2013-11-27 21:55:16 -0500] spheromak: alexbst___: serious issues ?
[2013-11-27 21:55:22 -0500] alexbst___: getting well soon
[2013-11-27 21:56:00 -0500] alexbst___: anyway good to chat
[2013-11-27 21:56:01 -0500] spheromak: alexbst___: for sure. least you are on the internets.  I was in hospital with my wife for 5 days, she was in CCU for 3 of them. No network/cell phones. was rough I am not a fan of hospitals.
[2013-11-27 21:56:22 -0500] spheromak: I am a fan of my still alive wife. but man
[2013-11-27 21:56:30 -0500] alexbst___: hospitals are run like slave camps
[2013-11-27 21:56:37 -0500] alexbst___: :/
[2013-11-27 21:56:39 -0500] spheromak: alexbst___: yea get well.
[2013-11-27 21:56:50 -0500] alexbst___: nn dude
[2013-11-27 22:07:21 -0500] jhayden: Hi, just install the open source chef-server 11.8 and even uploaded some old data to it
[2013-11-27 22:07:53 -0500] jhayden: tried logging in via the webui as admin with deault password and the ui goes right back to the login screen
[2013-11-27 22:08:07 -0500] jhayden: anyone see this behavior before?
[2013-11-27 22:12:10 -0500] Lolindir: Howdy?
[2013-11-27 22:45:14 -0500] supercom32: Is there a way for chef to execute a .bat file in the background without stopping recipe execution?
[2013-11-27 22:56:59 -0500] x0nic_: supercom32: I would think that is something you would have to do yourself. I assume you are on windows since you are talking about a bat file?
[2013-11-27 22:58:33 -0500] supercom32: Right
[2013-11-27 22:58:49 -0500] supercom32: I want my recipe to kick off some java process and it's started by a batch file.
[2013-11-27 22:58:59 -0500] supercom32: But I don't want it to block everything.
[2013-11-27 22:59:29 -0500] x0nic_: you could try this if you have access to powershell. http://stackoverflow.com/questions/185575/powershell-equivalent-of-bash-ampersand-for-forking-running-background-proce
[2013-11-27 22:59:52 -0500] supercom32: I don't have powershell, but that sounds interesting
[2013-11-27 23:00:14 -0500] x0nic_: or I suppose you could turn it into a windows service
[2013-11-27 23:00:56 -0500] supercom32: Is turning it into a service hard?
[2013-11-27 23:01:35 -0500] x0nic_: there are couple wrappers out there that make it pretty easy
[2013-11-27 23:01:58 -0500] x0nic_: i cant remember what they were called. its been awhile since i have used windows
[2013-11-27 23:02:28 -0500] supercom32: Apparently the windows command "START" will fork processes too
[2013-11-27 23:03:06 -0500] x0nic_: oh there you go, that might work
[2013-11-27 23:06:03 -0500] juliancdunn: x0nic_: there is winsw. a bit gross but good in a pinch
[2013-11-27 23:06:29 -0500] juliancdunn: Chef Client used to use it before we wrote our own, real, service
[2013-11-27 23:09:22 -0500] x0nic_: juliancdunn: yeah that was the one i was thinking of...
[2013-11-27 23:09:55 -0500] x0nic_: i ended up writing my own service also
[2013-11-27 23:31:57 -0500] freerobby: Is there any way to pass environment variables into a chef deploy when running knife ssh?
[2013-11-27 23:38:43 -0500] spheromak: freerobby: you can just set them in the cmdline
[2013-11-27 23:39:07 -0500] spheromak: knife ssh 'search:term' 'env_var=foo  cmd1; cmd2 '
[2013-11-27 23:40:23 -0500] supercom32: When you add files into your "\recipe\files\default" folder, what resource do you need to access this again?
[2013-11-27 23:41:13 -0500] supercom32: oh cookbook file
