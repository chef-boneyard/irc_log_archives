[2013-11-02 02:31:35 -0400] msplain: 2
[2013-11-02 12:29:48 -0400] dmdeklerk: Hi saturday-cheffers.
[2013-11-02 12:29:56 -0400] dmdeklerk: Is it worth the trouble to start using LXC when developing my cookbooks?
[2013-11-02 12:30:11 -0400] dmdeklerk: I'm already on dektop ubuntu  as a virtualization sollution when developing my application cookbook.
[2013-11-02 12:30:36 -0400] dmdeklerk: So thats a match to my production env kernel.
[2013-11-02 12:30:58 -0400] dmdeklerk: Just wondering, is it really that more fast than virtualbox or will I run into troubles as can be read on the vagrant-lxc site? Any input appreciated.
[2013-11-02 12:57:00 -0400] dmdeklerk: arghh stupid typo: I offcourse mean i'm already on desktop ubuntu 12.04 which is a match to my production server which is also ubuntu 12.04 (in order for LXC to work, you have to be on the same kernel)
[2013-11-02 14:02:42 -0400] GeoffC_: can anyone assist me with adding new hosts to nagios using chef
[2013-11-02 14:06:57 -0400] GeoffC_: or at least how to update the cookbooks on a client
[2013-11-02 14:54:08 -0400] GeoffC_: anyone have experience with chef and nagios?
[2013-11-02 15:13:56 -0400] sassyn: hi all
[2013-11-02 15:14:02 -0400] sassyn: quick question
[2013-11-02 15:14:08 -0400] sassyn: I have just setup chef server
[2013-11-02 15:15:45 -0400] sassyn: with the omnibus pkg
[2013-11-02 15:15:50 -0400] sassyn: on my ubuntu
[2013-11-02 15:16:12 -0400] sassyn: Can i use knife on the server?
[2013-11-02 15:16:22 -0400] sassyn: or it is better to use it on a workstation?
[2013-11-02 15:37:30 -0400] workmad3: sassyn: the intended use is that you set up knife on your workstation rather than being logged into the chef server all the time
[2013-11-02 15:38:16 -0400] holms: sassyn: try knife-solo i've really happy with it
[2013-11-02 15:39:38 -0400] holms: if there's any who struggles to start chef: https://gist.github.com/holms/7239334
[2013-11-02 15:39:46 -0400] holms: chef-solo*
[2013-11-02 15:42:17 -0400] teukka: holms: `knife solo init .` calls also `librarian-chef init` and sets up .gitignore
[2013-11-02 15:42:26 -0400] workmad3: holms: is there any particular reason you're using knife-solo within vagrant, rather than just using a chef-solo run through a vagrant provisioner?
[2013-11-02 15:42:36 -0400] teukka: holms: adn `knife solo cook` calls `librarian-chef install`
[2013-11-02 15:43:54 -0400] workmad3: holms: also, it would be a bit clearer if you had the Vagrantfile as a separate file within that gist ;) and also maybe a Gemfile for the gems (as then you can give a git clone command for getting the gist)
[2013-11-02 15:44:26 -0400] workmad3: holms: and a final point... 'apt-get install ruby1.9.1' installs ruby 1.9.3 ;)
[2013-11-02 15:44:57 -0400] workmad3: which is just as well... 1.9.1 is recommended to not be used
[2013-11-02 15:46:24 -0400] holms: oh nice feedback
[2013-11-02 15:46:33 -0400] holms: ok fixing :D
[2013-11-02 15:47:33 -0400] teukka: workmad3: if someone uses knife-solo to provision production servers, he/she might want to use the same for Vagrant. but personally I trust that chef-solo is chef-solo. there's a bit duplicate configuration though
[2013-11-02 15:48:54 -0400] workmad3: teukka: I just find it easier to launch it with a 'vm.provision :chef_solo do |chef|; chef.add_recipe "mystuff"; end' etc block and then 'vagrant provision' to kick it off on a running machine :)
[2013-11-02 15:49:40 -0400] workmad3: teukka: it's still all chef-solo, but fewer manual steps involved in getting the cookbooks and json dna to the machine and launching the run
[2013-11-02 15:50:41 -0400] teukka: workmad3: knife solo does the uploading and configuring, but yeah, still wto commands instead of one :)
[2013-11-02 15:50:52 -0400] holms: workmad3: is there's any metapackage for ruby in debian/ubuntu?
[2013-11-02 15:51:22 -0400] workmad3: holms: tbh, I normally recommend people to use something like ruby-install or rvm to install ruby, rather than system packages
[2013-11-02 15:51:50 -0400] teukka: chruby is nice and lightweight
[2013-11-02 15:51:56 -0400] workmad3: holms: but I'm more of a developer, and have had way too many bad experiences with weirdly set up ruby system packages :)
[2013-11-02 15:52:10 -0400] workmad3: teukka: chruby doesn't install... but ruby-install is a nice complement to it (also from postmodern)
[2013-11-02 15:52:10 -0400] holms: probably should get rid of that line cause I'm fine with global ruby install. this also works on osx btw.
[2013-11-02 15:52:33 -0400] teukka: workmad3: ah sure. I'm writing too fast
[2013-11-02 15:52:43 -0400] workmad3: :)
[2013-11-02 15:53:03 -0400] teukka: workmad3: of course I use both myself =)
[2013-11-02 15:53:15 -0400] holms: workmad3: i see. there's a reason actually
[2013-11-02 15:53:27 -0400] holms: i just want to use a cookbooks separetely
[2013-11-02 15:53:32 -0400] workmad3: yeah, although I do use fnichol's rvm cookbook on servers for application ruby installs :)
[2013-11-02 15:53:37 -0400] holms: vagrant is only for testing, i'm using my vm's on openstack
[2013-11-02 15:53:53 -0400] holms: i prefer to have full chef repo
[2013-11-02 15:54:02 -0400] workmad3: holms: https://github.com/cloudbau/vagrant-openstack-plugin ? :D
[2013-11-02 15:54:03 -0400] holms: this will be provisioned single vm on some vps or smtng
[2013-11-02 15:54:07 -0400] teukka: holms: a good reason to use ruby switcher (like chruby) is that you don't need to use sudo and mess up the system ryby environment
[2013-11-02 15:54:39 -0400] holms: workmad3: in other words i don't need vagrant :) just knife solo cook my_server_ip
[2013-11-02 15:54:50 -0400] holms: cause i have hp profliant on hetzer rented
[2013-11-02 15:54:53 -0400] workmad3: holms: :)
[2013-11-02 15:55:26 -0400] workmad3: holms: I set up a chef server normally, and I've been using chefspec for TDDing my resources recently
[2013-11-02 15:55:30 -0400] holms: teukka: maybe you could edit those ruby installer steps? in osx i feel comfortable just to go with "sudo port -v install ruby19"
[2013-11-02 15:55:50 -0400] holms: workmad3: i'm having bad time learning chef actually. lot worse then puppet, that one was easy
[2013-11-02 15:56:00 -0400] workmad3: holms: 'brew install chruby ruby-install; ruby-install ruby 2.0.0' :)
[2013-11-02 15:56:01 -0400] holms: so trying my best to simplify workflow :D
[2013-11-02 15:56:25 -0400] holms: need to learn to use gist with separate files
[2013-11-02 15:56:35 -0400] workmad3: holms: heh :) funnily enough I found it the other way around... I found puppet more arcane to get set up and figure out what was going on, so went with chef
[2013-11-02 15:56:47 -0400] workmad3: holms: there's an 'add additional file' button at the bottom
[2013-11-02 15:57:55 -0400] holms: em.. where :D https://gist.github.com/holms/7239334
[2013-11-02 15:58:11 -0400] workmad3: holms: when editing
[2013-11-02 15:58:47 -0400] holms: oh thanks
[2013-11-02 15:59:17 -0400] holms: workmad3: with puppet i had pretty straightforward start. created manifest.pp wrote two lines to install package. puppet apply manifest.pp
[2013-11-02 15:59:21 -0400] holms: two steps..
[2013-11-02 15:59:32 -0400] holms: in here i'm getting crazy
[2013-11-02 15:59:54 -0400] holms: i kind'a understand that repo is a good stuff. and i've got motivation to "automate everything"
[2013-11-02 15:59:59 -0400] teukka: holms: one more. use `vagrant ssh-config` to get the config
[2013-11-02 16:00:53 -0400] holms: it's just i can find my self learning it quite easily. for example i can't even find how to setup roles with examples. in docs you've got only references with no examples at all. and learnchef.opscode.com for me is half information usuless. i just want to work with 2 vm's
[2013-11-02 16:00:54 -0400] teukka: holms: you can also combine `knife solo prepare` and `cook` with `knife solo bootstrap -r <run_list>`
[2013-11-02 16:00:55 -0400] workmad3: vagrant ssh-config >> ~/.ssh/config; ssh hostname
[2013-11-02 16:01:13 -0400] holms: hmz
[2013-11-02 16:01:43 -0400] holms: workmad3: yeah i declied this because set hostname = "myhostname" crashed vagrant
[2013-11-02 16:02:11 -0400] workmad3: holms: oh, that's a point... your vagrantfile there will cause a crash anyway :)
[2013-11-02 16:02:24 -0400] holms: https://github.com/mitchellh/vagrant/issues/2443
[2013-11-02 16:02:26 -0400] workmad3: :mybox-client <-- can't have - in symbols, needs to be a _
[2013-11-02 16:02:44 -0400] holms: workmad3: it works :P
[2013-11-02 16:03:01 -0400] holms: ok le me try
[2013-11-02 16:03:10 -0400] holms: to setup eveyrthing all over again
[2013-11-02 16:03:37 -0400] workmad3: holms: I'd be surprised, that's not valid ruby and a Vagrantfile is just ruby code ;)
[2013-11-02 16:04:07 -0400] workmad3: (well, it's valid ruby... but :symbol - thing will fail because - doesn't exist on symbols and thing isn't a defined local variable or method)
[2013-11-02 16:05:47 -0400] workmad3: holms: I can also recommend the use of https://github.com/dotless-de/vagrant-vbguest :)
[2013-11-02 16:06:04 -0400] holms: oh yeah this one is nice
[2013-11-02 16:06:10 -0400] holms: i had prolems with guest additions
[2013-11-02 16:06:16 -0400] holms: gonna try now
[2013-11-02 16:06:40 -0400] workmad3: ok, g2g now I'm afraid
[2013-11-02 16:07:01 -0400] holms: workmad3: thanks for tips! :)
[2013-11-02 16:07:02 -0400] workmad3: hope you make some progress with sorting out chef :)
[2013-11-02 16:27:53 -0400] GeoffC_: anyone install nginx with chef?
[2013-11-02 17:34:52 -0400] Geoffc_: hey if I have created a data bag, how do I get the chef client to pick it up?
[2013-11-02 18:33:44 -0400] sassyn: hi
[2013-11-02 18:33:45 -0400] sassyn: all
[2013-11-02 18:53:05 -0400] akhkharu: does anyone from Europe experiencing slow S3 download speed? 30mins to download omnibus installer, uh :(
[2013-11-02 20:34:26 -0400] davsharyan33: heeeey people. having a problem with node.default which I try to set an attribute from recipe. The problem is that it works on my local lab and it's not working where it should ( on other servers ). When I print it to console it returns correct value. But it's not setting in attributes. Chef 11.4.0 http://paste2.org/CI6M1NyP
[2013-11-02 22:40:53 -0400] elifrey: When I bootstrap a node, somehow it thinks the domain name of where chef-server lives is the HOST name where chef-server lives.
[2013-11-02 22:41:31 -0400] elifrey: so I have to add a mapping in /etc/hosts every time to get the chef-client run to resolve the host to the right IP address
[2013-11-02 22:42:02 -0400] elifrey: because the hostname on the VM that chef-server runs on is not a FQDN
[2013-11-02 22:42:11 -0400] manfred: bootstrap should just set the chef server to whatever you set the chef-server to in your knife.rb iirc
[2013-11-02 22:42:56 -0400] elifrey: manfred: yes, it does tell me it did that, but then in the error it does not.  I will paste the relevent parts of the error message.
[2013-11-02 22:43:14 -0400] elifrey: Networking Error:
[2013-11-02 22:43:16 -0400] elifrey: -----------------
[2013-11-02 22:43:19 -0400] elifrey: Error connecting to https://devinfra01:8443/bookshelf/organization-00000000000000000000000000000000/checksum-0577011ecc7ef412f458f7c686fb5dd1?AWSAccessKeyId=907a873a3bac7139415ea2406b23cfb3891ba86e&Expires=1383432208&Signature=ra1CQrRIS3Vu3hihTcm2BV2a/ME%3D - getaddrinfo: Name or service not known
[2013-11-02 22:43:30 -0400] elifrey: so, devinfra01 is the non-FQDN hostname
[2013-11-02 22:43:34 -0400] elifrey: then a bit further down it says
[2013-11-02 22:43:46 -0400] elifrey: Relevant Config Settings:
[2013-11-02 22:43:47 -0400] elifrey: -------------------------
[2013-11-02 22:43:49 -0400] elifrey: chef_server_url  "https://chef.eng.globalsign.com:8443"
[2013-11-02 22:44:06 -0400] elifrey: now, chef.eng.globalsign.com certainly IS a FQDN
[2013-11-02 22:44:17 -0400] manfred: then i do not know :)
[2013-11-02 22:45:09 -0400] elifrey: It seems there are two work arounds for this, neither am I very pleased by
[2013-11-02 22:45:33 -0400] elifrey: 1. add a mapping to /etc/hosts on every node
[2013-11-02 22:45:47 -0400] elifrey: 2. change the hostname of the VM which chef-server runs on
[2013-11-02 22:46:19 -0400] manfred: well, i do not know, i don't believe i have ever used a fqdn that wasn't the hostname of my chef server heh
[2013-11-02 22:48:11 -0400] elifrey: manfred: Interesting.  We have multiple FQDNs all being served from the same VM, so it seems a bit daft to privelege one over the others
[2013-11-02 22:48:39 -0400] manfred: yeah, i doubt that would be a problem though, i was just making an observation for myself
