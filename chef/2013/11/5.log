[2013-11-05 00:03:52 -0500] paulmooring: coderanger: Did someone challenge you to fit as much Ruby related evil as possible in under 10 lines of code?
[2013-11-05 00:07:56 -0500] doomviking: me: "well did you run chef-client" other: "uhhh" me: "you're right. configuration should just magically appear out of thin bits"
[2013-11-05 00:08:54 -0500] coderanger: doomviking: Eventual consistency applies to coworkers too
[2013-11-05 00:09:13 -0500] doomviking: indeed. that pesky human element.
[2013-11-05 00:47:04 -0500] sn0wb1rd: I'm trying to use the application cookbook combined with the application_php cookbook. How do I use node variables for the database block?
[2013-11-05 00:47:38 -0500] coderanger: sn0wb1rd: 1) I'm sorry
[2013-11-05 00:47:48 -0500] sn0wb1rd: 2) ?
[2013-11-05 00:47:51 -0500] coderanger: 2) assign them to local vars outside the block
[2013-11-05 00:47:52 -0500] doomviking: heh
[2013-11-05 00:47:54 -0500] coderanger: 3) I'm fixing it :)
[2013-11-05 00:47:59 -0500] coderanger: (slowly)
[2013-11-05 00:48:06 -0500] sn0wb1rd: 3) (y)
[2013-11-05 00:48:27 -0500] sn0wb1rd: coderanger: cool, is there an issue filed for this one?
[2013-11-05 00:48:42 -0500] coderanger: Probably not, nor does it matter, I'm going to be scrapping the existing code and starting over
[2013-11-05 00:49:14 -0500] sn0wb1rd: coderanger: okay then
[2013-11-05 00:50:12 -0500] coderanger: sn0wb1rd: The patterns I started working on in that cookbook have advanced a lot since then, hopefully will have something to announce by the summit (assuming I just don't sleep between then and now)
[2013-11-05 00:50:41 -0500] sn0wb1rd: coderanger: drink more coffee
[2013-11-05 00:52:33 -0500] coderanger: Heh, pretty much
[2013-11-05 04:14:43 -0500] Cope__: coderanger: around?
[2013-11-05 04:14:46 -0500] Cope__: ooh __
[2013-11-05 04:15:13 -0500] Cope: coderanger: around? :)
[2013-11-05 05:20:56 -0500] coderanger: Cope: I am now
[2013-11-05 05:22:13 -0500] flaccid_: wb coderanger :)
[2013-11-05 07:58:53 -0500] titusjose: Had a question on report handler. Will report handler work when there are compile errors for the recipes ?
[2013-11-05 08:55:57 -0500] arussel: is there a way to pass -ldebug to chef from kitchen ?
[2013-11-05 09:31:13 -0500] pauldavidgilliga: hi I am having problems with chef-client and -o option
[2013-11-05 09:31:47 -0500] pauldavidgilliga: would like to run chef-client on a specific role
[2013-11-05 09:33:34 -0500] pauldavidgilliga: FATAL: Chef::Exceptions::ChildConvergeError: Chef run process exited unsuccessfully (exit code 1)
[2013-11-05 09:45:23 -0500] arussel: doen't it tells you more, either logs or the path to a log fie ?
[2013-11-05 10:59:57 -0500] adam-_-: I've added a breakpoint to one of my recipes, and uploaded it to chef-server, but when I run_chef from chef-shell it doesn't activate the breakpoint. is there a different command I need to run?
[2013-11-05 11:05:12 -0500] arussel: is there a know work around for this https://github.com/opscode/test-kitchen/issues/234 ?
[2013-11-05 11:05:56 -0500] arussel: adam-_- you've check that the it is in the local cookbook ?
[2013-11-05 11:06:25 -0500] adam-_-: nope, I'm a bit (very) new to chef
[2013-11-05 11:07:13 -0500] arussel: adam-_- jus ssh into  the node, try to find the cookbook and check that the break point are there
[2013-11-05 11:08:11 -0500] adam-_-: yeah I've just found it, I think, /var/chef/cache/cookbooks/...
[2013-11-05 11:08:15 -0500] adam-_-: it's totally wrong
[2013-11-05 11:08:18 -0500] adam-_-: hnm
[2013-11-05 11:08:34 -0500] arussel: so the problem is not the breakpoint :-)
[2013-11-05 11:08:36 -0500] adam-_-: I thought running chef-client resynced the recipes?
[2013-11-05 11:09:13 -0500] arussel: are you using vagrant ?
[2013-11-05 11:09:32 -0500] adam-_-: we are but not in this case. this is on one of our servers which is using hosted chef
[2013-11-05 11:10:09 -0500] arussel: afaik, chef-client should sync the recipe, didn't you pin a version somewhere ?
[2013-11-05 11:11:08 -0500] adam-_-: honestly, I'm not sure. we bumped a version but we may not have pinned it. can you only do that if you have environments setup? (I'm not sure if we do)
[2013-11-05 11:26:26 -0500] adam-_-: is there an easy way to list all frozen recipes or pinned versions of recipes?
[2013-11-05 11:31:32 -0500] arussel: doesn't 'knife cookbook list'  does  it ? you can pass an env to it
[2013-11-05 11:34:46 -0500] adam-_-: my recipe has the version I expect but the local version of the recipe on the server seems to be completely different. I'm a bit perplexed..
[2013-11-05 11:37:18 -0500] arussel: and in the console, you see your node in the env you expect ?
[2013-11-05 11:37:38 -0500] adam-_-: we're only using the default node at the minute
[2013-11-05 11:37:45 -0500] adam-_-: default environment, sorry
[2013-11-05 11:38:02 -0500] bLaind_: I'd need to make a chef setup for installing a nginx+php+php-fpm+mysql server. Do you think it's best to use existing cookbooks or create an own?
[2013-11-05 11:38:13 -0500] bLaind_: that would install required packages, and then (based on templates?) put config files in place
[2013-11-05 11:38:51 -0500] bLaind_: so far it seems that most cookbooks are using Ubuntu 12.04, whereas I'd need different version. So config files differ a bit
[2013-11-05 11:52:14 -0500] bLaind_: ll
[2013-11-05 11:52:19 -0500] bLaind_: d'oh
[2013-11-05 11:57:37 -0500] jonlives: adam-_-: if you install the knife-spork gem, knife spork check <cookbook_name> will show you local and remote versions and whether or not they're pinned
[2013-11-05 11:57:51 -0500] jonlives: *frozen rather
[2013-11-05 11:58:14 -0500] jonlives: you can't actually pin it unless you've set a version constraint in the environment though.
[2013-11-05 11:58:47 -0500] adam-_-: ah, thanks. I've actually vaguely fixed my issue. I knife deleted some older version of the recipe. it hasn't actually switched to the latest version but it's switched to a new enough version. it's a bit strange, like we've configured something to tell it to use the oldest version
[2013-11-05 11:59:50 -0500] jonlives: adam-_-: if you do "knife environment show _default" it'll show you any version constraints you might have
[2013-11-05 12:00:33 -0500] adam-_-: thanks - we don't appear to have any set
[2013-11-05 12:01:05 -0500] jonlives: if you def don't have nodes in any other environments, they should be getting the latest uploaded version of any cookbooks then.
[2013-11-05 12:02:27 -0500] adam-_-: we only have _default, I can't see any version constraints and it's not pulling the newest cookbook. very strange
[2013-11-05 12:09:32 -0500] holms: can i set a restrictions based on OS in roles?
[2013-11-05 12:09:41 -0500] holms: cause cookbook only for debian
[2013-11-05 12:12:57 -0500] adam-_-: this knife spork thing, do I need to configure anything for it to do anything useful :)? all I'm getting is: "ERROR: TypeError: no implicit conversion of nil into String"
[2013-11-05 13:07:10 -0500] holms: coderanger: you available :}?
[2013-11-05 13:12:37 -0500] holms: anybody?>
[2013-11-05 13:16:26 -0500] Cope: holms: don't put logic in roles
[2013-11-05 13:39:11 -0500] holms: Cope:
[2013-11-05 13:39:19 -0500] holms: what can i do if cookbook only supports debian
[2013-11-05 13:39:19 -0500] holms: LD
[2013-11-05 13:39:21 -0500] holms: :)
[2013-11-05 13:39:26 -0500] holms: where can i put logic then?
[2013-11-05 13:55:22 -0500] lewiz: Is there a remote_directory that handles non-cookbook URIs?  e.g. paths on the filesystem, remote HTTP hosts, etc.
[2013-11-05 13:59:01 -0500] adamjk-dev: holms: make the cookbook support another platform.... or write a wrapper cookbook
[2013-11-05 14:00:21 -0500] bLaind_: Almost finished doing chef-cookbook for our server setup
[2013-11-05 14:00:31 -0500] bLaind_: pretty amazed :)
[2013-11-05 14:03:40 -0500] dmdeklerk: I was wondering if its worth the trouble to switch from Virtualbox+vagrant to LXC+vagrant. Is it really that faster and more importantly bug free?
[2013-11-05 14:05:50 -0500] adamjk-dev: dmdeklerk: we currently use Virtualbox + Vagrant, and are evaluating moving to VMWare + Vagrant
[2013-11-05 14:09:18 -0500] dmdeklerk: I'm allready on an ubuntu desktop and my servers run ubuntu server. Perfect match I would think. Its just that its all so new havent heard anyone in this channel about it either.
[2013-11-05 14:10:12 -0500] dmdeklerk: adamjk-dev: theres no *free* way of going the VMWare way is there?
[2013-11-05 14:11:00 -0500] adamjk-dev: dmdeklerk: there is not... I think it was like $280 a license for VMWare Workstation, and then $80 for the Vagrant provider if I remember correctly
[2013-11-05 14:11:24 -0500] adamjk-dev: dmdeklerk: so, unfortunately not.... and I don't know enough about LXC nor have I tried it
[2013-11-05 14:12:31 -0500] adamjk-dev: dmdeklerk: I think the issues we were seeing wiht Virtualbox was naming/uniqueness issues with having multiples of the same *.box file provisioned under a single user account at the same time
[2013-11-05 14:12:53 -0500] adamjk-dev: dmdeklerk: also, I believe we had some performance issues with disks in Virtualbox, but I am going off of what a coworker experienced
[2013-11-05 14:13:37 -0500] dmdeklerk: adamjk-dev: my main issue is speed of convergence, thats supposed to be alot faster with LXC
[2013-11-05 14:14:16 -0500] ocholetras: hi guys does any of you lead with non ascii chars on templates?
[2013-11-05 14:14:41 -0500] ocholetras: it seems to cause the cookbook being not showed up correctly on the web interface
[2013-11-05 14:17:18 -0500] adamjk-dev: dmdeklerk: ah, yeah I wouldn't know too much
[2013-11-05 14:17:29 -0500] adamjk-dev: dmdeklerk: id be interested to know the results :)
[2013-11-05 14:17:44 -0500] dmdeklerk: keep you posted
[2013-11-05 14:17:47 -0500] adamjk-dev: dmdeklerk: we are about to benchmark virtualbox vs. vmware and we just ordered some serious hardware to run it
[2013-11-05 14:18:02 -0500] adamjk-dev: dmdeklerk: best of luck
[2013-11-05 14:30:03 -0500] taion809: good evening, i'm trying to install knife-ec2 0.6.6 but i'm running into errors, is there any secret sauce besides just listing chef and knife-ec2 in the gemfile?  here is my output, http://paste.ofcode.org/yyeD7E2R95a4Yx4v8rEarX
[2013-11-05 14:39:13 -0500] gchristensen: taion809: what OS?
[2013-11-05 14:39:23 -0500] taion809: ubuntu 13.04
[2013-11-05 14:40:45 -0500] noorul: hello chefs
[2013-11-05 14:41:02 -0500] noorul: I am trying to install chefspec, but I get the following error
[2013-11-05 14:41:03 -0500] noorul: ERROR:  While executing gem ... (Gem::DependencyError)
[2013-11-05 14:41:05 -0500] noorul:     Unable to resolve dependencies: chef requires json ( 1.7.7, >= 1.4.4)
[2013-11-05 14:41:10 -0500] noorul: Is this familiar?
[2013-11-05 14:42:52 -0500] dmdeklerk: noorul: no but it is familiar bundler behavior
[2013-11-05 14:43:05 -0500] gchristensen: taion809: sorry, I'm not familiar with that. It might be useful to ask #ruby what is going on - it appears to be an error with eventmachine thouh.
[2013-11-05 14:43:49 -0500] taion809: gchristensen: yeah, i'll give it a shot in the morning i guess thanks
[2013-11-05 14:44:20 -0500] noorul: dmdeklerk: I am not sure whether I am using bundler
[2013-11-05 14:44:23 -0500] gchristensen: taion809: in the morning?? it IS the morning! ;)
[2013-11-05 14:44:30 -0500] noorul: dmdeklerk: all I am doing is gem install chefspec
[2013-11-05 14:44:40 -0500] noorul: dmdeklerk: and I get that.
[2013-11-05 14:44:46 -0500] taion809: not yet, but i'm about to step into the future in just 15 minutes
[2013-11-05 14:44:59 -0500] gchristensen: oh?
[2013-11-05 14:45:37 -0500] taion809: still in japan
[2013-11-05 14:45:58 -0500] gchristensen: yeah, but tepping into the future?
[2013-11-05 14:48:08 -0500] dmdeklerk: noorul: what you can do is look up what version of json is installed `gem list json`. and then remove those `gem uninstall json`. and then run `gem install chefspec` again.
[2013-11-05 14:48:20 -0500] dmdeklerk: There is a risk thouhg
[2013-11-05 14:48:28 -0500] |rt|: I have a chefspec question....it looks like chefspec provides the ability to test cron resources but I'm not finding any support for cron_d resources....am I just overlooking something obvious?
[2013-11-05 14:48:47 -0500] dmdeklerk: The risk is that the gem you remove is needed by some other program
[2013-11-05 14:49:24 -0500] dmdeklerk: But you could always re-install
[2013-11-05 14:49:50 -0500] noorul: dmdeklerk: But I don't see json 1.7.7
[2013-11-05 14:50:01 -0500] noorul: dmdeklerk: How do I install json 1.7.7 ?
[2013-11-05 14:50:23 -0500] dmdeklerk: What does `gem list json` say?
[2013-11-05 14:50:29 -0500] noorul: 1.8.0
[2013-11-05 14:50:35 -0500] gchristensen: noorul: it appears that you installed chef from gem - what version are you running? its considered best to install from omnibus - curl -L https://www.opscode.com/chef/install.sh | sudo bash
[2013-11-05 14:51:02 -0500] noorul: gchristensen: Oh, I see. I will remove chef then
[2013-11-05 14:51:09 -0500] dmdeklerk: he's installing chefspec. thats not in omnibus right?
[2013-11-05 14:51:29 -0500] gchristensen: dmdeklerk: correct, but his chef installation is conflicting with it
[2013-11-05 14:51:46 -0500] gchristensen: is my theory
[2013-11-05 14:52:04 -0500] noorul: I removed chef, but I still get that error
[2013-11-05 14:52:28 -0500] dmdeklerk: noorul: gem does dependency management and that existing 1.8.0 is confusing it. atrick is to remove that and have its depencies calculated again. most of time then it will work
[2013-11-05 14:53:24 -0500] dmdeklerk: gchristensen: you dont know if that json gem he's requiring is from chef. could have been from any program
[2013-11-05 14:53:26 -0500] noorul:  Unable to resolve dependencies: httparty requires json (~> 1.8); chef requires json ( 1.7.7, >= 1.4.4); chef-zero requires json (>= 0)
[2013-11-05 14:53:45 -0500] gchristensen: dmdeklerk: that is valid
[2013-11-05 14:53:46 -0500] noorul: All this is happening in fresh new rvm 1.9.3
[2013-11-05 14:54:26 -0500] noorul: chef is not install, chef-zero is not installed
[2013-11-05 14:54:41 -0500] dmdeklerk: noorul: what are you doing ? do you want to run chefspec or install chef?
[2013-11-05 14:54:50 -0500] noorul: gem install chefspec
[2013-11-05 14:54:52 -0500] adamjk-dev: noorul: use bundler
[2013-11-05 14:54:56 -0500] dmdeklerk: amen
[2013-11-05 14:55:12 -0500] dmdeklerk: if using chefspec you should really use bundler
[2013-11-05 14:55:29 -0500] CPS: in a recipe i need to detect windows server 2003 vs 2008. how do i do that? what platform does chef report those two as?
[2013-11-05 14:55:38 -0500] adamjk-dev: noorul: gem install bundler
[2013-11-05 14:56:10 -0500] adamjk-dev: noorul: then create a Gemfile with:     source: 'https://rubygems.org'   (newline)     gem 'chefspec'
[2013-11-05 14:56:26 -0500] adamjk-dev: noorul: then issue a 'bundle install'   (it will inspect the contents of the Gemfile in the current directory)
[2013-11-05 14:57:01 -0500] |rt|: anyone have any ideas on testing a cron_d resource with chefspec?  I tried to use a template resource to see if the cron.d file was created with a template...but that didn't seem to work
[2013-11-05 14:57:06 -0500] dmdeklerk: noorul: if installing gems through gem install or bundle install and you get "Unable to resolve dependencies" its almost always because of previous gems that are on the system.
[2013-11-05 14:57:06 -0500] noorul: This is already there in my source repo
[2013-11-05 14:57:11 -0500] adamjk-dev: noorul: the alternative is to manually install the needed versions of json (gem install json -v <version>)
[2013-11-05 14:58:07 -0500] dmdeklerk: noorul: you can work your way through it by each time uninstalling the gem that is complained about. if you keep doing this you will have a successfull install.
[2013-11-05 14:58:19 -0500] cannonball: Hello, all.  About to do a first time chef server install.  I'm curious/confused why the download section would let me choose 11.0.4 or .6 or .8.  Why not just most recent?  Is there some kind of backwards compatibility issue with most recent?
[2013-11-05 14:59:33 -0500] Holos: in a recipe when I have a line like: git "/opt/mysources/couch" do  what is the syntax to make "/opt/mysources/couch" use a variable I've defined earler as home_dir? ":[home_dir]" gets taken as a literal.
[2013-11-05 15:00:02 -0500] dmdeklerk:  "/opt/#{my_variable}/couch"
[2013-11-05 15:00:50 -0500] Holos: dmdeklerk: thanks
[2013-11-05 15:00:51 -0500] dmdeklerk: ?
[2013-11-05 15:01:05 -0500] dmdeklerk: thats plain ruby
[2013-11-05 15:01:28 -0500] jtimberman: CPS: they're both 'windows' as their platform, but there will be a different platform version. it's not the year, but a thing like 6.002 or something.
[2013-11-05 15:01:40 -0500] jtimberman: CPS: I seem to recall there's a chart on the internet somewhere that has them. Maybe someone knows offhand.
[2013-11-05 15:01:54 -0500] CPS: yeah i've had a hard time finding that
[2013-11-05 15:02:10 -0500] jtimberman: this perhaps: http://msdn.microsoft.com/en-us/library/windows/desktop/ms724832(v=vs.85).aspx
[2013-11-05 15:02:33 -0500] CPS: that looks good, thanks
[2013-11-05 15:05:37 -0500] noorul: adamjk-dev: Now I get this
[2013-11-05 15:05:40 -0500] noorul: /home/noorul/.rvm/gems/ruby-1.9.3-p448/gems/chefspec-0.0.1/lib/chefspec.rb:1:in `require': cannot load such file -- chef
[2013-11-05 15:05:52 -0500] noorul: Should I install chef using omnibus?
[2013-11-05 15:06:08 -0500] adamjk-dev: noorul: hrmmmm now I am confused....
[2013-11-05 15:06:15 -0500] adamjk-dev: noorul: we install via omnibus, yes
[2013-11-05 15:06:29 -0500] noorul: what is the confusion?
[2013-11-05 15:09:15 -0500] jtimberman: noorul: generally i use the omnibus chef only for running chef-client et al to manage my system. i use a custom ruby environment (rvm, rbenv, chruby, whatever) for doing development on ruby code, including cookbooks (w/ berkshelf, test-kitchen, knife plugins, etc)
[2013-11-05 15:09:45 -0500] noorul: I installed chef
[2013-11-05 15:09:52 -0500] noorul: but I still get the same error
[2013-11-05 15:10:33 -0500] noorul: jtimberman: Now I installed chef using omnibus
[2013-11-05 15:10:57 -0500] noorul: jtimberman: Now I have rvm and use 1.9.3
[2013-11-05 15:11:28 -0500] noorul: jtimberman: Now I have bundler
[2013-11-05 15:11:46 -0500] noorul: jtimberman: but bundler run rspec gives me this
[2013-11-05 15:11:57 -0500] noorul: /home/noorul/.rvm/gems/ruby-1.9.3-p448/gems/chefspec-0.0.1/lib/chefspec.rb:1:in `require': cannot load such file -- chef (LoadError)
[2013-11-05 15:12:26 -0500] Cope: noorul: you need to make your gemfile specify to use chefspec >= 2
[2013-11-05 15:13:20 -0500] cannonball: I was unable to install chef-server into an OpenVZ CentOS 6.x container because the installer wanted to control some /proc/sys variables that are excluded by OVZ, so I installed it in a KVM.  The machine I intended to install the chef-client is an OpenVZ container as well.  Am I going to experience similar problems with installing/running chef-client in OVZ, or is that not going to be an issue?
[2013-11-05 15:14:54 -0500] noorul: http://pastie.org/8457265
[2013-11-05 15:15:29 -0500] noorul: jtimberman: http://pastie.org/8457265
[2013-11-05 15:19:32 -0500] noorul: I have the following in my Gemfile
[2013-11-05 15:19:34 -0500] noorul: source 'https://rubygems.org'
[2013-11-05 15:19:34 -0500] noorul: gem 'berkshelf'
[2013-11-05 15:19:34 -0500] noorul: gem 'rspec', :require => 'spec'
[2013-11-05 15:19:37 -0500] noorul: gem 'chefspec', '>2'
[2013-11-05 15:21:40 -0500] dmdeklerk: noorul: you have to version berkshelf. look on rubygems.com for the latest version
[2013-11-05 15:22:08 -0500] dmdeklerk: noorul: also do this gem "chefspec", "~> 3.0.1"
[2013-11-05 15:23:12 -0500] jbz: Does anyone have a recommendation for a cookbook to manage network interfaces (add IPs, specifically) on CentOS?
[2013-11-05 15:23:17 -0500] jbz: (ideally with a LWRP lol)
[2013-11-05 15:23:40 -0500] jtimberman: jbz: the ifconfig resource manages network interfaces. built into core chef.
[2013-11-05 15:23:54 -0500] jbz: jtimberman: oh.  Well, derp.  :-)  Thanks.
[2013-11-05 15:24:26 -0500] jtimberman: jbz: i believe there were improvements recently, so perhaps try v 11.8 :)
[2013-11-05 15:24:45 -0500] alexbst_: nice jtimberman
[2013-11-05 15:24:49 -0500] jbz: ahaaaa
[2013-11-05 15:24:54 -0500] alexbst_: and hi JBZ :)
[2013-11-05 15:24:56 -0500] jtimberman: i know debian support was added but i don't know what version
[2013-11-05 15:25:01 -0500] jbz: sup alexbst_ :-)
[2013-11-05 15:25:06 -0500] alexbst_: jbz - you saw my mail ;)
[2013-11-05 15:25:12 -0500] jbz: no?
[2013-11-05 15:25:17 -0500] alexbst_: check your gmail
[2013-11-05 15:25:53 -0500] noorul: dmdeklerk: Nothing much changed, still get http://pastie.org/8457299
[2013-11-05 15:27:06 -0500] dmdeklerk: jtimberman: What would you think is better. run sidekiq workers on ubuntu with upstart or runit_service with rc_mon (cgroups)?
[2013-11-05 15:27:21 -0500] dmdeklerk: noorul: there is gem "berkshelf", "~> 2.0.10" it seems to not depend on json
[2013-11-05 15:27:27 -0500] jtimberman: dmdeklerk: we use sidekiq for an internal service and it's managed by runit.
[2013-11-05 15:27:38 -0500] noorul: dmdeklerk: It does
[2013-11-05 15:28:04 -0500] noorul: http://pastie.org/8457309
[2013-11-05 15:28:28 -0500] dmdeklerk: jtimberman: ok thanks - been setting that up to
[2013-11-05 15:28:34 -0500] jtimberman: dmdeklerk: we use runit for all the services in the chef server / enterprise chef; we've already done the work to make runit work on RHEL too, so doing anything ubuntu-specific a la upstart is a wasted effort for us :)
[2013-11-05 15:28:40 -0500] adnichols: anyone aware of why test-kitchen 1.0.0.beta.4 using chef_zero would force the install of chef 11.8 on the node being tested?
[2013-11-05 15:28:52 -0500] jtimberman: https://github.com/mperham/sidekiq/blob/master/examples/runit/run
[2013-11-05 15:29:02 -0500] jtimberman: adnichols: why wouldn't you want chef 11.8 (troll)
[2013-11-05 15:29:18 -0500] dmdeklerk: jep that where I saw you. hence the directed question
[2013-11-05 15:29:25 -0500] adnichols: jtimberman because I'm trying to repro another problem where 11.8 seems to not properly install gem's w/ gem_package :)
[2013-11-05 15:29:53 -0500] adnichols: jtimberman have you seen this possibly? Save me some effort?
[2013-11-05 15:30:16 -0500] adnichols: recipe that was working great suddenly stops installing bluepill gem when we update to chef 11.8
[2013-11-05 15:30:37 -0500] jtimberman: i haven't
[2013-11-05 15:30:45 -0500] jtimberman: i don't think i have test-kitchen 1.0.0.beta.4 installed yet :)
[2013-11-05 15:30:51 -0500] adnichols: only seems to happen under chef_zero - chef-solo works fine
[2013-11-05 15:30:56 -0500] jtimberman: been making our infrastructure resilient ;)
[2013-11-05 15:31:04 -0500] adnichols: yeah, that's good - we apprecate that :)
[2013-11-05 15:31:07 -0500] jtimberman: hehehe
[2013-11-05 15:31:48 -0500] noorul: All this time I was using 'bundle install' instead I should have used 'bundle update'.
[2013-11-05 15:31:54 -0500] adnichols: btw - is there someone in seattle next week who would be good to chat w/ about functional (and performant) CI environments for cookbooks?
[2013-11-05 15:31:55 -0500] noorul: Thank you all for the help!
[2013-11-05 15:31:58 -0500] dmdeklerk: noorul: really?
[2013-11-05 15:32:17 -0500] dmdeklerk: noorul: use `bundle update` ;-)
[2013-11-05 15:32:49 -0500] noorul: what a day
[2013-11-05 15:33:44 -0500] jtimberman: adnichols: you mean at the summit?
[2013-11-05 15:34:01 -0500] jtimberman: i'm sure you could arrange such a session. lots of interest in that topic.
[2013-11-05 15:35:45 -0500] cwj: adnichols: when you say environments are you referring to a tool like jenkins?
[2013-11-05 15:35:54 -0500] cwj: or something different
[2013-11-05 15:36:37 -0500] cwj: maybe you mean more like chef-zero/local mode etc
[2013-11-05 15:36:44 -0500] cwj: anyway i am interested in those topics
[2013-11-05 15:38:34 -0500] holms: if you use ubuntu try to push alt+prinscreen+c
[2013-11-05 15:38:39 -0500] holms: magic will happen
[2013-11-05 15:40:19 -0500] adnichols: cwj I'm interested in both - mostly I'm interested in getting away from the pain that is 45 minute converge runs under vagrant
[2013-11-05 15:40:44 -0500] adnichols: We are not yet pushing chef changes through Jenkins but plan on it - however we have quite much of the automation jenkins would use in place already
[2013-11-05 15:41:16 -0500] adnichols: I should s/vagrant/virtualbox/
[2013-11-05 15:42:43 -0500] heathsnow_: Know what's wrong w/this?  I'm trying to match my databag keys w/node role but keep getting error  NoMethodError: undefined method `keys'.  Gist:  https://gist.github.com/heathsnow/075622d2e3d6ff03f467
[2013-11-05 15:46:15 -0500] cwj: adnichols: yeah i am in a similar place
[2013-11-05 15:46:43 -0500] adnichols: cwj so mostly I'm interested in offloading converge runs from local workstations to some CI environment w/ lxc or something
[2013-11-05 15:47:02 -0500] cwj: yep
[2013-11-05 15:47:16 -0500] adnichols: cwj will you be at the summit next week?
[2013-11-05 15:47:20 -0500] cwj: sure will
[2013-11-05 15:47:26 -0500] adnichols: nice - ok, will have to touch base
[2013-11-05 15:47:36 -0500] cwj: \m/
[2013-11-05 15:48:20 -0500] cwj: mostly hating jenkins lately as i try to build the cookbook for deploying a chef-centric jenkins instance
[2013-11-05 15:48:41 -0500] cwj: all the plugins have changed under me and now i have many more .xml.erb to wrangle
[2013-11-05 15:59:14 -0500] fak3r: it only takes 228MG, so that's good
[2013-11-05 16:00:24 -0500] heathsnow_: jjjlkkkkjq:q
[2013-11-05 16:01:32 -0500] noorul: hello again
[2013-11-05 16:02:20 -0500] noorul: I have a cookbook which enables a chef handler using chef_handler cookbook
[2013-11-05 16:02:47 -0500] noorul: I am not able to use chefspec because it is looking for the gem which is not actually present
[2013-11-05 16:02:56 -0500] noorul: Should I be installing it
[2013-11-05 16:05:43 -0500] amore: Hi, I'm trying to override a template from the nginx cookbook from a wrapper cookbook
[2013-11-05 16:07:12 -0500] amore: but when I do
[2013-11-05 16:07:41 -0500] amore: the resources("template[filename]") command
[2013-11-05 16:07:45 -0500] dmdeklerk: noorul: http://stackoverflow.com/questions/18260034/why-cant-chefspec-find-the-chef-handler-cookbook ?
[2013-11-05 16:07:53 -0500] amore: tells me that the resource does not exists
[2013-11-05 16:08:33 -0500] adamjk-dev: dmdeklerk: noorul: you can also tell chefspec the cookbook path etc. or use it with Berkshelf
[2013-11-05 16:09:17 -0500] jchauncey: anyone having issues where test-kitchen is using chef 11.8.0 instead of the version of the omnibus installer you specify in the .kitchen.yml
[2013-11-05 16:11:39 -0500] noorul: dmdeklerk, adamjk-dev : I have chef handler wrapped in a gem. It was complaining about that. So I added that to Gemfile and bundle update
[2013-11-05 16:12:14 -0500] adamjk-dev: hehe, good stuff
[2013-11-05 16:12:51 -0500] adnichols: to follow on jchauncey's comment - using chef_zero under test-kitchen depends on knife-essentials which has an unconstrained dependency on chef - so it always uses 11.8 - and when using chef_zero test-kitchen doesn't appear to use the omnibus version of chef
[2013-11-05 16:13:13 -0500] adnichols: so I'm not sure how we're supposed to test older versions of chef under test-kitchen using chef_zero
[2013-11-05 16:14:19 -0500] cwj: i am probably wrong, but i get the impression that it would be easier for t-k to switch from chef_zero to the new chef local-mode stuff than to fix some of the chef_zero provisioner weirdness i have seen
[2013-11-05 16:16:08 -0500] jtimberman: cwj: possibly, though that would require using chef 11.8 as a minimum version
[2013-11-05 16:16:09 -0500] jtimberman: i believe
[2013-11-05 16:16:09 -0500] jtimberman: which doesn't help if you want to test against old versions of chef.
[2013-11-05 16:16:09 -0500] jtimberman: but i don't know any reason why you wouldn't want to upgrade to 11.8 :)
[2013-11-05 16:16:16 -0500] cwj: heheh
[2013-11-05 16:16:35 -0500] cwj: true, and maybe also true
[2013-11-05 16:16:52 -0500] adnichols: jtimberman because I want to validate that a problem I'm seeing in 11.8 is actually constrained to that version :)
[2013-11-05 16:17:04 -0500] cwj: welcome to yakbocom
[2013-11-05 16:17:11 -0500] adnichols: I could just submit an issue I suppose
[2013-11-05 16:19:07 -0500] holms: HOW CAN I create role with knife, without PEM key
[2013-11-05 16:19:10 -0500] holms: im on chef-solo here
[2013-11-05 16:19:15 -0500] holms: anybody please?
[2013-11-05 16:19:24 -0500] holms: docs doesn't explain this situation
[2013-11-05 16:20:01 -0500] jtimberman: holms: don't need knife, you can just edit the role file in your roles directory.
[2013-11-05 16:20:10 -0500] holms: how to generate it atleas
[2013-11-05 16:20:19 -0500] holms: like knife role crete does
[2013-11-05 16:21:29 -0500] holms: with a help of chef-solo and knife-solo, you could create whole cluster from one repository on your laptop!
[2013-11-05 16:26:04 -0500] surge_: Are heredocs not supported in the logrotate provider? I can't upload my recipe to our chef server for some reason.
[2013-11-05 16:26:23 -0500] surge_: I would like the multiline support for readability
[2013-11-05 16:26:28 -0500] someara: is chef-solo webscale?
[2013-11-05 16:27:13 -0500] surge_: Oh wait, false alarm. I see the syntax error.
[2013-11-05 16:28:22 -0500] holms: someara: probably not but if you need to run cookbooks regularly
[2013-11-05 16:28:31 -0500] holms: someara: but for provisioning it one time it's totally fine
[2013-11-05 16:28:39 -0500] holms: then you can setup chefserver :)
[2013-11-05 16:28:47 -0500] holms: for people who has 3 vm's
[2013-11-05 16:28:59 -0500] holms: chef-solo is perfect (knife-solo too)
[2013-11-05 16:30:17 -0500] jkeiser: adnichols: since it's an unconstrained dependency, can't you just restrict the version of chef test-kitchen wants?  I might be misunderstanding
[2013-11-05 16:32:55 -0500] adnichols: jkeiser as we're looking into this more it looks like an issue that may have been resolve in the latest test-kitchen but not sure why it's not helping us. test-kitchen already supports installing a specific omnibus version, that just isn't what's being used during the converge
[2013-11-05 16:35:24 -0500] jkeiser: weird ...
[2013-11-05 16:36:26 -0500] jkeiser: adnichols: there was a thing sc added to the chef_zero provisioner that installed chef-zero during the converge
[2013-11-05 16:36:46 -0500] jkeiser: adnichols: there was a report yesterday from someone who said chef-zero was getting installed during every single converge, too
[2013-11-05 16:39:04 -0500] fveillette: do you have guy's a ruby/chef way to check if a windows service is started or not?
[2013-11-05 16:47:10 -0500] adnichols: jkeiser it appears to be related to PR #230 in test-kitchen - test-kitchen is preferring the chef gem installed under /tmp/kitchen-chef-zero - which is also why my gem problem under 11.8 is happening, because the bluepill gem gets installed under /tmp/kitchen-chef-zero however the bluepill provider looks for the binary in /opt/chef/embedded
[2013-11-05 16:48:41 -0500] fveillette: do you have guy's a ruby/chef way to check if a windows service is started or not?
[2013-11-05 16:50:10 -0500] AskSteve: Anybody bootstrapping Mavericks?  If so, how?
[2013-11-05 16:56:36 -0500] troyready: AskSteve, yes, by modifying the install script
[2013-11-05 16:57:08 -0500] troyready: AskSteve, https://tickets.opscode.com/browse/CHEF-4678
[2013-11-05 16:57:55 -0500] joelmoss: hi all
[2013-11-05 16:57:55 -0500] joelmoss: so I'm realising that storing attributes in roles is bad, but then where is best to store attributes that are specific to a node or cluster of nodes?
[2013-11-05 16:58:41 -0500] adnichols: joelmoss I'm not sure it's bad - just not right for all cases, why have you found it to not work for you?
[2013-11-05 16:59:05 -0500] joelmoss: I suppose its just what I';m reading, and don't like the fact that roles are not versioned
[2013-11-05 16:59:28 -0500] adnichols: joelmoss yeah, so if you need versioning then you need to put things in a recipe for now - because really nothing other than those is
[2013-11-05 17:00:02 -0500] adnichols: but the lack of versioning isn't a problem for everyone
[2013-11-05 17:00:10 -0500] shakimra: sorry if this is the wrong place for this, got a couple questions about test-kitchen
[2013-11-05 17:00:18 -0500] shakimra: first is that it's failing to find describe_recipe
[2013-11-05 17:00:45 -0500] shakimra: second is that I can't find a good place to keep separate test ruby files that span suites
[2013-11-05 17:01:05 -0500] joelmoss: adnichols: but if I put them in a recipe, how can I apply them to only a specific node?
[2013-11-05 17:01:26 -0500] adnichols: joelmoss if you put them in a role how can you? same way, add them to that nodes run list and not others
[2013-11-05 17:01:38 -0500] joelmoss: hmm, ok
[2013-11-05 17:01:44 -0500] joelmoss: might keep them in roles for now then
[2013-11-05 17:01:49 -0500] adnichols: :)
[2013-11-05 17:01:56 -0500] joelmoss: thx
[2013-11-05 17:02:26 -0500] joelmoss: how can I specify a role to use the latest cookbook version?
[2013-11-05 17:02:34 -0500] joelmoss: run_list 'recipe[base]'
[2013-11-05 17:02:37 -0500] joelmoss: ?
[2013-11-05 17:03:04 -0500] adnichols: roles don't support specifying cookbook versions - that's supported in environments afaik
[2013-11-05 17:04:41 -0500] joelmoss: so, how do I make a role use my new version of the cookbook?
[2013-11-05 17:04:55 -0500] joelmoss: i just updated the cookbook, but the role is still using old version
[2013-11-05 17:05:05 -0500] adnichols: unless you have version constraints specified in your environment it'll use the latest that is on the server
[2013-11-05 17:05:08 -0500] AskSteve: @troyready Thanks, seems to be working now
[2013-11-05 17:05:15 -0500] joelmoss: k thx adnichols
[2013-11-05 17:05:24 -0500] joelmoss: ah yeah, thats what I've done
[2013-11-05 17:05:42 -0500] troyready: adnichols, isn't it possible to specify cookbook versions with a @x.x.x syntax in roles? I haven't done it, but recall reading about it
[2013-11-05 17:06:06 -0500] adnichols: troyready dunno - that would be sweet but I wasn't aware of that functionality
[2013-11-05 17:07:02 -0500] troyready: http://docs.opscode.com/essentials_cookbook_versions.html#run-lists
[2013-11-05 17:07:57 -0500] jtimberman: troyready: yes that's possible
[2013-11-05 17:08:08 -0500] adnichols: troyready nice, today I learned :)
[2013-11-05 17:09:15 -0500] joelmoss: so am I right in saying that attributes files in my chef repo are ignored?
[2013-11-05 17:09:54 -0500] adnichols: joelmoss not sure what you mean - attributes file aren't ignored in cookbooks
[2013-11-05 17:10:11 -0500] joelmoss: no, not in a cookbook - in my main chef repo
[2013-11-05 17:10:50 -0500] adnichols: joelmoss are you using a chef server or chef-solo?
[2013-11-05 17:10:55 -0500] joelmoss: server
[2013-11-05 17:11:04 -0500] adnichols: then what matters is what's on your server
[2013-11-05 17:11:28 -0500] adnichols: but I'm not sure why you would have attributes in your repo that aren't in a cookbook
[2013-11-05 17:11:53 -0500] joelmoss: its more for attributes that are node specific
[2013-11-05 17:12:13 -0500] adnichols: they'd need to be in a role or environment - both of which get uploaded to the server to be effective
[2013-11-05 17:12:33 -0500] joelmoss: yeah, but those aren't node specific
[2013-11-05 17:12:45 -0500] adnichols: correct
[2013-11-05 17:12:59 -0500] joelmoss: so what do you do if you need to set a node specific attar?
[2013-11-05 17:13:05 -0500] adnichols: node edit?
[2013-11-05 17:13:07 -0500] adnichols: or don't use them
[2013-11-05 17:13:12 -0500] adnichols: I'd advocate the latter
[2013-11-05 17:15:03 -0500] joelmoss: hmm, k
[2013-11-05 17:15:59 -0500] adnichols: because they only persist on the node when you use node attributes they go away if the node goes away - not a great model
[2013-11-05 17:18:51 -0500] joelmoss: thats why I wanted to set them in my chef repo
[2013-11-05 17:18:57 -0500] joelmoss: then the attars won't go anywhere
[2013-11-05 17:19:59 -0500] adnichols: I'm unaware of a way to specify node attributes outside of the node itself on the server
[2013-11-05 17:20:15 -0500] joelmoss: k thx anyway
[2013-11-05 17:20:45 -0500] joelmoss: my current issue/concern with Chef right now, is this separation of server and repo
[2013-11-05 17:21:02 -0500] joelmoss: I could see it being very easy for a change to be made on the server, but not on repo, and vice versa
[2013-11-05 17:21:14 -0500] joelmoss: then stuff gets deleted, overridden etc
[2013-11-05 17:21:27 -0500] adnichols: joelmoss yes, workflow process is an important factor in managing this
[2013-11-05 17:21:53 -0500] adnichols: joelmoss but that separation is helpful - specifically it allows things like having multiple cookbook versions, etc
[2013-11-05 17:21:54 -0500] joelmoss: chef is very powerful, but perhaps a little too flexible
[2013-11-05 17:22:06 -0500] joelmoss: needs a little more convention over configuration
[2013-11-05 17:22:48 -0500] adnichols: joelmoss I think of it as leaving that in your hands to define
[2013-11-05 17:23:08 -0500] adnichols: joelmoss having battled other tools that define that for you - I prefer the flexibility
[2013-11-05 17:46:19 -0500] troyready: Anyone else here using the chef-client cookbook with OS X, specifically 10.9? I'm trying to get chef-client to run as a launchd service (the default in the cookbook), but it doesn't seem to be registering with launchd ("launchctl list" doesn't show any entries for chef-client). Am I missing anything with it?
[2013-11-05 17:49:42 -0500] adamjk-dev: hey all... anyone familiar with chefspec 3.0 +?
[2013-11-05 17:50:00 -0500] adamjk-dev: I am having issues making chefspec/chef find my cookbooks
[2013-11-05 17:50:18 -0500] adamjk-dev: I have a dependency named in my metadata.rb file and an accompanying Berksfile (that lists metadata)
[2013-11-05 18:15:12 -0500] steve833: is there a way in json attribute files to reference other attributes (i.e., gateway = node['fqdn'])
[2013-11-05 18:39:38 -0500] philsturgeon: I have a chef server setup, with an attribute being overridden in an environment file. that attribute is being passed as a variable, which has been changed, but im running chef again and the old value is still in the template
[2013-11-05 18:40:02 -0500] philsturgeon: i have tried deleting the environment from the opscode server, and uploading again. i've tried rebooting and running chef multiple times
[2013-11-05 18:40:38 -0500] philsturgeon: I tried "knife environment show stag" and the value is correct there
[2013-11-05 18:41:18 -0500] philsturgeon: but its not correct when I run it. I've even deleted the provisioned template file from the file system, and run chef again. it builds the file with the old valye
[2013-11-05 18:41:24 -0500] philsturgeon: why wont chef respect this changed value?!
[2013-11-05 18:46:03 -0500] azret: is there a way to get the yum cookbook to run before the database cookbook
[2013-11-05 18:46:14 -0500] azret: the compile from the database cookbook is breaking the entire recipe
[2013-11-05 18:46:20 -0500] azret: run list isn't making it run first
[2013-11-05 18:48:17 -0500] cwj: adnichols: fwiw spox is talking about using vagabond on the pdx devopsdays livestream at the moment
[2013-11-05 18:48:29 -0500] cwj: re: CI environment
[2013-11-05 18:48:41 -0500] cwj: https://new.livestream.com/devopsdaysorg/portland2013
[2013-11-05 18:48:51 -0500] adnichols: huh, ok thanks
[2013-11-05 18:51:47 -0500] adnichols: sweet - watching, thx cwj
[2013-11-05 18:52:01 -0500] adnichols: looks right on target
[2013-11-05 18:53:25 -0500] opstrong: does anyone know if knife download started putting environments in /var/chef/environments at some point, or it always did that and I am just losing my mind?
[2013-11-05 18:53:43 -0500] opstrong: I could swear it used to download them to ./environments
[2013-11-05 18:55:44 -0500] jmickle: anyone here familiar with the unit tests for opscode?
[2013-11-05 19:03:10 -0500] chip-: jmickle: You mean Chefspec?
[2013-11-05 19:03:17 -0500] chip-: jmickle: or one of the other frameworks?
[2013-11-05 19:03:23 -0500] jmickle: uh not sure i patched knife-ec2
[2013-11-05 19:03:28 -0500] jmickle: and need to write a quick unit test case
[2013-11-05 19:03:31 -0500] jmickle: but not sure how
[2013-11-05 19:05:42 -0500] chip-: Ah, not recipes, but actual tests for knife.
[2013-11-05 19:06:52 -0500] chip-: Clone the repo, run bundle install.
[2013-11-05 19:07:09 -0500] chip-: Once you've got the bundle you can run bundle exec rspec --color --format progress to run the suite
[2013-11-05 19:07:19 -0500] chip-: The tests themselves are in spec/unit/
[2013-11-05 19:07:45 -0500] jmickle: got it
[2013-11-05 19:07:51 -0500] jmickle: and does it run against vagrant or what?
[2013-11-05 19:07:57 -0500] chip-: It's all in-memory
[2013-11-05 19:08:02 -0500] chip-: super-fast.
[2013-11-05 19:08:13 -0500] jmickle: sup cool
[2013-11-05 19:08:14 -0500] jmickle: thank you so much
[2013-11-05 19:08:22 -0500] chip-: Sure thing. Test early, test often.
[2013-11-05 19:08:26 -0500] jmickle: i added a config var to knife-ec2
[2013-11-05 19:08:29 -0500] jmickle: for dedicated tenancy
[2013-11-05 19:08:30 -0500] jmickle: in vpc mode
[2013-11-05 19:08:36 -0500] chip-: and don't forget to make sure your test fails if your patch is commented out.
[2013-11-05 19:08:48 -0500] jmickle: ok
[2013-11-05 19:09:08 -0500] jmickle: i mean i just need to test the tenancy mode of it i think
[2013-11-05 19:09:09 -0500] jmickle: right?
[2013-11-05 19:12:01 -0500] fveillette: i have a problem on service resource in chef
[2013-11-05 19:12:12 -0500] fveillette: my service is stop on my server
[2013-11-05 19:12:37 -0500] fveillette: my resource set to action nothing is notifies by an other resource with action restart
[2013-11-05 19:12:43 -0500] fveillette: but the service don'T get started
[2013-11-05 19:12:44 -0500] fveillette: why
[2013-11-05 19:13:09 -0500] fveillette: my chef run finish without error
[2013-11-05 19:14:42 -0500] chip-: jmickle: Not sure, haven't ever dug into knife-ec2 or the test suites.
[2013-11-05 19:14:54 -0500] jmickle: got it thanks
[2013-11-05 19:14:59 -0500] chip-: fveillette: Most likely case is the other resource was not updated.
[2013-11-05 19:15:21 -0500] chip-: fveillette: For instance, if a template resource says to notify restart a service, then it will only notify to restart if the template changes in some way.
[2013-11-05 19:17:30 -0500] spox: yay, listen to me stutter \o/
[2013-11-05 19:21:43 -0500] cwj: spox: yay :D
[2013-11-05 19:21:50 -0500] cwj: i thought you did a great job
[2013-11-05 19:22:38 -0500] spox: cwj: thanks :)
[2013-11-05 19:30:39 -0500] adnichols: spox ditto - I thought it was great
[2013-11-05 19:35:10 -0500] zilla: im an open source chef 10 user, trying to set up 11.  lots has changed.  What im running in to now is that my client is trying to download ruby from the web, but my clients dont have web access.  can someone tell me how/where I can configure it to download from an internal URL?
[2013-11-05 19:35:42 -0500] jmickle: zilla: you can download the omnibus install with the embedded ruby
[2013-11-05 19:35:52 -0500] jmickle: and push that package out to your infrastructure
[2013-11-05 19:37:35 -0500] zilla: does the current embedded ruby work well?  I thought I ran into an issue where some of my templates were encoded wrong and CentOS couldnt read it.
[2013-11-05 19:38:01 -0500] jmickle: villa the only problem i hit at times was i had to change from using the gem_install to chef_gem
[2013-11-05 19:38:05 -0500] jmickle: zilla*
[2013-11-05 19:38:44 -0500] CPS: how do i get a node's operating system attribute?\
[2013-11-05 19:39:48 -0500] someara: node['platform']
[2013-11-05 19:40:51 -0500] zilla: ok i'll start there
[2013-11-05 19:41:37 -0500] rafaelmagu: someara: I just added a comment to COOK-2837 regarding table_cache setting on 5.6+ MySQL installs
[2013-11-05 19:42:18 -0500] rafaelmagu: But I got a quick question: is Ohai responsible for setting node['mysql']['version']?
[2013-11-05 19:44:29 -0500] fveillette: i have a problem on service resource in chef
[2013-11-05 19:44:35 -0500] fveillette: my resource set to action nothing is notifies by an other resource with action restart
[2013-11-05 19:44:44 -0500] fveillette: my service is stop on my server
[2013-11-05 19:44:49 -0500] fveillette: but the service don'T get started
[2013-11-05 19:46:04 -0500] someara: rafaelmagu yea it looks like its not set anywhere. it wasn't before the refactor either. It's on my List now =)
[2013-11-05 19:46:05 -0500] jtimberman: CPS: operating system is node['os']
[2013-11-05 19:46:09 -0500] jtimberman: CPS: e.g. on ubuntu it'll be "linux"
[2013-11-05 19:47:12 -0500] rafaelmagu: someara: cool. Just wanted to confirm. I need to push a change on my own cookbook that includes mysql::server, and I'm just setting node['mysql']['version'] = 5.6 until then
[2013-11-05 19:47:19 -0500] heathsnow: Hmmm...when running 'knife bootstrap' with the '--secret-file' parameter, is there a way to [A] pass in multiple files, and have the file get copied w/a unique name (instead of always being renamed to 'encrypted_data_bag_secret'   ?
[2013-11-05 19:48:02 -0500] heathsnow: perhaps there's a wiki on this I can't find?
[2013-11-05 19:49:06 -0500] CPS: thanks
[2013-11-05 19:49:37 -0500] CPS: is there a way i can use knife to just print that out?
[2013-11-05 19:50:22 -0500] fak3r: had problems with the omnibus installer running on mac 10.9, this fixed it : https://fak3r.com/2013/10/28/howto-install-chef-vagrant-on-10.9/
[2013-11-05 19:52:06 -0500] heathsnow: hmmm...guess i'd just use one decryption key anyways
[2013-11-05 19:52:13 -0500] holms: fak3r: you're got your own blog engine?
[2013-11-05 19:52:17 -0500] jmickle: anyone run into this WARNING: Could not load IOV methods. Check your GSSAPI C library for an update
[2013-11-05 19:52:57 -0500] rafaelmagu: jmickle: I get those but I tend to ignore them
[2013-11-05 19:53:28 -0500] jmickle: it goes to. no instance id is specific, trying to retrieve it from node name and i can't seem to run the chefspec
[2013-11-05 19:53:47 -0500] fak3r: holms: no I'm running jekyll, storing all the code in github
[2013-11-05 19:53:48 -0500] jmickle: do i have to setup a config file for it or something>
[2013-11-05 19:55:53 -0500] rafaelmagu: jmickle: is this during bootstrap?
[2013-11-05 19:56:03 -0500] jmickle: no trying to run the spec knife-ec2 reepo
[2013-11-05 19:59:21 -0500] holms: fak3r: perfect
[2013-11-05 20:00:57 -0500] jmickle: whats the best way to update chef-server
[2013-11-05 20:01:21 -0500] jmickle: from 11.0.6 to 11.0.8
[2013-11-05 20:01:45 -0500] holms: gem upgrade is not enough?:)
[2013-11-05 20:01:55 -0500] jmickle: for server?
[2013-11-05 20:02:05 -0500] jmickle: i mean the actual server
[2013-11-05 20:02:14 -0500] fak3r: holms: you can do it that way, then serve from github, for free - I still run my own server at home though, you know, for the luz
[2013-11-05 20:02:18 -0500] gleam: rerun the omnibus installer script
[2013-11-05 20:02:28 -0500] jmickle: gleam it won't risk data though will it>
[2013-11-05 20:03:08 -0500] gleam: not to my knowledge
[2013-11-05 20:03:13 -0500] jmickle: ok
[2013-11-05 20:03:53 -0500] gleam: after the new version is installed run chef-server-ctl reconfigure
[2013-11-05 20:03:53 -0500] gleam: should cover it
[2013-11-05 20:04:08 -0500] jmickle: ok
[2013-11-05 20:04:12 -0500] holms: fak3r: nice one thanks :)
[2013-11-05 20:04:14 -0500] supercom32: Question: When I use 'windows_package' to install something, it seems to copy the installer file into the current directory I am running in (Chef repo area). If I run my recipe twice and the installer exists, it fails with a "The filename, directory name, or volume label syntax is incorrect." error. Is there a way to clean installer files out?
[2013-11-05 20:04:19 -0500] jmickle: i had some custom attributes in the configure script il back those up to be safe
[2013-11-05 20:07:16 -0500] eggsy84: hi all - i'm thinking of starting a NorthWest UK DevOps meetup - would this interest anyone?
[2013-11-05 20:12:06 -0500] mveitas: trying to track down an issue I am having with chefspec and oahi:   http://pastebin.com/kpJNMek6
[2013-11-05 20:13:54 -0500] jmartin: spox: excellent info again
[2013-11-05 20:18:43 -0500] fveillette: i have a problem on service resource in chef
[2013-11-05 20:18:45 -0500] fveillette: my service is stop on my server
[2013-11-05 20:18:50 -0500] fveillette: my resource set to action nothing is notifies by an other resource with action restart
[2013-11-05 20:18:55 -0500] fveillette: but the service don'T get started
[2013-11-05 20:19:02 -0500] fveillette: my chef run finish without error
[2013-11-05 20:19:07 -0500] fveillette: why
[2013-11-05 20:31:43 -0500] Majost: Is playform_family a node attribute or a method?
[2013-11-05 20:31:52 -0500] Majost: er platform_family rather
[2013-11-05 20:32:57 -0500] dmdeklerk: Can anyone tell what the previous *latest* chef-client version was. In my Vagrant file I use 'config.omnibus.chef_version = :latest' but it seems it has been updated to 11.8.0. What would that value would have been a few days ago?
[2013-11-05 20:33:17 -0500] dmdeklerk: 11.6.2  ?
[2013-11-05 20:33:18 -0500] Majost: dmdeklerk: 11.6.2 I think
[2013-11-05 20:33:19 -0500] mveitas: trying to track down an issue I am having with chefspec and oahi:   http://pastebin.com/kpJNMek6  Looks like there was a patch to fix this:  https://github.com/sethvargo/chefspec/pull/141  but it still needs to be an issue
[2013-11-05 20:34:16 -0500] garnertb: Does anyone know if I specify two actions (like :nothing, :create_if_missing) in a resource if Chef will respect each action and do nothing until notified and then create_if_missing?
[2013-11-05 20:34:22 -0500] dmdeklerk: Majost: you think so to. well that assures me a bit more. thanks
[2013-11-05 20:34:30 -0500] Majost: dmdeklerk: np
[2013-11-05 20:34:53 -0500] Majost: dmdeklerk: the topic has been out of date for a while
[2013-11-05 20:35:05 -0500] Majost: one of the chan ops needs to fix it
[2013-11-05 20:36:14 -0500] dmdeklerk: 11.6.0 yeah silly
[2013-11-05 20:37:01 -0500] supercom32: When I used "windows_package" to do an install using Chef, I noted it leaves the install package on your machine. If you run the recipe a second time, it fails (I assume because it cannot clobber the existing install file)? Anyone have experience with this?
[2013-11-05 20:38:09 -0500] Majost: supercom32: Often times you want the installer to persist so that you can use the checksum to determine if a newer version is 1) available 2) should be installed
[2013-11-05 20:39:06 -0500] supercom32: Majost: This makes sense, but if I run my install recipe a second time, it generates an error.
[2013-11-05 20:39:14 -0500] Majost: supercom32: I usually download windows installers to Chef::Config['file_cache_path']
[2013-11-05 20:39:52 -0500] Majost: supercom32: its likely you are not using the correct registry key name for the windows_package call
[2013-11-05 20:39:53 -0500] supercom32: majost: Does 'windows_package' allow you to specify download location? I didn't notice anything to that effect.
[2013-11-05 20:40:29 -0500] supercom32: majost: Forgive me, as I'm quite new to Chef.  What part of the registry do I need to configure?
[2013-11-05 20:40:51 -0500] Majost: when you use windows_package, you can't do something like: "windows_package 'what_I_want_to_call_this' do"
[2013-11-05 20:41:04 -0500] supercom32: I see
[2013-11-05 20:41:14 -0500] Majost: you need to have the 'what_I_want_to_call_this' actually be what it shows up as in the registry
[2013-11-05 20:41:32 -0500] Majost: https://github.com/opscode-cookbooks/windows#windows_package
[2013-11-05 20:41:53 -0500] Majost: see the section "please note" for the full deal
[2013-11-05 20:42:01 -0500] Majost: its annoying, but thats the way it works
[2013-11-05 20:42:24 -0500] supercom32: Majost: Thanks for the advice. That actually explains a lot. :-)
[2013-11-05 20:42:31 -0500] Majost: np
[2013-11-05 20:44:27 -0500] mveitas: any tips on why chefspec (3.0.1) might not be able to find a cookbook (build-essentials) when I run. I have added require 'chefspec/berkshelf' to my rspec
[2013-11-05 20:49:44 -0500] adnichols: jkeiser - issue written up about my test-kitchen issues https://github.com/opscode/test-kitchen/issues/240 - fwiw
[2013-11-05 20:52:42 -0500] flaccid: possible to request another release/tag for cron cookbook?
[2013-11-05 20:54:16 -0500] jkeiser: adnichols: thanks!  I've pinged sc, maybe he will have an idea what to look at
[2013-11-05 20:55:51 -0500] adnichols: jkeiser awesome -thanks for looking at it
[2013-11-05 21:02:40 -0500] supercom32: Majost: Doh! Turns out I am using the right package name. So after running the same install recipe twice I still get the 'The filename, directory name, or volume label syntax is incorrect." from the Win32 API output.
[2013-11-05 21:05:00 -0500] coderanger: kallistec: What would you say to making resource#to_text not display anything with a leading _? (to steal the python convention)
[2013-11-05 21:06:22 -0500] supercom32: Majost: Ah ha! I think I found the problem. if you leave the installer process in windows in a somewhat messed up state I think it confuses chef. Now it seems to be ok.
[2013-11-05 21:06:25 -0500] Majost: supercom32: huh
[2013-11-05 21:08:07 -0500] supercom32: Majost: The issues I was seeing in terms of running my install recipe a second time. You know how it should simply check to see if the action is nessisary? Well, now it seems to do that correcty and not crash out.
[2013-11-05 21:08:35 -0500] supercom32: Majost: running it a second time, ends almost instantly since it knows the package already exists.
[2013-11-05 21:13:06 -0500] Majost: ah
[2013-11-05 21:13:07 -0500] Majost: good
[2013-11-05 21:15:58 -0500] jmickle: hey coderanger can i pick your brain?
[2013-11-05 21:16:05 -0500] coderanger: Sure, whats up
[2013-11-05 21:16:33 -0500] jmickle: I sent in the patch for dedicated instance to the repo for knife-ec2 they want some unit tests for it
[2013-11-05 21:16:40 -0500] jmickle: but i just don't seem to understand the spec on this unit test
[2013-11-05 21:16:49 -0500] jmickle: like i can't seem to even get it to work
[2013-11-05 21:17:18 -0500] jmickle: I though chef-spec creates everything in memory and does not actually create instance on ec2
[2013-11-05 21:17:19 -0500] jmickle: right?
[2013-11-05 21:17:23 -0500] coderanger: No idea, I've never touched the knife cloud plugins
[2013-11-05 21:17:28 -0500] jmickle: doh
[2013-11-05 21:17:34 -0500] jmickle: anyone you could point in to that has?
[2013-11-05 21:18:15 -0500] coderanger: I don't know who works on those anymore, sorry, the person managing it when I left doesn't hang out on IRC that I'm aware of
[2013-11-05 21:18:32 -0500] jmickle: no worries
[2013-11-05 21:19:24 -0500] jchauncey: chefspec does not do a real convergence
[2013-11-05 21:19:27 -0500] jchauncey: it happens all in memory
[2013-11-05 21:19:38 -0500] jchauncey: strictly for unit testing your cookbooks
[2013-11-05 21:20:07 -0500] jchauncey: if you are writing tests for something like knife-ec2 im guessing you are going to write just plain rspec tests
[2013-11-05 21:20:13 -0500] jmickle: correct
[2013-11-05 21:20:16 -0500] jmickle: jchauncey: can i PM you?
[2013-11-05 21:20:48 -0500] jchauncey: sure
[2013-11-05 21:22:57 -0500] coderanger: I would expect that it just makes real instances too, since you can mock that and assume the tests are correct
[2013-11-05 21:23:05 -0500] coderanger: With APIs, generally the impl is the spec :)
[2013-11-05 21:24:05 -0500] jmickle: hmm
[2013-11-05 21:24:10 -0500] supercom32: Question: Assuming I want to rename a recipe or cookbook, is it as simple as just renaming the files, or is there more metadata I need to modify as well?
[2013-11-05 21:25:45 -0500] kallistec: coderanger: re: Resource#to_text, that's not a bad idea. I tend to prefer whitelisting when possible, for example if all the internal resources used something along the lines of the LWRP resource DSL, you could keep track of what ruby attributes were chef attributes
[2013-11-05 21:26:13 -0500] adnichols: supercom32 you would want to update the name in metadata.rb and there may be other references (README.md, etc)
[2013-11-05 21:26:16 -0500] coderanger: kallistec: +1, this would just be an easier heuristic to do now :)
[2013-11-05 21:26:36 -0500] supercom32: adnichols: Is this something perhaps Knife can do for me?
[2013-11-05 21:26:42 -0500] coderanger: kallistec: I accidentally shoved 500k of JSON data into @update_center to cache it, made the output a tad cluttered :)
[2013-11-05 21:26:45 -0500] adnichols: supercom32 no, we wrote a utility to do it for us
[2013-11-05 21:27:09 -0500] supercom32: adnichols: Is that public, or do I need to roll my own code for that?
[2013-11-05 21:27:19 -0500] holms: is there's anyway to observe what's chef-client executes ?
[2013-11-05 21:27:26 -0500] coderanger: holms: -l debug
[2013-11-05 21:27:27 -0500] adnichols: supercom32 it is not public unfortunately
[2013-11-05 21:27:49 -0500] supercom32: adnichols: Ah ok. Thanks.
[2013-11-05 21:28:11 -0500] holms: coderanger: oh good evening, i mean when launching from chef-server, knife command.  somehow to observer what goes on vm which is being provisioned
[2013-11-05 21:28:22 -0500] kallistec: coderanger: maybe? I'm not opposed to it as an incremental improvement, but if 3rd party HWRPs aren't following the convention then you end up having to rewrite things anyway.
[2013-11-05 21:28:36 -0500] kallistec: coderanger: I gotta run though, we can chat later
[2013-11-05 21:31:44 -0500] supercom32: Hrm... Are cookbooks and recipes case sensitive?
[2013-11-05 21:32:08 -0500] coderanger: supercom32: Probablu
[2013-11-05 21:32:14 -0500] coderanger: holms: Not sure what you mean
[2013-11-05 21:32:33 -0500] holms: hmz
[2013-11-05 21:32:47 -0500] holms: coderanger: k.. you run knife on chef server to cook your nodes right?
[2013-11-05 21:32:53 -0500] coderanger: holms: No
[2013-11-05 21:32:57 -0500] holms: hmz
[2013-11-05 21:33:08 -0500] coderanger: holms: You run knife on your workstation
[2013-11-05 21:33:32 -0500] holms: which connects to chef-server..?
[2013-11-05 21:33:48 -0500] coderanger: holms: Nope
[2013-11-05 21:33:57 -0500] coderanger: holms: It connects directly to your cloud provider
[2013-11-05 21:34:09 -0500] holms: to chef-client?
[2013-11-05 21:34:44 -0500] holms: would be nice to have a scheme ))
[2013-11-05 21:34:46 -0500] coderanger: holms: So the way the process works (using EC2 as an example but htey are all similar)
[2013-11-05 21:34:59 -0500] coderanger: knife talks to the EC2 API and starts the specified type of server
[2013-11-05 21:35:05 -0500] coderanger: it waits for the server to come up
[2013-11-05 21:35:14 -0500] supercom32: coderanger: Are metadata files such as 'README.md' and 'ChANGELOG.md' nessisary? or are they only used if they exist (or a person just reads them manually)?
[2013-11-05 21:35:35 -0500] cannonball: I installed rvm (stable) so I could install foodcritic.  When I set rvm to use that stable version (which is 1.9.3), knife stops working, throwing an error.  When I set it back with 'rvm system', knife starts working again.  Is there some path or environment that I've misconfigured that causes rvm to step on knife's ruby version that it's trying to use?
[2013-11-05 21:35:37 -0500] gchristensen: they are for people, and you could argue they are necessary :)
[2013-11-05 21:35:38 -0500] coderanger: SSHs in and executes the boostrap, which means it installs the chef omnibus package, copies over the validation key, and the initial config and JSON, and then runs chef-client
[2013-11-05 21:36:07 -0500] holms: coderanger: ook.. now what chef-server do
[2013-11-05 21:36:09 -0500] coderanger: supercom32: Neither are needed, though the default metadata.rb reads from README.md to get the long_description field so it would fail without the file
[2013-11-05 21:36:28 -0500] coderanger: holms: when chef-client starts it sees that it doesn't have a client key so it contacts the chef-server and registers itself
[2013-11-05 21:36:45 -0500] supercom32: coderanger: So as long as I remove both files, it should be ok?
[2013-11-05 21:36:55 -0500] coderanger: supercom32: one or both, its fine
[2013-11-05 21:37:03 -0500] holms: coderanger: so it's only for the keys..?
[2013-11-05 21:37:04 -0500] supercom32: coderanger: Sweet. thanks.
[2013-11-05 21:37:11 -0500] coderanger: holms: Not sure what you are asking
[2013-11-05 21:37:25 -0500] holms: coderanger: i don't understand the role of chef-server in chef ))
[2013-11-05 21:37:30 -0500] coderanger: cannonball: How did oyu install Chef
[2013-11-05 21:38:17 -0500] coderanger: holms: It 1) stores data in a way the client can access like cookbooks, roles, and databags 2) stores node data like each node's run list and 3) manages the search index
[2013-11-05 21:38:39 -0500] holms: ok understood
[2013-11-05 21:38:56 -0500] cannonball: Server -> downloaded the RPM from http://docs.opscode.com/install_server.html for CentOS 6.x.  Client -> downloaded the RPM from http://docs.opscode.com/install_workstation.html for CentOS 6.x.
[2013-11-05 21:39:15 -0500] coderanger: cannonball: Then yes, rvm would probably do weird things
[2013-11-05 21:39:24 -0500] coderanger: cannonball: omnibus packages ship their own ruby internally
[2013-11-05 21:39:36 -0500] coderanger: cannonball: In general, don't use rvm for anything ever
[2013-11-05 21:39:38 -0500] vigith: when i install chef-11.0.8 and run reconfigure 'the setup seems to get stuck at ruby_block[supervise_rabbitmq_sleep] action run' .. if i do a strace i see it looking for a supervise file
[2013-11-05 21:39:40 -0500] cannonball: Ah, ok.  Wasn't aware that would cause a problem.  Will back out rvm.
[2013-11-05 21:39:43 -0500] vigith: stat("/opt/chef-server/sv/rabbitmq/supervise/ok", 0x7fff19da77e0) = -1 ENOENT (No such file or directory)
[2013-11-05 21:39:46 -0500] coderanger: It is Grade A Bad Tech
[2013-11-05 21:39:59 -0500] holms: coderanger: now a question about how chef-server stores cookbooks,roles and databags. is it the same way like chef-solo does? a nice directory (repository) with json files? (which is actually cool to store in git when you have small startup with few vm's)
[2013-11-05 21:40:24 -0500] coderanger: holms: No, chef-server stores most stuff in a postgres DB, some things are stored in the filesystem though not in a directly useable format
[2013-11-05 21:40:27 -0500] vigith: do i need to do something before i run reconfigure?
[2013-11-05 21:40:56 -0500] holms: coderanger: so how to store roles and nodes in git.. if Id' like to setup sandbox let's say on my desktop with vagrant. :)
[2013-11-05 21:40:58 -0500] jtimberman: holms: Chef Server stores the JSON data (nodes, roles, environments, data bag items, clients, users) in postgresql. It stores cookbooks on disk in a filesystem managed by a service called "bookshelf" - which is an S3-API-compatible service
[2013-11-05 21:41:15 -0500] holms: m
[2013-11-05 21:41:19 -0500] coderanger: holms: You store them in git and then upload to the chef server via knife
[2013-11-05 21:41:35 -0500] holms: with chef-solo and knife-solo this seems to be lot easier
[2013-11-05 21:41:47 -0500] holms: the only minus that knife role create doesn't work without chef-server
[2013-11-05 21:41:50 -0500] jtimberman: there's a cognitive disconnect i always have when i use solo.
[2013-11-05 21:41:51 -0500] coderanger: holms: solo lacks the cross-server integration and search
[2013-11-05 21:42:01 -0500] jtimberman: because i use chef server for even a single node :)
[2013-11-05 21:42:08 -0500] holms: coderanger: question do you need it when you have 3-4 vm's :))
[2013-11-05 21:42:12 -0500] jtimberman: (hosted chef is great for that)
[2013-11-05 21:42:18 -0500] holms: hmz
[2013-11-05 21:42:18 -0500] jtimberman: you may not need a server.
[2013-11-05 21:42:20 -0500] coderanger: holms: Do those 3-4 VMs talk to each other?
[2013-11-05 21:42:26 -0500] holms: coderanger: yes
[2013-11-05 21:42:34 -0500] coderanger: If so, then they need to know information about each other so yes
[2013-11-05 21:43:06 -0500] holms: well "talks" means my web app connect to db on another vm
[2013-11-05 21:43:24 -0500] holms: so it's just about modifying config file..
[2013-11-05 21:43:25 -0500] coderanger: Sure
[2013-11-05 21:43:33 -0500] holms: or initial config file when setuping sandbox
[2013-11-05 21:43:36 -0500] coderanger: So chef-client on your web app machine needs to find the IP of the DB machine
[2013-11-05 21:43:39 -0500] coderanger: thats what search is for
[2013-11-05 21:43:44 -0500] holms: hmz
[2013-11-05 21:43:46 -0500] holms: k
[2013-11-05 21:44:00 -0500] coderanger: Granted I've come to the conclusion chef search is a dead end, but you needn't worry about that yet :)
[2013-11-05 21:44:35 -0500] holms: and to configure knife on your workstation is must be simple, like adding ip of chef-server to knife config, right?
[2013-11-05 21:44:36 -0500] thehar: lol
[2013-11-05 21:44:50 -0500] coderanger: holms: Yeah, chef_server_url
[2013-11-05 21:44:53 -0500] holms: cool
[2013-11-05 21:44:58 -0500] holms: you saved my hours
[2013-11-05 21:45:04 -0500] holms: thanks :)
[2013-11-05 21:45:11 -0500] jtimberman: coderanger: heh.
[2013-11-05 21:45:12 -0500] jmickle: ha
[2013-11-05 21:45:16 -0500] holms: would be nice to have uml or smtng actually )
[2013-11-05 21:45:21 -0500] jmickle: jtimberman: you know anything about the unit tests on knife-ec2?
[2013-11-05 21:45:21 -0500] jtimberman: search isn't a panacea.
[2013-11-05 21:45:37 -0500] jtimberman: jmickle: nope
[2013-11-05 21:45:38 -0500] coderanger: jtimberman: Future is going to look like ZK or etcd on each node, or something serf-y
[2013-11-05 21:45:41 -0500] jmickle: dang
[2013-11-05 21:45:46 -0500] jtimberman: coderanger: maybe.
[2013-11-05 21:45:48 -0500] jmickle: does no one work on this repo anymore :-P
[2013-11-05 21:45:56 -0500] coderanger: jtimberman: Its just inevitable, failure rates aren't getting better
[2013-11-05 21:46:03 -0500] jtimberman: jmickle: knife-ec2 is actively maintained. perhaps post on the chef-dev mailing list.
[2013-11-05 21:46:11 -0500] holms: ah one more, is a "bulk load" of roles possible with knife
[2013-11-05 21:46:12 -0500] holms: ?
[2013-11-05 21:46:23 -0500] jmickle: jtimberman: i just probably don't understand chef spec enough any good docs i can read?
[2013-11-05 21:46:37 -0500] jtimberman: jmickle: knife-ec2 uses regular rspec as far as i know.
[2013-11-05 21:46:41 -0500] jtimberman: chefspec is used for cookbooks
[2013-11-05 21:46:50 -0500] jmickle: got it
[2013-11-05 21:47:14 -0500] coderanger: holms: yeah, knife upload
[2013-11-05 21:47:21 -0500] holms: amazing
[2013-11-05 21:47:25 -0500] holms: and the same for nodes?
[2013-11-05 21:47:39 -0500] holms: multiple roles for nodes quite usefull sometimes
[2013-11-05 21:47:49 -0500] coderanger: holms: Sure, its all the same, though nodes aren't generally kept in text files since they are active state
[2013-11-05 21:48:11 -0500] holms: ah so you assign a role to node with knife through cli probably
[2013-11-05 21:48:27 -0500] coderanger: holms: Yeah
[2013-11-05 21:48:32 -0500] holms: understood :)
[2013-11-05 21:48:37 -0500] flaccid: trying to recall, does seth vargo come in here?
[2013-11-05 21:48:48 -0500] coderanger: flaccid He used to, not so much lately
[2013-11-05 21:48:52 -0500] vigith: got the reason https://tickets.opscode.com/browse/CHEF-3838
[2013-11-05 21:48:56 -0500] coderanger: flaccid: nick is sethvargo
[2013-11-05 21:49:09 -0500] flaccid: coderanger: kk, just trying to get someone to do a new cron cookbook release/tag..
[2013-11-05 21:49:21 -0500] coderanger: flaccidPoke someara
[2013-11-05 21:49:27 -0500] flaccid: coderanger: danke!
[2013-11-05 21:52:49 -0500] mveitas: chefspec question. If I am testing a recipe for creation of a template, this is correct -->    expect(chef_run).to create_template('template[/etc/nginx/sites-available/test-mydomain.com]')
[2013-11-05 21:53:48 -0500] mveitas: but it does not seem to match any of the template resources created in the run
[2013-11-05 22:08:12 -0500] ypaq: hey, i'm having a problem with knife-rackspace. i deploy an ubuntu12.04 image and run an update/upgrade in my bootstrap script. during the knife run a dialog on cloud-init pops up and stalls the procedure. that's new to me. can anyone give me a hint on how to make cloud-init shut up?
[2013-11-05 22:09:51 -0500] ypaq: i run upgrade noninteractive
[2013-11-05 22:11:46 -0500] ypaq: # export DEBIAN_FRONTEND=noninteractive
[2013-11-05 22:11:48 -0500] ypaq: # apt-get -q -y install mysql-server-5.0
[2013-11-05 22:12:01 -0500] ypaq: stike the mysql..
[2013-11-05 22:12:51 -0500] tmichael: anyone else experience issue with test-kitchen bats hanging indefinitely on last test?  doesn't matter what test is...
[2013-11-05 22:13:09 -0500] tmichael: occurs whether running through kitchen or on CLI (/opt/busser/vendor/bats/bin/bats .)
[2013-11-05 22:21:20 -0500] GeoffC_: I'm trying to create a role using knife role create command.  I seem to always get an invalid string in json text error
[2013-11-05 22:28:42 -0500] GeoffC_: nevermind I was able to do a knife role from file successfully
[2013-11-05 22:40:41 -0500] GeoffC_: does "knife node run_list" not work for ip addresses?
[2013-11-05 22:44:48 -0500] kwaichan: GeoffC_: "knife status -V" will do
[2013-11-05 22:45:38 -0500] GeoffC_: I think I missed a step, perhaps I have to knife bootstrap before set a run list?
[2013-11-05 22:49:26 -0500] GeoffC_: Is there a way to download all cookbook dependencies?
[2013-11-05 22:55:52 -0500] GeoffC_: or can someone explain dependencies
[2013-11-05 22:56:26 -0500] GeoffC_: for instance, if my cookbook depends on three cookbooks, but then, those cookbooks rely on lets say, a million, do I have to get all million?
[2013-11-05 22:59:27 -0500] heathsnow: GeoffC Berkshelf is great for that..just make sure your metadata has the direct dependencies it needs and then run berks
[2013-11-05 23:00:43 -0500] GeoffC_:  cool I'll check it out
[2013-11-05 23:01:52 -0500] dgarstang: how would I use knife search to show all data for all nodes?
[2013-11-05 23:04:02 -0500] sn0wb1rd: Will the community site support Github Flavored Markdown at some point?
[2013-11-05 23:08:36 -0500] coderanger: sn0wb1rd: AFAIK the community site is no longer under development
[2013-11-05 23:08:53 -0500] jtimberman: coderanger: untrue :)
[2013-11-05 23:09:21 -0500] coderanger: jtimberman: How long until namespaces? ;-)
[2013-11-05 23:09:23 -0500] jtimberman: coderanger: more information about the site will have to wait until the summit though :)
[2013-11-05 23:09:23 -0500] sn0wb1rd: coderanger: I sure hope not
[2013-11-05 23:09:45 -0500] coderanger: jtimberman: trolololol
[2013-11-05 23:15:09 -0500] sn0wb1rd: jtimberman: coderanger I assume the community site code is not open sourced
[2013-11-05 23:15:31 -0500] coderanger: It isn't (currently, I defer to jtimberman on new developments within the last 2 months)
[2013-11-05 23:26:23 -0500] gondoi: we are having an issue with setting up a new chef server. it keeps failing to get a cookbook, and is referencing the url to be https://mychefserver
[2013-11-05 23:26:44 -0500] gondoi: I have changed bookshelf['url'] and bookshelf['vip'] ran  a reconfigure and it's still returning that path :(
[2013-11-05 23:26:59 -0500] gondoi: I have tried chef server 11.0.8 and 11.0.6
[2013-11-05 23:27:14 -0500] gondoi: i have even verified the config in erchef has the correct s3_url too
[2013-11-05 23:32:45 -0500] jmartin: has anyone had an issue with the LogFormat vhost_combined in the apache2 cookbook?
[2013-11-05 23:34:46 -0500] castro1688: hey everyone! If i have an attribute I am setting in the code of a LWRP, why cant i see it rigth after the block is called?
[2013-11-05 23:39:23 -0500] jmartin: nvm, figured out why mine was flaking
[2013-11-05 23:43:35 -0500] ssd7: castro1688: Are you sure the block is being called?  Also, are you sure it isn't getting overridden by something at a higher precedence
[2013-11-05 23:46:47 -0500] castro1688: i'm sure its being called. in the provider i print out the actual node[:item] and i see the correct value. when i query it right after the provider its empty
[2013-11-05 23:49:12 -0500] coderanger: castro1688: pastebin?
[2013-11-05 23:50:28 -0500] castro1688: sure.. 1 min
[2013-11-05 23:53:36 -0500] castro1688: http://pastebin.com/b55zfvFb
[2013-11-05 23:55:50 -0500] ermajn: hello, I have defined attribute in attributes file like this: default['cookbook_name']['value']['other_value'] = 'foo'
[2013-11-05 23:56:04 -0500] ermajn: question is, how to access this attribute from recipe
[2013-11-05 23:56:18 -0500] ermajn: I'm keep getting FATAL: TypeError: can't convert String into Integer
[2013-11-05 23:56:37 -0500] ermajn: I have also defined: default['cookbook_name']['value']['other_value2'] = 'foo2'
[2013-11-05 23:57:02 -0500] ssd7: ermajn: node['cookbook_name']['value']['other_value'] is how you would get the value.  If you pastebin where you are using it that might help too since the error could be how you are using the value rather than how you are accessing it.
[2013-11-05 23:57:35 -0500] ssd7: castro1688: So, it isn't clear to me where you are seeing the failure.
[2013-11-05 23:58:03 -0500] ssd7: castro1688: If you put a ruby_block that prints the attribute after the clustering_host attribute, does it work?
[2013-11-05 23:58:23 -0500] ssd7: s/clustering_host attribute/clustering_host resource/
[2013-11-05 23:59:26 -0500] ermajn: ssd7: heh,. problem was that I was trying to access it in one each
[2013-11-05 23:59:35 -0500] ermajn: i did not know that I can not do that
[2013-11-05 23:59:56 -0500] trilitheus: is there a way to set node attributes just while a recipe runs but not to save them?
