[2013-11-14 00:00:54 -0500] dgarstang3: how can I check inside a recipe if a role is defined for this host?
[2013-11-14 00:01:45 -0500] jbz: You can search the runlist (not expanded runlist) for the role name?
[2013-11-14 00:01:48 -0500] jbz: I think?
[2013-11-14 00:02:02 -0500] dgarstang3: jbz: inside the recipe?
[2013-11-14 00:02:16 -0500] jbz: Sure
[2013-11-14 00:02:42 -0500] jbz: There may be a better way, though, I'm not sure.
[2013-11-14 00:02:43 -0500] dgarstang3: jbz: given that chef doesn't update attributes until after a run, that's always gonna fail on the very first run of chef, no?
[2013-11-14 00:05:33 -0500] dgarstang3: if 'I am a rsyslog server', then... would be nice...
[2013-11-14 00:05:48 -0500] jbz: dgarstang3: Well, no, look at the runlist attribute on the node itself
[2013-11-14 00:05:52 -0500] jbz: not using server search
[2013-11-14 00:06:06 -0500] jbz: as soon as the role is applied to the node, the node should have the role in its runlist.
[2013-11-14 00:06:16 -0500] jbz: That can happen either via the attributes file, or via a load from the server
[2013-11-14 00:06:52 -0500] dgarstang3: jbz: so, err ... node['runlist'] ? docs... scarce...
[2013-11-14 00:07:21 -0500] jbz: that's a good question, also looking.
[2013-11-14 00:07:38 -0500] dgarstang3: k
[2013-11-14 00:08:19 -0500] jbz: It's not an attribute, I think it's a node object
[2013-11-14 00:08:20 -0500] jbz: node.runlist?
[2013-11-14 00:08:22 -0500] jbz: node.run-list?
[2013-11-14 00:08:24 -0500] jbz: hm
[2013-11-14 00:08:41 -0500] dgarstang3: I don't know...
[2013-11-14 00:09:09 -0500] JayF: jbz: node.roles.include?("My_Role")
[2013-11-14 00:09:34 -0500] dgarstang3: JayF: Thanks. lemme see if that works
[2013-11-14 00:09:49 -0500] JayF: jbz: there's also a specific way to query the run_list, like node.run_list.role.include?() but that doesn't get "resolved" roles (i.e. role[bob] includes role[base], then node.roles would have base, the run list wouldn't)
[2013-11-14 00:10:01 -0500] dgarstang3: jayF: is that documented somewhere?
[2013-11-14 00:10:15 -0500] JayF: idk, honestly. Just saw the question in here and knew the answer off the top of my head. I'd think so though.
[2013-11-14 00:10:28 -0500] dgarstang3: JayF: So, does this work for roles then?
[2013-11-14 00:10:57 -0500] dgarstang3: JayF: you'd think a test to determine if this node belongs to a specific role would be a pretty basic requirement.
[2013-11-14 00:12:01 -0500] jbz: JayF: Hooray!  Thanks.
[2013-11-14 00:12:33 -0500] dgarstang3: well, seems to work for a simple test case
[2013-11-14 00:13:10 -0500] JayF: dgarstang3: search(:node, "roles:blah") ?
[2013-11-14 00:13:16 -0500] JayF: I don't get what you're asking.
[2013-11-14 00:13:23 -0500] dgarstang3: JayF: que?
[2013-11-14 00:13:54 -0500] dgarstang3: I don't trust search... it doesn't get populated until chef has run at least once, right>
[2013-11-14 00:16:43 -0500] dgarstang3:  It seems that node.roles.include?("role") works... even if checking a role that's included in another
[2013-11-14 00:16:56 -0500] dgarstang3: I'm still not sure that would work on the first run tho
[2013-11-14 00:17:12 -0500] zts: It will.
[2013-11-14 00:17:39 -0500] dgarstang3: zts: even though people keep telling me that chef doesn't populate client data until the end of the chef run?
[2013-11-14 00:18:46 -0500] zts: dgarstang3: chef-client doesn't _save_ the node back to the chef-server until the end of a succesful run, but the node still exists.  If the node remained empty for the entire first run, how could anything work at all?
[2013-11-14 00:19:45 -0500] zts: dgarstang3: bear in mind that chef-solo never talks to a server, and most of this stuff has to work in that context too
[2013-11-14 00:20:32 -0500] dgarstang3: zts: somehow node.roles.include?("role") is working with vagrant...
[2013-11-14 00:20:49 -0500] jbz: If you load an attributes.rb file at the start of the run, it can include that.
[2013-11-14 00:21:42 -0500] dgarstang3: jbz: this is a rsyslog cookbook. it's personality needs to be defined outside the cookbook, ie client or server
[2013-11-14 00:21:44 -0500] zts: dgarstang3: yes, it will work on both chef-solo and chef-client, whether it is running under vagrant, on AWS, bare metal, etc
[2013-11-14 00:21:52 -0500] dgarstang3: zts:k
[2013-11-14 00:33:31 -0500] holms: how to export node config to file?
[2013-11-14 00:39:37 -0500] c_t: anything fun and exciting happening post-Summit tonight?
[2013-11-14 00:44:39 -0500] dgarstang3: *sigh* how do I negate if node.roles.include?("role_rsyslog_server") ?
[2013-11-14 00:46:08 -0500] zts: 'if not node.roles.include?("role_rsyslog_server")'
[2013-11-14 00:46:33 -0500] dgarstang3: zts: not. ok. you'd think that'd be mentioned somewhere obvious in the ruby literature.
[2013-11-14 00:47:30 -0500] c_t: uh
[2013-11-14 00:47:42 -0500] zts: dgarstang3: I can only suggest that you look to whatever ruby documentation you were reading that didn't make that obvious, and suggest an improvement to the author
[2013-11-14 00:47:47 -0500] c_t: that is seriously just about the most basic ruby knowledge imaginable
[2013-11-14 00:48:14 -0500] dgarstang3: c_t: it's not here http://www.tutorialspoint.com/ruby/ruby_if_else.htm
[2013-11-14 00:48:30 -0500] dgarstang3: or here http://en.wikibooks.org/wiki/Ruby_Programming/Syntax/Control_Structures
[2013-11-14 00:49:02 -0500] zts: dgarstang3: but it is on http://www.tutorialspoint.com/ruby/ruby_operators.htm
[2013-11-14 00:49:04 -0500] c_t: yes it is
[2013-11-14 00:49:05 -0500] c_t: http://en.wikibooks.org/wiki/Ruby_Programming/Syntax/Control_Structures#unless_expression
[2013-11-14 00:49:20 -0500] zts: yeah, 'unless' instead of 'if' would also work
[2013-11-14 00:49:21 -0500] c_t: ^ that also covers "binary negation"
[2013-11-14 00:49:23 -0500] dgarstang3: c_t: i page searched for 'if not'. It did not appear
[2013-11-14 00:49:25 -0500] c_t: if !foo
[2013-11-14 00:49:45 -0500] c_t: I would have thought you'd have learned something by sheer osmosis by this point
[2013-11-14 00:50:08 -0500] dgarstang3: c_t: i make no assumptions with ruby. :)
[2013-11-14 00:50:35 -0500] bobbyz: I'm trying the new local mode in chef-client 11.8 and it hangs on 'resolving cookbooks for run list'.  Immediately preceding that, there's a log line: 'INFO: HTTP Request Returned 404 Not Found: Object not found: /reports/nodes/localutil.vagrant.dev/runs'
[2013-11-14 00:50:40 -0500] bobbyz: Anyone else seen behavior like that?
[2013-11-14 00:54:13 -0500] holms: how to export NODE CONFIGURATION
[2013-11-14 00:54:30 -0500] zts: dgarstang3: just out of interest, did you actually bother trying any of the obvious possibilities before asking for more help in here?
[2013-11-14 00:54:53 -0500] zts: holms: what do you mean by node configuration?
[2013-11-14 00:55:15 -0500] dgarstang3: zts: I googled the various possibilities.
[2013-11-14 00:55:36 -0500] zts: dgarstang3: right, did you *try* anything?
[2013-11-14 00:56:40 -0500] rafaelmagu: Question: is there a way to lock a ppa to only download one of their packages?
[2013-11-14 00:57:06 -0500] dgarstang3: zts: No. If it had worked as desired, but for the wrong reason, it would have been flawed logic
[2013-11-14 00:57:27 -0500] bean: zts, you may have noticed that dgarstang3's preferred method of work is "bitch a ton, and try to get others to work for him"
[2013-11-14 00:57:56 -0500] dgarstang3: bean: Sorry, I guess 'if not' is not a ruby documented feature.
[2013-11-14 00:58:15 -0500] zts: bean: indeed
[2013-11-14 00:58:26 -0500] c_t: if you had actually *read* that page you linked to about control structures, you would have learned at least two ways to do it
[2013-11-14 00:58:27 -0500] zts: dgarstang3: "if" is documented, "not" is documented, "if not <predicate>" would even be valid python
[2013-11-14 00:58:48 -0500] bean: *sigh* does every little thing about every language be documented? It's pretty simple to look up logic in ruby. Personally I'd use "unless" but that's just cuz it reads cleaner to me
[2013-11-14 00:59:00 -0500] zts: dgarstang3: seriously, TRY things out.  Ruby makes that just as easy as python does.  You have absolutely no excuse for not trying stuff before expecting other people to feed you answers
[2013-11-14 00:59:01 -0500] dgarstang3: bean: I also take offence at that. There's been numerous times when my 'bitching' has been due to real issues, lack of documentation etc.
[2013-11-14 00:59:47 -0500] bean: *shrug* you bitch about everything from rubygems being down to not understanding ruby in here.
[2013-11-14 00:59:59 -0500] bean: Sure, sometimes things don't work as intended.
[2013-11-14 01:00:04 -0500] bean: welcome to open source software.
[2013-11-14 01:00:15 -0500] dgarstang3: bean: rubygems being down isn't a issue worth noting?
[2013-11-14 01:00:29 -0500] bean: not in here, no one else said anything about it as you may have noted at the time.
[2013-11-14 01:00:58 -0500] dgarstang3: bean: that's rather subjective.
[2013-11-14 01:01:17 -0500] bean: it's not like people run in here screaming everytime github is down
[2013-11-14 01:01:46 -0500] dgarstang3: zts: i disagree that ruby makes thing as easy as python does. 'python' gets you an interpreter you can debug with. 'ruby' does not.
[2013-11-14 01:01:57 -0500] bean: irb does.
[2013-11-14 01:02:01 -0500] c_t: "irb"
[2013-11-14 01:02:03 -0500] bean: and sure, "ruby" does
[2013-11-14 01:02:06 -0500] bean: type what you want
[2013-11-14 01:02:09 -0500] bean: hit ctrl-d
[2013-11-14 01:02:09 -0500] bean: done
[2013-11-14 01:02:26 -0500] dgarstang3: bean: People mention it like I mentioned rubygems was down. You seem to be over embelishing a bit
[2013-11-14 01:02:42 -0500] dgarstang3: c_t: yes, I know it's irb.... after I googled it
[2013-11-14 01:02:50 -0500] bean: I'm saying that you seem to have a never ending stream of complaints.
[2013-11-14 01:03:04 -0500] dgarstang3: bean: complaints by your definition.
[2013-11-14 01:03:56 -0500] zts: dgarstang3: right, so ruby provides a REPL to try things out in, the name wasn't immediately obvious to you, and that's still an issue now?  You didn't sort that one out months ago?
[2013-11-14 01:04:36 -0500] c_t: unless { } isn't uncommon either
[2013-11-14 01:04:45 -0500] c_t: perl has it, I'm guessing python probably does
[2013-11-14 01:05:03 -0500] c_t: C doesn't, but anything C-related isn't probably relevant
[2013-11-14 01:05:04 -0500] zts: dgarstang3: honestly, I have trouble understanding why you are still persevering with Chef and Ruby.  They're obviously not to your liking, and there's a bunch of credible alternatives.
[2013-11-14 01:05:15 -0500] dgarstang3: zts: *sigh* all this started because I asked what the syntax was for negation in ruby as it wasnt documented anywhere I could see. Now people are raising non relevant issues and yet we wonder why this degenerates.
[2013-11-14 01:05:30 -0500] c_t: but it is documented
[2013-11-14 01:05:34 -0500] c_t: all over the place
[2013-11-14 01:05:52 -0500] bean: because it's just as easy as googling "negation in ruby"
[2013-11-14 01:05:56 -0500] bean: first link for me
[2013-11-14 01:06:02 -0500] bean: says "not"
[2013-11-14 01:06:10 -0500] bean: is for Logical negation
[2013-11-14 01:06:26 -0500] dgarstang3: bean: not for me. https://www.google.com/#q=ruby+negate+boolean gets me http://stackoverflow.com/questions/524658/what-does-mean-in-ruby
[2013-11-14 01:06:37 -0500] bean: That's not what I said to google
[2013-11-14 01:06:43 -0500] bean: I took your literal query
[2013-11-14 01:06:46 -0500] bean: "negation in ruby"
[2013-11-14 01:07:02 -0500] dgarstang3: bean: of course it isn't. I googled you know, earlier, before I asked in here?
[2013-11-14 01:07:19 -0500] bean: http://lmgtfy.com/?q=Negation+in+ruby&l=1
[2013-11-14 01:07:21 -0500] bean: ez
[2013-11-14 01:07:22 -0500] zts: dgarstang3: I would suggest that if you are unable to figure out how to negate a boolean, in any language, either you're being wilfully obtuse or you might want to consider an alternative line of work
[2013-11-14 01:07:45 -0500] dgarstang3: zts: thank you for your positive feedback
[2013-11-14 01:07:54 -0500] zts: dgarstang3: I'm sorry to sound like a prick, but I'm honestly not sure how to help you.
[2013-11-14 01:08:05 -0500] dgarstang3: zts: Thank you
[2013-11-14 02:37:55 -0500] cwong: This may seem like a silly question, but how do you configure the /etc/chef/client.rb file on a node?  I want my node to use proxy settings.  I am able to bootstrap a node with proxy settings from my knife.rb file, but I do not see those settings in the client.rb file on the node.
[2013-11-14 02:50:04 -0500] cwong: alright, it looks like I can try to use the chef-client community cookbook to configure it and reload the settings during the same chef run.  Thanks for listening.
[2013-11-14 02:51:36 -0500] bearrito: Hey, how do you people encode a deploy key so that the Yajl parser doesn't throw exceptions. I've tried a few things but always end up with : ERROR: Yajl::ParseError: lexical error: invalid character inside string.
[2013-11-14 02:59:06 -0500] jjj4: Hello! What is the best way to get EC2 servers connected to my chef server if they are provisioned by CloudFormation? Should I pass the .pem as stack parameters and use CFN Init to write the .rb config for each instance, then have CFN Init run the omnibus installer? Or is it better to output from CFN and use that to run knife bootstrap?
[2013-11-14 03:07:29 -0500] nathan-kg: On chef solo (OpsWorks), I need a resource to return a value which will be used by other resources (I need to create a database and save the generated hostname). How can I do this without data bags?  (which OpsWorks doesn't support)?
[2013-11-14 04:05:04 -0500] jhujhiti: so... i have some non-trivial number of chef clients that appear to be stuck in a loop
[2013-11-14 04:05:16 -0500] jhujhiti: they're converging over and over again, judging by the logs
[2013-11-14 04:05:57 -0500] jhujhiti: anyone seen this before? i have no handlers and the runs are successful
[2013-11-14 04:07:01 -0500] jhujhiti: and i'm using 30 minute intervals with a five minute splay. and the runs take less than 20 seconds.
[2013-11-14 04:24:15 -0500] ryanschwartz: hi all - quick question. If I wanted to set up my own chef server for 8-12 nodes, would a 512MB VM be enough or what size would be appropriate?
[2013-11-14 04:26:11 -0500] manfred: ryanschwartz: i am currently using a 1G rackspace cloudserver for mine, and it is currently doing fine with 12 nodes
[2013-11-14 04:26:43 -0500] ryanschwartz: manfred: can you do me a solid and tell me what 'free -m' looks like on that box?
[2013-11-14 04:27:34 -0500] manfred:  04:27:34 up 13 days, 12:14,  1 user,  load average: 0.08, 0.09, 0.13
[2013-11-14 04:28:13 -0500] manfred: and it is actually a two gig one, my bad
[2013-11-14 04:28:19 -0500] manfred: fknife@daniel-chef:~$ free -m
[2013-11-14 04:28:20 -0500] manfred:              total       used       free     shared    buffers     cached
[2013-11-14 04:28:22 -0500] manfred: Mem:          1995       1776        219          0        159        507
[2013-11-14 04:28:24 -0500] manfred: -/+ buffers/cache:       1108        886
[2013-11-14 04:28:26 -0500] manfred: Swap:            0          0          0
[2013-11-14 04:29:43 -0500] ryanschwartz: thx much, looks like I'll want a 1G for sure then - anything else running on there?
[2013-11-14 04:37:06 -0500] sawsauw: /n
[2013-11-14 04:37:25 -0500] coderanger: ryanschwartz: You want more than that
[2013-11-14 04:37:29 -0500] coderanger: 2GB is tight on a server
[2013-11-14 04:37:32 -0500] coderanger: 4GB preferred
[2013-11-14 04:38:29 -0500] ryanschwartz: coderanger: is that documented anywhere, and if not should I ticket that or is anyone here in a position to write it up on docs.opscode.com ?
[2013-11-14 04:38:55 -0500] coderanger: ryanschwartz: Hardware reqs aren't super specific and I don't speak for opscode :)
[2013-11-14 04:39:47 -0500] ryanschwartz: fair enough, and fair enough. One would think that a minimum requirements would be a good thing to have though, for people that aren't going to use hosted.
[2013-11-14 06:00:20 -0500] sneak: hi, is it possible to remove a package in a role?
[2013-11-14 06:00:42 -0500] sneak: i've removed a recipe installing a package, do i now need to make a new "uninstall_package" recipe or can i just put something in the role config to remove the package?
[2013-11-14 06:48:17 -0500] holms: knife boostrap mydomain.com should work by default?
[2013-11-14 06:48:31 -0500] holms: it fails, says my key is wrong Ensure that your node_name and client key are correct.
[2013-11-14 06:49:07 -0500] holms: shouldn't boostrap do everything automatically?
[2013-11-14 06:52:02 -0500] holms: heloooo
[2013-11-14 07:03:28 -0500] midnitekiller: Hi, ho do you actually deploy svn repository with username/pass using application cookbook? I tried https://user:pass@host, which doesn't work. Is there a way to pass params in application if we're using a different scm_provider?
[2013-11-14 07:18:41 -0500] garrett__1: how do people handle encrypted data bags in their recipes? blow away the key after every chef run?
[2013-11-14 07:34:13 -0500] garrett__1: I guess I just don't really see the utility of encrypted data bags, unless you'e storing your databags in some SCM, separate from your key.
[2013-11-14 07:35:58 -0500] garrett__1: within the context of the chef-server getting pwned
[2013-11-14 07:47:43 -0500] b00tbu9: sudo chef-client throws error
[2013-11-14 07:47:51 -0500] b00tbu9: saying unable to resolve the FQDN
[2013-11-14 07:48:03 -0500] b00tbu9: is there a place where I can set IP address insted of FQDN
[2013-11-14 07:48:12 -0500] b00tbu9: so that chef client will look into that location
[2013-11-14 07:55:25 -0500] linuxbaby: Hi guys.. my chef installer of openstack gives the following error with admin nodes installation :
[2013-11-14 07:55:46 -0500] linuxbaby: [Mon, 11 Nov 2013 08:32:14 +0000] INFO: Processing cookbook_file[/etc/chef/ohai_plugins/README] action create (dynamically defined)
[2013-11-14 07:55:47 -0500] linuxbaby: [Mon, 11 Nov 2013 08:32:16 +0000] ERROR: Running exception handlers
[2013-11-14 07:55:47 -0500] linuxbaby: [Mon, 11 Nov 2013 08:32:16 +0000] FATAL: Saving node information to /var/cache/chef/failed-run-data.json
[2013-11-14 07:55:47 -0500] linuxbaby: [Mon, 11 Nov 2013 08:32:16 +0000] ERROR: Exception handlers complete
[2013-11-14 07:55:48 -0500] linuxbaby: [Mon, 11 Nov 2013 08:32:16 +0000] FATAL: Stacktrace dumped to /var/cache/chef/chef-stacktrace.out
[2013-11-14 07:55:50 -0500] linuxbaby: [Mon, 11 Nov 2013 08:32:16 +0000] FATAL: NoMethodError: undefined method `admin_ip' for Chef::Resource::Template
[2013-11-14 07:55:53 -0500] linuxbaby: Chef client run failed, will retry with debugging.
[2013-11-14 07:55:55 -0500] linuxbaby: any pointers please..
[2013-11-14 07:55:59 -0500] linuxbaby: how to debugg this issue??
[2013-11-14 08:01:39 -0500] linuxbaby: if its hard to understand .. can someone tell me how to set the chef log to add more details in debug mode..
[2013-11-14 08:01:58 -0500] linuxbaby: or  any tool to do debugging of the chef errors..
[2013-11-14 08:10:27 -0500] storme_out: linuxbaby: looks like you're passing in admin_ip to the template but not as a variable. look at the stack trace file for more info.
[2013-11-14 08:36:23 -0500] Tiger|2: Guys, where I can store the attributes for a particular node, i try add their on node attributes, but  they aren't defined
[2013-11-14 08:39:49 -0500] dmdeklerk: Tiger|2: From inside a recipe you can (among other ways) store an attribute as `node.override['attr'] = foo`. But normally in a cookbook you store your attributes as 'default['attr']= foo'. Thats in attributes/default/foo.rb. You can also define attributes with knife. Have you seen the documentation on attributes?
[2013-11-14 08:41:15 -0500] dmdeklerk: Tiger|2: http://docs.opscode.com/
[2013-11-14 08:57:23 -0500] Tiger|2: dmdeklerk: i tried to add  force_override and override attributes to  node in node config, it did not help
[2013-11-14 09:03:51 -0500] holms: weird!!!! http://pastie.org/8479513
[2013-11-14 09:04:25 -0500] matti: U broke it.
[2013-11-14 09:04:35 -0500] dmdeklerk: Tiger|2: I dont understand what your doing. You might want to explain in more detail what you are trying otherwise people will not be able to help.
[2013-11-14 09:11:40 -0500] Tiger|2: I want to store specific attributes of each node in the node configuration,for use in the recipe. Now i create role witn attribures for each node, but it is not very convenient.
[2013-11-14 09:20:42 -0500] tboerger: did only_if work for service lwrp too?
[2013-11-14 09:34:31 -0500] holms: k on ubuntu it works https://github.com/holms/chef-starter
[2013-11-14 09:34:56 -0500] holms: everything automagically. make install, make update [still with bugs], make node_create and make cook :P
[2013-11-14 09:35:11 -0500] holms: 40 hours of work =/
[2013-11-14 09:47:15 -0500] tboerger: holms: nice, that's my chef-solo setup for my workstations https://github.com/tboerger/workstation
[2013-11-14 10:33:44 -0500] JeanMertz: Hey guys, in one of my cookbook I keep getting "File templates/default/berks-api.json.erb does not exist for cookbook", even though it is definitely there
[2013-11-14 10:34:00 -0500] JeanMertz: It even says where it looks (sort-of), and I can find the recipe there:
[2013-11-14 10:34:07 -0500] JeanMertz: # In /tmp/vagrant-chef-1/chef-solo-1/cookbooks/base-server/recipes/_berks_api.rb
[2013-11-14 10:34:07 -0500] JeanMertz: -rw-r--r-- 1 ubuntu ubuntu 416 Nov 14 09:00 /tmp/vagrant-chef-1/chef-solo-1/cookbooks/base-server/templates/default/berkshelf.json.erb
[2013-11-14 10:34:53 -0500] JeanMertz: sorry, typo in this chat, the first line should be templates/default/berkshelf.json.erb, so that's not the issue
[2013-11-14 10:38:48 -0500] zts: JeanMertz: could you please pastebin all the output, not just that one line?
[2013-11-14 10:43:47 -0500] JeanMertz: zts: sure thing, here you go: https://gist.github.com/JeanMertz/7464793
[2013-11-14 10:44:41 -0500] zts: JeanMertz: thankyou, perfect gist! :)  Looking now
[2013-11-14 10:46:02 -0500] JeanMertz: zts: thank you :) I'm either completely looking over an obvious error, or there seems to be some kind of bug at play here...
[2013-11-14 10:49:44 -0500] zts: JeanMertz: it's certainly not obvious (to me, right now, anyway) - however, I could have sworn that that error used to include some more context.  It was along the lines of, "Couldn't find X, here are some things that were in the cookbook"
[2013-11-14 10:50:19 -0500] zts: but I haven't provoked that failure on 11.8 yet, so I could be remembering wrong, or something may have changed
[2013-11-14 10:50:43 -0500] JeanMertz: zts: exactly, I was looking for the same line in the chef source right now. when googling this error, I found errors which explicitly mentioned "could not find template in any of these directories: x,y,z"
[2013-11-14 10:51:34 -0500] JeanMertz: So either this changed recently, or it's erroring because of something else
[2013-11-14 10:52:12 -0500] zts: The `tree` in your gist, that was taken in the directory /tmp/vagrant-chef-1/chef-solo-1/cookbooks/node-kabisa-chef-server - is that right?
[2013-11-14 10:55:21 -0500] JeanMertz: no, sorry, that was locally, let me get it from the server (I did check it before though). Here's the remote: https://gist.github.com/JeanMertz/7464793/raw/72e66ef26e9aca9c52e1ef7498328d76653ac320/tree_remote
[2013-11-14 10:58:19 -0500] JeanMertz: zts: on the server, the template has mode 0644, but I guess that shouldn't matter, as chef runs as root
[2013-11-14 10:58:27 -0500] JeanMertz: (and even then, it can be read by anyone)
[2013-11-14 11:02:38 -0500] zts: yeah, that shouldn't be a problem.  The output that you included, was that with log level "debug"?  If so, was there anything relevant in the 10 lines before the big error report?
[2013-11-14 11:04:59 -0500] JeanMertz: zts: well, the log is kind of out-of-sync (which I find weird in and of itself), but let me give you the full log, hang on.
[2013-11-14 11:05:43 -0500] zts: Other than that, I think my next suggestion would be to try to run the same cookbook using chef 11.4 to see whether it fails differently (11.6 included refactoring of the file-based resources, so I'd skip past that for comparison)
[2013-11-14 11:09:51 -0500] JeanMertz: zts: here you go: https://gist.github.com/JeanMertz/7464793/raw/7a9e123c5ec34df8885ccc94a124bfbb26a8a4b7/full_log
[2013-11-14 11:10:29 -0500] zts: thanks, looking
[2013-11-14 11:11:15 -0500] JeanMertz: Doing a run with 11.4 now
[2013-11-14 11:19:17 -0500] zts: I see what you mean about the output being out of order - I haven't used vagrant-aws, and I wonder if that's mangling the output a bit.  (I don't imagine it's affecting what's happening within the Chef run though)
[2013-11-14 11:23:44 -0500] JeanMertz: zts: indeed. I also don't suspect it's related to the mangled log output. Either way, I'm doing a 11.4 run right now, should fail (or better, succeed) in a few minutes
[2013-11-14 11:27:27 -0500] JeanMertz: hmm, it's as if the 11.4 log if much more "responsive" and also seems to be in the correct order.
[2013-11-14 11:28:05 -0500] JeanMertz: using Chef 11.8, I'd frequently see the log stopping, but the setup on the server continuing, and then suddenly the log parsing hundreds of lines, with 11.4, I don't see that happening
[2013-11-14 11:30:13 -0500] zts: That sounds familiar - I think I saw someone mentioning odd output buffering behaviour with 11.8 under Vagrant...
[2013-11-14 11:30:59 -0500] JeanMertz: ah okay, that could explain the mangled output
[2013-11-14 11:31:55 -0500] zts: JeanMertz: https://tickets.opscode.com/browse/CHEF-4725 <- there's the ticket for that one, FYI
[2013-11-14 11:40:11 -0500] Tiger|2: guys, can i update chef-client version with node bootstrap?
[2013-11-14 11:40:11 -0500] Tiger|2: i got error when run bootrstrap, because old version of chef-client already installed on system
[2013-11-14 11:50:49 -0500] matti: I wish FileEdit had replace_or_insert_... :)
[2013-11-14 11:51:15 -0500] zts: Tiger|2: can you pastebin the exact error you're getting?  If you're using the omnibus installer, I believe running bootstrap again will upgrade it.  If the older version is installed a different way, you may have problems
[2013-11-14 11:59:15 -0500] Tiger|2: zts: http://pastebin.com/84TmgXdC
[2013-11-14 12:00:03 -0500] Tiger|2: only manual chef gem  uninstall fix this problem
[2013-11-14 12:01:24 -0500] zts: Tiger|2: yeah.  So, some options:  if you only have a couple of machines with this problem, I would do it by hand.  If you have many, the omnibus_updater cookbook (http://ckbk.it/omnibus_updater) can optionally remove the gem when installing using omnibus
[2013-11-14 12:02:07 -0500] zts: Tiger|2: a third option is to customise your "knife bootstrap" template to try to uninstall the gem first - there is some docs about custom templates here: http://docs.opscode.com/knife_bootstrap.html#custom-templates
[2013-11-14 12:11:45 -0500] JeanMertz: zts: 11.4 still same error as before "File templates/default/berkshelf.json.erb does not exist for cookbook node-kabisa-chef-server", so also not the "other" error where it shows you where it searched for the template
[2013-11-14 12:19:43 -0500] Andrei_Stryia: How can I configure my environment's attribute to use a value from another attribute? I want something like this in JSON { "admins" : [ node[iis][user], node[local_admin] ] }
[2013-11-14 12:20:39 -0500] zts: JeanMertz: I'm afraid that's me out of ideas - surely we're overlooking something obvious, but I have no idea what
[2013-11-14 12:21:53 -0500] b00tbu9: while runnign sudo chef-client
[2013-11-14 12:21:57 -0500] b00tbu9: I am getting below error
[2013-11-14 12:21:58 -0500] b00tbu9: Recipe Compile Error
[2013-11-14 12:22:17 -0500] workmad3: b00tbu9: there's an error in a recipe... the rest of the error after that should give you more details
[2013-11-14 12:22:46 -0500] b00tbu9: http://pastebin.com/8pK7SJyZ
[2013-11-14 12:23:11 -0500] b00tbu9: I have pasted error in pastebin
[2013-11-14 12:23:20 -0500] workmad3: b00tbu9: so that tells you the exact issue
[2013-11-14 12:23:44 -0500] b00tbu9: it says recipie not found..
[2013-11-14 12:23:56 -0500] workmad3: b00tbu9: yup, it's telling you that the apache2 cookbook has no recipe called 'source'
[2013-11-14 12:23:57 -0500] b00tbu9: The client server is behind a firewall
[2013-11-14 12:24:03 -0500] b00tbu9: Okey.. thanks
[2013-11-14 12:24:05 -0500] b00tbu9: for the info
[2013-11-14 12:32:16 -0500] JeanMertz: zts: after commenting out some dependencies, the template works again... it seems some kind of cookbook is messing with this, not sure how. Investigating now which cookbook it is
[2013-11-14 12:34:51 -0500] aberrios: I have a recipe that creates a directory for a mount point. Then after mounts an NFS share to the mount point. When the recipe is run again and it gets to the create directory is bombs out if the mount is already mounted. Is this correct behaviour? Should I unmount beforehand?
[2013-11-14 12:38:05 -0500] workmad3: aberrios: hmm, the create directory resource should just no-op if the directory exists
[2013-11-14 12:38:26 -0500] workmad3: aberrios: can you use gist.github.com or similar to put up the error it bombs out with please?
[2013-11-14 12:48:35 -0500] aberrios: sec
[2013-11-14 12:50:04 -0500] aberrios: have to recreate it on VM.. may take a few mins
[2013-11-14 12:55:32 -0500] Andrei_Stryia: can anybody help me with this http://community.opscode.com/questions/451 ?
[2013-11-14 12:56:04 -0500] ganaiwali: howto search all nodew that have a recipe called example::default
[2013-11-14 12:56:18 -0500] ganaiwali: in a particular environment
[2013-11-14 12:57:08 -0500] aberrios: workmad3: http://pastebin.com/KPnKKy1P
[2013-11-14 12:57:24 -0500] unflores: Andrei: I don't think that your environment data should be dynamic
[2013-11-14 12:57:39 -0500] zts: Andrei_Stryia: yeah, that's not possible - you'll need to calculate such values in a recipe
[2013-11-14 12:58:44 -0500] zts: ganaiwali: I think you need a search query like: (chef_environment:foo AND recipe:cookbookname\:\:recipename)
[2013-11-14 12:58:54 -0500] unflores: andrei  you could 'pu' and 'iss' in there and then use that to compute the user within the recipe
[2013-11-14 12:59:03 -0500] ganaiwali: zts: trying it now , thankx
[2013-11-14 13:05:13 -0500] workmad3: aberrios: hmm, ok... it could be an issue with it being a mount point then
[2013-11-14 13:05:45 -0500] workmad3: aberrios: add 'not_if "test -e /jukebox" ' to the directory resource would be my suggestion :)
[2013-11-14 13:06:12 -0500] workmad3: aberrios: that'll stop it from running the directory create if the /jukebox directory exists
[2013-11-14 13:06:37 -0500] aberrios: workmad3: okay dokes. just wondered if that was normal  behaviour or a bug. If its normal I have ideas for testing. And one more now thanks :).
[2013-11-14 13:06:50 -0500] JeanMertz: zts: interestingly, the chef-client cookbook was the cause for the template not being found
[2013-11-14 13:06:51 -0500] workmad3: aberrios: it's not normal for a normal directory
[2013-11-14 13:07:14 -0500] workmad3: aberrios: but something seems to be making the management aspect (so ensuring ownership and permissions) through a permission error :)
[2013-11-14 13:07:27 -0500] JeanMertz: zts: and it seems like it also caused the minitest-chef-handler tests not to run at the end, which they do now after I removed chef-client from the runlist... this is weird
[2013-11-14 13:07:41 -0500] workmad3: aberrios: so at a guess, it's the mount-point aspect causing that :) and so I'd just get the resource skipped if the directory exists ;)
[2013-11-14 13:08:07 -0500] workmad3: aberrios: also equivalent would be a 'not_if {::File.exists?("/jukebox")} ' in the directory resource declaration
[2013-11-14 13:08:20 -0500] aberrios: workmad3: ta
[2013-11-14 13:10:14 -0500] zts: JeanMertz: hmm... I wonder if it's possible that the chef-client cookbook is updating Chef::Config in the middle of the run - after your cookbook has initially been loaded, but before it needs to find the location of your template.  If it's looking in entirely the wrong place, that might also explain why it fails to list out the other possible files in the cookbook
[2013-11-14 13:10:51 -0500] vt102: To what extent should I try to do "orchestration" in chef.  Can you point me at a recipie which triggers dynamic changes in the environment?  Like spinning up new VMs automatically?
[2013-11-14 13:11:35 -0500] JeanMertz: zts: interesting... let me see what happens if I add it all the way at the end of my runlist
[2013-11-14 13:14:55 -0500] JeanMertz: zts: Your hypothesis might be correct, see: https://github.com/opscode-cookbooks/chef-client/blob/master/recipes/config.rb#L84
[2013-11-14 13:15:08 -0500] JeanMertz: it actually reloads the chef-config right after the initial config setup
[2013-11-14 13:16:28 -0500] JeanMertz: I don't really understand the use-case for this, since you're already in the middle of a chef-run (which started, so the config must be "correct"), why would you suddenly change these configs? I would expect the new config only to apply to subsequent chef-runs
[2013-11-14 13:17:58 -0500] JeanMertz: zts: also, it's a pretty recent change to the chef-client cookbook: https://tickets.opscode.com/browse/COOK-3501
[2013-11-14 13:18:00 -0500] zts: JeanMertz: There's a use case for adding report and exception handlers during the run, but the rest doesn't make much sense to me either
[2013-11-14 13:19:00 -0500] JeanMertz: I guess it should be a tunable then, makes sense in some cases, not so much in others
[2013-11-14 13:19:35 -0500] zts: I'm baffled - clearly the person who opened the ticket believes that the config should be reloaded immediately, but neither the PR nor the ticket says why that might be the case
[2013-11-14 13:23:06 -0500] JeanMertz: zts: I asked if we can make this a tunable, going to try < 3.1 now, see if this really fixes it
[2013-11-14 13:25:20 -0500] zts: cool
[2013-11-14 13:27:21 -0500] JeanMertz: I believe that even a delayed notification would cause issues with minitest specs, as they are run at the very end, when the new config is already set and the original cookbook path is gone
[2013-11-14 13:27:32 -0500] zts: yeah, I suspect you're right
[2013-11-14 13:27:38 -0500] JeanMertz: so even a "never reload" should be a possible option
[2013-11-14 13:28:18 -0500] JeanMertz: I don't even thing that there's a use case for a delayed reload, unless chef-client as a service never re-reads its config after the initial startup?
[2013-11-14 13:28:22 -0500] zts: Yeah, historically the delayed reload would have been necessary if you run chef as a daemon.  I'm not sure if that's still true when it forks for each run
[2013-11-14 13:28:57 -0500] JeanMertz: ah yeah, I suspected as much
[2013-11-14 13:35:06 -0500] juzerali: what does an id field in databags.json represent? is it a unique name for a databag?
[2013-11-14 13:37:57 -0500] unflores: juzerali: here's the spec: http://docs.opscode.com/chef/essentials_data_bags.html#data-bag-items
[2013-11-14 13:38:42 -0500] unflores: also, in case you use encryption on your databags, "The values associated with the id key of a data bag item are not encrypted (because they are needed when tracking the data bag item)"
[2013-11-14 13:39:43 -0500] joelmoss: hia ll
[2013-11-14 13:39:59 -0500] joelmoss: quick question...
[2013-11-14 13:40:20 -0500] unflores: I'm assuming it should be unique for it's bag at least
[2013-11-14 13:40:50 -0500] joelmoss: I got a cookbook_file resource defined, that has been run on my servers. but I now want to change its mode. I added the `mode 0755` option, but after the chef run it hasn't changed
[2013-11-14 13:40:58 -0500] joelmoss: how can I tell chef to change the mode?
[2013-11-14 13:41:18 -0500] juzerali: unflores: thanks for replying. One question. There is a folder chef-repo/data_bags. How should i interpret the contents of this folder? For example, there is a folder named foo, and inside it a file named bar.json. The contents of bar,json are {id:"baz"}.
[2013-11-14 13:41:50 -0500] juzerali: chef-repo -> data_bags -> foo -> bar.json
[2013-11-14 13:42:24 -0500] workmad3: juzerali: foo is the databag name
[2013-11-14 13:42:30 -0500] drrk: With the installer on http://www.opscode.com/chef/install/ for chef server is *everything* including the database etc in /opt/chef?
[2013-11-14 13:42:37 -0500] workmad3: juzerali: and bar is the databag item name within the foo databag
[2013-11-14 13:42:46 -0500] juzerali: ohhk
[2013-11-14 13:42:53 -0500] juzerali: i see now, thanks mate, that makes sense
[2013-11-14 13:43:00 -0500] workmad3: juzerali: and you're going to confuse yourself if the id inside that is different to the filename ;)
[2013-11-14 13:43:32 -0500] workmad3: juzerali: as I think the id is used as the item name, just conventionally you'd call the file the same thing
[2013-11-14 13:44:20 -0500] juzerali: workmad3: thanks for the suggestion. But it is someone else's shit bro which I have to make sense of. I should change it whenever I get the priviliges to do so :)
[2013-11-14 13:44:39 -0500] workmad3: juzerali: change it when you can ;)
[2013-11-14 13:45:30 -0500] juzerali: workmad3: 1 more thing, is there a single command with which I can both create a databag and upload from a file?
[2013-11-14 13:45:47 -0500] juzerali: knife data bag from file "blah blah" doesn't seem to work
[2013-11-14 13:45:59 -0500] ganaiwali: juzerali: you can use && or ;
[2013-11-14 13:46:12 -0500] ganaiwali: but not a single magical command AFAIK
[2013-11-14 13:46:22 -0500] juzerali: ganaiwali: thanks
[2013-11-14 13:47:51 -0500] joelmoss: anyone help please?
[2013-11-14 13:48:56 -0500] joelmoss: I got a cookbook_file resource defined, that has been run on my servers. but I now want to change its mode. I added the `mode 0755` option, but after the chef run it hasn't changed. how can I tell chef to change the mode?
[2013-11-14 13:49:04 -0500] laurent\: joelmoss: have you tried to use mode "0755" or mode 00755 ?
[2013-11-14 13:49:31 -0500] joelmoss: oh so `mode 0755` won't work?
[2013-11-14 13:49:47 -0500] joelmoss: as I'm seeing it used on  http://docs.opscode.com/resource_cookbook_file.html
[2013-11-14 13:50:06 -0500] joelmoss: nah its not being run: * cookbook_file[/usr/bin/sandbox-wrapper] action create (up to date)
[2013-11-14 13:50:25 -0500] laurent\: oh sorry I should have guessed ! :-)
[2013-11-14 13:50:42 -0500] workmad3: joelmoss: what's the action on the resource?
[2013-11-14 13:50:49 -0500] joelmoss: so how can I tell chef to run this and apply my mode change?
[2013-11-14 13:51:03 -0500] joelmoss: just using the default by not specifying one
[2013-11-14 13:51:12 -0500] joelmoss: default is :create
[2013-11-14 13:51:28 -0500] workmad3: joelmoss: and you uploaded your cookbook change to the chef server?
[2013-11-14 13:51:34 -0500] joelmoss: let me try specifying it
[2013-11-14 13:51:35 -0500] joelmoss: yup
[2013-11-14 13:51:50 -0500] enbergj: I'm trying to use the opscode-cookbooks/jenkins cookbook, and end up with an error: ERROR: resource template[/etc/default/jenkins] is configured to notify resource ruby_block[block_until_operational] with action create, but ruby_block[block_until_operational] cannot be found in the resource collection. template[/etc/default/jenkins] is defined in /var/chef/cache/cookbooks/jenkins/recipes/_server_package.rb:55:in `from_file' ... I can see a lot of peopl
[2013-11-14 13:51:50 -0500] workmad3: did you change the cookbook version number when doing so?
[2013-11-14 13:52:08 -0500] workmad3: as some methods of uploading will ignore the upload if the version already exists on the server
[2013-11-14 13:52:38 -0500] joelmoss: @workmad3 no, I forced pushed it
[2013-11-14 13:52:55 -0500] joelmoss: ah no I didn't
[2013-11-14 13:53:12 -0500] joelmoss: that'll be it
[2013-11-14 13:53:12 -0500] joelmoss: thx workmad3
[2013-11-14 13:53:26 -0500] workmad3: heh :)
[2013-11-14 13:53:45 -0500] workmad3: always worth checking the simple things :)
[2013-11-14 13:58:17 -0500] DandyPandy: Hi! I think I already know the answer to this, but when defining a previously defined resource in a wrapper cookbook, does the resource get setup as it is in the parent and then again in the wrapper, thus triggering any notifies every time the recipe in the wrapper is run?
[2013-11-14 13:59:52 -0500] DandyPandy: I'm trying to avoid forking a community cookbook for local specific needs, but also don't want services to be restarted every time chef runs.
[2013-11-14 14:01:08 -0500] enbergj: it seems I failed to understand that the recipes starting with _ shouldn't be used .. using jenkins::package instead of _whatever works better .. I still got some error that /var/run/jenkins didn't exist, but if I create that manually it continues .. hmm
[2013-11-14 14:01:43 -0500] bean: DandyPandy, You could wrap the cookbook and use chef-rewind to unwind the resource you want to modify.
[2013-11-14 14:02:18 -0500] DandyPandy: bean: I'm not familiar with chef-rewind, but that gives me something to look at. Thanks!
[2013-11-14 14:07:24 -0500] DandyPandy: bean: that makes me super excited. I'm working on un-screwing-up my cookbooks by moving them from a monolithic repo to berkshelf and "un-fixing" the community cookbooks I've tinkered with, so that's perfect. Thanks!
[2013-11-14 14:08:39 -0500] DandyPandy: I wish I had grasped what berkshelf was all about five months ago when I was getting started.
[2013-11-14 14:10:49 -0500] DandyPandy: It all clicked when I started versioning cookbooks for my dev, qa, staging, and production environments and had to go digging through my commit history. Then it clicked why setting attributes in roles is kind of a bad thing in my situation.
[2013-11-14 14:18:06 -0500] unflores: Has anyone ever had an issue where they run vagrant w/ chef-solo on their box and everything works, and then the exact same recipes, w/ exact same vagrant version fails on someone else's?
[2013-11-14 14:19:37 -0500] unflores: and if so, what's the best way to debug something like that?  node['nodejs'] is returning nil on their box but it runs fine on my machine
[2013-11-14 14:19:39 -0500] unflores: D :
[2013-11-14 14:24:03 -0500] s2r2: unflores: some json data missing?  chef.json = {} in vagrant, usually dna.json on the VM; passed via -j
[2013-11-14 14:25:40 -0500] unflores: I'm loading it with vagrant, maybe it's not loading for him.  Ok thanks.
[2013-11-14 14:28:15 -0500] s2r2: unflores: it's a little too abstract to really help here... ;)
[2013-11-14 14:28:54 -0500] unflores: that's alright it's a good direction.  I'll have him run chef-shell and see if I have access to the node data
[2013-11-14 14:33:13 -0500] s2r2: unflores: are we talking ohai plugin "nodejs" btw?  Maybe his chef is outdated vagrant-omnibus is great for that
[2013-11-14 14:33:33 -0500] unflores: nopes, nodejs
[2013-11-14 14:42:19 -0500] unflores: hrm... actually.  the node['nodejs'] gets set from default['nodejs'] in the attributes/default.rb. So the chef.json shouldnt really be affecting anything.
[2013-11-14 14:46:32 -0500] daxroc: Hey all
[2013-11-14 14:49:07 -0500] daxroc: I'm trying to access a databag for a collection of paths based on node.chef_environment but I also have a common array of hashes too. When I try to access I get an error with .each, Code: paths = data_bag_item('sys','paths') and I'm accessing them paths[:common].each do |path|
[2013-11-14 15:32:40 -0500] JeanMertz: How does one automatically add a databag private key to a node?
[2013-11-14 15:33:16 -0500] JeanMertz: I'd like to download it from S3, but I need the secret keys from an encrypted data bag ;-)
[2013-11-14 15:34:08 -0500] mattupstate: JeanMertz: the secret is passed to the node on bootstrap
[2013-11-14 15:34:14 -0500] mattupstate: as a file
[2013-11-14 15:34:59 -0500] JeanMertz: mattupstate: how? what if I don't use knife, but instead build AMI's with Packer, and when fire up an EC2 instance which has a chef-client service running?
[2013-11-14 15:35:14 -0500] JeanMertz: when=then
[2013-11-14 15:35:22 -0500] mattupstate: then you'll have to get the secret on there during your imaging process
[2013-11-14 15:35:34 -0500] mattupstate: or some other, automated fashion
[2013-11-14 15:35:36 -0500] jbz: JeanMertz: I'd recommend using AWS user-data scripts and having them write the key to a file then
[2013-11-14 15:35:42 -0500] zts: JeanMertz: for instances on EC2, I assign the instance an IAM role that has permission to access the S3 bucket
[2013-11-14 15:36:01 -0500] mattupstate: there are many ways to go about it, as you can see
[2013-11-14 15:37:03 -0500] JeanMertz: zts: how would you (automatically) assign the IAM role from Chef, without the proper access keys? Or is this a manual step?
[2013-11-14 15:38:33 -0500] zts: JeanMertz: it depends - how are you creating the instances at the moment?
[2013-11-14 15:39:23 -0500] zts: JeanMertz: oh sorry, so you can't assign the IAM role from Chef - it can only be done at the time the instance is created.  I use CloudFormation and do it there, knife-ec2 now also has support for assigning a role when creating an instance
[2013-11-14 15:39:25 -0500] jjj4: Hello! I want to use Chef to configure tunnels between each and every region of my network. Today there may be 3 regions, tomorrow there may be 4 or 2. How do I query the attributes of every node that is tagged as a tunnel, from a recipe executing on one node, and use that to fill in a template?
[2013-11-14 15:39:28 -0500] JeanMertz: zts: I'll be building AMI's with Packer and have chef-client as a service on there
[2013-11-14 15:40:05 -0500] JeanMertz: zts: I see, so I could just have the workstation set up proper access to generate the IAM roles
[2013-11-14 15:42:01 -0500] zts: JeanMertz: yeah - the good thing about IAM roles is that you don't have to worry about keys.  The bad thing (maybe) is that your software that talks to AWS services needs to know a little bit about it.  As examples, s3cmd and the AWS tools will work fine - but the "aws" cookbook won't work
[2013-11-14 15:43:06 -0500] JeanMertz: zts: and if you generate an AMI, and I create multiple nodes from that AMI, can the IAM role be based on the AMI name f.e.?
[2013-11-14 15:43:23 -0500] zts: JeanMertz: if that sounds like it won't work for you, I agree with mattupstate's suggestion about user-data scripts
[2013-11-14 15:43:38 -0500] zts: JeanMertz: you can have a different role for each instance (even if they all use the same AMI)
[2013-11-14 15:43:57 -0500] mattupstate: it wasn't my suggestion ;)
[2013-11-14 15:44:11 -0500] JeanMertz: zts: Yes, but since the role would be created on AMI creation time, not on instance boot time, I would need one role for multiple nodes I believe
[2013-11-14 15:45:21 -0500] mattupstate: i've never heard of anyone setting up chef-client as a service in an AMI
[2013-11-14 15:45:30 -0500] zts: JeanMertz: nah, the role and AMI are created separately - it is only at instance boot time that they come together.  So, what I do with my AMI (which I build with Packer, too) is assume that at boot time, I'll have an IAM role that lets me access S3.  Then, when I start the instances, I make sure that is true
[2013-11-14 15:46:10 -0500] zts: mattupstate: oh hah, sorry :)
[2013-11-14 15:46:50 -0500] JeanMertz: zts: I see, makes sense. And the "making sure that is true" part, that seems like a manual step, because the instance can't make sure of that given it hasn't  access to the EC2 config yet, correct?
[2013-11-14 15:48:58 -0500] zts: JeanMertz: for me, instances are created using CloudFormation (or in auto-scaling groups), and that lets me specify the IAM role for the instance - actually, at that point it's called an "IAM Instance Profile".  If I create something with knife-ec2 or through the AWS web interface, then yes - I have to manually remember to set the option
[2013-11-14 15:48:59 -0500] kleech: With chef-solo what is the recommended way of handling files which can't be kept in version control, e.g. private SSL keys.
[2013-11-14 15:49:41 -0500] zts: JeanMertz: I think it is possible for the node to tell which IAM role it has, but I don't personally do that - if I mess up (and don't assign the role), things will fail and I shout at myself for being stupid
[2013-11-14 15:51:58 -0500] JeanMertz: zts: thanks, crystal clear
[2013-11-14 15:56:07 -0500] stormerider: JeanMertz: i would imagine if you want to verify thot it was set you can poke at something in the ec2 metadata for the node
[2013-11-14 15:56:33 -0500] daxroc: Is it ok to name cookbooks and databags the same ?
[2013-11-14 15:57:00 -0500] stormerider: JeanMertz: the http://169.254.169.254/latest/dynamic/instance-identity/document type stuff
[2013-11-14 15:57:36 -0500] vt102: On your workstation, who should own /opt/chef?  It installed as user 999.  I'm guessing it should be the local user account?  Not root, nor a chef role account?
[2013-11-14 15:57:41 -0500] JeanMertz: stormerider: good idea, need to play around with that one
[2013-11-14 16:00:12 -0500] jjj4: How do I append template contents to a file?
[2013-11-14 16:00:13 -0500] zts: JeanMertz: just checked, and the ohai ec2 plugin will expose it under node.ec2.iam (there's a number of relevant keys under that point)
[2013-11-14 16:01:07 -0500] jbz: daxroc:  Shouldn't hurt anything at the code level.  Human confusion, another story. :-)
[2013-11-14 16:01:34 -0500] JeanMertz: zts: thanks, that seems useful for automated verification
[2013-11-14 16:03:04 -0500] jjj4: How do I append template contents to a file instead of replacing the file contents?
[2013-11-14 16:03:33 -0500] jbz: Can't do that with templates, AFAIK
[2013-11-14 16:03:52 -0500] jbz: because the resource will checksum the entire file to determine if it should apply the template
[2013-11-14 16:05:01 -0500] glen: so, i write ohai plugin, which depends on other plugin, how are these ordered?
[2013-11-14 16:05:24 -0500] jjj4: jbz: I need to add config lines to /etc/sysctl.conf but I do not want to disturb the rest of the file. What is a good way to do that?
[2013-11-14 16:05:45 -0500] jbz: Hm, there is a method Chef::Util::FileEdit
[2013-11-14 16:06:07 -0500] jbz: or you could just write a code block that looks for the lines you want to add in the file under the not_if attribute, and if it doesn't find 'em, just appends them in the code resource
[2013-11-14 16:07:44 -0500] jjj4: jbz: the code block sounds interesting.. what topics should i look at?
[2013-11-14 16:13:10 -0500] daxroc: Just asking because I'm trying to iterate over a data bag of paths and I can't no method each
[2013-11-14 16:14:34 -0500] glen: there's no way to order how plugins are run in ohai?
[2013-11-14 16:16:54 -0500] zaargy: order them why?
[2013-11-14 16:17:06 -0500] zaargy: oh i see above
[2013-11-14 16:17:11 -0500] glen: it depends data on other plugin
[2013-11-14 16:17:39 -0500] glen: i thought the requires/provides line define the order, but does not seem to help
[2013-11-14 16:19:10 -0500] zts: jjj4: there's a sysctl cookbook, which might be useful to you - http://community.opscode.com/cookbooks/sysctl
[2013-11-14 16:19:19 -0500] glen: or at least the data is not there which the other plugin should add
[2013-11-14 16:19:29 -0500] daxroc: Glen how are you adding them, via ohai cookbook
[2013-11-14 16:19:40 -0500] glen: but if i disable part which depends on that other plugin data, both plugin results appear in node
[2013-11-14 16:19:43 -0500] daxroc: Isn't there a client option for order?
[2013-11-14 16:20:06 -0500] jjj4: zts: Thanks. I found it and I'm working through it.
[2013-11-14 16:20:19 -0500] glen: daxroc: i'm using ohai cookbook to add, but it just copies files. and i do not see any option to change order
[2013-11-14 16:20:45 -0500] zts: glen: require_plugin (inside the ohai plugin) works for me
[2013-11-14 16:21:06 -0500] jperry: ohai!
[2013-11-14 16:21:24 -0500] glen: zts: i have that there
[2013-11-14 16:21:29 -0500] jperry: does anyone know if include_recipe will bring in local variables defined in a recipe or only the resources are brought along?
[2013-11-14 16:22:17 -0500] zts: glen: if it helps for comparison, here's what I've got - https://github.com/zts/cookbook-ohai-aws/blob/master/files/default/ohai_plugins/aws.rb
[2013-11-14 16:22:48 -0500] glen: no it doesn't help
[2013-11-14 16:23:01 -0500] glen: i mean the both plugins run fine if they do not use data from each other
[2013-11-14 16:23:05 -0500] buff3r: Hi, I'm getting this error: Cannot find a resource for python_pip.  I've tried putting 'depends "python"' in my metadata.rb.  Suggestions please?
[2013-11-14 16:23:15 -0500] jjj4: I want to use Chef to configure IPSEC tunnels between each and every region of my network. Today there may be 3 regions, tomorrow there may be 4 or 2. I can tag all the nodes that need tunnel configs. But I need to have each node query for every other node that is a tunnel. And I need to be able to grab the ec2.public_ipv4 attribute for every node from each node. How can a node find other nodes and query their attributes?
[2013-11-14 16:24:04 -0500] zts: glen: are you able to show the code, or is it private?
[2013-11-14 16:25:08 -0500] glen: vserver plugin : http://sprunge.us/CPHg
[2013-11-14 16:25:36 -0500] glen: http://sprunge.us/HPMj : hostaddr plugin that depends on vserver plugin
[2013-11-14 16:25:55 -0500] mad-wop: hello guys
[2013-11-14 16:26:44 -0500] glen: zts: ok. nevermind!!!
[2013-11-14 16:26:56 -0500] glen: zts: i found the error. i'm still using node. there
[2013-11-14 16:27:17 -0500] glen: i'm converting the recipe to ohai plugin, it used to be inside recipe
[2013-11-14 16:27:32 -0500] zts: glen: I think I caused myself that headache too :)  np
[2013-11-14 16:27:57 -0500] mad-wop: hey guys ,it's the first time that i'm facing chef
[2013-11-14 16:28:02 -0500] mad-wop: who could help me please?
[2013-11-14 16:28:46 -0500] glen: mad-wop: just ask the question. people look based on question can they help
[2013-11-14 16:31:40 -0500] jperry: is it bad to put pulling down data bag info in a ruby_block resource?
[2013-11-14 16:31:41 -0500] pabst^: I am periodically seeing nodes do strangeness... periodically they start trying to check in with hostname instead of fqdn, which makes the client.pem invalid, has anyone seen this?
[2013-11-14 16:32:13 -0500] mad-wop: glen
[2013-11-14 16:32:16 -0500] _ci: Trying to upgrade a package via chef on an Ubuntu server
[2013-11-14 16:32:17 -0500] bean__: that would be quite odd, pabst^
[2013-11-14 16:32:20 -0500] mad-wop: can i post something in here?
[2013-11-14 16:32:32 -0500] jperry: actually now that I think of it it's a block so those variables probably be available to other resources
[2013-11-14 16:32:42 -0500] _ci: Tried to use both "package" and "apt_package" rescource
[2013-11-14 16:32:52 -0500] _ci: Receive this error "Chef::Exceptions::Package ------------------------- No candidate version available for ..."
[2013-11-14 16:33:08 -0500] zts: mad-wop: if you have a specific question, just ask it.  But if you need general help to learn chef, the best channel is #learnchef
[2013-11-14 16:33:14 -0500] _ci: ssh into the machine and do a normal apt-get upgrade package_name and everything works
[2013-11-14 16:33:24 -0500] _ci: Try again via chef and same error occurs.  Any ideas?
[2013-11-14 16:33:26 -0500] mad-wop: thx
[2013-11-14 16:33:31 -0500] zts: mad-wop: but if you have errors/logs to share, please use gist/pastebin - don't paste into the channel
[2013-11-14 16:33:43 -0500] mad-wop: ok
[2013-11-14 16:33:48 -0500] pabst^: bean__: yeah I thought so as well... node_name is configured to use fqdn...
[2013-11-14 16:34:19 -0500] pabst^: bean__: if I go into client.rb and explicityly set hostname.domain it runs the chef-client run just fine
[2013-11-14 16:45:54 -0500] doublerr: has anyone seen issues where a chef-client run won't download the entire cookbook? it's not pulling down the "files" directory. A  manual download of the cookbook has it though
[2013-11-14 16:47:12 -0500] jbz: doublerr: Does it have the same version number?
[2013-11-14 16:48:07 -0500] buff3r: Hi, I'm getting this error: Cannot find a resource for python_pip.  I've tried putting 'depends "python"' in my metadata.rb.  Suggestions please?
[2013-11-14 16:48:24 -0500] zts: doublerr: that sounds like a symptom - what problem is occurring?  Is the chef run failing because it cannot find a file?
[2013-11-14 16:49:19 -0500] doublerr: jbz: yes, we wiped all versions of the cookbooks on the server and uploaded the latest
[2013-11-14 16:49:51 -0500] doublerr: zts: yes its failing, but we look at the cookbook cache, the files directory isn't there
[2013-11-14 16:50:05 -0500] doublerr: but "knife cookbook download" shows all the correct content
[2013-11-14 16:50:44 -0500] doublerr: more than just the files dir, there are other files that appear to be missing. Also chef ignore doesn't appear to be causing the issues
[2013-11-14 16:50:47 -0500] zts: doublerr: I believe it is normal for chef-client not to download the whole cookbook - just the parts it needs.  Some things will be downloaded at the start of the run, others when they are actually required.
[2013-11-14 16:51:03 -0500] zts: doublerr: can you share (pastebin) the failing output of an actual run?
[2013-11-14 16:51:36 -0500] doublerr: zts: that would make sense. we'll get a pastebin
[2013-11-14 16:52:00 -0500] zts: thankyou
[2013-11-14 16:58:12 -0500] doublerr: zts: http://pastebin.com/SPMtfUzG
[2013-11-14 17:01:15 -0500] zts: doublerr: ah, the problem here is the difference between the "compile" and "converge" phases of the Chef run.  That file will only be created when the Chef run converges, but line 73 of the pastebin runs during the compile phase (before converge)
[2013-11-14 17:02:16 -0500] zdeptawa: zts: ah - we were trying to drop the file first so line 73 could use it.
[2013-11-14 17:03:05 -0500] zts: zdeptawa: yeah, the smallest change that will make that work is to delete line 70, and change line 71 to "end.run_action(:create)" - that will force the resource to converge during the compile phase...
[2013-11-14 17:03:35 -0500] zts: zdeptawa: however, I have to ask why you are using encrypted data bags here - if you are also delivering the key using Chef, what security is it giving you?
[2013-11-14 17:04:09 -0500] zdeptawa: zts: thanks - will try that.
[2013-11-14 17:04:26 -0500] zdeptawa: zts: we've been talking about that internally (security wise)
[2013-11-14 17:05:21 -0500] zdeptawa: zts: still trying to work out the best way to handle sensitive data via encrypted data bags in this manner (delivering something sensitive to a template file, for instance)
[2013-11-14 17:07:18 -0500] zts: zdeptawa: understood.  I would point out that the original reason for Encrypted Data Bags to exist is if you want to store secrets in your Chef Server, but you do not trust the people who administer it.  (or you are worrying about the data at rest).  If you store the key in the same place, then it doesn't add much value
[2013-11-14 17:07:46 -0500] zdeptawa: zts: makes sense. I need to step away for just a bit, be right back. Thanks for all your help!
[2013-11-14 17:07:52 -0500] zts: zdeptawa: no problem, good luck!
[2013-11-14 17:21:59 -0500] jjj4: I'm running into this problem (http://community.opscode.com/questions/281). My chef server is on ec2 so it's public IP is NATted. I assume this is the reason my cookbook uploads are failing. What is the best way to fix this?
[2013-11-14 17:22:27 -0500] jjj4: my hostname and hostname -f return the private IP DNS entries
[2013-11-14 17:23:39 -0500] drywheat: if i wanted to created a wrapper for an existing cookbook, is there a naming convention?
[2013-11-14 17:23:43 -0500] jjj4: I have already adjusted my fqdn and nginx entries in chef-server-ctl to use the public dns entries
[2013-11-14 17:23:56 -0500] drywheat: for instance, I want to leverage and extend the "haproxy" cookbook
[2013-11-14 17:24:09 -0500] drywheat: "haproxy_wrapper" ???
[2013-11-14 17:25:26 -0500] gkarekinian: Something like organization-haproxy or project-haproxy makes sense
[2013-11-14 17:26:29 -0500] vt102: On your workstation, who should own /opt/chef?  It installed as user 999.  I'm guessing it should be the local user account?  Not root, nor a chef role account?
[2013-11-14 17:26:40 -0500] buff3r: Hi, I'm getting this error: Cannot find a resource for python_pip.  I've tried: * 'depends "python"' in metadata.rb * include_recipe "python"; include_recipe "python_pip".  Neither of those have worked.  I am using OpsWorks, Chef 11.4, and Ubuntu 12.04
[2013-11-14 17:27:16 -0500] drywheat: gkarekinian: Yeah, that's what I'm seeing online. Thanks.
[2013-11-14 17:27:22 -0500] buff3r: I meant include_recipe "python::pip"
[2013-11-14 17:31:04 -0500] flagg0204: anyone else have the problem with the omnibus_updater cookbook not actually killing the running chef process?
[2013-11-14 17:31:25 -0500] flagg0204: im having to manually stop/start chef in order for the upgrade to actually work without it continuing to run the older version of chef
[2013-11-14 17:32:33 -0500] buff3r: i'm using chef-solo as well
[2013-11-14 17:33:09 -0500] flagg0204: is there a way to restart chef from within a recipe?
[2013-11-14 17:39:08 -0500] unflores: flagg: what is it that you actually trying to do?
[2013-11-14 17:41:56 -0500] flagg0204: unflores: im using the omnibus_updater cookbook and the chef_client cookbook.  the problem is the upgrade completes but chef never restarts.  so when the next chef run occurs it uses the old version of chef and errors out
[2013-11-14 17:43:45 -0500] zts: flagg0204: it's supposed to - perhaps something has changed the node[:omnibus_updater][:kill_chef_on_upgrade] attribute to false?  If not, sounds like a bug
[2013-11-14 17:44:22 -0500] zts: flagg0204: ah, there's an open issue.  Does this match your case?  https://github.com/hw-cookbooks/omnibus_updater/issues/33
[2013-11-14 18:01:14 -0500] flagg0204: zts:  indeed it does match
[2013-11-14 18:01:23 -0500] flagg0204: zts: was trying to find a workaround for it
[2013-11-14 18:19:00 -0500] pabst^: Is there a way to search for nodes that have a particular recipe currently applied to them
[2013-11-14 18:19:03 -0500] pabst^: ?
[2013-11-14 18:25:40 -0500] Cope: pabst^: have you looked at the documentation and examples on docs.opscode.com?
[2013-11-14 18:25:58 -0500] Cope: there are examples of search queries there
[2013-11-14 18:26:14 -0500] Cope: you can search on anything that Chef indexes
[2013-11-14 18:26:44 -0500] Cope: I'd recommend you have a look at that, and try to compose some searches, and come back with specific questions or errors.
[2013-11-14 18:27:10 -0500] Cope: Just for clarity: do you wish to search in the context of a recipe, or from the command line using knife?
[2013-11-14 18:38:36 -0500] buff3r: How to use python_pip + chef-solo? I've tried: * 'depends "python"' in metadata.rb * include_recipe "python"; include_recipe "python_pip".  Neither have worked.  I am using OpsWorks, Chef 11.4, and Ubuntu 12.04
[2013-11-14 18:44:23 -0500] avalarion: Hey ho =)
[2013-11-14 18:44:54 -0500] avalarion: If I've overwritten attributes of a recipe with my own recipe, is there a way to check the current settings?
[2013-11-14 18:45:39 -0500] avalarion: eg httpd cookboook is forked 3 times for domain1, domain2 and domain3. I'd love to have an other cookbook to be able to get the configs of all 3 cookbooks.
[2013-11-14 18:51:38 -0500] jbz: avalarion: I believe it's generally preferable to always have that situation handled with attributes or data bag items, rather than actually forking cookbooks
[2013-11-14 18:52:09 -0500] avalarion: jbz but chef-solo is not able to handle databags, right? I'd like to test in a vagrant box
[2013-11-14 18:52:16 -0500] jbz: i.e. unless you need to actually change the functionality of the cookbook, have the cookbook iterate through all the various instances it needs to deploy or pass it attributes appropriate to the role/machine it's on
[2013-11-14 18:53:07 -0500] jbz: avalarion: chef-solo *can* read from data bags, provided the contents of the data bag are made available as a file on the machine...
[2013-11-14 18:53:15 -0500] jbz: http://docs.opscode.com/essentials_data_bags.html#with-chef-solo
[2013-11-14 18:53:31 -0500] jbz: You won't be able to search, I think, is the limitation.
[2013-11-14 18:53:35 -0500] chalettu: i heart using chef zero with vagrant.  It allows me to use databags
[2013-11-14 18:54:23 -0500] avalarion: *reading*
[2013-11-14 18:55:49 -0500] avalarion: I am able to grep on a local maschine, so I am able to use databags here =). THanks a lot, you two
[2013-11-14 18:59:07 -0500] sparr: When chef-client runs on one of my nodes I would like to leave as obvious as possible of a record that it was successful and what it accomplished/changed. My first thought is to have it put any non-skipped actions into the motd, so a local admin that logs in sees it. Are there more common / better / easier / more robust ways to do this?
[2013-11-14 19:05:55 -0500] ianco: heyoo. if an lwrp contains some Chef::log's to output what its doing, will that output when the lwrp is run or at compile time?
[2013-11-14 19:07:08 -0500] teukka: jbz, avalarion: chef-solo-search cookbook monkey patches search for chef-solo. it's also bundled in knife-solo (but currently you have to add it tu run_list yourself with chef 11)
[2013-11-14 19:08:06 -0500] strictlyb: anyone using rsyslog cookbook
[2013-11-14 19:10:46 -0500] dtrott: Not yet but I will probably been taking a look at it in the next few days, whats happening ?
[2013-11-14 19:10:50 -0500] dtrott: probably be...
[2013-11-14 19:11:04 -0500] strictlyb: dtrott you taking to me?
[2013-11-14 19:11:06 -0500] strictlyb: talking*
[2013-11-14 19:11:12 -0500] sn0wb1rd: he is
[2013-11-14 19:11:19 -0500] strictlyb: well
[2013-11-14 19:11:19 -0500] dtrott: strictlyb: yes
[2013-11-14 19:11:45 -0500] strictlyb: im looking around and im trying to figure out how this is supposed to be structured in regards to its search for server in the databag
[2013-11-14 19:24:17 -0500] jmickle: anyone here use vagrant-chef-zero?
[2013-11-14 19:24:31 -0500] jmickle: I'm running into a problem where it keeps trying to update _default environment and cant
[2013-11-14 19:24:38 -0500] Takumo: Question, I've installed gecode (from source) but when I try to install the dep_selector (0.0.8) gem I get an error building the extension
[2013-11-14 19:24:47 -0500] Takumo: (using ruby-2.0.0p247 via RVM)
[2013-11-14 19:24:54 -0500] pabst^: Cope: Forget it. Figured it out myself. Was looking for a quick example, not the RTFM answer. Thanks though.
[2013-11-14 19:29:35 -0500] strictlyb: guess no helps on rsyslog
[2013-11-14 19:34:53 -0500] Takumo: anyone able to help with this error installing dep_selector? "dep_selector_to_gecode.h:154:3: error: Restart does not name a type
[2013-11-14 19:34:56 -0500] Takumo:    Restart<VersionProblem> solver;
[2013-11-14 19:38:20 -0500] stormerider: strictlyb: if i recall correctly it does a search for a node with the recipe rsyslog::server and uses that IP address
[2013-11-14 19:38:38 -0500] strictlyb: i have mltiple datacenters
[2013-11-14 19:38:41 -0500] strictlyb: so that wouldnt work,
[2013-11-14 19:38:46 -0500] strictlyb: i would need to code a wrapper thne
[2013-11-14 19:38:47 -0500] strictlyb: ok
[2013-11-14 19:38:50 -0500] strictlyb: to use databags
[2013-11-14 19:38:55 -0500] strictlyb: ok
[2013-11-14 19:39:32 -0500] stormerider: strictlyb: then set the rsyslog.server_ip attribute on your nodes
[2013-11-14 19:39:38 -0500] jperry: jtimberman: is runit a dependency anymore of git?
[2013-11-14 19:39:52 -0500] jperry: I see it was replaced with xinetd
[2013-11-14 19:40:48 -0500] jmickle: argh
[2013-11-14 19:40:55 -0500] jmickle: anyone help me figure this problem out "The '_default' environment cannot be modified."
[2013-11-14 19:40:59 -0500] jmickle: on vagrant-chef-zero
[2013-11-14 19:41:26 -0500] stormerider: do you have a list of environment json files?
[2013-11-14 19:43:13 -0500] jmickle: stormerider: what do you mean?
[2013-11-14 19:43:20 -0500] jmickle: I have it specified to my chef-repo
[2013-11-14 19:43:25 -0500] jmickle: path
[2013-11-14 19:43:46 -0500] jmickle: inside of the environment files are all json files
[2013-11-14 19:43:59 -0500] stormerider: right. is one of them _default.json?
[2013-11-14 19:44:14 -0500] jmickle: oh
[2013-11-14 19:44:16 -0500] jmickle: good question
[2013-11-14 19:44:32 -0500] stormerider: if it's there, delete it. it's immutable.
[2013-11-14 19:44:43 -0500] jmickle: shit your right
[2013-11-14 19:44:49 -0500] jmickle: admit knew it was something stupid
[2013-11-14 19:45:36 -0500] stormerider: hey, ive done it before :) knife-backup downloads all the envs, including the one that you can't change, at least last time i ran it
[2013-11-14 19:45:53 -0500] jmickle: haha
[2013-11-14 19:45:56 -0500] jmickle: yep exactly what it was
[2013-11-14 19:46:08 -0500] jmickle: totally didnt realize it was in there
[2013-11-14 19:47:14 -0500] jmickle: yep working now
[2013-11-14 19:47:16 -0500] jmickle: gosh im an idiot sometimes
[2013-11-14 19:47:17 -0500] jmickle: thanks
[2013-11-14 19:49:01 -0500] b0c1: hi
[2013-11-14 19:49:26 -0500] stormerider: glad i could help :)
[2013-11-14 19:49:27 -0500] b0c1: I have a little problem, I want to bootstrap from my node to another
[2013-11-14 19:49:36 -0500] b0c1: but I cant, its say 401
[2013-11-14 19:49:58 -0500] stormerider: b0c1: is the first node set up as a workstation?
[2013-11-14 19:50:24 -0500] b0c1: I dunno this is a vagrant virtual server
[2013-11-14 19:50:29 -0500] b0c1: how can I check?
[2013-11-14 19:51:04 -0500] b0c1: or how can I transform into a workstation?
[2013-11-14 19:51:14 -0500] stormerider: also, as a general psa: if other folks are feeling the way i am after the chef summit, people might be a little scarcer than usual in irc
[2013-11-14 19:51:29 -0500] b0c1: (I simply downloaded a vagrant box with chef)
[2013-11-14 19:52:09 -0500] stormerider: b0c1: then you probably need to set up an admin user account on the chef server
[2013-11-14 19:52:17 -0500] stormerider: so that you can use knife
[2013-11-14 19:52:41 -0500] b0c1: I have a chef server accoutn, I have the client.pem file
[2013-11-14 19:52:49 -0500] b0c1: (ummm.. username.pem)
[2013-11-14 19:53:14 -0500] stormerider: ok, and you get the 401 when you run knife bootstrap or?
[2013-11-14 19:53:19 -0500] b0c1: I already uploaded cookbooks and etc with knife
[2013-11-14 19:53:38 -0500] b0c1: stormerider: yepp, Its said: Failed to authenticate to the chef server (http 401).
[2013-11-14 19:54:19 -0500] stormerider: knife said that, or the node youre trying to bootstrap said that?
[2013-11-14 19:54:26 -0500] b0c1: I using knef bootstrap with --server-url and -k new_node_client.pem
[2013-11-14 19:54:45 -0500] b0c1: I think the new node said that
[2013-11-14 19:54:47 -0500] stormerider: did you precreate the client?
[2013-11-14 19:54:53 -0500] b0c1: yepp
[2013-11-14 19:55:05 -0500] b0c1: its a vagrant client so I can pull up new
[2013-11-14 19:55:32 -0500] stormerider: if you run knife bootstrap you dont need to precreate it, although you can, it just takes a bit more fiddling
[2013-11-14 19:56:00 -0500] b0c1: ok, start from the beginning, I logged in to my workstation
[2013-11-14 19:56:16 -0500] b0c1: I copied the validator.pem file to /etc/chef/validation.pem
[2013-11-14 19:56:22 -0500] stormerider: i was also introduced to https://github.com/opscode/bootstrapper at the chef summit, might give that a whirl and see if it work better
[2013-11-14 19:56:49 -0500] b0c1: I think I have a problem with the pem files...
[2013-11-14 19:57:00 -0500] b0c1: I have many pem file but what need where?
[2013-11-14 19:57:07 -0500] Darkness650: Anyone seen these errors with berkshelf and the hostsfile-2.4.2 recipe?  http://pastebin.com/PwWjnGgi
[2013-11-14 19:57:20 -0500] Darkness650: This didn't happen with hostsfile-2.4.0
[2013-11-14 19:57:21 -0500] b0c1: I have 2 client pem file + user pem file
[2013-11-14 19:58:01 -0500] b0c1: which one need to the knife bootstrap (I think its need too when I using bootstrapper)
[2013-11-14 19:59:00 -0500] b0c1: I send the concrete error in private
[2013-11-14 19:59:36 -0500] stormerider: b0c1: i actually need to go afk for a bit, i'd suggest pasting a gist into the channel
[2013-11-14 19:59:54 -0500] b0c1: ok
[2013-11-14 20:01:12 -0500] stormerider: hopefully someone else can help you
[2013-11-14 20:01:35 -0500] b0c1: ok, please somebody tell me which pem file required where?
[2013-11-14 20:01:44 -0500] b0c1: which required if I using a bootstrap?
[2013-11-14 20:01:55 -0500] b0c1: the organisation validator? the client? or the user?
[2013-11-14 20:02:32 -0500] bean__: b0c1: have you checked out #learnchef
[2013-11-14 20:02:49 -0500] bean__: and https://learnchef.opscode.com/
[2013-11-14 20:03:35 -0500] vt102: How can I get knife bootstrap to generate the parsed chef-full.erb command line and just output it rather than actually sshing to a host?  Is that possible?
[2013-11-14 20:05:00 -0500] bean__: vt102: I have no idea how you'd do that but its pretty simple to figure out what it'd be if you look @ https://github.com/opscode/chef/blob/master/lib/chef/knife/bootstrap/chef-full.erb
[2013-11-14 20:05:46 -0500] bean__: whois vt102
[2013-11-14 20:05:53 -0500] bean__: sry, meant to / that
[2013-11-14 20:07:03 -0500] vt102: bean__: heh.  Yeah, I'm looking at it, and also caught it in ps on a target system.  Was just wanting something cleaner.  My thought was to lay that in a golden image so that non-chef users spinning up VMs get them registered with chef automatically.  Do you know a better way to do that?
[2013-11-14 20:07:23 -0500] vt102: I can't bootstrap with knife, since these are non-chef users creating virtuals we'd like to manage.
[2013-11-14 20:07:36 -0500] vt102: I mean, I could, but that's too manual, I don't want to.
[2013-11-14 20:22:22 -0500] Afterglow: spheromak: ping
[2013-11-14 20:24:54 -0500] wdilly: Hi guys, I have a recipe that all of a suddent wont upload to my server
[2013-11-14 20:25:11 -0500] wdilly: i have not changed code on it in awhile. what the best method for finding out WHY?
[2013-11-14 20:25:46 -0500] bean__: wdilly: what error do you get
[2013-11-14 20:26:47 -0500] wdilly: ERROR: Server returned error for https://chefsrv1.redacted.com/cookbooks/MOTD/0.1.0, retrying 1/5 in 3s
[2013-11-14 20:28:09 -0500] wdilly: chef-server-ctl status shows everything as "run"
[2013-11-14 21:06:11 -0500] zenloop: I have a recipe that requires fog.  When the chef-client runs it sometimes dies when http://rubygems.global.ssl.fastly.net goes away.
[2013-11-14 21:06:22 -0500] zenloop: is there a way to host my own gems and have chef get gems from there?
[2013-11-14 21:07:07 -0500] drywheat: where's a good place to look up all of the values ohai exposes for a node?
[2013-11-14 21:07:29 -0500] Afterglow: drywheat: you can just run ohai on the node from the console if you want
[2013-11-14 21:07:29 -0500] drywheat: like linux version
[2013-11-14 21:08:00 -0500] dtrott: zenloop: I am currently looking into Berkshelf I think that does the gem downloading/managment for you/us
[2013-11-14 21:09:15 -0500] drywheat: Afterglow: ok, and i guess i can just use those values in my cookbooks thereafter, like node['key-to-ohai-value']
[2013-11-14 21:09:28 -0500] drywheat: i'm going to give that a shot. thx
[2013-11-14 21:10:01 -0500] Afterglow: drywheat: yes or you can do knife node show with the -l flag and that lists eveything chef knows about the node
[2013-11-14 21:10:12 -0500] dtrott: drywheat: you can also do: knife node show -l NODENAME
[2013-11-14 21:10:26 -0500] dtrott: to see everything about the node ...
[2013-11-14 21:10:48 -0500] Afterglow: zenloop: you could just stick your own caching proxy in front and just indefinitely cache the gems since the same version can't be reused?
[2013-11-14 21:13:03 -0500] zenloop: I have to figure something out.  I cannot provision machines right now as there is a dependency on rubygems.  lame.
[2013-11-14 21:14:48 -0500] rhys: can anyone suggest a tool that can help me bootstrap from baremetal -> chef
[2013-11-14 21:15:04 -0500] rhys: vanilla pxelinux is definitely an option, just curious if anyone knew a better way
[2013-11-14 21:15:40 -0500] coderanger: rhys: razor, crowbar, pxedust
[2013-11-14 21:16:06 -0500] rhys: i've tried razor. noep. i'll check the other two thanks.
[2013-11-14 21:21:41 -0500] dtrott: When using third party cookbooks that have their own dependencies is there an easy way to find where those cookbooks can be download from ?
[2013-11-14 21:22:51 -0500] dtrott: Something like http://mvnrepository.com/ but for cookbooks ?
[2013-11-14 21:23:15 -0500] Afterglow: looking for a fix to https://github.com/RiotGames/thor-scmversion/issues/28 that doesn't involve editing the Gemfile of every cookbook we maintain :/
[2013-11-14 21:28:52 -0500] dtrott: Afterglow you could update jenkins to create a real branch...
[2013-11-14 21:30:46 -0500] jmickle: stormerider: you around still?
[2013-11-14 21:34:37 -0500] wdilly: so chef-server is basically taking my dualcore 8GB VM to a load of > 10 what gives?!
[2013-11-14 21:34:50 -0500] wdilly: (with no clients)
[2013-11-14 21:39:31 -0500] buff3r: How to use python_pip + chef-solo? I've tried: * 'depends "python"' in metadata.rb * include_recipe "python"; include_recipe "python_pip".  Neither have worked.  I am using OpsWorks, Chef 11.4, and Ubuntu 12.04
[2013-11-14 21:47:51 -0500] jmickle: i can't seem to get vagrant-chef-zero to find my cookbooks now any one been through this?
[2013-11-14 21:47:58 -0500] jmickle: it just doesn't seem to upload them / find them
[2013-11-14 21:51:31 -0500] jaimef: wow re:invent did not hand out good swag this year for #opscode
[2013-11-14 21:55:30 -0500] SFLimey: Anyone know how to use --user-data in knife ec2 server create?
[2013-11-14 21:55:50 -0500] SFLimey: I'm trying to do something like --user-data "#include https://get.docker.io
[2013-11-14 21:56:16 -0500] SFLimey: but its not working, can't find any online documentation to it either.
[2013-11-14 21:57:02 -0500] bean__: SFLimey: We use userdata, but we just pass stuff a .txt file
[2013-11-14 21:58:13 -0500] stormerider: SFLimey: ive done it before where i just passed it a bash script, but i havent really mucked with the cloudinit side of things
[2013-11-14 21:59:21 -0500] bean__: http://bazaar.launchpad.net/~cloud-init-dev/cloud-init/trunk/files/head:/doc/examples/ there a list of examples, SFLimey
[2013-11-14 22:00:03 -0500] SFLimey: Ah cool, thanks Bean!
[2013-11-14 22:00:35 -0500] bean__: np
[2013-11-14 22:00:47 -0500] bean__: SFLimey: http://bazaar.launchpad.net/~cloud-init-dev/cloud-init/trunk/view/head:/doc/examples/include.txt :)
[2013-11-14 22:01:32 -0500] b0c1: ok I not understand
[2013-11-14 22:01:43 -0500] b0c1: chef-client work for first time (but I have an error)
[2013-11-14 22:01:53 -0500] b0c1: and for second time I get 403
[2013-11-14 22:02:41 -0500] b0c1: (between that I do a modify in the role and do knife upload . in the workstation)
[2013-11-14 22:02:47 -0500] stevedb: what is the right way to get the chef environment in an attribute.rb file? For some reason node.chef_environment is not working
[2013-11-14 22:04:14 -0500] rhys: any reason chef requires the hostname be a FQDN?
[2013-11-14 22:04:18 -0500] rhys: on a server anyway.
[2013-11-14 22:04:36 -0500] bean__: b0c1: it just says 403? or is there a verbose error message. Again, you may want to check out learnchef
[2013-11-14 22:04:48 -0500] b0c1: bean__: I checked learnchef
[2013-11-14 22:05:00 -0500] b0c1: its work cool for first time
[2013-11-14 22:05:12 -0500] bean__: Did you go through the whole thing
[2013-11-14 22:05:20 -0500] b0c1: ?
[2013-11-14 22:05:21 -0500] bean__: I've never had a client 403 the 2nd time
[2013-11-14 22:05:34 -0500] b0c1: Server Response:
[2013-11-14 22:05:34 -0500] b0c1: ----------------
[2013-11-14 22:05:34 -0500] b0c1: missing read permission
[2013-11-14 22:05:41 -0500] b0c1: but the node have all permission
[2013-11-14 22:06:17 -0500] bean__: b0c1: https://learnchef.opscode.com/errors-and-problems/403-forbidden/
[2013-11-14 22:08:35 -0500] b0c1: thanks but this node have ALL permission (both global and object)
[2013-11-14 22:10:32 -0500] b0c1: Oooo, %$#&@&
[2013-11-14 22:13:41 -0500] bean__: b0c1: you find a problem?
[2013-11-14 22:14:02 -0500] b0c1: Yeah, after knife update .
[2013-11-14 22:14:19 -0500] b0c1: the role and the environment lost all permission
[2013-11-14 22:14:31 -0500] bean__: I can't say I've ever used "knife update ."
[2013-11-14 22:14:52 -0500] b0c1: ? how can you upload to the chef server?
[2013-11-14 22:15:02 -0500] bean__: knife upload name-of-cookbook?
[2013-11-14 22:15:17 -0500] b0c1: but its only upload the cookbook
[2013-11-14 22:15:24 -0500] b0c1: not upload the role or the dependent installed cookbooks
[2013-11-14 22:15:32 -0500] bean__: I use berkshelf, and not roles.
[2013-11-14 22:15:38 -0500] b0c1: ohh
[2013-11-14 22:15:42 -0500] bean__: and berkshelf takes care of all of the deps.
[2013-11-14 22:15:49 -0500] b0c1: I never used berkshelfs
[2013-11-14 22:15:55 -0500] b0c1: im new in chef world
[2013-11-14 22:17:34 -0500] bean__: b0c1: http://www.youtube.com/watch?v=hYt0E84kYUI here's a great video about berkshelf
[2013-11-14 22:17:47 -0500] b0c1: thnx
[2013-11-14 22:18:14 -0500] b0c1: I found the problem, I dunno why but the knife upload removed the client from clients...
[2013-11-14 22:18:54 -0500] Nitecon: Anyone know how to run 1 recipe before another?
[2013-11-14 22:19:23 -0500] dtrott: Nitecon: The run list runs in order so put it before it on the run list...
[2013-11-14 22:19:25 -0500] Nitecon: I've spent the last 4 hours trying to figure out how to do it with a loop to check if a file from previous package exists else run include_package
[2013-11-14 22:19:49 -0500] Nitecon: but regardless of run list order the one package *ALWAYS* runs before the other
[2013-11-14 22:20:03 -0500] bean__: I don't think you can guarantee order of a run list
[2013-11-14 22:20:04 -0500] bean__: afaik
[2013-11-14 22:20:26 -0500] bean__: typically if you require a file from another cookbook you would include it in your recipoe
[2013-11-14 22:20:26 -0500] Nitecon: so right now I have a 100% barebones centos install
[2013-11-14 22:20:33 -0500] Nitecon: for some of the servers I need ec2 tools
[2013-11-14 22:20:44 -0500] Nitecon: so I install it as a cookbook recipe
[2013-11-14 22:20:45 -0500] b0c1: http://docs.opscode.com/essentials_node_object_run_lists.html
[2013-11-14 22:20:54 -0500] b0c1:  run-list is an ordered list of roles and/or recipes that are run in an exact order
[2013-11-14 22:20:54 -0500] Nitecon: for some of the servers I need to add additional storage which requires using aws cookbook
[2013-11-14 22:21:21 -0500] dtrott: bean__: It doesn't sound like good practice to be including random recipes ...
[2013-11-14 22:21:23 -0500] Nitecon: if I bootstrap with a run list of install packages ... then aws... then add storage for instance
[2013-11-14 22:21:31 -0500] Nitecon: it just always goes directly for storage first
[2013-11-14 22:21:35 -0500] bean__: dtrott: *shrug* if you depend on it, you depend on it.
[2013-11-14 22:21:52 -0500] bean__: hmm, it seems b0c1 is right.
[2013-11-14 22:23:06 -0500] Nitecon: I've put in a loop to check if file exists (provided by a run list before it) and if it doesn't print out a message
[2013-11-14 22:23:12 -0500] dtrott: Pretty much everyone is right the run list is ordered but if you do includes that bypasses the run list order ...
[2013-11-14 22:23:13 -0500] Nitecon: because of that it goes into an infinite loop
[2013-11-14 22:24:52 -0500] dan`: Hi, have anybody faced with no free space problem for remote_file?
[2013-11-14 22:27:32 -0500] dan`: An analogous version with execute resource works fine but it's much more unwieldy.
[2013-11-14 22:28:06 -0500] b0c1: ok I hate chef... everything is going WORSE
[2013-11-14 22:28:12 -0500] b0c1: now I get UNAUTHORIZED
[2013-11-14 22:28:24 -0500] b0c1: I not regenerate api key
[2013-11-14 22:28:40 -0500] b0c1: I only do knife download . and knife upload .
[2013-11-14 22:28:53 -0500] b0c1: in workstation after that this shit client is died
[2013-11-14 22:29:17 -0500] dan`: Certificates are evil in any system.
[2013-11-14 22:29:30 -0500] b0c1: dan`: great but its not help
[2013-11-14 22:30:17 -0500] bean__: b0c1: saying you hate something is not the best way to get help.
[2013-11-14 22:30:37 -0500] b0c1: bean__: I hate it beacuse its going worse and I not found any documentation why
[2013-11-14 22:30:53 -0500] bean__: I'm not sure who told you to use knife download . and knife upload .
[2013-11-14 22:31:21 -0500] b0c1: bean__: knife told me
[2013-11-14 22:31:23 -0500] bean__: you know you can do "knife role edit ROLENAME" to edit the role on the server, right?
[2013-11-14 22:31:26 -0500] b0c1: FATAL: Must specify at least one argument.  If you want to upload everything in this directory, type "knife upload ."
[2013-11-14 22:31:28 -0500] BenT: I was wondering if anyone could help me understand how to recursively call a resource.  I need to execute a remote_file, and based on the contents of the file execute more remote_files.
[2013-11-14 22:32:25 -0500] b0c1: bean__: Yeah
[2013-11-14 22:32:31 -0500] BenT: I am trying to download dependent Jenkins plugins my modifiying the following: https://github.com/opscode-cookbooks/jenkins/blob/master/providers/plugin.rb#L96
[2013-11-14 22:34:06 -0500] bean__: b0c1: then I don't understand doing a download, an edit, and an upload
[2013-11-14 22:34:10 -0500] bean__: when you can just edit it in place.
[2013-11-14 22:34:24 -0500] b0c1: bean__: I download/upload because I get 403
[2013-11-14 22:34:52 -0500] b0c1: I dont want to edit with knife, I using another editor
[2013-11-14 22:35:10 -0500] b0c1: I just want to upload my changes in one step
[2013-11-14 22:35:15 -0500] b0c1: knife told me, I can do that...
[2013-11-14 22:35:21 -0500] bean__: b0c1: if it can be invoked with $EDITOR then you're fine
[2013-11-14 22:35:38 -0500] jjj4: I get a timeout when trying to upload my cookbooks to an opensource chef server on ec2. I have reconfigured a bunch of time, but I haven't hit the right combo.
[2013-11-14 22:35:39 -0500] b0c1: bean__: You cant my config is outside of the VM
[2013-11-14 22:35:47 -0500] jjj4: Please help!
[2013-11-14 22:36:01 -0500] bean__: b0c1: then use an OS that supports an $EDITOR on a terminal ;)
[2013-11-14 22:36:01 -0500] b0c1: bean__: I edit the files in windows, but the knife run in the linux machin (mapped drive)
[2013-11-14 22:36:02 -0500] holms: noo they don't care lol
[2013-11-14 22:36:06 -0500] Nitecon: anyone know if I can set the knife ec2 bootstrap to one role and automatically change the role on register?
[2013-11-14 22:37:00 -0500] b0c1: bean__: but why wrong way to synchronize everything?
[2013-11-14 22:37:12 -0500] b0c1: why not work simply like... a synchronization?
[2013-11-14 22:37:41 -0500] bean__: b0c1: I'm not sure, my chef infrastructure doesn't work like that
[2013-11-14 22:37:53 -0500] b0c1: Im not a devops
[2013-11-14 22:38:24 -0500] b0c1: but I want to learn how can I work with chef easily
[2013-11-14 22:38:25 -0500] jjj4: What are the settings for chef on an ec2 server so that knife can talk to it? Here's my show-config: http://pastebin.com/VQpcFkjc
[2013-11-14 22:38:41 -0500] b0c1: I have some custom cookbook, and a role
[2013-11-14 22:38:50 -0500] b0c1: I dunno this is the right way or no...
[2013-11-14 22:39:19 -0500] b0c1: I not found any documentation, what is the prefered way to do that (or what is the prefered way to using chef server with workstation)
[2013-11-14 22:39:35 -0500] holms: if somebody want's automatic server setup, take a look at this :P https://github.com/holms/chef-starter and automatic node creation with bootstraping. just 2 commands!
[2013-11-14 22:41:22 -0500] b0c1: I want to do a simple thinks, Set up my application environment (dependencies), using my own cookbook to install my application components, and synchronize it with nodes
[2013-11-14 22:41:23 -0500] bean__: b0c1: I'd wager that most people likely use a workstation that they can edit on directly, or edit in their VM
[2013-11-14 22:42:22 -0500] zts: holms: how does that compare to knife-server ?
[2013-11-14 22:42:46 -0500] holms: hmz
[2013-11-14 22:42:56 -0500] holms: zts: never seen that one :)
[2013-11-14 22:43:12 -0500] holms: in here you got chef-server installed with one command, on your node, together with workstation setup
[2013-11-14 22:43:25 -0500] holms: cause actually if you'll take a look at makefile
[2013-11-14 22:43:40 -0500] holms: it's really TOO MUCH commands need to perform, for these tasks
[2013-11-14 22:43:52 -0500] bean__: man, I would never want the chef server to live on the same machine i'm working on.
[2013-11-14 22:44:05 -0500] holms: it's not on same machine
[2013-11-14 22:44:09 -0500] holms: you provision machine
[2013-11-14 22:44:24 -0500] holms: it's splited
[2013-11-14 22:44:34 -0500] BenT: Anyone offer some advice on recursively calling a resource?  Can this be done through notifications?
[2013-11-14 22:44:34 -0500] bean__: https://github.com/opscode-cookbooks/chef-server works pretty well i hear
[2013-11-14 22:44:48 -0500] holms: bean__: im lazy to setup whole chef
[2013-11-14 22:44:52 -0500] holms: even chef-solo
[2013-11-14 22:44:56 -0500] holms: just type "make install" it's all done
[2013-11-14 22:45:00 -0500] bean__: gross.
[2013-11-14 22:45:02 -0500] bean__: :)
[2013-11-14 22:45:07 -0500] holms: i mean im 3 weeks on this
[2013-11-14 22:45:12 -0500] holms: too much shit to execute for every crap
[2013-11-14 22:45:29 -0500] holms: adding node is a pain
[2013-11-14 22:45:31 -0500] bean__: ? You just bootstrap
[2013-11-14 22:45:33 -0500] bean__: and it adds it
[2013-11-14 22:45:43 -0500] holms: what about
[2013-11-14 22:45:43 -0500] holms: bootstrap
[2013-11-14 22:45:43 -0500] holms: 1000 of them?
[2013-11-14 22:46:01 -0500] holms: and wit differente nvs
[2013-11-14 22:46:03 -0500] holms: envs*
[2013-11-14 22:46:23 -0500] holms: btw i'm atually using that cookbook
[2013-11-14 22:46:29 -0500] holms: in case you haven't noticed :D
[2013-11-14 22:46:32 -0500] bean__: We use knife-whisk to keep track of our knife ec2 server create.
[2013-11-14 22:46:46 -0500] bean__: Granted we have 40 machines, not 1000
[2013-11-14 22:46:50 -0500] holms: i'm not using ec2
[2013-11-14 22:46:55 -0500] holms: i have few clusters around in here
[2013-11-14 22:47:01 -0500] bean__: you dont have to, to use knife-whisk
[2013-11-14 22:47:10 -0500] holms: anyway https://github.com/holms/chef-starter/blob/master/Makefile
[2013-11-14 22:47:12 -0500] holms: take a look
[2013-11-14 22:47:26 -0500] holms: in here is situation when you have a fresh vm
[2013-11-14 22:47:32 -0500] holms: for workstation and fresh vm for chef-server
[2013-11-14 22:47:35 -0500] holms: no fuss at all
[2013-11-14 22:47:57 -0500] holms: still few bugs (not efficient way of doing things) but i'll fix that
[2013-11-14 22:48:09 -0500] bean__: you also have some spelling errors :)
[2013-11-14 22:48:16 -0500] zts: holms: although I wouldn't personally use it, thankyou for making it and sharing it with the world - it's good to have options
[2013-11-14 22:48:17 -0500] holms: bean__: feel free to fix
[2013-11-14 22:49:03 -0500] holms: yesterday changed around 20 roles and around 10 nodes
[2013-11-14 22:49:07 -0500] holms: "make update"
[2013-11-14 22:49:08 -0500] holms: and forget it
[2013-11-14 22:49:09 -0500] holms: :D
[2013-11-14 22:50:15 -0500] storme_out: that's what i have a CI system for :)
[2013-11-14 22:50:51 -0500] holms: CI?
[2013-11-14 22:51:12 -0500] holms: ive actually ended up with lots of errors setuping chef
[2013-11-14 22:51:21 -0500] holms: just decided to completely automate it for the sake of my time saving
[2013-11-14 22:51:23 -0500] storme_out: continuous integration. i commit to git and Bamboo pushes out all the updates.
[2013-11-14 22:51:49 -0500] holms: nice
[2013-11-14 22:51:52 -0500] holms: well this stuff is good for starters
[2013-11-14 23:11:08 -0500] stkowski: I'm testing the object backup script here: https://wiki.opscode.com/display/chef/Backing+Up+Chef+Server
[2013-11-14 23:11:19 -0500] stkowski: I notice it dumps the node, databag and roles objects.
[2013-11-14 23:11:25 -0500] stkowski: But nothing about the client keys.
[2013-11-14 23:11:35 -0500] stkowski: That would mean on restore, I would have to rebootstrap all nodes?
[2013-11-14 23:19:30 -0500] jmickle: bah
[2013-11-14 23:19:37 -0500] jmickle: found a bug in vagrant-chef-zero
[2013-11-14 23:20:19 -0500] holms: report it!
[2013-11-14 23:20:25 -0500] holms: once i've found a bug in my rack server
[2013-11-14 23:20:38 -0500] holms: that was second hand rack server, when I flipped it over
[2013-11-14 23:20:51 -0500] holms: a bug just fell from there
[2013-11-14 23:20:56 -0500] holms: quite a big one :D
[2013-11-14 23:21:23 -0500] jmickle: haha
[2013-11-14 23:21:38 -0500] jmickle: just annoying spent all day to troubleshot an undocumented procedure with bad logic
[2013-11-14 23:32:49 -0500] jmickle: whats the diff between require recipe and include recipe
[2013-11-14 23:34:06 -0500] JayF: require 'some_gem' <-- rubyism for requiring a ruby module/gem
[2013-11-14 23:34:12 -0500] jmickle: thats right
[2013-11-14 23:34:12 -0500] jmickle: ty
[2013-11-14 23:34:18 -0500] JayF: include_recipe 'cookbook::recipe' <-- chefism for including a recipe
[2013-11-14 23:35:08 -0500] jmickle: ty
[2013-11-14 23:35:13 -0500] jmickle: too much ruby
[2013-11-14 23:35:14 -0500] jmickle: ha
