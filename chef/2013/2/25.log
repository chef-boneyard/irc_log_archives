[2013-02-25 00:03:02 -0500] maek: kallistec: I have my chef server in my client.rb set to an ip ( waiting on dns) Ive noticed that it forwards requests for bookshelf to its hostname, is that just a matter of changing something in the config and running ctl reconfigure?
[2013-02-25 00:42:35 -0500] j^2: so i'm having trouble with chef-client
[2013-02-25 00:42:47 -0500] j^2: why does it default to https://chef/blahblah?
[2013-02-25 00:43:00 -0500] j^2: example:
[2013-02-25 00:43:27 -0500] j^2: https://gist.github.com/jjasghar/5873e421a7f8365194e3
[2013-02-25 00:44:12 -0500] j^2: any advice?
[2013-02-25 00:44:35 -0500] j^2: i guess i could add it to /etc/hosts, but i'd like it to use the chef_server_url is that the point of it?
[2013-02-25 00:45:01 -0500] maek: j^2:  I just got hit with this also
[2013-02-25 00:45:08 -0500] maek: i think becuase chef 11 is now fronted with nginx
[2013-02-25 00:45:08 -0500] j^2: lovely :-/
[2013-02-25 00:45:11 -0500] maek: its doing a rewrite
[2013-02-25 00:45:18 -0500] maek: for the name configured in nginx
[2013-02-25 00:45:26 -0500] maek: in this case its hostname
[2013-02-25 00:45:33 -0500] maek: but i assume that box cant resolve chef
[2013-02-25 00:46:32 -0500] j^2: lame
[2013-02-25 00:46:34 -0500] maek: j^2:  I had to end up adding a hosts entry
[2013-02-25 00:46:36 -0500] maek: while I wait for dns
[2013-02-25 00:46:39 -0500] maek: I think you could do
[2013-02-25 00:46:50 -0500] j^2: yeah that seems like the only option but it's stuff dumb :(
[2013-02-25 00:46:59 -0500] maek: you could reconfigure chef
[2013-02-25 00:47:01 -0500] maek: to use its ip
[2013-02-25 00:47:03 -0500] maek: instead of its hostname
[2013-02-25 00:47:27 -0500] j^2: tried the ip in chef_server_url didnt work either; wait you mean nginx?
[2013-02-25 00:48:02 -0500] maek: https://github.com/opscode/omnibus-chef/blob/master/files/chef-server-cookbooks/chef-server/attributes/default.rb
[2013-02-25 00:48:11 -0500] ssd7: maek: Re your question above. I believe you should be able to edit bookshelf['vip'] in your config and the run a reconfigure
[2013-02-25 00:48:11 -0500] j^2: looking
[2013-02-25 00:48:14 -0500] maek: i dont see it htought
[2013-02-25 00:48:19 -0500] maek: ssd7: ty
[2013-02-25 00:48:23 -0500] maek: j^2: ^
[2013-02-25 00:48:34 -0500] j^2: oh!
[2013-02-25 00:48:37 -0500] maek: default['chef_server']['bookshelf']['vip'] = node['fqdn']
[2013-02-25 00:48:39 -0500] j^2: nice looking
[2013-02-25 00:48:39 -0500] maek: yeah
[2013-02-25 00:48:40 -0500] maek: there it is
[2013-02-25 00:48:45 -0500] maek: so you can do
[2013-02-25 00:49:37 -0500] maek: in /etc/chef-server/chef-server.rb
[2013-02-25 00:49:50 -0500] maek: bookshelf['vip'] = 192.168.1.1
[2013-02-25 00:49:57 -0500] maek: and run chef-server-ctl reconfigure
[2013-02-25 00:49:57 -0500] j^2: yeah i dont thave that file :(
[2013-02-25 00:50:00 -0500] j^2: ah cool
[2013-02-25 00:50:01 -0500] maek: its ok
[2013-02-25 00:50:02 -0500] j^2: trying
[2013-02-25 00:50:04 -0500] maek: its for overrides
[2013-02-25 00:50:05 -0500] maek: just make it
[2013-02-25 00:50:36 -0500] maek: ssd7: thanks again!
[2013-02-25 00:53:15 -0500] ssd7: maek: no problem :)
[2013-02-25 00:53:38 -0500] j^2: maek: i'm getting a syntax error :(
[2013-02-25 00:53:53 -0500] j^2: https://gist.github.com/jjasghar/fe21e7c98953615b803d
[2013-02-25 00:54:17 -0500] maek: j^2:  relavent http://www.linuxguy.in/how-to-install-and-configure-open-source-chef-server-11/#comment-3887
[2013-02-25 00:54:20 -0500] j^2: i doesnt like my addresses? or should i have a '10.177.136.199' ?
[2013-02-25 00:54:22 -0500] j^2: ah
[2013-02-25 00:54:24 -0500] j^2: thanks
[2013-02-25 00:54:44 -0500] maek: j^2: need quoates
[2013-02-25 00:54:44 -0500] maek: sorry
[2013-02-25 00:54:49 -0500] maek: its not an int, its a string
[2013-02-25 00:54:59 -0500] j^2: xx
[2013-02-25 00:55:01 -0500] j^2: kk
[2013-02-25 00:56:21 -0500] j^2: maek: ssd7: god sent gentlemen, thanks!
[2013-02-25 01:00:01 -0500] maek: j^2: just get dns someday ;)
[2013-02-25 01:21:16 -0500] j^2: maek: thanks, again: i added it to tumblr, so ideally google'll crawl it
[2013-02-25 01:21:18 -0500] j^2: http://jjasghar.tumblr.com/post/43943727779/how-to-fix-https-chef-defaulting-running-chef-client
[2013-02-25 01:21:23 -0500] maek: awesome
[2013-02-25 01:21:40 -0500] j^2: it's the gist, but it get's the point across :D
[2013-02-25 01:23:05 -0500] maek: j^2: http://jjasghar.tumblr.com/image/31705956013 is that worth ordering?
[2013-02-25 01:23:58 -0500] j^2: yep, like i said if you like your steak, NY strip ideally, it matches perfectly
[2013-02-25 01:24:20 -0500] maek: k
[2013-02-25 01:24:25 -0500] maek: had that on the list
[2013-02-25 01:24:32 -0500] j^2: :)
[2013-02-25 01:24:47 -0500] j^2: i was very disappointed with the 75 min IPA from dogfish
[2013-02-25 01:24:58 -0500] j^2: it was all talked up; and man, it was such a let down
[2013-02-25 01:25:22 -0500] maek: :( hate when that happens
[2013-02-25 05:30:20 -0500] ge_nx: can we write a recipe for versioning control for various sample packages that we fetch from any url ?
[2013-02-25 05:36:22 -0500] Loadx: explain more. packages as in deb's etc?
[2013-02-25 05:41:11 -0500] ge_nx: when a package is downloaded from url  ex:(sa-ph-pr.1.0) the when this version changes to 2.0 so the i need to change the value from the databag from version 1.0 to version 2.0 . ?
[2013-02-25 05:45:34 -0500] maek: ge_nx: if you are using the version attribute for that package  yes
[2013-02-25 05:50:55 -0500] ge_nx: sed -i 's/2.0/${option_Version}/g' /devops/chef-repo/data_bags/remote/test.json   -----> If i give this in rundeck script it is not changing giving some errors ... so pls help me yar?
[2013-02-25 05:57:08 -0500] Loadx: ge_nx: are you re-uploading the databag?
[2013-02-25 06:02:52 -0500] Loadx: k packing up
[2013-02-25 06:02:57 -0500] Loadx: peace all
[2013-02-25 06:33:28 -0500] Aparna: I am using an execute resource inside a ruby_block resource.. but m getting an error " NoMethodError: undefined method `execute' for Chef::Resource::RubyBlock"
[2013-02-25 06:33:49 -0500] Aparna: There is a while loop in the ruby block  in which the execute resource is written..
[2013-02-25 06:34:00 -0500] Aparna: can anybody pelase guide.. what went wrong here?
[2013-02-25 06:35:55 -0500] Aparna: I am using an execute resource inside a ruby_block resource.. but m getting an error " NoMethodError: undefined method `execute' for Chef::Resource::RubyBlock" . There is a while loop in the ruby block  in which the execute resource is written..can anybody pelase guide.. what went wrong here?
[2013-02-25 06:49:45 -0500] Aparna: I am using an execute resource inside a ruby_block resource.. but m getting an error " NoMethodError: undefined method `execute' for Chef::Resource::RubyBlock" . There is a while loop in the ruby block  in which the execute resource is written..can anybody pelase guide.. what went wrong here?
[2013-02-25 07:04:57 -0500] jakshi: Hello Chums, I have a question. Which ports chef-server using to interract with chef-client?
[2013-02-25 07:05:47 -0500] jakshi: I want to configure firewall on host with chef-server installed, but I'm not sure which ports of chef-server for internal use only, and which are for interracting with chef-client.
[2013-02-25 07:05:54 -0500] pehlert: jakshi: I'm not 100% sure right now (should be mostly port 80), but note that the server never contacts the server
[2013-02-25 07:06:05 -0500] pehlert: Sorry, the server never contacts the client
[2013-02-25 07:06:17 -0500] pehlert: The connection is always initiated by the client
[2013-02-25 07:06:25 -0500] pehlert: Which is good news for most firewall setups ;-)
[2013-02-25 07:06:36 -0500] jakshi: I know that client start interraction
[2013-02-25 07:07:27 -0500] jakshi: but it's not help me with exact port numbers :)
[2013-02-25 07:07:39 -0500] Aparna: Can anybody please hel;p me with this error... NoMethodError: undefined method `execute' for Chef::Resource::RubyBlock" . There is a while loop in the ruby block  in which the execute resource is written..can anybody pelase guide.. what went wrong here?
[2013-02-25 07:08:10 -0500] pehlert: Okay, well, afaik it's port 4040 or 4100 or something.. Bring up a netstat during a run and it shouldn't be hard to figure out
[2013-02-25 07:10:31 -0500] jakshi: pehlert: netstat doesn't help, because there a lot of ports. For example chef uses rabbitmq. rabbitmq ports: 5672,4369,50229 should they be opened?
[2013-02-25 07:10:47 -0500] jakshi: chef-solr 8983?
[2013-02-25 07:12:40 -0500] pehlert: jakshi: No, all for internal use only
[2013-02-25 07:13:04 -0500] jakshi: good :) Thank you a lot pehlert
[2013-02-25 07:13:18 -0500] jakshi: than 4000 for API and 4040 for web ui.
[2013-02-25 07:13:20 -0500] jakshi: nice
[2013-02-25 07:13:46 -0500] pehlert: jakshi: Ah, 4000 it was ;-) Alright
[2013-02-25 07:18:11 -0500] vegardx_: jakshi: netstat does indeed help if you take notice to what address the ports are bound to.
[2013-02-25 07:44:40 -0500] jakshi: btw, I was wrong about 4000 and 4040, seems that chef-server 11 uses 80/443 for web-ui, and yet unknown port for API
[2013-02-25 07:45:18 -0500] jakshi: vergardx_: Do you mean open all ports that binded to 0.0.0.0?
[2013-02-25 07:45:24 -0500] jakshi: it's like: tcp        0      0 0.0.0.0:57317               0.0.0.0:*                   LISTEN      29823/beam.smp
[2013-02-25 07:45:24 -0500] jakshi: tcp        0      0 127.0.0.1:5672              0.0.0.0:*                   LISTEN      20726/beam
[2013-02-25 07:45:24 -0500] jakshi: tcp        0      0 0.0.0.0:34923               0.0.0.0:*                   LISTEN      29775/beam
[2013-02-25 07:45:24 -0500] jakshi: tcp        0      0 0.0.0.0:80                  0.0.0.0:*                   LISTEN      21557/nginx
[2013-02-25 07:45:25 -0500] jakshi: tcp        0      0 0.0.0.0:4369                0.0.0.0:*                   LISTEN      20741/epmd
[2013-02-25 07:45:25 -0500] jakshi: tcp        0      0 127.0.0.1:9462              0.0.0.0:*                   LISTEN      29864/unicorn maste
[2013-02-25 07:45:25 -0500] jakshi: tcp        0      0 0.0.0.0:22                  0.0.0.0:*                   LISTEN      857/sshd
[2013-02-25 07:45:25 -0500] jakshi: tcp        0      0 127.0.0.1:5432              0.0.0.0:*                   LISTEN      21005/postgres
[2013-02-25 07:45:25 -0500] jakshi: tcp        0      0 0.0.0.0:40057               0.0.0.0:*                   LISTEN      20726/beam
[2013-02-25 07:45:26 -0500] jakshi: tcp        0      0 127.0.0.1:25                0.0.0.0:*                   LISTEN      935/master
[2013-02-25 07:45:26 -0500] jakshi: tcp        0      0 0.0.0.0:443                 0.0.0.0:*                   LISTEN      21557/nginx
[2013-02-25 07:45:27 -0500] jakshi: tcp        0      0 127.0.0.1:8000              0.0.0.0:*                   LISTEN      29823/beam.smp
[2013-02-25 08:07:24 -0500] aruntomar: jakshi: chef server 11 working over https i.e 443
[2013-02-25 08:08:26 -0500] aruntomar: in previous version we used to specify port 4000 in knife.rb and client.rb, now the url would be https://<chef server ip>
[2013-02-25 08:16:34 -0500] jakshi: aruntomar: thank you for clarification
[2013-02-25 08:48:59 -0500] poseid: morning!
[2013-02-25 08:49:43 -0500] poseid: I am trying to build a simple Rails stack with Chef-Solo from:  https://github.com/excid3/chef-rails-stack -- however, I get this output...   http://pastie.org/6332572
[2013-02-25 08:50:20 -0500] poseid: hmm.. ok, I'll try to put the nginx cookbook myself
[2013-02-25 08:50:36 -0500] poseid: but maybe you have suggestions what can be used
[2013-02-25 08:50:41 -0500] poseid: to debug this...
[2013-02-25 09:22:25 -0500] alex___: well hello, when i include a cookbook into an otherone and use a function which creates a file with a template i get an template not found error can somebody explain this to me?
[2013-02-25 09:30:27 -0500] poseid: alex____ , what cookbook, what setup (chef-solo, vagrant... ?) ?
[2013-02-25 09:30:47 -0500] poseid: I am trying to include https://github.com/fnichol/chef-rbenv with berkshelf, and I also get a Cookbook rbenv not found
[2013-02-25 09:42:00 -0500] alex___: chef-client
[2013-02-25 09:42:14 -0500] alex___: so no solo
[2013-02-25 09:42:40 -0500] alex___: when i included the recipe it stopped finding the template
[2013-02-25 09:42:55 -0500] poseid: which cookbook?
[2013-02-25 09:56:19 -0500] masterkorp: http://wiki.opscode.com/display/chef/The+Netherlands+why+bicycle+advanced+countries
[2013-02-25 09:56:26 -0500] masterkorp: guys there is spam on the wiki
[2013-02-25 10:08:24 -0500] alex___: masterkor i saw it to :P
[2013-02-25 10:09:21 -0500] poseid: anyone knows what might be causing this:  FATAL: Chef::Exceptions::Package: package[curl-dev] (nginx::passenger line 38) had an error: Chef::Exceptions::Package: No version specified, and no candidate version available for curl-dev ?
[2013-02-25 10:09:53 -0500] alex___: poseid cookbook a includes cookbook b => a calls a function in b which uses a template (it was unable to find that template) but when i use a recipe in cookbook b it works like a sharm
[2013-02-25 10:09:54 -0500] Mithrandir: there's no version of curl-dev to install?
[2013-02-25 10:27:06 -0500] masterkorp: I will delete
[2013-02-25 10:28:00 -0500] masterkorp: aparently i cant
[2013-02-25 11:09:18 -0500] sraf: which version number is considered to be higher by chef - 3.12.0 or 3.12?
[2013-02-25 11:09:31 -0500] sraf: (cookbook versions, that is)
[2013-02-25 11:10:43 -0500] alex___: is it possible to use resources inside a class?
[2013-02-25 11:11:00 -0500] alex___: like a Users class which uses user resource
[2013-02-25 11:11:03 -0500] alex___: ?
[2013-02-25 11:12:25 -0500] zuazo: alex___: bob = user 'bob' do action :create [...] end
[2013-02-25 11:12:54 -0500] alex___: yeah but i have to use the user resource inside a class
[2013-02-25 11:13:32 -0500] alex___: like class Users has a function create_user
[2013-02-25 11:13:50 -0500] alex___: which uses the user resource
[2013-02-25 11:15:44 -0500] alex___: you know what i mean?
[2013-02-25 11:15:57 -0500] zuazo: not use
[2013-02-25 11:16:03 -0500] zuazo: do you mean inside a library for example?
[2013-02-25 11:16:19 -0500] alex___: yes
[2013-02-25 11:16:27 -0500] alex___: wait i will paste my code
[2013-02-25 11:18:00 -0500] alex___: http://pastebin.com/QiCSjGvR
[2013-02-25 11:18:15 -0500] alex___: thats a liberary file
[2013-02-25 11:18:51 -0500] alex___: and now i want to create a user in there
[2013-02-25 11:18:55 -0500] zuazo: perhaps you can use something like def create_user ... bob = Chef::Resource::User.new(..., run_context) end
[2013-02-25 11:19:34 -0500] alex___: but i got a NoMethodError: undefined method `user' for #
[2013-02-25 11:19:53 -0500] alex___: ahha
[2013-02-25 11:20:14 -0500] alex___: Chef::Resource::User is the path?
[2013-02-25 11:21:49 -0500] zuazo: is the underlying class
[2013-02-25 11:22:13 -0500] alex___: ah oke
[2013-02-25 11:22:27 -0500] alex___: cant i use a include or something?
[2013-02-25 11:22:35 -0500] alex___: i am very new in ruby
[2013-02-25 11:24:16 -0500] zuazo: i think the full code should be something like this: bob = Chef::Resource::User.new('bob', run_context); bob.group 'bob'; bob.run_action :create
[2013-02-25 11:24:30 -0500] zuazo: what do you mean with "include"?
[2013-02-25 11:26:14 -0500] alex___: well i just want to use "user" inside my class without Chef::Resource
[2013-02-25 11:26:32 -0500] alex___: maybe an inheritance?
[2013-02-25 11:27:44 -0500] alex___: like a java import
[2013-02-25 11:28:09 -0500] fclausen: Can I use hyphens aka dashes in attribute names? E.g. if I have attribute "node.my-attribute.item" then Chef client says "NoMethodError: Undefined method or attribute `my' on `node'" ?
[2013-02-25 11:33:49 -0500] zuazo: fclausen: try with node['my-attribute']
[2013-02-25 11:41:23 -0500] fclausen: zuazo: thanks for the tip - trying that out
[2013-02-25 11:47:34 -0500] zuazo: alex___: AFAIK include is only for modules
[2013-02-25 11:47:55 -0500] zuazo: alex___: but you can use something like User = Chef::Resource::User
[2013-02-25 11:48:03 -0500] zuazo: then User.new ...
[2013-02-25 11:48:39 -0500] zuazo: search about ruby and class scopes
[2013-02-25 12:03:02 -0500] alex___: zuazo oke thanks i will try
[2013-02-25 12:05:22 -0500] alex___: but i still dont understand when the class was a module it worked just fine
[2013-02-25 12:05:39 -0500] alex___: and when i change it into a class it stopped working
[2013-02-25 12:10:25 -0500] zuazo: alex___: modules are libraries / shared code, that's their goal
[2013-02-25 12:10:48 -0500] zts: alex___: just out of interest, why are you trying to implement all this stuff in a bare class?  It looks like you should be able to use an LWRP
[2013-02-25 12:10:57 -0500] zuazo: better ask about it in #ruby
[2013-02-25 12:11:19 -0500] zuazo: im not a ruby expert
[2013-02-25 12:11:41 -0500] zts: alex___: to answer a slightly different question, it's possible to use core resources inside another provider, though you may need to jump through a few hoops.  Doing it inside a library will involve more hoops still
[2013-02-25 12:14:09 -0500] zuazo: zts: good point, providers seem a better place
[2013-02-25 12:15:42 -0500] kesor: I got my own chef server (11.4) working great in a vagrant box, but from time to time when I try and upload a cookbook it gives me "ERROR: Errno::EPIPE: Broken pipe - SSL_connect", although after several more attempts it finally works. Any help how to solve this?
[2013-02-25 12:27:52 -0500] slestak: good morning.  have chef server 10.18.2 installed on ubuntu 12.04.  message on first admin login says "Could not complete logging in"
[2013-02-25 12:30:36 -0500] slestak: dont see anythign auth related in any of the logs
[2013-02-25 12:36:17 -0500] haakond_: I'm thinking about taking precautions by blocking Chinese IP-address subnets (ref. http://www.wizcrafts.net/chinese-iptables-blocklist.html ) in the firewall of all servers with Chef. Is there anything I should have thought before I go ahead and apply this, is it a good idea, or are there better approaches?
[2013-02-25 12:45:45 -0500] zuazo: haakond_: you cannot have Chinese clients or custommers with relations with China (Malaysia, Philippines and so on)
[2013-02-25 12:48:01 -0500] zts: haakond_: or anybody using your stuff while they are on holiday in <wherever you're blocking>
[2013-02-25 12:48:30 -0500] zts: haakond_: and if the concern is diligent hackers, it's unlikely to achieve much
[2013-02-25 12:48:31 -0500] haakond_: true, true
[2013-02-25 12:48:51 -0500] zts: haakond_: but as for using Chef to manage your firewall, go for it :)
[2013-02-25 12:50:32 -0500] alex___: zuazo i am putting it al in a class because i want to create my own LWRP and later on i want to add functionality to the class
[2013-02-25 12:50:38 -0500] haakond_: Yeah, I'm already managing firewalls with Chef with great success, was thinking about maybe putting evil people in a dedicated databag. But maybe this is not the right channel for discussing whether to block China or not, hehe.
[2013-02-25 12:51:52 -0500] kechagia: hey opscode: will you update the apt.opscode.com repos to contain chef-0.11 too anytime soon?
[2013-02-25 12:52:32 -0500] zts: alex___: if you're putting it into a library, it's not an LWRP.
[2013-02-25 12:52:47 -0500] alex___: ah oke
[2013-02-25 12:53:08 -0500] alex___: maybe i need to look into LWRP documentation
[2013-02-25 12:53:52 -0500] trilitheus: anyone using knife vsphere plugin?
[2013-02-25 12:54:29 -0500] trilitheus: just wanted to check if you can pass all the bootstrap options availablke to knoife bootstrap or only the ones specified in the README
[2013-02-25 12:55:37 -0500] trilitheus: looked at the source and as far as I can tell, the bootstrap commands are just passed straight through to knife bootstrap, but not all bootstrap options are mentioned in the readme (such as -j <json to pass>)
[2013-02-25 12:58:01 -0500] Loadx: quick question regarding 'execute' and permissions. As I understood it chef runs internally sudo su "<user>" -c "<command>"
[2013-02-25 12:58:05 -0500] Loadx: is this correct?
[2013-02-25 13:00:06 -0500] gp5st: hello. Perhaps I don't understand application_php. I'm getting this error: http://pastebin.com/G0cT9c9Q NameError: uninitialized constant Chef::Resource::ApplicationBase I thought application_php just setup the LWRP for me to use
[2013-02-25 13:01:40 -0500] gp5st: or maybe i'm not including the application role because i never uploaded it to the server?
[2013-02-25 13:04:20 -0500] zts: trilitheus: Why not just try it and see?  I haven't used the vsphere plugin, but "knife ec2 server create --help" lists -j as a valid option, so that might be another thing to look at
[2013-02-25 13:12:07 -0500] zuazo: Loadx: it uses ruby Proccess class (#uid, #exec() ...), not the "su" application
[2013-02-25 13:13:29 -0500] jfl0wers: anyone here familiar with Berkshelf?
[2013-02-25 13:13:59 -0500] jfl0wers: I am wondering how to us it with chef-solo, on a most OS, so without Vagrant...
[2013-02-25 13:14:13 -0500] jfl0wers: s/us/use/
[2013-02-25 13:14:28 -0500] trilitheus: zts, yeah - it was just in my head so was just thinking aloud really :)  I'm gonna get it checked out shortly, sorting out my template and cspec as we speak
[2013-02-25 13:14:35 -0500] Loadx: zuazo: Thanks. Im getting weird errors with 770 folders
[2013-02-25 13:14:54 -0500] prognostikos: can you have an attribute as an empty array in a recipie, and shovel values on it from several roles (e.g. virtual_hosts = [] in recipe, virtual_hosts << 'my.vhost.com' in role)
[2013-02-25 13:15:15 -0500] Loadx: zuazo: The user im running execute as belongs to the group, which the folder has also
[2013-02-25 13:15:39 -0500] Loadx: zuazo: all this works locally from shell but chef fails with permissions errors
[2013-02-25 13:19:31 -0500] zuazo: chef that the dirs/files are created with the correct permissions
[2013-02-25 13:20:23 -0500] Loadx: positive of it. all i can thnk of is the user chef uses does not belong to the group
[2013-02-25 13:20:24 -0500] zuazo: s/chef/check/ :)
[2013-02-25 13:22:28 -0500] zuazo: run execute "id" to test it, but the problem should not be that :-S
[2013-02-25 13:24:31 -0500] Loadx: will do
[2013-02-25 13:26:37 -0500] mani_: hi guys, im having problems with  chef  and knife after successfully installing it on ubuntu,  when i run chef-server or knife, i get an error "...merb-core..." cannot be found when it is there installed when i inquire with dpkg, any suggestions will be appreciated! thnx
[2013-02-25 13:29:31 -0500] vegardx_: Totally fresh Debian install of chef, and when it tries to start chef-client it bugs me about "undefined method `reset_defaults_and_overrides'". Any idea?
[2013-02-25 13:30:11 -0500] vegardx_: chef-client 10.12.0 on Debian Wheezy using the Debian repo
[2013-02-25 13:31:40 -0500] vegardx_: I can register the client on the server, then chef-client breaks.
[2013-02-25 13:33:05 -0500] Loadx: zuazo: yeah id produces the right result also
[2013-02-25 13:33:12 -0500] Loadx: back to being stumped
[2013-02-25 13:33:20 -0500] Mithrandir: vegardx_: does the node look ok if you run knife show -F json $nodename?
[2013-02-25 13:34:08 -0500] vegardx_: Mithrandir: yep
[2013-02-25 13:34:56 -0500] mani_: shd I paste my error message in the channel here so you knw what im talking abt?
[2013-02-25 13:35:24 -0500] Mithrandir: vegardx_: and if you run with -l debug and pastebin that, any hints?
[2013-02-25 13:36:06 -0500] mani_: vagrant@precise64:~$ chef-server > knife configure -i <<<  my CLI command
[2013-02-25 13:36:06 -0500] mani_: /home/vagrant/.rbenv/versions/1.9.3-p194/lib/ruby/1.9.1/rubygems/custom_require.rb:36:in `require': cannot load such file -- merb-core (LoadError)
[2013-02-25 13:36:06 -0500] mani_:    from /home/vagrant/.rbenv/versions/1.9.3-p194/lib/ruby/1.9.1/rubygems/custom_require.rb:36:in `require'
[2013-02-25 13:36:07 -0500] mani_:    from /usr/sbin/chef-server:24:in `<main>'
[2013-02-25 13:36:07 -0500] mani_: vagrant@precise64:~$
[2013-02-25 13:38:18 -0500] vegardx_: Mithrandir: https://gist.github.com/vegardx/5029838
[2013-02-25 13:39:06 -0500] Mithrandir: vegardx_: sorry, run chef-client with -l debug
[2013-02-25 13:47:08 -0500] vegardx_: Mithrandir: https://gist.github.com/vegardx/5029893
[2013-02-25 13:47:43 -0500] vegardx_: It installed, and registered the instance with the chef-server using the validation key, then this.
[2013-02-25 13:49:11 -0500] Mithrandir: vegardx_: what version of the chef server?
[2013-02-25 13:49:36 -0500] vegardx_: 10.18.0
[2013-02-25 13:49:44 -0500] Loadx: k reduced it to a test case
[2013-02-25 13:50:04 -0500] vegardx_: I have it working nicely on other wheezy boxed on the same chef-server too.
[2013-02-25 13:50:23 -0500] Loadx: http://pastebin.com/Zr11hgFz - if someone can help that'd be awesome, unfortunetly I gotta get some sleep but ill check in the morning. Thanks :)
[2013-02-25 13:51:49 -0500] Mithrandir: vegardx_: I'd try deleting the node and recreating it.
[2013-02-25 13:52:19 -0500] vegardx_: And pray to the matrix that it was just a glitch? :p
[2013-02-25 13:54:09 -0500] vegardx_: Mithrandir: hm, still the same.
[2013-02-25 13:54:13 -0500] vegardx_: https://gist.github.com/vegardx/5029922
[2013-02-25 14:06:50 -0500] mani_: hi
[2013-02-25 14:07:01 -0500] mani_: anyone available to answer my query
[2013-02-25 14:09:04 -0500] fooJBar: mani_: you didn't install the chef gem properly
[2013-02-25 14:16:08 -0500] mani_: i followed the instructions on the opscode site
[2013-02-25 14:16:12 -0500] mani_: installed via ubuntu
[2013-02-25 14:16:16 -0500] mani_: is that not recommended?
[2013-02-25 14:21:33 -0500] mani_: how do you guys normally install the chef-server?
[2013-02-25 14:30:40 -0500] fooJBar: mani_: knife is provided by the chef gem (not part of the server afaik).
[2013-02-25 14:43:10 -0500] ashp: Hey guys, I have a quick chef "best practices" kind of question.  I am looking to use https://github.com/opscode-cookbooks/varnish in "opswork" and I'm not sure how you normally handle passing in custom stuff to an existing cookbook.
[2013-02-25 14:43:21 -0500] ashp: What I want to do is provide a different content for the default.vcl stuff, the config file.
[2013-02-25 14:43:33 -0500] ashp: Do you normally make another cookbook and store it in there? Add stuff to upstream cookbooks? etc.
[2013-02-25 14:44:03 -0500] ashp: In puppet, where I have most of my experience I'd tend to make a wrapper thing like "role" and then in there store templates for things that are being overridden or whatever from default upstream modules.
[2013-02-25 14:45:19 -0500] c0ff33: I need some help with RabbitMQ on my chef-server - the user configuration seems to be wrong - chef can't connect to rabbitMQ - where are the passwords stored?
[2013-02-25 14:47:55 -0500] fooJBar: What version of chef-server c0ff33
[2013-02-25 14:49:10 -0500] c0ff33: latest debian
[2013-02-25 14:50:31 -0500] jtimberman: ashp: lots of folks do a "wrapper cookbook"
[2013-02-25 14:51:04 -0500] ashp: jtimberman: Damn, I knew I should have done that.  This is just an experiment for now so I just added a drupal.vcf.erb into the module and changed my node['varnish']['vcl_source'] to point to it.
[2013-02-25 14:51:15 -0500] ashp: jtimberman: I'm not even using submodules for this test so it's all a bit slapdash anyway.
[2013-02-25 14:51:21 -0500] fooJBar: c0ff33:  11.0.6? The password is sourced from an attribute at install time, check in /opt/chef-server/embedded/cookbooks/chef-server/attributes/default.rb
[2013-02-25 14:51:40 -0500] c0ff33: fooJBar - where is it stored afterwards?
[2013-02-25 14:51:59 -0500] c0ff33: fooJBar that is to say if i reset it with rabbitmqctl where do i change it in chef to match
[2013-02-25 14:52:24 -0500] fooJBar: c0ff33: not sure where, the default in chef 11 is chefrocks123
[2013-02-25 14:52:39 -0500] fooJBar: Checking under /var/opt/chef-server/rabbitmq
[2013-02-25 14:59:43 -0500] c0ff33: fooJBar hmm /var/opt is empty - also getting: {channel0_error,starting, {amqp_error,access_refused, "AMQPLAIN login refused: user 'chef' - invalid credentials", 'connection.start_ok'}}
[2013-02-25 15:00:08 -0500] c0ff33: I set the password as chefrocks123 with rabbitmqctl :(
[2013-02-25 15:00:26 -0500] fooJBar: c0ff33: I could find an hashed version under /etc/chef-server/chef-server-secrets.json
[2013-02-25 15:00:46 -0500] fooJBar: c0ff33: btw the actual default is chefrocks, I had changed mine to test stuff
[2013-02-25 15:02:09 -0500] fooJBar: c0ff33: the easiest way would be to update the password to what you want in the attribute file then re-run the solo recipe (chef-server-ctl reconfigure)
[2013-02-25 15:02:20 -0500] fromonesrc: I have a problem with chef server node/client permissions
[2013-02-25 15:02:40 -0500] c0ff33: ah i will try that
[2013-02-25 15:02:40 -0500] fromonesrc: I am getting 403 errors when the client tries to update the node attributes
[2013-02-25 15:03:00 -0500] fromonesrc: I can go into the chef webui grant update permission on the node to 'clients' and that works
[2013-02-25 15:03:06 -0500] fromonesrc: but I'd like to not have to do this for each node
[2013-02-25 15:05:26 -0500] c0ff33: working thanks fooJBar
[2013-02-25 15:05:41 -0500] fooJBar: c0ff33: fantastic
[2013-02-25 15:16:15 -0500] jhayden: Playing with new chef-serevr 11.4 and OS X workstation, I can upload roles but
[2013-02-25 15:16:46 -0500] jhayden: when I try to upload cookbooks I get the following error https://gist.github.com/jhhayden/5030475 . Any ideas what this could be?
[2013-02-25 15:27:40 -0500] gkarekinian: jhayden: You're trying to access your chef server using its AWS internal address
[2013-02-25 15:29:32 -0500] jhayden: from my knife.rb:  chef_server_url          'https://ec2-50-19-74-110.compute-1.amazonaws.com'
[2013-02-25 15:29:42 -0500] jhayden: which is the public dns
[2013-02-25 15:30:36 -0500] jhayden: so how is it getting changed to the internal?
[2013-02-25 15:31:15 -0500] gkarekinian: I'm guessing you need to set api_fqdn in /etc/chef-server/chef-server.rb (I'm in the middle of setting up my own server too)
[2013-02-25 15:31:29 -0500] gkarekinian: (on the server)
[2013-02-25 15:32:04 -0500] jhayden: let me look into that, thx
[2013-02-25 15:32:28 -0500] kesor: How can I fail a chef recipe if a condition is not met? for example if I expect an attribute, and can't work without it  please help.
[2013-02-25 15:36:10 -0500] jtimberman: kesor: multiple ways!
[2013-02-25 15:36:29 -0500] jtimberman: http://stackoverflow.com/questions/14290397/how-do-you-abort-end-a-chef-run/14294011#14294011
[2013-02-25 15:36:36 -0500] kesor: jtimberman: thank you very much! :)
[2013-02-25 15:40:11 -0500] ssd7_: Ohai Chefs
[2013-02-25 15:50:01 -0500] alex___: what is doing this piece of code?
[2013-02-25 15:50:04 -0500] alex___: def initialize(*args) super @action = :create
[2013-02-25 15:50:05 -0500] alex___: end
[2013-02-25 15:50:14 -0500] alex___: ?
[2013-02-25 15:50:21 -0500] alex___: users cookbook*
[2013-02-25 15:51:09 -0500] barefoot: calling super on its parent and setting a var
[2013-02-25 15:51:30 -0500] matti: Any Chef idiom / resource to remove all files from a directory? Or, I have to remove directory recursively and then re-create it?
[2013-02-25 15:52:08 -0500] jtimberman: alex___, barefoot: it's setting the default action for the resource.
[2013-02-25 15:52:27 -0500] matti: I could use ruby_block too, I guess.
[2013-02-25 15:52:48 -0500] jim: hi, very new to chef.
[2013-02-25 15:52:54 -0500] alex___: o oke nothing more than that?
[2013-02-25 15:53:02 -0500] jim: is the following a valid cookbok name "ruby-chef1.9"
[2013-02-25 15:53:43 -0500] alex___: and def whyrun_supported? true
[2013-02-25 15:53:44 -0500] alex___: end
[2013-02-25 15:53:45 -0500] alex___: ?
[2013-02-25 15:53:58 -0500] alex___: some kind of check?
[2013-02-25 15:55:31 -0500] Guest21843: Anyone know if the following a valid cookbok name "ruby-chef1.9"?
[2013-02-25 15:55:50 -0500] Guest21843: Trying to use it with AWS opsWork and it complains
[2013-02-25 15:57:18 -0500] Joel: I have a large sql file on a samba share I need to get on a machine using chef, what would be your preferred method for making this happen? smb mount? scp? other?
[2013-02-25 15:57:36 -0500] alex___: what is a name_attribute ?
[2013-02-25 15:57:50 -0500] alex___: is it ruby or chef?
[2013-02-25 15:59:03 -0500] jtimberman: alex___: every resource has a "name" attribute. it is the attribute (or parameter) of a resource that the name is used
[2013-02-25 15:59:04 -0500] ashp: undefined method `default_action' for #<Class:0xb6fe1300>
[2013-02-25 15:59:07 -0500] ashp: Hmm, this sounds bad. :/
[2013-02-25 15:59:24 -0500] jtimberman: alex___: for example various file management resources, the name_attribute is the path to the file.
[2013-02-25 15:59:34 -0500] alex___: ah oke
[2013-02-25 15:59:37 -0500] ashp: Is this a chef 10 vs chef 11 thing or something? :/
[2013-02-25 15:59:38 -0500] jtimberman: so if you don't specify a 'path', it uses the name for the path
[2013-02-25 15:59:43 -0500] alex___: like username for user
[2013-02-25 15:59:48 -0500] jtimberman: ooh, opsworks yeah?
[2013-02-25 15:59:51 -0500] ashp: jtimberman: I see your name in this module :)
[2013-02-25 15:59:56 -0500] ashp: jtimberman: yeah, I'm trying to use the php module
[2013-02-25 15:59:57 -0500] jtimberman: ashp: probably :)
[2013-02-25 16:00:07 -0500] jtimberman: ashp: and a resource within it?
[2013-02-25 16:00:20 -0500] ashp: Well, I'm using the dursh cookbook
[2013-02-25 16:00:23 -0500] ashp: which pulls in the pear stuff I think
[2013-02-25 16:00:30 -0500] jtimberman: ashp: so we added a method, "default_action" to lightweight resources/providers somewhere in the Chef 10 version series.
[2013-02-25 16:00:40 -0500] jtimberman: Opsworks uses Chef 0.9, so it doesn't have that method.
[2013-02-25 16:00:43 -0500] jtimberman: Thus, explosion.
[2013-02-25 16:00:49 -0500] ashp: http://pastebin.com/yzSHLyF6
[2013-02-25 16:00:53 -0500] ashp: Ahhhh oh dear, it's 0.9?
[2013-02-25 16:00:56 -0500] ashp: Well that's a bad thing.
[2013-02-25 16:01:12 -0500] ashp: That might tank my demo of this for now, which isn't an especially bad thing, this was just playing around.
[2013-02-25 16:01:17 -0500] ashp: I learnt that -I- like chef at least
[2013-02-25 16:02:00 -0500] Guest21843: .
[2013-02-25 16:02:02 -0500] Guest21843: .
[2013-02-25 16:02:08 -0500] Guest21843: Anyone know if the following a valid cookbok name "ruby-chef1.9"?
[2013-02-25 16:02:30 -0500] Guest21843: can hyphens and decimal points be used in a name?
[2013-02-25 16:02:55 -0500] Guest21843: I can find it documented anywhere and look to be just a string
[2013-02-25 16:03:29 -0500] jtimberman: Guest21843: hyphens yes, periods no
[2013-02-25 16:03:59 -0500] Guest21843: ok where do you get that information from?
[2013-02-25 16:04:21 -0500] jtimberman: Guest21843: i've been using chef 4 years :)
[2013-02-25 16:04:27 -0500] barefoot: question about that, why allow hyphens if it borks resources (i.e. cook-book_something blows up)
[2013-02-25 16:04:36 -0500] Guest21843: ha ok, but isn't documented anywhere
[2013-02-25 16:05:18 -0500] jtimberman: barefoot: 1) you can use a _ instead of -, it's automatically converted. 2) the LWRP auto-name creation was built months after chef was released
[2013-02-25 16:06:24 -0500] Guest21843: Thanks for the help!
[2013-02-25 16:06:35 -0500] barefoot: hmm, well I havent tried in about 6 months, but I remember trying to call a resource on a cookbook with a hyphen blew upbadly
[2013-02-25 16:07:47 -0500] jtimberman: don't use the hyphen
[2013-02-25 16:07:52 -0500] jtimberman: in your recipe
[2013-02-25 16:08:02 -0500] jtimberman: cook_book_something instead of cook-book_something
[2013-02-25 16:13:35 -0500] jtimberman: hm it seems that perhaps .'s are *valid* in cookbook names, but you really shouldn't use them
[2013-02-25 16:16:26 -0500] Guest21843: AWS opswork doesn't accept  "ruby-chef1.9" not sure if its the hypehn or full stop
[2013-02-25 16:24:20 -0500] barefoot: Guest21843: 16:03:29 <@jtimberman> Guest21843: hyphens yes, periods no
[2013-02-25 16:25:26 -0500] jtimberman: so remove the .
[2013-02-25 16:26:28 -0500] awgross: having some trouble grokking the rakefile for Chef, if I just want to run a specific unit test (say resource/apt_apt_package_spec.rb), whats the rake command to do so?
[2013-02-25 16:30:37 -0500] awgross: should I just fall back to using `rspec /path/to/tests` ?
[2013-02-25 16:34:11 -0500] jtimberman: awgross: think so
[2013-02-25 16:35:30 -0500] awgross: thanks
[2013-02-25 16:45:03 -0500] mani_: i installed chef using the method recommended by opscode and when I run knife i get the below message: /home/vagrant/.rbenv/versions/1.9.3-p194/lib/ruby/1.9.1/rubygems/dependency.rb:247:in `to_specs': Could not find chef (>= 0) amongst [rvm-1.11.3.6] (Gem::LoadError)
[2013-02-25 16:45:03 -0500] mani_: from /home/vagrant/.rbenv/versions/1.9.3-p194/lib/ruby/1.9.1/rubygems/dependency.rb:256:in `to_spec'
[2013-02-25 16:45:03 -0500] mani_: from /home/vagrant/.rbenv/versions/1.9.3-p194/lib/ruby/1.9.1/rubygems.rb:1231:in `gem'
[2013-02-25 16:45:03 -0500] mani_: from /home/vagrant/.rbenv/versions/1.9.3-p194/bin/knife:22:in `<main>'
[2013-02-25 16:45:54 -0500] mani_: any ideas what went wrong, I swear it worked when i initially installed chef client and knife after I installed chef server I ran Knife i got these messages
[2013-02-25 17:07:17 -0500] mani_: hi is any one available to answer my question
[2013-02-25 17:07:34 -0500] awgross: whats your question mani_
[2013-02-25 17:08:01 -0500] mani_: (16:45:02) mani: i installed chef using the method recommended by opscode and when I run knife i get the below message: /home/vagrant/.rbenv/versions/1.9.3-p194/lib/ruby/1.9.1/rubygems/dependency.rb:247:in `to_specs': Could not find chef (>= 0) amongst [rvm-1.11.3.6] (Gem::LoadError)
[2013-02-25 17:08:01 -0500] mani_: (16:45:02) mani: from /home/vagrant/.rbenv/versions/1.9.3-p194/lib/ruby/1.9.1/rubygems/dependency.rb:256:in `to_spec'
[2013-02-25 17:08:01 -0500] mani_: (16:45:02) mani: from /home/vagrant/.rbenv/versions/1.9.3-p194/lib/ruby/1.9.1/rubygems.rb:1231:in `gem'
[2013-02-25 17:08:01 -0500] mani_: (16:45:02) mani: from /home/vagrant/.rbenv/versions/1.9.3-p194/bin/knife:22:in `<main>'
[2013-02-25 17:09:14 -0500] doomviking: eep
[2013-02-25 17:10:17 -0500] mani_: any idea why that is happening?
[2013-02-25 17:11:33 -0500] awgross: mani_: when you say the method recommended by opscode, can you be more specific?
[2013-02-25 17:11:37 -0500] awgross: did you use omnibus?
[2013-02-25 17:11:41 -0500] awgross: or gem install
[2013-02-25 17:12:02 -0500] mani_: there;s an install.sh script u download and run from their server
[2013-02-25 17:12:11 -0500] awgross: ok, that is omnibus
[2013-02-25 17:12:18 -0500] mani_: curl -L https://www.opscode.com/chef/install.sh | sudo bash
[2013-02-25 17:12:19 -0500] jubilo: http://www.wired.com/wiredenterprise/2013/02/microsoft-cloud-goes-poof/
[2013-02-25 17:12:30 -0500] awgross: that will install chef into a special embedded directory
[2013-02-25 17:12:38 -0500] awgross: it looks like when you run chef it is trying to use rvm
[2013-02-25 17:12:45 -0500] jubilo: ack sorry, wrong window
[2013-02-25 17:12:48 -0500] iartarisi: Hi! What's the preferred way of running external commands from a recipe? I saw a comment about run_command being deprecated. What about 'execute'?
[2013-02-25 17:12:49 -0500] awgross: check /opt/chef/embedded
[2013-02-25 17:13:10 -0500] mani_: then the next one is to download the .deb package for chef server
[2013-02-25 17:13:10 -0500] mattray: iartarisi: execute if you're just running 1-off commands
[2013-02-25 17:13:30 -0500] mani_: and i did that but thenw hen i run knife or chef-client i get this ruby error
[2013-02-25 17:13:33 -0500] iartarisi: mattray: hm... one-off as opposed to what? :)
[2013-02-25 17:13:34 -0500] mattray: iartarisi: if you need to capture output, mixlib/shellout
[2013-02-25 17:14:03 -0500] mattray: iartarisi: as in you're writing a Provider or somesuch
[2013-02-25 17:14:11 -0500] iartarisi: aha, ok
[2013-02-25 17:14:18 -0500] mattray: iartarisi: execute is probably what you are looking for
[2013-02-25 17:14:21 -0500] iartarisi: yeah, a provider is exactly what I'm writing
[2013-02-25 17:14:27 -0500] mattray: iartarisi: ahh, ok
[2013-02-25 17:14:32 -0500] mattray: need an example?
[2013-02-25 17:14:32 -0500] awgross: mani_: its trying to load Chef from the wrong location, your Vagrant box has RVM installed at it is messing with Chef finding the right path i believe
[2013-02-25 17:14:56 -0500] mani_: ok how do i remove rvm?
[2013-02-25 17:15:09 -0500] iartarisi: mattray: me? no, I'm fine, thanks
[2013-02-25 17:15:10 -0500] mattray: iartarisi: https://github.com/mattray/rabbitmq/blob/2.0/providers/vhost.rb
[2013-02-25 17:15:14 -0500] mani_: i tried sudo apt-get remove rvm - it does not find it
[2013-02-25 17:15:25 -0500] awgross: check your .bash_profile or .bashrc, there will be block mentioning rvm, just comment it out and reload your shell mani_
[2013-02-25 17:15:29 -0500] iartarisi: mattray: cool
[2013-02-25 17:15:36 -0500] mani_: okay cheers
[2013-02-25 17:15:41 -0500] doomviking: or rvm implode
[2013-02-25 17:15:44 -0500] j^2: so i've started using the omnibus installer instead of chef gem, how can i make sure it updates? apt-get update
[2013-02-25 17:15:55 -0500] iartarisi: mattray: so action :run is the default?
[2013-02-25 17:16:15 -0500] mattray: iartarisi: for execute? yeah
[2013-02-25 17:16:31 -0500] iartarisi: cool, I need to delete that line from mine then :)
[2013-02-25 17:16:33 -0500] mattray: http://docs.opscode.com/chef/resources.html#execute
[2013-02-25 17:17:07 -0500] iartarisi: yeah, thanks, I missed that somehow
[2013-02-25 17:18:15 -0500] mani_: trying it out now
[2013-02-25 17:19:10 -0500] j^2: i guess i'm trying to confirm the advantage of running the omnibusinstaller compared to the gem
[2013-02-25 17:21:32 -0500] mattray: j^2: http://community.opscode.com/cookbooks/omnibus_updater
[2013-02-25 17:21:41 -0500] mattray: that'll upgrade them in place for you
[2013-02-25 17:21:43 -0500] j^2: mattray: :D wow, i should have done that ahead of time :D
[2013-02-25 17:21:46 -0500] j^2: thanks :)
[2013-02-25 17:21:47 -0500] gkarekinian: Using the gem pretty much guarantees that one day you'll have dependency problems
[2013-02-25 17:22:13 -0500] mattray: gkarekinian: lol
[2013-02-25 17:34:23 -0500] gkarekinian: Hey thank you JIRA for sending me an email to tell me I just posted a comment on an issue, I had no idea!
[2013-02-25 17:35:30 -0500] leifmadsen: ya, notification schemes could use tweaking I've noticed :)
[2013-02-25 17:47:19 -0500] gkarekinian: Shit, looks like running your chef server's web interface on a non-standard port is not supported by the chef-server cookbook
[2013-02-25 17:48:02 -0500] gkarekinian: Oh wait I just have to find documentation about tunables?
[2013-02-25 17:48:43 -0500] gkarekinian: Yay, https://github.com/opscode/omnibus-chef/blob/master/files/chef-server-cookbooks/chef-server/attributes/default.rb
[2013-02-25 17:53:09 -0500] gkarekinian: Oh, there's an enable_non_ssl attribute set to false by defaykt but it's not used in the template
[2013-02-25 17:53:14 -0500] gkarekinian: Also I'm talking to myself
[2013-02-25 18:06:20 -0500] volker-: hi!  After the latest gem update, I run into an issue with the git resource. I run 'action :checkout' with 'user someuser' and get the error "STDERR: fatal: unable to access '/root/.config/git/config': Permission denied"
[2013-02-25 18:13:48 -0500] till_: can anyone give me a hand with libraries? i have libraries/company.rb module Company def test() end end, but when I try to use `test()` in attributes, it doesn't find. tried ::Company.test() - no dice. are these not loaded yet?
[2013-02-25 18:34:28 -0500] tmichael: having problem with cookbook uploads to newly built chef-server: Faraday::Error::ConnectionFailed: getaddrinfo: nodename nor servname provided, or not known
[2013-02-25 18:34:40 -0500] tmichael: other knife commands work fine. just upload, it appears
[2013-02-25 18:35:09 -0500] tmichael: first time doing over ssl so wondering if related to that?
[2013-02-25 18:35:37 -0500] tmichael: but assume if cert related issue would show up with all knife commands, not just uploads
[2013-02-25 18:35:44 -0500] tmichael: appreciate any tips
[2013-02-25 18:36:26 -0500] tmichael: found this last night so thought perhaps not just me
[2013-02-25 18:36:28 -0500] tmichael: http://community.opscode.com/questions/281
[2013-02-25 18:38:01 -0500] gkarekinian: tmichael: You probably have a non-public DNS set as the server's FQDN
[2013-02-25 18:38:40 -0500] tmichael: i do.  it's new cloud instance where i don't (yet) have much in the way of options.  just let provider provide hostname
[2013-02-25 18:38:59 -0500] tmichael: was gonna do all my node identification via cnames and chef metadata
[2013-02-25 18:39:23 -0500] tmichael: gkarekinian: any way to work around this by twiddling option?
[2013-02-25 18:39:42 -0500] gkarekinian: Are you using Chef 11? I'm not familiar with Chef Server 10
[2013-02-25 18:39:45 -0500] tmichael: btw - why only an issue with uploads; not with other interaction with server?
[2013-02-25 18:39:51 -0500] tmichael: gkarekinian: chef 11
[2013-02-25 18:40:02 -0500] mani_: hi
[2013-02-25 18:40:07 -0500] gkarekinian: If you're using the chef-server cookbook from the master branch on GitHub you can override default['chef-server']['api_fqdn'] if you need
[2013-02-25 18:40:18 -0500] mani_: i have installed chef server using the .deb file and configured it
[2013-02-25 18:40:28 -0500] mani_: but can't seem to see any of these services running
[2013-02-25 18:40:30 -0500] mani_: chef-server-ctl status
[2013-02-25 18:40:30 -0500] mani_: warning: bookshelf: unable to open supervise/ok: access denied
[2013-02-25 18:40:30 -0500] mani_: warning: chef-expander: unable to open supervise/ok: access denied
[2013-02-25 18:40:30 -0500] mani_: warning: chef-server-webui: unable to open supervise/ok: access denied
[2013-02-25 18:40:31 -0500] mani_: warning: chef-solr: unable to open supervise/ok: access denied
[2013-02-25 18:40:31 -0500] tmichael: i'm not using presently but plan to.  you've provided my incentive :)
[2013-02-25 18:40:31 -0500] mani_: warning: erchef: unable to open supervise/ok: access denied
[2013-02-25 18:40:31 -0500] mani_: warning: nginx: unable to open supervise/ok: access denied
[2013-02-25 18:40:31 -0500] mani_: warning: postgresql: unable to open supervise/ok: access denied
[2013-02-25 18:40:32 -0500] mani_: warning: rabbitmq: unable to open supervise/ok: access denied
[2013-02-25 18:40:50 -0500] gkarekinian: tmichael: Check the content of api_fqdn in /etc/chef-server/chef-server.rb
[2013-02-25 18:41:03 -0500] gkarekinian: By default it's node['fqdn']
[2013-02-25 18:41:55 -0500] tmichael: gkarekinian: don't presently have chef-server.rb file on this newly built system
[2013-02-25 18:42:05 -0500] gkarekinian: Oh
[2013-02-25 18:42:32 -0500] gkarekinian: It's probably just getting the address from ifconfig or something then, I don't know
[2013-02-25 18:42:48 -0500] gkarekinian: Anyway from what I've seen uploading cookbooks requires you to have a working FQDN
[2013-02-25 18:43:15 -0500] gkarekinian: Whoa, weird Colloquy bug, I see my own messages being posted by you
[2013-02-25 18:43:49 -0500] tmichael: gkarekinian: that is bizarre.  use colloquy as well.  haven't run across that one yet
[2013-02-25 18:44:02 -0500] gkarekinian:  I've just upgraded it today
[2013-02-25 18:44:18 -0500] tmichael: thx for the info though.  i'll poke around chef-server cook to figure out proper location of attrib to override fqdn
[2013-02-25 18:44:20 -0500] jtimberman: gkarekinian: that's correct. need a FQDN that can resolve in DNS.
[2013-02-25 18:44:23 -0500] jtimberman: or set up hosts files.
[2013-02-25 18:44:25 -0500] tmichael: saved my bacon.  much obliged
[2013-02-25 18:44:35 -0500] gkarekinian: No problem, glad to help
[2013-02-25 18:44:38 -0500] jtimberman: nginx sits in front of the API and redirects requests to the appropriate backend.
[2013-02-25 18:47:27 -0500] gkarekinian: By the way if you need to change Chef Server settings using the cookbook check out my ticket/pull request adding some documentation: http://tickets.opscode.com/browse/COOK-2481
[2013-02-25 18:48:25 -0500] mani_: does anyone know the answer to my query
[2013-02-25 18:49:17 -0500] gkarekinian: Are you running "chef-server-ctl status" as a normal user? Tried as root?
[2013-02-25 18:50:57 -0500] flzz: Hey all, when I'm specifying a depends in the metadata.rb for a cookbook, are the default attributes within the dependency evaluated before or after (or at all?) the dependent cookbook?
[2013-02-25 18:51:06 -0500] mani_: okay now go it to work
[2013-02-25 18:51:08 -0500] mani_: thns
[2013-02-25 18:51:09 -0500] mani_: thnx
[2013-02-25 18:51:17 -0500] mani_: but i still do have a probkem runing
[2013-02-25 18:51:24 -0500] mani_: knife configure -i
[2013-02-25 18:51:58 -0500] mani_: its not able to find a .pem file ([user].pem). do u make a opy of the existing one and rename it to [user].pem?
[2013-02-25 19:00:08 -0500] mani_: any idea what i need to do to be able to see the webui?
[2013-02-25 19:00:23 -0500] mani_: http://localhost:4040 does not respond
[2013-02-25 19:00:39 -0500] mani_: nothing is running even thought chef-server-webui service seems to be running
[2013-02-25 19:02:18 -0500] yfeldblum: mani_, chef-server-10 or chef-server-11?
[2013-02-25 19:02:29 -0500] mani_: 11
[2013-02-25 19:02:41 -0500] yfeldblum: mani_, just http://localhost then
[2013-02-25 19:03:40 -0500] mani_: are you saying thay when knife asks
[2013-02-25 19:03:45 -0500] mani_: Please enter the chef server URL: [http://precise64:4000]
[2013-02-25 19:03:51 -0500] mani_: i say http://localhost
[2013-02-25 19:04:35 -0500] mani_: there's more it hasnt created any additional users like: chef-webui&chef-validator
[2013-02-25 19:04:55 -0500] yfeldblum: mani_, did you use the installer to install it?
[2013-02-25 19:05:02 -0500] yfeldblum: mani_, or something else?
[2013-02-25 19:05:36 -0500] mani_: chef-server was installed by dpwnloaidng .deb file opscode's server
[2013-02-25 19:05:40 -0500] yfeldblum: mani_, from this page http://www.opscode.com/chef/install/ ?
[2013-02-25 19:05:57 -0500] mani_: yes
[2013-02-25 19:06:01 -0500] jtimberman: mani_: you need to use https
[2013-02-25 19:06:17 -0500] yfeldblum: mani_, did you run `[sudo] chef-server-ctl reconfigure` as well?
[2013-02-25 19:06:26 -0500] jtimberman: mani_: you should also have an FQDN set up in DNS, or populate the appropriate hosts file.
[2013-02-25 19:06:49 -0500] mani_: okay i c
[2013-02-25 19:07:03 -0500] mani_: yes ran reconfigure
[2013-02-25 19:07:32 -0500] mani_: okay https: does it
[2013-02-25 19:07:42 -0500] mani_: let me continue and see
[2013-02-25 19:10:33 -0500] doomviking:  /leave #puppet
[2013-02-25 19:10:52 -0500] mani_: thnx guys
[2013-02-25 19:10:56 -0500] mani_: https did it
[2013-02-25 19:13:54 -0500] sprack: I upgraded the client from 10.10 to 11.4 and previously a working databag for user now fails with: Data Bag Items must contain a Hash or Mash!
[2013-02-25 19:14:40 -0500] mani_: btw the documentatipn says that when the chef-server-api service starts a user by the name chef-webui is automatically created
[2013-02-25 19:15:21 -0500] mani_: i didn't see any such user being created can someone comment abt it? do i need to create such a user - apparantly i need it to complete knife configure -i configutation
[2013-02-25 19:16:30 -0500] mani_: clear
[2013-02-25 19:21:48 -0500] sraf: which cookbook version number is considered to be higher by chef - 3.12.0 or 3.12?
[2013-02-25 19:22:08 -0500] sraf: i.e. if i dont specify the version in a run-list, which one will it use?
[2013-02-25 19:23:37 -0500] poseid_: this line:  set['rvm']['vagrant']['system_chef_solo'] = "/opt/ruby/bin/chef-solo"
[2013-02-25 19:23:52 -0500] poseid_: does it translate to "vagrant": { "system_chef_solo" : "/opt/ruby/bin/chef-solo" }, in a node.json?
[2013-02-25 19:23:58 -0500] cheesepl_: sprack: pretty sure that error happens when a databag file name mismatches the id:
[2013-02-25 19:25:10 -0500] vegardx_: Mithrandir: Turns out that ruby-json has been upgraded and breaks chef-client. I see someone posted to the mailinglist today, so hopefully things are resolved quickly. But aint wheezy on code freeze?
[2013-02-25 19:25:18 -0500] sprack: hmm. databag filename is cuegg.json, "username": "cuegg"
[2013-02-25 19:26:14 -0500] amccloud: How do I get the ip address in the webui node list to update?
[2013-02-25 19:28:18 -0500] sprack: cheesepl: this also didn't start till after I upgraded
[2013-02-25 19:29:02 -0500] cheesepl_: sprack: iirc that issue manifested sometime after 10.10 as I've seen it in 10.14-18
[2013-02-25 19:29:57 -0500] cheesepl_: sprack: does the json in question have an id: field?
[2013-02-25 19:30:53 -0500] sprack: cheesepl_: no it doesn't. good call
[2013-02-25 19:30:57 -0500] sprack: thanks
[2013-02-25 19:31:04 -0500] cheesepl_: np, it bit me in the past
[2013-02-25 19:34:12 -0500] barefoot: oops joshman_ ^^
[2013-02-25 19:41:55 -0500] poseid_: how could I debug a wrong path after running the system/vagrant recipes from https://github.com/fnichol/chef-rvm
[2013-02-25 19:44:33 -0500] mprezioso: exit
[2013-02-25 19:47:05 -0500] poseid_: hmm.. ok... I see a PR on the chef-rvm repo which might be related to my problem:  https://github.com/gpsnail/chef-rvm/tree/vagrantgroup
[2013-02-25 19:54:24 -0500] joemiller: barefoot: hi
[2013-02-25 19:54:25 -0500] joemiller: oh
[2013-02-25 19:56:14 -0500] barefoot: joemiller: :) sorry, tab complete fail
[2013-02-25 20:01:05 -0500] jtimberman: Opscode Open Source code review: livestream, http://youtu.be/kvymltxkcfM hangout, https://plus.google.com/hangouts/_/6fabcce67cac2d2b7f8dd05d31f3bb635257a98c
[2013-02-25 20:06:27 -0500] adkron: What is the best way to add to the iptables file, but not to override it completely. I was trying to use opscode/iptables but after I provision my vm I can't ssh into it when I add and openning of port 80.
[2013-02-25 20:18:58 -0500] faustrol1: any test-kitchen users/developers in irc right now?
[2013-02-25 20:19:30 -0500] faustrol1: what are the workarounds in test-kitchen for "hangs on VM waiting to boot"
[2013-02-25 20:19:43 -0500] faustrol1: I know this is a vagrant issue
[2013-02-25 20:20:47 -0500] faustrol1: However, I'm curious as to know what other test-kitchen are experiencing and/or doing to resolve such issues
[2013-02-25 20:21:02 -0500] faustrol1: test-kitchen users
[2013-02-25 20:21:27 -0500] jtimberman: faustrol1: perhaps: http://tickets.opscode.com/browse/KITCHEN-11
[2013-02-25 20:22:22 -0500] jtimberman: possible vagrant issue https://github.com/mitchellh/vagrant/issues/391
[2013-02-25 20:22:47 -0500] maek: would a change made to a cookbook 16 days ago not be in the version I get form community?
[2013-02-25 20:23:54 -0500] jtimberman: maek: depends?
[2013-02-25 20:24:13 -0500] jtimberman: maek: what cookbook, what change? is there a jira ticket?
[2013-02-25 20:25:32 -0500] maek: jtimberman: I see mysql::percona_repo added 16 days ago but the version im getting from community seems not to have that reicpe
[2013-02-25 20:26:01 -0500] FarmKing: Is there documentation about the right way of implementing a recipe to be re-used several times with different data
[2013-02-25 20:26:04 -0500] FarmKing: ?
[2013-02-25 20:26:10 -0500] faustrol1: jtimberman: thanks. this might help. I see that I have no problem with an ubuntu 10.10 host and a problem with an ubuntu 12.0.4 host
[2013-02-25 20:26:17 -0500] maek: FarmKing: attributes
[2013-02-25 20:26:45 -0500] faustrol1: jtimberman: I'll try some of the workarounds
[2013-02-25 20:26:47 -0500] maek: for example node['apache']['port'] = 80 would then let you change that to what ever port you want
[2013-02-25 20:28:03 -0500] FarmKing: thanks.  that looks about right
[2013-02-25 20:28:46 -0500] FarmKing: maek: like this: node['apps"]["app_name"]["port"] ?
[2013-02-25 20:28:53 -0500] maek: FarmKing: you can then set attributes via other cookbooks/recipes, environments and roles
[2013-02-25 20:29:58 -0500] maek: FarmKing: i fudged the bacon. I would do this in the attriabutes/defaults.rb default['app']['app_name']['port'] = "default port" or nil
[2013-02-25 20:30:12 -0500] maek: then in a recipe or role or env i would set it
[2013-02-25 20:30:30 -0500] Joel: is there some method in chef I can prompt a user for his username and password in the beginning, then use them in a recipe somewhere?
[2013-02-25 20:30:42 -0500] FarmKing: attributes/defaults.rb is per-role?
[2013-02-25 20:30:54 -0500] maek: FarmKing: no thats for the cookbook
[2013-02-25 20:31:15 -0500] FarmKing: so, I'm going to have to define all of the apps in the cookbook rather than in the roles?
[2013-02-25 20:31:16 -0500] jtimberman: maek: hasn't been tested for release yet.
[2013-02-25 20:31:16 -0500] maek: you could then set that attribute via role or env so you could use the recipe with 'different data'
[2013-02-25 20:31:26 -0500] jtimberman: http://tickets.opscode.com/browse/COOK-1059
[2013-02-25 20:31:33 -0500] maek: jtimberman: ty
[2013-02-25 20:31:53 -0500] jtimberman: so the reason is humans are a limiting factor in the amount of time in a particular day to do work :)
[2013-02-25 20:32:04 -0500] maek: lazy hue mons!
[2013-02-25 20:32:09 -0500] FarmKing: I was hoping to keep all information about individual apps in roles
[2013-02-25 20:32:13 -0500] FarmKing: is that reasonable?
[2013-02-25 20:32:32 -0500] maek: FarmKing: yes, but you need the recipe to have those nodes setup, they can be empty
[2013-02-25 20:32:45 -0500] maek: unless you are trying to do something meta ish
[2013-02-25 20:32:51 -0500] maek: and have a single recipe deploy several apps?
[2013-02-25 20:32:57 -0500] FarmKing: exactly!
[2013-02-25 20:33:23 -0500] leifmadsen: FarmKing: lately it seems keeping roles very lean makes the most sense, and to use something like a "top level cookbook" which is a cookbook that contains data, and then includes other more specific cookbooks. That data can then be in the attributes file for the TLC, or in a data bag that is referenced.
[2013-02-25 20:34:38 -0500] leifmadsen: just use include_recipe basically from the default.rb reciple in your "TLC"
[2013-02-25 20:37:45 -0500] FarmKing: leifmadsen: that makes sense, I think.  It would be great to see an example of how this is used somewhere if there's a public repo I can browse.
[2013-02-25 20:38:31 -0500] maek: FarmKing: basically do this
[2013-02-25 20:38:45 -0500] FarmKing: I was afraid of that, but I think I have enough to get started
[2013-02-25 20:38:56 -0500] maek: your generic app cookbook has the recipe to do the deploy plus the empty attributes needed to configure said deploy
[2013-02-25 20:38:58 -0500] maek: then you have
[2013-02-25 20:39:30 -0500] maek: my_sweet_app_1 cokbook that does include_recipe 'app' and then a bunch of node['app']['port'] = 81
[2013-02-25 20:39:37 -0500] maek: attributes to setup
[2013-02-25 20:39:39 -0500] leifmadsen: maek: +1
[2013-02-25 20:39:43 -0500] leifmadsen: it's just a cookbook including other cookbooks
[2013-02-25 20:39:48 -0500] leifmadsen: which is done in lots of places
[2013-02-25 20:39:49 -0500] maek: and settings attributes
[2013-02-25 20:39:56 -0500] leifmadsen: just look through the opscode-cookbooks on github or something
[2013-02-25 20:40:25 -0500] FarmKing: thanks guys
[2013-02-25 20:40:31 -0500] FarmKing: that's been really helpful
[2013-02-25 20:40:36 -0500] maek: gl, hf
[2013-02-25 20:44:33 -0500] jtimberman: http://jtimberman.housepub.org/blog/2012/11/19/chef-repository-berkshelf-conversion/
[2013-02-25 20:44:52 -0500] jtimberman: i have some examples in there for how i'm overriding the samba cookbook's resources
[2013-02-25 20:45:24 -0500] Joel: I've got a bash script block, and it doesn't appear to be doing what I want, what's the best way to debug? even with the log level set at debug I don't see any ouput from the script
[2013-02-25 20:45:39 -0500] jtimberman: i'm not usin attributes in there because i *like* roles and use those instead :)
[2013-02-25 20:48:52 -0500] faustrol1: :Joel are you using test-kitchen to test this?
[2013-02-25 20:49:30 -0500] Joel: faustrol1: no idea what that is :) I'm using chef/vagrant to deploy a vm in virtual box
[2013-02-25 20:49:52 -0500] faustrol1: :Joel I'm writing recipes that use bash and am testing it as I develop with test-kitchen
[2013-02-25 20:50:32 -0500] faustrol1: :Joel see opscode/test-kitchen on github
[2013-02-25 20:51:10 -0500] Joel: faustrol1: I'm not seeing how this helps me.
[2013-02-25 20:52:07 -0500] faustrol1: :Joel not necessarily relevant to your issue, sorry
[2013-02-25 20:52:43 -0500] faustrol1: :Joel what is the bash you are trying to run? is it complicated?
[2013-02-25 20:53:26 -0500] Joel: nope
[2013-02-25 20:53:28 -0500] Joel: sec
[2013-02-25 20:54:03 -0500] faustrol1: :Joel can you post a gist of it to github?
[2013-02-25 20:54:24 -0500] Joel: /usr/bin/mysqldump -h some.host.com -u a_user -pa_password remote_db | /usr/bin/mysql -u a_user -pa_password local_db
[2013-02-25 20:54:40 -0500] Joel: that's all I have in my code block, of course after the fact it runs just fine.
[2013-02-25 20:54:52 -0500] faustrol1: Joel: lol
[2013-02-25 20:55:11 -0500] faustrol1: Joel: now it runs fine?
[2013-02-25 20:55:35 -0500] Joel: it runs fine after provision if I log in and run it as the vagrant user, and it takes a long ass time, as it's a lot data
[2013-02-25 20:55:55 -0500] rawtaz: oh my
[2013-02-25 20:55:57 -0500] Joel: however when bringing a machine up with vagrant it doesn't even seem to stop on the bash script block
[2013-02-25 20:56:11 -0500] rawtaz: the # of ppl
[2013-02-25 20:56:21 -0500] faustrol1: Joel: I only suggested test-kitchen as a way to breakdown and isolate testing of development of recipes
[2013-02-25 20:56:23 -0500] timsmith: btm: any chance you know if there's a bug filed for ruby bin_dir path being reported incorrectly from Ohai on Precise.  I can't find one, but I can't be the only person that's run into this
[2013-02-25 20:57:00 -0500] Joel: faustrol1: yeah I know the exact line of the issue, so, it's not much help :) just wish chef would show me the cli output w/ regards to the script.
[2013-02-25 20:58:08 -0500] Joel: a second or less on something that should take many many minutes.
[2013-02-25 20:58:33 -0500] faustrol1: Joel: you might try asking jtimberman directly about how best to get bash output on fail during test
[2013-02-25 20:59:06 -0500] pdoc: Hi, i was curious if the support for 'organizations' within hosted chef is available within open source chef server. I am looking for a way to host two or more of my startup's clients on the same chef server without letting either access each other's node attributes/data bags/etc.
[2013-02-25 20:59:41 -0500] timsmith: pdoc: That's not available in the open source chef release
[2013-02-25 20:59:52 -0500] mattray: pdoc: an organization is essentially a single open source Chef server
[2013-02-25 20:59:53 -0500] pdoc: timsmith: thank you
[2013-02-25 20:59:59 -0500] jtimberman: Joel: chef-client -l debug
[2013-02-25 21:00:10 -0500] jtimberman: will show STDOUT of commands that get run from execute or bash type resources.
[2013-02-25 21:00:22 -0500] pdoc: mattray: thanks for the clarification
[2013-02-25 21:00:32 -0500] Joel: jtimberman: I set "log_level": "debug", no output from the script, just that it completed
[2013-02-25 21:01:21 -0500] j^2: ok, i'm stumpped :( https://gist.github.com/jjasghar/f3da996694311c90c71f
[2013-02-25 21:01:35 -0500] j^2: is it because it cant find the gem?
[2013-02-25 21:02:01 -0500] j^2: but the gem is in gem list
[2013-02-25 21:02:06 -0500] Joel: j^2 where are you telling it about dynect_rest ?
[2013-02-25 21:02:18 -0500] j^2: line 22
[2013-02-25 21:02:26 -0500] j^2: that's the only think in the recipe
[2013-02-25 21:02:38 -0500] j^2: apart from an include about it
[2013-02-25 21:02:43 -0500] Joel: I see dynect_rr
[2013-02-25 21:02:43 -0500] j^2: which is one sec....
[2013-02-25 21:02:45 -0500] Joel: not dynect_rest
[2013-02-25 21:03:03 -0500] j^2: https://gist.github.com/4d17ec2d9647aced6613
[2013-02-25 21:03:07 -0500] j^2: https://gist.github.com/jjasghar/4d17ec2d9647aced6613
[2013-02-25 21:03:53 -0500] Joel: my comment still holds I think, unless I'm missing something here.
[2013-02-25 21:04:14 -0500] j^2: ah, it's in the provider
[2013-02-25 21:04:27 -0500] faustrol1: Joel: what comment?
[2013-02-25 21:04:36 -0500] Joel: faustrol1: in regards to j^2 .
[2013-02-25 21:04:46 -0500] j^2: Joel: https://gist.github.com/jjasghar/4d2d61e8103615432bfa
[2013-02-25 21:04:55 -0500] surge_: For the Cron resource, I thought it supported setting environment variables after this http://tickets.opscode.com/browse/CHEF-2745 was merged a year ago in version 10. Are custom ENV variables not yet supported for cron resource stanzas?
[2013-02-25 21:05:18 -0500] Joel: j^2 what do you see in your cookbooks dir?
[2013-02-25 21:06:00 -0500] j^2: Joel: https://gist.github.com/70b8e15a098d64227529
[2013-02-25 21:06:38 -0500] Joel: j^2 gemfile?
[2013-02-25 21:07:08 -0500] j^2: on the local box?
[2013-02-25 21:07:22 -0500] j^2: dynect_rest (0.4.3)
[2013-02-25 21:08:05 -0500] j^2: this is the stacktrace.out
[2013-02-25 21:08:07 -0500] j^2: https://gist.github.com/d758811102cdbe25d2fb
[2013-02-25 21:08:20 -0500] Joel: show me the Gemfile
[2013-02-25 21:08:39 -0500] j^2: where whould i have it?
[2013-02-25 21:09:02 -0500] Joel: same dir as your Vagrantfile would be my guess
[2013-02-25 21:09:13 -0500] j^2: i dont have Vagrant :(
[2013-02-25 21:09:18 -0500] Joel: oops, sorry
[2013-02-25 21:09:22 -0500] j^2: this is running as chef-client from my chef server
[2013-02-25 21:09:41 -0500] ssd7: COOK Code Review: https://plus.google.com/hangouts/_/b9d5deb9f21070ce3a7a0fa941f4dd0f2c3e680f?authuser=0&hl=en#
[2013-02-25 21:10:18 -0500] j^2: i must be missing somtehing obvious here
[2013-02-25 21:10:22 -0500] Joel: I always forget there's more world outside of what I work in :)
[2013-02-25 21:10:41 -0500] j^2: here's my gem list
[2013-02-25 21:10:42 -0500] j^2: https://gist.github.com/564549d2f5ec76db0ebc
[2013-02-25 21:10:51 -0500] faustrol1: :jtimberman thanks for the tip. I have fixed the vagrant vm hang issue on ubuntu 12 by using methods posted in the kitchen link you posted
[2013-02-25 21:11:13 -0500] j^2: Joel: i thought it was in realtion to this -> http://stackoverflow.com/questions/7098552/how-can-i-set-up-a-dependency-to-a-ruby-library-which-doesnt-exist-at-the-time
[2013-02-25 21:11:25 -0500] j^2: but doesnt seem that way
[2013-02-25 21:11:27 -0500] jtimberman: Opscode COOK code review: livestream http://youtu.be/PzawG_g5oss hangout https://plus.google.com/hangouts/_/b9d5deb9f21070ce3a7a0fa941f4dd0f2c3e680f
[2013-02-25 21:11:36 -0500] till_: is there an attribute in node[] which contains the version of my distribution? or the release name, e.g. 'lucid'
[2013-02-25 21:11:38 -0500] Joel: jtimberman: flipped over to using a perl script where I capture the output of the shell command and write it out to a log file.... f'n thing. No output, beats the shit out of me.
[2013-02-25 21:13:00 -0500] barefoot: till_: node[:lsb][:codename] ?
[2013-02-25 21:13:08 -0500] till_: YES
[2013-02-25 21:13:09 -0500] faustrol1: :jtimberman I turned off dnsmasq in Ubuntu 12.04 and I disable natdnsproxy1
[2013-02-25 21:13:11 -0500] till_: thank you
[2013-02-25 21:13:58 -0500] faustrol1: :jtimberman I can prolly renable natdnsproxy1 in custom Vagrantfile
[2013-02-25 21:14:49 -0500] maek: jtimberman: Im trying to use this percona_repo.rb and I noticed a single char typo thats brining the ship down. Whats the best way to get this fixed? PR + ospcode ticket? GH issue? ty
[2013-02-25 21:17:35 -0500] timsmith: maek: http://wiki.opscode.com/display/chef/How+to+Contribute
[2013-02-25 21:18:15 -0500] maek: timsmith: thanks. was hopping to avoid that for a character swap typo, but must play process :D
[2013-02-25 21:24:40 -0500] miah: i suspect you could still submit the ticket at ticket.opscode.com
[2013-02-25 21:24:47 -0500] miah: but you could also fix it if you did the cla
[2013-02-25 21:27:33 -0500] jkyle: I'm wondering if it's common to create a unique role for every node in an environment?
[2013-02-25 21:27:56 -0500] barefoot: ?
[2013-02-25 21:30:00 -0500] jkyle: well, say you have a role postgresql-master and dev,prod,staging environments. and you deploy to multiple zones. so each zone creates a variation on the db config. you can't put that in the environment file or in a generalized role file since it varies from zone to zone. I don't see many options for managing that besides creating one role per server
[2013-02-25 21:31:02 -0500] jkyle: seems some sort of namespaced data bag would work, but a lot of the community cookbooks aren't written that way
[2013-02-25 21:32:03 -0500] barefoot: does environments+templates not work for this?
[2013-02-25 21:32:22 -0500] faustrol1: jkyle: I was thinking along your data bag lines
[2013-02-25 21:33:13 -0500] faustrol1: jkyle: there seems to be a wide variance of design in the community cookbooks
[2013-02-25 21:33:21 -0500] jkyle: well, the pain is: either fork out and do something most of the core coobkooks don't seem to do and thus end up writing everything from scratch or leveral community work and ???
[2013-02-25 21:34:10 -0500] jkyle: seems an extra data type would be best, like a chef-project/nodes/*.json and then being able to apply node definitions directly to a target like you do roles and environments
[2013-02-25 21:36:23 -0500] jkyle: faustrol1: yeah, I'd previously gone down the "screw it, I'll write my own" path but there was top down pressure applied to using community cookbooks...which strips away various "custom" options
[2013-02-25 21:38:10 -0500] faustrol1: jkyle: I appreciate the "leverage the community cookbooks" ethos. I hate reinventing any wheel. and yet, if the wheel is broken?
[2013-02-25 21:39:32 -0500] faustrol1: jkyle: speaking of. What is your take on the postgres cookbook. I'm about to use that one just now!
[2013-02-25 21:40:03 -0500] faustrol1: jkyle: What is your take on the postgres cookbook? is/was supposed to be a question
[2013-02-25 21:40:14 -0500] jkyle: faustrol1: hehe, that's the one with its pg_hba config done in the roles
[2013-02-25 21:40:51 -0500] jkyle: there's no failover last I looked, like master/master. . . I'll need to revisit that. things change quickly enough
[2013-02-25 21:40:52 -0500] faustrol1: jkyle: lol. yes and I want to fiddle with that as well.
[2013-02-25 21:41:04 -0500] yfeldblum: dear public cookbook authors: stop using data bags; thanks!
[2013-02-25 21:42:01 -0500] miah: databags should be optional =)
[2013-02-25 21:42:24 -0500] jkyle: I extended it a bit with a create recipe so other recipes can request a db resource. it creates a db & db user and generates a password,
[2013-02-25 21:42:46 -0500] faustrol1: jkyle: re: failover. I'm adding some form of replication/failover to my postgres
[2013-02-25 21:43:05 -0500] yfeldblum: there may be a "my-cookbook::from-databags" recipe, but it should take a data-bag name as an optional node attribute, and that recipe should also be optional
[2013-02-25 21:43:16 -0500] jkyle: well, if you don't use databags you end up with a whole lot of very target specific configuration in roles...which doesn't work well in complex environments
[2013-02-25 21:43:46 -0500] yfeldblum: jkyle, not really; that's just one simple solution, but there are a wide variety of alternative solutions
[2013-02-25 21:44:17 -0500] jkyle: what would those be? (that was my original question :) )
[2013-02-25 21:44:38 -0500] faustrol1: yfeldblum: let's hear about all the options then.
[2013-02-25 21:44:38 -0500] yfeldblum: jkyle, i've found too many cases where cookbook authors impose a data-bag requirement and a data-bag structure on the cookbook user, and where my response is a big WTF
[2013-02-25 21:45:18 -0500] faustrol1: yfeldblum: indeed, should be optional. and in a separate, not required recipe
[2013-02-25 21:45:19 -0500] yfeldblum: faustrol1, expose a minimal interface so that i can control your cookbook from my cookbook, passing in all the data necessary as an argument (node attributes, custom resource attributes, method arguments, etc)
[2013-02-25 21:45:29 -0500] jkyle: I hardly find anyone writing about their solutions, work mostly solo. I think it'd be awesome if there were some official "common solutions to common problems" resource
[2013-02-25 21:46:03 -0500] yfeldblum: faustrol1, the "from-data-bag" recipe would just be a simple canonical heres-how-you-can-do-it-with-data-bags fully-functional example
[2013-02-25 21:46:06 -0500] jkyle: yfeldblum: ah, that's the "write two cookbooks for every problem" method, saw a write up on that in a devops blog
[2013-02-25 21:46:23 -0500] yfeldblum: jkyle, there is, but it's not what i'm talking about
[2013-02-25 21:46:34 -0500] faustrol1: jkyle: Yes. I like the idea of a best practices conversation
[2013-02-25 21:46:37 -0500] jkyle: yfeldblum: said to get rid of data bags, put bare minimum in roles, and write a cookbook to do the work
[2013-02-25 21:47:02 -0500] yfeldblum: jkyle, well yes, i agree with that
[2013-02-25 21:47:26 -0500] jkyle: but it seems to raise the question of "what are data bags for then?".
[2013-02-25 21:47:49 -0500] yfeldblum: jkyle, data bags are for *you* to use, not for public cookbook authors to impose on you
[2013-02-25 21:47:54 -0500] faustrol1: jkyle: I saw mention that the apache2 cookbook was a kind of best practices example
[2013-02-25 21:48:19 -0500] yfeldblum: jkyle, *you* loop over the data bag items in your own simple recipe, and call into the public cookbook recipe/resource/definition/method/etc
[2013-02-25 21:48:20 -0500] faustrol1: jkyle: the apache2 cookbook looks relatively simple.
[2013-02-25 21:48:58 -0500] yfeldblum: jkyle, i'm ok with cookbooks shipping a non-authoritative recipe that does that same loop so you can just use that if you want
[2013-02-25 21:49:30 -0500] yfeldblum: jkyle, but it bugs me when a public cookbook that solves real problems - and does it mostly-well - fails hard because i don't want to use data-bags or that particular data-bag structure
[2013-02-25 21:49:35 -0500] jkyle: I think what's missing is how chef is envisioned as being used..which is sort of a best practices. As in, should every user of chef be writing their own cookbooks even for simple tasks (the include general cookbook and specialize it) or should a well written cookbook allow the framework to be simply used through roles/data bags/etc. without the need to maintain a set of custom in house coobkooks
[2013-02-25 21:50:53 -0500] faustrol1: yfeldblum: I agree with your sentiment about the design of public cookbooks starting with the most simple and standardized, low config uses
[2013-02-25 21:51:07 -0500] yfeldblum: jkyle, the only mandatory interfaces for a public cookbook should node attributes, definition attributes, resource attributes, and method arguments
[2013-02-25 21:51:35 -0500] miah: ^- agree
[2013-02-25 21:51:51 -0500] yfeldblum: jkyle, any roles-based, tags-based, or data-bags-based interface for a public cookbook should be a strictly-optional wrapper around the node-attributes, definition-attributes, resource-attributes, or method-arguments interface
[2013-02-25 21:51:56 -0500] miah: though i avoid definitions. im also trying to move all cookbooks to resource providers and less code in my recipes
[2013-02-25 21:53:06 -0500] yfeldblum: miah, i've seen too many cases of people using definitions when what they need are resources & providers ... but i've also seen too many cases of just the reverse, where people are using resources & providers when a simple definition would be far more correct and far simpler
[2013-02-25 21:54:00 -0500] yfeldblum: miah, i think they're both useful in different circumstances
[2013-02-25 21:54:12 -0500] faustrol1: yfeldblum: the apache2 cookbook seems to use many definitions
[2013-02-25 21:54:13 -0500] miah: i suppose
[2013-02-25 21:54:48 -0500] faustrol1: yfeldblum: what are your examples of well designed cookbooks?
[2013-02-25 21:55:13 -0500] yfeldblum: faustrol1, that cookbook comes from the era before lightweight resources & providers; its choice to use definitions does not reflect an assessment that they were better for the purpose than resources & providers, only that definitions existed :D
[2013-02-25 21:56:06 -0500] faustrol1: yfeldblum: lol. so, do you have an example of a good cookbook that balances defs and lwrp?
[2013-02-25 21:56:29 -0500] yfeldblum: faustrol1, this comes from helping people and answering questions in #chef
[2013-02-25 21:56:38 -0500] faustrol1: i'm looking for model cookbooks. any candidates?
[2013-02-25 21:58:44 -0500] faustrol1: yfeldblum: I hear ya. and I'm looking for an example that implements the best of recent practices.
[2013-02-25 21:59:22 -0500] miah: https://github.com/miah/chef-redis =)
[2013-02-25 22:03:42 -0500] benP_: Is anyone here running an open source chef server on CentOS5 (or any EL v5)? I'm getting an error from Pedant immediately after an install.
[2013-02-25 22:03:53 -0500] faustrol1: miah: are you happy with that cookbook?
[2013-02-25 22:05:15 -0500] miah: getting there
[2013-02-25 22:05:19 -0500] miah: its not perfect yet. but getting ther e=)
[2013-02-25 22:05:49 -0500] miah: enough people use it that its doing something right.
[2013-02-25 22:06:03 -0500] yfeldblum: miah, looks decent; i'd use inline-recipe-eval style in the providers though
[2013-02-25 22:06:30 -0500] yfeldblum: miah, but the separation of data-bag from core is nice; the provision of a simple "install" recipe is nice, etc
[2013-02-25 22:06:59 -0500] faustrol1: miah: I see you moved to jamie and took out test-kitchen. thoughts on that?
[2013-02-25 22:07:38 -0500] miah: jamie and test-kitchen are the same at this point
[2013-02-25 22:07:45 -0500] miah: since jamie is being renamed to test-kitchen 1.0
[2013-02-25 22:08:32 -0500] yfeldblum: jamie got promoted
[2013-02-25 22:09:53 -0500] yfeldblum: miah, just to be safe, might want to document your library classes with either "GTFO" or "Undocumented: Not Public API"
[2013-02-25 22:09:54 -0500] miah: because fletcher is awesome
[2013-02-25 22:10:08 -0500] faustrol1: is there a github repo for test-kitchen 1.0?
[2013-02-25 22:10:12 -0500] miah: yfeldblum: ya. there is much documentation cleanup to be done. the README.md is pretty bad at this point
[2013-02-25 22:10:21 -0500] yfeldblum: miah, because somebody is going to use those methods it and then complain when you change them :D
[2013-02-25 22:10:28 -0500] miah: faustrol1: https://github.com/opscode/test-kitchen/tree/1.0
[2013-02-25 22:11:11 -0500] miah: yfeldblum: ya. dully noted
[2013-02-25 22:12:18 -0500] Loadx: Hi all, I reduced this test-case last night. I'm trying to figure out why a folder with 770 permissions wouldn't be writeatable to a user in the same group. http://pastebin.com/Zr11hgFz
[2013-02-25 22:12:33 -0500] faustrol1: :miah thanks
[2013-02-25 22:12:56 -0500] sethvargo: Loadx: has the gid changed?
[2013-02-25 22:13:10 -0500] Loadx: id shows the correct information.
[2013-02-25 22:13:27 -0500] sethvargo: hmm then I'm not sure. my first guess would be that the gid's differ. what error are u getting?
[2013-02-25 22:13:31 -0500] miah: Loadx: has the gid changed from when the process was started?
[2013-02-25 22:13:49 -0500] concertman: Hey all is anyone around that can help troubleshoot some issues I'm having with the nagios 4.0 community cookbook?
[2013-02-25 22:13:53 -0500] faustrol1: yfeldblum: any example of the the inline-recipe-eval in providers style you mentioned
[2013-02-25 22:13:53 -0500] miah: or was the gid added as a supplementary after the process was started
[2013-02-25 22:13:56 -0500] Loadx: miah: as far as i understand, no.
[2013-02-25 22:14:20 -0500] faustrol1: miah: thanks, am now trying test-kitchen 1.0
[2013-02-25 22:14:45 -0500] Loadx: sethvargo: the error i get is permission denied. let me fire up the machiens and ill paste the error.
[2013-02-25 22:14:47 -0500] miah: coolbeans
[2013-02-25 22:15:21 -0500] yfeldblum: faustrol1, this is from a while ago - https://gist.github.com/yfeldblum/d85be145f3ff824ccc07 - something similar is built into chef-11 though
[2013-02-25 22:16:38 -0500] yfeldblum: faustrol1, the point is that the normal provider action method runs your ruby code during the converge phase (not compile phase), and declaring resource just adds those resources to the resource_collection but doesn't immediately converge those resources inside the calling provider action
[2013-02-25 22:17:47 -0500] concertman: If someone wants to take a look at it here's what I'm getting... http://pastebin.com/x1vhaBCR .   I don't have a template databag so I think that might be part of it but in the documentation it says that templates are options.
[2013-02-25 22:18:08 -0500] flaccid: hmm Could not get http://community.opscode.com/api/v1/cookbooks/dsh because 404 Not Found! with librarian :(
[2013-02-25 22:19:33 -0500] amccloud: Chef::Exceptions::MissingLibrary: You must have ruby-shadow installed for password support!
[2013-02-25 22:19:34 -0500] amccloud: https://gist.github.com/amccloud/020abe7740a952c09c84
[2013-02-25 22:19:52 -0500] gleam: chef_gem ruby-shadow
[2013-02-25 22:19:54 -0500] amccloud: Anyone know why I would get this only on my chef-server machine
[2013-02-25 22:19:55 -0500] faustrol1: yfeldlbum: thanks I like the look of this
[2013-02-25 22:20:16 -0500] amccloud: gleam: Why is it only on the machine that has chef-server?
[2013-02-25 22:20:34 -0500] flaccid: hmm, where is this dsh cookbook :(
[2013-02-25 22:20:50 -0500] Loadx: oh snap.. my testcase was bad
[2013-02-25 22:21:14 -0500] flaccid: ah https://github.com/rcbops-cookbooks/dsh
[2013-02-25 22:27:30 -0500] flaccid: github 502 bad gateway now, dangit
[2013-02-25 22:32:53 -0500] amccloud: gleam Theat will patch my issue but why is it happening to begin with.
[2013-02-25 22:34:12 -0500] thehar: God, it's been too long.
[2013-02-25 22:40:39 -0500] amccloud: jtimberman do you know where I can find some info on the whole ruby-shadow issue? I've been looking around tickets but all the reports seem to be closed with no explanation.
[2013-02-25 22:42:59 -0500] zts: amccloud: you need to have ruby-shadow installed to manage passwords.  If you are only seeing the problem on your chef server, then there's something different about it and your other servers
[2013-02-25 22:43:31 -0500] zts: amccloud: I believe more recent omnibus chef-client installs bundle ruby-shadow, so perhaps that's something to look at
[2013-02-25 22:43:56 -0500] miah: or you're not using chef to manage passwords on other hosts
[2013-02-25 22:44:30 -0500] amccloud: zts: I'm using the user resource that comes with chef. If ruby-shadow is a dependency why doesn't it come with chef?
[2013-02-25 22:45:46 -0500] Joel: jtimberman: had a < in one of my passwords that wasn't escaping out properly.
[2013-02-25 22:45:55 -0500] zts: amccloud: I've been annoyed by that in the past, but it's documented, easily solved, and not an issue if you're installing current chef from the omnibus (chef-full) packages
[2013-02-25 22:46:30 -0500] amccloud: zts you mean chef 11?
[2013-02-25 22:47:08 -0500] zts: amccloud: no, I mean from 10.<something>.
[2013-02-25 22:47:21 -0500] zts: amccloud: 10.14.0, apparently
[2013-02-25 22:50:31 -0500] amccloud: zts I'm on 10.18.2 so I guess it's because I used the rubygems installer.
[2013-02-25 22:52:28 -0500] zts: amccloud: indeed it would be.  Note that ruby-shadow has a "native" part, which means it needs a compiler etc on the system to build the gem
[2013-02-25 22:53:08 -0500] zts: amccloud: if you already have one installed, you can go ahead and install the gem (either on the command-line, or using the chef_gem resource) - otherwise, your operating system might have a package that will give you the built version
[2013-02-25 22:55:04 -0500] amccloud_: Okay thanks
[2013-02-25 22:55:08 -0500] awgross: anyone have suggestions for a swapfile and/or disk formatting cookbook?
[2013-02-25 22:56:39 -0500] sethvargo: awgross: I have a swap cookbook out there
[2013-02-25 22:56:58 -0500] sethvargo: http://community.opscode.com/cookbooks/swap
[2013-02-25 22:57:05 -0500] awgross: i saw yours sethvargo, looked pretty good
[2013-02-25 22:57:18 -0500] sethvargo: awgross: lemme know if it's missing anything and I can fix it :)
[2013-02-25 22:57:18 -0500] awgross: was pondering making some changes to use fallocate instead of DD if possible
[2013-02-25 22:57:36 -0500] awgross: mostly because DD takes forever and fallocate is fast
[2013-02-25 22:57:53 -0500] awgross: but it only works on newer filesystems, like ext4 and maybe xfs?
[2013-02-25 22:57:59 -0500] sethvargo: awgross: as long as you can gracefully fallback to fallocate (since it's not avail on all systems)
[2013-02-25 22:58:10 -0500] sethvargo: DD was the LCD
[2013-02-25 22:58:15 -0500] awgross: sethvargo: agreed
[2013-02-25 22:58:21 -0500] thehar: sethvargo: !
[2013-02-25 22:58:30 -0500] sethvargo: thehar: !!
[2013-02-25 22:58:35 -0500] thehar: sethvargo: +++
[2013-02-25 22:59:16 -0500] thehar: Arf!
[2013-02-25 23:00:13 -0500] zuazo: :q
[2013-02-25 23:00:16 -0500] zuazo: ups
[2013-02-25 23:00:24 -0500] amccloud: zts on an unrelated note. would you happen to know how to update the ip address in the node list?
[2013-02-25 23:00:29 -0500] amccloud: in the webui
[2013-02-25 23:01:18 -0500] amccloud_: ugh my connection is flaky
[2013-02-25 23:04:39 -0500] knuckolls: hey does anyone know how to make sure that people can't overwrite a frozen cookbook with knife cookbook upload <cookbook> --force
[2013-02-25 23:04:42 -0500] knuckolls: w/ hosted chef
[2013-02-25 23:06:36 -0500] mattray: knuckolls: use the role-based access controls to lock them out completely?
[2013-02-25 23:07:01 -0500] knuckolls: as far as locking them out from uploading cookbooks at all?
[2013-02-25 23:07:02 -0500] awgross: anyone have leads on the second part of my question, solid cookbooks based around formatting drives?
[2013-02-25 23:07:34 -0500] miah: i started writing one but didnt finish.
[2013-02-25 23:07:41 -0500] miah: will probably have to pick it up again soon
[2013-02-25 23:08:32 -0500] mattray: the drbd did a little
[2013-02-25 23:09:42 -0500] mattray: awgross: what do you need exactly?
[2013-02-25 23:10:05 -0500] eliklein: hey all.. does anyone know if this PR is any good? https://github.com/jumski/users/commit/0901f16419d54b508119787a9643cdd8b1f6eed0
[2013-02-25 23:10:24 -0500] eliklein: it's something that allows search to work in the users cookbook when using chef solo
[2013-02-25 23:11:04 -0500] eliklein: i suppose i could just try it.. just wanted to see if it's worth bothering.
[2013-02-25 23:11:34 -0500] awgross: mattray: at the moment i some hacky scripts around unmounting a drive, formatting from ext3 -> ext4, then remounting it, with some 'safety' checks to make sure i dont blow up existing data on the drive
[2013-02-25 23:11:56 -0500] awgross: since i am rewritign the recipe that the code is in, i figured i may as well poke around for more robust solutions than a couple shell commands
[2013-02-25 23:12:22 -0500] mattray: awgross: the drbd one is similar, mkfs and mounts with a guard: https://github.com/opscode-cookbooks/drbd/blob/master/recipes/pair.rb#L65
[2013-02-25 23:13:02 -0500] mattray: but it's not a generic solution by any means
[2013-02-25 23:13:26 -0500] awgross: thanks mattray ill take a look
[2013-02-25 23:20:32 -0500] ashmckenzie: hi, anyone around to answer a cron related question ?
[2013-02-25 23:25:34 -0500] organicveggie: Strange problem with Chef 0.9.18 on CentOS 6.3. Can't seem to get chef-client to recognize a version for a package. Always insists there is no matching version, even though I can find it with yum. Any bright ideas?
[2013-02-25 23:26:33 -0500] raizyr: anyone got any info about working out idempotency of the mount resource?
[2013-02-25 23:27:19 -0500] amccloud: raizyr: what do you mean?
[2013-02-25 23:27:47 -0500] laurent\: raizyr:
[2013-02-25 23:27:48 -0500] laurent\:     Mount f[1] do
[2013-02-25 23:27:49 -0500] laurent\:       not_if "awk 'BEGIN {e=1} $2 ~ /^#{f[1].gsub(/.+\/$/,"").gsub(/\//,"\\/")}\\/?$/ {e=0} END {exit e}' /proc/mounts"
[2013-02-25 23:28:03 -0500] laurent\: ugly :)
[2013-02-25 23:28:19 -0500] raizyr: laurent: thanks, I was afraid of that
[2013-02-25 23:28:34 -0500] amccloud: Oh many I must go read up. I thought it was idempotent already
[2013-02-25 23:28:51 -0500] miah: ouch
[2013-02-25 23:29:03 -0500] raizyr: yeah, I was sort of surprised that it wasn't too,  oh well
[2013-02-25 23:30:20 -0500] amccloud: the fact that it's not doesn't seem to be documented
[2013-02-25 23:30:26 -0500] laurent\: oh yeah, it should. this is something to workaround a bug
[2013-02-25 23:30:37 -0500] amccloud: oh okay
[2013-02-25 23:31:12 -0500] laurent\: http://tickets.opscode.com/browse/CHEF-3060
[2013-02-25 23:32:09 -0500] laurent\: it's a bit late, i should admit i'm not able to explain what my not_if really does :)
[2013-02-25 23:32:33 -0500] laurent\: i'm still using it, that's all i can say :)
[2013-02-25 23:33:49 -0500] laurent\: looks like i should have removed it a long time ago :)
[2013-02-25 23:42:20 -0500] spencerowen: Hey All! I'm trying to create my first cookbook, Are there any resources for making a dynamic cookbook that lets you choose which version of a product to install? Sometimes I need version 1.0 of a program, sometimes 1.1, 1.2, 1.3 ect..
[2013-02-25 23:44:09 -0500] mattupstate: spencerowen: look at how other cookbooks use attributes to specify the version to install for a given piece of software
[2013-02-25 23:44:29 -0500] Joel: is it possible to set ruby variables in a chef recipe from a ruby block to be used later on?
[2013-02-25 23:44:36 -0500] mattupstate: specify a default version but let users of the cookbook override the value with a node attribute
[2013-02-25 23:44:52 -0500] Joel: for example, I'm trying to pull a password out of a yaml file that's going to be checked out, this two pass stuff is biting me
[2013-02-25 23:46:24 -0500] miah: why use ruby_block at all?
[2013-02-25 23:47:31 -0500] Joel: miah: that's not anywhere near the important part of that question
[2013-02-25 23:48:24 -0500] Joel: ruby block or not, you still get hit by two pass.
[2013-02-25 23:49:09 -0500] miah: how so?
[2013-02-25 23:49:46 -0500] Joel: miah try making a call to open a file in a recipe after you check it out. see what happens.
[2013-02-25 23:50:08 -0500] miah: write a library and do it right
[2013-02-25 23:50:20 -0500] Joel: I would still be hit by two pass.
[2013-02-25 23:50:23 -0500] miah: or, set actions to :nothing and use notifications
[2013-02-25 23:50:27 -0500] Joel: But I do enjoy your attempt to tell me I'm doing it wrong.
[2013-02-25 23:50:42 -0500] miah: sounds to me like you dont want help, so enjoy.
[2013-02-25 23:50:51 -0500] Joel: I've already got it working
[2013-02-25 23:50:58 -0500] Joel: and you're not helping, just attempting to insult me
[2013-02-25 23:51:10 -0500] Joel: but trolls on irc isn't anything new :)
[2013-02-25 23:51:23 -0500] miah: if thats how you feel thats fine, feel free to ignore me.
[2013-02-25 23:51:34 -0500] Joel: miah: like wise.
[2013-02-25 23:58:07 -0500] allaire: When bootstrapping my chef, A lot of WARN and INFO are outputted, nothing seems really serious, normal behaviour or you guys always try to get rid of them?
