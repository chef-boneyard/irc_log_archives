[2013-02-08 00:00:13 -0500] clundquist: in chef.json then you will need keys under override_attribute
[2013-02-08 00:01:17 -0500] leifmadsen: well lets see if I use override_attributes if that actually does something
[2013-02-08 00:01:53 -0500] clundquist: looking at http://wiki.opscode.com/display/chef/Attributes
[2013-02-08 00:02:02 -0500] clundquist: it might just be "override", guessing that "normal" is there
[2013-02-08 00:02:07 -0500] clundquist: under node attributes
[2013-02-08 00:02:48 -0500] leifmadsen: ya I understand the attribute precedence, just not how they are necessarily applied from this chef.json file in a server environment
[2013-02-08 00:02:54 -0500] leifmadsen: within Vagrant
[2013-02-08 00:03:10 -0500] clundquist: chef.json is loaded like having a json file with chef-solo
[2013-02-08 00:07:18 -0500] shennyg: leifmadsen: this works for me: https://gist.github.com/shennyg/be45d45b923afdb4b462
[2013-02-08 00:07:57 -0500] leifmadsen: shennyg: ya I'm setting attributes in the chef.json but it isn't overriding what is set in the cookbooks attribute file
[2013-02-08 00:08:13 -0500] leifmadsen: I set attributes all the time, but this overrides aren't apply for some reason here
[2013-02-08 00:08:29 -0500] shennyg: for a specific cookbook or all of them?
[2013-02-08 00:08:43 -0500] kallistec: leifmadsen: the node json for the -j flag can't set default or overrides.
[2013-02-08 00:08:47 -0500] leifmadsen: specific cookbook since it's the only one I'm looking at in terms of the file being written
[2013-02-08 00:09:09 -0500] kallistec: leifmadsen: those are more or less reserved for environments and roles
[2013-02-08 00:09:17 -0500] leifmadsen: kallistec: gotcha, thanks that helps towards this resolution I think. So basically if things are not at a default, I can't override from the Vragrantfile... ?
[2013-02-08 00:09:33 -0500] clundquist: make a role with override_attributes
[2013-02-08 00:09:36 -0500] clundquist: add the role
[2013-02-08 00:10:08 -0500] leifmadsen: ya I don't want to add a role here as these changes are only necessary when being executed in vagrant
[2013-02-08 00:10:08 -0500] clundquist: but really, you probably don't care much about vagrant, you just want test your cookbook
[2013-02-08 00:10:22 -0500] clundquist: so you should probably be using jamie / testkitchen 1.0
[2013-02-08 00:10:29 -0500] clundquist: https://github.com/jamie-ci
[2013-02-08 00:10:45 -0500] leifmadsen: the cookbook works fine -- I just need the override to only happen in vagrant because it's controlling what points at a chef server
[2013-02-08 00:11:00 -0500] leifmadsen: otherwise it tries to connect to the production server, not the one in my vagrant environment
[2013-02-08 00:11:17 -0500] leifmadsen: (which is a copy of production spun up via chef-solo)
[2013-02-08 00:14:59 -0500] leifmadsen: ya, seems you can't override a normal attribute with the chef.json, but you can override a default
[2013-02-08 00:15:03 -0500] leifmadsen: burn
[2013-02-08 00:15:20 -0500] clundquist: seems like you painted yourself into a corner
[2013-02-08 00:15:27 -0500] clundquist: chef-solo doesn't have envs
[2013-02-08 00:15:34 -0500] clundquist: so I would suggest roles
[2013-02-08 00:15:36 -0500] clundquist: or jamie
[2013-02-08 00:15:40 -0500] leifmadsen: well I'm not using solo here
[2013-02-08 00:15:51 -0500] clundquist: then envs would be easy
[2013-02-08 00:15:54 -0500] leifmadsen: either way thanks anyways
[2013-02-08 00:21:43 -0500] pmccallick: can anyone tell me how to use the install.sh script to install a specific version of chef on an existing node?
[2013-02-08 00:24:06 -0500] kallistec: pmccallick: you can download it and then run it with -v VERSION
[2013-02-08 00:24:27 -0500] kallistec: if you want to pipe it, you need some finesse
[2013-02-08 00:24:52 -0500] pmccallick: I do want to pipe it from curl
[2013-02-08 00:24:58 -0500] kallistec: curl -L "https://www.opscode.com/chef/install.sh" | sudo bash -s -- -v 11.0.0.beta.1
[2013-02-08 00:25:28 -0500] pmccallick: perfect, thanks.
[2013-02-08 00:25:34 -0500] kallistec: np
[2013-02-08 00:27:01 -0500] HarvesterOfBeer: I'm running into a problem witn chef 11, trying to bootstrap a windows box with knife-windows
[2013-02-08 00:27:32 -0500] HarvesterOfBeer: it always comes back with this error:
[2013-02-08 00:28:11 -0500] HarvesterOfBeer: Bootstrapping Chef on windows
[2013-02-08 00:28:12 -0500] HarvesterOfBeer: ERROR: Network Error: getaddrinfo: nodename nor servname provided, or not known
[2013-02-08 00:28:14 -0500] HarvesterOfBeer: Check your knife configuration and network settings
[2013-02-08 00:28:32 -0500] HarvesterOfBeer: I can ping the machine by domain name, and other knife commands work
[2013-02-08 00:29:01 -0500] pmccallick: what version of knife-windows and chef do you have on your admin box?  I had to upgrade to the latest to get the bootstrap working.
[2013-02-08 00:29:26 -0500] pmccallick: though i had a different error than that.  it would just fail silently
[2013-02-08 00:29:34 -0500] pmccallick: also had to go to ruby 1.9.3
[2013-02-08 00:29:38 -0500] iverson0881: i had to upgrade to 10.20.0 last night after bootstrapping broke for me
[2013-02-08 00:29:53 -0500] HarvesterOfBeer: I just installed them yesterday, so they should be current
[2013-02-08 00:30:17 -0500] pmccallick: gem list | grep windows
[2013-02-08 00:31:31 -0500] HarvesterOfBeer: knife-windows is 0.5.12
[2013-02-08 00:31:46 -0500] HarvesterOfBeer: chef is 11
[2013-02-08 00:32:01 -0500] HarvesterOfBeer: omnibus install on a OS X 10.8 box
[2013-02-08 00:32:39 -0500] pmccallick: not sure, that all worked for me
[2013-02-08 00:32:43 -0500] HarvesterOfBeer: hrm
[2013-02-08 00:34:33 -0500] pmccallick: did you enable winrm on the target machine?
[2013-02-08 00:35:05 -0500] HarvesterOfBeer: not yet, but it doesn;t appear to be getting that far
[2013-02-08 00:35:42 -0500] HarvesterOfBeer: in the past, I've done bootstrapping and the winrm errors are things like "failure to authenticate" or "connection refused"
[2013-02-08 00:37:01 -0500] kallistec: HarvesterOfBeer: that error definitely means knife can't convert the hostname to IP
[2013-02-08 00:37:58 -0500] HarvesterOfBeer: kallistec: yeah, that was my assumption
[2013-02-08 00:38:25 -0500] HarvesterOfBeer: not sure why, though. As I said, I can do a ping and hit the machine by fqdn. I can run dig and get the A record
[2013-02-08 00:38:50 -0500] kallistec: and absolutely not a typo?
[2013-02-08 00:39:25 -0500] HarvesterOfBeer: nope
[2013-02-08 00:39:39 -0500] HarvesterOfBeer: also fails if I provide an IP instead of fqdn
[2013-02-08 00:42:06 -0500] darkdust: is it possible to have chef-client load a specific recipe for a node?
[2013-02-08 00:42:23 -0500] kallistec: darkdust: -o flag
[2013-02-08 00:42:56 -0500] darkdust: kallistec: thanks. i will look into that option. funny i must have overlooked that in the man page.
[2013-02-08 00:42:59 -0500] kallistec: darkdust: look at the code sample in the chef-apply section http://www.opscode.com/blog/2013/02/06/chef-11-in-depth-client-improvements/
[2013-02-08 00:43:41 -0500] kallistec: darkdust: may not be in the manpage yet, it was a community submitted patch and those sometimes fall through the documentation cracks :/
[2013-02-08 00:43:59 -0500] kallistec: but the manpages are sourced from markdown so it's really easy to fix
[2013-02-08 00:44:02 -0500] darkdust: kallistec: i was going to read that. :)  d
[2013-02-08 00:44:39 -0500] kallistec: darkdust: https://github.com/opscode/chef/tree/master/distro/common/markdown if you have a moment to make a patch
[2013-02-08 00:45:54 -0500] darkdust: kallistec: once i figure out how it works, then i will take a moment and update the markdown.
[2013-02-08 00:46:17 -0500] kallistec: darkdust: that would be awesome, thanks in advance.
[2013-02-08 00:46:29 -0500] darkdust: kallistec: thanks for your help
[2013-02-08 00:46:31 -0500] darkdust: !
[2013-02-08 00:49:32 -0500] stabby: just upgraded to chef 11.2, now i'm getting undefined method `attribute' for Chef::Resource::Ark:Class
[2013-02-08 00:49:37 -0500] stabby: when compiling ark cookbook
[2013-02-08 00:49:53 -0500] stabby: any thoughts?
[2013-02-08 00:52:50 -0500] kallistec: stabby: known issue, cookbook is using LWRP DSL outside of LWRP
[2013-02-08 00:53:03 -0500] kallistec: there's a COOK ticket somewhere
[2013-02-08 00:53:17 -0500] darkdust: kallistec: using -o removes the unspecified cookbooks from the node's cache. do you know to reenable the other cookbooks on the next chef-client run without -o option?
[2013-02-08 01:03:52 -0500] HarvesterOfBeer: kallistec: well, I'm trying the bootstrap from another node and this time it is working
[2013-02-08 01:04:11 -0500] HarvesterOfBeer: likely some local networking issue
[2013-02-08 01:26:47 -0500] aboudreault: shouldn't my bash [...] user "vagrant" execute my code with that user?
[2013-02-08 01:31:22 -0500] aboudreault: ah nvm. I was using #{user} when I should have only use user.
[2013-02-08 01:51:04 -0500] miah: you only need to do #{} when you're embedding ruby in a string.
[2013-02-08 01:51:19 -0500] miah: eg, "the quick brown #{ animal } ran."
[2013-02-08 01:51:31 -0500] miah: where animal is a variable
[2013-02-08 01:51:44 -0500] miah: but it can be any ruby inside the #{}
[2013-02-08 01:55:36 -0500] patrocinio: Good evening. I'm trying to upload a cookbook (/usr/bin/knife  cookbook upload eduardoware-mysql), and I'm getting the following msg:
[2013-02-08 01:55:37 -0500] patrocinio: ERROR: You authenticated successfully to https://api.opscode.com/organizations/eduware2 as ed-rock but you are not authorized for this action
[2013-02-08 01:55:37 -0500] patrocinio: Response:  Merb::ControllerExceptions::Forbidden
[2013-02-08 01:55:37 -0500] patrocinio: Any idea what I'm doing wrong?
[2013-02-08 01:56:35 -0500] miah: guh. if you rm a config file generated by unicorn_config, it doesn't replace it on the next run.
[2013-02-08 01:56:38 -0500] miah: w t f
[2013-02-08 02:00:06 -0500] _mrjs: hi - is there a way to set the mode on files deployed via git?
[2013-02-08 02:06:42 -0500] yfeldblum: _mrjs, git maintain modes
[2013-02-08 02:06:53 -0500] cobragoat: is the opscode ark cookbook compatible with the changes to attributes in chef 11? is there a better alternative? I am trying to get the elasticsearch cookbook to work and it ark keeps breaking
[2013-02-08 02:12:56 -0500] _mrjs: thanks yfeldblum
[2013-02-08 02:25:31 -0500] vluther: ------------
[2013-02-08 02:25:32 -0500] vluther: Undefined node attribute or method `known_hosts' on `node'
[2013-02-08 02:25:33 -0500] vluther: I think I hit a compatibility bug..
[2013-02-08 02:25:51 -0500] vluther: or rather, a chef upgrade bug
[2013-02-08 05:26:50 -0500] freezey: if i wanted to set something specific in a template based on the chef servers role how would you go about doing this? Could you do a search within an if statement in a template? Or would you set a variable in a template like something = search(node, role:whatever)
[2013-02-08 07:29:59 -0500] tolland: clearly all the investment cash that is flowing into chef is being spent on extra large monitors
[2013-02-08 07:31:42 -0500] tolland: because I have to expend the hosted chef environemtnts show page to 1638 pixels before it all fits on and there is no horizontal scrolling
[2013-02-08 07:32:56 -0500] Mithrandir: apart from laptops, can you get that small screens nowadays?
[2013-02-08 07:33:23 -0500] Mithrandir: 1080p has been the norm for a while and people are moving to 1440p which isn't terribly expensive any longer
[2013-02-08 07:40:04 -0500] tolland: but its unnecessary
[2013-02-08 07:58:15 -0500] crazysim: that page is odd too
[2013-02-08 07:58:24 -0500] crazysim: i was like wtf, this 1440x900 monitor doesn't fit
[2013-02-08 07:58:38 -0500] crazysim: what the hell kind of monitors do they have at opscode
[2013-02-08 07:59:04 -0500] crazysim: does not one of them literally not own a 15" macbook pro?
[2013-02-08 08:00:01 -0500] crazysim: or even an 13" or whatever?
[2013-02-08 08:02:03 -0500] crazysim: in any case, i guess i can make a chrome extension to whittle that stupidity down
[2013-02-08 08:02:13 -0500] crazysim: :)
[2013-02-08 08:03:03 -0500] crazysim: made a tiny one for the play framework site with their big goddamn fixed header atop.
[2013-02-08 08:11:41 -0500] Osax: Q: does chef server + clients nodes need to run same version of ruby or can I have chef server on ruby 1.8.7 & clients on 1.93?
[2013-02-08 08:15:25 -0500] tolland: call me crazy
[2013-02-08 08:15:45 -0500] tolland: but i like to have 2 a4 sized browser windows next to each other
[2013-02-08 08:16:00 -0500] tolland: usually one is hosted chef
[2013-02-08 08:16:07 -0500] tolland: and the other is the instructions
[2013-02-08 08:16:47 -0500] tolland: crazysim: it would be useful, as google estate has the same width creeping
[2013-02-08 08:17:30 -0500] tolland: gah! 600x800 should be enough for anyone
[2013-02-08 08:17:36 -0500] crazysim: tolland: eg. https://github.com/crazysim/play-framework-project-site-tweaks
[2013-02-08 08:17:53 -0500] crazysim: if you know a little css i guess you can bend this to your bidding
[2013-02-08 08:17:59 -0500] crazysim: for the hosted chef site
[2013-02-08 08:18:18 -0500] crazysim: yeah, i don't know about 600x800 but i was having problems at 1440x900
[2013-02-08 08:21:18 -0500] tolland: how to see which version of a cookbook a node is fixed to?
[2013-02-08 08:21:35 -0500] tolland: do I have to look that up explicitly
[2013-02-08 08:21:45 -0500] tolland: or is there some way to see which one it ran last?
[2013-02-08 08:36:51 -0500] ttgb: Anyone know if the cloud:public_ipv4 value from the new linode plugin in Ohai 6.16.0 is expected to be null?
[2013-02-08 08:42:08 -0500] paige[m]: :/
[2013-02-08 09:34:09 -0500] stoked: trying to install install chef 11.04 on centos6 x64
[2013-02-08 09:34:21 -0500] stoked: after running the chef-server-ctl reconfigure it bails
[2013-02-08 09:35:19 -0500] stoked: http://pastebin.com/ZjRY0hRz
[2013-02-08 09:52:47 -0500] stoked: grrr chef-solr wouldn't start because it couldn't resolve the hostname
[2013-02-08 10:35:00 -0500] luisico: ity
[2013-02-08 11:28:50 -0500] praddy: hey guys, I am trying to use the graphite cookbook from https://github.com/hw-cookbooks/graphite which in turn uses the runit cookbook from opscode for configuring carbon to run under runit on ubuntu 12.04
[2013-02-08 11:29:09 -0500] praddy: the problem is I am getting a [2013-02-08T11:24:20+00:00] FATAL: NameError: Cannot find a resource for runit_service on ubuntu version 12.04
[2013-02-08 11:29:28 -0500] praddy: runit_service is definition in runit cookbook
[2013-02-08 11:29:38 -0500] praddy: any idea what's wrong here ?
[2013-02-08 11:31:06 -0500] praddy: I am using chef-solo version 10.18.2
[2013-02-08 12:26:36 -0500] Bittarman: is the openssl opscode cookbook broken for cheff 11.x?
[2013-02-08 12:27:06 -0500] Bittarman: when I use cookbooks that depend on the openssl one (such as mysql) I get uninitialized constant Chef::Recipe::Opscode
[2013-02-08 12:41:20 -0500] alesguzik: are there someone who maintains docs.opscode.com ?
[2013-02-08 12:42:01 -0500] alesguzik: here http://docs.opscode.com/essentials_cookbook_recipes_use_ruby.html headers of last two sections are incorrect (hash instead of array and vice versa)
[2013-02-08 12:43:32 -0500] zts: alesguzik: I'm not sure what the right way to report a problem is, but if you want to fix it (and send a pull-request), the repo for that site is here: https://github.com/opscode/chef-docs
[2013-02-08 12:44:17 -0500] alesguzik: oh, nice. thanks!
[2013-02-08 12:44:51 -0500] zts: no problem
[2013-02-08 12:48:39 -0500] VolodymyrB: Hi, I have issue cloning github repo, command git says "Are you sure you want to continue connecting (yes/no)?" is there possible to force yes?
[2013-02-08 12:58:20 -0500] ipalaus: hello
[2013-02-08 12:58:39 -0500] ipalaus: anyone is using https://github.com/opscode-cookbooks/nginx ? I don't see how exactly set now sites
[2013-02-08 13:00:20 -0500] version2beta: good morning chefs! (or good afternoon, good evening, depending on your location)
[2013-02-08 13:02:03 -0500] version2beta: Is someone familiar enough with python-pip to explain how I install an editable package from github? like `pip install -e git+git@github.com:User/repository#egg=mypackage`, but in a recipe?
[2013-02-08 13:13:16 -0500] ttgb: version2beta: You should be able to use the 'options' parameter and just dump all your "-e git+..." stuff in there
[2013-02-08 13:21:40 -0500] deed02392: hi, if I include a recipe from another cookbook's recipe, does chef auto load in all the attributes set in that cookbook?
[2013-02-08 13:21:52 -0500] deed02392: or would I have to set all my attributes in the cookbook that was doing the including?
[2013-02-08 13:21:59 -0500] version2beta: ttgb, Thanks, I thought there was something like that. I'll give it a try!
[2013-02-08 13:25:13 -0500] dwradcliffe: hey, getting this error: "Must have READ permission on xslt cookbook" any ideas?
[2013-02-08 13:27:33 -0500] deed02392: i'm no chef expert but that error looks quite verbose dwradcliffe
[2013-02-08 13:33:08 -0500] ttgb: deed02392: Chef (client) loads the attributes from every cookbook in the extended run list.
[2013-02-08 13:34:38 -0500] dwradcliffe: Debug showing this was the failed request: Sending HTTP Request via POST to api.opscode.com:443/organizations/xxxxxx/environments/vagrant/cookbook_versions
[2013-02-08 13:35:01 -0500] deed02392: ttgb: OK but i'm talking about just assigning one cookbook but that cookbook happening to pull in a recipe from another cookbook
[2013-02-08 13:35:10 -0500] deed02392: would an include_recipe add a cookbook to the run list?
[2013-02-08 13:36:01 -0500] ttgb: deed02392: Yeah it will do - if you depend on resources in that cookbook in your own though, you should also add it as a dependency in your own cookbook's metadata
[2013-02-08 13:36:31 -0500] deed02392: gotcha ttgb. hmmm
[2013-02-08 13:36:55 -0500] deed02392: that could be confusing then
[2013-02-08 13:37:17 -0500] deed02392: basically I've got a web app ttgb and it needs php and nginx
[2013-02-08 13:37:36 -0500] deed02392: i'm debating whether or not to just copy in the bits from the php and nginx cookbooks I need to set them up
[2013-02-08 13:38:02 -0500] deed02392: but then that doesn't make it easy in future to update the cookbook de that does the installation of php and nginx
[2013-02-08 13:38:46 -0500] deed02392: so I thought I will just include the recipes I need from those cookbooks and then define all the needed attributes in the web_app cookbook I'm writing
[2013-02-08 13:38:59 -0500] ttgb: What are the PHP/nginx cookbooks missing that mean you have to duplicate parts of it in your own cookbook?
[2013-02-08 13:39:04 -0500] deed02392: but if doing an include_recipe introduces all these attributes, I have to worry about priorities
[2013-02-08 13:39:29 -0500] domes: Good afternoon, guys
[2013-02-08 13:39:33 -0500] deed02392: it's not that ttgb it's just I figured it makes more sense to have a cookbook that sets up my web app rather than assigning multiple cookbooks to my site
[2013-02-08 13:39:47 -0500] deed02392: to my server role I mean, not site
[2013-02-08 13:40:29 -0500] deed02392: stuff like setting up SSL certificate ttgb
[2013-02-08 13:40:43 -0500] domes: Is there anybody who have time to help a very newbie user with a chef-server related question?
[2013-02-08 13:41:07 -0500] deed02392: I was doing everything by getting community cookbooks for PHP and nginx
[2013-02-08 13:41:16 -0500] deed02392: then editing those so they set themselves up in the way necessary for my environment
[2013-02-08 13:41:33 -0500] ttgb: deed02392: That's a fine way to do it - a cookbook for your web app that includes/depends on the nginx + PHP ones. If you're using Chef 10 you'll need to add include_attribute directives to your web app cookbooks attribute file to make sure everything is loaded in the right order.
[2013-02-08 13:41:35 -0500] deed02392: but them someone here recommended that instead I just write a cookbook that does everything needed for my web app
[2013-02-08 13:42:27 -0500] deed02392: ok ttgb, but if I include_recipe on say nginx::default, you're saying everything from cookbooks/nginx/attributes gets loaded right?
[2013-02-08 13:42:44 -0500] deed02392: when I think I'd prefer to just worry about attributes in cookbooks/web_app/attributes
[2013-02-08 13:42:59 -0500] deed02392: meaning I'd need to just copy the recipes to my own cookbook instead of including them
[2013-02-08 13:43:45 -0500] ttgb: deed02392: Most of the stuff in the nginx attributes file are sane defaults that get loaded in to the bundled templates - if you copied them over you'd only end up reproducing all those attributes anyway.
[2013-02-08 13:45:27 -0500] ttgb: So really you just need to overwrite the attributes you want to change either in your web_app attributes (making sure to use include_attribute "nginx" at the top), or on the role.
[2013-02-08 13:46:30 -0500] deed02392: hmmm ahh ok ttgb
[2013-02-08 13:46:43 -0500] deed02392: as regards needing include_attribute
[2013-02-08 13:46:52 -0500] deed02392: is that just because doing an include_recipe loads the attributes in implicitly
[2013-02-08 13:47:04 -0500] deed02392: hence doing include_attributes before writing my own means I guarentee I overwrite those attributes?
[2013-02-08 13:48:06 -0500] ttgb: In Chef 10 all the attribute files from all the cookbooks are loaded in no particular order before any recipes run. By adding include_attributes you're just making sure the nginx attributes are read before your own (and therefore are correctly overwritten).
[2013-02-08 13:48:17 -0500] deed02392: ;-)
[2013-02-08 13:48:31 -0500] ttgb: deed02392: So basically what you just said :)
[2013-02-08 13:48:33 -0500] deed02392: very helpful, thanks for the info
[2013-02-08 13:49:00 -0500] ttgb: Chef 11 is a bit more friendly (see http://www.opscode.com/blog/2013/02/05/chef-11-in-depth-attributes-changes/) in that it loads your attribute files in the same order as your recipe run list.
[2013-02-08 13:49:23 -0500] praddy: hey guys, I am trying to use the graphite cookbook from https://github.com/hw-cookbooks/graphite which in turn uses the runit cookbook from opscode for configuring carbon to run under runit on ubuntu 12.04
[2013-02-08 13:49:36 -0500] praddy: the problem is I am getting a [2013-02-08T11:24:20+00:00] FATAL: NameError: Cannot find a resource for runit_service on ubuntu version
[2013-02-08 13:49:45 -0500] praddy: runit_service is definition in runit cookbook
[2013-02-08 13:49:55 -0500] praddy: I am using chef-solo version 10.18.2
[2013-02-08 13:50:02 -0500] praddy: any idea whats wrong here ?
[2013-02-08 13:53:19 -0500] zts: deed02392: just to make that very clear - the attribute loading happens long before include_recipe runs
[2013-02-08 13:54:23 -0500] zts: praddy: run with debug logging and check to confirm that the runit cookbook, and its resources, are being loaded in the run
[2013-02-08 13:59:38 -0500] deed02392: got it, thanks ttgb, zts
[2013-02-08 14:04:58 -0500] tolland: so id like to use a parameter that was passed into a cloud formations script in a recipe
[2013-02-08 14:05:16 -0500] tolland: I see that there a file called cache obj that contains the vals
[2013-02-08 14:28:55 -0500] behemphi: Is anyone out there prepending roles or recipes to the run_list of a set of nodes?  Ruby's "unshift" function gives an error.  Thanks much.
[2013-02-08 14:53:56 -0500] ipalaus: anyone is using https://github.com/opscode-cookbooks/nginx ? I don't see how exactly set now sites
[2013-02-08 14:54:41 -0500] ttgb: ipalaus: On a Debian system, use the template resource to create a configuration at /etc/nginx/sites-enabled/foo.conf and then use nginx_site to enable it.
[2013-02-08 15:00:50 -0500] deed02392: ttgb: what should I do about templating in my case too? Should I have the template stored in my web app cookbook and overwrite the template that the community nginx cookbook generates?
[2013-02-08 15:01:52 -0500] gkarekinian: You really want your own template to be able to have custom stuff in there easily
[2013-02-08 15:03:15 -0500] ttgb: ipalaus: Sorry, I meant sites-available, nginx_site will symlink it to sites-enabled
[2013-02-08 15:03:43 -0500] ipalaus: ttgb i'm looking about how to do it, i was on a old fork of that repository haha i'm gonna check it in a few minutes. thanks! :)
[2013-02-08 15:03:47 -0500] ttgb: deed02392: Yeah, just build your entire template in your own web_app cookbook.
[2013-02-08 15:03:55 -0500] deed02392: Yeah I made it install my site by modifying the community nginx cookbook already
[2013-02-08 15:04:08 -0500] deed02392: but I'm trying to do everything again the 'proper' way cos till now I've just been learning by doing
[2013-02-08 15:04:34 -0500] deed02392: ok but then chef will be making templates and overwriting them anyway etc, inefficient but still the best way?
[2013-02-08 15:06:46 -0500] ttgb: deed02392: The nginx cookbook will just build the one nginx.conf file. Add your site-specific stuff in sites-available - you're not overwriting anything then.
[2013-02-08 15:11:27 -0500] deed02392: true, after the web app cookbook though I'll be writing one for nginx load balancing which would involve changes to the nginx.conf - when it comes to that should I just overwrite it then?
[2013-02-08 15:11:37 -0500] ipalaus: ttgb sorry, I only see this template for a "site" but of course is not what I want: https://github.com/opscode-cookbooks/nginx/blob/master/templates/default/default-site.erb there is also this file that seems that has something to do with the sites: https://github.com/opscode-cookbooks/nginx/blob/master/definitions/nginx_site.rb
[2013-02-08 15:12:11 -0500] deed02392: ipalaus: cookbooks/nginx/templates/default/default-site.erb
[2013-02-08 15:12:12 -0500] deed02392: look there
[2013-02-08 15:12:29 -0500] deed02392: why is that not what you want?
[2013-02-08 15:12:34 -0500] ipalaus: deed02392 it's the first link I pasted
[2013-02-08 15:12:37 -0500] ipalaus: well, I should edit that file?
[2013-02-08 15:12:57 -0500] ttgb: deed02392: If the nginx cookbook doesn't provide attributes for setting up all that then you could either write your own nginx.conf, or write your load balancing stuff to conf.d/, or think about changing the community cookbook in such a way that your changes are reusable and submit a pull request.
[2013-02-08 15:13:03 -0500] ipalaus: I suposed that there is a cleanest way of doing it, like not touching the core files
[2013-02-08 15:13:48 -0500] deed02392: yeah I know what you mean ipalaus - wrap it in your own cookbook like I'm doing :-)
[2013-02-08 15:13:58 -0500] ipalaus: ok, thanks :)!!
[2013-02-08 15:20:36 -0500] freezey: if i wanted to set something specific in a template based on the chef servers role how would you go about doing this? Could you do a search within an if statement in a template? Or would you set a variable in a template like something = search(node, role:whatever)
[2013-02-08 15:23:11 -0500] ttgb: freezey: You can access the 'node' object to get all the attributes on the node from a template. Is that what you want?
[2013-02-08 15:24:10 -0500] freezey: yeah so basically in a erb template i want to populate lines of data in a configuratin file based off the nodes role. I thought it would be something simple like node["role"] == something
[2013-02-08 15:24:13 -0500] freezey: but wasnt really sure
[2013-02-08 15:24:48 -0500] zts: freezey: if you mean "the node I'm running on has role 'foo' on its runlist", it'd be something like node.roles.include?('foo')
[2013-02-08 15:25:33 -0500] zts: freezey: if you need to get the list of nodes that have that role, that's where you'd use search (and yeah, you would probably want to do the hard work in your recipe, and pass in just the results to the template)
[2013-02-08 15:26:40 -0500] freezey: zts: nope it would literally just be something like if has this role put this data here if has thisother role put this data here.. it won't need to use all the hosts at once
[2013-02-08 16:16:44 -0500] praddy: zts: sorry for late reponse, I was running it through "vagrant provision" earlier and when I ran chef-solo directly things worked fine, I wonder what's wrong with vagrant running chef-solo
[2013-02-08 16:16:59 -0500] praddy: will dig more later, thanks
[2013-02-08 16:37:00 -0500] redsamh: any one know how to pass the parameter to install an older release of chef
[2013-02-08 16:37:14 -0500] redsamh: currently it downloads version 11
[2013-02-08 16:37:15 -0500] redsamh: chef-solo -c /opt/chef/solo.rb -j /opt/chef/chef.json -o chef-server::rubygems-install
[2013-02-08 16:37:37 -0500] redsamh: i use the following command but not sure how to pass the version information while doing it
[2013-02-08 16:38:10 -0500] fitterman: bit of a noob and needing some help
[2013-02-08 16:39:03 -0500] fitterman: have a bunch of cookbooks and recipes that all were working. Now a node in a particular role is complaining "HTTP Request Returned 412 Precondition Failed: {"message":"Version constraints could not be solved in the time allowed"}"
[2013-02-08 16:39:23 -0500] fitterman: It looks to be every cookbook. There are no version constraints.
[2013-02-08 17:31:34 -0500] zenloop: Hey guys, what is the best way to backup a chef master.  I have seen a few things online but am looking for the right way to do things.
[2013-02-08 17:57:33 -0500] redsamh: zenloop: I have a recipe I am building that can do that
[2013-02-08 17:57:53 -0500] zenloop: ooooh,.
[2013-02-08 17:58:16 -0500] redsamh: btw, for now you can check this page out for the backup
[2013-02-08 17:58:34 -0500] redsamh: zenloop: let me give you the script here:
[2013-02-08 18:00:09 -0500] redsamh: zenloop: this is the link I am pasting the sh file here
[2013-02-08 18:00:16 -0500] zenloop: Cool thanks.
[2013-02-08 18:00:24 -0500] redsamh: http://wiki.opscode.com/display/chef/Backing+Up+Chef+Server
[2013-02-08 18:00:34 -0500] redsamh: #!/bin/sh -x
[2013-02-08 18:00:34 -0500] redsamh: #
[2013-02-08 18:00:34 -0500] redsamh: # http://wiki.opscode.com/display/chef/Backing+Up+Chef+Server
[2013-02-08 18:00:34 -0500] redsamh: #
[2013-02-08 18:00:35 -0500] redsamh: # cd ~/path/to/chef/repository
[2013-02-08 18:00:35 -0500] redsamh: # curl -O https://raw.github.com/jtimberman/knife-scripts/master/chef_server_backup.rb
[2013-02-08 18:00:37 -0500] redsamh: #
[2013-02-08 18:00:39 -0500] redsamh: # knife to backup the data bag, roles and nodes information
[2013-02-08 18:00:41 -0500] redsamh: knife exec chef_server_backup.rb
[2013-02-08 18:00:42 -0500] redsamh: # directories to backup for a CouchDB install
[2013-02-08 18:00:45 -0500] redsamh: tar -czf .chef/chef_server_folders_backup.`date +%F`.tar.gz /var/lib/chef /etc/chef /etc/couchdb
[2013-02-08 18:00:47 -0500] redsamh: # backup of the couchdb
[2013-02-08 18:00:49 -0500] redsamh: couchdb-dump http://127.0.0.1:5984/chef |gzip -9c > .chef/chef.`date +%F`.couchdb.gz
[2013-02-08 18:01:06 -0500] redsamh: I am putting a cookbook to do the back up on the chef server itself
[2013-02-08 18:01:12 -0500] redsamh: I have the chef server as a client as well
[2013-02-08 18:01:23 -0500] redsamh: so it will backup when chef executes every day
[2013-02-08 18:01:34 -0500] redsamh: but for now you can use the above shell to do that for you
[2013-02-08 18:02:28 -0500] jubilo: What does it mean if I don't have a validation.pem file being automatically generated in /etc/chef-server? this is with Chef 11.
[2013-02-08 18:02:53 -0500] trilitheus: redsamh, zenloop, there is also https://github.com/fnichol/knife-server
[2013-02-08 18:03:26 -0500] trilitheus: never used it but am planning on it - plugin for knife that will allow you to backup nodes, roles envoronments and data bags
[2013-02-08 18:04:41 -0500] redsamh: trilitheus - that is nice
[2013-02-08 18:05:08 -0500] zts: redsamh: in future, please use gist.github.com (or another pastebin) instead of pasting in the channel
[2013-02-08 18:05:27 -0500] trilitheus: redsamh, np
[2013-02-08 18:05:30 -0500] redsamh: zts  - yes I realized that after pasting :(, sorry my bad
[2013-02-08 18:05:58 -0500] redsamh: trilitheus - does that also dump the couch db or we wont't need that? more from a restore point of view when the system count increases
[2013-02-08 18:05:59 -0500] zts: redsamh: no worries - and on the flip side, thankyou for sharing :)
[2013-02-08 18:09:08 -0500] gene: jtimberman : Your page on backing up chef server ( http://wiki.opscode.com/display/chef/Backing+Up+Chef+Server ) looks like it applies to nodes, roles and databags. How would one go about doing this for clients?
[2013-02-08 18:09:27 -0500] gene: jtimberman : I can get my clients out in json using knife but I'm not seeing how to load them back in from json
[2013-02-08 18:14:33 -0500] sascha_d: Hi Chefs, can I install Chef Server on an ESXi VM and expect it to perform ok?
[2013-02-08 18:14:47 -0500] sascha_d: It's temporary and I'd rather have some ephemerality
[2013-02-08 18:16:16 -0500] paulmooring: sascha_d: should work ok
[2013-02-08 18:16:37 -0500] sascha_d: I don't think it'll be doing any heavy lifting and I think these guys are going to get some OPC eventually
[2013-02-08 18:16:39 -0500] paulmooring: disk io is the biggest concern virtualizing it and that can vary a lot depending on your backend storage
[2013-02-08 18:16:41 -0500] sascha_d: thank @paulmooring
[2013-02-08 18:17:18 -0500] chris613: Silly question. I'm getting warnings about cloning resources (CHEF-3694), and the "Previous" and "Current" are showing the exact same source line. Am I doing something wrong with includes?
[2013-02-08 18:17:51 -0500] chris613: http://pastebin.com/agxJjAW5
[2013-02-08 18:18:13 -0500] chris613: This might be triggered by use of chef-rewind....
[2013-02-08 18:19:33 -0500] jtimberman: gene: i'd reregister clients either with the validation key, or create new ones.
[2013-02-08 18:19:55 -0500] gene: jtimberman : ok, i'll try re-registering
[2013-02-08 18:20:26 -0500] gene: thanks
[2013-02-08 18:26:26 -0500] gene: hmm... that's kind of a pain, not so much for nodes but for all the admin workstations. I guess I'd have to generate new keys and then distribute all the private keys to all of the devs and so forth
[2013-02-08 18:26:32 -0500] doomviking: Sunn O)))
[2013-02-08 18:26:39 -0500] doomviking: oh, wrong room.
[2013-02-08 18:27:18 -0500] c_t: doomviking: does it go to 11?
[2013-02-08 18:27:25 -0500] tjr9898: So anyone using ohai in minitest
[2013-02-08 18:27:31 -0500] doomviking: c_t: I believe it goes way past 11
[2013-02-08 18:37:13 -0500] solarce: gene: oh hi
[2013-02-08 18:37:23 -0500] gene: solarce : hey =)
[2013-02-08 18:37:34 -0500] gene: good to see you
[2013-02-08 18:39:34 -0500] solarce: gene: i get around ;D
[2013-02-08 19:06:51 -0500] Flexa: any issues with hosted chef at the mo? chef client taking 2 hours to deploy to a box :(
[2013-02-08 19:06:56 -0500] Flexa: not sure if its the ami
[2013-02-08 19:07:48 -0500] kallistec: Flexa: if you're getting 50x and lots of retries then it would be an OHC problem, are you seeing that in your logs?
[2013-02-08 19:11:29 -0500] Flexa: no to be fair
[2013-02-08 19:11:41 -0500] Flexa: just v slow with lots and lots of warning with new version of chef
[2013-02-08 19:27:40 -0500] chris613: Does anyone know how to get chef-client --why-run to log to the normal logging stream? I've got logging to syslog working following this (http://lists.opscode.com/sympa/arc/chef/2013-01/msg00036.html) but --why-run specific output doesn't make it to the log
[2013-02-08 19:39:38 -0500] jtimberman: kallistec: ^ ?
[2013-02-08 19:40:10 -0500] kallistec: yeah, the output formatter stuff doesn't use the logger
[2013-02-08 19:40:43 -0500] kallistec: intended for console use
[2013-02-08 19:41:45 -0500] mconigliaro: hey guys, whats the proper way to uninstall an omnibus package?
[2013-02-08 19:42:04 -0500] kallistec: mconigliaro: dpkg or rpm
[2013-02-08 19:42:07 -0500] mconigliaro: do i just uninstall the system package?
[2013-02-08 19:42:12 -0500] kallistec: yeah
[2013-02-08 19:42:15 -0500] mconigliaro: ok, cool. just making sure.
[2013-02-08 19:42:17 -0500] mconigliaro: thanks man
[2013-02-08 19:42:22 -0500] kallistec: np
[2013-02-08 20:18:53 -0500] occupant: I have a tomcat recipe that I've been using successfully for many instance launches, but lately it's started trying to restart the service immediately after the service starts, which fails because tomcat isn't ready to be restarted yet.
[2013-02-08 20:19:31 -0500] occupant: what would cause chef to try and double-start the service? my understanding is that all restarts are "saved up" til the end of the chef-client run unless you specify "immediately"
[2013-02-08 20:58:17 -0500] stevenator: Hi. Can someone give me syntax for passing a chef version to the omnibus install command with curl (I'm on ubuntu 12.04)
[2013-02-08 20:58:51 -0500] stevenator: Something like "curl -L https://www.opscode.com/chef/install.sh | sudo bash -v 10.18.0"?
[2013-02-08 21:02:36 -0500] stevenator: I was able to get this working with 2 lines, i.e. download file, chmod +x, and then bash install.sh -v10.18.0, but am having trouble with piping args
[2013-02-08 21:03:11 -0500] anthroprose: anyone using minitest-handler and chef 10.16.x? Still looking for a fix to the json gem compile issue...
[2013-02-08 21:05:56 -0500] phantasm66: is chef-client version 0.11.2 compatible with a 10.16.4 chef-server?
[2013-02-08 21:06:34 -0500] phantasm66: checked opscode docs, didn't see anything relating to backwards compatibility (maybe i missed it)
[2013-02-08 21:07:37 -0500] phantasm66: correction on that chef-client version. it's listed as: Chef: 11.2.0
[2013-02-08 21:11:17 -0500] bendrix: is there a simple way to do a reserve dns lookup  in a recipe
[2013-02-08 21:11:20 -0500] btm: @opscode cookbook code review: join: http://bit.ly/ULBgMG, watch: http://youtu.be/t6t3cephpRE #opschef
[2013-02-08 21:14:58 -0500] dwradcliffe: I'm watching :)
[2013-02-08 21:22:23 -0500] makerbreakr: is there a resource to put a file to a server?
[2013-02-08 21:22:56 -0500] makerbreakr: let me rephrase, is there a resource that will allow me to move a file from a server running chef-client, to my chef-server
[2013-02-08 21:29:08 -0500] amccloud: Is there an omnibus installer for chef-server?
[2013-02-08 21:32:25 -0500] amccloud: Or how can I install 10.18.2 from package now?
[2013-02-08 21:33:10 -0500] yfeldblum: makerbreaker, of course not
[2013-02-08 21:33:44 -0500] mattray: amccloud: there is now an omnibus for 11 server here: http://www.opscode.com/chef/install/
[2013-02-08 21:34:03 -0500] mattray: amccloud: that's new for Chef 11, no Chef 10 omnibus server
[2013-02-08 21:34:55 -0500] amccloud: mattray: How would I go about setting up 10.18.2? I'm getting "chef-server : Depends: chef-server-api (>= 10.18.2) but it is not going to be installed" when I apt-get install chef chef-server
[2013-02-08 21:36:10 -0500] Majost: What is the best way to read in the metadata.rb file from another script to use the values contained
[2013-02-08 21:36:35 -0500] mattray: amccloud: weird, it's there: http://apt.opscode.com/pool/main/c/chef-server-api/
[2013-02-08 21:39:21 -0500] makerbreakr: yfeldblum, why do you say it like that?
[2013-02-08 21:39:25 -0500] makerbreakr: is there something I am missing?
[2013-02-08 21:39:54 -0500] makerbreakr: ie, is there some reason I should not be uploading files to the server
[2013-02-08 21:40:17 -0500] yfeldblum: makerbreaker, you shouldn't be uploading files from a recipe to the chef-server
[2013-02-08 21:40:36 -0500] makerbreakr: sorry, not from a recipe, from the filesystem (ie apache logs)
[2013-02-08 21:41:10 -0500] yfeldblum: makerbreaker, a recipe should not be uploading files from the server it's running on (inside chef-client) to the chef-server
[2013-02-08 21:42:24 -0500] yfeldblum: makerbreaker, a recipe should be like a cookie-cutter: you stab it down onto a slab of dough and it makes a cookie ... but it's not supposed to *do* things like ship log files from here to there
[2013-02-08 21:42:26 -0500] amccloud: mattray: no luck. and it's a fresh 12.04.2 machine.
[2013-02-08 21:42:58 -0500] makerbreakr: ok
[2013-02-08 21:42:59 -0500] makerbreakr: hrm
[2013-02-08 21:43:11 -0500] makerbreakr: a lot of my recipes "do things"
[2013-02-08 21:43:13 -0500] makerbreakr: heh
[2013-02-08 21:43:31 -0500] p_mc: kallistec: I this from you yesterday for upgrading chef curl -L "https://www.opscode.com/chef/install.sh" | sudo bash -s -- -v 11.0.0.beta.1
[2013-02-08 21:43:32 -0500] amccloud: If I try "apt-get install chef-server-api" I get "chef-server-api : Depends: libdep-selector-ruby but it is not going to be installed"
[2013-02-08 21:43:55 -0500] p_mc: it works when I'm ssh'd into the machine but not from knife ssh.  any ideas why?
[2013-02-08 21:46:52 -0500] amccloud: mattray: for some odd reason apt-get isn't following the dependency tree.
[2013-02-08 21:54:33 -0500] kallistec: p_mc: not sure. could be something to do with whether you have a login shell or not
[2013-02-08 22:04:06 -0500] thasmo: Hi folks! using the opscode mysql cookbook and vagrant with chef provisioning in general for local web development. I've set up the vagrant virtual machine to forward the mysql port, but I'm not able to login to PHPmyAdmin with the root user. How do I set a custom root password for mysql? Thanks!
[2013-02-08 22:07:01 -0500] mconigliaro: guys, I'm seeing a weird thing with knife bootstrap
[2013-02-08 22:07:33 -0500] mconigliaro: we tell it to install version 10.20.0
[2013-02-08 22:07:45 -0500] mconigliaro: i see this in the output: Successfully installed chef-10.20.0
[2013-02-08 22:07:57 -0500] mconigliaro: then i scroll down a bit...
[2013-02-08 22:08:11 -0500] mconigliaro: Starting Chef Client, version 11.2.0
[2013-02-08 22:08:15 -0500] mconigliaro: what the heck?
[2013-02-08 22:09:45 -0500] mconigliaro: this is when running knife bootstrap with --bootstrap-version 10.20.0
[2013-02-08 22:10:54 -0500] juliancdunn: thasmo: try setting node['mysql']['server_root_password']
[2013-02-08 22:14:41 -0500] thasmo: juliancdunn, thanks - already tried that. Further debugging now reveiled that error message using PHP mysql_connect(): "Can't connect to local MySQL server through socket" - any idea how to check if mysql is running and the port is forwarded correctly?
[2013-02-08 22:19:43 -0500] p_mc: kallistec: if your interested i figured it out: knife ssh 'platform:ubuntu*' "sudo bash -c 'curl -L https://www.opscode.com/chef/install.sh | bash -s -- -v 10.18.2'"
[2013-02-08 22:25:22 -0500] juliancdunn: thasmo: well my answer would depend on your platform
[2013-02-08 22:26:28 -0500] jubilo: mconigliaro: ever get any answers on that one?
[2013-02-08 22:27:04 -0500] mconigliaro: i think the other guy I'm working with did something silly
[2013-02-08 22:27:14 -0500] mconigliaro: I'm having him try something...
[2013-02-08 22:29:08 -0500] jubilo: keep the channel updated... I'm trying to figure out how to install chef 10.20 on what will become the chef management workstation
[2013-02-08 22:29:08 -0500] mconigliaro: looks like he passed --bootstrap-version 10.20
[2013-02-08 22:29:22 -0500] mconigliaro: instead of 10.20.0
[2013-02-08 22:29:26 -0500] jubilo: aha
[2013-02-08 22:29:33 -0500] mconigliaro: I'm guessing that's what broke it
[2013-02-08 22:29:53 -0500] mconigliaro: so wait, why can't you install 10.20.0?
[2013-02-08 22:30:11 -0500] jubilo: well, doing the omnibus installer installs chef 11
[2013-02-08 22:30:18 -0500] mconigliaro: you just do this: wget -O - http://opscode.com/chef/install.sh | bash -s -- -v 10.20.0
[2013-02-08 22:30:20 -0500] jubilo: I haven't tried the bootstrap yet
[2013-02-08 22:30:23 -0500] jubilo: nice.
[2013-02-08 22:30:30 -0500] jubilo: okay, that's really good to know. thanks.
[2013-02-08 22:30:33 -0500] mconigliaro: :-)
[2013-02-08 22:31:39 -0500] thasmo: juliancdunn, I guess I figured it out - I didn't even start the mysql server, only the client - wasn't aware of using the receipt 'mysql::server'. nvm :D
[2013-02-08 22:31:57 -0500] amccloud: mattray: I'm thinking it's 12.04.2 so i'm just trying a lower version.
[2013-02-08 22:32:39 -0500] juliancdunn: thasmo: lol... oh well, it's Friday
[2013-02-08 22:33:00 -0500] thasmo: :D
[2013-02-08 22:33:08 -0500] BryanWB_: juliancdunn, dude never got a response from u on comments to ur excellent blog post
[2013-02-08 22:33:23 -0500] BryanWB_: u didn't even reply to the great peterdonald!
[2013-02-08 22:34:10 -0500] juliancdunn: BryanWB_: hah... I meant to reply and then got distracted
[2013-02-08 22:34:40 -0500] juliancdunn: I did check out his psql cookbook though -- I like that better than the database LWRPs if you don't want to get dragged into the pg gem nonsense
[2013-02-08 22:39:41 -0500] thasmo: I'm new to Chef and opscode. is there any good tutorial about databags and roles in context of chef solo?
[2013-02-08 22:42:48 -0500] mconigliaro: knife doesn't do ssh agent forwarding, huh?
[2013-02-08 22:44:23 -0500] BryanWB_: juliancdunn, phases are the way to go imho
[2013-02-08 22:44:29 -0500] mconigliaro: and it appears that running knife bootstrap with --bootstrap-version 10.20.0 multiple times results in an upgrade to chef 11
[2013-02-08 22:49:37 -0500] juliancdunn: BryanWB_: I'm sort of with you, except I don't like arbitrary-length ones
[2013-02-08 22:54:27 -0500] spox: pg gem nonsense hasn't been nonsense for awhile now
[2013-02-08 22:54:28 -0500] spox: fwiw
[2013-02-08 22:58:19 -0500] occupant: is a service's first start supposed to be immediate or execute at the end of the run along with any queued restarts?
[2013-02-08 22:59:38 -0500] juliancdunn: spox: still a problem if you want to run a PostgreSQL that isn't the distro version
[2013-02-08 23:00:55 -0500] spox: juliancdunn: ah, source install or custom package?
[2013-02-08 23:02:07 -0500] andreas__: Just installed chef server on ubuntu 12.04 lts as described on http://wiki.opscode.com/display/chef/Installing+Chef+Server+on+Debian+or+Ubuntu+using+Packages and now I am stuck with knife configuration on the server. There is no trace of knife.
[2013-02-08 23:02:31 -0500] juliancdunn: spox: custom package -- say one from pgdg on EPEL/Fedora systems
[2013-02-08 23:03:06 -0500] juliancdunn: postgresql::ruby will try to "chef_gem 'pg'" which will suck down the distro -devel package even if you don't want it
[2013-02-08 23:03:24 -0500] sethvargo: andreas__: still having trouble?
[2013-02-08 23:03:26 -0500] sethvargo: I can help you debug
[2013-02-08 23:03:54 -0500] juliancdunn: occupant: I *believe* :start and :stop are immediate
[2013-02-08 23:04:06 -0500] andreas__: Yes, still having trouble.
[2013-02-08 23:04:15 -0500] spox: juliancdunn: yeah, since the repo sources aren't loaded yet, it grabs the wrong thing, yeah?
[2013-02-08 23:04:24 -0500] juliancdunn: spox: exactly
[2013-02-08 23:04:40 -0500] juliancdunn: and then the gem native extensions are built against the wrong -devel
[2013-02-08 23:04:55 -0500] sethvargo: andreas__: https://plus.google.com/hangouts/_/445533889c3896761287d16527cf47165bd64f68?authuser=0&hl=en
[2013-02-08 23:06:54 -0500] hikeit: andreas: we had to install chef separately from chef server on 11 maybe that is part if it for you?
[2013-02-08 23:09:20 -0500] jtimberman: juliancdunn: pgdg package doesn't work w/ pg gem in the ruby recipe?
[2013-02-08 23:09:25 -0500] Liquid-ness-mons: chef it up!
[2013-02-08 23:09:49 -0500] jtimberman: oh, because the yum repo isn't added during the compile phase :(
[2013-02-08 23:10:06 -0500] spox: jtimberman: yeah, i've been hacking around on it to make that stuff work
[2013-02-08 23:10:11 -0500] spox: ran into with the pg 9.2 stuff in ubu
[2013-02-08 23:10:32 -0500] ranjibd: btm, regarding http://tickets.opscode.com/browse/OHAI-444 , i signed the CLA, but still cant see the resolve action
[2013-02-08 23:10:46 -0500] bougyman: jtimberman: eh?
[2013-02-08 23:10:50 -0500] bougyman: i just had this issue this week
[2013-02-08 23:11:02 -0500] bougyman: i'm piping all my crap to psql and making a .pgpass to get my db work done right now.
[2013-02-08 23:11:37 -0500] bougyman: can't get the pg gem to build with postgres 9.2 and chef 10.18.2-2 (omnibus) on ubuntu 12.04 (64 bit, aws)
[2013-02-08 23:11:48 -0500] bougyman: i've tried every --damn-option that exists.
[2013-02-08 23:12:07 -0500] bougyman: the system ruby builds the pg gem fine, but not /opt/chef/embedded/bin/gem
[2013-02-08 23:13:24 -0500] bougyman: it tells me it can't find libpq, even when I specify the path directly to libpq. it'll do libpq yes, then fail on PGConnectDB
[2013-02-08 23:13:32 -0500] btm: ranjibd: You have to wait for our people to process it, it still isn't automated. :|
[2013-02-08 23:14:31 -0500] ranjibd: btm,  ok . I had the CLA signed since 2011, but my profile email and CLA email was different, fixed it. signed an new CLA. thanks!
[2013-02-08 23:16:37 -0500] anthroprose: bougy: tried installing everything through ruby, no ubuntu packages?
[2013-02-08 23:16:40 -0500] jets: welcome back
[2013-02-08 23:42:21 -0500] juliancdunn: bougyman: BryanWB pointed me to a psql LWRP to make your life easier: https://github.com/realityforge/chef-psql
[2013-02-08 23:42:36 -0500] juliancdunn: so you can 'pipe your crap to psql' in a saner way
[2013-02-08 23:42:54 -0500] bougyman: interesting. how does he get around psql not accepting a password?
[2013-02-08 23:43:03 -0500] bougyman: i was wondering about that part. i'm using a .pgpass myself.
[2013-02-08 23:43:33 -0500] bougyman: ah, PGPASSWORD env var
[2013-02-08 23:43:33 -0500] Majost: Is there a way to specify all tags, or a wildcard, with foodcritic?
[2013-02-08 23:43:53 -0500] bougyman: nice, will move to that, too
[2013-02-08 23:47:27 -0500] bougyman: dang
[2013-02-08 23:47:35 -0500] bougyman: the psql guy still gives no way to add admin users.
[2013-02-08 23:51:02 -0500] juliancdunn: bougyman: yeah, I haven't looked into it in detail... but I'm sure you could add a patch :-)
[2013-02-08 23:51:30 -0500] bougyman: will work on that when i'm done with the lighttpd2 cookbook
[2013-02-08 23:51:53 -0500] juliancdunn: Majost: doesn't foodcritic use all tags if you specify nothing?
[2013-02-08 23:51:59 -0500] Majost: it does
[2013-02-08 23:52:07 -0500] Majost: however, if you use the -f option
[2013-02-08 23:52:14 -0500] Majost: it requires you to specific the tags
[2013-02-08 23:52:31 -0500] juliancdunn: hmm... I always thought "all" worked
[2013-02-08 23:52:35 -0500] Majost: I would rather blacklist than whitelist personally.
[2013-02-08 23:52:48 -0500] Majost: let me try that
[2013-02-08 23:53:04 -0500] juliancdunn: usually I'm running FC from within Spork though, so I could be wrong
[2013-02-08 23:53:37 -0500] Majost: what is this spork of which you speak?
[2013-02-08 23:55:03 -0500] occupant: urgh... I'm trying to work through why my recipe, after weeks of working fine, now wants to restart a service two seconds after it starts it, which makes it fail. I've put every resource that notifies restart before the service start itself, and it's STILL trying to do it.
[2013-02-08 23:55:36 -0500] Majost: juliancdunn: look like 'all' isn't natively recognized by fc
[2013-02-08 23:56:33 -0500] Qapf: heya! I was wondering. I need a shell script to go persist a value in a databag on chef. so i went and used echo to emit some json and tried to use knife to update the databag when I discovered there is an ACL preventing nodes from editing things by default. That kinna tells me I might be taking the wrong approach. Is there a better way to do this? Or should I just go learn how to modify ACL's?
[2013-02-08 23:57:52 -0500] Majost: juliancdunn: it turns out the keyword is 'any'
