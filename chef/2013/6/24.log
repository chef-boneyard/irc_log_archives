[2013-06-24 01:32:55 -0400] juliancdunn: cpick: if you use the 'user' resource, it will defer to the OS as to where to put the home directory
[2013-06-24 03:32:24 -0400] cpick: juliancdunn: yeah, that's what I want, but I'm looking for a way to create a user and then put files into that user's homedir later on in the same recipe
[2013-06-24 03:32:37 -0400] cpick: I can't find a way to do that without specifying the homedir myself
[2013-06-24 06:23:26 -0400] axyelp: what attribute do i use to search nodes by their report time? I want to delete all the nodes & clients which haven't reported for say two days.
[2013-06-24 06:49:50 -0400] jtimberman: axyelp: ohai_time, it will be a unix epoch timestamp
[2013-06-24 06:49:58 -0400] jtimberman: it's what `knife status` uses.
[2013-06-24 06:52:29 -0400] axyelp: jtimberman: cool! thanks! i was planning to use idletime. i think both are the same!
[2013-06-24 07:07:24 -0400] maoe: ohai, I'm trying to use encrypted data bags with vagrant.
[2013-06-24 07:07:44 -0400] maoe: vagrant has chef.encrypted_data_bag_secret option, which is set to /tmp/encrypted_data_bag_secret by default. I'd like to set it to /etc/chef/encrypted_data_bag_secret, which is the default location in chef.
[2013-06-24 07:08:07 -0400] maoe: the problem is that /etc/chef directory is not writable for vagrant user, but if I put the default path in /tmp, I also have to hard code the tmp path in my cookbook, which is not great.. how could I work around the issue?
[2013-06-24 07:11:54 -0400] c_t: can you run it as root?
[2013-06-24 07:11:58 -0400] c_t: (using sudo or otherwise)
[2013-06-24 07:14:25 -0400] maoe: thanks. I'm not sure if I can. I'm running chef-solo via vagrant-berkshelf plugin. so, what I'm actually doing is: vagrant up or vagrant provision.
[2013-06-24 07:14:39 -0400] c_t: Hmm.
[2013-06-24 07:15:27 -0400] c_t: I've only done a little bit with vagrant, but I'm sure you can do this
[2013-06-24 07:17:55 -0400] mmack: Hey everyone... I have a short question about chef deploy... Currently it pulls my source code every X minutes and restarts the app... IS there a way to tell him only to pull code if there's a new commit on git?
[2013-06-24 07:24:05 -0400] axyelp: mmack: the way we do this is - update a version number/tag in the databag. the nodes build from whatever tag is in the databag.
[2013-06-24 07:25:46 -0400] mmack: okay..
[2013-06-24 07:33:39 -0400] dyu: I'm getting an "ArgumentError: File doesn't exist" when I try to enable my mysql(percona) service
[2013-06-24 07:33:54 -0400] dyu: when i check /etc/init.d/ the script for mysql is there
[2013-06-24 07:34:18 -0400] dyu: start/stop/status all work fine when doing it manually
[2013-06-24 07:34:33 -0400] dyu: any hints on why chef can't find my /etc/init.d/mysql?
[2013-06-24 07:51:35 -0400] maoe: I found a workaround for my issue. in our environment, we can assume there is the secret key in local /etc/chef. so I can add config.vm.synced_folder "/etc/chef", "/etc/chef". it's a somewhat dirty solution but works.
[2013-06-24 08:28:37 -0400] bcave: hi everyone. Assuming that the "java" community cookbook is used quite commonly. I'm trying to bootstrap an Ubuntu EC2 instance with Oracle java, but it's failing.  Here's my role http://pastebin.com/881yYqSh
[2013-06-24 08:29:02 -0400] bcave: and then I fire up an EC2 instance using knife-ec2 with "role[base]" in the run list.
[2013-06-24 08:29:12 -0400] ptrf: Hi, I have a question about attribute resolution: I have to files, attributes/default.rb and attribute/rbenv.rb
[2013-06-24 08:29:41 -0400] ptrf: the latter defines a set of ruby implementations I want to use, like htis: default["rbenv"]["rubies"] = ["1.9.3-p194"]
[2013-06-24 08:30:22 -0400] ptrf: and then I have default["appserver"]["ruby"] = node["rbenv"]["rubies"].first in my default
[2013-06-24 08:30:37 -0400] ptrf: and before that I've put a include_attribute "rbenv"
[2013-06-24 08:32:45 -0400] ptrf: however, I still get as output
[2013-06-24 08:33:42 -0400] ptrf: oh, wait output is big. the gist of it is that when I use node["appserver"]["ruby"], it complains that I've passed false rather than a String
[2013-06-24 08:34:05 -0400] ptrf: It used to work though, before I split the attributes into several files :(
[2013-06-24 08:37:51 -0400] bcave: and here's the error I get. http://pastebin.com/GY6Xe3dy
[2013-06-24 08:38:25 -0400] ptrf: nevermind :-) I needed include_attribute "appserver::rbenv" rather than "rbenv" :|
[2013-06-24 08:39:48 -0400] ptrf: bcave: try having chef run apt-get update
[2013-06-24 08:40:16 -0400] ptrf: bcave: IIRC apt-get returns error code 100 when it cant find a package in it's repository
[2013-06-24 08:47:09 -0400] bcave: ye... the main issue is that the default_attributes specifies that it should get "oracle" flavour, but its still trying openjdk
[2013-06-24 08:48:08 -0400] bcave: (according to http://community.opscode.com/cookbooks/java). I got it working by changing from "recipe[java]" to 'recipe[java::oracle]'
[2013-06-24 08:50:33 -0400] bcave: quick question about file syntax. in default_attributes, is :java the same as "java" for elements?
[2013-06-24 08:50:53 -0400] bcave: (new to ruby as well as chef, excuse the newbie question)
[2013-06-24 08:59:16 -0400] ptrf: 21
[2013-06-24 08:59:52 -0400] ptrf: bcave: like this? default[:lol][:dongs] is the same as default["lol"]["dongs"]?
[2013-06-24 09:00:00 -0400] ptrf: bcave: in that case, yes
[2013-06-24 09:01:52 -0400] bcave: thanks ptrf.
[2013-06-24 09:04:38 -0400] bcave: what's the best-practise for installing 3rd party libraries that don't require any additional configuration? from binary or compile? an example is for redis. I just added the redis recipe to a role, and its building from source. My thoughts are that it would be easier to install the package from the distro's repo.
[2013-06-24 09:10:35 -0400] dyu: most of the time, your distro's package should be sufficient :-)
[2013-06-24 09:11:20 -0400] dyu: the redis community cookbook has a recipe called install_from_package
[2013-06-24 09:20:45 -0400] bcave: ah, ok. I actually removed the redis cookbook and added `package "redis-server" do action :install end`
[2013-06-24 09:21:11 -0400] bcave: (to a custom recipe)
[2013-06-24 09:21:33 -0400] bcave: so a better approach would be 'recipe[redisio::install_from_package]' in my run list?
[2013-06-24 09:22:33 -0400] shimo: depends on what you need
[2013-06-24 09:23:07 -0400] shimo: for example, just installing the package should not enable or start the service by default
[2013-06-24 09:23:24 -0400] shimo: so you might have to add those
[2013-06-24 09:23:42 -0400] bcave: I'll explain what I'm trying to do with chef + aws. Currently bootstrapping an ec2 instance as a base. From there, I want to register it as an AMI, and then launch that AMI with custom roles at a later stage.
[2013-06-24 09:23:48 -0400] shimo: and then you might have to add something else too and then it's not so simple anymore
[2013-06-24 10:03:32 -0400] axyelp: how do i create a machine which is already a worktsation into a node? bootstrap would create conflicts, right?
[2013-06-24 10:19:05 -0400] mpasternacki: Hi
[2013-06-24 10:19:38 -0400] mpasternacki: Does anybody have any idea where cookbooks' 'homepage' on community.opscode.com comes from?
[2013-06-24 10:19:53 -0400] mpasternacki: It's not in metadata, or anywhere I can find in the cookbook itself...
[2013-06-24 10:20:28 -0400] mpasternacki: Ah. The magic of asking a question. There's an "edit cookbook" link.
[2013-06-24 10:20:41 -0400] mpasternacki: Sorry!
[2013-06-24 11:18:54 -0400] mmack: How can i avoid that my production servers pull changes immediate after i've pushed them to chef-server? I want to test them on staging first..
[2013-06-24 11:21:08 -0400] funjon: set versions as environmental attributes
[2013-06-24 11:25:31 -0400] funjon: or rather, set holdback versions as environmental attributes
[2013-06-24 11:41:48 -0400] pedda: hi all
[2013-06-24 11:42:34 -0400] pedda: i have a problem setting um my lamp env with chef cookbooks.
[2013-06-24 11:42:47 -0400] pedda: especially mysql fails to install some mysql client
[2013-06-24 11:42:52 -0400] proppen: mmack: You can have several versions of cookbooks uploaded. Then you can have version constraints in environment files. Also you could/should look up chef-spork
[2013-06-24 11:43:00 -0400] pedda: this gist describes my issue: https://gist.github.com/lvnilesh/4039324
[2013-06-24 11:43:27 -0400] mmack: proppen: thx..
[2013-06-24 11:43:40 -0400] pedda: i followed the comments and included apt cookbook at the top of my includes.. but it didn't help
[2013-06-24 11:43:46 -0400] proppen: mmack: Also, you should upload your cookbooks with --freeze to prevent overwriting of existing versions
[2013-06-24 11:44:02 -0400] mmack: ok makes sense..
[2013-06-24 11:44:13 -0400] bcave: does anyone have reference on what needs to be done to remove client / node configuration from a chef-managed host?
[2013-06-24 11:44:18 -0400] proppen: if you use knife-spork it automatically freezes the version
[2013-06-24 11:57:04 -0400] kernelpanik: Hi to all!
[2013-06-24 12:32:30 -0400] bcave: or more to the point... if I have a running server, where can I find details on registering the host as a chef client / node ?
[2013-06-24 13:07:29 -0400] pedda: someone had am issue with mysql client recipe ?
[2013-06-24 13:08:09 -0400] pedda: vagrant up command crashes because of some mysql client installation error
[2013-06-24 13:22:44 -0400] Hildgrim: what is the error..
[2013-06-24 13:22:58 -0400] Hildgrim: ah nm, saw the link
[2013-06-24 13:24:29 -0400] gchristensen: pedda: are you executing apt-get update prior to the apt command being run?
[2013-06-24 13:24:41 -0400] pedda: i was
[2013-06-24 13:24:55 -0400] pedda: i found some gist advising people to load apt cookbook first
[2013-06-24 13:24:59 -0400] pedda: that#s what i did..
[2013-06-24 13:25:18 -0400] gchristensen: and is that the exact error you're getting now?
[2013-06-24 13:25:22 -0400] pedda: but my provisioning still fails with the same error
[2013-06-24 13:25:29 -0400] pedda: yes
[2013-06-24 13:26:38 -0400] pedda: the last comment on https://gist.github.com/lvnilesh/4039324 is about apg-get update before each cookbook...
[2013-06-24 13:26:46 -0400] pedda: id didn't get the point how to test this..
[2013-06-24 13:26:54 -0400] pedda: *i didnt't
[2013-06-24 13:27:54 -0400] gchristensen: pedda: how many machines is this being problematic on?
[2013-06-24 13:28:22 -0400] pedda: it's more like: i am starting with vagrant, and i want to create some basic lamp env
[2013-06-24 13:28:31 -0400] pedda: i have just one default box
[2013-06-24 13:29:00 -0400] gchristensen: pedda: can you gist thefull output of your chef run? including the error you get -- start to finish
[2013-06-24 13:29:09 -0400] pedda: sure
[2013-06-24 13:29:25 -0400] pedda: i need to enable those recipes and fire up the provisioning process once again..
[2013-06-24 13:29:27 -0400] pedda: just a moment
[2013-06-24 13:29:43 -0400] gchristensen: pedda: make sure teh apt recipe is enabled too.
[2013-06-24 13:29:53 -0400] pedda: okay
[2013-06-24 13:30:31 -0400] n1ko: anyone experienced weird slow downs with chef-client? INFO: Storing updated cookbooks... in the cache. takes ~5-10s per object
[2013-06-24 13:30:49 -0400] n1ko: with google i could find three hits to this channels discussion but no tips on what could be wrong
[2013-06-24 13:31:08 -0400] gchristensen: n1ko: perhaps the chef server is being slow to send them?
[2013-06-24 13:31:09 -0400] n1ko: new chef-server though, but network has been tested
[2013-06-24 13:31:30 -0400] n1ko: gchristensen: probably, but why
[2013-06-24 13:31:46 -0400] n1ko: no load on the server and everything seems fine
[2013-06-24 13:31:55 -0400] n1ko: latency ~10ms, bandwidth 100Mbps
[2013-06-24 13:32:49 -0400] gchristensen: n1ko: no idea :)
[2013-06-24 13:51:21 -0400] pedda: gchristensen : https://gist.github.com/wikipeter/feb2885deab49557223c
[2013-06-24 13:52:55 -0400] pedda: my vagrant file: https://gist.github.com/wikipeter/15272ca477aafbcce35a
[2013-06-24 13:53:32 -0400] pedda: apt recipe comes first
[2013-06-24 14:31:47 -0400] bcave: is there somewhere where the bootstrapping process is documented?
[2013-06-24 14:34:59 -0400] prana_: I'm trying to use the community java cookbook on an (EC2) CentOS VM but it seems to not actually create the /usr/lib/jvm/java symlink. Has anyone else seen this?
[2013-06-24 14:35:31 -0400] djstunami: bcave: http://docs.opscode.com/install_bootstrap.html http://docs.opscode.com/knife_bootstrap.html
[2013-06-24 14:36:31 -0400] djstunami: if you actually want to know exactly what's happening during the process, I suggest looking at https://github.com/opscode/chef/blob/master/lib/chef/knife/bootstrap/chef-full.erb
[2013-06-24 14:36:55 -0400] djstunami: (just went through this myself)
[2013-06-24 14:40:22 -0400] djstunami: Does anyone know why knife would be using a non-embedded ruby to syntax check a cookbook before uploading?
[2013-06-24 14:40:25 -0400] djstunami: I'm trying to use the xenserver.rb ohai plugin and my ruby 1.8.5 is barfing on it, but if I do a ruby -c with the embedded ruby (v 1.9.3p286) I get Syntax OK.
[2013-06-24 14:40:35 -0400] bcave: ah, thanks djstunami - it was the chef-full.erb that i was looking for.
[2013-06-24 14:41:00 -0400] djstunami: bcave: np
[2013-06-24 14:42:09 -0400] djstunami: what's strange about this xenserver.rb problem is that I've used this exact same file with a different Chef Server (but same version of Chef Server) with no problems
[2013-06-24 14:43:50 -0400] bcave: djstunami: must be one of the reasons why 1.9 was the minimum version for workstation setup.
[2013-06-24 14:44:50 -0400] bcave: i had issues with 1.8 too, ended up having to update my distro to get something that had 1.9 in the release repos. are you running rbenv  setup ?
[2013-06-24 14:45:08 -0400] djstunami: hmmm I can see how that would make sense, except for me not having the problem previously using that machine as a workstation for a different OS Chef server
[2013-06-24 14:45:13 -0400] mattt: is there a way to not have chef overwrite cached cookbooks?
[2013-06-24 14:48:01 -0400] bcave: oh ye... not sure about that
[2013-06-24 15:01:00 -0400] djstunami: bcave: Figured it out, I'd never actually pushed a cookbook from that workstation, doh!
[2013-06-24 15:01:16 -0400] djstunami: *uploaded
[2013-06-24 15:01:55 -0400] paigeat: djstunami:ZzzZzZz
[2013-06-24 15:01:57 -0400] paigeat: heh
[2013-06-24 15:02:16 -0400] djstunami: haha, yeah, it's monday for sure
[2013-06-24 15:04:59 -0400] cjs226: being that data bags (and roles) aren't versioned, we're looking at expanding to 2 chef servers (prod/non-prod).  is there any possibility of a 'federated' search across multiple chef servers?  how are others dealing with this?
[2013-06-24 15:09:38 -0400] sobersabre: hi guys.
[2013-06-24 15:09:52 -0400] sobersabre: What version of chef shall I try on debian wheezy (amd64) ?
[2013-06-24 15:09:57 -0400] sobersabre: would ubuntu version be OK ?
[2013-06-24 15:10:11 -0400] sobersabre: I mean chef server.
[2013-06-24 15:16:52 -0400] gleam: i use the 10.04 ubuntu deb on wheezy and it's fine
[2013-06-24 15:22:35 -0400] sobersabre: gleam: I think wheezy is closer to 12.04... is it ?
[2013-06-24 15:23:10 -0400] sobersabre: gleam: I think wheezy is closer to 12.04... is it ?
[2013-06-24 15:26:20 -0400] gleam: dunno
[2013-06-24 15:26:24 -0400] gleam: i'm using the 10.04 one, others probably work fine
[2013-06-24 15:28:34 -0400] sobersabre: tried 12.04, got: http://dpaste.com/1268129/
[2013-06-24 15:28:50 -0400] sobersabre: it comes with ruby, which lacked that lib.
[2013-06-24 15:30:40 -0400] gleam: wheezy ships with glibc 2.13
[2013-06-24 15:30:44 -0400] sobersabre: aye.
[2013-06-24 15:30:46 -0400] gleam: so that's why it's not workin'
[2013-06-24 15:30:52 -0400] gleam: so try 11.04? i dunno
[2013-06-24 15:31:47 -0400] bcave: lol djstunami. have done that
[2013-06-24 15:32:08 -0400] sobersabre: Is it possible to spin up vmware/kvm vms with community server version?
[2013-06-24 15:32:59 -0400] bcave: so currently, i need to upload to the server, using knife. but if I'
[2013-06-24 15:33:39 -0400] bcave: so currently, i need to upload to the server, using knife. but if I'm hosting my chef repo in github and hosting chef with opscode hosted... has there been any discussion around git -> opscode hosted chef syncing?
[2013-06-24 15:34:28 -0400] sobersabre: Looking at: http://www.opscode.com/chef/#which-chef
[2013-06-24 15:35:50 -0400] dsteen: anyone know how I can search for an item in a databag that does *not* contain either of two keys.
[2013-06-24 15:35:53 -0400] dsteen: ?
[2013-06-24 15:36:22 -0400] dsteen: so if I have an environments array and a roles array in my databag, and I want to list all items that do not have either array set.
[2013-06-24 16:15:39 -0400] awayne_: Morning all.
[2013-06-24 16:15:53 -0400] awayne_: Is anyone else using the IIS cookbook with Windows 2012/IIS 8?
[2013-06-24 16:32:44 -0400] alexkarp: so I ran `knife client bulk delete ".*" -y` and forgot that that would destroy my workstation client, the validator and the webui clients....
[2013-06-24 16:33:10 -0400] alexkarp: what's the best way to recover from that?
[2013-06-24 16:33:17 -0400] brandon:  /nick Brandon.Bell
[2013-06-24 16:35:11 -0400] brandonbell: Hello - Since Friday we have been noticing 'knife search client "clientname:<name>" not returning any results.  Is this a known issue ?
[2013-06-24 16:35:54 -0400] StDiluted: What is the best practice way for editing a config on one server as a result of a bootstrap of a separate server, i.e.: I bring up a new instance in EC2, and I want to edit the main.mk file on the monitoring server as a result.
[2013-06-24 17:01:33 -0400] dysinger: 'allo.  Is there _any_ way to have one of my data bags on disk for chef-client ?
[2013-06-24 17:09:32 -0400] dysinger: the code looks like it's hard coded to go one way or the other (chef solo gets disk data bags & chef client only looks at the srever)
[2013-06-24 17:11:40 -0400] jtimberman: dysinger: JSON.parse? :)
[2013-06-24 17:11:48 -0400] coderanger: dysinger: Not really, there is no 'disk' in chef-client
[2013-06-24 17:11:59 -0400] coderanger: You could hack up a cookbook_file + JSON.parse though
[2013-06-24 17:13:55 -0400] dysinger: jtimberman: good idea
[2013-06-24 17:14:28 -0400] dysinger: coderanger: looking at the code, it _could_ be easy to just include any disk data bags on chef-client.  doesn't have to be a " if else "
[2013-06-24 17:14:51 -0400] dysinger: I'll try the straight json method
[2013-06-24 17:15:24 -0400] coderanger: dysinger: You would have to transfer them over though
[2013-06-24 17:15:52 -0400] dysinger: in my case they already are there via the setup of the node (as is the case with chef solo too)
[2013-06-24 17:27:37 -0400] rottmanj: Anyone have a few mins to discuss some issues we are seeing with hosted chef?
[2013-06-24 17:28:48 -0400] coderanger: rottmanj: Just ask, people drift in and out :)
[2013-06-24 17:29:17 -0400] rottmanj: Ah ok, so we are seeing a very large delay with the indexing of new nodes added via chef/ironfan. This is causing some issues with the creation of our cluster
[2013-06-24 17:33:13 -0400] jmartin: is anyone using test-kitchen with citrix xenserver?
[2013-06-24 17:35:59 -0400] sfalcon: rottmanj: can you quantify "large delay"
[2013-06-24 17:36:08 -0400] rottmanj: Greater than 3 mins
[2013-06-24 17:36:57 -0400] pwelch: has anyone had issues using chef 10.26 with the latest Berkshelf? Trying to upgrade to latest Berkshelf and get a issue with the JSON depends
[2013-06-24 17:38:56 -0400] coderanger: rottmanj: Nagios clocks the current index latency at 60s
[2013-06-24 17:39:08 -0400] coderanger: rottmanj: SOLR INDEX OK - Index has 2013-06-24 17:36:55 UTC, but db has 2013-06-24 17:37:55 UTC, lag 60s
[2013-06-24 17:39:20 -0400] sfalcon: rottmanj: that is a large delay :( How are you measuring it?
[2013-06-24 17:39:52 -0400] coderanger: pwelch: Berkshelf is not intended to be version locked with chef
[2013-06-24 17:39:57 -0400] coderanger: pwelch: It doesn't use the chef gem anywhere
[2013-06-24 17:40:15 -0400] coderanger: pwelch: If you are trying to lock them both via bundler it will get crank
[2013-06-24 17:40:41 -0400] pwelch: coderanger: ok. Im actually trying to just lock my Chef version since I am still on 10.26
[2013-06-24 17:40:43 -0400] ivey: we typically install berkshelf w/ gem install, and run it without bundle exec
[2013-06-24 17:46:53 -0400] rottmanj: falcon launch cluster and try to search for it with knife search client
[2013-06-24 17:46:59 -0400] rottmanj: after about 3 mins it finally shows up
[2013-06-24 17:52:26 -0400] brandonbell: rottmanj: We're seeing the same thing.
[2013-06-24 17:59:27 -0400] mlb-: Hi, is there a more local version of include_recipe?
[2013-06-24 17:59:37 -0400] coderanger: Local?
[2013-06-24 17:59:51 -0400] mlb-: or is something like include_recipe "#{cookbook_name}::foo" a common pattern?
[2013-06-24 18:00:01 -0400] mlb-: with respect to cookbook scope,
[2013-06-24 18:00:23 -0400] coderanger: Most people just hardcode it
[2013-06-24 18:00:33 -0400] coderanger: since cookbooks aren't generally rename-able
[2013-06-24 18:01:17 -0400] dysinger: guy asserting chef sucks because it runs on top ssh http://blog.smartbear.com/devops/a-taste-of-salt-like-puppet-except-it-doesnt-suck/
[2013-06-24 18:01:36 -0400] dysinger: nobody seems to correct the guy on https://news.ycombinator.com/item?id=5932608 either
[2013-06-24 18:03:30 -0400] teukka: mlb-: http://tickets.opscode.com/browse/CHEF-3599
[2013-06-24 18:07:38 -0400] prana_: In case anyone was curious about my problem with the Java cookbook, see http://tickets.opscode.com/browse/COOK-3229
[2013-06-24 18:20:36 -0400] mlb-: coderanger: I thought so. My $DAYJOB sometimes has issues agreeing on names of things, which may/may not change later on :P
[2013-06-24 18:20:40 -0400] mlb-: thanks!
[2013-06-24 18:26:01 -0400] smoak: anyone have experience with chefspec?
[2013-06-24 18:26:26 -0400] smoak: im wondering if its possible to test that default attributes are set
[2013-06-24 18:28:21 -0400] mlb-: I could be not reading carefully, but is there a reason that a cookbook's attribute file is attributes/default.rb and not, say, attributes/foobarbaz.rb ?
[2013-06-24 18:29:31 -0400] jameson__: it loads the default.rb
[2013-06-24 18:29:36 -0400] coderanger: It loads all of them
[2013-06-24 18:29:41 -0400] coderanger: Just convention to use default.rb
[2013-06-24 18:29:55 -0400] rottmanj: brandonbell yeah, I was the one who posted the message to the iron fan group
[2013-06-24 18:30:37 -0400] brandonbell: rottmanj:  I've got a workaround I think.  I'll be putting up a fork of ironfan here after some testing
[2013-06-24 18:30:46 -0400] mlb-: ah, convention. Okay. Just curious if there's some magic that hardcodes "default.rb". If there was, then having a folder for a single file is needlessly confusing compared to a simple "attributes.rb" :P
[2013-06-24 18:31:11 -0400] jameson__: there was a thing about splitting the attribute files
[2013-06-24 18:31:17 -0400] benkay: can anyone provide input on workflow around encrypted data bags?
[2013-06-24 18:31:19 -0400] jameson__: and loading them selectively..?
[2013-06-24 18:31:31 -0400] rottmanj: bradonbell it seems to be working now :/
[2013-06-24 18:31:50 -0400] brandonbell: Ha.  I hope it is
[2013-06-24 18:31:51 -0400] mlb-: jameson__: If you can find any such reference material, I'd love to read it. My google/duckduckgo-fu appears insufficient
[2013-06-24 18:32:11 -0400] rottmanj: let me run a few more tests with a larger cluster and see if it is still working
[2013-06-24 18:33:01 -0400] miketheman: chef 10.18 - uploading cookbooks from local filesystem to local chef server take s a long time - is there something obvious I've overlooked?
[2013-06-24 18:33:54 -0400] coderanger: mlb-: Some people like to break out attr files in the same way as recipes, but overall thats not much of a community pattern
[2013-06-24 18:34:04 -0400] coderanger: mlb-: Would be a nice patch to support both layouts :)
[2013-06-24 18:34:08 -0400] chris613: Are people generally running omnibus_updater in a permanent run-list, or just on an as-needed basis? I was doing the former, but have just switched to the later because of the awkwardness around needed to kill the Chef run when an upgrade occurs
[2013-06-24 18:35:15 -0400] miketheman: chris613: that fix ought to go out today
[2013-06-24 18:35:33 -0400] miketheman: according to spox
[2013-06-24 18:35:37 -0400] chris613: miketheman: Oh? Where caqn I see details of the fix?
[2013-06-24 18:35:50 -0400] miketheman: https://github.com/hw-cookbooks/omnibus_updater/issues/20
[2013-06-24 18:38:14 -0400] rottmanj: brandonbell it looks like it is working. 40 instances created and all are registered correctly
[2013-06-24 18:38:36 -0400] brandonbell: rottmanj:  Great.  I'm seeing the same
[2013-06-24 18:39:08 -0400] rottmanj: herm maybe not
[2013-06-24 18:39:08 -0400] chris613: miketheman: Aha, well that would be a step in the right direction, but it's still problematic. The specific problem I'm having is when my chef run alters config and schedules a :delayed restart of the associated service, but when the :delayed omnibus install gets triggered it kills the run. Now my configs are in place but the service never restarted, and an additional chef run will not restart the service either (since config didn't change within that run).
[2013-06-24 18:39:12 -0400] benkay: so by my read if I want to encrypt data bags, I have to create them and encrypt them on the chef-server. but how do I get them into VCS from there?
[2013-06-24 18:39:16 -0400] benkay: argggghg
[2013-06-24 18:39:18 -0400] mlb-: Attribute files can overwrite the namespace of a different recipe? E.g., my cookbook could depend/include apache2, wherein I'd be able to take precedence apache2's ['apache']['default_modules'] value via my attributes?
[2013-06-24 18:39:26 -0400] rottmanj: cluster kill is not removing the client/node from opscode
[2013-06-24 18:39:40 -0400] miketheman: chris613: that's a good point. in that case, I'd err in the way of staging things to go at diff. times
[2013-06-24 18:39:49 -0400] mlb-: s/precedence/precedence over/
[2013-06-24 18:39:54 -0400] rottmanj: Ok nm, it is just a bit slow at this point
[2013-06-24 18:40:15 -0400] coderanger: mlb-: Yes, all one namespace
[2013-06-24 18:40:42 -0400] chris613: miketheman: Yeah, the only solution we've found is to kick omnibus-updater out of our permanent runlist. The other solution is just "don't do config changes and up upgrade at the same time", whcih is a bit awkward for us
[2013-06-24 18:40:43 -0400] mlb-: Right on. Thanks for confirming.
[2013-06-24 18:41:24 -0400] miketheman: chris613: understood. might be worth adding a "update-chef" role and use that when needed
[2013-06-24 18:42:12 -0400] chris613: miketheman: Any advantage to a role vs a wrapper cookbook in this case?
[2013-06-24 18:42:32 -0400] chris613: We have basically stopped using roles altogether
[2013-06-24 18:43:29 -0400] miketheman: stylistic preference, that's all. I like my roles
[2013-06-24 18:44:05 -0400] coderanger: Roles expose data via the API, wrapper cookbooks do not, as in you cannot inspect what is running on a given node
[2013-06-24 18:44:36 -0400] coderanger: At some point we should fix include_recipe to append to node['recipes'] which will give you something at least
[2013-06-24 18:44:44 -0400] coderanger: but as it standings, minimal visibility
[2013-06-24 18:44:50 -0400] dsteen: any way to do a "search" for an element that does *not* have a particular attribute set?
[2013-06-24 18:45:13 -0400] dsteen: like "NOT roles:*" except that doesn't seem to work.
[2013-06-24 18:45:15 -0400] miketheman: knife search node 'name:* AND NOT my_attr:thing`
[2013-06-24 18:45:55 -0400] chris613: coderanger: Sure you can. search(:node, "recipe[wrapper-cookbook]"). Though as you point out, it needs to be in the run_list, not included via an include
[2013-06-24 18:46:01 -0400] dsteen: @miketheman:  I'm trying to do this:  search users "( environments:dev OR ( NOT environments:*)) AND ( roles:gui OR ( NOT roles:*) )
[2013-06-24 18:46:15 -0400] chris613: We use tlc-<cookbook> to denote top-level cookbooks suitable for use in the run_list
[2013-06-24 18:46:23 -0400] dsteen: in otherwords I'm looking for an element that doesn't have that attribute set at all.
[2013-06-24 18:46:57 -0400] coderanger: chris613: Yes, you get the top level, but with real roles you can see the expansion too, that is not possible with role-ish cookbooks
[2013-06-24 18:47:07 -0400] miketheman: dsteen: complex logic there. :)
[2013-06-24 18:47:11 -0400] coderanger: dsteen: No, I don't think Solr supports that
[2013-06-24 18:47:33 -0400] chris613: coderanger: Yeah. Worth the tradeoff in our case, but it's definitely a gap in the model
[2013-06-24 18:48:10 -0400] coderanger: chris613: Sure, lots of benefits, just saying there is a definite downside :-)
[2013-06-24 18:48:29 -0400] coderanger: Especially given the new run list viewer that makes it super nice to see whats going on
[2013-06-24 18:49:01 -0400] dsteen: coderanger & miketheman:  bummer.  thanks!   I'm basically trying to have something run if either no role is specified, or if a specific role is specified, but not if a different role (other than that specific one) is specified.
[2013-06-24 18:49:15 -0400] coderanger: chris613: http://i.coderanger.net/S1Cug.png :-)
[2013-06-24 18:50:00 -0400] coderanger: dsteen: I'm not actually sure I can follow that as a human, so I would think coding it might be hard :-)
[2013-06-24 18:50:06 -0400] dsteen: lol
[2013-06-24 18:50:37 -0400] dsteen: Basically I want it to run by default. unless you put it in a role that it is not supposed to.
[2013-06-24 18:51:09 -0400] coderanger: So add it to your base role and then at the top "return if node['roles'].include?('disable_me')
[2013-06-24 18:52:12 -0400] dsteen: coderanger:  that's a neat idea.  would that work for data in a data bag?
[2013-06-24 18:52:16 -0400] coderanger: Sure
[2013-06-24 18:52:29 -0400] dsteen: I'm trying to create users, and have the users data in a databag
[2013-06-24 18:52:37 -0400] coderanger: return at the top level in recipe code just prevents running anything below it
[2013-06-24 18:52:46 -0400] coderanger: picks up with the new recipe in the run list expansion
[2013-06-24 18:53:00 -0400] dsteen: oh cool.
[2013-06-24 18:53:04 -0400] dsteen: that might very well do it.
[2013-06-24 18:53:06 -0400] dsteen: thanks!
[2013-06-24 18:53:07 -0400] coderanger: What you do with that is up to you, just ruby code :)
[2013-06-24 18:53:27 -0400] coderanger: Also as a general rule, never use search hen asking questions about the current node
[2013-06-24 18:53:34 -0400] dsteen: oh?
[2013-06-24 18:53:40 -0400] dsteen: what would I use instead?
[2013-06-24 18:53:40 -0400] coderanger: since the index hasn't yet been updated for the current run's data
[2013-06-24 18:53:52 -0400] coderanger: that only happens after the run completes and it saves up to the server
[2013-06-24 18:54:06 -0400] coderanger: you just have to check the relevant data yourself
[2013-06-24 18:54:07 -0400] dsteen: ah.  but is the "local" data updated?
[2013-06-24 18:54:12 -0400] coderanger: like looking in node['roles']
[2013-06-24 18:54:18 -0400] dsteen: cool.
[2013-06-24 18:54:19 -0400] dsteen: thanks!
[2013-06-24 18:54:59 -0400] coderanger: Otherwise you end up with gross eventually consistency situations where you have to run chef-client 14 times
[2013-06-24 18:55:04 -0400] coderanger: and that is sadpanda
[2013-06-24 18:55:34 -0400] dsteen: yeah, we have that exact problem with our current (ancient) system.
[2013-06-24 18:55:44 -0400] dsteen: that's one of the reason we are migrating.
[2013-06-24 18:57:29 -0400] chris613: coderanger: What I've been doing is using node.run_state[:seen_recipes] to persist my own version of the expanded runlist
[2013-06-24 18:58:06 -0400] djstunami: Anyone know how to change the os chef server webui theme?
[2013-06-24 18:58:12 -0400] coderanger: chris613: That works, but really include_recipe should just append to node['recipes'], there is literally not a reason to not do that at this point :-)
[2013-06-24 18:58:22 -0400] coderanger: djstunami: There isn't really a way to do that
[2013-06-24 18:58:50 -0400] djstunami: that's odd
[2013-06-24 18:58:53 -0400] coderanger: djstunami: You can dive into the rails config if you really want
[2013-06-24 18:59:01 -0400] coderanger: but the webui is quite basic
[2013-06-24 19:01:49 -0400] djstunami: *nod* I tried to run rake on the embedded webui with a different theme specified but it wants to use my system ruby rather than the embedded ruby (understandably).  So I was hoping there was a quick fix.  Oh well.
[2013-06-24 19:04:49 -0400] coderanger: djstunami: You have to fix your path to have the omnibus bin folders first
[2013-06-24 19:05:13 -0400] coderanger: djstunami: But we may not ship enough stuff to rebuild the assets, thats done in the build system before the packages are made
[2013-06-24 19:07:07 -0400] djstunami: *nod* I figured, but didn't feel like messing with it, as it's embedded, and might not work even if I bothered to do so
[2013-06-24 19:07:35 -0400] djstunami: coderanger: thanks for letting me know :)
[2013-06-24 19:07:59 -0400] coderanger: djstunami: you can just go edit the CSS by hand
[2013-06-24 19:08:06 -0400] coderanger: but upgrades will suck, yada yada
[2013-06-24 19:12:53 -0400] btm: @opscode ohai code review, join: https://plus.google.com/hangouts/_/78c0aea65df700c961faae1c4aa8357168ada1bd, watch: http://youtu.be/Woy6ltCRZr8
[2013-06-24 19:36:34 -0400] gothaggis: Hello, I have created a new role called lamp_server_ubuntu and applied it to my node (moved it to Run List, and then saved)
[2013-06-24 19:36:42 -0400] justizin: anyone have a cookbook installing collectd from source?
[2013-06-24 19:37:07 -0400] gothaggis: if I type knife search node name:* my nodes show up, however for this node it shows Run List: role[lamp_server_ubuntu] and under Roles it is empty
[2013-06-24 19:37:20 -0400] justizin: seems like collectd 5 is full of improvements, but noone is shipping it
[2013-06-24 19:37:32 -0400] gothaggis: and if i type knife ssh "roles:lamp_server_ubuntu" "sudo chef-client" it tells me no nodes returned from search
[2013-06-24 19:38:00 -0400] gleam: role:
[2013-06-24 19:38:56 -0400] Otterley: gothaggis, I think it's 'role:', not 'roles:
[2013-06-24 19:39:22 -0400] gothaggis: haha that would be it.  thanks guys
[2013-06-24 19:42:16 -0400] wmz: a noob question, i see some variable is defined with "__string_/logs/error.log" what does __string_ means?
[2013-06-24 20:01:47 -0400] jchauncey: anyone have an example of using a databag in a test kitchen test?
[2013-06-24 20:05:37 -0400] peripatetic: hello all
[2013-06-24 20:05:50 -0400] peripatetic: I am attempting to use test-kitchen
[2013-06-24 20:06:32 -0400] peripatetic: I have listed my dependencies in my cookbooks metadata, I have the depended cookbooks in my cookbook path, and I have uploaded said cookbooks to chef-server
[2013-06-24 20:07:03 -0400] peripatetic: and yet when I attempt to run test-kitchen, it complains that it cannot find the cookbooks I depend upon
[2013-06-24 20:07:26 -0400] peripatetic: specifically the error I am getting is
[2013-06-24 20:07:29 -0400] peripatetic:  FATAL: Chef::Exceptions::CookbookNotFound: Cookbook nodejs not found. If you're loading nodejs from another cookbook, make sure you configure the dependency in your metadata
[2013-06-24 20:10:12 -0400] pwf: say i suddenly care about the stdout of an existing 'execute' resource, what's the best way to get that?
[2013-06-24 20:10:51 -0400] Otterley: pwf, run with -l debug
[2013-06-24 20:10:56 -0400] cwj: peripatetic:  i may be mistaken, but i believe test-kitchen only uses chef-solo, so it has no way of getting at those cookbooks on your server
[2013-06-24 20:11:49 -0400] pwf: i mean collecting the output into a variable though
[2013-06-24 20:12:09 -0400] pwf: it used to create a file, now i want it to print to stdout and put that in a data bag
[2013-06-24 20:12:16 -0400] pwf: and avoid creating a file at all
[2013-06-24 20:14:55 -0400] jchauncey: peripatetic: you should probably use berkshelf
[2013-06-24 20:15:10 -0400] jchauncey: peripatetic: that will help resolve those dependent cookbooks for your test-kitchen tests
[2013-06-24 20:16:34 -0400] peripatetic: jchauncey: thanks, I was evaluating weather to adopt berkshelf or librarian-chef
[2013-06-24 20:16:41 -0400] peripatetic: seems either would help here
[2013-06-24 20:17:25 -0400] jchauncey: peripatetic: yeah, we use berkshelf and it seems to integrate really well with vagrant
[2013-06-24 20:23:05 -0400] pwf: seems i need to be using Chef::ShellOut
[2013-06-24 20:23:06 -0400] btm: @opscode cookbook code review, join: https://plus.google.com/hangouts/_/6a9f5a2a6af58b200839a15cde7a4a4302cbd432, watch: http://youtu.be/s7MkjvOddls
[2013-06-24 20:23:15 -0400] pwf: actually, MixLib::ShellOut since the former is deprecated
[2013-06-24 20:23:20 -0400] pwf: i have 0.10.8 clients though :/
[2013-06-24 20:29:39 -0400] charlesmartin14: i am have a chef / knife question
[2013-06-24 20:30:34 -0400] charlesmartin14: i am using knife ec2 create node .... -r RUNLIST , but the runlist is not being added to the node
[2013-06-24 20:31:13 -0400] charlesmartin14: but i can add the runlist after i create the node
[2013-06-24 20:51:40 -0400] stonevil: Hi All, have issue building omnibus package. Omnibus cannot download/clone repos from github. I can clone/download/etc repos without any issues from cli. But omnibus continuously fail trying clone or ls-remote
[2013-06-24 20:51:47 -0400] stonevil: Any idea?
[2013-06-24 20:52:10 -0400] stonevil: Cannot find root of issue for 20min...
[2013-06-24 20:53:15 -0400] jmickle: anyone know where to find the chef 11 bootstrap example
[2013-06-24 20:56:44 -0400] stonevil: client?
[2013-06-24 20:56:44 -0400] stonevil: http://docs.opscode.com/install_bootstrap.html
[2013-06-24 20:57:02 -0400] stonevil: http://docs.opscode.com/knife_bootstrap.html
[2013-06-24 21:01:29 -0400] jmickle: yeah well if i don't specify a bootstrap file it downloads the default from opscode servers
[2013-06-24 21:04:51 -0400] mark_____: hey guys, is there anyway to get the "role" that applys the cookbook in a recipe ?
[2013-06-24 21:05:25 -0400] mark_____: so for example I'm using chef to provision sensu client, i want the sensu subscribed group for the node to be the same as the role
[2013-06-24 21:05:37 -0400] gleam: you can get the node's run list and parse out the roles
[2013-06-24 21:06:59 -0400] mark_____: gleam: so I have one role for each service type but that role may apply a base "all" node and a couple of others
[2013-06-24 21:07:17 -0400] mark_____: would it show me all the roles or just the one I applied at bootstrap
[2013-06-24 21:31:58 -0400] pwf: so i want to store small tar files in encrypted data bags
[2013-06-24 21:32:02 -0400] pwf: is that i bad idea
[2013-06-24 21:32:16 -0400] pwf: i don't really see people storing binary data in data bags...
[2013-06-24 21:42:24 -0400] miah: pwf: its a bad idea.
[2013-06-24 21:42:44 -0400] miah: not to say, it can't be done. but you'll probably need to encode the files to store them.
[2013-06-24 21:42:51 -0400] miah: seems like more work than its worth honestly.
[2013-06-24 21:43:01 -0400] miah: you could just pgp encrypt the files and store them on a server to be downloaded
[2013-06-24 21:45:21 -0400] gswallow: First, does anyone see this message?
[2013-06-24 21:46:21 -0400] gswallow: Second, does anyone here know much about WinRM and Chef?  Specifically, I am trying to connect to my new Windows box using WinRM over SSL and not having much luck.  I have traced it down to HTTPClient enabling SLS Peer Verification by default and I don't want that.
[2013-06-24 21:48:11 -0400] WPsites: is there a way to achieve the same as "knife bootstrap" without using knife??
[2013-06-24 21:48:20 -0400] cwj: gswallow: yes, i see your message, and sorry but i have zero experience with chef and windows
[2013-06-24 21:48:31 -0400] gswallow: WPsites you can log into the box and type 'chef-client -E environment -j /etc/chef/chef.bootstrap.json
[2013-06-24 21:48:39 -0400] gswallow: or first-run.json.  I can't remember the filename
[2013-06-24 21:48:45 -0400] gswallow: cwj: thanks
[2013-06-24 21:49:16 -0400] miah: 'first-run.json' can be anything though, you just want a json file with the right contents.
[2013-06-24 21:49:26 -0400] gswallow: it will have your runlist, usually.
[2013-06-24 21:49:40 -0400] WPsites: this is on a brand new box. I want to bootstrap a brand new box but I don't want to use knife on my workstation. I would rather do the bootstrap over SSH if you get what I mean
[2013-06-24 21:49:46 -0400] gswallow: if you don't have chef-client installed you basically need to get ruby, etc. installed.
[2013-06-24 21:49:54 -0400] miah: knife works over ssh
[2013-06-24 21:50:00 -0400] gswallow: you can look into the gem itself at the bootstrap templates
[2013-06-24 21:50:07 -0400] jtimberman: knife ssh works over ssh
[2013-06-24 21:50:15 -0400] miah: so does knife bootstrap =)
[2013-06-24 21:50:32 -0400] jtimberman: sure, but someone might read taht and be confused and think that everything knife does uses ssh.
[2013-06-24 21:50:34 -0400] gswallow: e.g. /.rvm/gems/ruby-2.0.0-p0/gems/chef-10.26.0/lib/chef/knife/bootstrap/ubuntu12.04-gems.erb
[2013-06-24 21:50:38 -0400] pwf: miah: for certain reasons i cannot change, we can't host them from the server
[2013-06-24 21:50:42 -0400] WPsites: I don't want knife to get involved.
[2013-06-24 21:50:46 -0400] pwf: we're only allowed one port and something else is using that port
[2013-06-24 21:51:06 -0400] pwf: so i'm just going to stick these few files into a data bag... they're not binary files but currently they're put into a tar file
[2013-06-24 21:51:23 -0400] pwf: i was going to just shove that tar into a data bag but i suppose i'll just use the file contents instead
[2013-06-24 21:51:27 -0400] pwf: still a little weird but oh well
[2013-06-24 21:51:46 -0400] gswallow: soif I'm stumped on this windows / SSL issue, do I file a support ticket or something?  I'm a hosted chef customer.
[2013-06-24 21:51:52 -0400] jtimberman: pwf: why not use the files distribution method in cookbooks? cookbook_file resource, put files in the cookbook's files/default directory?
[2013-06-24 21:53:08 -0400] pwf: these are 'dynamic'
[2013-06-24 21:53:23 -0400] pwf: i'm doing key generation for nodes that need to use this service
[2013-06-24 21:53:35 -0400] pwf: put a role on the nodes, and it knows it needs to generate a key to distribute to that node
[2013-06-24 22:05:50 -0400] bringo: Ohai, I wanted to know how to reduce some duplication in an LWRP provider. There is a long-ish execute resource that occurs in multiple places. How may I go about 'extracting it into another method'?
[2013-06-24 22:06:48 -0400] bringo: I basically want to parameterize the invokation of an execute resource from multiple places in the provider.
[2013-06-24 22:08:01 -0400] Otterley: bringo, well, an LWRP is the way to go
[2013-06-24 22:08:19 -0400] Otterley: http://docs.opscode.com/lwrp_custom.html
[2013-06-24 22:09:11 -0400] bringo: Otterley, just to be clear are you saying that the execute resource should be wrapped in an LWRP of its own? I thought of the same thing initially.
[2013-06-24 22:09:21 -0400] Otterley: that's what I suggest
[2013-06-24 22:09:28 -0400] gad0lin: Aloha!
[2013-06-24 22:09:45 -0400] bringo: Humm, may not be possible -- large complex legacy codebase.
[2013-06-24 22:10:11 -0400] bringo: Was wondering if there was a way to take care of it in the existing provider. Seems hard though.
[2013-06-24 22:10:36 -0400] Otterley: it's hard to know without seeing the code
[2013-06-24 22:10:49 -0400] bringo: Yeah
[2013-06-24 22:11:05 -0400] gad0lin: I am trying to install chef-server (easy) with chef-solo, use chef-server::default.rb to do that, but I am running behind proxy, and hit timeout on response = http.get(url.request_uri, {})
[2013-06-24 22:12:09 -0400] gad0lin: i have set http_proxy, https_proxy, ENV["http_proxy"],ENV["https_proxy"] in solo.rb, but that proxy is ignored. AFAIU ruby ignores it
[2013-06-24 22:13:38 -0400] Otterley: gad0lin, yeah, Ruby Net::HTTP is stupid
[2013-06-24 22:13:41 -0400] Otterley: "Note that net/http does not use the HTTP_PROXY environment variable. If you want to use a proxy, you must set it explicitly."
[2013-06-24 22:13:51 -0400] jmickle: anyone know how to access the knife config variables in a bootstrap template?
[2013-06-24 22:13:53 -0400] Otterley: however, you can set it in /etc/chef/client.rb
[2013-06-24 22:14:20 -0400] gad0lin: Otterley: yep, but it does not work in solo
[2013-06-24 22:14:54 -0400] gad0lin: Otterley: I have been hitting those issues for over a year, do you thing net/http could be more smarter?
[2013-06-24 22:16:11 -0400] Otterley: gad0lin, Ruby 2.0's does.
[2013-06-24 22:16:32 -0400] Otterley: but Omnibus Chef isn't using it just yet
[2013-06-24 22:16:58 -0400] gad0lin: Otterley: great, thx. I have no courage to switch my env to it :)
[2013-06-24 22:17:23 -0400] Otterley: Net::HTTP in Ruby 2.0 is way way better, and has persistent connection support, which should make client sessions a lot faster when talking to a distant server
[2013-06-24 22:18:10 -0400] Otterley: (however, the chef client code needs a bunch of work so that the client object is memoized)
[2013-06-24 22:20:21 -0400] llakey: i'm using the sysctl cookbook, using a sysctl_param 'fs.file-max' do block, and i'm getting the following error: FATAL: NameError: Cannot find a resource for sysctl_param on centos version 6.4
[2013-06-24 22:23:18 -0400] gleam: you probably need to do depends 'sysctl' in whatever cookbook you'e using sysctl_param in
[2013-06-24 22:23:39 -0400] llakey: ok. checking
[2013-06-24 22:24:47 -0400] bixu: So I'm having an issue with the ipaddr_extensions gem, added as a chef_gem, during bootstrap of Ubuntu 12...
[2013-06-24 22:42:20 -0400] thasmo: Hey there! Does anybody have input on this? Thanks! http://tickets.opscode.com/browse/CHEF-4142
[2013-06-24 22:52:30 -0400] ivanoats: if I want to use a version of chef that's compatible with rubygems 2.0 (has bug CHEF-3933 fixed, which branch or tag on Github should I use?
[2013-06-24 22:55:12 -0400] gad0lin: Otterley: would that make sense: https://github.com/opscode-cookbooks/chef-server/pull/31
[2013-06-24 22:57:25 -0400] Otterley: gad0lin, isn't this a chef-solo limitation?
[2013-06-24 23:00:47 -0400] gad0lin: Otterley: yes, that is, but its a blocker for people running behind proxy. The only problem is when creating initial chef-server, rest will go without issues as will use chef-server
[2013-06-24 23:08:13 -0400] Otterley: gad0lin, I don't understand - which step fails?
[2013-06-24 23:22:52 -0400] bixu: How can I get an installed chef gem to be respected by recipes upon the initial (bootstrap) chef run?
[2013-06-24 23:27:40 -0400] llakey: gleam: thanks. i'm using Berkshelf with library and application cookbooks and i'd left out include_recipe "sysctl" from my library tuning cookbook
[2013-06-24 23:28:15 -0400] llakey: i'm using the systcl cookbook with centos and i'm getting FATAL: NoMethodError: undefined method `[]' for nil:NilClass associated with sysctl_path = if(node['sysctl']['conf_dir'])
[2013-06-24 23:37:25 -0400] stormerider: i'm suddenly getting "There was an error connecting to the Chef Server" from berkshelf uploading cookbooks, but the web ui looks fine. any idea what i should look into? verified my knife client works fine as well.
