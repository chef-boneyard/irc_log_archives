[2013-06-04 01:03:42 -0400] spulec: Anyone with some public cookbooks interested in giving some feedback on a hosted testing solution?
[2013-06-04 01:55:01 -0400] failshell: with chef 10, i used to do if node.recipe?('foo::bar')
[2013-06-04 01:55:06 -0400] failshell: with chef 11, that doesnt work anymore
[2013-06-04 01:55:15 -0400] failshell: anyone can point me in the right direction?
[2013-06-04 02:00:05 -0400] failshell: https://tickets.opscode.com/browse/CHEF-3906
[2013-06-04 02:00:27 -0400] failshell: i use node.recipe? in so many places ....
[2013-06-04 02:16:19 -0400] coderanger: Use node['recipes'].include?
[2013-06-04 02:17:53 -0400] coderanger: Ahh, looks like we fixed Node#recipe? to do that for you actually
[2013-06-04 02:17:54 -0400] coderanger: good to know
[2013-06-04 07:52:13 -0400] nd__: Can anyone help me with the cookbooks firewall and ufw? If I install them (first ufw, then firewall) my ssh connection to the server dies From what I read, ssh should be allowed by default
[2013-06-04 08:03:09 -0400] kernel_panick: Hi to all ;) I have a problem w/ the cookbook Ark  => NoMethodError: undefined method `attribute' for Chef::Resource::Ark:Class
[2013-06-04 08:03:27 -0400] kernel_panick: only w/  chef 11.. have u ever seen it?  thanks!
[2013-06-04 09:31:34 -0400] s2r2: hmm... Is there any way to tell `knife bootstrap` the FQDN of the host (given via IP) that should be bootstrapped?  E.g. ohai hints?
[2013-06-04 09:36:51 -0400] wat: hi, im getting Cannot find a resource for apt_repository on ubuntu version 12.10
[2013-06-04 09:36:54 -0400] wat: what doo
[2013-06-04 09:38:27 -0400] gkarekinian: Is that from your own cookbook? You're missing a dependency on the apt cookbook in your metadata.rb
[2013-06-04 09:59:16 -0400] wat: gkarekinian: you're the best, ty ty
[2013-06-04 09:59:22 -0400] gkarekinian: No problem
[2013-06-04 10:41:54 -0400] nd__: Can anyone help me with the cookbooks firewall and ufw? If I install them (first ufw, then firewall) my ssh connection to the server dies From what I read, ssh should be allowed by default
[2013-06-04 10:48:08 -0400] simonvlc: hi everyone, I'm starting with chef and have a doubt running the chef-user cookbook by fnichol
[2013-06-04 10:48:09 -0400] simonvlc: https://github.com/fnichol/chef-user
[2013-06-04 10:48:39 -0400] simonvlc: I have created a data bag with my users information
[2013-06-04 10:48:59 -0400] simonvlc: but I don't know how to run the recipe in my nodes
[2013-06-04 10:49:30 -0400] simonvlc: it should be adding recipe[user::data_bag] to my run list
[2013-06-04 10:49:41 -0400] simonvlc: but it won't load the users
[2013-06-04 10:49:59 -0400] simonvlc: anyone could help please?
[2013-06-04 11:29:16 -0400] ermajn: I want to include in my attributes default.rb another file based on node hostname., how to check if file exists before including it?
[2013-06-04 11:30:14 -0400] admin0: ermajn,  you can do the only_if test
[2013-06-04 11:31:06 -0400] ermajn: admin0, when including?
[2013-06-04 11:31:12 -0400] ermajn: or to check if it is included
[2013-06-04 11:31:28 -0400] ermajn: error is triggered when trying to include non existing file
[2013-06-04 11:31:51 -0400] maruq: simonvlc: it should be a case of upload your data bags to the server, then add user::data_bag to the run_list
[2013-06-04 11:32:25 -0400] admin0: ermajn, not sure if this will help .. http://pastebin.com/Q4T0udbC
[2013-06-04 12:20:14 -0400] alex88: hi guys
[2013-06-04 12:20:22 -0400] alex88: is there a way to render a template to a variable instead of a file?
[2013-06-04 12:43:18 -0400] masterkorp: alex88: what are you trying to do ?
[2013-06-04 12:43:40 -0400] alex88: masterkorp: add a template into another file
[2013-06-04 12:43:49 -0400] alex88: to keep most of the file under the project git
[2013-06-04 12:43:56 -0400] alex88: and just add what needed within the chef recipe
[2013-06-04 12:44:03 -0400] alex88: and don't version 2 times the same thing
[2013-06-04 12:44:19 -0400] masterkorp: i'd say, use ruby for that
[2013-06-04 12:44:43 -0400] alex88: masterkorp: so just ERB.new and erb.result()?
[2013-06-04 12:44:58 -0400] alex88: also, better way to get template path instead of ../templates/default/template.erb ?
[2013-06-04 12:44:59 -0400] masterkorp: probably what i'd do
[2013-06-04 12:45:13 -0400] masterkorp: alex88: good question, i have no idead
[2013-06-04 12:45:26 -0400] alex88: well, for now I'll leave it as is...
[2013-06-04 12:45:30 -0400] alex88: thanks for the tips masterkorp!
[2013-06-04 12:49:07 -0400] alex88: the problem with that is just how to make it idempotent... maybe I should create a start/end comment block so I alway replace what's inside that
[2013-06-04 12:52:46 -0400] spox: alex88: are you changing out just a small portion?
[2013-06-04 12:53:15 -0400] spox: and is this something that can't be isolated to a small file, that can just be loaded in addition to the existing file?
[2013-06-04 12:53:18 -0400] alex88: spox: well, the original file is a yaml config file of about 200 lines, I've to add about 10-20 lines
[2013-06-04 12:53:57 -0400] alex88: spox: yeah, since if I load it in addition to an existing file I should still change this file to include the other one
[2013-06-04 12:54:55 -0400] spox: alex88: any reason for that inclusion not be hardcoded?
[2013-06-04 12:55:13 -0400] alex88: spox: since when developing and in other deploy servers the extra file won't be there
[2013-06-04 12:55:43 -0400] spox: you could just provide an empty file within the version control system so it exists
[2013-06-04 12:55:50 -0400] spox: and then you can just overwrite it
[2013-06-04 12:55:53 -0400] alex88: let me check if that works
[2013-06-04 12:55:54 -0400] alex88: sec
[2013-06-04 12:55:59 -0400] alex88: and thanks already
[2013-06-04 12:56:06 -0400] spox: and you're back to managing a full file, instead of attempting to manage part of it
[2013-06-04 12:56:09 -0400] spox: alex88: sure.
[2013-06-04 12:56:24 -0400] spox: any way you can get out of trying to manage part of a file will be for the best :)
[2013-06-04 13:00:40 -0400] alex88: spox: yeah, the problem I have is the order, since for now I've included this file inside my prod.yml, which imports other files on top
[2013-06-04 13:01:09 -0400] alex88: but maybe I can easily move that prod.yml to prod_secondary.yml and set my file to import that and override on top
[2013-06-04 13:01:20 -0400] alex88: but that's another question :) Thanks for the tips spox!
[2013-06-04 13:01:32 -0400] alex88: should work, but composer takes ages to download all the deps
[2013-06-04 13:15:26 -0400] chris613: Noticing this morning that my omnibus_updater cookbook is getting 403 errors trying to download the RPMs. Does anyone know if this is temporary or if I need to change something?
[2013-06-04 13:16:16 -0400] spox: chris613: what version of the cookbook are you using?
[2013-06-04 13:16:35 -0400] chris613: spox: 0.1.1
[2013-06-04 13:17:13 -0400] chris613: spox: Trying to have install 10.20.0
[2013-06-04 13:17:18 -0400] spox: chris613: see about upgrading to the latest. that version was still pulling directly from the buckets
[2013-06-04 13:17:34 -0400] chris613: Yes, the s3 buckets. Alright will do, thanks
[2013-06-04 13:17:35 -0400] spox: newer versions hit the client at opscode to get the url
[2013-06-04 13:48:33 -0400] gazarsgo: anyone can help me out w/ the sudo recipe ? trying to disable requirestty for a user, i have the data set in the role but i'm not sure how to invoke the recipe correctly, tried both in run list and in the recipe
[2013-06-04 13:48:43 -0400] gazarsgo: s/recipe/cookbook/
[2013-06-04 13:57:14 -0400] gazarsgo: is it just supposed to be understood that i can place attributes in roles or attributes/default.rb and switch syntax as appropriate ? why is the syntax different for attributes in one or the other ?
[2013-06-04 14:01:51 -0400] eponymi: gazarsgo: what is different about the syntax?
[2013-06-04 14:02:02 -0400] gazarsgo: => vs : ?
[2013-06-04 14:02:56 -0400] failshell:  so in chef 10, you could do something like if node.recipe?('foo'). that has been removed by our opscode overlords for some reason. anything in chef 11 that provides the same functionality?
[2013-06-04 14:03:06 -0400] failshell: i need a way to get the full list of recipes applied to a node
[2013-06-04 14:03:37 -0400] gazarsgo: knife node show ?
[2013-06-04 14:03:56 -0400] failshell: i need to access it from within a recipe
[2013-06-04 14:04:16 -0400] eponymi: gazarsgo: can you show a more extensive example? i think that => vs : is just two different ways to describe the same thing in ruby
[2013-06-04 14:06:01 -0400] spox: failshell: should still be in chef 11
[2013-06-04 14:06:33 -0400] failshell: spox: not according to this https://tickets.opscode.com/browse/CHEF-3906
[2013-06-04 14:06:35 -0400] gazarsgo: eponymi: maybe it is just equivalent syntax, i'm still learning ruby
[2013-06-04 14:06:49 -0400] failshell: yes its accessible, but it doesnt contain the full expanded list of recipes as in 10
[2013-06-04 14:07:25 -0400] eponymi: failshell: maybe a fair question is, what are you trying to do with that full list of recipes?
[2013-06-04 14:07:46 -0400] cassianoleal: gazarsgo: the canonical Ruby syntax for hashes is :symbol => 'value', but Ruby 1.9 introduced a shorted version in the form of symbol: 'value'
[2013-06-04 14:07:52 -0400] failshell: eponymi: we use it to configure our monitoring system
[2013-06-04 14:08:06 -0400] cassianoleal: they're equivalent, but the latter doesn't work with pre-1.9 Ruby
[2013-06-04 14:08:26 -0400] eponymi: so, like, "if it has x recipe, then add the monitor for x recipe to the run list"?
[2013-06-04 14:08:46 -0400] eponymi: or rather "include the provider for the monitor of x recipe"?
[2013-06-04 14:08:51 -0400] failshell: yeah
[2013-06-04 14:09:00 -0400] failshell: we push a string to an array
[2013-06-04 14:09:34 -0400] eponymi: you push the recipe name string to the array of providers which will be run?
[2013-06-04 14:10:08 -0400] failshell: well, if it finds rabbitmq::default for example, its gonna push to the array rabbitmq-alive
[2013-06-04 14:10:14 -0400] failshell: there's quite a few of those
[2013-06-04 14:10:25 -0400] failshell: and we use that technique for a lot of other stuff too
[2013-06-04 14:10:33 -0400] eponymi: ok, that's why i asked; so the recipe name is not a one-to-one match for the provider name?
[2013-06-04 14:10:40 -0400] failshell: no
[2013-06-04 14:11:05 -0400] failshell: for example, if it detects apache or nginx, then it configures a few checks
[2013-06-04 14:11:12 -0400] failshell: based on a few tests
[2013-06-04 14:11:29 -0400] gazarsgo: cassianoleal: ok thanks
[2013-06-04 14:11:31 -0400] spox: failshell: so are these recipes that are not within the expanded run list, but are still loaded (dependencies) ?
[2013-06-04 14:11:45 -0400] failshell: spox: include_recipe 'foo'
[2013-06-04 14:11:58 -0400] spox: right, okay
[2013-06-04 14:12:08 -0400] failshell: i fail to see why opscode would remove that
[2013-06-04 14:12:13 -0400] eponymi: ok, so a succinct description would be "conditional included recipes"
[2013-06-04 14:12:14 -0400] failshell: was so useful
[2013-06-04 14:12:21 -0400] spox: node.run_context.loaded_recipe?('foo')
[2013-06-04 14:12:42 -0400] eponymi: if your factorization has already divided these things into separate recipes, why not put the provider in that recipe?
[2013-06-04 14:13:32 -0400] failshell: eponymi: our inhouse cookbooks sure, but the communities, that would be a lot of forks to maintain
[2013-06-04 14:13:38 -0400] failshell: spox: let me try that
[2013-06-04 14:13:51 -0400] spox: but yeah, i would agree with that, being explicit about what you are using rather than doing implicit detection
[2013-06-04 14:14:02 -0400] spox: even with simple wrappers to load in what you want
[2013-06-04 14:14:12 -0400] spox: but, that should probably get you what you need
[2013-06-04 14:14:30 -0400] eponymi: huh? i didn't follow that. why would that involve maintaining bunch of forks?
[2013-06-04 14:14:55 -0400] HAPPYFUNBRO: what does EOH mean? also, what is the preferred method for running something like 'passwd'?
[2013-06-04 14:15:09 -0400] HAPPYFUNBRO: or an init script?
[2013-06-04 14:15:15 -0400] failshell: its not a provider
[2013-06-04 14:15:21 -0400] failshell: we just push to an array
[2013-06-04 14:15:26 -0400] spox: HAPPYFUNBRO: EOH in what context?
[2013-06-04 14:15:33 -0400] failshell: its very simple
[2013-06-04 14:15:47 -0400] spox: and passwd? probably looking for the users cookbook
[2013-06-04 14:15:56 -0400] spox: or just the user resource in general
[2013-06-04 14:16:17 -0400] HAPPYFUNBRO: spox in these examples: http://docs.opscode.com/resource_bash.html
[2013-06-04 14:16:20 -0400] HAPPYFUNBRO: YOLO SWAG
[2013-06-04 14:16:23 -0400] eponymi: e.g. you could write a recipe 'yourcookbook::apache2' which simply included the default recipe and added the checks or providers or whatever?
[2013-06-04 14:16:55 -0400] failshell: eponymi: sure, but that implies having to think about it. which kinda defeats the purpose of using chef
[2013-06-04 14:16:59 -0400] failshell: right now, everything is automated
[2013-06-04 14:16:59 -0400] HAPPYFUNBRO: spox: e.g.  code <<-EOH
[2013-06-04 14:17:05 -0400] failshell: monitoring, we dont think about it
[2013-06-04 14:17:07 -0400] failshell: its there, always
[2013-06-04 14:17:14 -0400] failshell: we wrote the checks once
[2013-06-04 14:17:19 -0400] spox: HAPPYFUNBRO: it's heredoc syntax
[2013-06-04 14:17:29 -0400] HAPPYFUNBRO: what's that
[2013-06-04 14:17:38 -0400] eponymi: or, if you wanted to keep that single-location of producing the checks, you could have a node['monitors'] array, and in the recipe, push those checks to that array.
[2013-06-04 14:17:43 -0400] spox: HAPPYFUNBRO: a quick google search will will you in
[2013-06-04 14:17:56 -0400] HAPPYFUNBRO: also, would I need to use code to run a single line command?
[2013-06-04 14:21:09 -0400] jbowman: hi everyone, not having much luck googling. Is there a way to have a recipe read a file and use the contents to set an attribute? Specifically I'm trying to run rndc-confgen, get the key from /etc/rndc.key and set an attribute on the server with the value for templaring the named.conf
[2013-06-04 14:21:24 -0400] jbowman: *templating
[2013-06-04 14:22:14 -0400] eponymi: well i don't think i understood that, but there is a node.set method
[2013-06-04 14:22:19 -0400] spox: jbowman: use a ruby_block resource
[2013-06-04 14:22:39 -0400] spox: you can read the file, clean up the value, then set it into an attribute
[2013-06-04 14:22:54 -0400] jbowman: spox: gotcha, I'll give that a try. thanks
[2013-06-04 14:25:26 -0400] yoloswagjesus420: Hey guys, how do you guys usually log successful usage of resources?
[2013-06-04 14:26:12 -0400] yoloswagjesus420: For example, if you create a directory, how would you log "INFO: Creating directory" vs. "INFO: Directory already exists?"
[2013-06-04 14:27:51 -0400] JasonG_: morning all -- I'm having some issues with cookbook version dependencies, simple things aren't working
[2013-06-04 14:27:53 -0400] JasonG_: $ knife cookbook upload ulimit mongodb2
[2013-06-04 14:27:53 -0400] JasonG_: Uploading ulimit         [0.2.0]
[2013-06-04 14:27:54 -0400] JasonG_: Uploading mongodb2       [1.0.1]
[2013-06-04 14:27:55 -0400] JasonG_: ERROR: Cookbook mongodb2 depends on cookbook 'ulimit' version '~> 0.1.4',
[2013-06-04 14:27:56 -0400] JasonG_: ERROR: which is not currently being uploaded and cannot be found on the server.
[2013-06-04 14:28:22 -0400] eponymi: JasonG_ your version constraint doesn't allow 0.2
[2013-06-04 14:28:25 -0400] eponymi: i think
[2013-06-04 14:28:45 -0400] JasonG_: I would figure ~> "approximately greater than" would match
[2013-06-04 14:28:55 -0400] ivey: yoloswagjesus420: http://docs.opscode.com/resource_log.html
[2013-06-04 14:29:05 -0400] ivey: but chef resources already do a lot of logging
[2013-06-04 14:29:14 -0400] failshell: spox: node.run_context.loaded_recipes is a almost what i need
[2013-06-04 14:29:22 -0400] failshell: spox: but it doesnt contain the full list
[2013-06-04 14:29:33 -0400] eponymi: JasonG_ i can't remember if it's the first or second digit, but one of them is disallowed by ~>
[2013-06-04 14:29:43 -0400] eponymi: an increase of one of them* is disallowed
[2013-06-04 14:30:08 -0400] JasonG_: eponymi: interesting, so its' doing what its supposed to, how annoying. :-)
[2013-06-04 14:30:33 -0400] eponymi: JasonG_ i could be wrong about the digit though, don't trust me :)
[2013-06-04 14:30:54 -0400] eponymi: it's something to do with semver and protecting yourself against bc breaks
[2013-06-04 14:31:04 -0400] JasonG_: I'll dig around for docks on the ~> match operator, it's not here: http://docs.opscode.com/essentials_cookbook_metadata.html
[2013-06-04 14:31:21 -0400] JasonG_: well, it's there but not described in detail
[2013-06-04 14:31:35 -0400] yoloswagjesus420: ivey: How do resources do the logging? Do they already output to /var/log/chef-log?
[2013-06-04 14:32:42 -0400] ivey: yoloswagjesus420: http://wiki.opscode.com/display/chef/Troubleshooting+and+Technical+FAQ#TroubleshootingandTechnicalFAQ-WherecanIfindChef'slogs?
[2013-06-04 14:32:56 -0400] ivey: see the following answer as well
[2013-06-04 14:32:58 -0400] eponymi: JasonG_ you could just try installing a version of ulimit < 0.2.0 and running upload to see if that works.
[2013-06-04 14:33:11 -0400] JasonG_: I'm going to do exactly that
[2013-06-04 14:33:16 -0400] bakins: is there a Chef::config variable that tells me the config dir, i.e. /etc/chef?
[2013-06-04 14:34:45 -0400] yoloswagjesus420: Oh thanks. Does the verbose logging actively say when a resource succeeds or not?
[2013-06-04 14:35:53 -0400] ivey: yoloswagjesus420: it says what it does. resources are assumed to succeed, if they run, and don't error
[2013-06-04 14:36:30 -0400] eponymi: JasonG_ let me know how it goes; would like to know if that's the correct explanation
[2013-06-04 14:36:33 -0400] Xeon06: Hey guys. Can anyone explain to me where I should be putting my cookbook's dependencies in with chef-solo? Should I be putting them in the same top-level directory as my main cookbooks? That just doesn't seem very "clean"
[2013-06-04 14:37:01 -0400] JasonG_: eponymi: will do, testing now
[2013-06-04 14:37:23 -0400] jwilf: hi all, i've got a strange issue with the application cookbook...
[2013-06-04 14:37:35 -0400] jwilf: STDERR: fatal: reference is not a tree: d6c6b536594d6a2822069e710bc8475486ab9cb6
[2013-06-04 14:37:46 -0400] jwilf: but if i run chef again, it works fine
[2013-06-04 14:37:59 -0400] eponymi: Xeon06: your cookbooks should be in 'site-cookbooks' and your deps should be in 'cookbooks'
[2013-06-04 14:38:04 -0400] jwilf: i'm passing a tag as the revision btw
[2013-06-04 14:38:40 -0400] yoloswagjesus420: ivey: Yeah, but I want to know if the resource that creates a directory actually did something or does nothing since the directory already exists.
[2013-06-04 14:38:50 -0400] Xeon06: eponymi: Oh, so in "cookbooks" you put everything that is not purely specific to your site?
[2013-06-04 14:38:59 -0400] Xeon06: site / setup
[2013-06-04 14:39:26 -0400] eponymi: Xeon06: i think that's the established practice. but it doesn't really matter how you do it, so long as you declare the appropriate cookbook paths in your knife.rb (or wherever you're loading up the cookbooks)
[2013-06-04 14:40:09 -0400] eponymi: because of the potential (mis)understandings of the word "site", i like to put my cookbooks in 'cookbooks' and my deps in 'vendor/cookbooks'
[2013-06-04 14:40:32 -0400] Xeon06: eponymi: I'm a total beginner at this. I simply forked this https://github.com/bitlyfied/vagrant-chef-nodejs-startup, which has like 5 basic cookbooks, but they all have dependencies that aren't loaded and error on provision
[2013-06-04 14:41:00 -0400] ivey: yoloswagjesus420: that's "did it run" not "did it do what it's supposed to do"  resources don't even run if they don't need to
[2013-06-04 14:41:08 -0400] Xeon06: I started putting them in "cookbooks" but it seemed to be as if "cookbooks" should have only been the stuff that I'll be directly using in my main recipe
[2013-06-04 14:41:20 -0400] eponymi: another reason why i prefer the structure above
[2013-06-04 14:41:37 -0400] eponymi: you'll either need to install all of those cookbooks manually, or use a dependency manager like berkshelf or librarian
[2013-06-04 14:43:11 -0400] yoloswagjesus420: :ivey exactly, i want to know if it ran or does not need to. is there a way to do that or am i just being overly-paranoid about my logging?
[2013-06-04 14:43:13 -0400] Xeon06: eponymi: right. Thanks for the tips!
[2013-06-04 14:43:28 -0400] eponymi: no problem.
[2013-06-04 14:46:12 -0400] mgene: Could anyone please point me in the right direction? - I am trying to restrict package deployment based on environment per role. I was thinking possibly in the recipe file(s). Is there a good tutorial on how to do this anywhere - I've been searching and not found what I've been looking for.
[2013-06-04 14:46:16 -0400] mgene: Lmk if you need more context
[2013-06-04 14:46:58 -0400] failshell: spox: thanks for pointing me to node.run_context, by using loaded_recipes and loaded_attributes, ill be able to use the same kind of logic as before
[2013-06-04 14:47:19 -0400] chris613: mgene: Do you mean OS packages? Or restricting cookbook deployment versions?
[2013-06-04 14:47:34 -0400] mgene: yes - os pkgs
[2013-06-04 14:47:50 -0400] spox: failshell: sure :)
[2013-06-04 14:48:37 -0400] ivey: yoloswagjesus420: try debug logging and see if it works for you
[2013-06-04 14:48:53 -0400] ivey: you could also use test-kitchen to test your cookbooks and make assertions that files exist
[2013-06-04 14:50:00 -0400] mgene: for example I have many instances in amazon - dev, qa and prd - in chef I have roles that deploy to all the instances based on role name - but the roles deploy to all environments. I would like to restrict prd or qa or dev without creating separate roles for each env. If that makes any sense
[2013-06-04 14:53:30 -0400] yoloswagjesus420: I think that'll be my solution, thanks ivey.,
[2013-06-04 14:55:33 -0400] alex____: hello all
[2013-06-04 14:56:05 -0400] alex____: i have a little question is there a way to wait for a service to come online before going further
[2013-06-04 14:56:09 -0400] alex____: ?
[2013-06-04 14:58:23 -0400] athiele: you can add retries to your ressource
[2013-06-04 14:58:48 -0400] alex____: uhhuh but that is not a fancy way
[2013-06-04 14:59:32 -0400] athiele: I agree. maybe someone else has a better idea?
[2013-06-04 15:01:54 -0400] JasonG_: eponymi: using an older (0.1.5) version of the ulimit cookbook def solved my issues. thanks!
[2013-06-04 15:02:12 -0400] eponymi: no problem, glad it helped
[2013-06-04 15:02:29 -0400] JasonG_: now I have much larger issues to tackle. :)
[2013-06-04 15:12:26 -0400] sprack: right now I'm storing all my attribute overrides for cookbooks in my roles.json. can I take that up one level and keep it in a databag so parts are ubiquitous across roles?
[2013-06-04 15:23:37 -0400] ryker: mattray: I see you have a grizzly branch for the chef cookbooks. If I'm going to start a new chef cluster for testing/playing (i'd like grizzly), which openstack chef cookbook repo would you suggest I use?
[2013-06-04 15:24:27 -0400] mattray: ryker: these are under active development for Grizzly: https://github.com/mattray/openstack-chef-repo
[2013-06-04 15:24:53 -0400] mattray: I've got a bunch of documentation to work on for it, but over in #openstack-chef we're working on it
[2013-06-04 15:25:01 -0400] mattray: and there's a mailing list and everything
[2013-06-04 15:25:38 -0400] ryker: mattray: cool. I didn't realize there was an #openstack-chef channel.
[2013-06-04 15:26:04 -0400] mattray: yeah, right now it's very cookbook-developer focused, working on docs
[2013-06-04 15:27:31 -0400] ryker: that's cool. Maybe I'll find time to help. :)
[2013-06-04 15:31:06 -0400] sprack: is chef-solo 11.6 out yet?
[2013-06-04 15:34:58 -0400] geekbri: JasonG_: I think in a newer version of the ulimit cookbook they eliminated some default values.  That might be why rolling back helped you
[2013-06-04 15:36:12 -0400] eponymi: geekbri: i think rolling back helped because of the specific version requirements of the mongodb cookbook.
[2013-06-04 15:36:23 -0400] geekbri: eponymi: ah, i missed the context.  Very possible
[2013-06-04 15:36:32 -0400] geekbri: thats what I get for hopping in without reading back context:)
[2013-06-04 15:38:21 -0400] eponymi: yeah, but your statement is probably more important as to *why* the mongodb cookbook requires an older version of ulimit
[2013-06-04 15:39:50 -0400] JasonG_: the truth is, all this stuff changes so fast it's hard to be perfect, especially with the Chef 10 / Chef 11 split. I'm on Chef 11 and not sure that's a good thing most of the time
[2013-06-04 15:40:17 -0400] sprack: looks like I have to build it. is the package cache dir override specified in omnibus.rb?
[2013-06-04 15:48:02 -0400] sprack: no one has had to build an updated version of chef-solo?
[2013-06-04 15:48:44 -0400] mattray: sprack: chef-solo is part of the chef-client release, 11.4.4 is the current release
[2013-06-04 15:49:43 -0400] sprack: mattray: I'm wanting to use environments. looks like they were added to 11.6. http://tickets.opscode.com/browse/CHEF-3356
[2013-06-04 15:51:06 -0400] mattray: sprack: yeah, a lot is going into 11.6, there's not even a beta yet
[2013-06-04 15:53:54 -0400] wamilton: mattray: lots of issues in the opscode jenkins cookbook... is it cool for anyone to work those, or is there a massive change in approach coming down?
[2013-06-04 15:54:22 -0400] mattray: wamilton: schisamo has a major refactor fork somewhere
[2013-06-04 15:57:46 -0400] wamilton: mattray: thanks, found it (or something like it)
[2013-06-04 16:19:21 -0400] gansbrest: Hello. Can someone explain this http://pastebin.com/h4QqRzVt Specifically action :noting and then end.run_action(:create) What's the point of doing actions like this?
[2013-06-04 16:22:31 -0400] cwj: gansbrest: that approach is used to ensure that resources are run during the compile phase of a chef run
[2013-06-04 16:23:12 -0400] cwj: gansbrest: http://docs.opscode.com/resource_common_compile.html
[2013-06-04 16:24:10 -0400] mikeg: anyone have any idea how to get knife to trust a CA?  want to use self-signed cert for chef-server
[2013-06-04 16:25:50 -0400] chaosmaker: Hi, someone is using the sql_server cookbook to install any version besides express? I would like to know about the url that need to points to the installer package considering that the standar/enterprise versions are distributed in iso files, do I need to extract the iso files in any place and access the files using a UNC path for example? at least on my environment based on the security settings is not possible to access a UNC path using WinRM
[2013-06-04 16:42:50 -0400] flipture: hi, I've got a resource notification inside of a ruby block that schedules a restart depending on the service that the ruby blockis working with
[2013-06-04 16:42:57 -0400] flipture: It works, but i'm not sure how lol
[2013-06-04 16:43:10 -0400] flipture: This is the line: notifies :restart, resources(:service => "#{cur_ser}")
[2013-06-04 16:43:44 -0400] flipture: it is included BEFORE the service that it references is created. Anyone know how this works?
[2013-06-04 16:46:49 -0400] jordane: flipture: by default, service notifications are queued and then executed at the end of a chef run.
[2013-06-04 16:47:12 -0400] jordane: so the queue has an item to restart service x, but doesn't actually run anything until the end, at which point the service exists
[2013-06-04 16:49:36 -0400] flipture: I would think that it would error if the resource its calling had not been created yet. if its a variable,and called likei called it,does it not complain?
[2013-06-04 16:50:46 -0400] jordane: It would complain at the end if the resource doesn't exist.
[2013-06-04 16:50:55 -0400] jordane: Or if you run it with :immediately it would complain immediately
[2013-06-04 16:51:09 -0400] jordane: but normally nothing is actually done about a restart until the end
[2013-06-04 16:55:05 -0400] gansbrest: Hi. Is there a way to execute handlers only after initial chef-client run, since we use chef-client cookbook and it runs constantly on the boxes.. I just would like to know when chef-client finished on new boxes and error notifications if any.
[2013-06-04 16:56:07 -0400] flipture: jordane: seems that i've tried that resource notify line a few different ways and this was the only way that it didn't error that the resource didn't exist. do you by chance kjnow why this format works in particular?
[2013-06-04 16:58:26 -0400] jordane: flipture: hmm. I'm not sure why that works and others don't. I assumed it was because of the delayed execution, but maybe it also doesn't evaluate the var until the end as well, or something.
[2013-06-04 16:58:48 -0400] surge_: I don't believe this will cause issues, but i installed Nagios server by source and then the client by package (because I forgot to change this attribute before i ran chef-client). It appears to be working, but I currently dont have any service checks enabled except for Nagios. Has anyone else done this?
[2013-06-04 16:59:04 -0400] surge_: The only difference seems to be the absence of the /etc/nagios-plugins directory when installing nagios::client by source
[2013-06-04 16:59:17 -0400] flipture: jordane: i'm trying to come up with a way to log or something to find out why...
[2013-06-04 16:59:40 -0400] flipture: its inside of an if block that won't run unless something has changed
[2013-06-04 16:59:57 -0400] flipture: and on the first time through chef, before the converge, its nto changed so it shouldn't make it into that if block
[2013-06-04 17:00:44 -0400] jordane: flipture: ah. so then the resource does always exist before it is notified?
[2013-06-04 17:01:29 -0400] flipture: ok. wasn't sure if it would still complain from inside the block thats not called when its in the first phase
[2013-06-04 17:02:23 -0400] jordane: Nope. if it is inside the if block, than it won't ever be run or evaluated.
[2013-06-04 17:04:38 -0400] flipture: ok cool
[2013-06-04 17:16:43 -0400] anonymous123: hello
[2013-06-04 17:22:30 -0400] anonymous123: I have a question
[2013-06-04 17:22:34 -0400] anonymous123: Expected process to exit with [0], but received '7' ---- Begin output of curl -sf http://localhost:8000/_status ----
[2013-06-04 17:23:02 -0400] anonymous123: I don't see any other error besides that one...what isn't starting properly?
[2013-06-04 17:23:26 -0400] murphy_slaw_: anonymous123: curl exit code 7 is "failed to connect to host"
[2013-06-04 17:23:36 -0400] anonymous123: right
[2013-06-04 17:23:49 -0400] anonymous123: its not connecting on port 8000 cause something isn't started
[2013-06-04 17:23:50 -0400] gleam: 8000 is erchef
[2013-06-04 17:25:25 -0400] anonymous123: right, which is what's confusing, I see this
[2013-06-04 17:25:27 -0400] anonymous123: sudo  /opt/chef-server/bin/chef-server-ctl status erchef run: erchef: (pid 14215) 1s; run: log: (pid 28347) 1339s sgarrett@pnyhunx140:/var/log/chef-server$
[2013-06-04 17:27:40 -0400] gleam: it looks like it's bouncing
[2013-06-04 17:27:42 -0400] gleam: check the logs
[2013-06-04 17:27:55 -0400] gleam: (erchef is up for 1 second, log is up for 1339s)
[2013-06-04 17:32:01 -0400] kallistec: anonymous123: chef-server-ctl tail will be helpful
[2013-06-04 17:32:03 -0400] adamcm: Is there any way to trigger a SOLR reindex on Hosted Chef? I'm seeing inconsistent search results.
[2013-06-04 17:32:39 -0400] anonymous123: okay thanks, will let you guys know
[2013-06-04 17:32:56 -0400] adamcm: i.e. search(:node, "name:mynodename") returns nothing, but nodes.all.select {|x| x.name == 'mynodename'} does return the node
[2013-06-04 17:35:49 -0400] flipture: anyone know how to access something like this:
[2013-06-04 17:35:53 -0400] flipture:  => "[#<Chef::Node::Attribute @normal={...}, @current_normal={\"port\"=>27017, \"fqdn\"=>\
[2013-06-04 17:36:06 -0400] flipture: inside of an array? I can't seem to access the stuff in side of @current_normal
[2013-06-04 17:36:39 -0400] flipture: say the variable name is "nodes", i've tried nodes[@current_normal][:port] and a few other combinations but nothing seems to work...
[2013-06-04 17:39:45 -0400] gzc: flipture: if you can get to an element of the array, it 'should' just work like a normal hash- e.g. node[:port] to get to the port attr
[2013-06-04 17:39:57 -0400] gzc: but then again i ran into a weird case a few days ago where that was not so, and was unable to figure it out
[2013-06-04 17:40:25 -0400] flipture: gzc: yeah, i just can't get past the top level... when I do a nodes.to_json this is what I get:  => "[\"#<Chef::Node::Attribute:0x000000052cd2b0>\",\"#<Chef::Node::Attribute:0x000000052d44c0>\"]"
[2013-06-04 17:40:29 -0400] flipture: and that looks REALLY weird to me :)
[2013-06-04 17:40:39 -0400] gzc: yeah, I had the exact same thing happen
[2013-06-04 17:40:53 -0400] flipture: you just lop off the top level of each doing a .each or something?
[2013-06-04 17:40:57 -0400] flipture: thats what i'm considering doing now...
[2013-06-04 17:41:19 -0400] gzc: https://gist.github.com/gcymbalski/5680191 more context for opscode or interested folks
[2013-06-04 17:41:33 -0400] gzc: i wasn't able to get to those attributes no matter what crazy stuff I tried
[2013-06-04 17:41:43 -0400] flipture: odd...
[2013-06-04 17:47:40 -0400] gzc: I also may have encountered a weird issue doing second-level cookbook includes where it looks like default attributes aren't getting processed
[2013-06-04 17:48:08 -0400] flipture: gzc: was your ordering right? and node converged?
[2013-06-04 17:48:37 -0400] gzc: nope, some cookbooks set default attributes they used (e.g. the java one, I'm installing openjdk)
[2013-06-04 17:48:46 -0400] gzc: this is a wrapper cookbook around a wrapper cookbook
[2013-06-04 17:48:51 -0400] gzc: hooray
[2013-06-04 17:49:07 -0400] flipture: right, gotcha. shouldn't have to converge...
[2013-06-04 17:49:09 -0400] gzc: hippiehacker: hey man :)
[2013-06-04 17:51:42 -0400] dysinger: is there a kitchen-specific irc channel these days ? /cc fnichol
[2013-06-04 17:52:49 -0400] dysinger: anyway - wondering how I can abstract common parts of two kitchen.yml files.  I have a .kitchen.vagrant.yml and a .kitchen.docker.yml and a .kitchen.ec2.yml
[2013-06-04 17:53:00 -0400] dysinger: the only thing different between the 3 of them is the driver config
[2013-06-04 17:53:07 -0400] dysinger: the rest is dup code
[2013-06-04 17:53:15 -0400] dysinger: I want to remove the dup
[2013-06-04 17:53:36 -0400] dysinger: sorry three kitchen files
[2013-06-04 18:03:32 -0400] gansbrest: ok, just noticed it again in different cookbook gem_package('chef-handler-campfire'){action :nothing}.run_action(:install)
[2013-06-04 18:03:51 -0400] gansbrest: action :nothing and run_action(:install)
[2013-06-04 18:07:35 -0400] miah: dysinger: chef-hacking
[2013-06-04 18:07:52 -0400] miah: but the convos in there are few and far between.
[2013-06-04 18:07:59 -0400] miah: i dont know if another has popped up
[2013-06-04 18:08:18 -0400] dysinger: miah: thanks.  yeah I thought that was mostly hard core types & opscode employees talking about chef impl.
[2013-06-04 18:15:33 -0400] miah: yes, thats accurate.
[2013-06-04 18:15:43 -0400] miah: it seems like most of the test-kitchen users are hard core types =)
[2013-06-04 18:50:58 -0400] flipture: gzc: looks like that data is type class:Mash
[2013-06-04 18:53:09 -0400] murphy_slaw_: any LWRP gurus in the house?
[2013-06-04 18:53:39 -0400] miah: gzc: dry up variables passed to erbs inside a recipe, not inside the erb.
[2013-06-04 18:53:45 -0400] miah: also
[2013-06-04 18:53:46 -0400] miah: https://coderanger.net/2013/06/arrays-and-chef/
[2013-06-04 18:54:00 -0400] miah: murphy_slaw_: ask questions
[2013-06-04 18:54:15 -0400] murphy_slaw_: I've got a lwrp with the following action https://gist.github.com/murphy-slaw/5708456
[2013-06-04 18:54:55 -0400] murphy_slaw_: but it fails because the notify in the remote_file can't find the resource for the ruby_block
[2013-06-04 18:54:56 -0400] murphy_slaw_: Chef::Exceptions::ResourceNotFound: resource remote_file[/var/tmp/atomic_remote_test20130604-1976-kcm5qo] is configured to notify resource ruby_block['move /var/tmp/atomic_remote_test20130604-1976-kcm5qo'] with action run, but ruby_block['move /var/tmp/atomic_remote_test20130604-1976-kcm5qo'] cannot be found in the resource collection.
[2013-06-04 18:56:01 -0400] miah: why not just have remote_file write the file into the correct location?
[2013-06-04 18:56:14 -0400] murphy_slaw_: because remote_file isn't atomic
[2013-06-04 18:56:22 -0400] miah: true
[2013-06-04 18:57:21 -0400] murphy_slaw_: the point of this provider is to make an atomic wrapper for remote_file
[2013-06-04 18:58:13 -0400] miah: https://github.com/opscode/chef/pull/564
[2013-06-04 18:58:22 -0400] miah: ah. ya. i wrote a hwrp to do that =)
[2013-06-04 18:59:33 -0400] miah: so, with lwrp's and hwrps if youre nto careful resources created inside them may not end up in the resource collection
[2013-06-04 18:59:45 -0400] miah: because they are created after compile
[2013-06-04 19:00:09 -0400] miah: use_inline_resources for lwrp fixes that but i havent used it. i've mostly moved away from writing lwrps
[2013-06-04 19:00:10 -0400] murphy_slaw_: yeah, but i thought setting use_inline_resources in the provider (under chef 11) was the workaround for that
[2013-06-04 19:00:23 -0400] murphy_slaw_: and i've set that but it still breaks in the same way
[2013-06-04 19:00:40 -0400] miah: hrm
[2013-06-04 19:00:47 -0400] miah: ya like i said i havent tried using it
[2013-06-04 19:01:06 -0400] miah: maybe get kallistec to give you some feedback? =)
[2013-06-04 19:01:11 -0400] miah: lunch time.
[2013-06-04 19:25:17 -0400] chaosmaker: Hi, someone is using the sql_server cookbook to install any version besides express? I would like to know about the url that need to points to the installer package considering that the standar/enterprise versions are distributed in iso files, do I need to extract the iso files in any place and access the files using a UNC path for example? at least on my environment based on the security settings is not possible to access a UNC path using WinRM
[2013-06-04 19:28:14 -0400] kallistec: murphy_slaw_: what's your timeline for needing this?
[2013-06-04 19:28:25 -0400] murphy_slaw_: yesterday :D
[2013-06-04 19:31:38 -0400] kallistec: murphy_slaw_: bummer, chef 11.6 would solve this problem for you
[2013-06-04 19:32:20 -0400] murphy_slaw_: ah, are files and remote_files atomic in 11.6?
[2013-06-04 19:32:36 -0400] kallistec: murphy_slaw_: configurable and defaults to atomic
[2013-06-04 19:32:41 -0400] murphy_slaw_: nice
[2013-06-04 19:32:56 -0400] jhayden: can someone tell me where the yum cache for chef is loxated
[2013-06-04 19:33:03 -0400] jhayden: located
[2013-06-04 19:33:44 -0400] murphy_slaw_: what's the planned release date for 11.6?
[2013-06-04 19:34:26 -0400] kallistec: murphy_slaw_: probably not 'till July at least, there will be a long beta period
[2013-06-04 19:35:15 -0400] murphy_slaw_: k
[2013-06-04 19:36:30 -0400] kallistec: as for your LWRP, I would think it should work with or without use_inline_resources
[2013-06-04 19:39:00 -0400] kallistec: but I would go with use_inline_resources
[2013-06-04 20:01:22 -0400] masterkorp: Guys, any doc about knife plugins ?
[2013-06-04 20:07:23 -0400] kallistec: masterkorp: this? http://docs.opscode.com/plugin_knife_custom.html
[2013-06-04 20:09:46 -0400] chson: Anybody use the knife-google plugin for gce?  '--google-compute-disks' appears to not do anything at all but I may just be using the cli incorrectly.
[2013-06-04 20:15:40 -0400] quattro_: why can't I do this in my recipe -> variables :backend_servers => search(:node, "role:web")
[2013-06-04 20:23:16 -0400] kallistec: quattro_: because context changes inside of the `do ... end` bits for a resource
[2013-06-04 20:23:32 -0400] kallistec: you switch from recipe context to resource context
[2013-06-04 20:24:31 -0400] quattro_: if i take it out of the doend it still doesn't work :(
[2013-06-04 20:28:08 -0400] kallistec: quattro_: the #search method is defined on the recipe but not the resource. You can set a local variable. thing = search(); template "path" do; variables :foo=> thing; end
[2013-06-04 20:50:37 -0400] quattro_: I have to have chef-server installed to use the search command to look for nodes?
[2013-06-04 21:02:19 -0400] thatothermitch: is there a way to make knife cookbook test NOT attempt to read/write from /var/chef ?
[2013-06-04 21:09:15 -0400] pwf: why is this a 403 http://opscode-omnitruck-release.s3.amazonaws.com
[2013-06-04 21:10:28 -0400] gkarekinian: It's deprecated, replaced by http://opscode-omnibus-packages.s3.amazonaws.com
[2013-06-04 21:12:25 -0400] pwf: by 'deprecated' you mean 'shut down'?
[2013-06-04 21:16:57 -0400] gkarekinian: Looks like it, I remember reading some announces in this channel, and the old one was missing releases for a while
[2013-06-04 21:17:29 -0400] gkarekinian: I agree that there wasn't enough communication about this though, and it's always been confusing
[2013-06-04 21:20:28 -0400] nicgrayson: is there a way to get test-kitchen to work with data bags? it's complaining about a data_bag_path
[2013-06-04 21:25:37 -0400] new2chef: happy tuesday chefs!   I have a hopefully quick question how do i specify a ftp location for a package resource?
[2013-06-04 21:28:17 -0400] new2chef: I have a ftp url for an rpm I'd like to feed into the package resource
[2013-06-04 21:28:22 -0400] new2chef: but not exactly sure how
[2013-06-04 21:30:04 -0400] riddley2: I have an array of packages I want to uninstall that all have the same not_if clause, can I wrap the loop in a not_if clause somehow instead of having to re-run the not_if shell command over and over?
[2013-06-04 21:32:49 -0400] pwf: gkarekinian: do you know who controls that? or how hard it would be to 301 instead of 403?
[2013-06-04 21:34:27 -0400] gkarekinian: pwf: No idea, sorry!
[2013-06-04 21:34:36 -0400] pwf: ok, thank you
[2013-06-04 21:35:21 -0400] kallistec: new2chef: you can't right now. ftp support will be coming with 11.6 (not released)
[2013-06-04 21:36:05 -0400] miah: why not add a repo for your package manager that pulls from your ftp
[2013-06-04 21:36:12 -0400] new2chef: @kallistec- i see thanks!
[2013-06-04 21:36:29 -0400] riddley2: anyone
[2013-06-04 21:37:03 -0400] miah: riddley2: why not remove your not_if from the resource and just write it as ruby. then the package resources wont be added to the resourcecollection at all if the conditional fails
[2013-06-04 21:38:19 -0400] riddley2: miah, well it's a shell command, I wasn't sure if Chef had a helper for that... I can call system (or back-ticks, etc) and look at $?, but I thought Chef might have a built-in thing so I didn't have to roll my own
[2013-06-04 21:41:20 -0400] riddley2: I take it that it doesn't have such a helper
[2013-06-04 21:41:27 -0400] gzc: am I crazy or do default attributes (from attributes/default.rb) not get processed when you include a cookbook from another one?
[2013-06-04 21:42:58 -0400] jmartin: riddley2: total shot in the dark, but maybe https://github.com/opscode/mixlib-shellout ?
[2013-06-04 21:43:57 -0400] riddley2: jmartin: thanks
[2013-06-04 21:45:26 -0400] allan_wind: I don't have access to ohai within the role.rb file, right?  I am trying to run certain recipes for certain OSes only.  It seemed kinda iffy to have a giant if statement to make it do nothing for the other OSes
[2013-06-04 21:45:58 -0400] kallistec: gzc: you need to add a dependency in your cookbook metadata. chef-solo uses this to figure out the correct order to load attributes (and library, etc.) files
[2013-06-04 21:46:19 -0400] gzc: very cool, thanks! will give it a shot presently
[2013-06-04 22:12:36 -0400] dJustin: what would be the proper syntax to call a method in a seperate cookbook's default.rb file?...would that just require include_recipe?
[2013-06-04 22:13:16 -0400] miah: well, that will include the entire recipe. not run a specific method declared in it, but most people dont declare methods in recipes anyways (libraries maybe)
[2013-06-04 22:14:38 -0400] dJustin: miah, let's say the recipe was just a bunch of centralized methods, I'm attempt to not have to duplicate them between cookbooks, and then call them
[2013-06-04 22:15:30 -0400] freezey: so say you have eth0 eth0:something1 eth0:something2
[2013-06-04 22:15:38 -0400] freezey: in ohai it just looks at
[2013-06-04 22:15:44 -0400] freezey: eth0 as all the ips
[2013-06-04 22:16:19 -0400] freezey: anyway to have them tagged show up as separate interfaces? or just have to create an additional ohai attribute
[2013-06-04 22:16:29 -0400] freezey: i figure separate attrib
[2013-06-04 22:16:34 -0400] freezey: new mash
[2013-06-04 22:16:58 -0400] miah: dJustin: write a library
[2013-06-04 22:17:09 -0400] miah: recipes are for compiling a collection of resources
[2013-06-04 22:17:31 -0400] freezey: yeah
[2013-06-04 22:17:38 -0400] freezey: makes sense
[2013-06-04 22:22:29 -0400] dJustin: miah, makes sense.  Those are still confined within a cookbook though, correct?
[2013-06-04 22:25:07 -0400] miah: libraries are yes, place them in cookbook/libraries
[2013-06-04 22:25:11 -0400] vigith: how do i read files (foo1.yaml, foo2.yaml etc) kept in a directory (foo/) in the files section of the cookbook at run time
[2013-06-04 22:27:58 -0400] miah: you can use the 'file' resource to do stuff with them
[2013-06-04 22:28:12 -0400] miah: but its not really meant for parsing them
[2013-06-04 22:28:22 -0400] vigith: true.. so what will be the right approach
[2013-06-04 22:28:36 -0400] vigith: copy all the files to a different location and then parse
[2013-06-04 22:29:07 -0400] vigith: in other words.. at run time how do i know what is the location of the file(s) ?
[2013-06-04 22:29:53 -0400] miah: well, from the cookbook perspective, 'file' will look automatically inside the cookbook/files/defaults location (and others based on your platform)
[2013-06-04 22:30:24 -0400] miah: im sorry, cookbook_file
[2013-06-04 22:30:28 -0400] miah: chef 0.6 has fucked me so badly
[2013-06-04 22:30:30 -0400] miah: http://docs.opscode.com/resource_cookbook_file.html
[2013-06-04 22:33:20 -0400] dJustin: cool, including a cookbook allows me to call the method within it's library...just what I needed.
[2013-06-04 22:46:05 -0400] gzc: this is very weird... running the java cookbook directly works, but including it from my cookbook does not- it looks like attrs definitely aren't getting set, despite having a 'java' cookbook dep declared in metadata
[2013-06-04 22:46:06 -0400] vigith: but with cookbook_file i need to know the file name before hand.. is there any way i can do a opendir(..) and read the files ?
[2013-06-04 22:47:54 -0400] vigith: also if i have to do an opendir(..) how will i give the path of files/default/SOME_DIR ?
[2013-06-04 23:03:52 -0400] miah: you should know the names of the files in your files dir, or you can dynamically create them using templates or feed the content into the file resource
[2013-06-04 23:16:38 -0400] chance: hey guys, so im running into the PrivateKeyMissing error, using chef-solo, and the application_python_django lwrp. But, all my roles are on the same local machine, is there anyway around this?
[2013-06-04 23:26:06 -0400] pwnguin: anyone using the rabbitmq cookbook?
[2013-06-04 23:26:26 -0400] cwj: chance: stacktrace?
[2013-06-04 23:28:26 -0400] pwnguin: trying to figure out why https://github.com/osuosl/chef-repo/blob/master/osl-cookbooks/goblin/recipes/backend.rb results in a /etc/rabbitmq/rabbitmq.config of http://pastebin.osuosl.org/2155/
[2013-06-04 23:29:10 -0400] chance: cwj: http://pastebin.osuosl.org/2158/
[2013-06-04 23:29:36 -0400] chance: cwj: so this is on vagrant, chef-solo, im basically thinking chef-solo doesn't support chef search, and its unable to find my nodes, even if they're all the same vagrant box.
[2013-06-04 23:30:23 -0400] cwj: chance: that sounds roughly correct, i take it your ganeti_webmgr cookbook has some search in it?
[2013-06-04 23:30:45 -0400] chance: no, the application resource does.
[2013-06-04 23:31:06 -0400] cwj: oh for the find matching role stuff
[2013-06-04 23:31:17 -0400] chance: yeah, find_matching_role
[2013-06-04 23:32:38 -0400] chance: i guess ill just have to do the gunicorn and nginx stuff without the lwrp.
[2013-06-04 23:34:05 -0400] cwj: well i have been using application_python in chef solo successfully
[2013-06-04 23:34:47 -0400] cwj: with django, celery, gunicorn etc being handled by the lwrp
[2013-06-04 23:35:32 -0400] JasonG_: I have what is probably a dumb question Where does all the log output for stuff like Chef::Log.info "blah blah blah" go by default? I'm not seeing it in my console I don't think Can't find a log file on my nodes either.
[2013-06-04 23:35:51 -0400] cwj: i think the difference might be that we just cross our fingers and run migrations on every node
[2013-06-04 23:35:54 -0400] chance: cwj: can i see your cookbook?
[2013-06-04 23:37:28 -0400] cwj: chance: not entirely, but hold on
[2013-06-04 23:40:24 -0400] cwj: chance: i think i can show you this much at least https://gist.github.com/cwjohnston/15805941ae02e1ac7aee/raw/0950a008691dff6f0844b12ed4ccd07d9d25ad64/gistfile1.txt
