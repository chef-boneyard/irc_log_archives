[2013-01-21 01:12:31 -0500] luisfaceira: hello everyone!
[2013-01-21 01:13:25 -0500] luisfaceira: I'm having some trouble trying to create an user with password on chef, I wonder if anyone here would be able and willing to help?
[2013-01-21 01:14:38 -0500] makerbrker: what troubles?
[2013-01-21 01:14:47 -0500] luisfaceira: for creating my user, I need to have ruby-shadow
[2013-01-21 01:15:01 -0500] luisfaceira: but if I get it as a chef_gem
[2013-01-21 01:15:08 -0500] luisfaceira: it fails for not having "make" installed
[2013-01-21 01:15:22 -0500] makerbrker: what OS?
[2013-01-21 01:15:28 -0500] luisfaceira: even tough I get "build-essential" first on my recipe, the chef-gem always tries to execute first
[2013-01-21 01:15:30 -0500] luisfaceira: linux
[2013-01-21 01:15:45 -0500] luisfaceira: I'm trying this on a VM of ubuntu lucid 10.04
[2013-01-21 01:17:03 -0500] luisfaceira: The way for me to make it work is to comment out the chef_gem on a first run and put it in on a second one... but I can't get it to run on a single run
[2013-01-21 01:17:14 -0500] luisfaceira: (and without manual editing the file between runs)
[2013-01-21 01:18:55 -0500] makerbrker: can you post some error codes etC?
[2013-01-21 01:18:57 -0500] makerbrker: and the recipe
[2013-01-21 01:19:31 -0500] luisfaceira: sure, let me prepare a gist for a short-version of my recipe
[2013-01-21 01:19:36 -0500] luisfaceira: thx in advance
[2013-01-21 01:19:40 -0500] makerbrker: http://wiki.opscode.com/display/chef/Anatomy+of+a+Chef+Run
[2013-01-21 01:19:48 -0500] makerbrker: that should also help with why its failing
[2013-01-21 01:20:24 -0500] makerbrker: I run into this a lot, and my hack is to typically not include the recipe that is causing things to fail, then at the end of another recipe, add it back on
[2013-01-21 01:20:29 -0500] makerbrker: so on the next  run it works
[2013-01-21 01:20:34 -0500] makerbrker: btu that is a terrible hack
[2013-01-21 01:21:24 -0500] luisfaceira: The problem is I need it to work on a single run
[2013-01-21 01:21:37 -0500] luisfaceira: with multiple runs I can get it to work
[2013-01-21 01:21:58 -0500] flaccid: the best you can do when i run into this is install the package at compile time because there is not a chef_package resource yet
[2013-01-21 01:22:28 -0500] luisfaceira: anyway.. I think I've just found my problem...
[2013-01-21 01:22:49 -0500] luisfaceira: I think I was doing just what flaccid suggested without knowing
[2013-01-21 01:23:07 -0500] luisfaceira: and that was messing with the order of my recipe...
[2013-01-21 01:23:18 -0500] flaccid: luisfaceira: its basically example 3 http://wiki.opscode.com/display/chef/Evaluate+and+Run+Resources+at+Compile+Time
[2013-01-21 01:23:27 -0500] luisfaceira: chef_gem seems to run on compile time (did not know that)
[2013-01-21 01:23:43 -0500] luisfaceira: by using a gem_package it seems that I'm not having the issue I described
[2013-01-21 01:25:45 -0500] luisfaceira: yep... confirmed
[2013-01-21 01:26:02 -0500] luisfaceira: Using gem_package instead of chef_gem worked
[2013-01-21 01:26:14 -0500] luisfaceira: thanks!
[2013-01-21 01:26:33 -0500] flaccid: but if you need that gem installed for the chef run, you will need to use chef_gem otherwise it won't install in time
[2013-01-21 01:26:55 -0500] luisfaceira: that's what I thought initially
[2013-01-21 01:27:04 -0500] luisfaceira: that's why I used chef_gem
[2013-01-21 01:27:18 -0500] luisfaceira: but... it seems to have worked this way
[2013-01-21 01:27:39 -0500] luisfaceira: I just need the gem ruby-shadow to be able to use the "user" resource with a password
[2013-01-21 01:27:56 -0500] flaccid: i'd use chef_gem but install ruby-shadow with the method shown in the wiki doc
[2013-01-21 01:28:22 -0500] flaccid: i.e. install ruby-shadow first in compile time
[2013-01-21 01:28:26 -0500] luisfaceira: and it did not fail as usual (even on a first run), so it seems that the gem was installed for the chef run, was it not?
[2013-01-21 01:28:48 -0500] luisfaceira: hmmm using package_gem as well?
[2013-01-21 01:28:53 -0500] flaccid: gem_package is execute phase not compile
[2013-01-21 01:29:06 -0500] luisfaceira: then how did it work? strange...
[2013-01-21 01:29:13 -0500] luisfaceira: will check again
[2013-01-21 01:29:29 -0500] flaccid: not sure
[2013-01-21 01:30:02 -0500] luisfaceira: it is indeed only being installed on the execute phase
[2013-01-21 01:30:10 -0500] luisfaceira: right before creating the user (where I've put it)
[2013-01-21 01:30:25 -0500] luisfaceira: but the user creation does not fail, it says it created it successfully
[2013-01-21 01:30:32 -0500] flaccid: personally i'd install packages in compile time so they can be treated like deps
[2013-01-21 01:30:45 -0500] luisfaceira: (without the gem it would fail and say it needs that gem)
[2013-01-21 01:30:58 -0500] flaccid: and per the example 3 you can use a notification to make even more cooler
[2013-01-21 01:31:10 -0500] flaccid: did you remove the pkg/gem prior to test
[2013-01-21 01:31:47 -0500] luisfaceira: I'm using vagrant, did a full "vagrant destroy" and "vagrant up"
[2013-01-21 01:31:52 -0500] luisfaceira: deleted the VM entirely
[2013-01-21 01:31:54 -0500] flaccid: hmm
[2013-01-21 01:31:57 -0500] luisfaceira: and started from scratch
[2013-01-21 01:33:05 -0500] luisfaceira: so my only doubt right now is... did chef reported me a successful user creation but failed somehow because the gem was installed only on the execution phase?
[2013-01-21 01:33:28 -0500] flaccid: not sure, i have not seen your log etc.
[2013-01-21 01:33:45 -0500] luisfaceira: let me check if the user was really created successfully and with the appropriate password (since ruby-shadow is related to the password)
[2013-01-21 01:34:08 -0500] luisfaceira: :) of course, flaccid, it was more a rehoric question as in "let me check if..." :)
[2013-01-21 01:34:19 -0500] flaccid: rhetoric :o
[2013-01-21 01:34:38 -0500] flaccid: rhetorical rather :p
[2013-01-21 01:34:51 -0500] flaccid: i'll get something right today, maybe hehe
[2013-01-21 01:36:11 -0500] luisfaceira: checked... the user was created successfully and with the right password... so... It's working well!
[2013-01-21 01:37:54 -0500] luisfaceira: I'll look better into how eactly can gem packages can be used right after install on the execution phase... still do not understand exactly what is going on (which I hate), but for now it seems to be working well!
[2013-01-21 01:37:57 -0500] luisfaceira: thanks for your help
[2013-01-21 01:38:03 -0500] luisfaceira: and sorry for the bad english
[2013-01-21 01:38:04 -0500] luisfaceira: :)
[2013-01-21 01:38:15 -0500] luisfaceira: I'm from Portugal btw
[2013-01-21 01:38:46 -0500] flaccid: hehe np, i'm just teasin. must be how that resource works where nothing is required in compile time in this case so 2 resources in right order in execute phase is ok..
[2013-01-21 05:34:46 -0500] BryanWB__: ohai chefs!
[2013-01-21 05:35:07 -0500] flaccid: iaho!
[2013-01-21 08:52:53 -0500] nacer: damn ufw, desfault limit is too low
[2013-01-21 08:58:54 -0500] BlueKayak: #chef
[2013-01-21 08:59:40 -0500] BlueKayak: I'm using hosted chef and an EC2 instance that has chef client 10.12.  What's the recommended way to upgrade it to 10.18?
[2013-01-21 09:20:23 -0500] BryanWB__: BlueKayak: gem update chef --no-ri --no-rdoc   works for me
[2013-01-21 09:39:23 -0500] BlueKayak: BryanWB__   Thanks for the advice, I'll give it a whirl
[2013-01-21 09:56:29 -0500] wlll: Getting an error with chef-expanderctl, anyone seen this before? https://gist.github.com/d09456a4f4023091ce12
[2013-01-21 11:10:56 -0500] cpasmoi: w3s_8ths, with variables toto => value ?
[2013-01-21 11:11:14 -0500] cpasmoi: (all my scripts are in templates or files )
[2013-01-21 11:15:09 -0500] w3s_8ths: well let's say I have a recipe using the mount resource. I the mount point is given using an attribute and I want to filter execution using a rule like : not_if "cat /proc/mounts | grep MOUNT_POINT". MOUNT_POINT should be from an attribute. But it's inside a shell string. How do I get the attribute to be passed to the shell string ?
[2013-01-21 11:18:02 -0500] zts: w3s_8ths: I'd try:  not_if "cat /proc/mounts | grep #{node['your']['attribute']}"
[2013-01-21 11:19:20 -0500] w3s_8ths: zts: thanks, I will try that right away.
[2013-01-21 11:52:48 -0500] Guest58621: Hi all - is there anyway to add a TAG at duting knife bootstrap?
[2013-01-21 11:53:30 -0500] Guest58621: add a TAG during bootstrap*
[2013-01-21 11:54:55 -0500] aruntomar: Guest58621: afaik, no it's not.
[2013-01-21 11:55:30 -0500] Guest58621: OK - we have roles to specify what role a node does... webserver, database_master etc....
[2013-01-21 11:55:47 -0500] Guest58621: Environments to specify testing, pre-prod production etc...
[2013-01-21 11:56:21 -0500] Guest58621: and we also have seperate network segments that have different NATs to be able to connect to the chef-server (open-source chef on our own server)
[2013-01-21 11:58:22 -0500] Guest58621: So I was going to use tags to to dictate how a server get's set up based on the tag name in terms of what proxy server it uses etc.... we were previously using roles, which means roles would have had a dual purpose
[2013-01-21 11:58:38 -0500] Guest58621: does annyone have a similar setup and how do you manage this?
[2013-01-21 12:00:09 -0500] Guest58621: or any suggestions...
[2013-01-21 12:19:33 -0500] daxroc:  /join #svn
[2013-01-21 13:03:14 -0500] Guest95482: Trying to use knife node search to search for nodes using a certain recipe - I've tried knife node search 'recipe:\[apache2\:\:basic_vhost\]' but this returns 0 results - I know there are nodes with this recipe - can someone help with the syntax?
[2013-01-21 13:04:46 -0500] Guest95482: NVM
[2013-01-21 13:05:25 -0500] Guest95482: syntax is knife search node 'recipe:apache2\:\:basic_vhost'
[2013-01-21 13:40:08 -0500] BryanWB__: hey sethvargo !
[2013-01-21 13:40:25 -0500] sethvargo: Hey BryanWB__!
[2013-01-21 13:41:42 -0500] BryanWB__: sethvargo: i think fnichol mentioned something to me about the jamie-vagrant runs not being totally paralle
[2013-01-21 13:42:15 -0500] sethvargo: it's definitely possible - i've been using ec2 b/c I'm on a MBA with only 2gb of ram
[2013-01-21 13:42:46 -0500] BryanWB__: sethvargo: fnichol mentioned mentioned something about vagrant having global state that impeded it
[2013-01-21 13:43:02 -0500] BryanWB__: so not the fault of celluloid, i will have to get more details out of him
[2013-01-21 13:43:18 -0500] sethvargo: run two instances of vagrant ;) (not recommended)
[2013-01-21 13:44:41 -0500] sethvargo: BryanWB__: did you run into any snafus? I'm trying to put together the getting started guideand i don't remember what it was like to get started haha
[2013-01-21 13:45:40 -0500] BryanWB__: sethvargo: a few small ones, not really jamie's fault, it just doesn't catch minor problems, like if ur berksfile doesn't exist, so u have to wade through the whole stacktrace
[2013-01-21 13:45:49 -0500] BryanWB__: i can do jamie-vagrant part
[2013-01-21 13:46:01 -0500] BryanWB__: since i am basically writing it anyways for a preso
[2013-01-21 13:46:13 -0500] sethvargo: sweet. have u seen the docs site?
[2013-01-21 13:46:30 -0500] BryanWB__: sethvargo: y, nice start tks to u :)
[2013-01-21 13:46:43 -0500] BryanWB__: i need to submit pr for the vagrant part
[2013-01-21 13:47:08 -0500] sethvargo: yea, I just saw ur pry issue too
[2013-01-21 13:49:24 -0500] BryanWB__: sethvargo: is jamie named after reset?
[2013-01-21 13:49:44 -0500] justincampbell: whats jamie?
[2013-01-21 13:49:54 -0500] justincampbell: BryanWB__: lol wondering the same thing
[2013-01-21 13:50:01 -0500] BryanWB__: justincampbell: github.com/jamie-ci/jamie
[2013-01-21 13:50:21 -0500] BryanWB__: if so, someone shud create a workflow dsl named fletcher :)
[2013-01-21 13:50:23 -0500] sethvargo: BryanWB__: I think halfish? when fnichol explained it to me, it was named after some else named jamie and winsor
[2013-01-21 13:50:41 -0500] justincampbell: reset is jamie winsor
[2013-01-21 13:50:42 -0500] sethvargo: justincampbell: ask reset about it, he's been involved
[2013-01-21 13:50:46 -0500] justincampbell: k
[2013-01-21 13:50:47 -0500] justincampbell: thx
[2013-01-21 13:51:19 -0500] sethvargo: justincampbell: i know - 2 people "jamie x" and "jamie winsor"
[2013-01-21 14:00:03 -0500] justincampbell: this looks pretty sweet https://github.com/fnichol/chef-rvm/blob/master/.jamie.yml
[2013-01-21 14:00:16 -0500] justincampbell: ill try it out against an app cookbook im working on later today
[2013-01-21 14:04:58 -0500] sethvargo: justincampbell: the docs are a wip, but you can test against vagrant, ec2, google, etc + you can define any kind of post-converg test u want
[2013-01-21 14:05:18 -0500] justincampbell: neato
[2013-01-21 14:05:44 -0500] justincampbell: was searching homebrew for bats, and found this https://github.com/mxcl/homebrew/pull/11706 and https://github.com/bmizerany/roundup
[2013-01-21 14:07:04 -0500] leifmadsen: hmmmm, looks like I'm going to have to build this gerrit cookbook on my own :)
[2013-01-21 14:16:54 -0500] cpasmoi: Hi there
[2013-01-21 14:17:47 -0500] cpasmoi: does someone had issues with the apt cookbook ? I can't manage other recipe to execute "apt-get update" using the example shown in the doc.
[2013-01-21 14:18:44 -0500] cpasmoi: I've tried using "remote_file" instead of template, but I have the same problem, chef checks for the file in files/ or templates/ of the cookbook
[2013-01-21 14:53:02 -0500] stPundit: hey guys i new to chef .. can you please guide me where i can set/reset chef-server WebUI password
[2013-01-21 15:01:17 -0500] mattt: stPundit: you can find it under /etc/chef on the server itself
[2013-01-21 15:01:33 -0500] mattt: stPundit: /etc/chef/web.rb
[2013-01-21 15:13:36 -0500] stPundit: cheers matt . i found it
[2013-01-21 15:13:57 -0500] mattt: stPundit: good, because it's actually webui.rb :P
[2013-01-21 15:14:10 -0500] stPundit: ya that where i end up looking
[2013-01-21 15:14:13 -0500] stPundit: :)
[2013-01-21 15:15:27 -0500] stPundit: Mattt : how do i check if client nodes are configured properly /connect to server ?
[2013-01-21 15:15:44 -0500] stPundit: i cant see nodes in server webUI
[2013-01-21 15:15:59 -0500] mattt: stPundit: try running a chef-client from those clients -- if it moans about something, then they're not setup correctly :)
[2013-01-21 15:17:48 -0500] stPundit: cheers .. its does miss key info .. hope full i think i know what to do :)
[2013-01-21 15:18:06 -0500] mattt: stPundit: cool :)
[2013-01-21 15:30:04 -0500] jperry2: Anyone experience slow validation when doing a knife cookbook upload -a
[2013-01-21 15:32:28 -0500] jperry2: It only happens when uploading cookbooks to a blank new chef server
[2013-01-21 15:32:42 -0500] jperry2: happens when the code is outputting these lines
[2013-01-21 15:32:43 -0500] jperry2: INFO: Validating ruby files
[2013-01-21 15:32:43 -0500] jperry2: INFO: Validating templates
[2013-01-21 15:32:44 -0500] jperry2: INFO: Syntax OK
[2013-01-21 15:46:19 -0500] stPundit: Mattt: any idea where/how can i fix "FATAL: Net::HTTPServerException: 401 "Unauthorized""
[2013-01-21 15:48:10 -0500] mattt: stPundit: http://wiki.opscode.com/display/chef/Common+Errors
[2013-01-21 15:48:46 -0500] stPundit: cheers
[2013-01-21 15:48:52 -0500] mattt: stPundit: np
[2013-01-21 15:53:08 -0500] stPundit: matt: also just to conform "knife client list" works for/from workstation ?
[2013-01-21 15:57:00 -0500] mattt: stPundit: it should?
[2013-01-21 15:58:13 -0500] stPundit: ya it does .. i some how assumed its workstation specific command
[2013-01-21 15:58:55 -0500] stPundit: how do i check if workstation is configured correctly ?
[2013-01-21 15:59:55 -0500] mattt: stPundit: issue a 'knife node list' for example
[2013-01-21 16:00:02 -0500] mattt: stPundit: if that returns from your workstation, then it's working fine
[2013-01-21 16:00:37 -0500] KarlHungus: Do people push the chef-vendor-* branches to origin?
[2013-01-21 16:01:38 -0500] cpasmoi: Hum I still can't find out how to force an apt-get update in a recipe when I add a repos. The example shown by apt cookbook won't work (chef searches for a file in templates/ cookbook directory)
[2013-01-21 16:02:36 -0500] stPundit: 'knife node list' it does not return any thing on (workstation or server) hence i think i have not been able to configure nodes ..
[2013-01-21 16:03:01 -0500] cpasmoi: That's kinda embarassing, as I need to chef-client once, wait for the first apt-get install problem, and then run "apt-get update" before running again chef-client
[2013-01-21 16:05:29 -0500] spox: cpasmoi: are you using an up-to-date version of the apt cookbook?
[2013-01-21 16:05:41 -0500] spox: i know it came up before, and i thought it was fixed to always run now after adding a new repo
[2013-01-21 16:05:43 -0500] teukka: cpasmoi: there is a bug in apt cookbook v1.8.0. still not fixed
[2013-01-21 16:05:52 -0500] spox: oh, well then :)
[2013-01-21 16:06:17 -0500] teukka: http://tickets.opscode.com/browse/COOK-2171
[2013-01-21 16:07:52 -0500] jelder: is there a workaround for the "moneta/basic_file" mess? i can't create new chef instances anymore
[2013-01-21 16:07:57 -0500] makerbreakr: how do you guys handle log files?
[2013-01-21 16:08:03 -0500] makerbreakr: ie, nginx, or secure
[2013-01-21 16:08:37 -0500] makerbreakr: I have about 1500 servers, and I would like to implement a way to run analysis on the logs, via a web interface I am developing
[2013-01-21 16:09:03 -0500] makerbreakr: uploading and parsing doesnt sound fun.
[2013-01-21 16:10:28 -0500] r3vamp: jkeiser: Is it possible to get the knife upload command to ignore svn directories (maybe through use of the chefignore file). When I do "knife upload data_bags" I run into problems as it tries to upload the .svn directory inside my data_bags folder.
[2013-01-21 16:11:14 -0500] teukka: cpasmoi: while waiting for the fix you can trigger the `apt-get update` yourself on the recipe that creates the apt_repository resource
[2013-01-21 16:13:01 -0500] teukka: cpasmoi: I think `notifies :run, "execute[apt-get update]", :immediately` should still work
[2013-01-21 16:13:06 -0500] jkeiser: r3vamp: hmm.  There is no such thing as a chef ignore for anything other than cookbooks at the moment.  I wonder if dot is even a valid character for data bags though  lessee
[2013-01-21 16:13:52 -0500] jkeiser: r3vamp: also, it's worth grabbing the latest version, I taught it about server defaults so diff is better and download makes smaller, more readable json files (doesn't bother writing server defaults to disk, just stuff you actually set)
[2013-01-21 16:15:42 -0500] jkeiser: r3vamp: looks like the server won't accept data bags with . in the name, so I can tighten up the data bag upload code not to upload things with valid characters, which should fix it
[2013-01-21 16:20:23 -0500] jperry2: @yfeldblum - Do you happen to know if the latest moneta fixes the slow bulk uploads?
[2013-01-21 16:20:33 -0500] jperry2: from this http://tickets.opscode.com/browse/CHEF-2591
[2013-01-21 16:21:03 -0500] yfeldblum: jperry2, not a clue
[2013-01-21 16:21:23 -0500] jperry2: is there a workaround instead of upgrading to chef 11
[2013-01-21 16:21:35 -0500] jperry2: to fix the slow upload
[2013-01-21 16:21:47 -0500] jwilf: hello all, does anyone know how to notify a service to restart when deploying with the application_ruby cookbook?
[2013-01-21 16:21:51 -0500] cpasmoi: teukka, here is how I try to execute apt-get update : http://paste.debian.net/227111/ ; seems like only the notifies command is unrecognized
[2013-01-21 16:22:05 -0500] cpasmoi: I really thought that worked on another server, though.
[2013-01-21 16:24:19 -0500] cpasmoi: jwilf, using service node[:my][service] do service_name node node[:my][service] ; restart_command /sbin/service #{node[:my][service]} restart" ; action :enable ?
[2013-01-21 16:24:44 -0500] cpasmoi: (syntax may not be perfect)
[2013-01-21 16:25:54 -0500] cpasmoi: hum with my old chef server (0.9.12) and Debian stable I had to install an old moneta version
[2013-01-21 16:26:04 -0500] jwilf: cpasmoi: well i've already defined the service, and created an init script with a template
[2013-01-21 16:26:15 -0500] teukka: cpasmoi: ah, sorry. I thought you used the apt_resource LWRP
[2013-01-21 16:26:42 -0500] jwilf: cpasmoi: the problem is actually notifying the service from my application resource
[2013-01-21 16:28:20 -0500] cpasmoi: teukka, I'm using apt LWRP (apt_preference and apt_repository), so I need to apt-get update when a new repo is added.
[2013-01-21 16:29:57 -0500] teukka: cpasmoi: put the `notify` call in the apt_repository block
[2013-01-21 16:30:46 -0500] cpasmoi: oh, ok
[2013-01-21 16:31:59 -0500] jkeiser: Looks like data bags, data bag items, environments, and roles accept A-Za-z0-9, - and _.  clients also accept ., and nodes also accept . and :.  According to chef client anyway.  Can't find a restriction on cookbook names in that code.  Let's see what Chef 11 server says
[2013-01-21 16:32:44 -0500] laurent\: i'm also using the apt_repo lwrp, afair i don't need to notify an apt-get update
[2013-01-21 16:32:56 -0500] laurent\: but i might not be using the latest apt cookbook
[2013-01-21 16:32:59 -0500] eoconnell: morning
[2013-01-21 16:33:15 -0500] laurent\: 1.4.2
[2013-01-21 16:34:51 -0500] teukka: laurent\: the bug came in v1.8.0
[2013-01-21 16:36:56 -0500] r3vamp: jkeiser: Thanks for looking into it!
[2013-01-21 16:38:57 -0500] kryptek: morning all
[2013-01-21 16:40:10 -0500] teukka: cpasmoi: btw, you don't need to run `apt-get update` after pinning changes. they are applied by automatically
[2013-01-21 16:40:35 -0500] cpasmoi: ok, I do see "Ran execute[apt-get update] successfully". I still have the error in apt-get install, though =/.
[2013-01-21 16:40:48 -0500] cpasmoi: yes teukka I was talking about apt_repository
[2013-01-21 16:41:04 -0500] cpasmoi: (I use apt_preference after adding a new repos)
[2013-01-21 16:41:33 -0500] jkeiser: sigh, according to Chef 11, . is allowed for everything including data bags.
[2013-01-21 16:42:24 -0500] cpasmoi: haha ! ok !
[2013-01-21 16:42:39 -0500] cpasmoi: dpkg is aking me about /etc/init.d/zabbix-agent
[2013-01-21 16:43:01 -0500] cpasmoi: so for a fresh install it should be ok (I have a source-installed zabbix-agent)
[2013-01-21 16:44:58 -0500] jkeiser: Yep the chef 10 client/server is more restrictive with respect to names than chef 11.  Not sure what to do about that.  I could deny upload for the more restrictive stuff and it would fix the .svn problem for data bags, but it would prevent Chef 11 peeps from uploading data bags with dots in them.
[2013-01-21 16:45:54 -0500] teukka: cpasmoi: ok, great if you found out the problem!
[2013-01-21 16:47:26 -0500] r3vamp: jkeiser: Hmm, alright. Not a huge deal. Thanks for figuring that out
[2013-01-21 16:47:38 -0500] teukka: cpasmoi: oh, and I just released our own debian cookbook that offers an LWRP for adding and pinning apt repositories. maybe it could reduce a coulple of recipe lines. https://github.com/reaktor/chef-debian
[2013-01-21 16:48:05 -0500] teukka: cpasmoi: it can also manage the whole sources.list but that is optional
[2013-01-21 16:48:31 -0500] r3vamp: jkeiser: The solution is for Chef 11 to support chefignore files for all data bags
[2013-01-21 16:48:42 -0500] r3vamp: jkeiser: well not just chef 11, but you know what I mean
[2013-01-21 16:49:44 -0500] r3vamp: Then you could restrict whatever is in the chefignore file
[2013-01-21 16:51:58 -0500] jkeiser: r3vamp: yep.  That just feels like a change that would need to go through the entire client, to avoid confusing people
[2013-01-21 16:52:32 -0500] jkeiser: r3vamp: on the other hand, I could at least restrict data bags for now to deal with this use case.  Maybe "no dot file data bags until we get this thing under control"
[2013-01-21 16:53:14 -0500] r3vamp: jkeiser: Considering "knife cookbook upload -a", versus "knife upload cookbooks", the later does not consider the chefignore file (it uploads my .svn folder). You could add support for that I guess, but meh.
[2013-01-21 16:53:38 -0500] jkeiser: r3vamp: it has support for chef ignore actually
[2013-01-21 16:53:48 -0500] r3vamp: jkeiser: Oh snap, really?
[2013-01-21 16:53:56 -0500] jkeiser: r3vamp: so if it is uploading your .svn folder, it is doing something wrong
[2013-01-21 16:54:39 -0500] r3vamp: jkeiser: It is, just deleted that cookbook ran both commands, only got uploaded when using "knife upload cookbooks" v0.9.0
[2013-01-21 16:54:47 -0500] jkeiser: r3vamp: which .svn folder is it uploading?  Is it uploading .svn folders underneath your cookbooks/apache directory?  Or creating a .svn cookbook?
[2013-01-21 16:55:14 -0500] jkeiser: r3vamp: ah.  chef ignore does not actually apply to cookbooks themselves, cookbook upload -a must have a filtering mechanism of its own
[2013-01-21 16:55:26 -0500] jkeiser: r3vamp: I'll look into that at the same time.  I hate when software doesn't do the right thing out of the box
[2013-01-21 16:55:29 -0500] r3vamp: My chef-repo is version controlled, so the svn folder being uploaded is cookbooks/.svn. It thinks the .svn folder is a cookbook
[2013-01-21 16:55:56 -0500] r3vamp: jkeiser: ahh heh
[2013-01-21 16:56:14 -0500] cpasmoi: teukka, err, isn't jtimberman and matthewd the authors of the apt cookbook, already ?
[2013-01-21 16:58:09 -0500] teukka: cpasmoi: my debian cookbook uses apt cookbook. it just offers easy ways to specify which official Debian repositories are used on a node
[2013-01-21 16:58:43 -0500] jkeiser: r3vamp: yeah, looks like Dir[File.join(chef_repo, '*')] (used by cookbook upload -a) ignores dotfiles
[2013-01-21 16:58:53 -0500] jkeiser: I'm going to take that approach for both things
[2013-01-21 16:59:07 -0500] teukka: cpasmoi: internally it uses an LWRP that uses apt_repository and sets default pinning rule for the whole repo. apt cookbook only supports pinning by package
[2013-01-21 16:59:11 -0500] jkeiser: https://github.com/opscode/chef/blob/master/lib/chef/cookbook_loader.rb#L68
[2013-01-21 17:00:41 -0500] jwilf: Hi guys, does anyone know how to notify a service from an application resource (opscode application cookbook)
[2013-01-21 17:01:22 -0500] r3vamp: jkeiser: Sounds good, sorry for adding more work to your plate :P
[2013-01-21 17:10:37 -0500] cpasmoi:  apt cookbook only supports pinning by package <<< I don't think so, I use apt pinning for the whole repo. http://paste.debian.net/227128/
[2013-01-21 17:11:22 -0500] cpasmoi: maybe I am missing something important, still apt-cache policy returns good priorities
[2013-01-21 17:12:03 -0500] teukka: cpasmoi: oh, really? then it is a new feature. earlier that kind of config created a file named '*' =)
[2013-01-21 17:12:33 -0500] teukka: even if it might have worked you could only pin one repository
[2013-01-21 17:12:45 -0500] cpasmoi: yeah, it created also this file '*'
[2013-01-21 17:13:04 -0500] cpasmoi: so I had to explicit specify the package_name
[2013-01-21 17:13:27 -0500] cpasmoi: (and set a real name for apt_preference block)
[2013-01-21 17:14:00 -0500] teukka: cpasmoi: wow, cool! it seems it came in v1.6.0. I totally missed that
[2013-01-21 17:14:40 -0500] cpasmoi: well, I've used the apt_cookbook since a little week, that's why I was not having this issue :)
[2013-01-21 17:17:08 -0500] jkeiser: r3vamp: give 0.9.1 a try and let me know if it fixes both issues?  (data bags and cookbooks)
[2013-01-21 17:18:45 -0500] teukka: cpasmoi: but thanks for pointing that out =)
[2013-01-21 17:19:34 -0500] cpasmoi: you're very welcome.
[2013-01-21 17:20:06 -0500] teukka: cpasmoi: it might be worth the effort to try to get apt_repository also take the pinning parameters
[2013-01-21 17:28:26 -0500] cpasmoi: well I'm not that good, I only use what apt cookbook LWRP page pretends to serve.
[2013-01-21 17:28:50 -0500] cpasmoi: but yes, a single block for adding and pinning a repos seems better =)
[2013-01-21 17:30:51 -0500] teukka: cpasmoi: I was just thinking aloud :) But I'll see if I manage to create a ticket/PR for it on some point
[2013-01-21 17:54:16 -0500] KarlHungus: anyone here using the database cookbook with postgresql? how are you handling schema creation and extensions?
[2013-01-21 17:55:39 -0500] cpasmoi: not using it.
[2013-01-21 18:06:03 -0500] fromonesrc: how do you get the latest nginx version using the nginx community cookbook? I get 1.1.19 no matter what I do
[2013-01-21 18:07:04 -0500] doomviking: fromonesrc: I belive it is set in attributes/default.rb
[2013-01-21 18:07:37 -0500] fromonesrc: doomviking: I'm overriding it in my role but it's not taking
[2013-01-21 18:07:46 -0500] fromonesrc: and oddly, atributes/default.rb has 1.2.3 as the version
[2013-01-21 18:07:51 -0500] fromonesrc: yet it's getting 1.1.19
[2013-01-21 18:07:52 -0500] doomviking: weird
[2013-01-21 18:10:06 -0500] wlll: fromonesrc: is that the latest version available in your package repo?
[2013-01-21 18:10:40 -0500] sclarson_: Has anyone had issues sync'ing cookbooks on windows?  ( EOFError: end of file reached )
[2013-01-21 18:11:03 -0500] wlll: sclarson_: try deleting the cookbook and re-uploading
[2013-01-21 18:11:17 -0500] fromonesrc: wlll: I think I'm compiling from src with https://github.com/opscode-cookbooks/nginx but maybe not checking into it
[2013-01-21 18:11:37 -0500] wlll: sclarson_: if that doesn't work try knife cookbook delete --purge cookbook_name
[2013-01-21 18:11:44 -0500] wlll: then re-upload
[2013-01-21 18:11:58 -0500] fromonesrc: wlll doomviking it defaults to package argh, thanks :)
[2013-01-21 18:12:19 -0500] wlll: np :)
[2013-01-21 18:12:20 -0500] sclarson_: sorry I should specify, this happens when I run chef-client through winrm.  Syncing the cookbooks down to the provisioned server from our chef server
[2013-01-21 18:12:41 -0500] doomviking: fromonesrc: doh
[2013-01-21 18:12:50 -0500] wlll: sclarson_: I don't know anything about winrm, sorry
[2013-01-21 18:17:35 -0500] jperry2: Does anyone know the checksum expiration of a cookbook when using chef 10.4.x?
[2013-01-21 18:19:40 -0500] sascha_d: why is the subversion cookbook dependent on the windows cookbook? Anyone know?
[2013-01-21 18:22:56 -0500] KarlHungus: sascha_d: https://github.com/opscode-cookbooks/subversion/blob/master/recipes/client.rb#L21-L33
[2013-01-21 18:23:46 -0500] sascha_d: shoould be able to set the metatdata to 'recommends' right? And then when it's windows, it'll be there
[2013-01-21 18:24:01 -0500] KarlHungus: no
[2013-01-21 18:24:14 -0500] KarlHungus: thats not how dependencies are resolved in chef
[2013-01-21 18:25:50 -0500] sclarson_: if I log into the server via rdp and I run chef-client locally on it I get similar output to the winrm output: https://gist.github.com/4588114
[2013-01-21 18:26:03 -0500] sascha_d: well, there should be a structuring that doesn't require us to distribute a windows cookbook to all our linux servers.
[2013-01-21 18:26:20 -0500] sascha_d: considering the code for a windows package is completely different, it'd be easy to split up
[2013-01-21 18:26:43 -0500] KarlHungus: sascha_d: go file a issue with opscode and fix it in chef, then
[2013-01-21 18:26:48 -0500] sascha_d: I'll ask around. I don't have any problem doing the work
[2013-01-21 18:26:57 -0500] KarlHungus: it is a non-trivial problem.
[2013-01-21 18:27:11 -0500] KarlHungus: i dont see the harm in syncing a few KB of ruby around
[2013-01-21 18:27:28 -0500] KarlHungus: its not like the code in the windows cookbook will run on your *nix'es. it will just be in the cache
[2013-01-21 18:28:07 -0500] wlll: sclarson_: did you try purging the cookbook yet?
[2013-01-21 18:31:05 -0500] sclarson_: from our repository or on the server?  I tried creating a new server and using that which had never tried to sync them before. I can't find them anywhere on the server to get rid of them.
[2013-01-21 18:33:20 -0500] wlll: sclarson_: knife cookbook delete --purge cookbook_name
[2013-01-21 18:33:24 -0500] wlll: then re-upload it
[2013-01-21 18:53:51 -0500] hagzag: how do I extract an attribute value in the "notifies" method
[2013-01-21 18:55:15 -0500] hagzag: I have an attribute named service and I want to extract it's value within the notifes statement ive tried aunch of things and returned with a few errors help anyone ?
[2013-01-21 18:59:51 -0500] hagzag: anyone ?
[2013-01-21 19:00:25 -0500] logikal_: Is there a way to install 10.x chef servers with the newest chef-server cookbook? related: are there 10.x chef-server omnibus packages?
[2013-01-21 19:00:52 -0500] logikal_: hagzag: Can you pastebin things that you've tried so far?
[2013-01-21 19:00:59 -0500] logikal_: (or gist)
[2013-01-21 19:02:26 -0500] hagzag: notifies :restart, node[:ntp][:service]             # restart service as post config action
[2013-01-21 19:02:27 -0500] hagzag:     notifies :restart, service[ntp-#{@params[:service]}]
[2013-01-21 19:02:29 -0500] hagzag:     notifies :restart,  resources(:ohai => "reload_passwd"),
[2013-01-21 19:02:30 -0500] hagzag:     notifies :reload, "service[nginx-#{@params[:name]}]"
[2013-01-21 19:03:10 -0500] tomdzk: hagzag: notifies :restart, resources(:service => node[:ntp][:service])
[2013-01-21 19:04:05 -0500] svs-blackbird: hello everyone! Can someone explain to me the syntax for accessing attributes defined in an environment (override attributes) from a recipe?
[2013-01-21 19:04:22 -0500] hagzag: thanks cheking that out ...
[2013-01-21 19:05:04 -0500] logikal_: svs-blackbird: they should end up being the normal node variables, right?
[2013-01-21 19:05:17 -0500] logikal_: if they're overriding the defaults
[2013-01-21 19:09:30 -0500] svs-blackbird: logikal: I am not sure to tell you the truth. I wrote a JSON file with the information I need in my recipes in my environment. I just want to access this information, lets say users...I know that for the node attributes you use something like "node[:attribute_][:info_]", I want to do the same but with something defined in the environment
[2013-01-21 19:09:58 -0500] logikal_: they should be available the same way
[2013-01-21 19:10:09 -0500] svs-blackbird: logikal_: I am not sure if I am explaining myself correctly
[2013-01-21 19:11:04 -0500] tomdzk: svs-blackbird: attributes are merged following this order: http://wiki.opscode.com/display/chef/Attributes#Attributes-Precedence
[2013-01-21 19:11:06 -0500] logikal_: so if you have a defalut attribute node["attribute"]["default"]=foo, and you set node["attribute"]["default"]=bar in the environment, when you reference it later in the cookbook, you'll get "bar"
[2013-01-21 19:12:00 -0500] svs-blackbird: and what happens if I define a new one in the environment?
[2013-01-21 19:12:11 -0500] tomdzk: svs-blackbird: if you want to distinguish attributes by environment, you'll have to make the environment explicit in your attributes, e.g. like described here: http://wiki.opscode.com/display/chef/Environments#Environments-DataBagsandEnvironments
[2013-01-21 19:12:31 -0500] logikal_: but if you have node["attribute"]["default"]="foo" in the defaults, and node["attribute"]["environment"]="bar", you'll use node["attribute"]["environment"]
[2013-01-21 19:14:44 -0500] svs-blackbird: ok I'll try that and see how it goes...thank you!
[2013-01-21 19:15:05 -0500] hagzag: The notifies seems to work thanks
[2013-01-21 19:15:25 -0500] hagzag: now my next enable:restart block is giving me the sam ekind of issue
[2013-01-21 19:15:54 -0500] hagzag: service "ntp" do
[2013-01-21 19:15:56 -0500] hagzag:     service_name ntp[:service]
[2013-01-21 19:15:57 -0500] hagzag:     action [:enable,:start]
[2013-01-21 19:15:59 -0500] hagzag: end
[2013-01-21 19:16:22 -0500] logikal_: for the googles: if you're trying to set up chef 10.x with the chef-server recipe, you should probably be using the chef10 branch: https://github.com/opscode-cookbooks/chef-server/tree/chef10, as I don't believe there's a way to get the current chef-server recipe to isntall 10.x
[2013-01-21 19:16:25 -0500] tomdzk: hagzag: why not use service node[:ntp][:service] do ... end ?
[2013-01-21 19:16:48 -0500] hagzag: and I also tried node:[ntp][:service]
[2013-01-21 19:17:22 -0500] hagzag: and I get the follwogin error:  Cannot find a resource matching service[ntpd] (did you define it first?)
[2013-01-21 19:19:35 -0500] hagzag: did that will retry ...
[2013-01-21 19:19:53 -0500] tomdzk: hagzag: did you install that package ?
[2013-01-21 19:21:34 -0500] hagzag: actually the error is still on: 21>>     notifies :restart, resources(:service => node[:ntp][:service])
[2013-01-21 19:21:43 -0500] hagzag: Chef::Exceptions::ResourceNotFound: Cannot find a resource matching service[ntpd] (did you define it first?)
[2013-01-21 19:22:01 -0500] hagzag: and in my arrtibutes.rb file I have the block defining the service name ...
[2013-01-21 19:22:33 -0500] hagzag: case platform
[2013-01-21 19:22:35 -0500] hagzag: when "ubuntu","debian"
[2013-01-21 19:22:36 -0500] hagzag:   default[:ntp][:service] = "ntp"
[2013-01-21 19:22:37 -0500] hagzag: when "redhat","centos","fedora","scientific"
[2013-01-21 19:22:39 -0500] hagzag:   default[:ntp][:service] = "ntpd"
[2013-01-21 19:22:40 -0500] hagzag: else
[2013-01-21 19:22:42 -0500] hagzag:   default[:ntp][:service] = "ntpd"
[2013-01-21 19:22:43 -0500] hagzag: end
[2013-01-21 19:23:19 -0500] tomdzk: hagzag: you need a 'service <name> do ... end' block that corresponds to that notifies expression
[2013-01-21 19:26:01 -0500] sclarson_: wlll: purged and reuploaded, same end of file error.
[2013-01-21 19:26:50 -0500] hagzag: yes:
[2013-01-21 19:26:53 -0500] hagzag: package "ntp" do                                # "ntp" applies to both ubuntu and centos
[2013-01-21 19:26:55 -0500] hagzag:     action [:install]                           # install package
[2013-01-21 19:26:56 -0500] hagzag: end
[2013-01-21 19:27:15 -0500] chip-: hagzag: gist.github.com
[2013-01-21 19:27:31 -0500] hagzag: will do next time :)
[2013-01-21 19:27:41 -0500] tomdzk: hagzag: no, not the package one, a service resource: http://wiki.opscode.com/display/chef/Resources#Resources-Service
[2013-01-21 19:28:11 -0500] wlll: sclarson_: Was the error on the same recipe this time?
[2013-01-21 19:28:53 -0500] sclarson_: it never lists specific recipe.  it's always following the line:  INFO: Loading cookbooks [chef_handler, iis, webpi, windows]
[2013-01-21 19:29:38 -0500] wlll: That was what I saw, I had to purge all my recipes and upload them all
[2013-01-21 19:33:55 -0500] hagzag: see full recipie: https://gist.github.com/fa2fbfd3ed789c166db6
[2013-01-21 19:43:03 -0500] queso: I have a cookbook to install a webserver and PHP site. The site requires SSL. For testing and internal development, I'd like to use a self-signed cert. For production, I want to use one of our real certs. What is the right way to make this configurable? I know you can use environments, haven't looked into that yet. I created an ssl_certs databag with testing.json containing the certs; how can I have it point to prod.json when the time comes?
[2013-01-21 19:43:34 -0500] queso: I mean, I just want to be able to point to a different data bag item, should I specify the item as an attribute?
[2013-01-21 19:44:23 -0500] chip-: queso: Specifying as an attribute is probably the best pattern there, yes.
[2013-01-21 19:44:31 -0500] queso: chip-: Great, thanks.
[2013-01-21 19:44:41 -0500] chip-: (just my opinion but I'd back you up on that :) )
[2013-01-21 19:45:00 -0500] queso: :)
[2013-01-21 19:55:21 -0500] rhodee: I'm using knife ec2 to provision servers via hosted chef. I've uploaded data_bag, cookbooks and defined nodes. When I pass create --node-name NAME -T DB=db. It does not reference the node on the host? What am I missing here
[2013-01-21 19:56:24 -0500] rhodee: *all other credentials are defined in an external file, so my actual command in the terminal is= knife ec2 server create --node-name NAME -T TAG=VAL*
[2013-01-21 19:57:47 -0500] makerbreakr: is the network_interfaces the default for changing/managing the network interfaces?
[2013-01-21 19:58:01 -0500] queso: Is it better to reference git via tagnames instead of branch names? Or just make it configurable? Tips/suggestions?
[2013-01-21 20:11:31 -0500] r3vamp: jkeiser: Works perfectly with "knife upload databags" now, however I'm getting an error when doing "knife upload cookbooks". https://gist.github.com/9004fab95c0b00eba79c
[2013-01-21 20:12:24 -0500] jkeiser: r3vamp: I'll look into it, but I suspect that has more to do with blips in s3 than anything else--shouldn't have anything to do with the change
[2013-01-21 20:12:33 -0500] jkeiser: Maybe try again?
[2013-01-21 20:12:59 -0500] jkeiser: oh, I see, that's a local storage thing
[2013-01-21 20:13:18 -0500] jkeiser: Still weird, and should be unrelated
[2013-01-21 20:13:37 -0500] jkeiser: (And either way, it's a bug somewhere :)
[2013-01-21 20:13:48 -0500] r3vamp: jkeiser: Alright, let me try it on a VM instead of my main host
[2013-01-21 20:14:49 -0500] jkeiser: r3vamp: I see what the bug in the client is.  But what it's saying is that the GET (the actual download) failed
[2013-01-21 20:14:55 -0500] jkeiser: Let me flip that sucker around
[2013-01-21 20:18:04 -0500] mhalligan: z
[2013-01-21 20:28:23 -0500] dougireton: Is there a way to use Solr facets in knife search node? See http://wiki.apache.org/solr/SolrFacetingOverview
[2013-01-21 20:28:44 -0500] dougireton: I'm trying to get a count of Chef clients by version and facets seem like a quicker way to do that
[2013-01-21 20:32:26 -0500] jkeiser: r3vamp: I have a fix that at least ought to print out the real error you are seeing.  Clone https://github.com/jkeiser/knife-essentials and do a rake install from in there
[2013-01-21 20:38:22 -0500] makerbreakr: https://gist.github.com/4589109
[2013-01-21 20:38:41 -0500] makerbreakr: am I missing why interface['netmask'] wouldnt be populating that template, but everythin else is workign correctly?
[2013-01-21 20:42:13 -0500] spox: makerbreakr: your key is bad in your json
[2013-01-21 20:42:17 -0500] spox: it has a trailing space
[2013-01-21 20:42:49 -0500] makerbreakr: arg thaks
[2013-01-21 20:42:55 -0500] spox: sure :)
[2013-01-21 20:56:48 -0500] queso: Is there a way to have some text print to the chef log for cookbook debugging purposes?
[2013-01-21 20:57:27 -0500] timsmith: yes
[2013-01-21 20:57:45 -0500] timsmith: Chef::Log.info "whatever"
[2013-01-21 20:57:55 -0500] queso: timsmith: Thank you
[2013-01-21 20:58:03 -0500] timsmith: info can also be fatal is you like
[2013-01-21 20:58:28 -0500] timsmith: Is there going to be a cookbook code review today?
[2013-01-21 20:59:33 -0500] jeff___: hi. is it standard procedure to use git submodules to import 3rd party cookbooks, and do you always fork them first?
[2013-01-21 21:02:17 -0500] queso: The git resource is not honoring the reference that I specify.
[2013-01-21 21:02:52 -0500] r3vamp1: jkeiser: v0.9.1 works fine on my VMs, i'll do a rake install (having troubles getting it to install) and let you know
[2013-01-21 21:13:57 -0500] miah: jeff___: not really. most people will use something like berkshelf or librarian to manage their cookbooks list
[2013-01-21 21:14:36 -0500] ivey: which means yes fork first if you're going to make any changes
[2013-01-21 21:18:14 -0500] makerbreakr: how do you guys manage webserver logs?
[2013-01-21 21:18:47 -0500] makerbreakr: do you upload them to a server?
[2013-01-21 21:25:30 -0500] queso: With the git resource, if I specify revision or reference, it doesn't matter, it checks out HEAD every time. Help?
[2013-01-21 21:35:02 -0500] mhalligan: hrm, any idea what "ERROR: RuntimeError: Please save server before accessing metadata" means in context of trying to create a server with the knife rackspace plugin?
[2013-01-21 21:36:15 -0500] patcon: don't suppose anyone knows the roadmap for the firewall/iptables/ufw cookbooks?
[2013-01-21 21:37:05 -0500] patcon: unlessssss... could it be this easy? :) https://github.com/opscode-cookbooks/iptables#roadmap
[2013-01-21 21:42:20 -0500] timsmith: patcon: I think that's more of a wishlist than a roadmap.  That cookbook is really up to what people in the community contribute
[2013-01-21 21:42:56 -0500] patcon: schisamo: ^^ re http://tickets.opscode.com/browse/COOK-652 can I ask for clarification? Is the goal that the individual cookbooks with augment firewall with more providers, or will all this go into the firewall cookbook?
[2013-01-21 21:43:48 -0500] patcon: timsmith: thanks man. yeah just seemed like someone at some point did some thinking on things (ie roadmap), but it's not totally explained what their intention was :)
[2013-01-21 21:45:28 -0500] timsmith: There was some hope for a while to move thinks to a firewall cookbook that would abstract out OS differences in firewall technology
[2013-01-21 21:45:39 -0500] timsmith: but I just don't see that happening and the project seems to be pretty dead
[2013-01-21 21:51:48 -0500] patcon: timsmith: ah gotcha. so i'm a little new to networking tech -- do you say it's unlikely because all the platforms are so different in how they handle firewall config, or is it just the momentum was lost?
[2013-01-21 21:52:40 -0500] timsmith: it would require a pretty complex abstraction layer and implementation layer to make it so you could write a single firewall that would magically work on Linux and Windows
[2013-01-21 21:52:43 -0500] maplebed: queso: wfm.  can you gist or pastebin your call to git and the output of 'git branch -v' from within the git repo that gets checked out?
[2013-01-21 22:00:25 -0500] ivey: I am, once again, looking at monit / runit / blue pill / god. Anyone have a strong preference for one or the other?
[2013-01-21 22:00:41 -0500] ivey: I keep coming back to blue pill and being annoyed that I did
[2013-01-21 22:01:21 -0500] doomviking: I'm a runit fan. but only because I know it. pick yer poison.
[2013-01-21 22:01:35 -0500] maplebed: I would say a distribution of between 10-15 minutes.
[2013-01-21 22:01:39 -0500] maplebed: moops.
[2013-01-21 22:02:06 -0500] queso: maplebed: http://dpaste.com/886190/
[2013-01-21 22:05:50 -0500] queso: maplebed: It does the same thing if I change the cookbook itself and have it reference another hash, it just ignores it.
[2013-01-21 22:06:13 -0500] maplebed: in the output of the chef run, do you see a log line containing "checked out branch:"?
[2013-01-21 22:06:30 -0500] maplebed: my first stab-in-the-dark guess would be to try 'origin/stable' instead of just 'stable'
[2013-01-21 22:09:02 -0500] queso: maplebed: I changed reference to "origin/stable".. got this:  checked out branch: HEAD reference: b1a805b25242eb0e7ef5bac73a372975d4c75812
[2013-01-21 22:10:57 -0500] maplebed: huh.  strange.
[2013-01-21 22:12:06 -0500] queso: I tried using revision instead, too.
[2013-01-21 22:13:45 -0500] queso: maplebed: Let me try it without the ssh_wrapper, maybe that's the problem.
[2013-01-21 22:14:17 -0500] mhalligan: sweet, http://tickets.opscode.com/browse/KNIFE-217, I'm not doing something stupid.
[2013-01-21 22:14:36 -0500] maplebed: queso: well, https://github.com/opscode/chef/blob/master/lib/chef/provider/git.rb is the place to look in more detail.
[2013-01-21 22:14:57 -0500] maplebed: you'll get some moer output if you run in debug mode.
[2013-01-21 22:22:30 -0500] queso: maplebed: Thanks for your help. I'm investigating..
[2013-01-21 22:23:01 -0500] jeff___: midh: thanks, i'll check those out.
[2013-01-21 22:23:09 -0500] maplebed: sorry I couldn't find it for you.
[2013-01-21 22:24:00 -0500] queso: maplebed: Maybe this is a Chef bug. The debug log level doesn't give me any more at this point.
[2013-01-21 22:24:32 -0500] maplebed: also I realized my wfm may be suspect since I'm checking out master.
[2013-01-21 22:24:36 -0500] queso: maplebed: But I find ruby difficult to read, so maybe I'm missing something..
[2013-01-21 22:25:33 -0500] queso: maplebed: Your wfm?
[2013-01-21 22:29:50 -0500] ivey: jtimberman: Do you still recommend runit over other options?
[2013-01-21 22:46:04 -0500] maplebed: does anybody know where to find the 'tuning' cookbook?
[2013-01-21 22:46:42 -0500] maplebed: it's required by the http://community.opscode.com/cookbooks/hadoop cookbook but doesn't exist in the community site.
[2013-01-21 22:47:03 -0500] maplebed: sorry, wrong link.  http://community.opscode.com/cookbooks/hadoop_cluster
[2013-01-21 22:49:50 -0500] maplebed: hmm.  I think I found it: https://github.com/infochimps-labs/ironfan-pantry/tree/master/cookbooks/tuning
[2013-01-21 23:01:26 -0500] timsmith: maplebed:  I'd the infochimps cookbooks.  They're pretty dead
[2013-01-21 23:20:31 -0500] mhalligan: hrm, any suggestions as to which most recent version of knife-plugin is functional? the older 0.5 version is somewhat version that's broken with the new generation cloud stuff
[2013-01-21 23:20:46 -0500] mhalligan: and 0.6.2 is hosed, even though it indicates that it's a roll-back of the bug that broke everything
[2013-01-21 23:20:50 -0500] mhalligan: https://github.com/opscode/knife-rackspace/pull/27
[2013-01-21 23:21:27 -0500] serge_: Can someone tell me how I would do a knife search for a specific recipe ? (e.g. search(:node, 'recipes:"collectd5::server"') do |n| ......... ) << This doesn't work. It returns HTTP 400
[2013-01-21 23:21:47 -0500] serge_: knife subcommands are one of those things I have yet to grasp
[2013-01-21 23:22:57 -0500] chip-: knife search node "*:*" is a basic, return-everything search.
[2013-01-21 23:24:21 -0500] tomdzk: serge_: you need to escape the ':' in the recipe name
[2013-01-21 23:24:33 -0500] tomdzk: serge_: e.g. collectd5\:\:server
[2013-01-21 23:24:51 -0500] vluther: serge_: knife search noe "recipe:recipename"
[2013-01-21 23:24:53 -0500] tomdzk: serge_: and no double quotes around the name
[2013-01-21 23:24:58 -0500] vluther: where noe == node
[2013-01-21 23:25:11 -0500] serge_: so that should also work in the recipe i take it ?
[2013-01-21 23:25:25 -0500] vluther: no, the docs explain how to do it in a recipe
[2013-01-21 23:25:27 -0500] vluther: one sec
[2013-01-21 23:25:52 -0500] vluther: loadbalancer_servers = search(:node, "role:loadbalancer")
[2013-01-21 23:26:46 -0500] serge_: Well, let me know step back a sec and jus show you where I found the recipe I'm basing mine off of : https://github.com/coderanger/chef-collectd/blob/master/recipes/client.rb
[2013-01-21 23:27:07 -0500] serge_: He uses a recipe (I would like to as well, but I suppose I can make a role if I have to )
[2013-01-21 23:29:29 -0500] tomdzk: serge_: remote the double quotes in the search string and put a \ before each of the : in the recipe name, then it should work (same query string in the recipe and in the knife command)
[2013-01-21 23:30:14 -0500] serge_: tomdzk: Doh... Ok got it now. Ty tu
[2013-01-21 23:30:18 -0500] serge_: ty*
[2013-01-21 23:42:02 -0500] mhalligan: does anyone know where the config_content variable gets populated, in context of a knife bootstrap script?
[2013-01-21 23:42:22 -0500] mhalligan: does that come from your local knife.rb?
