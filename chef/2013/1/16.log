[2013-01-16 00:02:10 -0500] jkyle: I'm getting two different values on the same node: knife node show foo.com -a apache.mod_auth_openid.version and shef -z => node['apache']['mod_auth_openid']['version'].
[2013-01-16 00:08:02 -0500] tigris_: Hi All. I recently added a tonne of assets to my rails app, and now chef dies doing an asset precompile. I'm using rbenv so unfortuntely the real error is buried somewhere and I can't see what it is. However, when I run the commands manually in production they work fine.
[2013-01-16 00:08:07 -0500] tigris_: Any thoughts on how to debug?
[2013-01-16 00:09:07 -0500] tigris_: I initially thought of the timeout option, but the default for timeout seems to be an hour, and i've only increased asset compilation time from about 8 minutes to about 12.
[2013-01-16 00:10:53 -0500] tomdzk: tigris_: did you run chef-client with '-l debug' ?
[2013-01-16 00:11:31 -0500] tigris_: tomdzk: will do now, i ran with -l info i just realised, which is probably why i am not seeing the "real" error
[2013-01-16 00:12:00 -0500] tigris_: out of curiosity, does anyone know where rbenv_script method is defined? i can not find it in the rbenv recipes
[2013-01-16 00:12:40 -0500] tomdzk: tigris_: it's a resource: https://github.com/fnichol/chef-rbenv/blob/master/providers/script.rb
[2013-01-16 00:13:46 -0500] tigris_: tomdzk: got it, thanks
[2013-01-16 00:14:02 -0500] tigris_: tomdzk: would the timeout on that resource be the same as the default? 1 hour?
[2013-01-16 00:14:47 -0500] tomdzk: tigris_: default values are defined here: https://github.com/fnichol/chef-rbenv/blob/master/resources/script.rb
[2013-01-16 00:14:54 -0500] tomdzk: doesn't look like it has a default for timeout
[2013-01-16 00:15:25 -0500] tigris_: it just inherits from the bash resource though right?
[2013-01-16 00:16:14 -0500] tomdzk: well, it will set a timeout on the bash if you defined one, otherwise it is up to script resource
[2013-01-16 00:16:31 -0500] tomdzk: https://github.com/fnichol/chef-rbenv/blob/master/providers/script.rb#L37
[2013-01-16 00:24:56 -0500] tigris_: tomdzk: annoyingly it ran successfully with -l debug... after 5 successive fails with -l info... oh well, thanks anyway :)
[2013-01-16 00:35:24 -0500] ahammond: using rvm::system recipe, how do I install a named rvm called ruby-1.8.7@foo?
[2013-01-16 00:47:27 -0500] fly9: i have chef.json overrides in my Vagrantfile - if I define:         :prefix_dir => "/usr/local",          - can I reference prefix_dir in another definition below?
[2013-01-16 00:50:33 -0500] fly9: would I use: #{override[:python][:prefix_dir]} for that?
[2013-01-16 00:57:36 -0500] whilp: hrmph -- where's the gist/snippet/whatever that shows how http://s3.amazonaws.com/chef-solo/bootstrap-latest.tar.gz is constructed again?
[2013-01-16 00:57:43 -0500] whilp: i know i've seen it somewhere
[2013-01-16 00:58:37 -0500] whilp: oh ho! i think this is it: https://github.com/jtimberman/chef-server-bootstrap-tarball
[2013-01-16 01:01:40 -0500] cobragoa_: so is the user resource supposed to error out if a user already exists?
[2013-01-16 01:03:35 -0500] cobragoa_: so is the user resource supposed to error out if a user already exists?
[2013-01-16 01:12:29 -0500] cwj: nope
[2013-01-16 01:22:38 -0500] boxenherder: \
[2013-01-16 02:09:22 -0500] paigeat:   not_if { "test -f /usr/local/mysql/bin/mysqld" }
[2013-01-16 02:09:39 -0500] paigeat: why isn't this example that you guys use everywhere doing what itz posed to do
[2013-01-16 02:11:32 -0500] whilp: that's valid syntax, but doesn't make any sense
[2013-01-16 02:11:50 -0500] whilp: not_if plus a string execs the string and checks the returncode
[2013-01-16 02:11:52 -0500] paigeat: not if test -f returns 1 ?
[2013-01-16 02:11:58 -0500] paigeat: which it will if the file isn't there?
[2013-01-16 02:12:10 -0500] paigeat: I see
[2013-01-16 02:12:11 -0500] whilp: not_if plus a ruby block (as above) runs the ruby block in the interpreter and checks for a true-ish return value
[2013-01-16 02:12:17 -0500] paigeat: I see I see got it
[2013-01-16 02:12:20 -0500] whilp: "anstring" is always true
[2013-01-16 02:12:22 -0500] whilp: etc
[2013-01-16 02:12:30 -0500] paigeat: I knew there was a diff just forgot
[2013-01-16 02:12:32 -0500] paigeat: thank you
[2013-01-16 02:12:34 -0500] whilp: sure ;)
[2013-01-16 02:12:52 -0500] whilp: i'd write the above as `not_if { File::exists? "/path/to/mysqld" }`
[2013-01-16 02:15:03 -0500] chip-: File.exists / File::exists is the way to go.
[2013-01-16 02:15:13 -0500] chip-: not_if {File.exists?("/usr/local/mysql/in/mysqld")}
[2013-01-16 02:15:45 -0500] chip-: Although I'm curious about the larger use case that blocks on the existence of a mysqld binary.
[2013-01-16 02:15:48 -0500] paigeat: haha yeah
[2013-01-16 02:18:28 -0500] cwj: is ::File.exists? analogous to File::exists?
[2013-01-16 02:18:50 -0500] cwj: i use the former all the time to avoid namespacing conflicts with Chef::File
[2013-01-16 02:18:55 -0500] avleen: hey guys, a question. Is there some way to force chef do do 'yum make cache', before it tries to install a package?
[2013-01-16 02:18:57 -0500] whilp: yeah, the former is right-er
[2013-01-16 02:19:07 -0500] cwj: whilp: oh ok
[2013-01-16 02:20:03 -0500] chip-: file vs. File is a pain for sure.
[2013-01-16 02:20:10 -0500] wassy121_: avleen: if you're using the community yum cookbook, it does so whenever you add a new repo.
[2013-01-16 02:20:37 -0500] wassy121_: avleen: another thing you may want to do is specifically set your metadata_expire time in yum.conf
[2013-01-16 02:21:22 -0500] avleen: wassy121_: ahh yeah i need to to happen before any attempt to install a package. Without it i end up with many failures to install until things expire :( i guess i could set the expiry much lower
[2013-01-16 02:25:32 -0500] wassy121_: Any idea how, or if I can make rsync create recursive directories on the fly?  I want to back up multiple servers into /opt/backup/$hostname/{db1,db2,other_dir} , but the $hostname can't be known until the rsync is run
[2013-01-16 02:25:52 -0500] wassy121_: I'm sure this isn't the exact right channel for such a question, but it just has me stumped
[2013-01-16 02:35:07 -0500] paigeat: does anyone who is currently present use the nagios cookbook Ive got nrpe all setup and everything but I can't figure out how to get it to monitor anything except some very basic things (does that by default) like cpu load and memory and things that I don't really care about
[2013-01-16 02:35:47 -0500] paigeat: like I'd like to write one that will mysql -u root and check the percona xtradb cluster replication status for "synced" or desynced/donor and stuff like that
[2013-01-16 02:36:00 -0500] paigeat: and I thought i had plugin part figure out
[2013-01-16 02:36:06 -0500] paigeat: is no working
[2013-01-16 02:37:09 -0500] paigeat: I cannot have put fail in failover
[2013-01-16 02:37:18 -0500] paigeat: have putting
[2013-01-16 02:42:51 -0500] sfalcon: Hey all, the Opscode Seattle Chef meetup is reachable via Google hangout. So come hangout if you like. https://plus.google.com/hangouts/_/6b0f32536661dbb1feea67511d0b12c60aa1f42d?authuser=0&hl=en&v=1357875789#
[2013-01-16 02:56:48 -0500] mh`: how can I use an ifconfig resource (to set some attributes like mtu) by its device name? (instead of IP address)
[2013-01-16 02:57:40 -0500] mh`: oh nevermind, ifconfig resource is proprietary to rhel layout
[2013-01-16 02:57:42 -0500] mh`: heh
[2013-01-16 03:03:33 -0500] paigeat: DANG LOOK AT ALL THEM NERDS!!!!!!!!!!!!!!!
[2013-01-16 03:08:49 -0500] ssd7: lol
[2013-01-16 03:09:34 -0500] ssd7: If anyone is watching vai youtube and wants to ask a question, feel free to drop it here and I can relay it.
[2013-01-16 03:09:48 -0500] ssd7: s/vai/via/
[2013-01-16 03:32:45 -0500] koodough: Hello!
[2013-01-16 03:34:12 -0500] ssd7: Heya
[2013-01-16 03:34:42 -0500] koodough: I'm updating phpmyadmin to be friendly for both apache and nginx. How would I go about detecting if the computer is using apache or nginx? I could just add an attribute for to specificy which web server to use
[2013-01-16 03:38:51 -0500] kallistec: https://github.com/opscode/chef/pull/498
[2013-01-16 03:41:50 -0500] koodough: would partial template help me detect if the role has either apache or nginx in use?
[2013-01-16 03:42:41 -0500] nathenharvey: koodough:  no I don't think that url was meant for you.  it was mentioned in the Chef meetup group which is currently streaming on youtube
[2013-01-16 03:42:54 -0500] koodough: o.
[2013-01-16 03:43:00 -0500] nathenharvey: koodough:  I think an attribute would be a good approach
[2013-01-16 03:43:19 -0500] koodough: ok thx!
[2013-01-16 03:43:39 -0500] nathenharvey: you could inspect the run list but that seems a bit brittle and an attribute feels like it would be more straightforward.
[2013-01-16 03:43:44 -0500] ssd7: koodough: Lots of way to skin that cat.  Personally I would just have it be an attribute.  You can inspect state but that will be a bit more work and generally won't be something that will change often enough to make an attribute unwieldy
[2013-01-16 03:52:42 -0500] kallistec: http://railsapi.com/doc/ruby-v1.9.2/
[2013-01-16 04:07:33 -0500] kallistec: repaste: https://plus.google.com/hangouts/_/6b0f32536661dbb1feea67511d0b12c60aa1f42d?authuser=0&hl=en&v=1357875789#
[2013-01-16 04:53:01 -0500] koodough: YEAH phpmyadmin works with chef solo and apache2
[2013-01-16 05:41:17 -0500] freezey: anyone have a decent ldap cookbook?
[2013-01-16 05:41:30 -0500] freezey: or just basic nsswitch.conf ldap.conf etc
[2013-01-16 05:41:33 -0500] freezey: make life easy
[2013-01-16 05:43:15 -0500] maek: with open source chef if I want to have 2 front ends that are running chef-server is there anything tricky I have to do for sandboxes, etc. currently I have 2 setup and knife and chef-client seem to work but randomly cookbook uploads fail and I see an error in the logs about missing a sandbox file. any ideas?
[2013-01-16 06:45:47 -0500] akamaus: greetings. I have a weird problem. Recently my chef-server (10.16.6-1, installed from opscode lucid10 repo) became unstable. Usually it functions properly after reboot, but after a while stops responding requests both from clients and knife. Any ideas how to investigate this?
[2013-01-16 07:27:54 -0500] maek: akamaus: I would make sure couchdb and rabbtimq are still running correclty when you have these issues
[2013-01-16 07:29:56 -0500] akamaus: maek, I'm investigating the problem now. Looks like restarting chef-server process helps. It strange, but the process stops reacting on SIGINT when hanging, only SIGKILL does the work.
[2013-01-16 07:30:05 -0500] akamaus: no cpu load, though
[2013-01-16 07:32:39 -0500] akamaus: maek, moreover, it seems to fail with a certain probability after this request: http://pastebin.com/ukwgWA7G. At least, I saw it several times in a row.
[2013-01-16 07:37:43 -0500] maek: akamaus: sorry. stumped. that seems like chef-server in the guts is not working. was just thinking maybe a service had stopped
[2013-01-16 08:32:23 -0500] geo: Hi, i installed both Chef Server and Client...
[2013-01-16 08:32:47 -0500] geo: i want to install a package in client
[2013-01-16 08:32:55 -0500] geo: what is te next step
[2013-01-16 08:33:45 -0500] eugenmayer: geo: read the documentation
[2013-01-16 09:19:48 -0500] bubu: hi guys - am using hosted chef, trying to restart the chef client but I get an ERROR: Net::HTTPServerException 401 Unauthorized .... any ideas?
[2013-01-16 09:20:14 -0500] bubu: have checked opscode site last night and our client.pem on all boxes looks OK....nothing changed there...
[2013-01-16 10:26:20 -0500] zts: bubu: maybe check that the time on your system was correct (although I thought the error message in that case was a little more informative)
[2013-01-16 11:51:47 -0500] user9910: Hi All. I quick question - I am using vagrant with a centos box. I would like it to update the chef gem to the latest version by default. How I can configure that?
[2013-01-16 12:28:51 -0500] VLAN200: Hi all
[2013-01-16 12:29:23 -0500] VLAN200: I get a 404 when I try to get chef-server from apt.opscode.com
[2013-01-16 12:29:53 -0500] VLAN200: Err http://apt.opscode.com/ quantal-0.10/main chef-server-api all 10.16.4-1
[2013-01-16 12:29:53 -0500] VLAN200: Err http://apt.opscode.com/ quantal-0.10/main chef-server-api all 10.16.4-1
[2013-01-16 12:30:53 -0500] VLAN200: I've seen in respository that there is a the version 10.16.6-1
[2013-01-16 12:34:10 -0500] VLAN200: And not  10.16.4-1
[2013-01-16 12:34:20 -0500] VLAN200: Hi ?
[2013-01-16 12:39:23 -0500] daxroc: Morning all
[2013-01-16 12:40:22 -0500] daxroc: Anyone using chef with Vmware here? Do you need the enterprise edition of Chef to provision VMs using knife ?
[2013-01-16 12:44:48 -0500] bubu: I get a 401 unauth when I try and restart chef-client ....
[2013-01-16 12:44:56 -0500] bubu: any opscode people here?
[2013-01-16 12:47:48 -0500] zts: bubu: did you confirm that the time on your node is correct?
[2013-01-16 12:48:19 -0500] bubu: zts, yes
[2013-01-16 12:48:20 -0500] zts: daxroc: I haven't used it, but you definitely don't need any commercial Chef release to use the vmware plugins for knife
[2013-01-16 12:48:28 -0500] zts: daxroc: eg, https://github.com/ezrapagel/knife-vsphere
[2013-01-16 12:48:38 -0500] zts: bubu: could you please pastebin/gist the debug logs of your chef run, that show it failing?
[2013-01-16 12:55:28 -0500] bubu: zts msgd
[2013-01-16 12:56:39 -0500] zts: bubu: thanks (although better to share in here, unless it's particularly sensitive).  I think the better error messages I mentioned might be in a more recent version of Chef, though I don't think upgrading would fix your problem
[2013-01-16 12:57:52 -0500] bubu: im getting the same on 10.16.2 boxes
[2013-01-16 12:57:55 -0500] zts: bubu: if you list nodes and clients on the chef server (knife node list, knife client list), do you see the right hostname in each list?  (The one in the "Signing the request as " line in the log)
[2013-01-16 12:58:16 -0500] zts: bubu: ah, so it's not just one node, it's all nodes?
[2013-01-16 12:58:21 -0500] bubu: yup
[2013-01-16 12:58:24 -0500] bubu: ALL the nodes
[2013-01-16 12:58:56 -0500] zts: bubu: in that case, I think you should probably open a support ticket
[2013-01-16 13:02:07 -0500] Daedy: hey guys, i'm wanting to write cookbooks for two node types, a load balancer and a web server. I want the load balancer cookbooks to be aware of all the webserver nodes so it can auto apply their ip addresses in the cobfig. How might i go about thay?
[2013-01-16 13:02:43 -0500] matti: Daedy: You can use search and search through your nodes in your load-balancer cookbook.
[2013-01-16 13:02:58 -0500] bubu: hmm
[2013-01-16 13:33:25 -0500] Daedy: matti, whats 'search' in this context?
[2013-01-16 13:34:06 -0500] leifmadsen: search is a resource
[2013-01-16 13:34:21 -0500] matti: Daedy: http://wiki.opscode.com/display/chef/Introduction+to+Search+and+Data+Bags
[2013-01-16 13:34:37 -0500] leifmadsen: Daedy:  http://docs.opscode.com/essentials_search.html
[2013-01-16 13:35:13 -0500] matti: Daedy: Imagine, that you search for all nodes that have role:apache (or something).
[2013-01-16 13:37:20 -0500] Daedy: oooo. Sounds perfect :)
[2013-01-16 13:38:39 -0500] yann_: hello! Is it possible to use ohai with chef-solo?
[2013-01-16 13:38:47 -0500] matti: yann_: Yes.
[2013-01-16 13:38:53 -0500] yann_: any documentation?
[2013-01-16 13:39:09 -0500] matti: yann_: Your automatic attributes often come from Oahi i.e. IP address, etc.
[2013-01-16 13:39:26 -0500] matti: Ohai*
[2013-01-16 13:39:40 -0500] yann_: I need more things like number of processors, name of disks and so forth
[2013-01-16 13:41:18 -0500] matti: yann_: Go on a host with Ohai.
[2013-01-16 13:41:32 -0500] matti: Tykling: Then type "ohai" -- find what you want, and use in recipes.
[2013-01-16 13:41:49 -0500] yann_: yeah, just how do I access it in recipe?
[2013-01-16 13:42:45 -0500] yann_: node["memory"]["low_total"] for example?
[2013-01-16 13:43:36 -0500] cpasmoi: Hey there. I'm using a self hosted chef 0.9 server. I've installed a new OS on an already chef-ed server, but didn't keep the private key (client.pem). I deleted the node, than the client in chef web UI, in order to create a client with the same name and a new private key.
[2013-01-16 13:43:47 -0500] matti: yann_: Try it.
[2013-01-16 13:43:54 -0500] matti: yann_: Fire up shef and type exactly that.
[2013-01-16 13:44:32 -0500] cpasmoi: unfortunately a chef-client on the host/node returns a 401 HTTPS response code (Net::HTTPServerException)
[2013-01-16 13:44:46 -0500] cpasmoi: I've tried to set a new-new key, but no change
[2013-01-16 13:44:53 -0500] matti: chef > p node["memory"]["free"]
[2013-01-16 13:44:54 -0500] matti: "1026660kB"
[2013-01-16 13:44:59 -0500] yann_: yay thanks matti
[2013-01-16 13:45:11 -0500] matti: :>
[2013-01-16 13:45:21 -0500] cpasmoi: how can I manage this without changing node's name ?
[2013-01-16 13:47:14 -0500] Tykling: matti: wait, what ?
[2013-01-16 13:47:21 -0500] Tykling: :)
[2013-01-16 13:47:28 -0500] matti: Tykling: ?
[2013-01-16 13:47:39 -0500] Tykling: 14:41 < matti> Tykling: Then type "ohai" -- find what you want, and use in recipes.
[2013-01-16 13:47:42 -0500] Tykling: :)
[2013-01-16 13:47:46 -0500] matti: Ops.
[2013-01-16 13:47:55 -0500] matti: t and y are too close.
[2013-01-16 13:47:57 -0500] matti: Apologies.
[2013-01-16 13:48:00 -0500] Tykling: hehe np
[2013-01-16 13:51:43 -0500] nacer: hi
[2013-01-16 13:51:55 -0500] matti: lo
[2013-01-16 13:51:56 -0500] nacer: formatter :doc don't seem to work in my client.rb
[2013-01-16 13:52:28 -0500] nacer: i got a : FATAL: Chef::Formatters::UnknownFormatter: No output formatter found for doc (available: min, minimal, doc, null)
[2013-01-16 14:10:33 -0500] willejs: the -j option with chef-client allows me to load attributes from a json file, will this only be present for that run of chef-client and over ride all other attributes?
[2013-01-16 14:13:33 -0500] Alexis__: Hey, guys! If I install chef server using omnibus, will it update using apt or not (assuming I'm using debian/ubuntu)?
[2013-01-16 14:14:55 -0500] Alexis__: omnibus seems to install deb package, but I can't find any chef entries in apt source lists
[2013-01-16 14:25:57 -0500] cpasmoi: hum, anyone has an idea about my 401 "Unauthorized" (Net::HTTPServerException) from chef-client to a self hosted chef, when the private key is good ?
[2013-01-16 14:32:47 -0500] wassy121: cpasmoi, I've had similar issues where I had to regenerate the validation key to fix it.  I've also seen if the couchdb isn't running that might happen
[2013-01-16 14:33:37 -0500] wassy121: cpasmoi, see; chef checks couchdb to see if the validation key passed in matches one it has that is proper.  If couchdb is fked up, or not started, it will fail as 401 non-auth
[2013-01-16 14:35:53 -0500] cpasmoi: oh, ok, I'll check that =)
[2013-01-16 14:36:45 -0500] cpasmoi: couchdb is up, I'll check its state
[2013-01-16 14:43:04 -0500] rmcco: Good day, I have a quick question about the default recipe in the 'resolver' Chef cookbook, if there's someone who wouldn't mind assisting.
[2013-01-16 14:43:20 -0500] whilp: rmcco: ask and ye may receive
[2013-01-16 14:44:15 -0500] rmcco: Cool, here goes:
[2013-01-16 14:44:52 -0500] rmcco: if node['resolver']['nameservers'].empty? || node['resolver']['nameservers'][0].empty?
[2013-01-16 14:44:55 -0500] rmcco: What job does the part after the '||' do, if the first part of the condition already checks whether the array is empty?
[2013-01-16 14:46:08 -0500] whilp: you can specify nameservers as a string ipaddress or an array of addresses
[2013-01-16 14:46:15 -0500] whilp: that handles both cases
[2013-01-16 14:46:40 -0500] rmcco: ah
[2013-01-16 14:47:02 -0500] freezey: anyone have a decent ldap cookbook?
[2013-01-16 14:47:04 -0500] freezey: or just basic nsswitch.conf ldap.conf etc
[2013-01-16 14:47:10 -0500] rmcco: Can you give me an array which would satisfy the first half of the condition, but not the second?
[2013-01-16 14:47:27 -0500] cpasmoi: wassy121, ok, as couchdb is running, I'll go to the internal web UI, do you have any clue on how to create my search request ? (*blushes* "It's my first time")
[2013-01-16 14:47:36 -0500] rmcco: Or, rather, would only match the second part of the condition (sorry, wasn't clear before).
[2013-01-16 14:48:32 -0500] wassy121: cpasmoi, if this self-hosted chef has only a few nodes, just regenerate the validation keys
[2013-01-16 14:49:14 -0500] whilp: rmcco: hrm, not sure
[2013-01-16 14:49:26 -0500] cpasmoi: I have around 100 nodes
[2013-01-16 14:49:39 -0500] wassy121: cpasmoi, how many of them fail authentication?
[2013-01-16 14:49:58 -0500] rmcco: whilp: That's OK. It's good to have the answer, all the same.
[2013-01-16 14:50:10 -0500] rmcco: whilp: Thanks
[2013-01-16 14:50:12 -0500] wassy121: if it's just the one, try to rm -fr /etc/chef on there, and re-register the node.
[2013-01-16 14:50:41 -0500] wassy121: cpasmoi, knife bootstrap re-registers, I think chef-client may as well, but I'm unsure.
[2013-01-16 14:51:22 -0500] cpasmoi: wassy121, only one, because of a new installation and a renew of the key (via the chef server web UI)
[2013-01-16 14:51:59 -0500] nacer: api seems to be laggy
[2013-01-16 14:52:32 -0500] cpasmoi: Normaly I paste the key in /etc/clien.pem and run chef-client
[2013-01-16 14:53:15 -0500] cpasmoi: ok, found my client on the db, checking the public key
[2013-01-16 14:53:31 -0500] wassy121: cpasmoi, I normally use an admin client on my workstation to "knife bootstrap NODENAME", which auto-generates the client key
[2013-01-16 14:53:45 -0500] cpasmoi: oh, ok
[2013-01-16 14:53:47 -0500] wassy121: I've logged into the webUI once.  Ever
[2013-01-16 14:53:57 -0500] cpasmoi: I don't use an admin client
[2013-01-16 14:54:03 -0500] cpasmoi: haha =)
[2013-01-16 15:07:33 -0500] freezey: question. If i want to write a new ohai plugin do i have to checkout the original ohai cookbook first and start adding things in there? or can i have a blank cookbook with just newly added plugins
[2013-01-16 15:07:42 -0500] programmerq: so, in our datacenter, we don't geet to ssh in as root. is there a way to tell knife bootstrap --sudo to use something other than sudo? We use a different privelege escalation command.
[2013-01-16 15:09:16 -0500] programmerq: maybe a custom bootstrap template?
[2013-01-16 15:09:31 -0500] programmerq: yeah, it appears that may do the trick
[2013-01-16 15:10:04 -0500] whilp: freezey: you can register plugins in other cookbooks using this attribute: https://github.com/opscode-cookbooks/ohai/blob/master/recipes/default.rb#L26
[2013-01-16 15:14:16 -0500] cpasmoi: wassy121, well, awkward, the couchdb database has the wrong public key, I've checked this with "openssl rsa -in client.pem -pubout -out pubkey.pem"
[2013-01-16 15:58:37 -0500] cpasmoi: looking at http://docs.opscode.com/lwrp_apt.html I don't see a way to pin a package to a repository. I can handle a version but it won't be that smart if there are any updates. Is there any other way (with chef) ?
[2013-01-16 15:59:28 -0500] cpasmoi: oh
[2013-01-16 15:59:41 -0500] cpasmoi: nevermind, it is possible :)
[2013-01-16 16:05:40 -0500] cpasmoi: well there is no example about pin release (to set a particular repository)
[2013-01-16 16:12:57 -0500] spox: is anyone using test-kitchen with virtualbox 4.2?
[2013-01-16 16:13:14 -0500] spox: just wondering if anyone has run into compatibility issues with the default test boxes
[2013-01-16 16:13:22 -0500] user9910: How I can add a remote .rpm source to a package resource in chef?
[2013-01-16 16:14:48 -0500] PierreO: spox: yesterday, I tried to run tests on nginx recipe, do you know if it does work usually? (or was it just my computer that didn't work with virtualbox 4.2)
[2013-01-16 16:16:24 -0500] spox: user9910: download remote using something like remote_file. provide local path to source option of package
[2013-01-16 16:16:41 -0500] spox: user9910: probably set provider to rpm package or use the direct rpm_package resource
[2013-01-16 16:17:02 -0500] spox: PierreO: i don't. i have default virtualbox installed from ubuntu repos and it's at 4.1.x
[2013-01-16 16:17:08 -0500] user9910: spox: It won't do it automatically ?
[2013-01-16 16:17:16 -0500] user9910: chef doesn't know that ?
[2013-01-16 16:17:18 -0500] spox: user9910: download the file for you?
[2013-01-16 16:17:42 -0500] user9910: yes :) and know that I want the rpm package provider because I am on centos
[2013-01-16 16:17:44 -0500] spox: PierreO: my install works as expected. but i have someone using 4.2 and it's failing
[2013-01-16 16:18:04 -0500] spox: user9910: no, it won't auto download. you need to grab it using the remote_file resource first
[2013-01-16 16:18:21 -0500] PierreO: spox: what is the cookbook?
[2013-01-16 16:18:31 -0500] PierreO: spox: I can download it and give a try
[2013-01-16 16:18:50 -0500] spox: PierreO: internal cookbook, but it won't properly setup the test box
[2013-01-16 16:18:55 -0500] spox: vagrant errors out trying to connect
[2013-01-16 16:19:13 -0500] spox: are you have to get to the node and have it start provisioning before it errors?
[2013-01-16 16:19:16 -0500] user9910: spox: thanks!!!
[2013-01-16 16:19:22 -0500] spox: are you able to get to the node*
[2013-01-16 16:19:24 -0500] spox: ugh
[2013-01-16 16:20:25 -0500] PierreO: spox: I was desperate yesterday, 'cause it was failling radomly (but after connecting to a centos node)
[2013-01-16 16:21:01 -0500] spox: PierreO: ah, but it was at least starting the chef run on the test node?
[2013-01-16 16:21:07 -0500] PierreO: spox: (with nginx recipe)
[2013-01-16 16:21:11 -0500] PierreO: spox: yes
[2013-01-16 16:21:29 -0500] spox: okay, then this may be something else. :/
[2013-01-16 16:21:38 -0500] mshilling: good morning everyone
[2013-01-16 16:21:56 -0500] mshilling: are there any couchdb tricks aside from compaction that I can do to reduce its size?
[2013-01-16 16:22:00 -0500] mshilling: mine is over 200GB already
[2013-01-16 16:24:46 -0500] Toger: The how-to-backup-chef page at http://wiki.opscode.com/display/chef/Backing+Up+Chef+Server ends with "The SOLR Search index the RabbitMQ queue Chef Indexer should be rebuilt upon restoration." but I don't see anything on how to do that.  Can anyone point me to a doc that talks about that?
[2013-01-16 16:32:50 -0500] jtimberman: spox: what kind of incompatibility?
[2013-01-16 16:33:15 -0500] labria_: Toger: knife index rebuild
[2013-01-16 16:33:19 -0500] jtimberman: spox: is it hanging on "Waiting for VM to boot (This can take awhile)"
[2013-01-16 16:33:24 -0500] jtimberman: or whatever the message is
[2013-01-16 16:33:28 -0500] Toger: labria_: oh, that was easy :>
[2013-01-16 16:33:40 -0500] spox: jtimberman: it hangs there for a bit and then dies
[2013-01-16 16:33:41 -0500] spox: Failed to connect to VM via SSH
[2013-01-16 16:33:42 -0500] jtimberman: because I ran into that too with vbox 4.1.23 and upgrading to 4.2.6 worked :-|
[2013-01-16 16:33:44 -0500] jtimberman: yea
[2013-01-16 16:33:50 -0500] spox: hrm
[2013-01-16 16:34:00 -0500] spox: let me see the exact version they're using
[2013-01-16 16:34:00 -0500] jtimberman: nearest i could find is an issue on vagrant #391 about it
[2013-01-16 16:34:32 -0500] jtimberman: i tried the workaroudns listed in the ticket (add dhclient eth0 to /etc/rc.local, remove pre-up sleep 2 from /etc/network/interfaces), and neither worked.
[2013-01-16 16:34:51 -0500] spox: oh
[2013-01-16 16:34:53 -0500] spox: OH
[2013-01-16 16:34:58 -0500] spox: bah stupid ubuntu
[2013-01-16 16:35:02 -0500] spox: is this the dnsmasq issue?
[2013-01-16 16:35:41 -0500] jtimberman: i don't know, i don't think dnsmasq is running on the base box that we make
[2013-01-16 16:36:43 -0500] spox: no. dnsmasq on host. i had issues with boxes hanging for a long time when i bumped my ubu version and it ended up being an issue dnsmasq was introducing
[2013-01-16 16:36:55 -0500] spox: disabling it on the host allowed the guests to properly load
[2013-01-16 16:37:14 -0500] jtimberman: oh
[2013-01-16 16:37:27 -0500] jtimberman: my host is OS X, I don't have a dnsmasq running.
[2013-01-16 16:37:35 -0500] jtimberman: at least, not named dnsmasq in the process table :D
[2013-01-16 16:37:40 -0500] spox: okay. well, that's helpful and at least i know things should be working okay on 4.2. i'll chase down both of these and see if either are the culprits
[2013-01-16 16:37:54 -0500] spox: yeah, it was an unexpected new "feature" when i dist-upgraded
[2013-01-16 16:37:54 -0500] spox: :P
[2013-01-16 16:38:11 -0500] spox: jtimberman: thanks :)
[2013-01-16 16:39:00 -0500] jtimberman: spox: hilariously(??), my Ubuntu linux box where I also have vbox etc setup for testing didn't have any issues at all
[2013-01-16 16:39:16 -0500] jtimberman: but, it's also a proper DNS server
[2013-01-16 16:39:26 -0500] BryanWB__: can i install local deb packages w/ package resource  and source attribute?
[2013-01-16 16:39:29 -0500] jtimberman: so I nuke dnsmasq from orbit on purpose :D
[2013-01-16 16:39:35 -0500] jtimberman: BryanWB__: certainly
[2013-01-16 16:39:37 -0500] BryanWB__: on debian of course
[2013-01-16 16:39:40 -0500] jtimberman: BryanWB__: you have to remote_file it first.
[2013-01-16 16:39:54 -0500] jtimberman: since dpkg doesn't support installing from a URI like RPM does.
[2013-01-16 16:40:10 -0500] BryanWB__: i have, but I must be doing wrong
[2013-01-16 16:40:20 -0500] BryanWB__: jtimberman: ^^, used remote_file
[2013-01-16 16:40:45 -0500] BryanWB__: is package w/ source attribute idempotent?
[2013-01-16 16:41:10 -0500] BryanWB__: i mean does it  run `dpkg` or `rpm` every time ?
[2013-01-16 16:41:18 -0500] BryanWB__: hmm, it must to check the rpmdb
[2013-01-16 16:41:47 -0500] freezey: anyone here use spork?
[2013-01-16 16:42:15 -0500] BryanWB__: g'night gr8 chefs
[2013-01-16 16:43:10 -0500] jtimberman: bradgignac: for rpm, it uses rpm -q --query-format 'bunch of format stuff' and the package name
[2013-01-16 16:43:13 -0500] jtimberman: er
[2013-01-16 16:43:17 -0500] jtimberman: bryanwb left :)
[2013-01-16 16:43:25 -0500] bradgignac: i get lots of accidental pings
[2013-01-16 16:43:27 -0500] bradgignac: :)
[2013-01-16 16:43:35 -0500] jtimberman: bradgignac: "br<tab>" ;)
[2013-01-16 16:49:41 -0500] freezey: question
[2013-01-16 16:49:45 -0500] freezey: so a frozen cookbook is?
[2013-01-16 16:52:01 -0500] freezey: nevermind got it
[2013-01-16 16:53:58 -0500] cassianoleal: how do I search for a node that's in the same environment as the current node in a recipe?
[2013-01-16 16:54:26 -0500] cassianoleal: something like search(:node, "role:some_role,environment:#{node.environment}")
[2013-01-16 16:55:32 -0500] jonlives: cassianoleal: nodes = search(:node, "chef_environment:#{node.chef_environment}")
[2013-01-16 16:56:23 -0500] cassianoleal: jonlives: thanks! :)
[2013-01-16 16:56:26 -0500] jonlives: np :)
[2013-01-16 16:57:38 -0500] failshell: writing a cookbook to manage the setup of a mysql master/slave stack isnt trivial
[2013-01-16 17:01:34 -0500] gyre007: can I do node.override in recipe or do I have to use node.set ?
[2013-01-16 17:02:36 -0500] cassianoleal: gyre007: node.override in a recipe is the highest precedence parameter, so you should be able to use it
[2013-01-16 17:03:19 -0500] gyre007: cassianoleal: cheers
[2013-01-16 17:03:36 -0500] cassianoleal: gyre007: np
[2013-01-16 17:10:01 -0500] cassianoleal: for an EC2 node, how do I get the internal IP address in a recipe?
[2013-01-16 17:11:02 -0500] danryan: cassianoleal: node['ec2']['local_ipv4'] or node['cloud']['local_ipv4']
[2013-01-16 17:11:56 -0500] cassianoleal: danryan: thanks!! any difference between ['ec2']  and  ['cloud'] ?
[2013-01-16 17:12:58 -0500] cassianoleal: also, can I use that in a role description? I wanted to set that as an override_parameter in a role
[2013-01-16 17:13:01 -0500] danryan: cassianoleal: ['cloud'] is agnostic, so if you use that it should work on a non-ec2 instance also
[2013-01-16 17:13:22 -0500] cassianoleal: override_attribute, I mean
[2013-01-16 17:16:16 -0500] graphex: I'm trying to install chef server for the first time using apt-get but it keeps getting 404s for 10.16.4 versions. Is this just a delay in getting the apt package updated to 10.16.6?
[2013-01-16 17:18:34 -0500] cpasmoi: graphex, i guess that's an apt/debian problem
[2013-01-16 17:19:27 -0500] cpasmoi: About apt, i've just installed apt cookbook and a chef-client in a debian node using recipe[apt] in its role will give me this moneta error : http://paste.debian.net/225390/
[2013-01-16 17:19:37 -0500] Eulipion: is there a way to clear the chef/search/solr cache?
[2013-01-16 17:19:58 -0500] cpasmoi: I don't understand what is moneta (FATAL: Could not load Moneta back end "BasicFile")
[2013-01-16 17:21:13 -0500] cpasmoi: oh seems like it's a gem
[2013-01-16 17:21:22 -0500] evxd: Eulipion: you can rebuild the search indexes with `knife index rebuild`, but that's all i got
[2013-01-16 17:21:35 -0500] queso: Is there a good way to get a command to run on a server when everything else is done?
[2013-01-16 17:21:56 -0500] queso: Or, is there a way to schedule something to be run at the very end?
[2013-01-16 17:22:33 -0500] Eulipion: queso: i use blocks with action :nothing, then call them when i want them to run
[2013-01-16 17:22:39 -0500] cpasmoi: (moneta gem is installed but I'm still having this issue)
[2013-01-16 17:24:40 -0500] cpasmoi: ok, found it. I had to install moneta v 0.6.0
[2013-01-16 17:24:44 -0500] cpasmoi: gem install moneta -v '~> 0.6.0' && gem uninstall moneta -v '>= 0.7.0'
[2013-01-16 17:26:13 -0500] Eulipion: evxd: any idea how long rebuilding indexes takes?  ive got a pretty small deployment and I cant search anything anymore
[2013-01-16 17:26:20 -0500] graphex: i guess i'm running in to http://tickets.opscode.com/browse/CHEF-3765
[2013-01-16 17:26:26 -0500] evxd: Eulipion: not long
[2013-01-16 17:28:49 -0500] queso: Eulipion: okay, thanks.
[2013-01-16 17:30:08 -0500] Eulipion: i think reindexing solr broke something, it still cant search any DB
[2013-01-16 17:35:43 -0500] teukka: cassianoleal: based on an ohai run: node['ec2']['local_ipv4']
[2013-01-16 17:36:04 -0500] teukka: cassianoleal: oh, I was lagging with my irc buffer :)
[2013-01-16 17:36:19 -0500] cassianoleal: teukka: cheers anyway! :)
[2013-01-16 17:41:22 -0500] Eulipion: i rebuild my search indexes, but now i cant search anything.  anyone have advice on getting search to work again?
[2013-01-16 17:55:37 -0500] Toger: how is it I did a gem install chef-server and got 10.18.0 instead of 10.16.6? I didnt think 10.18 was out.
[2013-01-16 17:57:22 -0500] jtimberman: Toger: http://img.izismile.com/img/img5/20120224/640/soon_meme_collection_640_03.jpg
[2013-01-16 17:58:46 -0500] cpasmoi: Toger, I guess you need a `gem install chef-server -v '~> 10.16.6'  && gem uninstall hef-server -v '>= 10.18.0'`
[2013-01-16 17:59:00 -0500] jtimberman: And there it is :) - http://www.opscode.com/blog/2013/01/16/chef-10-18-0-released/
[2013-01-16 17:59:07 -0500] cpasmoi: damnit, method_missing': undefined method `apt_repository'
[2013-01-16 17:59:19 -0500] cpasmoi: oh, gratz Toger ^^"
[2013-01-16 18:00:04 -0500] Toger: ahh heh
[2013-01-16 18:00:14 -0500] cpasmoi: and if I just '  include_recipe "apt" ' in my recipe I get the Cookbook apt not found #_#
[2013-01-16 18:00:15 -0500] Toger: that would happen just as I am upgrading and confuse me
[2013-01-16 18:00:18 -0500] Toger: :>
[2013-01-16 18:05:24 -0500] cassianoleal: how do I transform an existing EC2 instance into a chef node? is there a knife command for bootstrapping an existing instance?
[2013-01-16 18:05:31 -0500] jtimberman: cpasmoi: you need to specify 'apt' as a dependency in your cookbook's metadata.
[2013-01-16 18:05:39 -0500] jtimberman: cassianoleal: 'knife bootstrap' :)
[2013-01-16 18:06:58 -0500] cassianoleal: jtimberman: :-/ thanks should have thought that. :)
[2013-01-16 18:06:58 -0500] cpasmoi: I really don't understand where I am wrong. I've uploaded the apt cookbook (rake upload_cookbook[apt]), set "recipe[apt::default]" in the role and even a ' include_recipe "apt" ' in the recipe
[2013-01-16 18:09:01 -0500] fromonesrc: lots of WARN messages in my chef runs suddenly due to 10.18
[2013-01-16 18:09:16 -0500] cpasmoi: jtimberman, something like ' "dependencies": {  "apt"  }, ' ?
[2013-01-16 18:09:34 -0500] fromonesrc: WARN: Cloning resource attributes for  from prior resource (CHEF-3694)
[2013-01-16 18:09:42 -0500] fromonesrc: not sure I understand what it's telling me
[2013-01-16 18:10:32 -0500] cpasmoi: first time i do this, I though a recipe[apt] in the role or the include_recipe "apt' as you did in your test/kitchen/cookbooks/apt_test/recipes/lwrps.rb would be enough
[2013-01-16 18:11:17 -0500] Toger: cpasmoi: include the apt cookbook as a depdendency in the metadata
[2013-01-16 18:11:54 -0500] cpasmoi:  like ' "dependencies": {  "apt"  }, ' in metadata.json ?
[2013-01-16 18:12:52 -0500] cpasmoi: this was not very clear in http://docs.opscode.com/lwrp_apt.html or https://github.com/opscode-cookbooks/apt (though I'm still a chef newbie)
[2013-01-16 18:19:54 -0500] avleen: does anyone know how easy is it tp upgrade to erchef?
[2013-01-16 18:22:00 -0500] cassianoleal: does knife bootstrap have to login as root, or can it be told to sudo onde in?
[2013-01-16 18:22:03 -0500] cassianoleal: *once in
[2013-01-16 18:22:15 -0500] spox: cassianoleal: --sudo
[2013-01-16 18:24:19 -0500] Eulipion: jtimberman: are there any known issues with rebuilding indexes breaking search?
[2013-01-16 18:24:20 -0500] cassianoleal: spox: thanks! :)
[2013-01-16 18:24:58 -0500] Pushnell: Hey all.  I have a few ec2 nodes that were bootstrapped with chef 10.14 via `knife ec2 server create`.  What's the best way to update them to the latest chef?
[2013-01-16 18:33:46 -0500] cpasmoi: Toger and jtimberman ok, i've set  ' "apt": ">=0.0.0" ' in the metadata json of the two cookbooks which use apt LWRP. I still have the Cookbook apt not found issue. What am I missing ?
[2013-01-16 18:35:46 -0500] Eulipion: cpasmoi: are you sure you uploaded the cookbook to the chef server?
[2013-01-16 18:36:17 -0500] teukka: Pushnell: omnibus_updater cookbook is one option. you can also run the omnibus installer manually or maybe even with knife exec
[2013-01-16 18:36:42 -0500] cpasmoi: Eulipion, yup ; rake upload_cookbook[apt]
[2013-01-16 18:37:17 -0500] tomdzk: Pushnell, teukka: presumably the chef-client cookbook would also do the trick ?
[2013-01-16 18:39:23 -0500] Eulipion: does anyone know how to fix search, stuff is falling apart with the null search results
[2013-01-16 18:40:13 -0500] teukka: tomdzk: as far as I know chef-client only manages configuration, but doesn't have functionality for updating the chef
[2013-01-16 18:40:47 -0500] teukka: tomdzk: a generic updater would be also challenging as there are a couple of ways to install chef
[2013-01-16 18:41:27 -0500] tomdzk: teukka: presumably the installer could leave behind metadata for a cookbook to use, but yeah, that is unfortunate
[2013-01-16 18:41:41 -0500] cpasmoi: Eulipion, have you checked solr.log ? I had the same issue I guess
[2013-01-16 18:42:07 -0500] Eulipion: cpasmoi: no errors, just the query
[2013-01-16 18:42:11 -0500] cpasmoi: had to check if every service was up
[2013-01-16 18:42:55 -0500] spox: Pushnell: in general for managing chef-client versions: gem_installer for rubygem based chef-client. omnibus_updater for omnibus based chef-client
[2013-01-16 18:43:09 -0500] spox: allows you to bump version via attribute value
[2013-01-16 18:43:12 -0500] Eulipion: its all up, tried upgrading the gems, too.  i can list/show data bags, but search is still failing.  rebuild says success, but its clearly not working
[2013-01-16 18:43:42 -0500] spox: one thing to note is chef-client will need to be restarted if daemonized
[2013-01-16 18:44:08 -0500] siezer: Eulipion thing = search(:index,"solr:query") || []
[2013-01-16 18:44:51 -0500] siezer: it should return an empty array with no results anyway
[2013-01-16 18:44:55 -0500] Eulipion: siezer: im using knife search to debug, its not the syntax that's getting me.  i added a new databag and it wasnt appearing in searches, so i rebuilt the indexes and now nothing comes up in searches
[2013-01-16 18:45:26 -0500] siezer: ah. strange. oss? try restarting the expander services?
[2013-01-16 18:45:30 -0500] Pushnell: teukka, tomdzk, spox: thanks.  I think omnibus_updater is what I need but I'll report if that doesn't work :)
[2013-01-16 18:45:37 -0500] siezer: no idea really, I've been using hosted since it came out
[2013-01-16 18:46:09 -0500] siezer: do you have enough memory on your chef server?
[2013-01-16 18:46:37 -0500] Eulipion: ive got 6 of 8Gb free, so I think im okay on mem
[2013-01-16 18:47:56 -0500] teukka: Pushnell: one thing with omnibus_updater that I recently learned is that you don't want to run it on the Chef server that is installed via package management ;)
[2013-01-16 18:48:13 -0500] dougireton: I'm trying to get an array of chef client versions for all our nodes. Has anyone used Ridley to retrieve specific attributes from nodes?
[2013-01-16 18:48:28 -0500] Pushnell: teukka: heh, thanks :)  We're actually on hosted chef, but good to note.
[2013-01-16 18:53:23 -0500] magoo: anyone else having issues with apt being out of date and package installs failing because of it. I'm using the community apt cookbook
[2013-01-16 18:55:34 -0500] gyre007: anyone uses vagrant here ?
[2013-01-16 18:56:00 -0500] evxd: gyre007: yes. i'm sure many do.
[2013-01-16 18:56:02 -0500] gyre007: why does gem_package resource install gem into /opt/vagrant_ruby/bin ?
[2013-01-16 18:56:11 -0500] gyre007: I dont get it
[2013-01-16 18:56:18 -0500] gyre007: when I ssh to the vagrant box
[2013-01-16 18:56:41 -0500] gyre007: and do gem install bundler it gets installed into /usr/local/bin/
[2013-01-16 18:56:49 -0500] gyre007: not into /opt/vagrant_rubyt
[2013-01-16 18:56:53 -0500] gyre007: what the heck
[2013-01-16 18:57:01 -0500] tomdzk: gyre007: it is probably using the system ruby which vagrant sets to that I think
[2013-01-16 18:57:07 -0500] teukka: magoo: is apt(::default) on the run_list?
[2013-01-16 18:57:39 -0500] gyre007: tomdzk: is there any way how to change the ruby to the one which is on the vagrant box ??
[2013-01-16 18:57:40 -0500] tomdzk: gyre007: it's safer to use rvm/rbenv to isolate your stuff from the system ruby, plus you can use newer ruby version without interfering with the system
[2013-01-16 18:57:54 -0500] gyre007: I have rbenv on my mac
[2013-01-16 18:58:11 -0500] gyre007: ruby version on my mac is 1.9.3
[2013-01-16 18:58:13 -0500] tomdzk: gyre007: no I mean, use the rvm or rbenv cookbook to install the ruby you want
[2013-01-16 18:58:19 -0500] tomdzk: in the VM
[2013-01-16 18:58:20 -0500] gyre007: and i have same stuff set up on my vagrant box
[2013-01-16 18:58:47 -0500] gyre007: https://gist.github.com/4549754
[2013-01-16 18:58:53 -0500] gyre007: its 1.9.3
[2013-01-16 18:59:12 -0500] tomdzk: gyre007: how did you install it ?
[2013-01-16 18:59:13 -0500] teukka: gyre007: you can also specify the wanted ruby to the gem_package resource
[2013-01-16 18:59:14 -0500] gyre007: yet gem_package when provisioned via chef-solo provisioner on Vagrant completely ignores that
[2013-01-16 18:59:29 -0500] gyre007: I know I can but why should I ?
[2013-01-16 18:59:41 -0500] gyre007: the ruby in that gist is set globally
[2013-01-16 18:59:53 -0500] gyre007: there is NO other one available on Vagrant
[2013-01-16 18:59:59 -0500] gyre007: unless it has some of its own
[2013-01-16 19:00:17 -0500] tomdzk: gyre007: try su -l -c "ruby -v"
[2013-01-16 19:00:20 -0500] jtimberman: gyre007: you can use gem_binary parameter in the gem_package resource to specify the path to the "gem" binary you want to use to instll gems. by default it will use the one that is foudn in the $PATH in chef's execution enviornment
[2013-01-16 19:01:01 -0500] magoo: teukka: if that's all it is, I'll enjoy a good laugh
[2013-01-16 19:01:08 -0500] magoo: *adding it
[2013-01-16 19:01:08 -0500] gyre007: jtimberman: I know but why is the Vagrant's ruby in chef's execution environment ? is it because Vagrant uses it somehow magically internally ?
[2013-01-16 19:02:20 -0500] gyre007: tomdzk:  https://gist.github.com/4549754
[2013-01-16 19:02:25 -0500] gyre007: its is in the roots path
[2013-01-16 19:03:08 -0500] gyre007: very weird
[2013-01-16 19:03:48 -0500] tomdzk: gyre007: check /etc/profile.d/vagrant_ruby.sh in the vm
[2013-01-16 19:04:12 -0500] gyre007: PATH=$PATH:/opt/vagrant_ruby/bin
[2013-01-16 19:04:35 -0500] gyre007: yup
[2013-01-16 19:04:42 -0500] gyre007: that bitch is messing stuff up
[2013-01-16 19:04:44 -0500] tomdzk: gyre007: vagrant uses its own ruby so it doesn't have to depend on a ruby being installed by the OS
[2013-01-16 19:04:51 -0500] gyre007: ruby 1.8.7 (2012-02-08 patchlevel 358) [x86_64-linux]
[2013-01-16 19:05:01 -0500] gyre007: arrrrrrgh
[2013-01-16 19:05:11 -0500] tomdzk: gyre007: your best bet is probably to use the rbenv cookbook and its resources
[2013-01-16 19:05:13 -0500] gyre007: is there any way how to influence it ?
[2013-01-16 19:06:02 -0500] teukka: another release note: knife-solo v0.1.0 was released a couple of days ago: https://github.com/matschaffer/knife-solo/blob/v0.1.0/CHANGELOG.md
[2013-01-16 19:07:15 -0500] teukka: it also has a fancy home page: http://matschaffer.github.com/knife-solo/
[2013-01-16 19:10:43 -0500] cpasmoi: Damn, I really don't understand where is the problem. I've uploaded apt cookbook to the chef server (rake upload_cookbook[apt]), set "recipe[apt::default]" in the role and even a ' include_recipe "apt" ' in the recipe. Then, added "apt": ">=0.0.0"  in the metadata json dependencies but I'm still having the issue Cookbook apt not found. Where the heck did I go wrong ?
[2013-01-16 19:13:41 -0500] cpasmoi: as seen in http://tickets.opscode.com/browse/CHEF-1364?focusedCommentId=15171&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-15171 setting all this should be enough
[2013-01-16 19:14:57 -0500] tomdzk: cpasmoi: did you verify the apt cookbook is actually on the chef server ? you can run chef-client with -l debug to get more info on what it is doing, including the temp location of the cookbooks it fetches and stuff like that
[2013-01-16 19:15:39 -0500] cpasmoi: well I've been on the server to upload it, so it is, yes.
[2013-01-16 19:16:28 -0500] cpasmoi: The cookbooks I'm using are in chef_repo/site-cookbooks while the apt one is in chef_repo/cookbooks/ I think that doesn't matter
[2013-01-16 19:16:55 -0500] cpasmoi: (as the python cookbook has the very same conf)
[2013-01-16 19:17:08 -0500] tomdzk: cpasmoi: on the node, check the temp folder chef-client uses for the cookbooks to see if the apt cookbook is there
[2013-01-16 19:18:47 -0500] cpasmoi: nope, it isn't
[2013-01-16 19:18:48 -0500] tomdzk: cpasmoi: it's /var/chef/cache/cookbooks/ on my ubuntu node
[2013-01-16 19:18:58 -0500] cpasmoi: I see other cookbooks, but not this one
[2013-01-16 19:19:12 -0500] cpasmoi: yup it's set here (Debian stable)
[2013-01-16 19:19:37 -0500] cpasmoi: Loading Recipe zabbix::default via include_recipe ;;;; DEBUG: Found recipe default in cookbook zabbix ;;; DEBUG: Loading Recipe apt via include_recipe
[2013-01-16 19:19:43 -0500] cpasmoi: I then have the error
[2013-01-16 19:19:56 -0500] cpasmoi: (zabbix cookbook is home made)
[2013-01-16 19:20:48 -0500] tomdzk: cpasmoi: anything useful in chef-client -l debug ?
[2013-01-16 19:20:55 -0500] tomdzk: anything else I mean ?
[2013-01-16 19:20:57 -0500] cpasmoi: well, that =)
[2013-01-16 19:20:58 -0500] cpasmoi: oh
[2013-01-16 19:21:05 -0500] cpasmoi: i've been flooded
[2013-01-16 19:21:10 -0500] cpasmoi: I'll check again
[2013-01-16 19:21:48 -0500] cpasmoi: well before, chef builds all recipes and roles
[2013-01-16 19:22:08 -0500] cpasmoi: nothing strange
[2013-01-16 19:22:12 -0500] tomdzk: cpasmoi: verify that it has apt in the expanded run list
[2013-01-16 19:22:25 -0500] tomdzk: should be in the log somewhere iirc
[2013-01-16 19:23:55 -0500] cpasmoi: hum
[2013-01-16 19:24:28 -0500] cpasmoi: strange indeed, the recipe[apt] is in the role, but I don't see any occurence of "apt" in the log except for the error
[2013-01-16 19:24:37 -0500] cpasmoi: I'll check again the role
[2013-01-16 19:24:57 -0500] tomdzk: cpasmoi: do you use environments ? maybe it is not set in the environment you're in ?
[2013-01-16 19:27:47 -0500] cpasmoi: errr... I don't think so
[2013-01-16 19:28:46 -0500] cpasmoi: oh wait
[2013-01-16 19:29:00 -0500] cpasmoi: "recipe[apt::default]"
[2013-01-16 19:29:05 -0500] cpasmoi: no coma, on the json file
[2013-01-16 19:30:52 -0500] tomdzk: cpasmoi: hah, yeah, it pays off to use jshint or something like that to check these files, same with ruby -c for the cookbooks
[2013-01-16 19:40:50 -0500] c_t: Hail, chefs
[2013-01-16 19:43:21 -0500] cpasmoi: sorry, just killed myself, I'm back now
[2013-01-16 19:43:40 -0500] cpasmoi: and thank you tomdzk, yeah, this *** coma was the problem
[2013-01-16 19:44:39 -0500] cpasmoi: I have a json_format script that I usally execute before, and I thought chef would refuse the upload when json was mis-formated
[2013-01-16 19:45:02 -0500] cpasmoi: (perhaps chef refuses the upload but I mis read the output then)
[2013-01-16 19:45:04 -0500] tomdzk: cpasmoi: chef (or knife) *should* refuse, you could create a ticket for that
[2013-01-16 19:46:24 -0500] cpasmoi: hum, ok, it refuses
[2013-01-16 19:47:01 -0500] cpasmoi: I have a "WARN: Updated Role toto!" indeed
[2013-01-16 19:47:14 -0500] cpasmoi: which is not here when the json is mis formated
[2013-01-16 19:54:27 -0500] liku: Hi Chefs! I decided to update chef at all my nodes and think how is better to do that?Maybe we have a community cookbook for that?
[2013-01-16 19:54:43 -0500] liku: thanks in advance
[2013-01-16 19:58:11 -0500] teukka: liku: if you use omnibus packages then there is omnibus_updater cookbook
[2013-01-16 20:01:28 -0500] josephholsten: anyone know how I can exclude the centos-5.8 (but not centos-6.3) platform in test-kitchen?
[2013-01-16 20:04:16 -0500] liku: teukka: thank you for answer. will try that. maybe you know any alternatives in a case of incompability?
[2013-01-16 20:07:38 -0500] cpasmoi: funny fact, seems like the three lines described in https://github.com/opscode-cookbooks/apt#usage
[2013-01-16 20:07:49 -0500] cpasmoi: do not work on my cookbook
[2013-01-16 20:08:10 -0500] cpasmoi: ( `preferred_manifest_record': cookbook zabbix does not contain file templates/unstable.list.erb )
[2013-01-16 20:08:43 -0500] teukka: liku: depends how you have installed Chef on the nodes. for example system packages can be upgraded using the package manager of the OS
[2013-01-16 20:09:09 -0500] cpasmoi: "/etc/apt/sources.list.d/my_apt_sources.list" has been replaced by /etc/apt/sources.list.d/"+ node[:zabbix][:repos] + ".list" to match the real name
[2013-01-16 20:09:15 -0500] teukka: liku: and spox recommended gem_installer for rubygems setups
[2013-01-16 20:09:33 -0500] cpasmoi: but the file does not, indeed, exist in my cookbook
[2013-01-16 20:10:15 -0500] Toger: with 10.18, when uploading a cookbook:
[2013-01-16 20:10:17 -0500] Toger: merb : chef-server (api) : worker (port 4000) ~ no such file to load -- chef/monkey_patches/moneta - (LoadError)
[2013-01-16 20:11:44 -0500] liku: I installed chef on nodes with knife bootstrap and it has chef-gems as chef installed method.
[2013-01-16 20:11:52 -0500] liku: teukka: ^
[2013-01-16 20:12:03 -0500] jtimberman: Opscode Open Source Project Code Review starting, Google+ Hangout: https://plus.google.com/hangouts/_/6931176df4cd98a3456fd53bac6a0f5ab1a77e60?hl=en-US YouTube live stream: http://youtu.be/oaRL3DiNJeU
[2013-01-16 20:14:42 -0500] liku: teukka: I think I will use https://github.com/chrisroberts/cookbook-gem_installer for updating chef. will include it in my base role
[2013-01-16 20:16:33 -0500] graphex: any idea when the quantal-0.10 apt dist will get updated with 10.18? all the other distros seem to have already been updatd
[2013-01-16 20:22:52 -0500] liku: teukka: thank you for helping!
[2013-01-16 20:23:09 -0500] jtimberman: graphex: hey, sorry about that. try now
[2013-01-16 20:27:32 -0500] Toger: found it, was permissions error on /root/.gems and /var/chef/cache
[2013-01-16 20:29:56 -0500] teukka: liku: np =)
[2013-01-16 20:33:29 -0500] autolykos: I bumped on the infamous 401 "Failed to authenticate to the chef server (http 401)" with a chef provisioned vagrant machine
[2013-01-16 20:33:40 -0500] autolykos: I tried regenerating the private key (and deleting the client and the node) and it did not work
[2013-01-16 20:33:55 -0500] autolykos: I restarted the server after having wiped the validation.pem key
[2013-01-16 20:34:08 -0500] autolykos: I input that to the Vagrantfile and it did not work either
[2013-01-16 20:34:32 -0500] autolykos: I checked with 'knife client list' and there are no other clients with my same name. I am a bit stuck
[2013-01-16 20:35:08 -0500] autolykos: funny thing is that the VM was working and getting provisioned correctlt until suddenly it did not anymore
[2013-01-16 20:35:16 -0500] autolykos: any suggestion?
[2013-01-16 20:35:41 -0500] autolykos: (kinda ashamed to ask such nooby question :$)
[2013-01-16 20:39:51 -0500] josephholsten: anyone know how to set up test-kitchen to have centos-6.3 but not centos-5.8?
[2013-01-16 20:50:05 -0500] jwcarman: If I have a JSON string of attributes (retrieved let's say from a database) that I want to merge into the node's attributes, how would I go about that?
[2013-01-16 20:50:09 -0500] agross: hi, does anyone have any experience using knife winrm ? I'm running into a strange issue and I'm having a mental block debugging it
[2013-01-16 20:51:36 -0500] agross: I can winrm between windows boxes just fine, but using knife winrm I get session.rb:748:in 'initialize': getaddrinfo: Name or service not known (http://http:80) SocketError)
[2013-01-16 20:53:05 -0500] agross: running host machinename resolves the ip ok, so I'm not sure what aspect I'm missing
[2013-01-16 21:05:48 -0500] jtimberman: Opscode COOK Code Review starting, Google+ Hangout: https://plus.google.com/hangouts/_/e993838941d1b76e0e9d2c84e89228536c03773c?authuser=0&hl=en-US YouTube live stream: http://youtu.be/mAJKKoYcusk
[2013-01-16 21:07:12 -0500] Joel_____: It's a little unclear to me where I shoudl specify svn_username/svn_password
[2013-01-16 21:07:23 -0500] Joel_____: Should I put it in default_attributes in the role?
[2013-01-16 21:09:17 -0500] r3vamp: Has anyone had success installing chef-server on Ubuntu 12.10?
[2013-01-16 21:10:57 -0500] autolykos: r3vamp I am currently running chef-server on Ubuntu precise
[2013-01-16 21:11:04 -0500] carllerche: is there a way to get chef to log to syslog? log_location Logger::Syslog.new in the config doesn't seem to work
[2013-01-16 21:11:22 -0500] r3vamp: Same, I have a coworker who is using Ubuntu quantal, and they're having problems
[2013-01-16 21:11:30 -0500] autolykos: r3vamp it was a pain to install it due to rabbitmq problems
[2013-01-16 21:12:01 -0500] autolykos: I had to install rabbitmq manually and thus installing all the other stuff one by one
[2013-01-16 21:12:19 -0500] autolykos: I don't have it installed in /etc/chef
[2013-01-16 21:12:27 -0500] autolykos: in facts :)
[2013-01-16 21:12:55 -0500] r3vamp: What I'm referencing is this: http://tickets.opscode.com/browse/CHEF-3668
[2013-01-16 21:14:13 -0500] autolykos: you can try to revert to the old solr
[2013-01-16 21:14:25 -0500] autolykos: expander is a tiny wrapper around it after all
[2013-01-16 21:16:46 -0500] r3vamp: autolykos: hmm, ok thanks I'll try that
[2013-01-16 21:20:07 -0500] Joel_____: http://wiki.opscode.com/display/chef/Deploy+Resource - can these attributes be saved in the roles or data bag?
[2013-01-16 21:31:51 -0500] r3vamp: Joel_____:  Those "attributes" are the resource fields, not actual attributes (I think). You can read them from roles attributes if you want, sure.
[2013-01-16 21:47:03 -0500] Joel_____: r3vamp: derp. the issue I'm having is I'm not installing svn would be my guess. sigh.
[2013-01-16 21:47:55 -0500] mjreed: OK, how do I search for a specific version of a recipe in the run list?
[2013-01-16 21:48:25 -0500] mjreed: I get "ERROR: knife search failed: invalid search query" no matter what I backslash.
[2013-01-16 21:48:49 -0500] mjreed: knife search node 'run_list:recipe[foo@1.2.3]'  = boom.  knife search node 'run_list:recipe[foo]' => all good.
[2013-01-16 21:50:20 -0500] conzyor34: Hello. I bet someone knows the answer to this question. If I have a role default attribute that is an array, will it merge with a node normal attribute that has the same name and is also an array?
[2013-01-16 21:52:16 -0500] conzyor34: role -  "default_attributes": { "foo": ["bar"] }, node - "normal": { "foo": ["baz"] }... will the result be "foo": ["bar", "baz"] ?
[2013-01-16 21:54:10 -0500] mikeg: for lwrp's, when defining the attributes for resources, how does the :name_attribute parameter work.  Does that attribute get set to whatever the resource name is?  If so, when I use that resource in a recipe could I specify that attribute to overwrite the resource name?
[2013-01-16 21:55:19 -0500] mikeg: so resource definition shows attribute :mount_point, :kind_of => String,  :name_attribute => true
[2013-01-16 21:56:02 -0500] mjreed: yes and yes, mikeg
[2013-01-16 21:56:10 -0500] mjreed: my_lwrp "foo" do
[2013-01-16 21:56:10 -0500] mikeg: and I use it like mount_resource "/opt" do ... end   them mount_point would be set to "/opt"
[2013-01-16 21:56:17 -0500] mjreed: means that the name_attribute will be set to "foo"
[2013-01-16 21:56:22 -0500] mikeg: ok
[2013-01-16 21:56:28 -0500] mjreed: and you can override it with mount_point in the stanza
[2013-01-16 21:57:16 -0500] mikeg: ok.  another question.  how do :required and :default work together.  if you set a :default value does that satisfy :required?  looking at an lwrp from a coworker and that seems a little redundant
[2013-01-16 21:58:01 -0500] mikeg: attribute :fstype, :required => true, :kind_of => [ String, FalseClass ], :default => "ext4"
[2013-01-16 21:59:34 -0500] mikeg: not redundant really, just unnecessary.  seems like you would only use one or the other.  never both
[2013-01-16 22:02:03 -0500] conzyor34: mikeg will your lwrp create file systems and logical volumes? Has anyone written a cookbook like that?
[2013-01-16 22:03:48 -0500] mikeg: it's an lwrp specific to creating and mounting disks within our datacenter.  Plus we don't use any community cookbooks anyway.  we create them all from scratch
[2013-01-16 22:04:07 -0500] mikeg: my question was more of a "best practice" one.  didn't think that line in his code made sense
[2013-01-16 22:05:20 -0500] conzyor34: Do you know if cookbook default attributes should deep merge with node normal attributes? It appears they don't, but the Opscode Wiki implies that they do.
[2013-01-16 22:05:39 -0500] conzyor34: What I'm trying is real simple, just an attribute that is an array.
[2013-01-16 22:06:29 -0500] orfeo: can someone help me fix search, it stopped returning any results and its starting to break my systems
[2013-01-16 22:06:56 -0500] tomdzk: conzyor34: it definitely doesn't do that for hashes, so possibly arrays are out too
[2013-01-16 22:08:15 -0500] conzyor34: Ok, thanks. I misunderstood one of the lines in the Deep Merge Wiki. "When an attribute is of the same type of data, such as a hash or an array, the contents are merged. This is true even at different levels of precedence such as default and override attributes."
[2013-01-16 22:09:05 -0500] tomdzk: conzyor34: this might refer to node["foo"]["bar"]["baz"] where node["foo"] is a (enhanced) hash
[2013-01-16 22:10:06 -0500] conzyor34: I will experiment. I would hope that hashes and arrays work the same way.
[2013-01-16 22:17:48 -0500] kaerast: orfeo, have you tried a knife reindex?  That usually solves missing search results
[2013-01-16 22:18:13 -0500] orfeo: kaerast: i did try that, it says success
[2013-01-16 22:18:24 -0500] conzyor34: Experimentation shows a hash will deep merge between a role default and a node normal, but an array will not. Is that how it should be?
[2013-01-16 22:19:25 -0500] conzyor34: I didn't expect this.
[2013-01-16 22:21:18 -0500] orfeo: kaerast: if I query couchdb, i get results, its solr that's broke, i think
[2013-01-16 22:24:21 -0500] kaerast: orfeo, I'd be temped to re-run the chef-solr-insttaller command if you're happy to let chef rebuild your solr data
[2013-01-16 22:24:28 -0500] cwj: restart chef-solr-indexer? if thats still a thing?
[2013-01-16 22:26:31 -0500] kaerast: cwj, chef-expander replaces chef-solr-indexer in 0.10
[2013-01-16 22:27:10 -0500] orfeo: kaerast: ran the installer and rebuild indexes, no luck
[2013-01-16 22:27:49 -0500] kaerast: is chef-expander running?  can you check that messages are being taken off the rabbitmq queue by it?
[2013-01-16 22:28:14 -0500] orfeo: how do i check the rabbit q?
[2013-01-16 22:28:16 -0500] cwj: kaerast: ah
[2013-01-16 22:28:23 -0500] orfeo: expander is running
[2013-01-16 22:28:25 -0500] kaerast: re-running chef-solr-installer has almost always solved our broken search
[2013-01-16 22:29:24 -0500] kaerast: orfeo, good question - we've got monitoring systems which show our rabbitmq queue sizes
[2013-01-16 22:31:23 -0500] kaerast: if rabbit wasn't accepting data you'd see chef-client errors, so it's somewhere between rabbitmq receiving the messages and solr returning results that your problem lies
[2013-01-16 22:31:57 -0500] orfeo: its returning empty result sets, its not timing out
[2013-01-16 22:34:05 -0500] r3vamp: Has anyone been having problems with the gem knife-essentials and chef 10.18.0?
[2013-01-16 22:34:16 -0500] r3vamp: Specifically the knife upload command
[2013-01-16 22:34:16 -0500] behemphi: Hello all. I have created a new cookbook but when I upload it to the server my templates directory (and the templates) don't go with it.
[2013-01-16 22:34:43 -0500] behemphi: So when I look at Host Chef server I see the attributes and recipes directory, but not the templates directory (or the files in it)
[2013-01-16 22:35:24 -0500] behemphi: any ideas?
[2013-01-16 22:36:04 -0500] jhunter: getting bit by the following:
[2013-01-16 22:36:05 -0500] jhunter: WARN: Setting attributes without specifying a precedence is deprecated and will be removed in Chef 11.0. To set attributes at normal precedence, change code like:
[2013-01-16 22:36:23 -0500] tomdzk: behemphi: you have templates/default/*.erb ?
[2013-01-16 22:36:30 -0500] greenmoss: anyone else here use the opscode apt cookbook?
[2013-01-16 22:36:44 -0500] jhunter: node["key"] = "value" # Not this
[2013-01-16 22:36:44 -0500] kaerast: orfeo, hmm - I've never had to delve into solr that deeply
[2013-01-16 22:36:45 -0500] jhunter: to:
[2013-01-16 22:36:45 -0500] jhunter: node.set["key"] = "value" # This
[2013-01-16 22:37:05 -0500] jhunter: can't for the life of me find the recipe that it's barfing on
[2013-01-16 22:37:17 -0500] kaerast: I just know the fixes we have to run on our chef servers occaisionally to get search working again
[2013-01-16 22:37:37 -0500] mikeg: mjreed: thanks for your help earlier.
[2013-01-16 22:37:39 -0500] behemphi: arg @tomdzk forgot the "default"
[2013-01-16 22:37:48 -0500] behemphi: < chargrinned
[2013-01-16 22:38:08 -0500] orfeo: kaerast: thanks for the help, holefully someone looks at my ticket sometime soon
[2013-01-16 22:39:44 -0500] greenmoss: I'm using the rabbitmq cookbook, which installs an apt repo; according to the README in the apt cookbook, this should automatically trigger an "apt-get update", but I don't see that happening
[2013-01-16 22:47:59 -0500] mikeg: when defining attributes for a resource, would it ever make sense to use :required => true and :default in the same definition?  like this:  attribute :fstype, :required => true, :kind_of => [ String, FalseClass ], :default => "ext4"
[2013-01-16 22:48:32 -0500] mikeg: seems silly to say something is "required" if you're setting a default for it.
[2013-01-16 22:50:12 -0500] greenmoss: rabbitmq package log, using apt cookbook: https://gist.github.com/4551702
[2013-01-16 22:52:39 -0500] greenmoss: node the "execute[apt-get update] action nothing"
[2013-01-16 22:52:42 -0500] greenmoss: *note
[2013-01-16 22:53:14 -0500] greenmoss: I don't really get that
[2013-01-16 22:53:20 -0500] greenmoss: *reading apt cookbook code*
[2013-01-16 23:02:25 -0500] freezey: so i followed this here: https://github.com/bigbosst/ohaiplugins
[2013-01-16 23:19:18 -0500] greenmoss: I even tried specifying "cache_rebuild true" but it's still not running "apt-get update" https://gist.github.com/4551702
[2013-01-16 23:21:53 -0500] retr0h: greenmoss: try with -l debug see if it gives you more insight
[2013-01-16 23:21:59 -0500] jhunter: besides 'chef-client -l debug', what's the best way to see what recipe is throwing a warning?
[2013-01-16 23:22:09 -0500] retr0h: jhunter: jinx :P
[2013-01-16 23:23:01 -0500] greenmoss: rer0h: yeah guess I should; now to figure out how to tell Vagrant to do that...
[2013-01-16 23:24:18 -0500] greenmoss: hmm, this looks promising http://techportal.inviqa.com/2012/06/26/tips-for-vagrant-and-chef/
[2013-01-16 23:25:05 -0500] concertman: Can anyone give me some ideas on being able to run the Homebrew provider (which complains if you use sudo) in a chef run list that other recipes require the use of sudo (sudo chef-client to be run on the node)?
[2013-01-16 23:26:19 -0500] iverson0881: does this make sense?
[2013-01-16 23:26:19 -0500] iverson0881: template "/etc/rsyslog.d/50-"<%= node["rsyslog"]["singelog"] %>".conf" do
[2013-01-16 23:27:34 -0500] cwj: no
[2013-01-16 23:27:48 -0500] greenmoss: iverson0881: shouldn't that be "/etc/rsyslog.d/50-#{node["rsyslog"]["singelog"]}".conf"
[2013-01-16 23:27:52 -0500] cwj: ^^ that
[2013-01-16 23:28:04 -0500] cwj: minus the extra " before.conf
[2013-01-16 23:28:22 -0500] greenmoss: <%= blah %> is for within .erb files
[2013-01-16 23:28:28 -0500] cwj: template "/etc/rsyslog.d/50-#{node["rsyslog"]["singelog"]}.conf" do
[2013-01-16 23:28:49 -0500] greenmoss: and you'd have to use @node["foo"] instead of node["foo"]
[2013-01-16 23:29:20 -0500] iverson0881: oh okay got it. syntax didn't look right in my vim
[2013-01-16 23:29:22 -0500] iverson0881: thanks!
[2013-01-16 23:31:01 -0500] cwj: greenmoss: its no longer necessary to use @node in templates
[2013-01-16 23:31:12 -0500] cwj: infact i think it might be deprecated
[2013-01-16 23:32:05 -0500] greenmoss: hmm, good to know
[2013-01-16 23:32:19 -0500] greenmoss: it'll probably complain at me once I update my chef version, right?
[2013-01-16 23:32:26 -0500] cwj: it might, im not sure
[2013-01-16 23:32:35 -0500] cwj: i thought there was a ticket about it but i am not finding it immediately
[2013-01-16 23:33:21 -0500] cwj: you do need to use @ (instance variables) for variables passed to a template via the 'variables' attribute though
[2013-01-16 23:35:39 -0500] greenmoss: retr0h: debug showed very little extra, and none of it enlightening: https://gist.github.com/4551702
[2013-01-16 23:43:12 -0500] JasonF: If I've included some libraries in cookbookname::a (class Chef::Recipe \n include blah \n end), and then in cookbookname::b, I first include_recipe cookbookname::a -- do I need to also reinclude the "blah" library from before in order to have access to it in cookbookname:b?
[2013-01-16 23:59:47 -0500] jordane: JasonF: yes
