[2013-01-05 00:00:50 -0500] MartinCleaver: he does
[2013-01-05 00:01:00 -0500] pythonsnake: s/MartinCleaver//
[2013-01-05 00:40:43 -0500] MartinCleaver: hmm. So I ended up altering the kibana recipe / default.rb line 19 to say 'git-core' rather than git
[2013-01-05 00:40:50 -0500] MartinCleaver: http://community.opscode.com/cookbooks/kibana/source
[2013-01-05 00:40:59 -0500] MartinCleaver: question is - is that the right approach?
[2013-01-05 00:42:30 -0500] MartinCleaver: and now it wants /usr/bin/gem1.9.1 though gen 1.6.2  is installed
[2013-01-05 01:42:40 -0500] jwcarman: Anyone know why the minitest-handler-cookbook copies the tests out of the recipes?
[2013-01-05 01:42:47 -0500] jwcarman: https://github.com/btm/minitest-handler-cookbook
[2013-01-05 01:43:41 -0500] jwcarman: We've got some tests that try to use a library, but when the tests are copied out, the library isn't reachable anymore.
[2013-01-05 02:07:26 -0500] maplebed: anybody else having issues with opscode atm?
[2013-01-05 02:07:58 -0500] maplebed: my knife command to upload a new role is timing out with "server returned error from api.opscode.com"
[2013-01-05 02:07:59 -0500] occupant: it's diddly-dead
[2013-01-05 02:08:02 -0500] maplebed: :(
[2013-01-05 02:12:43 -0500] maplebed: ahh, succeeded after 3 retries.
[2013-01-05 02:26:13 -0500] jkyle: when creating a file resource, I'm getting this from the core file provider: "Can't modify frozen string". It comes from this line in the file.rb
[2013-01-05 02:26:16 -0500] jkyle: @new_resource.path.gsub!(/\\/, "/")
[2013-01-05 02:28:04 -0500] jkyle: this is the snippet that produces the error: https://gist.github.com/4459289
[2013-01-05 02:29:24 -0500] jkyle: I just dup'd the string and it took care of it. ce la vie
[2013-01-05 03:05:22 -0500] hippiehacker: https://www.youtube.com/watch?v=FaukaaVwm2c # github/hh/ii-usb test run...
[2013-01-05 03:06:33 -0500] hippiehacker: https://github.com/hh/cookbook-ii-usb#usage
[2013-01-05 03:07:07 -0500] hippiehacker: however be sure to set your TARGETUSB env var correctly, so you format the right drive 8)
[2013-01-05 03:23:52 -0500] LeoSh: what's a good way to cache a value for the duration of a chef run? are there any example cookbooks out there that do that?
[2013-01-05 03:24:13 -0500] cwj: LeoSh: why not store the value in a node attribute
[2013-01-05 03:24:36 -0500] LeoSh: cwj: is it kosher to do that during runtime?
[2013-01-05 03:24:40 -0500] cwj: sure
[2013-01-05 03:24:56 -0500] cwj: node.set['foo'] == 'bar'
[2013-01-05 03:25:16 -0500] LeoSh: and that obviously exists only for the duration of the chef run?
[2013-01-05 03:25:20 -0500] cwj: if you are using client/server it will be persisted in the node state when saved to your server
[2013-01-05 03:25:48 -0500] LeoSh: I'm not running client/server yet but I won't want that behavior when I do...
[2013-01-05 03:26:09 -0500] cwj: if you compute the current value every run, what does it hurt to store that data?
[2013-01-05 03:26:22 -0500] cwj: you can delete it
[2013-01-05 03:26:39 -0500] LeoSh: ah, the problem is that the value is computed multiple times in one run and it's expensive to compute
[2013-01-05 03:26:57 -0500] LeoSh: while it's consistent within a run, it may be totally different on the next run
[2013-01-05 03:27:04 -0500] cwj: right but it sounds like you need to compute it every run
[2013-01-05 03:27:13 -0500] cwj: so you just ignore the previous value
[2013-01-05 03:27:30 -0500] LeoSh: the code to do this is relatively deep in a cookbook
[2013-01-05 03:27:37 -0500] LeoSh: so it doesn't know when it's getting called
[2013-01-05 03:27:47 -0500] LeoSh: obviously, it can detect a first time call
[2013-01-05 03:28:15 -0500] LeoSh: as long as the cache doesn't persist in between runs
[2013-01-05 03:28:54 -0500] LeoSh: I can't just wrap it in a do_calc_and_cache()/clear_cache()
[2013-01-05 03:31:06 -0500] LeoSh: cwj: any other ideas?
[2013-01-05 03:32:15 -0500] cwj: attributes and data bags are the most common data stores used in chef. if you dont like storing the data in an attribute, you wont like storing it in a data bag either
[2013-01-05 03:32:42 -0500] cwj: it sounds to me like you need to decouple some stuff in your cookbook
[2013-01-05 03:32:46 -0500] cwj: but maybe im just daft :)
[2013-01-05 03:33:48 -0500] LeoSh: is there a run id or some other value I can access that lets me distinguish from inside a cookbook whether I'm in the same chef run or in a different one?
[2013-01-05 03:34:12 -0500] cwj: i think something like that has been added recently
[2013-01-05 03:34:36 -0500] maplebed: you could calculate it in an ohai plugin instead, then just use it (without ever calculating it) with your recipe.
[2013-01-05 03:35:02 -0500] cwj: maplebed: that seems like a reasonable idea, yeah
[2013-01-05 03:35:06 -0500] LeoSh: maplebed: ohai is sort of overkill for this
[2013-01-05 03:35:13 -0500] cwj: but it will still be shipped off to the server
[2013-01-05 03:35:31 -0500] LeoSh: this is sort of the equivalent of updating the apt-cache only once during a chef run
[2013-01-05 03:36:09 -0500] LeoSh: cwj: any idea of what I could google for to find the run id?
[2013-01-05 03:37:30 -0500] cwj: LeoSh: https://github.com/opscode/chef/blob/master/lib/chef/resource_reporter.rb
[2013-01-05 03:37:34 -0500] cwj: run_id
[2013-01-05 03:37:58 -0500] cwj: i have noticed the following sort of output in my chef runs lately
[2013-01-05 03:37:59 -0500] cwj: https://github.com/opscode/chef/blob/master/lib/chef/resource_reporter.rb
[2013-01-05 03:38:00 -0500] cwj: er
[2013-01-05 03:38:05 -0500] cwj: [2013-01-04T13:39:27-07:00] INFO: Sending resource update report (run-id: 73f007a63f8c64d473da9f711ae6f739)
[2013-01-05 03:38:30 -0500] cwj: i use hosted chef, so i dont know if those running their own chef server will see the same thing
[2013-01-05 03:38:42 -0500] LeoSh: hmm
[2013-01-05 03:38:52 -0500] LeoSh: I'm not sure if I can access that within a run itself?
[2013-01-05 03:39:13 -0500] cwj: it might be accessible under Chef::Config or something like that
[2013-01-05 03:39:48 -0500] cwj: or Chef::ResourceReporter?
[2013-01-05 03:39:51 -0500] cwj: I dunno
[2013-01-05 03:41:43 -0500] LeoSh: ok, thanks for the help, I'll what I can do with it
[2013-01-05 04:59:51 -0500] jkyle: I have a cookbook that sets hostnames, modifying the fqdn. Other cookbooks use the fqdn to look up data bags. The problem I'm running into is on the first run in the cookbooks that use the fqdn, the node['fqdn'] evaluates to the unchanged one during compile time. So the proper value isn't set till the second run, 30m later
[2013-01-05 05:00:17 -0500] jkyle: How can I ensure the fqdn is evaluated at run time and not compile time?
[2013-01-05 05:11:51 -0500] jkyle: tried putting it in a ruby_block, but the code uses library functions from another cookbook and the ruby_block runtime doesn't have access to them.
[2013-01-05 05:33:34 -0500] crazyhorse18: hey ok.. i've been trying to use capistrano for a very custom deployment script
[2013-01-05 05:33:40 -0500] crazyhorse18: and it's a total pain in the ass
[2013-01-05 05:34:14 -0500] crazyhorse18: is it easy to write a chef recipe.. with the following options.. run a command and capture the output.. upload a remote file, write some text to a remote file (remote file being on the server)
[2013-01-05 06:05:48 -0500] retr0h: crazyhorse18: thats why it's called crapistrano
[2013-01-05 06:06:06 -0500] crazyhorse18: yeah.. i've been looking at chef though
[2013-01-05 06:06:10 -0500] crazyhorse18: doesn't look easy to get started
[2013-01-05 06:06:48 -0500] retr0h: the git provider stuff isn't too bad
[2013-01-05 06:06:50 -0500] countdigi: exit
[2013-01-05 06:07:15 -0500] crazyhorse18: https://gist.github.com/336663463fc014dd9fbe << well i've got 9 of these files
[2013-01-05 06:07:31 -0500] crazyhorse18: but all the issues are down to capistrano problems
[2013-01-05 06:08:06 -0500] crazyhorse18: all i really need is 4 commands.. 1. run this on the server and return the output  2. write this to a file on the server  3. copy this file up to the server 4. copy this file down from the server
[2013-01-05 06:09:12 -0500] retr0h: back when I used to think about deployment stuff I just wrote a dumb farbic script to do it.. but I didn't worry about release directories, and rollbacks
[2013-01-05 06:09:22 -0500] retr0h: i created a git archive
[2013-01-05 06:09:29 -0500] retr0h: stuffed that in s3
[2013-01-05 06:09:31 -0500] crazyhorse18: most of the crap we do
[2013-01-05 06:09:34 -0500] crazyhorse18: is for application security
[2013-01-05 06:09:38 -0500] retr0h: well right
[2013-01-05 06:09:42 -0500] retr0h: but what i was getting at was
[2013-01-05 06:09:43 -0500] crazyhorse18: i.e. creating file permissions
[2013-01-05 06:09:46 -0500] retr0h: if i want to release
[2013-01-05 06:09:57 -0500] retr0h: i deploy to new vms
[2013-01-05 06:10:10 -0500] retr0h: and phase out the old ones
[2013-01-05 06:10:13 -0500] crazyhorse18: oh then switch it over?
[2013-01-05 06:10:15 -0500] crazyhorse18: ah yeah
[2013-01-05 06:10:15 -0500] retr0h: yah
[2013-01-05 06:10:23 -0500] retr0h: i turned versioned dirs into vms basically
[2013-01-05 06:10:24 -0500] crazyhorse18: we want to do that for our new bigger app
[2013-01-05 06:10:46 -0500] crazyhorse18: also.. bring it in, and immediatly shut it down if there are any errors
[2013-01-05 06:10:46 -0500] retr0h: but i totally know what ur saying
[2013-01-05 06:10:57 -0500] retr0h: i have done crapistrano, vlad, u name it over many years
[2013-01-05 06:11:10 -0500] retr0h: crapistrnao sucks but it does the job and nothing else was really ever any better
[2013-01-05 06:11:13 -0500] crazyhorse18: the default capistrano stuff is crap
[2013-01-05 06:11:19 -0500] crazyhorse18: that's why i rewrote it all
[2013-01-05 06:11:28 -0500] crazyhorse18: so slow as well
[2013-01-05 06:11:39 -0500] retr0h: i personally like fabric
[2013-01-05 06:11:43 -0500] crazyhorse18: and capistranos architecture is nasty
[2013-01-05 06:12:00 -0500] crazyhorse18: does chef allow you to do any basic functions?
[2013-01-05 06:12:08 -0500] crazyhorse18: or do you really have to setup the whole thing to get it to work
[2013-01-05 06:12:52 -0500] retr0h: https://bitbucket.org/retr0h/ventana
[2013-01-05 06:13:02 -0500] retr0h: that was something I was toying with quite some time ago
[2013-01-05 06:13:48 -0500] retr0h: chef has the deploy resource
[2013-01-05 06:13:52 -0500] retr0h: prob what u lookng for
[2013-01-05 06:14:04 -0500] retr0h: http://wiki.opscode.com/display/chef/Deploy+Resource
[2013-01-05 06:14:25 -0500] crazyhorse18: nah too simple
[2013-01-05 06:14:37 -0500] crazyhorse18: i need to use the scripts i've already writtain
[2013-01-05 06:14:39 -0500] crazyhorse18: writain
[2013-01-05 06:14:44 -0500] crazyhorse18: i just need some very basic commands
[2013-01-05 06:14:49 -0500] crazyhorse18: maybe i can just use ruby's ssh library
[2013-01-05 06:16:13 -0500] retr0h: crazyhorse18: you are my new BFF - i haven't seen anyone use setfacl in a script in long while!
[2013-01-05 06:16:30 -0500] retr0h: :)
[2013-01-05 06:16:51 -0500] crazyhorse18: ah it's pretty hard to lock down apps
[2013-01-05 06:16:53 -0500] crazyhorse18: without it
[2013-01-05 06:21:43 -0500] crazyhorse18: ok. just going to go with Net::SSH
[2013-01-05 06:21:50 -0500] crazyhorse18: i think that will fix all the issues
[2013-01-05 06:25:33 -0500] d2kagw: Y
[2013-01-05 12:50:27 -0500] pythonsnake: so quiet
[2013-01-05 13:42:30 -0500] mattt: pythonsnake: ohai
[2013-01-05 14:00:48 -0500] Holos: If I have a default.rb that has default['zabbix_windows']['agent']['servers'] = ["zabbixserver.domain.local"] how do I edit a node to override that to be something different? Is that in the Normal section of the node? What's the syntax I'd use?
[2013-01-05 14:06:10 -0500] mattt: Holos: good question, not entirely sure what the best way to do that is
[2013-01-05 14:06:19 -0500] mattt: Holos: but what i've been doing is a knife node edit
[2013-01-05 14:06:54 -0500] mattt: Holos: http://wiki.opscode.com/display/chef/Attributes
[2013-01-05 14:37:07 -0500] Holos: matt: Ok, so I add: "zabbix_windows":{ "agent": { "servers": "servername.com" } }
[2013-01-05 14:37:35 -0500] Holos: mattt: into the normal tags section of the node's configuration?
[2013-01-05 14:41:23 -0500] mattt: Holos: in the example they add company attribute above tags
[2013-01-05 14:42:27 -0500] agent462: the way we do it is by doing an override in the role; you could also do a search for the list of nodes that match the criteria that need to be put in there
[2013-01-05 14:44:39 -0500] Holos: mattt: thanks, that seems to have worked, I was missing the comma at the end before the tags section.
[2013-01-05 14:44:58 -0500] mattt: Holos: yeah, it won't save it if your syntax is invalid
[2013-01-05 14:45:50 -0500] Holos: agent462: This environment is weird because each 3-4 hosts have a different value, per host, so I'd have to have a role per host..
[2013-01-05 14:46:11 -0500] Holos: or role per 3-4 hosts, I'd rather set it for each host
[2013-01-05 14:51:53 -0500] agent462: depending on how many hosts you have and you have nothing initially to key off of, sounds like it's going to be ugly.  Keep a hash with host => value and check against that in the recipe?
[2013-01-05 15:01:24 -0500] leifmadsen: I always prefer the search method so that things can be auto-populated in your files rather than maintaining several files with unique and non-unique data
[2013-01-05 15:02:14 -0500] leifmadsen: at the very least, keeping a single hash as agent462 says and populating that with a hash for each node is at least the cleaner method than multiple roles
[2013-01-05 15:02:23 -0500] leifmadsen: at that point, they're not roles, their basically just node attributes
[2013-01-05 15:02:29 -0500] leifmadsen: (which isn't clean)
[2013-01-05 15:07:54 -0500] mattt: too much of a chef noob to really understand your recommendation :)
[2013-01-05 15:37:38 -0500] agent462: matt here is a rough gist that might help https://gist.github.com/4462122
[2013-01-05 15:58:30 -0500] nomike: hi
[2013-01-05 15:58:56 -0500] nomike: ohai:what IP-Adress does node["ipaddress"] display?
[2013-01-05 15:59:42 -0500] nomike: because on most systems there are at least two of them...
[2013-01-05 16:34:05 -0500] cwj: nomike: https://github.com/opscode/ohai/blob/master/lib/ohai/plugins/network.rb
[2013-01-05 16:34:35 -0500] cwj: ohai does its best to figure out what the default ipaddress should be, but there are a great many possible configurations in the world
[2013-01-05 17:37:26 -0500] WPsites:  Infrastructure as Code - how far do I really need to go with this!? I'm tempted to store a load of IP address in a MySQL database rather than use a data bag?
[2013-01-05 17:38:54 -0500] kaerast: I see Infrastructure as Code as being a way to completely rebuild your environment from scratch. The more manual steps you have, the longer it takes to rebuild
[2013-01-05 17:39:40 -0500] kaerast: storing ip addresses in a mysql database may make complete sense for your use case, so long as you've thought about how those ip addresses get there in the first place
[2013-01-05 17:46:06 -0500] WPsites: All of my VM's are in one large VPN and then some of those machines are grouped into clusters which would then have their own VPN as well. I'm manually adding the IP's for this and making sure there are no clashes. I need this automating so that a chef run can just take in IP off the stack. I'm thinking a mysql server somewhere would be a good place to keep the IP's
[2013-01-05 17:52:30 -0500] kaerast: and have your nodes connect to the mysql on chef-client runs?  I guess that makes sense so long as you've got connectivity to the mysql server before the initial chef-client run
[2013-01-05 17:54:32 -0500] WPsites: yes thats the idea
[2013-01-05 17:55:34 -0500] WPsites: Good point about connectivity though. I'll just have to make sure I have the mysql server available on the public network
[2013-01-05 17:57:33 -0500] kaerast: might be worth thinking about a little http api so that the nodes are more restricted in what data they can read/write/delete
[2013-01-05 17:58:16 -0500] kaerast: oh actually, how about http://iptrack.sourceforge.net/
[2013-01-05 17:58:49 -0500] kaerast: I've never used the api, but we used it in my last job for managing addresses across a number of networks
[2013-01-05 18:00:52 -0500] WPsites: hmm interesting
[2013-01-05 18:09:49 -0500] nomike: cwj: thank you. this explains all i need to know
[2013-01-05 18:10:19 -0500] nomike: Another problem: Chef tells me "WARN: Setting attributes without specifying a precedence is deprecated and will be
[2013-01-05 18:10:19 -0500] nomike: removed in Chef 11.0."
[2013-01-05 18:10:27 -0500] nomike: However it doesn't tell me where
[2013-01-05 18:11:57 -0500] cwj: nomike: yeah that is rather annoying isnt it? i think someone opened a ticket about how unhelpful that warning is
[2013-01-05 18:15:51 -0500] cwj: cant find it though, maybe it didnt happen
[2013-01-05 18:32:55 -0500] Holos: agent462: Thanks for that, you and leifmadsen offered some good ideas :) I think I owe leifmadsen some beer if we ever meet for all his help in Asterisk stuff..
[2013-01-05 18:40:42 -0500] MartinCleaver: how do I find out what provides /usr/bin/gem1.9.1 ?
[2013-01-05 18:41:22 -0500] MartinCleaver: I've added and provisioned ruby::1.9.1 and rubygems
[2013-01-05 18:42:18 -0500] MartinCleaver: apt-cache showpkg ruby1.9.1 shows Dependencies rubygems1.9.1
[2013-01-05 18:42:55 -0500] MartinCleaver: I looked at http://community.opscode.com/cookbooks/rubygems/source but it doesn't really seem to do much
[2013-01-05 18:43:11 -0500] MartinCleaver: (I'm new to ruby, so I apologize for my ignorance)
[2013-01-05 18:46:36 -0500] MartinCleaver: *trys
[2013-01-05 18:52:28 -0500] cwj: MartinCleaver: ubuntu and debian have a rather particular idea of how rubygems should be installed
[2013-01-05 18:52:34 -0500] cwj: i use a bootstrap script like this https://gist.github.com/2493780
[2013-01-05 18:52:58 -0500] cwj: installs ruby 1.9.1 from packages and rubygems from source
[2013-01-05 18:53:36 -0500] cwj: that way i avoid ubuntu's rubygems package
[2013-01-05 18:54:08 -0500] MartinCleaver: ah, ok
[2013-01-05 18:54:18 -0500] MartinCleaver: thanks - that's not obvious!
[2013-01-05 18:54:58 -0500] cwj: the opscode ruby cookbook is also helpful, will ensure ruby is installed from packages if you are using the omnibus bootstrap
[2013-01-05 18:55:16 -0500] cwj: i mean, you can use the ruby cookbook whether you use omnibus or not
[2013-01-05 18:55:30 -0500] cwj: but if you dont use omnibus then your box already has some ruby installed
[2013-01-05 18:55:57 -0500] MartinCleaver: well it had ruby 1.8 installed from vagrant
[2013-01-05 18:56:29 -0500] cwj: thats probably a function of which base box you start out with
[2013-01-05 18:57:09 -0500] MartinCleaver: lucid32, the default base box of Vagrant
[2013-01-05 18:57:29 -0500] cwj: opscode publishes baseboxes which have chef installed via omnibus, those are the ones i use for my cookbook development
[2013-01-05 18:57:52 -0500] cwj: then you dont really have to muck around with system ruby unless you need ruby for your own apps
[2013-01-05 18:58:18 -0500] MartinCleaver: this is for an app I am installing on the box
[2013-01-05 18:58:22 -0500] MartinCleaver: (node)
[2013-01-05 18:58:38 -0500] cwj: and you need 1.9.1 right?
[2013-01-05 18:59:18 -0500] cwj: for your app i mean
[2013-01-05 18:59:21 -0500] MartinCleaver: oh. Now I am confused. I just provisioned 1.9.1, but ruby -v says 1.8.7
[2013-01-05 18:59:39 -0500] cwj: yes, this is part of the ruby confusion on ubuntu
[2013-01-05 18:59:52 -0500] MartinCleaver: And I just discovered that /usr/bin/gem1.9.1 -v returns 1.3.5, but that the cookbook bundler says it requires >= 1.3.6
[2013-01-05 19:00:12 -0500] MartinCleaver: So I should use the opscode base box, right?
[2013-01-05 19:00:23 -0500] cwj: i think it would reduce some confusion for you
[2013-01-05 19:00:45 -0500] cwj: https://opscode-vm.s3.amazonaws.com/vagrant/boxes/opscode-ubuntu-12.04.box
[2013-01-05 19:00:49 -0500] MartinCleaver: It also means I have to start some stuff over
[2013-01-05 19:00:50 -0500] MartinCleaver: thx
[2013-01-05 19:01:05 -0500] MartinCleaver: should I prefer ubuntu over debian?
[2013-01-05 19:01:28 -0500] MartinCleaver: I've been using debian on production machines where possible till now
[2013-01-05 19:01:35 -0500] cwj: i do, but each must choose for themselves :)
[2013-01-05 19:01:41 -0500] cwj: there might be debian boxes, 1sec
[2013-01-05 19:01:58 -0500] cwj: https://github.com/opscode/bento
[2013-01-05 19:02:07 -0500] cwj: looks like they build centos and ubuntu boxes
[2013-01-05 19:02:22 -0500] cwj: using that bento project
[2013-01-05 19:03:02 -0500] MartinCleaver: okay, well, this is all for learning at the moment
[2013-01-05 19:03:07 -0500] cwj: if you felt brave enough to dive into vagrant and veewee you could add definitions for debian based on the ubuntu box
[2013-01-05 19:03:08 -0500] MartinCleaver: so Ubuntu is close enough
[2013-01-05 19:03:13 -0500] MartinCleaver: lol
[2013-01-05 19:05:01 -0500] cwj: if i were you i'd try the opscode ubuntu basebox and add the ruby cookbook's 1.9.1 recipe to your run list (before any recipe for your app)
[2013-01-05 19:05:40 -0500] MartinCleaver: ok, thanks. I will do just that.
[2013-01-05 19:06:07 -0500] MartinCleaver: Next I get to learn how to provision a second node
[2013-01-05 19:06:40 -0500] MartinCleaver: My chef-repo is separate to the node, right? It's an organization-wide thing.
[2013-01-05 19:06:57 -0500] cwj: yep
[2013-01-05 19:07:05 -0500] cwj: you intend to use chef client/server?
[2013-01-05 19:07:35 -0500] MartinCleaver: for now just hosted chef.
[2013-01-05 19:07:48 -0500] MartinCleaver: Maybe https://github.com/tobami/littlechef once I get the hang of it
[2013-01-05 19:08:34 -0500] cwj: i have read about littlechef but never tried it. we use hosted chef.
[2013-01-05 19:08:38 -0500] till_: anyone using bento here?
[2013-01-05 19:09:17 -0500] cwj: till_: i have messed with it a little bit, whats up?
[2013-01-05 19:09:29 -0500] MartinCleaver: Which we use will be driven by costs and complexity; I suspect I'll find hosted chef pricey, but I'll see how it goes.
[2013-01-05 19:09:37 -0500] till_: cwj: i update vbox to 4.2.6 and since then the setup seems broken
[2013-01-05 19:09:58 -0500] till_: it works, until i am asked about the tz (despite "noninteractive")
[2013-01-05 19:10:11 -0500] cwj: till_: oh i have stuck with 4.1.x series
[2013-01-05 19:10:14 -0500] till_: and then i have to answer tons of questions, and eventually it just sits there
[2013-01-05 19:10:18 -0500] till_: and doesn't do anything
[2013-01-05 19:10:46 -0500] till_: i am guessing it's vbox related
[2013-01-05 19:10:58 -0500] till_: i had to update vagrant etc. as well heavily to get it in line
[2013-01-05 19:11:02 -0500] cwj: yes i think i reverted to 4.1.x for that reason
[2013-01-05 19:11:52 -0500] till_: well, vagrant and vbguest are working - i would just (! :D) like to update our baseboxes now
[2013-01-05 19:11:53 -0500] MartinCleaver: I manually downloaded a .box file instead of using "vagrant box add name url" - do I have to download it again or can vagrant add the existing .box file?
[2013-01-05 19:12:13 -0500] till_: in order to save the time vbguest eats when i start a new vm
[2013-01-05 19:12:40 -0500] cwj: MartinCleaver: just specify the file path instead of the url
[2013-01-05 19:13:33 -0500] cwj: till_: understandable. what version of veewee do you have installed?
[2013-01-05 19:14:10 -0500] till_: cwj: that's a very good question, i am guessing bundler will tell me - somehow
[2013-01-05 19:14:34 -0500] cwj: bundle list
[2013-01-05 19:15:23 -0500] till_: cwj: is that the same as 'bundle'?
[2013-01-05 19:15:24 -0500] till_: Using veewee (0.3.0.alpha9)
[2013-01-05 19:16:12 -0500] cwj: looks like 0.3.6 is out, maybe you should try a newer version
[2013-01-05 19:16:21 -0500] till_: ok
[2013-01-05 19:16:30 -0500] till_: bundle update wants my sudo password
[2013-01-05 19:16:38 -0500] till_: i thought the point was not to need sudo?
[2013-01-05 19:16:39 -0500] cwj: veewee is the part doing the virtualbox heavy lifting
[2013-01-05 19:17:06 -0500] cwj: maybe you accidentally ran some bundle commands as root and now your permissions are jacked?
[2013-01-05 19:17:51 -0500] till_: cwj: for some reason, the packages reside in /Library
[2013-01-05 19:17:56 -0500] till_: so that kinda makes sense
[2013-01-05 19:18:25 -0500] till_: vagrant is at 1.0.3 only too
[2013-01-05 19:18:30 -0500] till_: which didn't work very well with 4.2.6
[2013-01-05 19:19:05 -0500] till_: let's try this again
[2013-01-05 19:20:00 -0500] till_: hehe
[2013-01-05 19:20:10 -0500] till_: now it's stuck on the "select language screen" of the ubuntu iso
[2013-01-05 19:20:15 -0500] till_: took a turn for the worse
[2013-01-05 19:20:16 -0500] till_: :D
[2013-01-05 19:20:25 -0500] cwj: computers :D
[2013-01-05 19:25:50 -0500] till_: guess it isn't meant to work
[2013-01-05 19:25:58 -0500] till_: can't have all!
[2013-01-05 20:45:47 -0500] amccloud: Has anyone setup the chef-client cookbook in a vagrant vm? I can't seem to get it to find the validation.pem.
[2013-01-05 20:50:07 -0500] amccloud: https://gist.github.com/300f667db689b6ea5a58
[2013-01-05 21:09:42 -0500] jdar: anybody know if it's safe to upgrade the omnibus install to chef 11? 10.16 seems kind of flaky (COOK-1347)
[2013-01-05 21:52:43 -0500] jdar: Anybody seen an error when trying to include   Chef::Resource::ApplicationBase?
[2013-01-05 21:53:13 -0500] jdar: it seems to be a problem with recipe[application_ruby]
[2013-01-05 21:55:39 -0500] tam|afk: jdar, check version? i had to bump application_ruby
[2013-01-05 21:58:46 -0500] jdar: tam|afk: no luck. But i'll try and update some other things too.
[2013-01-05 21:58:51 -0500] jdar: thanks for the suggestion
[2013-01-05 21:59:58 -0500] amccloud: Hmm, i've seem to locked myself out of hosted chef. I don't have the permission to do anything. e.g. "Permission denied. You do not have permission to list the clients in this organization. (Error 22001)"
[2013-01-05 22:03:11 -0500] amccloud: Anyone here from opscode that can help me?
[2013-01-05 22:04:53 -0500] amccloud: Only thing I appear to be able to do is edit roles.
[2013-01-05 22:05:14 -0500] amccloud: and list cookbooks
[2013-01-05 22:10:57 -0500] bluepojo: there's a hosted chef support page on the site. Perhaps you'll have luck there.
[2013-01-05 22:11:19 -0500] bluepojo: opscode is in here, but sporadically and perhaps not on the weekends
[2013-01-05 22:18:19 -0500] amccloud: bluepojo: okay thanks
[2013-01-05 22:30:02 -0500] MartinCleaver: Okay, so  I want to set the nodename and hostname. (1) Nodename is set in the /etc/chef/client.rb file, which I assumed I should set using http://community.opscode.com/cookbooks/chef-client client.rb.erb, except attributes/default.rb doesn't set node name
[2013-01-05 22:30:31 -0500] MartinCleaver: So where should I set node name?
[2013-01-05 22:30:45 -0500] MartinCleaver: (2) It appears, for hostname, I should use the https://manage.opscode.com/cookbooks/hostname/0.0.3 cookbook. This wants me to set an attribute fqdn. I see the fqdn attribute on my node at https://manage.opscode.com, which seems to have gotten its value from ohai; but.. (2) how do I override that attribute? 
[2013-01-05 22:40:47 -0500] MartinCleaver: looks like chef_client (which I believe is run on the node) can set the node name http://wiki.opscode.com/display/chef/Chef+Client  I assume that would be persistent as conveyed back to the Chef Server
[2013-01-05 22:41:14 -0500] MartinCleaver: Doesn't solve hostname permanently though
[2013-01-05 22:53:09 -0500] MartinCleaver: Anyone know whether it is up to date and worth reading? Says October 2011 I'm sure a lot of things have changed in that time?
[2013-01-05 23:05:18 -0500] MartinCleaver: Hmm. Page 24 says "Apply cookbooks on [to] nodes by specific roles" but by default there is no role on my nodes. There's just a Run List.
[2013-01-05 23:05:42 -0500] MartinCleaver: Page 35 needs an example for name attribute
[2013-01-05 23:10:57 -0500] agent462: node_name gets set via the client.rb; for example we use "node_name o[:ec2][:instance_id]" in our client.rb
[2013-01-05 23:11:32 -0500] agent462: but that can be anything you want it to be (I'd make it a unique value though)
[2013-01-05 23:12:23 -0500] agent462: what o[:ec2][:instance_id]" is doing is using what ohai has collected; if you have chef installed on a machine just run "ohai" from the cli and see the tons of data you could use
[2013-01-05 23:12:42 -0500] agent462: or you can just set it manually (but that's painful outside of a couple of nodes)
[2013-01-05 23:13:30 -0500] agent462: a role is something you would put in your run list
[2013-01-05 23:14:46 -0500] MartinCleaver: Should I set node_name using the chef-client cookbook recipe + attributes/role? Or is /etc/chef/client.rb manually edited?
[2013-01-05 23:20:27 -0500] MartinCleaver: Page 62 could do with saying on which machine (node vs. workstation) chef-client/solo and knife are run. I assume node for client/solo; knife I know runs on workstation and I see it on the node too.
[2013-01-05 23:22:23 -0500] MartinCleaver: page 68 says that the Chef Repo is a version controlled directory - does that mean I can roll back the values of attributes and roles through the web interface?
[2013-01-05 23:23:24 -0500] tam|afk: martin: yes, sort of
[2013-01-05 23:23:38 -0500] tam|afk: you say which version of cookbooks you want
[2013-01-05 23:24:16 -0500] MartinCleaver: ok, y. I read that as Chef Server, but that's not what it says. It says for Repo.
[2013-01-05 23:24:24 -0500] MartinCleaver: y, thanks I misread it.
[2013-01-05 23:37:58 -0500] MartinCleaver: > Chef also downloads all cookbooks that are listed as dependencies which might not appear in the run list. (page 97). Handy :)
[2013-01-05 23:42:48 -0500] mattt: MartinCleaver: page 97 of what?  :)
[2013-01-05 23:43:23 -0500] MartinCleaver:  Opscode Open Training
[2013-01-05 23:43:32 -0500] mattt: URL ?
[2013-01-05 23:43:58 -0500] MartinCleaver: Free download via http://www.opscode.com/training/
[2013-01-05 23:44:11 -0500] mattt: that's awesome, thanks :)
[2013-01-05 23:44:28 -0500] MartinCleaver: "Free Open Training : Opscode training materials are released under the Creative Commons Attribution Share Alike 3.0 License, and they are provided freely to Chef users."
[2013-01-05 23:44:45 -0500] MartinCleaver: but see my questions above it being last updated October 2011
[2013-01-05 23:44:51 -0500] MartinCleaver: actually its not bad so far
[2013-01-05 23:46:18 -0500] MartinCleaver: which says Cookbooks are stored on the local system in the directory configured by file_cache_path. The default is / var/chef/cache -- this location doesn't exist for me.
[2013-01-05 23:46:49 -0500] mattt: what version is that documentation based on ?
[2013-01-05 23:47:09 -0500] MartinCleaver: 0.10.4, seemingly
[2013-01-05 23:47:29 -0500] MartinCleaver: general principals are hopefully unchanged
[2013-01-05 23:47:38 -0500] mattt: yeah, just signed up
[2013-01-05 23:47:40 -0500] mattt: hopefully they send to me
[2013-01-05 23:47:48 -0500] MartinCleaver: was instant for me
[2013-01-05 23:48:09 -0500] mattt: just got it
[2013-01-05 23:48:18 -0500] MartinCleaver: cool
[2013-01-05 23:48:39 -0500] joonas: mattt: wait, the matt thompson?
[2013-01-05 23:48:57 -0500] mattt: joonas: don't think so :(
[2013-01-05 23:49:19 -0500] joonas: so you don't go by @mattt on twitter? :)
[2013-01-05 23:49:26 -0500] mattt: joonas: nope :P
[2013-01-05 23:49:30 -0500] joonas: haha
[2013-01-05 23:49:33 -0500] joonas: had me fooled for a second ;)
[2013-01-05 23:49:47 -0500] mattt: yeah, a lot of people mistake me for that guy
[2013-01-05 23:49:54 -0500] mattt: i've had this nick for ages tho, and am too lazy to change
[2013-01-05 23:50:10 -0500] joonas: coincidental ;)
[2013-01-05 23:50:13 -0500] MartinCleaver: page 105 needs an example
[2013-01-05 23:50:15 -0500] mattt: MartinCleaver: where do i know your nick from?  #slicehost?
[2013-01-05 23:50:57 -0500] mattt: joonas: i get random messages from people thinking i'm him, and i can help them with their software problems :P
[2013-01-05 23:51:05 -0500] joonas: mattt: that's cute
[2013-01-05 23:51:19 -0500] joonas: mattt: but I have to admit, you had me fooled for a second :)
[2013-01-05 23:51:32 -0500] joonas: though I was kind of wondering why you'd be here asking for help on chef
[2013-01-05 23:51:36 -0500] mattt: joonas: yeah, i'm getting increasingly more interested in finding a new nick :P
[2013-01-05 23:51:57 -0500] MartinCleaver: Maybe - I do have a slicehost account.
[2013-01-05 23:52:05 -0500] MartinCleaver: I mostly hang out in the atlassian channels
[2013-01-05 23:52:20 -0500] MartinCleaver: though on the foswiki / twiki ones historically
[2013-01-05 23:54:44 -0500] MartinCleaver: Page 109 says "You should now be able to Be able to query and manipulate node run lists"
[2013-01-05 23:54:53 -0500] MartinCleaver: but the section didn't show how to do that
[2013-01-05 23:55:50 -0500] MartinCleaver: bad grammar on 116
[2013-01-05 23:56:23 -0500] MartinCleaver: "Resources, providers and libraries you can extend cookbooks." is not a sentence.
[2013-01-05 23:57:29 -0500] MartinCleaver: Nice explanation of vendor branching for cookbook site install on 119
