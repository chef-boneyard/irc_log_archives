[2013-01-24 00:02:28 -0500] miah: tpot: https://github.com/opscode/chef/commit/c16fd9671ea18de4656fc8c6ccb202127c35c7ee
[2013-01-24 00:06:05 -0500] miah: dgtized: you could change those depends to 'suggests' and push upstream.
[2013-01-24 00:06:27 -0500] miah: http://docs.opscode.com/chef/metadata_rb.html
[2013-01-24 00:06:29 -0500] miah: for docs
[2013-01-24 00:07:49 -0500] d2kagw: Hi all. We use Chef Hosted for our production infrastructure. I was wondering how do people go about testing/developing changes to the cookbooks on a local system without affecting the cookbooks being used by the production system?
[2013-01-24 00:08:12 -0500] cheesepl_: d2kagw: environments in Chef
[2013-01-24 00:08:18 -0500] cheesepl_: also, Vagrant
[2013-01-24 00:08:29 -0500] zooz_: d2kagw, by having different environments?
[2013-01-24 00:09:16 -0500] d2kagw: but how (using environments) do you control changes to cookbook code? we're talking about a substantial change to a particular cookbooks code vs. just changing attributes/values
[2013-01-24 00:12:55 -0500] zooz_: d2kagw, by using different git branches ?
[2013-01-24 00:14:21 -0500] alexKarp: Would you have to have multiple chef servers too then? One to go along with each git branch?
[2013-01-24 00:14:36 -0500] alexKarp: I've been wondering about this same question, d2kagw
[2013-01-24 00:14:52 -0500] amccloud: Has anyone had authentication issues with the postgresql/database cookbook? https://gist.github.com/12a296ea03d89d4c51e7
[2013-01-24 00:15:10 -0500] d2kagw: it's more the chef-hosted part that's the issue (we use branches, etc, already), the question is how can we push changes to cookbooks to opscode without it affecting our production stack
[2013-01-24 00:15:25 -0500] amccloud: postgresql_database_user throws FATAL:  Peer authentication failed for user "postgres"
[2013-01-24 00:16:13 -0500] d2kagw: we thought that maybe running chef-solo locally would be the solution, but it would require substantial changes to our bootstrap process which would make it too different from production for rock-solid testing
[2013-01-24 00:16:16 -0500] cheesepl_: d2kagw: that is exactly what environments are for - you can version lock environments to a cookbook
[2013-01-24 00:16:35 -0500] amccloud: Though I can shell into the box and login to posgres user just fine with the password saved to chef server.
[2013-01-24 00:17:10 -0500] d2kagw: oh cool - <googling chef version lock> :P
[2013-01-24 00:17:28 -0500] alexKarp: Oh, that's pretty cool...never used environments like that
[2013-01-24 00:17:37 -0500] cheesepl_: d2kagw: http://wiki.opscode.com/display/chef/Environments#Environments-cookbook
[2013-01-24 00:17:58 -0500] cheesepl_: that way you aren't always just using whatever the latest cookbook is
[2013-01-24 00:19:19 -0500] jessicab: d2kagw: you could also use something like the test-kitchen plugin to help test too.. not sure if youve heard about that option
[2013-01-24 00:20:13 -0500] jessicab: https://github.com/opscode/test-kitchen
[2013-01-24 00:20:38 -0500] d2kagw: cheesepl_: thanks - that's perfect
[2013-01-24 00:20:48 -0500] d2kagw: jessicab: thanks for the link, will check it out
[2013-01-24 00:31:16 -0500] josephholsten: anyone know how to remove centos-5.6 platform from a Kitchenfile? I need to keep centos-6.3.
[2013-01-24 00:58:31 -0500] logikal: I've been including opscode cookbooks in my homebase by using giternal, but realized that means I'm getting the unstable dev versions of cookbooks. What's the best way for me to get stable versions? Any good ways without using berkshelf or librarian?
[2013-01-24 01:05:01 -0500] tomdzk: logikal: knife cookbook github plugin can fetch tags I believe
[2013-01-24 01:06:55 -0500] tpot: miah: thanks - i'm not worried about the errors, rather interested in using that data that clients will post
[2013-01-24 01:20:25 -0500] shennyg: I'm looking for a guide to help me customize a existing cookbook.
[2013-01-24 01:21:25 -0500] shennyg: for example I'm installing the nginx cookbook but I want to have my own custom template config file. I'm using librarian-chef.
[2013-01-24 01:22:19 -0500] ivey: shennyg: if you need to add to the cookbook, make a new cookbook called myapp_nginx that incldue_recipes the main nginx one and then does your template
[2013-01-24 01:22:57 -0500] shennyg: ivey: do you have an example online?
[2013-01-24 01:23:02 -0500] ivey: hmm
[2013-01-24 01:23:14 -0500] ivey: not sure I have anything public, lemme look
[2013-01-24 01:23:27 -0500] ivey: like, literally, make a new cookbook that does include_recipe and template
[2013-01-24 01:23:31 -0500] ivey: 2 resources in it
[2013-01-24 01:25:44 -0500] ivey: I don't have any app cookbooks I could share, sorry
[2013-01-24 01:27:27 -0500] shennyg: ivey: are you saying that if I call a include_recipe "nginx" any of my templates that match the templates used would be overriden?
[2013-01-24 01:27:41 -0500] ivey: no
[2013-01-24 01:28:08 -0500] ivey: but you could call your templates after the ones in the main cookbook
[2013-01-24 01:28:27 -0500] shennyg: ok. thanks ivey
[2013-01-24 01:28:35 -0500] shennyg: > going to read the docs
[2013-01-24 01:28:36 -0500] ivey: it keeps you from having to maintain a fork of the cookbook
[2013-01-24 01:30:27 -0500] shennyg: ivey: thank you much. I think I get it now.
[2013-01-24 01:32:56 -0500] gyre007: if I dont specify revision in deploy_revision...will it deploy the latest one ?
[2013-01-24 01:39:19 -0500] sn0wb1rd: Is it possible to modify a resource's attribute during converge phase possibly by accessing resource collection?
[2013-01-24 01:42:45 -0500] amccloud: am I using subscribes correctly here? https://gist.github.com/dd7552c90ec153487695
[2013-01-24 01:45:31 -0500] conradev: Is there a way to have the `application` cookbook (and derivatives) deploy file-for-file from a directory on the local machine? I am asking because I am using Chef with Vagrant and want to be able to deploy from a shared directory.
[2013-01-24 01:46:34 -0500] conradev: (Vagrant shared directory, not the application cookbook shared directory)
[2013-01-24 01:59:54 -0500] shennyg: how do I call a command with a node variable?
[2013-01-24 02:01:24 -0500] shennyg: found it. nm.   command "mkdir -p #{node['nginx']['webroot']}"
[2013-01-24 02:36:25 -0500] tigris_: I have the following snippet in a recipe https://gist.github.com/79031564af8faeb7626b do update the default LC_* variables for all login shells etc, however this of course doesn't affect the current running chef-solo run... i wonder if someone can tell me how i go about that?
[2013-01-24 05:33:11 -0500] jtimberman: logikal: download them from the community site, which berkshelf or librarian will do by default
[2013-01-24 05:51:06 -0500] jwcarman: When trying to :install a chef_gem resource, I get NoMethodError: undefined method `full_name' for nil:NilClass
[2013-01-24 05:51:13 -0500] jwcarman: Anyone ever seen that?
[2013-01-24 05:55:06 -0500] jwcarman: It's weird.  I get a different error when I remove the version attribute
[2013-01-24 06:08:50 -0500] zuhaib: (yuno) Opscode so slow
[2013-01-24 07:52:26 -0500] maek: on chef-server does anyone actually have a cookbook_tarball_path thats got anything in it?
[2013-01-24 08:52:58 -0500] datadevil: Hi. I have a question about chef-solo; There is this file which is used as a parameter to the -j option, and it is located in the roles subdir. It is in a JSON format, and it has both arguments and run defined in it
[2013-01-24 08:53:11 -0500] datadevil: how would I call such a file; I'm trying to document this situation
[2013-01-24 09:45:19 -0500] zts: datadevil: that sounds like a role, although you generally wouldn't pass those to the -j option...
[2013-01-24 09:45:39 -0500] zts: datadevil: have a look at http://wiki.opscode.com/display/chef/Roles#Roles-AsJSON and see if that looks like what you've got
[2013-01-24 10:18:10 -0500] cientifico: Hello. Is there any solution for bootstraping a node running ubuntu 12.10 ? ( https://tickets.opscode.com/browse/CHEF-3605 )
[2013-01-24 10:18:46 -0500] cientifico: This url should not return something? http://www.opscode.com/chef/download
[2013-01-24 10:19:41 -0500] cientifico: I already tried with -d ubuntu12.10-gems (that doesn't exists), and ubuntu12.10-gems that doesn install ruby1.9-dev so it can't compile
[2013-01-24 10:19:58 -0500] cientifico: the last one is ubuntu12.04-gems
[2013-01-24 10:22:29 -0500] cientifico: Reading irc history seems like I am just one more with this problem. This means that opscode no longer support ubuntu?
[2013-01-24 10:41:04 -0500] BryanWB__: how can I determine in a template what the calling recipe is?
[2013-01-24 10:46:45 -0500] nacer: BryanWB__: pass a parameter from the recipe to the template ?
[2013-01-24 10:46:51 -0500] nacer: hi BryanWB__:)
[2013-01-24 10:47:08 -0500] BryanWB__: nacer: y, i do that, curious thow to detect current recipe tho
[2013-01-24 10:47:14 -0500] BryanWB__: nacer: hey dude :)
[2013-01-24 10:47:17 -0500] BryanWB__: coming to FOSDEM?
[2013-01-24 10:47:59 -0500] nacer: BryanWB__: i dont think, you are ?
[2013-01-24 10:48:06 -0500] BryanWB__: nacer: too bad, i m
[2013-01-24 10:50:06 -0500] nacer: BryanWB__: oh it's on week-end
[2013-01-24 10:50:19 -0500] BryanWB__: y, nathenharvey  will be there too
[2013-01-24 10:51:39 -0500] nacer: BryanWB__: mmm i will think about that tonight and see if i can catch a cheap plane ticket
[2013-01-24 10:51:51 -0500] BryanWB__: hope u can come!
[2013-01-24 10:52:07 -0500] nacer: BryanWB__: yes it can be fun :)
[2013-01-24 10:52:35 -0500] BryanWB__: l8r
[2013-01-24 10:58:56 -0500] gyre007: Im coming to FOSDEM too....any talks you guys think will be worth to visit / you recommend ?
[2013-01-24 10:59:38 -0500] cientifico: +1
[2013-01-24 11:00:35 -0500] lxndrp: Hey folks.
[2013-01-24 11:01:50 -0500] lxndrp: I have a question re: notifications and subscriptions.
[2013-01-24 11:03:24 -0500] lxndrp: Say I have an "iptables" service, and a "libvirt" service.
[2013-01-24 11:03:44 -0500] lxndrp: libvirt tends to rewrite my firewall re: certain aspects (forwarding, dhcp, etc.)
[2013-01-24 11:03:52 -0500] lxndrp: What I would like to do now is:
[2013-01-24 11:06:31 -0500] lxndrp: Restart the "libvirt" service (delayed) after the "iptables" service has been restarted (also delayed).
[2013-01-24 11:06:45 -0500] lxndrp: So basically I want to order delayed restarts.
[2013-01-24 11:06:47 -0500] lxndrp: Is that possible?
[2013-01-24 11:14:59 -0500] gyre007: lxndrp: i dont think so...but what I noticed is that the notifications are queued like FIFO...so in your code you have to "raise" them in the order you want them to be executed at the end...I might be wrong but im basing this on my observations...
[2013-01-24 11:15:55 -0500] lxndrp: gyre007: So to clarify, I thought of doing something like
[2013-01-24 11:16:04 -0500] lxndrp: service "libvirt"
[2013-01-24 11:16:30 -0500] gyre007: wo wo wo
[2013-01-24 11:16:34 -0500] gyre007: can you please gist it
[2013-01-24 11:16:38 -0500] lxndrp: ah, sorry.
[2013-01-24 11:16:39 -0500] gyre007: gist.github.com
[2013-01-24 11:17:20 -0500] lxndrp: https://gist.github.com/4620197
[2013-01-24 11:17:53 -0500] lxndrp: The problem is that I have stuff scattered across different cookbooks.
[2013-01-24 11:18:31 -0500] lxndrp: So I can't really influence the order without introducing nastyness.
[2013-01-24 11:19:06 -0500] gyre007: lxndrp: in that case its hard to determine....whichever change in firewall backend can trigger libvirt restart
[2013-01-24 11:19:45 -0500] gyre007: immediate restart that is...
[2013-01-24 11:20:02 -0500] lxndrp: What I *can* ensure is that all service restarts for the firewall backend are requested via notifications, never directly.
[2013-01-24 11:21:35 -0500] datadevil: zts: sorry, was away
[2013-01-24 11:21:45 -0500] datadevil: zts: how would you pass a role to chef-solo then?
[2013-01-24 11:24:12 -0500] zts: datadevil: I don't really use chef-solo much, sorry, but I understand it's the same as chef-client - you put "role[whatever]" on the run_list.  The solo configuration should have something that points to where your roles are stored, and it will load up that way
[2013-01-24 11:24:32 -0500] zts: I could be wrong, but that's what I'd expect to happen
[2013-01-24 11:29:50 -0500] datadevil: zts: how it works here is that this JSON file is in a roles directory, and it has attributes and run directions defined in JSON
[2013-01-24 11:30:22 -0500] datadevil: nothing about running a specific role, it is seen as a role it seems, at least by the person who set this up
[2013-01-24 11:30:50 -0500] datadevil: with me not being a Chef expert I was wondering if this is normal, chef-solo's docs aren't really that clear in this aspect
[2013-01-24 11:30:52 -0500] zts: datadevil: I can imagine that if you only wanted to have a single role, and you limited yourself to JSON, that pointing to it with -j would probably work
[2013-01-24 11:31:20 -0500] datadevil: zts: seems that *every* node (there aren't that many) is so unique that they all require their own role
[2013-01-24 11:33:19 -0500] zts: datadevil: anyway, in answer to your question, I'd say that it's not normal - but if it's working for your right now, I wouldn't be too worried about changing things to the "right" way
[2013-01-24 11:34:43 -0500] zts: datadevil: if you look at http://wiki.opscode.com/display/chef/Chef+Solo you'll see an example of node.json, which is what you'd typically point -j to
[2013-01-24 11:35:15 -0500] datadevil: yeah I found that one indeed
[2013-01-24 11:35:38 -0500] zts: datadevil: it discues roles a bit further down, and gives an example of a node.json that would refer to a role (although calls it chef.json for some reason?  Still, it's what you'd point -j to)
[2013-01-24 11:35:45 -0500] zts: s/discues/discusses/
[2013-01-24 11:36:30 -0500] datadevil: yeah, seems like chef-solo intermixes node and role too
[2013-01-24 11:36:46 -0500] datadevil: I'll just define the purpose as clear as possible in the doc...thanks
[2013-01-24 11:38:56 -0500] datadevil: only diff seems to be its not setting chef-type role
[2013-01-24 11:39:58 -0500] zts: datadevil: hm, your json doesn't have that key?  How about the json_class one?
[2013-01-24 11:43:47 -0500] datadevil: checking
[2013-01-24 11:44:11 -0500] datadevil: let me find a smaller example and anonimyze (?) it
[2013-01-24 11:45:35 -0500] datadevil: zts: http://pastebin.com/Nem5iB90
[2013-01-24 11:48:34 -0500] zts: datadevil: okay, I would say that's not actually a role - rather, it's a node.json that happens to have been stored in a directory called "roles"
[2013-01-24 11:48:39 -0500] zts: I can see how this would cause confusion :)
[2013-01-24 11:50:09 -0500] datadevil: yeah, especially if you're new to Chef
[2013-01-24 11:50:12 -0500] datadevil: ok
[2013-01-24 11:50:39 -0500] datadevil: so I'll call it a node.json that's stored in the roles dir, so other new people will hopefully have less of a headache to grok this
[2013-01-24 11:51:11 -0500] zts: yeah, and a good next step (when you are ready) would be to create a different dir to store them in - I'm not sure if there's a convention that chef-solo users adopt for that
[2013-01-24 11:51:41 -0500] zts: that way you won't need docs to explain that those files aren't actually roles
[2013-01-24 11:54:59 -0500] datadevil: zts: true, will add that to the todo list
[2013-01-24 12:02:32 -0500] datadevil: zts: thanks a lot for this help
[2013-01-24 12:03:03 -0500] zts: datadevil: no problem, the learning curve can be a bit rough at the best of times.  Good luck with it :)
[2013-01-24 12:05:47 -0500] datadevil: zts: thanks, will probably be back for more when I get deeper in the stuff
[2013-01-24 12:06:08 -0500] datadevil: wanted to learn Chef or Puppet for a long time already, so quite nice to have been dropped onto a project that requires figuring it out
[2013-01-24 12:06:33 -0500] zts: Yeah, it's hard to get started without a real use for it.  Being dropped in the deep end isn't all bad
[2013-01-24 12:07:17 -0500] a_a_g: any ideas on how I could default the retries and retry_delay for the package resource to 5 and 15 respectively?
[2013-01-24 12:36:00 -0500] Mez: Hi. For some reason, my chef-client script (as installed by the debian package) is reporting a fail on restart - but it actually seems to be restarting
[2013-01-24 12:45:07 -0500] gyre007: Mez: there is some mess with chef-client deleting its pid file...check the init script and check if the pid file mentioned in the init script exists
[2013-01-24 12:52:44 -0500] Mez: gyre007: so it seems that instead of running chef-client - the init script is running "ruby chef-client"
[2013-01-24 12:52:49 -0500] Mez: so it thinks that chef-client isn't the same
[2013-01-24 12:57:55 -0500] Mez: the running_pid function is a bad function
[2013-01-24 12:58:50 -0500] Mez: !bugtracker
[2013-01-24 13:01:18 -0500] gyre007: interesting
[2013-01-24 13:05:50 -0500] Mez: COOK-2255
[2013-01-24 13:14:41 -0500] RobertD: Hi. I am trying to install chef-server on an ubuntu box using chef-solo. I am experiencing the same issue described in this ticket http://tickets.opscode.com/browse/COOK-1941 What can I do?
[2013-01-24 13:20:00 -0500] jvbe: i override node attributes in a ruby_block that depend on search, but my resource is called with the initial values (i guess compile time pass by value), how could I solve this?
[2013-01-24 13:48:36 -0500] geekbri: it appears to me that the default chef cache directory may have changed
[2013-01-24 13:56:30 -0500] nacer: atomic are you there ?
[2013-01-24 14:12:16 -0500] nicholasr-bf: jvbe:  why does the search need to be in a Ruby block?   It isn't strictly a compile time thing, but Chef execution is two pass.   1st Pass builds up a list of resource objects and 2nd Pass iterates across that list and "executes" each resource.   So the values are passed in to the resource before the Ruby block executes.   If the resource is a template, you could just set a node attribute the read it in the template.
[2013-01-24 14:38:06 -0500] leonid: Hi All. Does anyone knows a good video chef course?
[2013-01-24 14:43:41 -0500] ttgb: Why would ohai be detecting my clean OVH dedicated server as a rackspace cloud server?
[2013-01-24 14:44:34 -0500] zts: leonid: I believe Peepcode have released some Chef videos, but I have no idea how good they are.  Haven't heard of any others...
[2013-01-24 14:46:55 -0500] leonid: zts: Thx. I will check them out
[2013-01-24 14:49:23 -0500] postwait: Howdy.  The APIs for exploring nodes, roles, etc.  Are they identical across hosted and private chef?
[2013-01-24 14:50:46 -0500] nacer: atomic-penguin: Hey
[2013-01-24 14:51:09 -0500] nacer: atomic-penguin: i'am installing gitolab with your cookbook :)
[2013-01-24 14:51:25 -0500] nacer: atomic-penguin: do you know if it work with the last version of gitolab 4.1 ?
[2013-01-24 14:51:35 -0500] cheezo_: postwait: yep
[2013-01-24 14:51:41 -0500] nacer: atomic-penguin: i will find out soon my chef-client is running now
[2013-01-24 14:52:42 -0500] postwait: cheezo_: what about the open source chef server?
[2013-01-24 14:53:14 -0500] cheezo_: postwait: the API documented at http://wiki.opscode.com/display/chef/Server+API work across all the versions of chef
[2013-01-24 14:53:33 -0500] postwait: Sweet. thanks.
[2013-01-24 14:53:42 -0500] chewie71: What cookbook do people use to update the hostname and FQDN info on a node?  I've seen a couple examples where they pull from the node name on the Chef server....or do a lookup in DNS.  Thoughts?
[2013-01-24 14:53:43 -0500] cheezo_: postwait: sure
[2013-01-24 14:55:58 -0500] chewie71: leonid:  I did the first Peepcode chef video.  It was ok.....uses chef-solo and vagrant.  Haven't done the second yet.
[2013-01-24 14:56:26 -0500] leonid: chewie71: Cool. Does it worth the 12 buks ?
[2013-01-24 14:58:01 -0500] chewie71: It was worth going through.  It gives you a basic understanding of the Chef structure.  It moves fast so I did a lot of pausing.
[2013-01-24 15:05:23 -0500] atomic-penguin: nacer, it shouldn't be tied to any particular version.  I have merged several fixes since last release, just haven't had the chance to thoroughly test it yet for release
[2013-01-24 15:06:03 -0500] nacer: atomic-penguin: yup, for the moment a small bug with the install if pip pygments
[2013-01-24 15:06:17 -0500] nacer: atomic-penguin: i have a other that seem already reported
[2013-01-24 15:06:36 -0500] atomic-penguin: nacer, which issue?
[2013-01-24 15:06:41 -0500] chewie71: How are people managing hostname and FQDN on their nodes?
[2013-01-24 15:06:52 -0500] nacer: atomic-penguin: #16
[2013-01-24 15:07:18 -0500] nacer: atomic-penguin: the gitlab-bundle-install don't like the form of the Gemfile
[2013-01-24 15:07:40 -0500] nacer: atomic-penguin: spacialy this line gem "mysql2", group: :mysql
[2013-01-24 15:08:26 -0500] atomic-penguin: nacer, are you using omnibus?
[2013-01-24 15:08:35 -0500] nacer: atomic-penguin: no
[2013-01-24 15:08:56 -0500] nacer: atomic-penguin: gem version of chef
[2013-01-24 15:10:53 -0500] atomic-penguin: nacer, I am guessing you have ruby1.8 on that system as well
[2013-01-24 15:11:12 -0500] nacer: atomic-penguin: you good a guessing
[2013-01-24 15:11:21 -0500] nacer: atomic-penguin: :)
[2013-01-24 15:11:48 -0500] nacer: atomic-penguin: i need to switch my ruby version by hand ?
[2013-01-24 15:13:28 -0500] atomic-penguin: nacer, I think most of the reported debian issues, are because users have ruby-1.8 as the system Ruby installed for Chef.  Probably what needs to happen is install Omnibus for Chef, and let Chef install ruby-1.9, or build ruby-1.9 for the Gitlab application
[2013-01-24 15:13:53 -0500] atomic-penguin: Because, I know that people using Omnibus for Chef, are not reporting these issues
[2013-01-24 15:15:32 -0500] nacer: atomic-penguin: ok i go switch my ruby version
[2013-01-24 15:18:24 -0500] cientifico: Hi. I am getting 401 after knife ec2 server create. I have a per project .chef directory (different amazon credentials). I cd into the directory, and can run knife commands perfectly (even knife ec2).
[2013-01-24 15:18:37 -0500] cientifico: The first problem was that knife.rb validate_key and validation_client_name are not used
[2013-01-24 15:18:49 -0500] cientifico: so the error references to /etc/chef/validation.pem
[2013-01-24 15:18:54 -0500] cientifico: that was also updated
[2013-01-24 15:19:11 -0500] cientifico: but even with that, it still is a 401
[2013-01-24 15:19:20 -0500] cientifico: and I am getting out of ideas.
[2013-01-24 15:19:22 -0500] cientifico: Any help?
[2013-01-24 15:19:56 -0500] cientifico: (Running with ubuntu 12.10 and -d ubuntu12.04-gems)
[2013-01-24 15:20:28 -0500] nacer: atomic-penguin: on ubuntu 12.04 LTS : aptittude install ruby1.9.3 && update-alternatives --config ruby
[2013-01-24 15:22:52 -0500] nacer: atomic-penguin: it don't do the trick :(
[2013-01-24 15:23:31 -0500] cientifico: BTW. Is chef in development right now. github.com/opscode/chef have more than 100 pull requests.
[2013-01-24 15:23:39 -0500] cientifico: ?
[2013-01-24 15:24:45 -0500] cheesepl_: cientifico: yes, chef is under active development
[2013-01-24 15:25:16 -0500] cientifico: ok
[2013-01-24 15:25:21 -0500] atomic-penguin: nacer, the idea is to start from a bare install with no ruby.  Install omnibus, the (full chef stack) installer.  Then, let the recipe install the needed ruby components for the full stack of the application.
[2013-01-24 15:25:55 -0500] atomic-penguin: Keeping Chef and the managed application separate, lets you easily upgrade and manage each one individually
[2013-01-24 15:26:17 -0500] nacer: atomic-penguin: ok let's go with omnibus
[2013-01-24 15:29:00 -0500] cheesepl_: cientifico: what version of chef are you having issues with 12.10 with, it seems at least a few issues have been fixed in 10.16.4+
[2013-01-24 15:30:10 -0500] cientifico: 10.16.2
[2013-01-24 15:30:13 -0500] cientifico: I will update
[2013-01-24 15:30:19 -0500] cientifico: hope nothing brake
[2013-01-24 15:30:46 -0500] cientifico: cheesepl_ Thanks !
[2013-01-24 15:31:01 -0500] cheesepl_: cientifico: https://tickets.opscode.com/browse/CHEF-3672
[2013-01-24 15:31:57 -0500] cheesepl_: cientifico: ah, yea seems like omnibus is iffy but the gems version will work
[2013-01-24 15:32:28 -0500] cheesepl_: fwiw I've not looked at 12.10 at all yet
[2013-01-24 15:33:15 -0500] cientifico: cheesepl_ I was reading the irc log, and that one was mention several times. I was thinking on copy ubuntu12.04-gems.erb to /etc/chef/bootstrap/ubuntu12.10-gems.erb and add the ruby-dev install.
[2013-01-24 15:33:24 -0500] cientifico: I can't ssh to 20 machines
[2013-01-24 15:33:41 -0500] cientifico: You think that will work?
[2013-01-24 15:34:13 -0500] cientifico: cheesepl_, the update to chef-10.18.2 didn't fix the problem
[2013-01-24 15:34:29 -0500] cientifico: failed to authe to chef server (http 401)
[2013-01-24 15:34:33 -0500] cientifico: and chef_server_url is ok
[2013-01-24 15:34:40 -0500] cientifico: validation_client_name is chef-validator
[2013-01-24 15:34:48 -0500] cientifico: and validation_key is correct
[2013-01-24 15:35:03 -0500] cientifico: and my use have read permission for the key
[2013-01-24 15:35:05 -0500] cheesepl_: failed to auth is different than these errors
[2013-01-24 15:35:17 -0500] cheesepl_: these are for the bootstrap script not existing
[2013-01-24 15:35:53 -0500] cientifico: Ok. Step by step sorry. I have two problems. First ubuntu12.10 that I will skip right now. Second the auth.
[2013-01-24 15:36:20 -0500] cientifico: I was looking for a way to check the auth manually and try different things
[2013-01-24 15:36:34 -0500] cientifico: right now I can't connect to the chef server url to the port 4000.
[2013-01-24 15:36:45 -0500] cientifico: the server is in europe (amazon) and the new instance is in america
[2013-01-24 15:36:57 -0500] cientifico: the ip is the public one
[2013-01-24 15:37:40 -0500] cheesepl_: can you knife install communicate to the server at all?
[2013-01-24 15:38:03 -0500] cientifico: i run the commands from a dev machine
[2013-01-24 15:38:10 -0500] cientifico: and i can do knife search
[2013-01-24 15:38:11 -0500] cientifico: knife ssh
[2013-01-24 15:38:15 -0500] cientifico: knife ec2 server list
[2013-01-24 15:38:19 -0500] cientifico: without any problems
[2013-01-24 15:38:20 -0500] cientifico: for months
[2013-01-24 15:38:37 -0500] cientifico: seems like the problem is related only with the validation.pem
[2013-01-24 15:39:10 -0500] cientifico: also run shef -z and do a search and no problems at all.
[2013-01-24 15:39:10 -0500] nacer: atomic-penguin: it still the same with a omnibus chef version
[2013-01-24 15:41:33 -0500] nacer: atomic-penguin: i think i need to clean the bundle debian version in my PATH
[2013-01-24 15:42:06 -0500] atomic-penguin: Probably, need to purge the system ruby versioned 1.8
[2013-01-24 15:42:14 -0500] cheesepl_: cientifico: so that I am following correctly knife commands works with existing nodes but knife bootstrap does not work with new nodes?
[2013-01-24 15:42:23 -0500] cientifico: yes
[2013-01-24 15:42:32 -0500] atomic-penguin: Is there a wiki page out there directing debian/ubuntu users to gem install on 1.8?
[2013-01-24 15:42:40 -0500] cientifico: the machine boots up (I am usign knife ec2 server create)
[2013-01-24 15:42:42 -0500] cheesepl_: cientifico: and the existing nodes are _not_ 12.10?
[2013-01-24 15:42:42 -0500] cientifico: then ssh
[2013-01-24 15:42:56 -0500] cientifico: the nodes are 12.04
[2013-01-24 15:43:06 -0500] cientifico: and the one i am trying to boot up is also 12.04
[2013-01-24 15:43:13 -0500] cientifico: (upgrade 12.10 other day)
[2013-01-24 15:43:25 -0500] nacer: atomic-penguin: i don't think so
[2013-01-24 15:43:46 -0500] kryptek: good morning all
[2013-01-24 15:44:07 -0500] cientifico: Until the point that says "Client key /etc/chef/client.pem is not presetn -registering. ... HTTP Request Returned 401 ...
[2013-01-24 15:44:41 -0500] cientifico: Seems like I am having an obvious mistake that I can't see
[2013-01-24 15:44:55 -0500] cientifico: I already check this: http://wiki.opscode.com/display/chef/Common+Errors#CommonErrors-401Unauthorized(usingvalidatorAPIclient
[2013-01-24 15:45:02 -0500] atomic-penguin: Or is it that debian just defaults to ruby-1.8 when you 'apt-get install ruby'
[2013-01-24 15:45:08 -0500] cientifico: the section of the validation.pem
[2013-01-24 15:45:36 -0500] zts: cientifico: check that you don't already have a client with the same name
[2013-01-24 15:45:59 -0500] cientifico: noup
[2013-01-24 15:46:12 -0500] techminer: Is there an ohai attribute that returns the node name recorded on the chef-server?
[2013-01-24 15:46:15 -0500] cientifico: knife client list doesn't show that.
[2013-01-24 15:46:34 -0500] cientifico: neither knife node list
[2013-01-24 15:46:46 -0500] cientifico: this node was never register.
[2013-01-24 15:47:08 -0500] nacer: atomic-penguin: if you want to use the omnibus ruby a nd stuff you should hardcode the bundle command /opt/chef/embeded/bin/bundle ...
[2013-01-24 15:49:48 -0500] techminer: ha.node.name I guess.
[2013-01-24 15:50:42 -0500] cheesepl_: cientifico: do you have the error output in a gist?
[2013-01-24 15:51:04 -0500] cheesepl_: hoping I might catch something in there as it seems you've already checked most of the things I would have
[2013-01-24 15:52:25 -0500] cientifico: https://gist.github.com/162b206a5b20a8d1b302
[2013-01-24 15:53:11 -0500] cientifico: The # are mine
[2013-01-24 15:53:20 -0500] cientifico: for node name and chef-server.
[2013-01-24 15:54:37 -0500] cientifico: The validator.pem was regenerated through the web interface. The chef server is running 10.16.6
[2013-01-24 15:56:05 -0500] cheesepl_: cientifico: damn, the only thing I can think of without banging on it myself is that it's permissions on the files
[2013-01-24 15:56:24 -0500] cheesepl_: or that somehow that new validation file isn't being shipped to that new node
[2013-01-24 15:56:26 -0500] cientifico: i already tried to execute the knife as root
[2013-01-24 15:56:43 -0500] cientifico: comparing the validation.pem
[2013-01-24 15:57:17 -0500] cheesepl_: have you tried running with "-l debug"
[2013-01-24 15:57:19 -0500] nacer: atomic-penguin: ok i need to remove my ruby so the ruby_build take precedence
[2013-01-24 15:57:52 -0500] cheesepl_: cientifico: the chef-client that is, not knief
[2013-01-24 15:57:54 -0500] cheesepl_: knife*
[2013-01-24 15:59:57 -0500] atomic-penguin: nacer, right-o
[2013-01-24 16:00:38 -0500] cientifico: ssh #### -l ubuntu -i pv.pem "sudo cat /etc/chef/validation.pem" | md5sum ; md5sum /etc/chef/validation.pem ~/.chef/validation.pem
[2013-01-24 16:00:38 -0500] cientifico: cb934f3b8d1ce7fba6a5dfb73518597b  -
[2013-01-24 16:00:39 -0500] cientifico: cb934f3b8d1ce7fba6a5dfb73518597b  /etc/chef/validation.pem
[2013-01-24 16:00:39 -0500] cientifico: cb934f3b8d1ce7fba6a5dfb73518597b  /home/guillermo/.chef/validation.pem
[2013-01-24 16:00:58 -0500] cientifico: the validation.pem was transfered correctly
[2013-01-24 16:01:02 -0500] cientifico: only root can read
[2013-01-24 16:01:09 -0500] cientifico: bootstrap is run with --sudo
[2013-01-24 16:01:33 -0500] karianna: Hi all, is there a way to install knife for Mac OS X 10.7.5 via MacPorts?  I can't see any chef or knife packages there
[2013-01-24 16:02:20 -0500] cientifico: karianna. I move to linux, but one year ago, i remember to just do gem install chef (or gem install knife) and use knife without any problem.
[2013-01-24 16:03:03 -0500] cientifico: cheesepl_, I can't run chef-client in a node that is not bootstraped.
[2013-01-24 16:03:45 -0500] cheesepl_: cientifico: ha, right
[2013-01-24 16:03:52 -0500] karianna: cientifico So a pure ruby install process then - thanks!
[2013-01-24 16:04:13 -0500] cheesepl_: karianna: there is also the Omnibus installer
[2013-01-24 16:04:55 -0500] cheesepl_: http://www.opscode.com/chef/install/
[2013-01-24 16:05:11 -0500] karianna: cheesepL_ Yeah - I'm a bit wary of that - I think I only need Knife and Ruby (as I'm just a workstation) - that installer seems to come with an awful lot extra
[2013-01-24 16:05:18 -0500] cheesepl_: that will install a self contained Chef
[2013-01-24 16:05:36 -0500] cheesepl_: it's not really anything extra, just segregates chef from system rubies
[2013-01-24 16:05:59 -0500] cheesepl_: I find it easier since I'm not worry about which system ruby I'm linked to
[2013-01-24 16:06:16 -0500] cheesepl_: far fewer strange gem interaction problems
[2013-01-24 16:06:31 -0500] cientifico: Never understood why chef-server doesn't use https for validating clients with https client and server certificate. On that case test this things will be much more easier, than testing with Mixlib::Authentication. That is what i am trying to do. Try to connect directly to chef server with the validation.pem through a ruby console.
[2013-01-24 16:06:35 -0500] cheesepl_: granted there are several ways to install so whichever works for you
[2013-01-24 16:08:52 -0500] karianna: I see - thanks, at this stage I'm only using Ruby for Chef work so I'll risk tying it to the macports Ruby I grabbed
[2013-01-24 16:15:29 -0500] cientifico: going to update chef server and hope that nothing brakes
[2013-01-24 16:16:41 -0500] jbz: ah
[2013-01-24 16:17:42 -0500] cientifico: from 10.16.6 to 10.18.2 then regenerate chef-validator and see if that fix the problem.
[2013-01-24 16:20:22 -0500] jwcarman: Got a question for you guys.  If I have some library code in my cookbook that requires a certain gem to be installed, how do I install that gem so that it can see it?
[2013-01-24 16:20:38 -0500] jwcarman: If I put it in the recipe with chef_gem, the library is parsed first and it complains that it can't find the gem
[2013-01-24 16:21:01 -0500] jwcarman: the recipe doesn't get a chance to fire because its libraries can't load
[2013-01-24 16:21:19 -0500] jwcarman: Do I need to move the gem installation to another cookbook altogether?
[2013-01-24 16:21:35 -0500] jwcarman: and make sure that the recipe from that other cookbook is loaded before my recipe?
[2013-01-24 16:21:58 -0500] cientifico: jwcarman, if i am not wrong, look in http://wiki.opscode.com/display/chef/Resources
[2013-01-24 16:22:13 -0500] jwcarman: I can get it to install the gem
[2013-01-24 16:22:26 -0500] jwcarman: But, it's a chicken/egg thing going on here with the library.  A weird situation
[2013-01-24 16:22:27 -0500] cientifico: for the word immediately
[2013-01-24 16:22:37 -0500] jwcarman: I am doing the immediately part
[2013-01-24 16:22:51 -0500] cientifico: so
[2013-01-24 16:23:04 -0500] jwcarman: chef_gem "foo-bar" do ...end.run_action(:install)
[2013-01-24 16:23:26 -0500] jwcarman: The problem is that the library must load first before the recipe can get a chance to run and install that gem
[2013-01-24 16:23:37 -0500] jwcarman: The library is the thing that requires the gem
[2013-01-24 16:23:52 -0500] cwj: jwcarman: you might look at the crazy crap i had to do to solve a similar problem in my pingdom cookbook
[2013-01-24 16:23:52 -0500] cwj: https://github.com/cwjohnston/chef-pingdom/
[2013-01-24 16:25:42 -0500] cwj: my library code depends on the HTTParty gem, had to wrap the require statement in a class method and then call that method inside a ruby_block in the default recipe, after that recipe has installed the gem
[2013-01-24 16:28:03 -0500] cientifico: jwcarman the example in the webpage doesn't work?
[2013-01-24 16:28:17 -0500] cientifico: chef_gem "gem" do action :install ; end ; require "gem"
[2013-01-24 16:28:33 -0500] cientifico: could be that you are manually requiring that file
[2013-01-24 16:29:07 -0500] cwj: cientifico: in the situation jwcarman is describing, his library code with the 'require' statement is loaded before chef executes the recipe
[2013-01-24 16:29:46 -0500] jwcarman: cientifico: what cwj said, the library loads first, so the recipe doesn't get a chance to install the gem :(
[2013-01-24 16:30:24 -0500] cwj: jwcarman: https://github.com/cwjohnston/chef-pingdom/blob/master/libraries/client.rb and https://github.com/cwjohnston/chef-pingdom/blob/master/recipes/default.rb are probably the most relevant bits
[2013-01-24 16:32:29 -0500] cientifico: that is weird because the documentation says really clear that chef_gem install the gems immediately and running Gem.clear_paths so no cache problem could happen. But maybe the docs are outdated
[2013-01-24 16:32:57 -0500] cientifico: "chef_gem runs its actions immediately, before convergence, allowing you to use a gem that you just installed immediately thereafter in the recipe"
[2013-01-24 16:32:57 -0500] cientifico: Can you confirm that doesn't work. I planned to use that for a recipe.
[2013-01-24 16:33:03 -0500] cwj: right, libraries are loaded before the execution phase of a chef run
[2013-01-24 16:33:13 -0500] cwj: or rather, before the recipe execution phase
[2013-01-24 16:33:23 -0500] cwj: so that you can use the library code in the recipe
[2013-01-24 16:33:49 -0500] cientifico: yes, but the docs says that the main different between chef_gem and gem_package is exacly that
[2013-01-24 16:34:31 -0500] cwj: it says that it runs immediately before convergence, which is not the same thing as running before library code is loaded
[2013-01-24 16:35:16 -0500] cientifico: http://wiki.opscode.com/display/chef/Resources#Resources-Differencesbetweenchef_gemandgem_packageresources
[2013-01-24 16:36:10 -0500] cientifico: and why you don't but the load of that library after the gem_chef?
[2013-01-24 16:36:28 -0500] cwj: http://wiki.opscode.com/display/chef/Anatomy+of+a+chef+run
[2013-01-24 16:36:30 -0500] cientifico: sorry, just trying to understand the problem, that I am sure I will face
[2013-01-24 16:36:49 -0500] cwj: as you see in the diagram, the libraries are loaded before providers, resources, recipes, definitions and attributes
[2013-01-24 16:37:03 -0500] cwj: chef cannot execute the recipe before it has been loaded
[2013-01-24 16:37:36 -0500] jwcarman: So, you call a "static" method to load the library?  Nice hackery!  I love it
[2013-01-24 16:37:40 -0500] cientifico: `gem install my_gem` inside the library :-P
[2013-01-24 16:37:52 -0500] cientifico: cwj. Thanks. Now i see the problem
[2013-01-24 16:38:02 -0500] cwj: glad to help
[2013-01-24 16:41:49 -0500] kendrickm: Any idea why running "knife role show foo" returns the role, but "knife search role name:foo" has 0 items found?
[2013-01-24 16:42:13 -0500] kendrickm: It looks like a lot of roles aren't coming back in search, but the nodes have no trouble loading/running them
[2013-01-24 16:45:13 -0500] cwj: kendrickm: maybe your solr index needs to be rebuilt
[2013-01-24 16:45:32 -0500] cwj: knife index rebuild
[2013-01-24 16:46:37 -0500] kendrickm: It's been rebuilt a few times in the past to fix the windows search issue and these aren't new roles, but I can give it a shot
[2013-01-24 16:48:19 -0500] timsmith: kendrickm: I'd blame the guy that setup your chef server
[2013-01-24 16:48:34 -0500] jmahowald: We've got a lot of roles, and it started making sense to have a hierarchy within our roles folder in our local chef-repo.  This isn't a problem when running chef-server/client as long as the role names stay unique across the hierarchy.  But when testing with vagrant/chef-solo it's a problem.
[2013-01-24 16:48:39 -0500] kendrickm: I often do
[2013-01-24 16:48:43 -0500] timsmith: good
[2013-01-24 16:49:04 -0500] jmahowald: Was going to patch role locally to allow us to have multiple paths, but wondering if this is fundamentally wrong, or just something that no one else has required yet
[2013-01-24 16:50:11 -0500] timsmith: I've seen people using folders to organize their roles.  It's not crazy
[2013-01-24 16:50:41 -0500] kendrickm: yep, the reindex fixed the problem. Searches are returning stuff now
[2013-01-24 16:50:56 -0500] kendrickm: Is rebuilding the index something that should occur on a regular occasion?
[2013-01-24 16:51:03 -0500] kendrickm: Or just when searches fail
[2013-01-24 16:52:23 -0500] timsmith: Kendrick you ever go through the chef expander logs
[2013-01-24 16:52:32 -0500] timsmith: and see if something is dropping updates
[2013-01-24 16:52:54 -0500] jmahowald: @timsmith - thx.  I'm going to give the patch submission process a whirl then
[2013-01-24 16:53:10 -0500] timsmith: that's not saying they'll accept it.  Just saying people do that
[2013-01-24 16:54:20 -0500] cientifico: just update to chef server 10.18.2 and chef-solr stop working
[2013-01-24 16:54:21 -0500] kendrickm: @timsmith I don't go through the logs for fun, no. Would there be something that sticks out indicating updates are getting dropped?
[2013-01-24 16:54:28 -0500] cientifico: when i run  java -Xmx256M -Xms256M -Dsolr.data.dir=/var/lib/chef/solr/data -Dsolr.solr.home=/var/lib/chef/solr/home -jar /var/lib/chef/solr/jetty/start.jar
[2013-01-24 16:54:43 -0500] cientifico: just get: java.lang.ClassNotFoundException: org.mortbay.xml.XmlConfiguration
[2013-01-24 16:55:31 -0500] cientifico: Seems like a path issue, but running with -jar, I cannot pass arguments through the command line
[2013-01-24 16:55:59 -0500] jmahowald: @timsmith - understood.  Since it's just needed for me during development of recipes and not deployment, I won't really care, just wanted to dive deeper anyway.
[2013-01-24 16:56:14 -0500] timsmith: @kendrickm Solr to chef seems to be lacking on that server a lot.  Not saying the awesome guy that set it up missed something, but it seems to be a bit messed up
[2013-01-24 16:57:56 -0500] jmahowald: One other unrelated question, tried giving test-kitchen a whirl.  Was looking really nice until I bumped up hard into librarian.  We're finally just getting our ops team to adopt chef along with git, and the move to a git repo per cookbook is just something that doesn't make sense to undertake at this time.
[2013-01-24 16:58:18 -0500] jmahowald: Have others had success using test-kitchen with the old flat cookbooks in the chef-repo model?
[2013-01-24 17:00:50 -0500] cientifico: ok if I cd into /var/lib/chef/solr/jetty it works i can start the daemon
[2013-01-24 17:02:44 -0500] cientifico: but it is strange. Because in chef-solr/lib/chef/solr/application/solr.rb seems like it is doing a Dir.chdir before executing solr
[2013-01-24 17:03:29 -0500] cientifico: and in /etc/chef/solr.rb solr_jetty_path is defined correctly
[2013-01-24 17:03:49 -0500] timsmith: package or gem?
[2013-01-24 17:03:55 -0500] timsmith: and do you use the chef recipe to manage your server?
[2013-01-24 17:05:18 -0500] cientifico: Someone know why this happen?  https://gist.github.com/1b78b62ad51c8be4d1cc
[2013-01-24 17:05:30 -0500] martinisoft: Any good IPTables cookbooks?
[2013-01-24 17:05:43 -0500] martinisoft: Preferably ones with LWRPs
[2013-01-24 17:05:44 -0500] martinisoft: :)
[2013-01-24 17:06:14 -0500] timsmith: cientifico: Make sure all those logs and log directories are owned by that chef user
[2013-01-24 17:06:37 -0500] cientifico: Seems like. The line that fails is STDOUT.reopen(@logfile)
[2013-01-24 17:07:35 -0500] cientifico: timsmith chown -R chef:chef /var/log/chef. Retry and same error.
[2013-01-24 17:08:52 -0500] kendrickm: if you su to the chef user can you start the daemon manually?
[2013-01-24 17:10:18 -0500] cientifico: kendrickm, running  java -Xmx256M -Xms256M -Dsolr.data.dir=/var/lib/chef/solr/data -Dsolr.solr.home=/var/lib/chef/solr/home -jar /var/lib/chef/solr/jetty/start.jar
[2013-01-24 17:10:24 -0500] cientifico: as the chef user works perfectly
[2013-01-24 17:10:48 -0500] cientifico: I need to previous cd into the proper directory
[2013-01-24 17:10:58 -0500] cientifico: but seems that that is also done by chef-solr
[2013-01-24 17:13:05 -0500] cientifico: Ok. This is happening with STDOUT.reopen(@logfile) For the moment will remove that line from the gem and face the problem during the next update
[2013-01-24 17:15:32 -0500] queso: When should something be in a data bag instead of be an attribute?
[2013-01-24 17:15:41 -0500] queso: Or, could something explain the conceptual difference. :)
[2013-01-24 17:18:53 -0500] nacer: atomic-penguin: i'am not sure about this but it seem one task that you use don't exist anymore : Don't know how to build task 'gitlab:app:setup'
[2013-01-24 17:23:21 -0500] makerbreakr: how do you guys deal with timing of a chef recipe
[2013-01-24 17:23:44 -0500] makerbreakr: ie, if I have a runlist, and I want all the recipes to run, but I want 1 of them to run once every N hours
[2013-01-24 17:24:21 -0500] makerbreakr: but the rest to run, every time chef-client runs
[2013-01-24 17:28:56 -0500] cwj: makerbreakr: theres a new command in chef 11 called chef-apply
[2013-01-24 17:29:24 -0500] makerbreakr: cool, will look into it
[2013-01-24 17:30:01 -0500] dotslash: All of the documentation shows an admin/workstation. Is this because most of the examples are using hosted chef?  Or is there a reason you can't do the admin work from your private chef server?
[2013-01-24 17:30:35 -0500] cwj: dotslash: you certainly can
[2013-01-24 17:30:57 -0500] cwj: i think the assumption is that people want to work from the environment on their local machine
[2013-01-24 17:31:29 -0500] cwj: if that doesnt work for you, you can certainly configure the required environment on the same system where chef server is running
[2013-01-24 17:32:03 -0500] dotslash: cwj: Thanks!  Just wanted to make sure there wasn't a big problem with doing it that way that I had overlooked.
[2013-01-24 17:37:00 -0500] cwj: np
[2013-01-24 17:40:11 -0500] cassianoleal: during the bootstrap of a node, chef hangs installing ruby in RVM. is there a way I can understand at which point in the process it's hanging? I tried with -VV, but it doesn't give me any useful information...
[2013-01-24 17:40:54 -0500] cassianoleal: if I log into the node, install the same ruby version manually and then re-run chef, it finishes the run (but it obviously only skips the ruby install part...)
[2013-01-24 17:44:19 -0500] fromonesrc: how do I reference the current environment during a chef run?
[2013-01-24 17:44:32 -0500] cassianoleal: fromonesrc: node.chef_environment
[2013-01-24 17:44:37 -0500] fromonesrc: thanks cassianoleal !
[2013-01-24 17:44:41 -0500] cassianoleal: np :)
[2013-01-24 17:46:53 -0500] cwj: cassianoleal: run the same run_list at debug log level in a VM
[2013-01-24 17:47:13 -0500] cwj: or set log level debug for chef-client(?) inside your bootstrap
[2013-01-24 17:47:36 -0500] cwj: client/solo, both will run at debug level
[2013-01-24 17:49:00 -0500] cassianoleal: cwj: I'm not using any custom bootstrap scripts, can I set that via knife?
[2013-01-24 17:49:51 -0500] cwj: cassianoleal: i think you'll need to make a copy of the bootstrap script you are using and modify it
[2013-01-24 17:50:38 -0500] cwj: the default bootstrap scripts will be inside your chef gem, wherever thats installed
[2013-01-24 17:50:47 -0500] cwj: or you can get them on github https://github.com/opscode/chef/tree/master/lib/chef/knife/bootstrap
[2013-01-24 17:53:11 -0500] cwj: i think you can just slap -l debug behind <%= start_chef %>
[2013-01-24 17:53:54 -0500] cassianoleal: cwj: thanks, I'll see if I can reproduce the issue on a VM, otherwise I'll try on the bootstrap
[2013-01-24 17:56:04 -0500] dotslash: Is port 4000 the only port that needs to be open between a client and the server?  All of the RabbitMQ and CouchDB communication is only within the server right?
[2013-01-24 17:56:46 -0500] cwj: right, the clients talk exclusively on the api port
[2013-01-24 17:58:17 -0500] dotslash: Thanks!
[2013-01-24 17:58:43 -0500] nlloyds2: When using the opscode users cookbooks, is there any, I guess, strategy, for choosing group ids? The sysadmins cookbook uses 2300. How was that chosen? How do I keep track of which group ids without having a conflict?
[2013-01-24 17:59:53 -0500] cassianoleal: nlloyds: I usually choose a high enough number that groups that are not managed by chef are never going to hit them
[2013-01-24 18:00:13 -0500] cassianoleal: 2300 for sysadmins, 2500 and up for my other groups and users
[2013-01-24 18:00:55 -0500] cassianoleal: this way it'll be very difficult for you to have a clash, unless you actually create 2500 groups on a single server :)
[2013-01-24 18:01:00 -0500] nlloyds2: Cool. So 2300 is just arbirary and high enough?
[2013-01-24 18:02:21 -0500] Urocyon: Is there a proper way to notify a service defined in a different cookbook?  Like, if I want to restart apache2.
[2013-01-24 18:02:57 -0500] Urocyon: cal I just "  notifies :restart, "service[apache2]", :delayed"
[2013-01-24 18:03:13 -0500] nlloyds2: Urocyon: Yes that should work fine
[2013-01-24 18:04:06 -0500] Urocyon: hrm I thought it would but I'm trying to puzzle out an error related to that line.  NoMethodError: undefined method `[]' for nil:NilClass
[2013-01-24 18:04:15 -0500] cassianoleal: nlloyds2: I'd say so, but since I wasn't the one to choose this number, I can't say for sure that it was arbitrary :)
[2013-01-24 18:05:01 -0500] Urocyon: Does that maybe try to get the recipe by "service_name"?  I see that's different based on platform.
[2013-01-24 18:08:28 -0500] zts: Urocyon: I'd suggest gisting both the resource you're notifying from, and the full error you're getting
[2013-01-24 18:08:44 -0500] nlloyds2: I think it uses the name attribute ("apache2" here https://github.com/opscode-cookbooks/apache2/blob/master/recipes/default.rb#L24 )
[2013-01-24 18:08:59 -0500] cassianoleal: Urocyon: I'd add the service definition to that gist, it might be helpful
[2013-01-24 18:15:00 -0500] Urocyon: Looking at it again I think I see the problem.  Not a notify problem after all.
[2013-01-24 18:17:45 -0500] failshell: how can i check in a recipe if a recipe is assigned to a node? i tried node.run_list, node.runlist, does not work
[2013-01-24 18:17:48 -0500] failshell: anyone knows?
[2013-01-24 18:20:07 -0500] zts: failshell: when you say "does not work", what happened exactly?  (node.run_list is the property to look at)
[2013-01-24 18:21:00 -0500] failshell: the template i have under the check fails to apply
[2013-01-24 18:21:08 -0500] cassianoleal: can I install a ruby gem from its source on github using gem_package a similar resource?
[2013-01-24 18:21:55 -0500] zts: failshell: please gist your code
[2013-01-24 18:22:23 -0500] zts: failshell: but something like node.run_list.include?("recipe[foo::bar]") should do the right thing
[2013-01-24 18:22:46 -0500] failshell: zts: https://gist.github.com/4626035
[2013-01-24 18:22:55 -0500] failshell: ah
[2013-01-24 18:22:56 -0500] failshell: ok
[2013-01-24 18:23:25 -0500] failshell: zts: thanks for your help :)
[2013-01-24 18:23:30 -0500] zts: failshell: ah yep, you need to wrap the name with recipe[] or role[] (as appropriate)
[2013-01-24 18:23:31 -0500] zts: no problem :)
[2013-01-24 18:24:57 -0500] failshell: INFO: HTTP Request Returned 404 Not Found: No routes match the request
[2013-01-24 18:25:06 -0500] failshell: i noticed this new message recently with chef-client
[2013-01-24 18:25:08 -0500] failshell: what is this for?
[2013-01-24 18:25:35 -0500] failshell: for the path /reports/nodes/host/run
[2013-01-24 18:25:45 -0500] rb1980: question about nested roles: Is it "ok" to have a role assigned to a node twice? Like if I have RoleA and RoleB assigned to a node, then I add RoleB into RoleA
[2013-01-24 18:25:53 -0500] rb1980: chef will "converge" these, right?
[2013-01-24 18:27:38 -0500] cassianoleal: rb1980: yep. no fear, man!
[2013-01-24 18:28:06 -0500] rb1980: sweet, just wanted to be sure. I'll probably clean it up later.
[2013-01-24 18:29:18 -0500] Urocyon: On further examination it looks like apache2 is attempting to use runit now and it's catching on this line: params[:directory] ||= node[:runit][:sv_dir]
[2013-01-24 18:32:05 -0500] cassianoleal: cwj: it seems like the "rvm install" hangs because it's installing packages via apt-get without passing -y: https://gist.github.com/4626106
[2013-01-24 18:32:20 -0500] failshell: zts: what about the expended run_list, is there an attribute for that?
[2013-01-24 18:32:39 -0500] cassianoleal: first gist file is the output of the debug log, second gist file is when I executed the command on the shell
[2013-01-24 18:33:19 -0500] riddley2: how do I get a nested attribute from ohai on the commandline?
[2013-01-24 18:33:20 -0500] cwj: failshell: node attributes 'roles' and 'recipies' should reflect the expanded run list, but not the order thereof
[2013-01-24 18:42:26 -0500] kendrickm: Anybody have any idea when http://tickets.opscode.com/browse/OHAI-387 has a chance of getting fixed?
[2013-01-24 18:43:48 -0500] cassianoleal: can I set a node's run_list on /etc/chef/client.rb ?
[2013-01-24 18:45:47 -0500] ddilinger: what is the general answer to 'single point of failure' in a chef server (say, there is a DC problem and i need to boot new instances elsewhere, but the chef server is in that failed DC)?  Can you slave another chef-server to it or something?
[2013-01-24 18:48:07 -0500] martinisoft: cassianoleal: think you have to setup a json file for the nodes run list if you plan to use chef-solo? otherwise that comes from the chef server
[2013-01-24 18:48:44 -0500] martinisoft: kendrickm: dunno, for the time being would just disable the offending plugins from OHAI via the ohai cookbook
[2013-01-24 18:48:56 -0500] martinisoft: thats what I had to do for Linode until I got the patch into OHAI
[2013-01-24 18:49:20 -0500] martinisoft: It kept detecting my Linode as Rackspace
[2013-01-24 18:49:55 -0500] kendrickm: @martinisoft Yeah totally, thats what I'm doing. And I actually manage my chef config files through chef so it templates out the disabled plugin check
[2013-01-24 18:50:19 -0500] kendrickm: Trouble is, the first run stores that cloud data, and then it causes my nagios to asplode because it thinks my vmware nodes are rackspace
[2013-01-24 18:50:34 -0500] martinisoft: ah right
[2013-01-24 18:50:46 -0500] martinisoft: yeah the ohai plugin disable needs to be one of the first in the run list
[2013-01-24 18:50:57 -0500] martinisoft: then you force an ohai refresh
[2013-01-24 18:51:58 -0500] cassianoleal: martinisoft: so here's my situation: I'm pre-baking and AMI for EC2 instances that will auto-scale. After configuring the initial image, I will delete client.pem and the node and client on the chef server.
[2013-01-24 18:52:27 -0500] cassianoleal: what I want is for new machines that spin up using this base image start chef-client, register themselves on the chef server, and inherit the base image's run_list somehow
[2013-01-24 18:52:44 -0500] cassianoleal: so that they update themselves if needed
[2013-01-24 18:52:59 -0500] martinisoft: can setup a first_boot.json
[2013-01-24 18:53:07 -0500] martinisoft: and pass it in to chef-client
[2013-01-24 18:53:22 -0500] martinisoft: think its chef-client -j /path/to/first-boot.json
[2013-01-24 18:53:33 -0500] martinisoft: gives it a run list to start with
[2013-01-24 18:53:43 -0500] martinisoft: thats basically what the knife bootstrap script does if I recall
[2013-01-24 18:55:08 -0500] kendrickm: yeah I basically have a shef script saved that iterates through all my nodes and if the cloud object exists deletes it
[2013-01-24 18:55:12 -0500] kendrickm: but still a pain
[2013-01-24 18:55:36 -0500] martinisoft: kendrickm: yeah, I had to shutoff several ohai plugins
[2013-01-24 18:55:53 -0500] martinisoft: and jam in a crappy custom one until I could get a patch in to ohai
[2013-01-24 18:56:56 -0500] cassianoleal: martinisoft: cool, I'll try that. thanks
[2013-01-24 18:57:14 -0500] Urocyon: heh, figured out my strange service problem.  I had a conflicting cookbook with the same name on my chef-server and it wasn't friendly to my node.
[2013-01-24 18:58:23 -0500] cassianoleal: martinisoft: that did it. thanks!
[2013-01-24 19:00:21 -0500] martinisoft: cassianoleal: welcome :)
[2013-01-24 19:01:05 -0500] blasdelf1: I'm getting the warning "Setting attributes without specifying a precedence is deprecated and will be removed in Chef 11.0"
[2013-01-24 19:01:16 -0500] blasdelf1: how are you supposed to set attributes in a role?
[2013-01-24 19:05:56 -0500] ttgb: Is it normal/supported to use a single chef server to support all our disparate applications & sites, as opposed to the infrastructure for just one application?
[2013-01-24 19:07:05 -0500] anthroprose: Can I apply a timeout = n option to the service provider?
[2013-01-24 19:07:56 -0500] anthroprose: service "service-name" do
[2013-01-24 19:07:56 -0500] anthroprose:   action [ :start ]
[2013-01-24 19:07:57 -0500] anthroprose:   timeout = 1000
[2013-01-24 19:07:57 -0500] anthroprose: end
[2013-01-24 19:08:16 -0500] anthroprose: dosn't seem to pass all the way down to the shell exec..
[2013-01-24 19:11:09 -0500] siezer: ttgb isolate via organizations where it makes sense.
[2013-01-24 19:11:28 -0500] jessicab: anthroprose: try it without the = and perhaps put the 1000 in quotes?
[2013-01-24 19:11:54 -0500] siezer: ttgb general rule of thumb, if you have seperate sysadmins on a site or application, isolated networks, etc... use seperate chef api end points.
[2013-01-24 19:12:30 -0500] ttgb: siezer: So if we run and manage multiple sites/products within our organization, managed by the same team, a single Chef server will be suitable?
[2013-01-24 19:12:58 -0500] anthroprose: jessicab: derp on my ruby syntax... appreciate it.
[2013-01-24 19:13:11 -0500] siezer: ttgb possibly. depends on the complexity of the applications and the scope of work
[2013-01-24 19:14:01 -0500] siezer: if application A's back end services talks to appliation B's back end services for some reason, then it may be handy to put them under the same chef org, so you can search them out in recipes
[2013-01-24 19:14:23 -0500] siezer: if the communicate through a front end API or not at all, then isolation is probaly best
[2013-01-24 19:14:41 -0500] ttgb: siezer: Thanks, makes sense I think. Most of our applications are relatively small, spread across 1-2 servers most of the time, and we'd like to do things like have Nagios configure itself for all those applications.
[2013-01-24 19:14:45 -0500] siezer: trading off for a slightly more complicated policy management workflow
[2013-01-24 19:15:38 -0500] siezer: ah. if "1-2" servers is really the case, the I'd be tempted to do it all under one chef org, at least to start
[2013-01-24 19:16:13 -0500] siezer: I was thinking more of the "multi-tier web applicaiton" sort of service
[2013-01-24 19:17:19 -0500] ttgb: siezer: Yeah I can see the need for separate orgs in that situation, but this is more about the use of Chef as a general tool for structuring the companies multiple applications.
[2013-01-24 19:17:38 -0500] ttgb: internal ones, some customer facing sites, etc.
[2013-01-24 19:17:44 -0500] siezer: where to draw the line is a dark art, ymmv, batteries not included, etc
[2013-01-24 19:18:35 -0500] ttgb: Mainly wondering whether Chef was going to somehow be hostile to my attempts to working with these many little applications.
[2013-01-24 19:19:37 -0500] ttgb: The main issue I've seen at the moment is that 'environments' lose their meaning when each site could be in various states in various places.
[2013-01-24 19:20:04 -0500] siezer: ttgb environments is more of a mechanism corresponding to a branch in an application code
[2013-01-24 19:20:14 -0500] siezer: so development, staging, production, etc
[2013-01-24 19:21:10 -0500] ttgb: Yeah, so I was looking in to how support different attributes so that I can provision servers for one application in a development state, and another in a production state. Have to move that stuff down to the role level.
[2013-01-24 19:22:36 -0500] siezer: the big issue is that chef-client will always use the latest version it finds on chef-server. so updating some configuration can affect all things that use it.
[2013-01-24 19:22:48 -0500] siezer: you can pin down versions via environments
[2013-01-24 19:24:08 -0500] siezer: but if you're using the environments mechanism to seperate applications, now you're back to needing to find a way to test and promote changes across applications
[2013-01-24 19:24:28 -0500] ttgb: Just going to ignore environments altogether I think
[2013-01-24 19:25:11 -0500] ttgb: Whatever we do is better than the awkwardly manual approach that's been used up until now
[2013-01-24 19:25:18 -0500] siezer: true that =)
[2013-01-24 19:26:03 -0500] siezer: if you can, start modeling entire machines from a base install vs trying to deveop policy against machines in random states
[2013-01-24 19:26:16 -0500] siezer: path of quickest win.
[2013-01-24 19:27:58 -0500] ttgb: Been attempting that, haven't attacked some of the oldest messiest applications just yet but been experimenting with writing cookbooks for new applications and bringing up machines from scratch.
[2013-01-24 19:28:38 -0500] ttgb: Has the added benefit of being able to nerd out over automatically building and distributing development VMs.
[2013-01-24 19:34:11 -0500] anthroprose: anyone familiar with passing timeout options through the service provide to get around Mixlib::ShellOut::CommandTimeout errors?
[2013-01-24 19:36:29 -0500] burris: i'm getting a RecipeNotFound on what appears to be the old name of a recipe that got renamed, but I can't figure out where this particular recipe is being included, the stack trace shows all the chef client stuff but no recipes, any tips on figuring out where the missing recipe is getting called from?
[2013-01-24 19:37:07 -0500] dysinger_: is having RDS nodes in chef-platform as nodes a solved problem ?
[2013-01-24 19:57:48 -0500] djdarkbeat: I have a chef run list that refuses to run the users recipe again, I've tried deleting the role, the databag and so on but this one machine won't add a new user from the data bag.  How can I force chef to rerun everything?
[2013-01-24 20:02:33 -0500] KarlHungus: anyone have a knife plugin to sync encrypted data bags to a local dir?
[2013-01-24 20:03:14 -0500] freezey_: following this " http://docs.opscode.com/resource_remote_file.html" to have a remote file not get transferred if the source hasnt changed and the code breaks with "unknown regexp options - rp"
[2013-01-24 20:04:40 -0500] leifmadsen: when using a service resource for starting/stopping/restarting a service, and the init.d script uses a different term for checking if it is running (i.e. not using 'status' but something else), is there a way to override what chef uses to do the "status" check?
[2013-01-24 20:05:22 -0500] KarlHungus: leifmadsen: http://docs.opscode.com/chef/resources.html#service
[2013-01-24 20:07:03 -0500] leifmadsen: aha, that's right
[2013-01-24 20:07:08 -0500] leifmadsen: forgot about the status_command thing
[2013-01-24 20:07:12 -0500] leifmadsen: KarlHungus: thanks for the clue
[2013-01-24 20:07:39 -0500] KarlHungus: =) yw
[2013-01-24 20:09:07 -0500] RobertD: Hi. I am trying to install chef-server on an ubuntu box using chef-solo. I am experiencing the same issue described in this ticket http://tickets.opscode.com/browse/COOK-1941 What can I do?
[2013-01-24 20:25:36 -0500] cap10morgan: Is there no 10.18.2 omnibus release?
[2013-01-24 20:27:27 -0500] bdha: cap10morgan: There is. I just downloaded it today.
[2013-01-24 20:27:39 -0500] bdha: https://opscode-omnitruck-release.s3.amazonaws.com/el/6/x86_64/chef-10.18.2-2.el6.x86_64.rpm
[2013-01-24 20:27:55 -0500] cap10morgan: I'm getting the version reported as 10.18.1 when chef-client runs
[2013-01-24 20:28:20 -0500] kallistec: cap10morgan: that was a glitch in my find -exec sed foo
[2013-01-24 20:28:30 -0500] kallistec: update to iteration 2
[2013-01-24 20:28:36 -0500] cap10morgan: ah HA! thanks.
[2013-01-24 20:28:46 -0500] kallistec: code is exactly the same except for version.rb
[2013-01-24 20:32:33 -0500] RobertD: Any idea how to fix node['languages']['ruby']['bin_dir'] error in ubuntu?
[2013-01-24 20:39:39 -0500] freezey_: anybody ever use this part of the doc? http://docs.opscode.com/resource_remote_file.html#
[2013-01-24 20:39:42 -0500] freezey_: doesnt seem to work as expected
[2013-01-24 20:41:17 -0500] cap10morgan: wasn't 10.18.2 supposed to eliminate all the warnings about cloning blah blah blah?
[2013-01-24 21:02:30 -0500] ddilinger: when using 'knife create cookbook foo' it tries to create it in /var/chef,  what is the knife.rb option to change that path(not just cookbook_path, but creating everything)?
[2013-01-24 21:02:45 -0500] freezey_: any info on howto get chef to download a file only when it was changed>
[2013-01-24 21:02:47 -0500] freezey_: ?*
[2013-01-24 21:03:01 -0500] ddilinger: freezey_: md5 / etag ?
[2013-01-24 21:03:11 -0500] ddilinger: freezey_: or some such way of comparing hashes
[2013-01-24 21:03:36 -0500] freezey_: ddilinger: so i saw this http://docs.opscode.com/resource_remote_file.html# and it doesnt work
[2013-01-24 21:04:23 -0500] ddilinger: i dont know the answer, but just in general 'doesnt work' isnt enough to formulate a response from
[2013-01-24 21:04:34 -0500] freezey_: code bombs
[2013-01-24 21:04:37 -0500] freezey_: trying to figure out why
[2013-01-24 21:12:02 -0500] joel: which user does chef run as when called from vagrant?
[2013-01-24 21:12:21 -0500] joel: looks like vagrant, nm.
[2013-01-24 21:15:26 -0500] _niko_: hi e/b. i'm new to chef. i try to get a simple chef cookbook working with chef-solo. i want to use the known_hosts (https://github.com/sethvargo-cookbooks/known_host) LWRP. i declared the dependency in my cookbooks metadata.rb. (depends 'known_hosts'). I get an error ("Cannot find a resource for known_host on ubuntu version 12.04" ) when trying to use the resource ("known_host 'github.com'"). no idea what could be the problem though. any
[2013-01-24 21:15:49 -0500] joel: anyone having trouble getting ruby 1.8.7 to install with the rvm recipe today?
[2013-01-24 21:17:38 -0500] tomdzk: joel: we've found it a good idea to fix the rvm version in the attributes, e.g. "version": "1.16.10", "branch": "none"
[2013-01-24 21:18:48 -0500] joel: tomdzk: yeah mine's fixed.. trying to figure out wtf.
[2013-01-24 21:19:56 -0500] joel: have an strace following forks to hopefully get something useful to go off of
[2013-01-24 21:22:54 -0500] waj: Hello. I'm trying to use 'mercurial' cookbook to clone a repo. But I get this error:
[2013-01-24 21:22:55 -0500] waj: FATAL: Chef::Exceptions::ResourceNotFound: resource execute[sync repository /opt/nuntium] is configured to notify resource execute[set permissions] with action run, but execute[set permissions] cannot be found in the resource collection.
[2013-01-24 21:22:57 -0500] josephholsten: joel: what environment? 1.8 gets more painful to build on a mac ever passing month
[2013-01-24 21:23:26 -0500] joel: josephholsten: linux, it was all working yesterday I swear to god, not sure what's up with it today
[2013-01-24 21:24:31 -0500] josephholsten: joel: I <3 rvm, I really do, but its got so many moving pieces. I try to stick to a good system package or rbenv these days.
[2013-01-24 21:24:47 -0500] joel: josephholsten: I'm hearing that more and more.
[2013-01-24 21:24:55 -0500] jtimberman: (begin PSA) 1.8.7 will be EOL and unsupported in ~6 months, work on migrating to 1.9 for ruby apps in your infrastructure (end PSA) :-)
[2013-01-24 21:25:29 -0500] _niko_: is there a way to see loaded dependencies in chef solo?
[2013-01-24 21:28:55 -0500] josephholsten: _niko_: that's a really good question. Never tried.
[2013-01-24 21:34:01 -0500] carllerche: It seems that w/ upstart services, chef will try to start the service even if the service is already running (which causes the chef run to error out), is there a way to work around this?
[2013-01-24 21:34:29 -0500] _niko_: is there anything i missed? i mean: when a LWRP should be used, the only thing to do is to add it as dependency, right? would that fail, if the LWRPs cookbook isn't found?
[2013-01-24 21:36:23 -0500] _niko_: just tried. "depends 'nonexisting_cookbook'" will happily continue.
[2013-01-24 21:38:51 -0500] joel: the f'ity f. It went fine when I was stracing it, now that I'm not it appears to be hung again.
[2013-01-24 21:45:46 -0500] ddilinger: attempting to use knife-ec2(knife ec2 server create ...),  only problem is it will randomly put up a 'ERROR Fog::Compute::AWS::NotFound: The instance ID 'i-xxxxxxxx' does not exist"   except i can look in aws console, and its there :S  thinking perhaps it just needs to wait a few seconds and retry?  how can i do that
[2013-01-24 21:46:48 -0500] ddilinger: seems to be same as http://tickets.opscode.com/browse/KNIFE-207  but no comments on the ticket
[2013-01-24 21:50:10 -0500] josephholsten: anyone know if Jaime Winsor / @reset is about? I don't know his username in freenode
[2013-01-24 21:50:46 -0500] miah: josephholsten: his username is reset..
[2013-01-24 21:52:10 -0500] josephholsten: miah: thanks
[2013-01-24 21:59:53 -0500] methods: how do people generally use knife-ec2 when you have to setup ebs volumes and attach them before the cookbooks run ?
[2013-01-24 22:01:46 -0500] miah: use the ebs provider
[2013-01-24 22:04:55 -0500] methods: nvm
[2013-01-24 22:20:42 -0500] joel: ugh. rvm install of 1.8.7 works when I strace -f -p <pid> of the top level vagrant process. if I don't strace, it hangs. W.T.F.
[2013-01-24 22:20:50 -0500] joel: any thoughts what so ever on why that would be?
[2013-01-24 22:23:06 -0500] miah: joel: https://github.com/wayneeseguin/rvm/issues/1466
[2013-01-24 22:23:10 -0500] miah: its being worked on
[2013-01-24 22:23:37 -0500] alop: anyone have an example of a chefspec test for a cron resource? google isn't helping
[2013-01-24 22:30:04 -0500] rbwsam: Does anyone have experience with a preferred percona cookbook?
[2013-01-24 22:31:15 -0500] jtimberman: rbwsam: i believe patcon has used opscode's mysql cookbook and just changed the package attributes to percona package names
[2013-01-24 22:31:29 -0500] jtimberman: but i'll let patcon speak to that :D
[2013-01-24 22:32:18 -0500] patcon: haha it's working pretty well. there's a guy named phlipper who has a pretty fleshed out cookbook, but he's out there on his own and he's diverged a lot from his original mysql fork
[2013-01-24 22:32:26 -0500] patcon: rbwsam: ^^
[2013-01-24 22:32:47 -0500] patcon: haven't had time to submit PR's that don't break his current functionality, but he's open to it :)
[2013-01-24 22:33:43 -0500] rbwsam: phlipper's and the community cookbooks look very similar, are you saying that phlipper forked the community cookbook?
[2013-01-24 22:33:52 -0500] patcon: rbwsam: just hopping in my carpool, but i'll be back online later
[2013-01-24 22:33:55 -0500] patcon: in the meantime: https://github.com/myplanetdigital/chef-percona
[2013-01-24 22:33:59 -0500] rbwsam: thanks
[2013-01-24 22:34:03 -0500] patcon: https://github.com/phlipper/chef-percona
[2013-01-24 22:34:15 -0500] patcon: https://github.com/phlipper/chef-percona/pull/15
[2013-01-24 22:34:35 -0500] patcon: no sweat man
[2013-01-24 22:34:46 -0500] patcon: forked the mysql cookbook, i believe
[2013-01-24 22:35:21 -0500] patcon: but then customized some things that make it a little awkward to get him back to leveraging the mysql cookbook. the issue linked above should hopefully explain it a little better :)
[2013-01-24 22:35:27 -0500] patcon: rbwsam: ^^
[2013-01-24 22:35:55 -0500] rbwsam: great ill read that
[2013-01-24 22:36:06 -0500] miah: my fork may have some bugs, but take a look.. https://github.com/miah/percona-install
[2013-01-24 22:36:09 -0500] miah: =)
[2013-01-24 22:36:57 -0500] rbwsam: any opinions on this one? https://github.com/customink-webops/percona-install
[2013-01-24 22:44:33 -0500] miah: i havent used it recently, my fork hasn't pulled in the upstream changes in a long time. i think i diverged quite far from it.
[2013-01-24 22:48:15 -0500] tolland: is there an idoimatic way to process a directory of templates?
[2013-01-24 22:51:54 -0500] evxd: Is there a way to use an existing keypair to create an API client?
[2013-01-24 22:52:04 -0500] tolland: i mean like remote_directory but with erb processing of the contents
[2013-01-24 22:52:57 -0500] bmhatfield: I have a stupid question about knife plugin development: all of the Mixlib::CLI options that I've added seem to be boolean-only; IE I cannot provide a value to the argument
[2013-01-24 22:53:16 -0500] bmhatfield: I cannot for the life of me understand why this is
[2013-01-24 22:53:49 -0500] bmhatfield: how do I make it so I can say 'knife command ARG option value'
[2013-01-24 22:53:59 -0500] bmhatfield: Right know 'option' is set to 'true' every time.
[2013-01-24 22:54:05 -0500] bmhatfield: now*
[2013-01-24 22:57:49 -0500] joel: miah: thanks
[2013-01-24 23:00:47 -0500] miah: bmhatfield: https://github.com/opscode/mixlib-cli
[2013-01-24 23:01:26 -0500] bmhatfield: Ah, I just figured it out.
[2013-01-24 23:01:35 -0500] bmhatfield: I was doing this: :long  => "--log_level",
[2013-01-24 23:01:39 -0500] miah: ah ya
[2013-01-24 23:01:41 -0500] bmhatfield: Where I realy wanted to do this: :long  => "--log_level LEVEL",
[2013-01-24 23:01:50 -0500] miah: i have been doing a bunch with Thor lately and a little with mixlib-cli
[2013-01-24 23:01:52 -0500] bmhatfield: I didn't realize that was significant.
[2013-01-24 23:01:56 -0500] miah: yup
[2013-01-24 23:04:16 -0500] bmhatfield: Thanks :-)
[2013-01-24 23:37:48 -0500] jhulten: Interesting Berkshelf behavior. berks install picked up a cookbook in my metadata.rb that was commented out.
[2013-01-24 23:48:11 -0500] shennyg: Is there a cookbook template on git-hub?
[2013-01-24 23:48:33 -0500] tomdzk: shennyg: knife cookbook create <name> ?
[2013-01-24 23:48:53 -0500] shennyg: I was originally forked https://github.com/opscode/chef-repo
[2013-01-24 23:49:22 -0500] shennyg: tomdzk: ok, I wasn't using knife. I think that should fix it. thanks.
