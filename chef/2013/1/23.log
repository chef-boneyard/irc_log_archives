[2013-01-23 00:39:52 -0500] rbwsam: what RVM cookbook actually works?
[2013-01-23 00:40:55 -0500] rbwsam: im having trouble with http://community.opscode.com/cookbooks/rvm on ubuntu 12.04
[2013-01-23 00:41:14 -0500] flaccid: you may like to cite the problem, check bugs
[2013-01-23 00:42:41 -0500] rbwsam: I apologize, what I meant to ask was does anyone recommend a particular cookbook for RVM that they have had good experiences using? I have tried a few and run into various issues. I was hoping that there is a preferred cookbook that I am unaware of.
[2013-01-23 00:43:40 -0500] jtimberman: rbwsam: I've used https://github.com/fnichol/chef-rvm
[2013-01-23 00:46:01 -0500] rbwsam: thanks!
[2013-01-23 00:46:22 -0500] rbwsam: @jtimberman what distro?
[2013-01-23 00:46:46 -0500] doomviking: I've used that on 12.04
[2013-01-23 00:46:49 -0500] doomviking: works fine
[2013-01-23 00:47:09 -0500] rbwsam: thanks
[2013-01-23 00:49:19 -0500] jtimberman: rbwsam: i've used it on os x only
[2013-01-23 00:52:18 -0500] miah: ive used chef-rvm on various ubuntus.. works good
[2013-01-23 00:52:24 -0500] doomviking: rvm::system JFW'd for me
[2013-01-23 00:52:36 -0500] rbwsam: it seems to be the most up to day
[2013-01-23 00:52:40 -0500] rbwsam: date*
[2013-01-23 01:22:58 -0500] Peter_____: Worst automatic nicname ever...
[2013-01-23 01:25:10 -0500] Peter_Zooka: Hey folks, been trying to get knife spin me up a Backspace cloude server, and I just keep getting an error about saving the server before accessing metadata...
[2013-01-23 01:25:54 -0500] Peter_Zooka: Seems like I must be doing something dumb since I can't find a single google hit with the error text, but I'm new at this and kind fo at a loss...
[2013-01-23 01:30:03 -0500] zenloop: Hey guys, trying to do the run once logic.  unfortunately when I try to set the "node.set['some_command_complete'] = true" it does not stick as attribute data.  I do not see it when I query attributes of the node with knife.  any suggestions/
[2013-01-23 01:30:04 -0500] zenloop: ?
[2013-01-23 01:30:15 -0500] zenloop: http://wiki.opscode.com/pages/viewpage.action?pageId=15728818
[2013-01-23 03:38:30 -0500] techminer: evening....trying to use the opscode users cookbook.  It's working fine, creates the user and sysadmin group, creates the home, but it's not adding the ssh-keys that I've setup in the data bag.  I don't see any errors when I run chef-client...
[2013-01-23 03:51:58 -0500] techminer: bah nevermind....I used ssh-keys instead of ssh_keys in my data bag....works fine now that the syntax is correct...
[2013-01-23 04:36:41 -0500] OA: Hello, how to install Chef server 11? I'd like to try some new features of version 11. Unfortunately there no information how to do it. I've tried chef-server cookbook with version 11.0.0 and prereleased or night build enabled option. But it didn't work
[2013-01-23 06:04:56 -0500] Todd___: Hi Chefs...
[2013-01-23 06:05:06 -0500] Todd___: Need help on chef server install..
[2013-01-23 06:05:46 -0500] Todd___: I am new to chef and trying to install the Chef server by following instruction from  opscode wiki
[2013-01-23 06:06:18 -0500] Todd___: I am getting below error after running this command :chef-solo -c /etc/chef/solo.rb -j ~/chef.json -r http://s3.amazonaws.com/chef-solo/bootstrap-latest.tar.gz
[2013-01-23 06:06:43 -0500] Todd___: Error: [2013-01-22T16:44:50-08:00] FATAL: Mixlib::ShellOut::ShellCommandFailed: service[rabbitmq-server] (chef-server::rabbitmq line 46) had an error: Mixlib::ShellOut::ShellCommandFailed: Expected process to exit with [0], but received '1'
[2013-01-23 06:07:55 -0500] Todd___: i checked the rabbitmq error log and rabbitmq is getting crashed on start up..i am not expert in reading the crash report..anyone who can help solving this mystry ?
[2013-01-23 06:30:04 -0500] sn0wb1rd: I have a recipe which has two steps and step 1 computes a value which is used by step 2. This value is in the node variable and used in step 2. I don't want to run step 1 in compile phase as it involves downloading a huge file. I can't access this value in step 2. Are there any other ways around it?
[2013-01-23 08:01:12 -0500] datadevil: hi
[2013-01-23 08:25:53 -0500] swankier: I'm having a heck of a time with pagerduty and sensu.  Is anyone available to assist?
[2013-01-23 09:11:14 -0500] daxroc: Is it right to think that you would use roles to customise / extend a cookbook for a specific application?
[2013-01-23 09:11:50 -0500] kernel_panik: Hi guys! in order to use the "service status check" in a chef recipe.. when I building an init linux script.. on status function, should I put exit 1  when the service is donw?
[2013-01-23 09:20:39 -0500] eugenmayer: jtimberman: comeon, even he is not getting the wording right, its still clear what he means :)
[2013-01-23 09:21:03 -0500] eugenmayer: jtimberman: goodness..well i guess iam 12 hours back in time, sorry. Dont ind me
[2013-01-23 09:22:48 -0500] kernel_panik: any advice?
[2013-01-23 09:31:02 -0500] a7p: hi everyone - I'm trying to use the application_python-recipe with chef-solo and it complains not to find a private key in /etc/chef/ - why does this happen?
[2013-01-23 09:31:33 -0500] a7p: is there any variable I have to override? It happens during before_deploy
[2013-01-23 09:51:42 -0500] s2r2: Hello #chef's.  Following the EC2 bootstrap guide using knife-ec2; my instance has been created (amazon's dashboard shows it, I can ssh in manually), but 'knife ec2 server list' (after a little while) prints nothing.  Any ideas what could have happened?
[2013-01-23 09:51:57 -0500] s2r2: 'knife node list' prints the node
[2013-01-23 09:53:20 -0500] wlll: a7p: sounds like you perhaps don't have the node's pirvate key in there? Did you do a successful chef run before?
[2013-01-23 09:53:51 -0500] s2r2: (I didn't use the default region but eu-west-1 -- does "ec2 server list" need to be told?)
[2013-01-23 09:54:51 -0500] s2r2: (yes. added it to knife.rb.  thanks for making me think.)
[2013-01-23 09:58:10 -0500] emanuelez: how to I add a role to every already existing node?
[2013-01-23 10:05:23 -0500] a7p: will: is that needed if I run chef-solo
[2013-01-23 10:05:26 -0500] a7p: ?
[2013-01-23 10:06:33 -0500] a7p: some recipes run fine - I found some mentioning on "search" in some recipes which is problematic with chef-solo, but I can not find any use of "search" in my recipes.
[2013-01-23 10:07:11 -0500] kesor: I use the "users" cookbook, which uses search  but it is disabled with chef-solo, which is very confusing because it just stops working :(
[2013-01-23 10:18:41 -0500] kesor: how do I make shef run the compliation step and let me manipulate stuff before the execution step?
[2013-01-23 10:24:40 -0500] wlll: a7p: I don't know, I don't use chef-solo, but the error suggests so.
[2013-01-23 10:25:04 -0500] wlll: (also, wlll alerts me, will doesn't, didn't see your message)
[2013-01-23 10:30:51 -0500] a7p: wlll: thx, guess I should use a larger font I'll look into this stuff  seems I have to learn some more ruby.
[2013-01-23 10:32:30 -0500] wlll: a7p: np, just use tab completion, it will help you know when you typed the nick properly
[2013-01-23 10:32:35 -0500] wlll: assuming your client supports it
[2013-01-23 10:47:52 -0500] kesor: is there a way to create a wrapper cookbook to make opscode-cookbooks/users work with chef-solo and create the missing directories properly?
[2013-01-23 10:51:52 -0500] BryanWB__: is there an lwrp i should use to execute ` bundle install ` for a ruby app i am managing w/ chef?
[2013-01-23 11:01:06 -0500] DeadZen: this patch ever going in
[2013-01-23 11:01:09 -0500] DeadZen: https://github.com/goodwink/chef/commit/1dcce43614a38ec0cec635bf635b308c50a52036 ?
[2013-01-23 11:29:25 -0500] kechagia: hi guys: Is it possible to store a file not under files/ or templates/ but on the chef server? I have a big tar.gz file that I don't wanna store and upload with the cookbook.
[2013-01-23 11:29:36 -0500] kechagia: Or is the best approach using a http server somewhere?
[2013-01-23 11:30:19 -0500] BryanWB__: kechagia: i put stuff like that on another http server
[2013-01-23 11:35:06 -0500] wlll: BryanWB__: Are you not deploying with capistrano or similar?
[2013-01-23 11:35:56 -0500] BryanWB__: wlll: we use jenkins for deploys, not sure if it is best solution tho
[2013-01-23 11:36:29 -0500] wlll: A mixture of interesting and crazy :)
[2013-01-23 11:36:43 -0500] wlll: I didn't even know jenkins could do that
[2013-01-23 11:36:45 -0500] BryanWB__: wlll: hard to say for me :/, i don't manage the deploys
[2013-01-23 11:37:08 -0500] BryanWB__: wlll: it gives my devs a button they can use to deploy their changes w/ hot deploy
[2013-01-23 11:37:20 -0500] BryanWB__: we rarely do schema changes afaik
[2013-01-23 11:37:20 -0500] kernel_panik: nice!
[2013-01-23 11:37:29 -0500] BryanWB__: kernel_panik: hah :) i m not sure
[2013-01-23 11:37:35 -0500] wlll: All our devs deploy, we just use cap
[2013-01-23 11:37:43 -0500] BryanWB__: cap is probably better
[2013-01-23 12:23:08 -0500] daxroc: With environments, you can have per environment cookbook versions. How is the versioning handled here, do I need to maintain multiple copies of cookbooks ?
[2013-01-23 12:26:22 -0500] kechagia: BryanWB__: thanks, that was my thought as well, just thought it's more "clean" to put it on the same server without having to setup another httpd..
[2013-01-23 12:26:26 -0500] kechagia: thanks
[2013-01-23 12:26:54 -0500] BryanWB__: kechagia: sure, but u don't already have an httpd server for this purpose?
[2013-01-23 12:27:29 -0500] BryanWB__: kechagia: pre-chef i used to host all our installable sw on httpd server, accessed by horrible bash scripts taht i wrote
[2013-01-23 12:28:26 -0500] kechagia: BryanWB__: i have an httpd, but it's for wiki purposes so I think i should setup something else. I didn't use third-party software till now, so I could always just use the system repos for installing it and then configure it using dust-deploy/chef
[2013-01-23 12:31:30 -0500] datadevil: hi. Is it normal for a role file to have a mix of JSON attributes/values at the top and then a Ruby DSL format runlist?
[2013-01-23 12:32:03 -0500] datadevil: this is on a node managed by Chef Solo btw
[2013-01-23 13:16:22 -0500] kesor: how can I use chef-solo with the opscode users cookbook? it needs the "if chef solo" removed from the code, but I don't want to use a customized version of it. I want to have a normal upgrade path.
[2013-01-23 13:21:25 -0500] wlll: kechagia: We have an apt repo and also packages/files stored on NFS available to all servers
[2013-01-23 13:39:10 -0500] gyre007: guys Im trying to work on some Sinatra app recipe...and Im trying to modify the Gemfile so that it includes unicorn...for some reason my ruby_block does not execute https://gist.github.com/4605668
[2013-01-23 13:39:25 -0500] gyre007: even though the condition SHOULD evaluate to true...
[2013-01-23 13:39:25 -0500] gyre007: mm
[2013-01-23 13:51:45 -0500] gyre007: Gemfile DOES exist in the given path when I print it out like thi https://gist.github.com/4605668 then it DOES print out the correct path...
[2013-01-23 13:52:41 -0500] gyre007: arrrgh
[2013-01-23 13:52:50 -0500] gyre007: action :nothing...im not notifying it...darn
[2013-01-23 13:52:51 -0500] gyre007: :(
[2013-01-23 13:52:53 -0500] gyre007: #fail
[2013-01-23 14:27:44 -0500] renchap: does somebody have a pointer on a working sinatra webapp that uses chef api ?
[2013-01-23 14:28:13 -0500] renchap: (i want to change some node attributes in a custom sinatra app, and requiring chef makes the webapp crash, probably due to logger conflicts)
[2013-01-23 14:34:20 -0500] gyre007: can someone tell mw why is execute resource running in ROOT's home directory when compiled resource clearly shows that it should run in a completely different directory ?
[2013-01-23 14:34:23 -0500] gyre007: arrgh
[2013-01-23 14:34:44 -0500] gyre007: https://gist.github.com/4606496
[2013-01-23 14:35:43 -0500] gyre007: basically im trying to run bundle install as a certain user but instead bundle is run as a given user but in root's home directory hence I'm getting Errno::EACCES: Permission denied - /root/.bundler
[2013-01-23 14:53:34 -0500] teukka: gyre007: try setting `environment 'HOME' => node[:gdash][:home_dir]`
[2013-01-23 14:58:16 -0500] jtimberman: kesor: that cookbook (users) was pretty specifically intended to use a Chef Server for search. That said, to use it with solo, edit the providers/manage.rb and remove the if statement that checks for Chef solo.
[2013-01-23 14:58:49 -0500] bubu: hi guys, anyone here use the chef server backup script from opscode?
[2013-01-23 14:58:49 -0500] jtimberman: And load the data bag items directly with the data_bag and data_bag_item recipe methods.
[2013-01-23 14:58:50 -0500] kesor: jtimberman: but I don't want to edit it and store the custom version in my vcs
[2013-01-23 14:59:12 -0500] kesor: jtimberman: it works fine with chef-solo-search when the "if" clauses are removed.
[2013-01-23 15:00:08 -0500] kesor: its a case of "less = more". the conditionals in there are not needed, and cause a problem instead of solving one.
[2013-01-23 15:02:25 -0500] version2beta: I notice that the apt cookbook doesn't support apt-get upgrade, so I added an execute statement. When it gets to update-grub, it craps out. I can use some environment vars to get around this but I wonder am I doing it wrong?
[2013-01-23 15:02:56 -0500] bubu: jtimberman, we're using hosted chef but want to backup the chef server data bags, node data and roles and push them to github for version control. I have found the backup script on opscode but am wondering if I am able to run this from a box from within our infrastructure, not local box?
[2013-01-23 15:03:51 -0500] jtimberman: bubu: what do you mean, not a local box?
[2013-01-23 15:04:02 -0500] jtimberman: version2beta: i'd handle OS upgrades out of band from Chef.
[2013-01-23 15:04:21 -0500] jtimberman: version2beta: or, use 'action :upgrade' on packages you want to ensure are the latest version when Chef runs.
[2013-01-23 15:04:35 -0500] jtimberman: kesor: is anything aside from removing the if statement required?
[2013-01-23 15:04:42 -0500] jtimberman: kesor: in the 'users' cookbook?
[2013-01-23 15:04:48 -0500] jtimberman: or does chef-solo-search just work?
[2013-01-23 15:04:57 -0500] jtimberman: i've never used it.
[2013-01-23 15:05:22 -0500] kesor: jtimberman: well, for some reason the manage_home=>true is not working either, but I'm not sure that it affects anyone other than me. about the if Chef::Config[:solo], I see someone else also opened a pull request about it two days ago.
[2013-01-23 15:05:48 -0500] bubu: jtimberman, can I run that backup script from a node within our infrastructure? using a read only user and different key?
[2013-01-23 15:06:05 -0500] jtimberman: kesor: Did they create a ticket and set it to "Fix Provided"?
[2013-01-23 15:06:45 -0500] kesor: jtimberman: seriously. please. if they didn't, can't you?  also, its not my pull request so I don't know if they followed the protocol.
[2013-01-23 15:06:48 -0500] jtimberman: bubu: i'd run it from a local workstation as my hosted chef user.
[2013-01-23 15:07:25 -0500] bubu: really looking for it to be done from a box in our infrastructure...
[2013-01-23 15:08:27 -0500] version2beta: jtimberman, that makes sense, I can pick and choose. Thank you.
[2013-01-23 15:08:54 -0500] geekbri: Can you use a local variable from a recipe inside of a ruby_block  without issue?
[2013-01-23 15:09:09 -0500] cwj: geekbri: i dont think that works
[2013-01-23 15:09:24 -0500] geekbri: Yeah I suspected as much.
[2013-01-23 15:11:48 -0500] bubu: jtimberman, is it possible to create a read only user that uses a different .pem?
[2013-01-23 15:24:33 -0500] jtimberman: kesor: This pull request? https://github.com/opscode-cookbooks/users/pull/22
[2013-01-23 15:25:10 -0500] jtimberman: respond_to?(:search) will return true, as that method is defined in the DSL no matter if solo is true or no.
[2013-01-23 15:25:42 -0500] kesor: jtimberman: yes, as I said, its not mine so no idea if its any good  its just an indicator that the pain is there.
[2013-01-23 15:26:04 -0500] jtimberman: Ok. I'll follow up with this then.
[2013-01-23 15:28:09 -0500] jwitrick: Question: when using shef -z -c .... can i not have a line 'Chef::Application::fatal!'  ?
[2013-01-23 15:28:27 -0500] jwitrick: I keep getting error msg 'Chef::Application'
[2013-01-23 15:31:32 -0500] jtimberman: But please understand that we have 135 cookbooks, most of them receive pull requests, and we use our ticket system for tracking because it has a workflow we've tuned for how we manage the projects. Also, I don't use chef-solo-search, so I can only guess as to how well that's going to work for any given cookbook. If you can provide additional commentary on that pull request that'd be helpful.
[2013-01-23 15:32:16 -0500] kesor: jtimberman: thanks
[2013-01-23 15:38:07 -0500] chris613: Hi chefs. If I need to slightly modify an opscode cookbook, what is the convention in terms of cookbooks/ vs. site-cookbooks/, and is there anything built-in to help manage updates to the upstream version?
[2013-01-23 15:40:20 -0500] Guest14690: Hi - Anyone using the knife vsphere plugin?
[2013-01-23 15:40:20 -0500] kesor: chris613: for simple changes, checkout chef-rewind that allows you to create mycompany-opscookbook kinds of cookbooks that still use the upstread cookbooks but change them slightly.
[2013-01-23 15:40:46 -0500] chris613: kesor: Thanks I'll check that out
[2013-01-23 15:47:56 -0500] chris613: kesor: This is interesting stuff. If I can't do what I need to do using chef-rewind, THEN what do you recommend. ;) This will work for lots of what we need, though
[2013-01-23 15:49:31 -0500] kesor: chris613: yeah, unfortunately I also have this kind of problem, I want to use the opscode cookbooks and upgrade them as they fix bugs  but on the other hand I often must change the code in such a way that chef-rewind does not allow. Still looking for a way to do that without forking the project.
[2013-01-23 15:53:54 -0500] cassianoleal: is it possible to search for nodes based on a specific recipe?
[2013-01-23 16:05:52 -0500] kechagia: another question: is it (conveniently) possible to upload files from chef-client to the chef server? (relatively small, binary files)
[2013-01-23 16:05:59 -0500] kechagia: in data bags or so
[2013-01-23 16:12:00 -0500] makerbreakr: how woudl you guys go about approaching a recipe, that needs to delete a file at 8P and recreate it at 8A?
[2013-01-23 16:12:15 -0500] makerbreakr: cron cookbook?
[2013-01-23 16:12:33 -0500] kesor: makerbreaker: use cron
[2013-01-23 16:12:41 -0500] kechagia: makerbreakr: cron, yes.
[2013-01-23 16:13:16 -0500] makerbreakr: if I needed to set the hours dynamically, put the hours in a databag?
[2013-01-23 16:13:23 -0500] makerbreakr: ie, from an external webapp?
[2013-01-23 16:18:24 -0500] kesor: makerbreaker: make the cron check via some API for the exact hour it should act on
[2013-01-23 16:26:25 -0500] Toger: Is it possible to reference node attributes inside the default-attributes block of a role JSON?
[2013-01-23 16:37:05 -0500] Unicron_:  /msg NickServ identify teuqcvqqsiyt
[2013-01-23 16:38:26 -0500] Unicron_: just showing you all my password <d'oh>
[2013-01-23 16:57:31 -0500] joel: lol
[2013-01-23 16:57:40 -0500] fullofcaffeine: Hello
[2013-01-23 16:58:11 -0500] fullofcaffeine: Guys, I'm using knife-solo and when cooking a node, I'm getting the following error: NameError: Cannot find a resource for converge on ubuntu version 11.04
[2013-01-23 16:58:41 -0500] fullofcaffeine: Here's the backtrace: http://pastie.org/private/vru1b7nxnbqap9smszl1a
[2013-01-23 16:58:53 -0500] gyre007: does anyone know why would git resource NOT checkout code from github ? Int the logs it says it is checking out but in reality it does nothing..
[2013-01-23 16:59:01 -0500] fullofcaffeine: Using Chef 10.18.2
[2013-01-23 16:59:24 -0500] fullofcaffeine: And knife-solo 0.1.0
[2013-01-23 16:59:36 -0500] joel: gyre007: bad url?
[2013-01-23 16:59:48 -0500] gyre007: Im using the following code https://gist.github.com/4609910
[2013-01-23 16:59:52 -0500] jbz: fullofcaffeine: I think that error means that somewhere, your chef is expecting to find a resource (like a template or something) which is versioned for ubuntu 11.04 and can't find it either there or in the 'default' folder
[2013-01-23 16:59:56 -0500] fullofcaffeine: It used to work fine, but started breaking now that I started to use this specific cookbook again. I suspect it has to do with Chef updates. Any help appreciated.
[2013-01-23 17:00:02 -0500] gyre007: joel: if it was bad URL then i would get an error
[2013-01-23 17:00:46 -0500] fullofcaffeine: jbz, Hi. Yes, that crossed my mind, but this cookbook worked fine two months ago. I didn't change it.
[2013-01-23 17:01:07 -0500] jbz: fullofcaffeine: ah.
[2013-01-23 17:01:13 -0500] fullofcaffeine: I've seen similar errors with "converge_by", and it seems it was caused by the new why_run thing
[2013-01-23 17:01:20 -0500] fullofcaffeine: (by googling)
[2013-01-23 17:02:06 -0500] fullofcaffeine: But this one looks slightly different. I'm using the latest Chef client from omnibus in the node. Not sure what to do.
[2013-01-23 17:04:45 -0500] gyre007: git just doesn't do anything :) https://gist.github.com/4609910
[2013-01-23 17:05:30 -0500] gyre007: unless Github is in shambles again
[2013-01-23 17:05:41 -0500] mjolk: gyre007: what do you mean "github in shambles?"
[2013-01-23 17:05:45 -0500] gyre007: but in that case I guess Id get a timeout error ?
[2013-01-23 17:06:08 -0500] mjolk: is that directory empty?
[2013-01-23 17:06:21 -0500] gyre007: mjolk: yup! :)
[2013-01-23 17:06:28 -0500] mjolk: do you need to clone it first?
[2013-01-23 17:07:01 -0500] gyre007: doesnt git resource do that automatically ?
[2013-01-23 17:07:08 -0500] mjolk: not sure, i was asking.
[2013-01-23 17:07:21 -0500] gyre007: i never had to clone first via Chef....
[2013-01-23 17:07:22 -0500] jbz: I think the git resource does the clone if there is no .git
[2013-01-23 17:07:31 -0500] gyre007: I think so too
[2013-01-23 17:07:38 -0500] gyre007: but in this case it doesnt do anything :)
[2013-01-23 17:07:40 -0500] jbz: ugh
[2013-01-23 17:10:04 -0500] gyre007: but why Chef doesn't print out any error...
[2013-01-23 17:10:07 -0500] gyre007: strange
[2013-01-23 17:14:44 -0500] gyre007: BIG QUESTION....does CHECKOUT in git works IF the directory into which youre trying to check out into already exists ?? even though it's empty ?? it looks like it does not...that would just....wrong...
[2013-01-23 17:15:28 -0500] gyre007: OMG
[2013-01-23 17:15:55 -0500] gyre007: git resource basically doesnt do ANYTHING if you want it to checkout code into directory which DOES EXIST but it's empty :-)
[2013-01-23 17:15:59 -0500] gyre007: thats just wrong
[2013-01-23 17:16:17 -0500] gyre007: VERY WRONG
[2013-01-23 17:16:49 -0500] ryduh: gyre007: i don't believe it is
[2013-01-23 17:16:55 -0500] gyre007: ryduh:
[2013-01-23 17:16:58 -0500] ryduh: you can't git clone into an existing directory
[2013-01-23 17:16:59 -0500] gyre007: i just verified that ;)
[2013-01-23 17:17:03 -0500] ryduh: or, don't normally
[2013-01-23 17:17:08 -0500] ryduh: i don't believe it's wrong
[2013-01-23 17:17:42 -0500] gyre007: well how do you checkout the code so that's owned by certain user ? you need to create a directory and checkout into it...
[2013-01-23 17:18:03 -0500] gyre007: as given user/owner
[2013-01-23 17:18:22 -0500] gyre007: otherwise Chef checks out as root...so all files are owned by root...
[2013-01-23 17:19:19 -0500] teukka: ryduh: sure you can clone or checkout to an empty directory using git
[2013-01-23 17:19:35 -0500] gyre007: teukka: thanks
[2013-01-23 17:21:54 -0500] teukka: gyre007: but I have never used the git resource
[2013-01-23 17:22:27 -0500] gyre007: im doing some hacking around it...i hate hacking around...basic stuff should work
[2013-01-23 17:24:43 -0500] rye_: Hi, I'm trying to provision an EC2 instance with "knife ec2 server create", and I keep getting stuck at the SSH point with a "Failed to authenticate ubuntu - trying password auth". I have correctly configured my AWS EC2 ssh key pair, and can directly log in to an EC2 instance with it after the chef bootstrap fails. Any ideas?
[2013-01-23 17:25:13 -0500] rye_: The only thing I've done is upgrade the chef (and related) gems on my laptop that I use for provisioning.
[2013-01-23 17:28:23 -0500] Anentropic: anyone know how to get logging from a recipe file working? the docs seem to say it's possible
[2013-01-23 17:29:18 -0500] Anentropic: eg  Chef::Log.info("SOMETHING before_restart")
[2013-01-23 17:29:44 -0500] Anentropic: I have log_level debug set and see DEBUG logging from Chef code, but not from my recipe
[2013-01-23 17:33:31 -0500] alexKarp: Can anyone help me with a small problem? I'm wondering if there's any way to just run a single chef recipe on a node, rather than the entire runlist?
[2013-01-23 17:35:37 -0500] jbz: alexKarp: You can run chef-client with -j, pass in json attributes, and in those attributes set the runlist to be only the cookbook you want...?
[2013-01-23 17:35:50 -0500] alexKarp: hey, that sounds like a fine way to do it
[2013-01-23 17:35:51 -0500] alexKarp: thanks
[2013-01-23 17:35:57 -0500] jbz: yw!
[2013-01-23 17:38:49 -0500] logikal: alexKarp: One caveat to running chef-client with -j is that it will update the runlist on the chef-server with the most recent runlist
[2013-01-23 17:39:03 -0500] alexKarp: haha, yeah, I just saw that in the docs
[2013-01-23 17:39:08 -0500] jbz: ooh.  Sorry, I forgot about that.
[2013-01-23 17:39:10 -0500] logikal: so any subsequent just `chef-client` runs will use that runlist
[2013-01-23 17:39:13 -0500] alexKarp: while running it in the background
[2013-01-23 17:39:23 -0500] jbz: thanks logikal
[2013-01-23 17:39:25 -0500] alexKarp: eh, it could be worse, I've got the run list dumped into a file elsewhere
[2013-01-23 17:39:36 -0500] Anentropic: can anyone help, this just doesn't work http://wiki.opscode.com/display/chef/Recipes#Recipes-ExceptionsandLogging
[2013-01-23 17:39:37 -0500] logikal: So what you could do is have a recipe that rewrites the node's runlist
[2013-01-23 17:40:10 -0500] alexKarp: logikal: I think I'm just going to make a small bash script that dumps the current run_list, replaces it with whatever I want, then reloads it on completion
[2013-01-23 17:40:59 -0500] queso: Can multiple keys be used on one node to access different databags?  Also, does a databag *item* get encrypted, or the entire *databag*?  Could you have some databag items encrypted and others not?
[2013-01-23 17:41:25 -0500] logikal: the other thing you might be able to do is use shef -z to execute the recipe, as it won't mess with the node's runlist
[2013-01-23 17:42:22 -0500] logikal: (I'm also trying to figure out the best way to do this :] )
[2013-01-23 17:46:27 -0500] Anentropic: ok, I see latest docs are moved to http://docs.opscode.com/essentials_cookbook_recipes_handlers_and_logs.html
[2013-01-23 17:47:07 -0500] alexKarp: are there docs on -z?
[2013-01-23 17:47:10 -0500] Anentropic: so here's the weird thing, if I do Chef::Log.fatal!('something bad') as per the docs, I get
[2013-01-23 17:47:11 -0500] Anentropic: FATAL: NoMethodError: undefined method `fatal!' for #<Logger:0x7f4fe2c1cb70>
[2013-01-23 17:47:33 -0500] Anentropic: but if I do Chef::Log.fatal('something bad') I get nothing logged and the chef run completes
[2013-01-23 17:48:16 -0500] alexKarp: oh nvm, that wasn't a typo of chef, shef is the standalone chef
[2013-01-23 17:48:22 -0500] Anentropic: Chef 10.14.2 running under Vagrant, is this an old version? have things changed since?
[2013-01-23 17:50:14 -0500] alexKarp: so logickal, as for shef -z, that's one way to do it, but if you have time constraings that might be a pain, since it has a good 20 second startup time (at least on my staging server)
[2013-01-23 17:54:19 -0500] rhodee: I'm applying the user resource and when trying to pass a string to the did I get the following error Chef::Exceptions::ValidationFailed: Option gid must be a kind of [String, Integer]!  You passed ["admins", "awesome"]. The k,v pair in my json file is "gid": ["admins", "awesome"] what is the correct construction?
[2013-01-23 17:55:12 -0500] logikal: alexKarp: what's the normal churn time for you at the beginning of a chef run? afaik, shef -z is doing the same thing at the beginning as a normal chef run (get the run list, get/verify the cookbooks, get environment attributes)
[2013-01-23 17:56:19 -0500] zts: alexKarp: /cc jbz: you want chef-client --override-runlist
[2013-01-23 17:56:32 -0500] alexKarp: Not super-short, but a fraction of that time, afaict
[2013-01-23 17:56:33 -0500] zts: alexKarp: that will use the runlist you specify for that run only
[2013-01-23 17:56:36 -0500] alexKarp: zts: cool
[2013-01-23 17:56:42 -0500] alexKarp: that's awesome.
[2013-01-23 17:57:03 -0500] jbz: zts:  thanks!
[2013-01-23 17:57:21 -0500] logikal: zts: thanks for that!
[2013-01-23 17:57:34 -0500] zts: no problem :)
[2013-01-23 17:59:27 -0500] alexKarp: wow, which ones
[2013-01-23 18:52:43 -0500] dotslash: If I use knife bootstrap to install chef-client, should the client actually be running in a way that it checks with the server at regular intervals? Or is there additional configuration that needs to be done to make it actually run regularly?
[2013-01-23 18:56:20 -0500] cheesepl_: dotslash: that will just get it installed, you'd want to use the chef-client cookbook https://github.com/opscode/cookbooks/blob/master/chef-client/ or something similar
[2013-01-23 18:56:52 -0500] jtimberman: cheesepl_: don't use the github.com/opscode/cookbooks repo for cookbooks :)
[2013-01-23 18:57:09 -0500] cheesepl_: jtimberman: bah, it was first on the google!
[2013-01-23 18:57:49 -0500] cheesepl_: dotslash: right link https://github.com/opscode-cookbooks/chef-client
[2013-01-23 18:57:57 -0500] dotslash: Ah ok. So bootstrap with install it, but I still need a cookbook to configure it?
[2013-01-23 18:58:34 -0500] jtimberman: the right link is http://community.opscode.com/cookbooks/chef-client :-D
[2013-01-23 18:58:49 -0500] jtimberman: (the github repository is the development repo, the community site is the released version)
[2013-01-23 18:59:59 -0500] cheesepl_: dotslash: the cookbook is the easiest way and you can just make that part of the bootstrap
[2013-01-23 19:00:40 -0500] cheesepl_: the alternative is cron'ing it, which is useful if you have multiple chef-clients on a single box
[2013-01-23 19:01:16 -0500] dotslash: Thanks. "Make that part of the bootstrap" does that mean to make it part of the bootstrap command line or does that mean to setup the server to always install that particular cookbook with new clients?
[2013-01-23 19:01:18 -0500] geekbri: So with the newest chef (10.18.2) What are all these resource cloning warnings that I am getting spit out at me.  Or better yet what exactly are they trying to warn me about as the Jira ticket isn't clear to me
[2013-01-23 19:02:56 -0500] teukka: jtimberman: have you thought about nuking the old cookbooks repo? It is really confusing especially as it is high on google rank as shown
[2013-01-23 19:02:59 -0500] cheesepl_: dotslash: you can modify the template for the platform or you can use the command line option "-r" to set it
[2013-01-23 19:03:26 -0500] fullofcaffeine: jbz: I can confirm the issue is related to the newer Chef versions. I used the --omnibus-version flag for knife-solo and used Chef 10.14.4 on my node, and now it worked flawlessly. I'll just keep using Chef 10.14.4 for now.
[2013-01-23 19:03:28 -0500] cheesepl_: as with many things in Chef there are a few ways to to do it
[2013-01-23 19:03:45 -0500] dotslash: Thanks cheesepl!
[2013-01-23 19:03:54 -0500] jbz: fullofcaffeine: Ah, good to know . Thanks for the report.
[2013-01-23 19:06:12 -0500] teukka: fullofcaffeine: maybe you could file a ticket for the cookbook then?
[2013-01-23 19:13:12 -0500] kallistec: geekbri: you can follow all the related tickets to get an idea of what's going on. Also, I wrote a longer explanation of the problem as a preface for my (not written) proposal about how to fix it: https://gist.github.com/30a8719901eca6545488
[2013-01-23 19:13:49 -0500] geekbri: kallistec: thanks.  I'll read that now
[2013-01-23 19:15:48 -0500] geekbri: kallistec: thanks, that made it drastically more clear than the ticket.
[2013-01-23 19:20:05 -0500] jtimberman: it is worth noting that the resource cloning is a desirable feature of chef, especially when it comes to state transitions of resources during a single run, like when you need to move mysql's data directory elsewhere, and want to do it in a single chef run.
[2013-01-23 19:21:13 -0500] kallistec: jtimberman: can you explain that maybe as comment on the gist? I don't understand what people need this feature for now that notifications are sane
[2013-01-23 19:21:53 -0500] jtimberman: kallistec: sure.
[2013-01-23 19:22:33 -0500] jtimberman: it's not necessarily based on notifications, though that may give a user better control
[2013-01-23 19:24:25 -0500] kallistec: jtimberman: yeah, reading holoway
[2013-01-23 19:24:53 -0500] kallistec: ... holoway's comments on the first ticket, it seems misleading to use the word notifications in this context at all
[2013-01-23 19:26:07 -0500] kallistec: what's going on IMO is that, for convenience, chef creates a resource and puts it in the resource collection at the same time. It might be that you want to split those operations up for some use cases
[2013-01-23 19:26:14 -0500] zenloop: hey guys, I am having trouble trying to remove a recipe after the recipe has been completed.  I believe I have to setup a notify to make everything happen after the script has finished.  The following is what I have.  Note that this is the last part of the recipe and that all the steps are above: http://pastie.org/5838932#
[2013-01-23 19:27:09 -0500] zenloop: Any ideas?
[2013-01-23 19:27:47 -0500] kallistec: or, another way of putting it, the resource collection is both a thing that provides access to all resources and an ordered list of resource+action pairs. You could split those responsibilites.
[2013-01-23 19:27:48 -0500] jtimberman: kallistec: https://gist.github.com/30a8719901eca6545488#comment-748370
[2013-01-23 19:28:38 -0500] jtimberman: it is very likely that service[mysql] is also defined from the mysql::server recipe.
[2013-01-23 19:29:32 -0500] jtimberman: we also use this in a number of places to enable a service, write configuration as templates, then start it, and not have the start beforehand in case the configuration file was unreadable or otherwise broken, causing the service to not start
[2013-01-23 19:31:30 -0500] kallistec: jtimberman: got it. Left myself a note in a reply comment
[2013-01-23 19:35:12 -0500] Anentropic: jtimberman is it possible to log messages from inside a recipe, like it says in the docs? does not work for me Chef 10.14.2 (Solo)
[2013-01-23 19:36:54 -0500] kallistec: Anentropic: log resource or Chef::Log.warn both work, but at different phases of the chef run
[2013-01-23 19:37:27 -0500] Anentropic: the docs say you can Chef::Log.warn from a recipe but it doesn't work... what is the other syntax?
[2013-01-23 19:37:37 -0500] Anentropic: just `log "my message"` ?
[2013-01-23 19:37:43 -0500] jwcarman: If I use Chef::Log, do those log entries make it into syslog?
[2013-01-23 19:37:46 -0500] kallistec: Anentropic: look higher in the log output.
[2013-01-23 19:37:59 -0500] Anentropic: kallistec it's not anywhere in the log output
[2013-01-23 19:38:01 -0500] kallistec: Anentropic: that will occur in the compile phase
[2013-01-23 19:38:28 -0500] Anentropic: I am running Chef Solo under Vagrant, does that make a difference?
[2013-01-23 19:38:37 -0500] kallistec: Anentropic: should not
[2013-01-23 19:40:35 -0500] Anentropic: actually yeah, there it is near the top... it's the logging from in my application block that doesn't come out
[2013-01-23 19:41:19 -0500] Anentropic: kallistec thanks, this get's me slightly further
[2013-01-23 19:41:48 -0500] Anentropic: my problem is somewhere with the application cookbook, as usual
[2013-01-23 19:43:14 -0500] rhodee: is there a way to check for partial string matches in default[:node][:name]? I am attempting to bypass a series of commands if the node being built contains the chars 'db'
[2013-01-23 19:49:51 -0500] holoway: rhodee: you can use a regular expression
[2013-01-23 19:50:01 -0500] holoway: rhodee: if node.name =~ /db/
[2013-01-23 19:50:14 -0500] maplebed: I think I'm misunderstanding the apt_repository LWRP.  Adding a new repo doesn't seem to trigger an apt-get update, so my package is not getting found.
[2013-01-23 19:51:09 -0500] maplebed: if I first add the repo then add the package later, everything works since the first run drops the file in /etc/apt/ and the second runs an update (as a regular part of the chef run).
[2013-01-23 19:51:12 -0500] maplebed: any suggestions?
[2013-01-23 19:51:49 -0500] rhodee: holoway: I actually had this -> unless default[:node][:name] =~ /\d*?db/i
[2013-01-23 19:52:31 -0500] rhodee: My issue is pulling the entire name from the match
[2013-01-23 19:52:36 -0500] maplebed: * already means 0 or more; why have *? ?
[2013-01-23 19:54:29 -0500] c_t: ? makes it less greedy
[2013-01-23 19:55:04 -0500] jtimberman: maplebed: are you using 1.8.0?
[2013-01-23 19:55:06 -0500] jtimberman: of the apt cookbook
[2013-01-23 19:55:33 -0500] maplebed: jtimberman: yes.  err...  maybe.
[2013-01-23 19:55:44 -0500] jtimberman: maplebed: there was a regression.
[2013-01-23 19:55:55 -0500] maplebed: ah.
[2013-01-23 19:56:33 -0500] rhodee: good catch maplebed, any ideas as to how to first detect present of substring and then capture entire surrounding string
[2013-01-23 19:57:03 -0500] bakins: jtimberman: ETA on fix? I thought I was crazy bcs I saw same thing happen
[2013-01-23 19:57:13 -0500] maplebed: c_t: is that an effect of it's "zero or one of the preceeding thing" or some other meaning for '?'?
[2013-01-23 19:57:24 -0500] c_t: another meaning
[2013-01-23 19:57:41 -0500] maplebed: cool.  thanks.
[2013-01-23 19:59:06 -0500] jtimberman: bakins: there's a fix in this pull request: https://github.com/opscode-cookbooks/apt/pull/31
[2013-01-23 19:59:34 -0500] jtimberman: dunno about this bit though :) +  raise RuntimeError, "WTF?" if @repo_file.nil?
[2013-01-23 19:59:51 -0500] maplebed: rhodee: read up on http://www.ruby-doc.org/core-1.9.3/Regexp.html, particularly the 'capturing' section.
[2013-01-23 20:00:03 -0500] btm: @opscode #opschef code review. join: http://bit.ly/V7DrVw watch: http://youtu.be/Rl-y4KGRGN4
[2013-01-23 20:00:11 -0500] maplebed: the =~ is just the regular ruby operator, not something special to chef.
[2013-01-23 20:00:23 -0500] rhodee: as soon as I looked at what I typed it I opened the docs - it's just Ruby thanks maplebed
[2013-01-23 20:00:41 -0500] maplebed: yw.
[2013-01-23 20:00:50 -0500] bakins: jtimberman: should I just go back to 1.7.0 for now?
[2013-01-23 20:01:06 -0500] jtimberman: rhodee: in chef, the node's name is accessed in a recipe with: node.name, btw. "default[:node][:name]" would set an attribute on the node like, node[:node][:name]
[2013-01-23 20:01:12 -0500] jtimberman: bakins: ya
[2013-01-23 20:01:15 -0500] jtimberman: bakins: sorry about that :(
[2013-01-23 20:01:30 -0500] bakins: jtimberman: no worries - just nice to know I'm not insane ;)
[2013-01-23 20:03:26 -0500] rhodee: jtimberman losing that fresh noob scent by the second, thank you all!
[2013-01-23 20:04:57 -0500] bwong: hey, anybody here? I need advice
[2013-01-23 20:05:30 -0500] c_t: Confidential to bwong: They may be optional, but I cannot stress the importance of wearing pants in public for you.
[2013-01-23 20:06:52 -0500] bwong: i don't even know what that means c_t
[2013-01-23 20:07:06 -0500] jtimberman: bwong: it was advice :)
[2013-01-23 20:07:16 -0500] doomviking: haha
[2013-01-23 20:07:53 -0500] cassianoleal: hey guys anyone knows if the deploy resource checks that it actually needs to deploy before cloning from git?
[2013-01-23 20:08:03 -0500] bwong: so anyways
[2013-01-23 20:08:10 -0500] cassianoleal: it seems to me like it's always deploying, even though it already has the latest revision
[2013-01-23 20:08:46 -0500] gswallow: Is there a quick way to load your environment settings in shef?
[2013-01-23 20:11:59 -0500] gswallow: indeed there is
[2013-01-23 20:16:42 -0500] freezey: for recursive directory creation/ownership was there an agreement?
[2013-01-23 20:18:00 -0500] zenloop: Hey guys, how do I remove a recipe from the recipe list after the recipe has run?
[2013-01-23 20:18:20 -0500] ortho_stice: cassianoleal : what is the action on the git resource?  :sync says to always check for the latest, :checkout says don't if it has already been cloned
[2013-01-23 20:20:34 -0500] cassianoleal: ortho_stice: no idea, as I'm not using it directly I'm using the deploy resource, which might use the git resource underneath, but I haven't digged that much
[2013-01-23 20:21:04 -0500] cassianoleal: I've just found that there are two different providers, one is timestamp based (default), and the other is revision based
[2013-01-23 20:21:04 -0500] ortho_stice: Yesterday I mentioned making an LWRP to perform partial edits on XML files, like Chef::Util::FileEdit.  That whole idea is fraught with peril, but if one were to do that, what's the best way?  I've proposed an interface at https://github.com/clintoncwolfe/xml_edit - I'm very eager to hear feedback/suggestions, before I go and actually implement it
[2013-01-23 20:21:13 -0500] cassianoleal: I'm trying the second one now
[2013-01-23 20:21:57 -0500] ortho_stice: cassianoleal: I've always just used the got resource directly, I may not be of much help on the deploy resource.
[2013-01-23 20:22:41 -0500] cassianoleal: ortho_stice: no probs, I'll keep running some tests, thanks!
[2013-01-23 20:23:25 -0500] jbz: General question for all users of T3H KLOWD.  Do you do orchestration tasks involving multiple infrastrucure providers (compute, dns, db, etc)?  If so, do you have a preferred tool/framework for those orch tasks?  Ironfan, Chef, something else?
[2013-01-23 20:36:48 -0500] maplebed: zenloop: maybe you're thinking of 'knife node edit'?
[2013-01-23 20:40:22 -0500] freezey: if i wanted to set a custom variable in chef something like custom = "bash command"
[2013-01-23 20:40:23 -0500] freezey: is this possible?
[2013-01-23 20:40:40 -0500] alexKarp: where do you want to set it?
[2013-01-23 20:40:43 -0500] alexKarp: just in a recipe?
[2013-01-23 20:40:45 -0500] freezey: in the recipe
[2013-01-23 20:40:48 -0500] freezey: yeah
[2013-01-23 20:40:49 -0500] freezey: so
[2013-01-23 20:40:51 -0500] alexKarp: yeah, chef is ruby
[2013-01-23 20:41:04 -0500] alexKarp: so you can treat it like ruby
[2013-01-23 20:41:08 -0500] freezey: k thanks
[2013-01-23 20:41:42 -0500] freezey: i figured as much
[2013-01-23 20:41:45 -0500] freezey: just wanted to make sure
[2013-01-23 20:41:50 -0500] freezey: migrating everything from puppet so
[2013-01-23 20:41:57 -0500] freezey: curious
[2013-01-23 20:43:47 -0500] cassianoleal: how can I schedule something to run at some point in the future? I've tried putting this https://gist.github.com/4612890 in a recipe, but it doesn't create the at job
[2013-01-23 20:44:42 -0500] alexKarp: you could be sort of janky and fork off a shell script that checks the time and then just sleeps until it's time to exec
[2013-01-23 20:44:51 -0500] alexKarp: or you could use cron
[2013-01-23 20:45:44 -0500] maplebed: cassianoleal: in theory your at job should work.  you've got an error there somewhere but I don't see it. I'd guess it's the here-doc format.
[2013-01-23 20:48:39 -0500] Jon__: Hi, I keep coming across the error, RuntimeError: Please save server before accessing metadata, when I try to create a new server instance (Rackspace) but I can't seem to find any Google results for it.
[2013-01-23 20:49:19 -0500] cassianoleal: maplebed: that's the same heredoc format I use in all other bash and execute resources :-/
[2013-01-23 20:49:58 -0500] alexKarp: can you put a logging state ment of some sort before the at begins, so you know at least if the script begins executing?
[2013-01-23 20:50:35 -0500] maplebed: jtimberman: downgraded to 1.7 and it works now.  thanks.
[2013-01-23 20:52:27 -0500] jtimberman: maplebed: cool. sorry about that. in code review meetings for the next 1:10 hr, will look at COOK-2171 after
[2013-01-23 20:52:44 -0500] maplebed: fantastic.
[2013-01-23 21:01:54 -0500] cassianoleal: alexKarp: it didn't work either, I'll have to take some more time debugging tx for the tip
[2013-01-23 21:02:12 -0500] alexKarp: bummer; good luck
[2013-01-23 21:02:39 -0500] btm: @opscode #opschef cookbook review starting shortly: join: http://bit.ly/UlwK4R watch: http://youtu.be/CW390PbUn0w
[2013-01-23 21:03:04 -0500] Jon__: Any ideas on the "RuntimeError: Please save server before accessing metadata" I'm receiving?
[2013-01-23 21:15:58 -0500] djdarkbeat: Anyone having problems with the percona cookbooks after the January percona updates to 5.5.28 and on?
[2013-01-23 21:33:21 -0500] tray128: anyone know a website that has general questions/answers to interview questions for sys admins/devops?
[2013-01-23 21:34:58 -0500] caleb_: tray128: If you want to move beyond Q/A and do hands on interviews you should checkout http://trueability.com/
[2013-01-23 21:35:45 -0500] tray128: thanks caleb_
[2013-01-23 21:37:23 -0500] organicveggie: dumb question. :) we've been using 389 DirSrv with pam_ldap to manage access to our linux boxes. i'm tired of maintaining ldap servers. what are other chef users doing? straight password/user management through Chef? if so, any particular recipes?
[2013-01-23 21:38:31 -0500] doomviking: users cookbook, ssh keys
[2013-01-23 21:38:44 -0500] doomviking: no f'ing passwords ;)
[2013-01-23 21:39:02 -0500] organicveggie: doomviking: :)
[2013-01-23 21:40:54 -0500] organicveggie: doomviking: and that works well for removing users as well?
[2013-01-23 21:41:45 -0500] doomviking: organicveggie: yep. see http://community.opscode.com/cookbooks/users
[2013-01-23 21:49:07 -0500] djdarkbeat: related to the percona cookbooks it looks like this is the latest on the issue http://www.perconaforum.com/index.php?t=msg&goto=10280&
[2013-01-23 21:50:46 -0500] RobertD: is there a way to distrobute deb packages with the cookbook? This cookbook https://github.com/Webtrends/Cookbooks/tree/master/storm has a debs folder but I can not figure out how to use packages from it. The recipe is using package resource
[2013-01-23 21:52:02 -0500] miah: RobertD: you could host your own local apt repository, or include the file in your cookbook as a 'file' but its really not recommended
[2013-01-23 21:53:24 -0500] RobertD: So the only "right" way is to compile from source if the package is not available in os repository? Also is ok to use execute for autogen.sh and ./configure, make etc.?
[2013-01-23 21:57:00 -0500] chris613: RobertD: I have use a remote_file resource to retreive the .deb and then a package resource to install it
[2013-01-23 21:57:29 -0500] maplebed: using the java cookbook on ubuntu - $JAVA_HOME gets set to /usr/lib/jdk/default-java, but there's no symlink from there to /usr/lib/jvm/java-6-openjdk-amd64/jre.  looks like a few other folks have reported this (eg COOK-2195).  Any comments from the opscode gallery?
[2013-01-23 22:00:00 -0500] RobertD: chris613: tank you. If I still want to compile from source is a better way than using execute resource for each command? (./autogen.sh, ./configure , make, make install)
[2013-01-23 22:00:08 -0500] miah: RobertD: ya sure. you could also use the ark cookbook to do that.
[2013-01-23 22:00:40 -0500] miah: http://community.opscode.com/cookbooks/ark
[2013-01-23 22:01:30 -0500] chris613: RobertD: Not that I know of, but I'm a chef newb
[2013-01-23 22:01:48 -0500] maplebed: ah.  looks like http://tickets.opscode.com/browse/COOK-2205 provided a fix for that issue.  testing now.
[2013-01-23 22:03:27 -0500] RobertD: miah: Thank you. That is a very useful cookbook.
[2013-01-23 22:03:36 -0500] miah: indeed
[2013-01-23 22:04:49 -0500] patrocinio: Hello friends. I am stuck with an issue. After installing chef-client (10.18.2), when I first run it, I am gettting : FATAL: Errno::ECONNRESET: Connection reset by peer - SSL_connect. Any idea of what is causing it?
[2013-01-23 22:05:30 -0500] chewie71: I'm using the opscode users cookbook.  I have a recipe that defines a new group in a users_manage block....and these don't get added to the default sudo group in Ubuntu like they do from the users::sysadmins recipe.  Is there a way to do this?
[2013-01-23 22:09:11 -0500] jtimberman: maplebed: looks like http://tickets.opscode.com/browse/COOK-2205 is already in master
[2013-01-23 22:09:21 -0500] jtimberman: i haven't tested and made a release yet
[2013-01-23 22:09:37 -0500] maplebed: yeah.  I manually patched my copy with that change and it seems to work.
[2013-01-23 22:09:46 -0500] maplebed: (the symlink exists, at least)
[2013-01-23 22:10:28 -0500] maplebed: thanks for checking
[2013-01-23 22:10:40 -0500] jtimberman: oh you mentioned that ticket :)
[2013-01-23 22:11:01 -0500] maplebed: wheee!!!!
[2013-01-23 22:12:01 -0500] leifmadsen: damn missed review for my issue :)
[2013-01-23 22:12:30 -0500] thehar: lol
[2013-01-23 22:12:55 -0500] leifmadsen: thehar: don't laugh!
[2013-01-23 22:12:56 -0500] jtimberman: leifmadsen: i think we said we'd merge it
[2013-01-23 22:13:03 -0500] leifmadsen: jtimberman: awesome
[2013-01-23 22:13:08 -0500] jtimberman: leifmadsen: something about maven
[2013-01-23 22:13:11 -0500] leifmadsen: yeppers
[2013-01-23 22:13:13 -0500] jtimberman: and a classifier
[2013-01-23 22:13:16 -0500] jtimberman: yeah
[2013-01-23 22:13:17 -0500] leifmadsen: added classifier
[2013-01-23 22:13:19 -0500] jtimberman: to merge
[2013-01-23 22:13:22 -0500] leifmadsen: rock
[2013-01-23 22:13:24 -0500] jtimberman: thanks for updating the repo
[2013-01-23 22:13:25 -0500] leifmadsen: like a boss
[2013-01-23 22:13:27 -0500] leifmadsen: np!
[2013-01-23 22:13:30 -0500] leifmadsen: thx for the review
[2013-01-23 22:13:44 -0500] jtimberman: if thing.nil? looked weird to me, but ssd7 said i'm crazy
[2013-01-23 22:14:48 -0500] leifmadsen: I only did it because someone else told me to :D
[2013-01-23 22:15:04 -0500] leifmadsen: crazy like a fox
[2013-01-23 22:15:37 -0500] jtimberman: hehe
[2013-01-23 22:32:18 -0500] queso: Is there a recommended location for storing databag keys on a node?  Say, /etc/chef/keys/bagname/itemname ?
[2013-01-23 22:33:08 -0500] blasdelf1: how do you run a recipe from within another recipe?
[2013-01-23 22:33:31 -0500] ar_: Is there a good place to find sample cookbook using dynamic attributes?
[2013-01-23 22:33:46 -0500] cassianoleal: blasdelf1: include_recipe "cookbook::recipe"
[2013-01-23 22:34:01 -0500] cheeseprocedure: blasdelf1: http://docs.opscode.com/essentials_cookbook_recipes_in_recipes.html
[2013-01-23 22:34:14 -0500] blasdelf1: perfect thanks
[2013-01-23 22:34:31 -0500] blasdelf1: I've been having bad luck finding useful things on the new docs site
[2013-01-23 22:34:54 -0500] blasdelf1: usually it's been worse than the old wiki site
[2013-01-23 22:35:00 -0500] blasdelf1: but not this time!
[2013-01-23 22:35:39 -0500] cheeseprocedure: aye, it's still a little rough around the edges :)
[2013-01-23 22:36:45 -0500] mattupstate: anyone have any suggestions on managing nodes in different environments? for example, say in my testing environment i want to deploy a mysql service on the same node as an app, but in production i want to deploy the mysql instance on a separate node?
[2013-01-23 22:39:14 -0500] doomviking: mattupstate: I have my database instances controlled through roles
[2013-01-23 22:40:07 -0500] mattupstate: doomviking: i do as well, i have all my services/apps abstracted into different roles
[2013-01-23 22:40:23 -0500] bflad_: mattupstate: I currently have database configuration controlled via data bag items
[2013-01-23 22:41:05 -0500] eliklein: anyone know the status of or a workaround for when you need to reload ohai after adding a user to access some data about this added user? (http://tickets.opscode.com/browse/CHEF-2624)
[2013-01-23 22:41:40 -0500] mattupstate: so i'm wondering if there's something out there that lets me configure the way my nodes are 'arranged' in each of my environments
[2013-01-23 22:41:42 -0500] tomdzk: mattupstate: environments work ok, though unfortunately you'll have to manage databag-per-environment content yourself
[2013-01-23 22:41:57 -0500] tomdzk: mattupstate: as in "chef environments"
[2013-01-23 22:42:42 -0500] bflad_: mattupstate: for example: https://github.com/bflad/chef-stash, if you say its a localhost database, then it'll install the database server and then configure the database and user
[2013-01-23 22:42:51 -0500] mattupstate: for instance, say i want one node to have both the mysql-service and webapp service in my testing environment but in my production environment have two nodes, one for the mysql-service and one for the webapp
[2013-01-23 22:43:04 -0500] bflad_: not the most elegant solution but is keyed per environment in the data bag.
[2013-01-23 22:45:32 -0500] queso: How can I grab a databag off the chef server to create the json file for the databag so I can check it into my chef-repo?
[2013-01-23 22:46:04 -0500] maplebed: queso: knife edit <databag> <item> then save as a local file.
[2013-01-23 22:46:39 -0500] queso: maplebed: Thanks!
[2013-01-23 22:46:43 -0500] tomdzk: queso: knife show <databag> <item> -Fj > ... will save as json ina  file
[2013-01-23 22:47:35 -0500] tomdzk: erm, knife data bag show, rather
[2013-01-23 22:47:53 -0500] queso: Right. Thanks guys.
[2013-01-23 22:48:51 -0500] cheeseprocedure: queso: take a peek at knife-essentials too. it has a few helpful shortcuts.
[2013-01-23 23:16:25 -0500] tpot: hey does anyone know if any versions of chef-server-api implement the /reports route?
[2013-01-23 23:16:52 -0500] tpot: the latest chef clients try to POST to it, but i've checked out chef 11 and can't see any sign of anyone listening
[2013-01-23 23:17:35 -0500] dgtized: I have a question about use of the depends keyword in metadata. Specifically with regards to the java cookbook, which appears to mandate pulling in the full windows cookbook stack irrespective of whether or not there is ever a need to support windows.
[2013-01-23 23:18:17 -0500] tpot: i usually comment those sorts of depends out, to avoid pulling down all the windows junk
[2013-01-23 23:18:56 -0500] dgtized: Ok, wasn't sure if there was a best-practices approach or if that's just how everyone makes due?
[2013-01-23 23:20:57 -0500] tpot: i don't know about everyone else but that's what i do!
[2013-01-23 23:21:28 -0500] tpot: it might be better handled by judicious use of the "suggests" keyword but I don't think that's implemented in the metadata DSL
[2013-01-23 23:27:52 -0500] dgtized: Hmm, well thanks. A little confused on why it's setup that way, but I guess that works.
