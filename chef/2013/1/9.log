[2013-01-09 00:03:17 -0500] Qten: jtimberman: your unbound cookbook i'm having some problems using it something about Recipe Compile Error in /var/chef/cache/cookbooks/unbound/recipes/default.rb, undefined method `[]' for nil:NilClass could this be something to do with the chef version i'm using?
[2013-01-09 00:05:54 -0500] qhartman: Qten, Kinda guessing here, but you probably don't have an attribute set that the cookbook needs
[2013-01-09 00:06:12 -0500] qhartman: Qten, that's usually the root of the problem when I run into that sort of error.
[2013-01-09 00:18:06 -0500] jkyle: are attributes set as ovverrides deep merged or do they override previous settings?
[2013-01-09 00:24:24 -0500] xmltok: i am trying to create a group, and i am only specifying the gid, but its running groupmod rather than groupadd
[2013-01-09 00:25:09 -0500] harrisony: Hi! Is there a chef best practice to deploy encrypted data bag secrets to a node?
[2013-01-09 00:25:44 -0500] ranjibd: jkyle, only if they are on the same precedence level
[2013-01-09 00:25:51 -0500] harrisony: currently I'm just manually copying over the secret with scp after I add the node
[2013-01-09 00:26:21 -0500] ranjibd: default<normal<override. deep merging happens within individual precedence level
[2013-01-09 00:26:46 -0500] ranjibd: harrisony, knife bootstrap has an option to pass the secret over
[2013-01-09 00:27:52 -0500] harrisony: ranjibd: I totally missed that, looks like thats what I'll use :)
[2013-01-09 00:32:49 -0500] jkyle: ranjibd: what I'm seeing is attributes set in a roles override are being merged with the same attribute set in an environment's override. My reading of the doc indicates that environment has higher precendence than rols
[2013-01-09 00:33:16 -0500] jkyle: so, this would be expected as overrides don't override other overrides, the deep merge them
[2013-01-09 00:33:48 -0500] derks: stupid question... but is it bad practice to put all my company related customizations in one cookbook?
[2013-01-09 00:34:13 -0500] jkyle: derks: probably
[2013-01-09 00:34:23 -0500] jkyle: almost assuredly
[2013-01-09 00:35:14 -0500] derks: there are a lot of examples to work from... but i'd love to see an actual companies cookbook (what they built ontop of everything else available).  anyone have suggestions?
[2013-01-09 00:35:44 -0500] derks: For example, I use the 'nfs' cookbook.. but have my own 'mycompany-nfs' that actually handles specific company exports, etc
[2013-01-09 00:36:05 -0500] derks: easy to get lost in 'should this be a recipe, or its own cookbook'
[2013-01-09 00:42:12 -0500] chip-: derks: I think that the 'wrapper cookbook' pattern, with mycompany-nfs depending on community nfs, is a good one.
[2013-01-09 00:58:30 -0500] Qten: qhartman: thanks, here is my screen dump i'm at a loss to work out which attribute might be missing tho
[2013-01-09 00:58:38 -0500] jkyle: derks: that's not bad. only if you have a "mycompany-includes-all-community-coobkooks-in-one-big-mess" would it be bad
[2013-01-09 00:58:39 -0500] Qten: qhartman: http://pastie.org/5651984
[2013-01-09 00:59:43 -0500] jkyle: I'm leaning toward refactoring for that pattern and getting rid of roles and environments as much as possible. just custom cookbooks and data bags. potentially getting rid of chef-server in lieu of chef-solo + something else, like maybe mcollective
[2013-01-09 01:13:45 -0500] ranjibd: jkyle, they should be deep merged in your case
[2013-01-09 01:13:54 -0500] flaccid: hey guys is the aws cookbook generally what should be used to install aws credentials onto a node?
[2013-01-09 01:14:25 -0500] ranjibd: flaccid, i think it is used for EBS , EIP etc
[2013-01-09 01:14:49 -0500] ranjibd: the credentials are generally kept in an encrypted data bag
[2013-01-09 01:15:14 -0500] flaccid: basically looking for an existing cookbook that will install aws credentials with chef solo and no data bags
[2013-01-09 01:15:29 -0500] flaccid: to local files
[2013-01-09 01:16:22 -0500] flaccid: i'm not sure that it exists
[2013-01-09 01:17:43 -0500] flaccid: i guess i could make my things consume node attributes, but i think it needs to be in a file
[2013-01-09 01:18:38 -0500] flaccid: actually should be ok, this chef-backup cookbook just needs a decent update
[2013-01-09 01:22:57 -0500] ranjibd: flaccid, btw chef-solo can use data bags
[2013-01-09 01:23:18 -0500] flaccid: ranjibd: yep but i have to also support rightscale which doesn't :(
[2013-01-09 01:23:53 -0500] ranjibd: also iirc the aws cookbook does not mandate how you pass the creds
[2013-01-09 01:24:00 -0500] ranjibd: ok
[2013-01-09 01:24:22 -0500] flaccid: yep i'll get this cookbook to consume the aws node attributes for them. thanks for the help y0
[2013-01-09 01:25:23 -0500] flaccid: hmm this guy with his templates does this variables(:config => node[:backup]) is that a bad practice?
[2013-01-09 01:27:52 -0500] rodrigda: anybody on
[2013-01-09 01:28:01 -0500] flaccid: nope
[2013-01-09 01:28:43 -0500] rodrigda: just had a question about attributes not sure where I am going wrong
[2013-01-09 01:28:44 -0500] jkyle: is there a way to get rid of the knife uploading of resources, cookbooks, etc. to the chef server and have chef server just get those from a local filesystem?
[2013-01-09 01:29:00 -0500] ranjibd: rodrigda, shoot,
[2013-01-09 01:29:32 -0500] ranjibd: jkyle, no.. its not puppet..
[2013-01-09 01:29:43 -0500] rodrigda: well I have a recipe that is passing a variable to a template based on attributes being set
[2013-01-09 01:29:53 -0500] ranjibd: jkyle, you can use chef solo. in case you dont want the chef server features
[2013-01-09 01:30:21 -0500] rodrigda: I set the attribute in the default attribute file.  I then set it to what I really want it based on a role
[2013-01-09 01:30:24 -0500] jkyle: ranjibd: well, sure, but that's a good model. yeah, been thinking of cobbling together something with solo.
[2013-01-09 01:30:28 -0500] ranjibd: jkyle, though there are certain tools that can help you on keeping your repo and chef server in sync
[2013-01-09 01:30:48 -0500] jkyle: I ahd somethign going with jenkins and commit hooks
[2013-01-09 01:30:51 -0500] rodrigda:  when I run chef-client on the server I don't get that attribute variable being passed threw.
[2013-01-09 01:31:27 -0500] ranjibd: rodrigda, gist ?
[2013-01-09 01:32:00 -0500] ranjibd: jkyle, thats a good starting point .. lot of people does that, also with automated version bumping
[2013-01-09 01:33:54 -0500] rodrigda: I am trying to think how to do that still new to git and chef all together.  But what I have done is added a Chef::Log statement before I do my search statement. and the attribute is set correctly there, but when I go and do Chef::Log on the variable that I assigned the search result to I don't see the attribute displayed
[2013-01-09 01:35:08 -0500] rodrigda: Chef::Log.info("Node before processing: #{node['rightlane'].to_hash}") web_servers = search(:node, "role:rightlane_web_tier AND chef_environment:#{node.chef_environment}") #Chef::Log.info("web_servers info: #{web_servers['rightlane']}") web_servers.map! do |member|   Chef::Log.info("MEMBER Node: #{member['rightlane'].to_hash}")   Chef::Log.info("TRNA NGINX LOCATION #{member['rightlane']['trna_nginx_location']}")   server_ip = begin    
[2013-01-09 01:36:06 -0500] rodrigda: yeah that didn't copy appropriately
[2013-01-09 01:37:58 -0500] Guest74432: what is the best way to manage multiple websites/apps using chef where each website belongs to a different company?  multiple chef accounts?
[2013-01-09 01:38:37 -0500] Guest74432: or should that be handled using separate cookbooks?
[2013-01-09 01:39:23 -0500] rodrigda: ranjibd, here it is https://gist.github.com/4489836
[2013-01-09 01:39:23 -0500] ranjibd: rodrigda, nodes attributes are posted back to the chef server after a  successfull chef run
[2013-01-09 01:39:34 -0500] ranjibd: after  that its available for searchinh
[2013-01-09 01:39:57 -0500] siezer: Guest74432 separate accounts, yes.
[2013-01-09 01:39:59 -0500] ranjibd: Guest74432, multiple chef accounts, organization,
[2013-01-09 01:40:46 -0500] rodrigda: ranjibd there why does the attribute show up in my first chef log
[2013-01-09 01:40:52 -0500] rodrigda: but not in the one is the loop
[2013-01-09 01:42:20 -0500] ranjibd: rodrigda, im not sure if i understand correctly
[2013-01-09 01:42:55 -0500] flaccid: hmm, what is the best way to create a directory with the directory resource relative to a user's home where the username is in a node attribute ?
[2013-01-09 01:44:05 -0500] rodrigda: ok let me try to explain a little better.  I first execute this statement.  Chef::Log.info("Node before processing: #{node['lane'].to_hash}") and I can see the attribute that I want to use later on being set.
[2013-01-09 01:44:08 -0500] flaccid: i guess use ruby like directory "#{File.expand_path('~')}/#{node[:backup][:backup_user]}/#{dir}"
[2013-01-09 01:45:35 -0500] rodrigda: I then do my search and set it to a variable.  I will than look threw that array and find the ipaddress for the nodes that were returned by the search and I also try to get the attribute above (which was set for the current node.), but now it is not set.
[2013-01-09 01:46:37 -0500] Guest74432: @siezer, @ranjibd If I use multiple accounts, do I also need to create multiple chef installation on my workstation?
[2013-01-09 01:47:50 -0500] siezer: Guest74432 no you can just do directory based projects, each with their own .chef directory, and each with a .chef/knife.rb pointing to a different api endpoint
[2013-01-09 01:49:21 -0500] siezer: cat customer-1/.chef/knife.rb ; cat customer-2/.chef/knife.rb
[2013-01-09 01:54:53 -0500] Guest74432: <siezer> Thanks for all the help.  Final question.  What about a vagrant vm?  Should I create multiple VMs?  Or can I place projects in different directories each as a node for different projects?
[2013-01-09 02:04:04 -0500] rodrigda: ranjibd thank you.  having it run once with just the role fixed my issue.
[2013-01-09 02:07:21 -0500] flaccid: i think i'm going to have to do default['backup']['backup_user_home'] = `echo ~#{node['backup']['backup_user']}`.strip
[2013-01-09 02:09:49 -0500] siezer: Guest74432 vagrant yields a directory based workflow naturally
[2013-01-09 02:10:06 -0500] siezer: cd cookbook/apples ; bundle exec vagrant up
[2013-01-09 02:10:20 -0500] siezer: cd cookbook/oranges ; bundle exec vagrant up
[2013-01-09 02:10:24 -0500] siezer: ^ two vms
[2013-01-09 02:13:42 -0500] Guest74432: Thanks <siezer>
[2013-01-09 02:13:55 -0500] soidexe: hi! I didn't understand the terms - can I use private chef free if I don't need support?
[2013-01-09 02:15:27 -0500] flaccid: soidexe: what is private chef?
[2013-01-09 02:15:44 -0500] soidexe: http://www.opscode.com/private-chef/
[2013-01-09 02:16:06 -0500] soidexe: chef hosted by myself
[2013-01-09 02:16:16 -0500] siezer: private chef (OPC for short) is the Hosted Chef codebase that you operator yourself, behind your firewall.
[2013-01-09 02:16:34 -0500] siezer: and no, its per-node licensing with a support contract
[2013-01-09 02:16:46 -0500] flaccid: coolio
[2013-01-09 02:16:56 -0500] siezer: also, totally worth it =)
[2013-01-09 02:17:51 -0500] flaccid: looks good
[2013-01-09 02:18:38 -0500] soidexe: siezer: do you know approximate pricing for it?
[2013-01-09 02:19:06 -0500] siezer: not off the top
[2013-01-09 02:21:01 -0500] soidexe: is it hundreds or thousands dollars?
[2013-01-09 02:21:37 -0500] flaccid: if i do default['backup']['user'] = 'root' in my default/attributes.rb in the next line can i re-use it to set another attribute, e.g. default['backup']['user']['home'] = `echo ~#{node['backup']['user']}`.strip ?
[2013-01-09 02:21:37 -0500] soidexe: is it per month contract or one time fee?
[2013-01-09 02:23:17 -0500] flaccid: i keep getting IndexError string not matched
[2013-01-09 02:24:32 -0500] flaccid: or do i need to use set[] instead? hmm
[2013-01-09 02:38:09 -0500] flaccid: doing this all the time does not look nice :( template "#{`echo ~#{node['backup']['user']}`.strip}/Backup/config.rb" do
[2013-01-09 03:00:19 -0500] flaccid: call me foretful and lazy, but was there a chef_gem equiv for package resource to install packages in compile time?
[2013-01-09 03:02:36 -0500] flaccid: or do we use http://wiki.opscode.com/display/chef/Evaluate+and+Run+Resources+at+Compile+Time still?
[2013-01-09 03:02:42 -0500] ryanschwartz: greetings all - anyone know what the reliable, definitive way for grabbing the private IP address of a rackspace virtual machine? the ohai rackspace plugin seems to be broken, or unreliable
[2013-01-09 03:03:15 -0500] flaccid: ryanschwartz: maybe their api?
[2013-01-09 03:05:03 -0500] ryanschwartz: flaccid: you have an example? I'd like to get a system's private IP from inside a chef run, and seems like a bit much to call out to an API when there's a cloud plugin in ohai specifically for this
[2013-01-09 03:05:26 -0500] flaccid: ryanschwartz: i have not used it before sorry
[2013-01-09 03:05:34 -0500] ryanschwartz: :)
[2013-01-09 03:08:12 -0500] senilegenius: ryanschwartz: does this help?  knife search node "name:host1" -a cloud.private_ips
[2013-01-09 03:09:25 -0500] ryanschwartz: senilegenius: that json endpoint doesn't get populated on some of my rackspace nodes. I'm trying to track down exactly why, but figured I'd go to the horse's mouth first.
[2013-01-09 03:11:26 -0500] senilegenius: ryanschwartz: has there been a chef client run on those nodes? not 100% sure but maybe that key doesn't get populated until after a chef run?
[2013-01-09 03:12:03 -0500] ryanschwartz: senilegenius: ayup, run, registered, and re-run multiple times
[2013-01-09 03:12:26 -0500] ryanschwartz: it should get populated in bootstrap
[2013-01-09 03:12:39 -0500] senilegenius: hrm. sorry, haven't experienced thisi'll have to pay more attention and see if i see it too
[2013-01-09 03:12:48 -0500] senilegenius: ryanschwartz:  agreed.
[2013-01-09 03:15:30 -0500] ryanschwartz: aaaaaaaaaaand here we go: http://webcache.googleusercontent.com/search?q=cache:Cw2uLZErrYEJ:comments.gmane.org/gmane.comp.sysutils.chef.user/4605+&cd=4&hl=en&ct=clnk&gl=us
[2013-01-09 03:16:38 -0500] ryanschwartz: "create an empty file called "/etc/chef/ohai/hints/rackspace.json" This is part of the new hints system that we created for working around problems identifying clouds.'
[2013-01-09 03:18:16 -0500] senilegenius: ryanschwartz:  nice googles! good to know :)
[2013-01-09 03:22:15 -0500] Guest74432: <siezer>  one more?  I have 2 .chef subdirectories for each project.  In my new project (proj2), do I have to knife cookbook site install COOKBOOK for all of the cookbooks used in the old project (proj2)?
[2013-01-09 03:23:01 -0500] siezer: Guest74432 yep
[2013-01-09 03:23:12 -0500] siezer: use berkshelf for that kinda thing. makes life easier.
[2013-01-09 03:23:33 -0500] Guest74432: berkshelf?  hmmm... i will have to google as i am not familiar.  thanks
[2013-01-09 03:24:35 -0500] Guest74432: That's awesome.  Thanks for the help
[2013-01-09 03:24:54 -0500] flaccid: berkshelf and librarian rule
[2013-01-09 03:24:58 -0500] siezer: yea its cookbook manager
[2013-01-09 03:30:54 -0500] ryanschwartz: senilegenius: flaccid: FYI, this works for templates: node[:network][:interfaces]["eth1"]["addresses"].select{|address,params| params["family"] == "inet"}.flatten.first
[2013-01-09 03:31:04 -0500] ryanschwartz: er @node[:network][:interfaces]["eth1"]["addresses"].select{|address,params| params["family"] == "inet"}.flatten.first
[2013-01-09 03:32:27 -0500] flaccid: coolio
[2013-01-09 03:32:53 -0500] flaccid: i think i might have an independent method somewhere to get the routable iface, sec
[2013-01-09 03:34:26 -0500] flaccid: how about this :o https://github.com/flaccid/cookbooks/blob/master/cookbooks/system/providers/hostname.rb#L5
[2013-01-09 03:37:50 -0500] ryanschwartz: flaccid: nice - thanks
[2013-01-09 03:38:07 -0500] flaccid: hehe np
[2013-01-09 03:45:07 -0500] flaccid: hmm i'm having a tough time using these node attributes set. i don't know if its human error or some bug. http://dpaste.org/iQMHa/ could use some help if possible
[2013-01-09 03:45:20 -0500] flaccid: template tags such as <%= @node['aws']['aws_access_key_id'] %> come out blank
[2013-01-09 03:46:12 -0500] ryanschwartz: cheers guys - thanks for the input
[2013-01-09 03:48:31 -0500] flaccid: oh opps, wrong key in node.json
[2013-01-09 04:50:06 -0500] k0rupted_: Kinda stumped... I have my default.rb attributes file set for default["jpackage"]["rpmfile"] = "jpackage-release-6-3.jpp6.noarch.rpm" ... under my recipie, I'm trying to use that value to expand a statement ... but with no luck. Here is my attempt. remote_file "#{Chef::Config[:file_cache_path]}"/"node["jpackage"]["rpmfile"]"
[2013-01-09 04:50:57 -0500] k0rupted_: ive tried lots of combinations... #{node["jpackage"]["rpmrelease"]}" ... am I totally off track?
[2013-01-09 04:55:57 -0500] jwcarman: When using the "directory" resource  to :create, a directory (with owner/group specified), that will only create all necessary parents, right?
[2013-01-09 04:56:11 -0500] jwcarman: It won't traverse all subdirs/files and chown them, right?
[2013-01-09 05:28:35 -0500] sk_: How can "yum lock timeout issue" be resolved on running a chef recipe
[2013-01-09 05:52:18 -0500] Qten: hi guys, still having fun with this unbound cookbook, i've managed to resolve my previous issue any ideas on how i would go about trying to resolv this one?, http://pastie.org/5652702
[2013-01-09 05:53:36 -0500] flaccid: how do i work out where the source for http://community.opscode.com/cookbooks/fog lives?
[2013-01-09 05:54:06 -0500] flaccid: i guess it is https://github.com/jackl0phty/opschef-cookbook-fog
[2013-01-09 05:57:08 -0500] tomdzk: Qten: maybe the source code can help ? http://community.opscode.com/cookbooks/unbound/source
[2013-01-09 05:58:12 -0500] tomdzk: Qten: the only gsub in there is called on @local_zone['id'] which is node['dns']['domain']['id']
[2013-01-09 05:58:27 -0500] Qten: tomdzk: i've been having a look at the code and can't find anything about the gsub
[2013-01-09 05:58:50 -0500] tomdzk: Qten: your error seems to be in the local-zone.conf.erb template
[2013-01-09 05:59:16 -0500] Qten: tomdzk: yep which  has the reference to the gsub but i'm not sure if gsub is just a variable or is a type of function
[2013-01-09 05:59:46 -0500] tomdzk: Qten: gsub is a ruby function, http://www.ruby-doc.org/core-1.9.3/String.html#method-i-gsub
[2013-01-09 06:00:07 -0500] tomdzk: in this case it replaces underscores with dots
[2013-01-09 06:00:28 -0500] Qten: tomdzk: ah so then it must be saying that the variable which is passed to gsub is null not a gsub issue
[2013-01-09 06:00:43 -0500] tomdzk: yep, you seem to be missing node['dns']['domain']['id']
[2013-01-09 06:01:31 -0500] Qten: so these variables would be passed in by a "role" do you think or a databag? (still very new to chef)
[2013-01-09 06:02:36 -0500] tomdzk: Qten: if you look at recipes/default.rb lines 43-47, you can see it tries to get it from a data bag first (called "dns"), and if not, from the node attributes
[2013-01-09 06:02:59 -0500] Qten: this is the role i created and are using for deploy, http://pastie.org/5652748
[2013-01-09 06:04:02 -0500] Qten: node attributes being whats already set on the node which the script is running on or from a roles default attributes?
[2013-01-09 06:06:20 -0500] tomdzk: I don't know the unbound cookbook, but judging from the readme (http://community.opscode.com/cookbooks/unbound) you need to create a data bag called 'test_com_au' with ns and host info (second code block in the usage section)
[2013-01-09 06:07:06 -0500] tomdzk: rather, this has to be a data bag item in the "dns" data bag
[2013-01-09 06:08:18 -0500] Qten: this is the part thats confused me, so its saying the databag would be "dns" and the items under it are as per the readme
[2013-01-09 06:09:33 -0500] tomdzk: Qten: yep, create a json file like that and then use "knife data bag from file dns /path/to/file" or something like that
[2013-01-09 06:11:12 -0500] Qten: tomdzk: thanks i'll give it another go, cheers
[2013-01-09 06:20:57 -0500] Qten: tomdzk: thanks mate thats working now, clicks on howto read that part of the code.
[2013-01-09 06:21:11 -0500] tomdzk: cool
[2013-01-09 10:11:26 -0500] Unicron_: I've forked the nagios cookbook and called it test-nagios but when it calls nagios_nrpecheck in its client.rb recipe, I get error saying resource nagios_nrpecheck can not be found even though I have explicitly defined the provider as 'provider "test-nagios_nrpecheck"
[2013-01-09 10:14:01 -0500] Unicron_: so as i understand it, if I call nagios_nrpecheck in a recipe, that means cookbook_provider which means look in cookbook nagios for provider nrpecheck - which is why I explicitly defined the provider in the recipe.
[2013-01-09 10:15:18 -0500] Unicron_: if I call the provider as test-nagios_nrpecheck I get syntax error unexpected tSTRING_BEG, expecting kDO or { or (
[2013-01-09 10:15:35 -0500] Unicron_: could the dash in my new cookbook name be causing the issue?
[2013-01-09 10:16:22 -0500] Unicron_: cd ..
[2013-01-09 10:38:48 -0500] Emilien: Hello everyone, I'm starting out with chef and trying to grasp how to do what I'm currently doing by way of scripting and scheduled tasks. Currently, I have a repository that contains a lot of files such as a specific version of java, some configuration file and so on. I currently sync that with a rsync job that synchronise on different directories based on the subnet of the machine, the hostname and so on.
[2013-01-09 10:39:08 -0500] Emilien: What I'm wondering is, should I keep all of this and simply use chef to create the cron entries for rsync
[2013-01-09 10:39:45 -0500] Emilien: Or should I create a recipe and use cookbook_file to do the equivalent of rsync ? (if this is the case, then do I need to specify each file independantly or can I point to directories ? )
[2013-01-09 12:33:25 -0500] Xiol_: Having some right trouble trying to write an LWRP! As far as I understand it, I've got everything 'right' in my resources and providers, specifying my attributes (e.g. attribute :domain, kind_of => String) and actions (actions :create), then in my LWRP I've got an 'action :create do ... end' block. However, it's complaining that my methods aren't found (e.g. no method called 'domain'). I didn't think I had to write a method for domain as the L
[2013-01-09 12:39:02 -0500] Xiol_: an example of what I mean is here: http://pastebin.com/c97FgqMQ
[2013-01-09 12:39:59 -0500] Xiol_: and results in [2013-01-09T12:16:33+00:00] ERROR: NoMethodError: mycookbook_ssl_offload[www.example.com] (mycookbook::configure line 75) had an error: NoMethodError: undefined method `ssl_cert' for nil:NilClass
[2013-01-09 12:40:22 -0500] Xiol_: also I was under the impression that new_resource wasn't an instance variable, but it wouldn't work without being an instance variable...
[2013-01-09 12:44:44 -0500] jwilf: jtimberman: hello
[2013-01-09 12:57:54 -0500] jwilf: i'm having a problem setting environment_name for the opscode application cookbook, can anyone help?
[2013-01-09 13:09:46 -0500] zts: jwilf: it's usually best just to go ahead and ask the question - people will help if they know
[2013-01-09 13:10:48 -0500] jwilf: ok well basically when i set environment_name inside my application block it ignores it and just uses "production"
[2013-01-09 13:11:01 -0500] jwilf: which is coming from the resource:
[2013-01-09 13:11:22 -0500] jwilf: attribute :environment_name, :kind_of => String, :default => (node.chef_environment =~ /_default/ ? "production" : node.chef_environment)
[2013-01-09 13:11:52 -0500] jwilf: i'm using chef-solo so my chef_environment is _default, so i get production
[2013-01-09 13:12:05 -0500] jwilf: but i want to set it to "development"
[2013-01-09 13:12:26 -0500] jwilf: whatever i do i just get "production", any help would be appreciated
[2013-01-09 13:16:41 -0500] zts: jwilf: one more thing, can you please gist/pastebin the application block where you're trying to set the environment_name?
[2013-01-09 13:23:13 -0500] jwilf: zts: http://pastebin.com/2MMK0PpC
[2013-01-09 13:24:06 -0500] jwilf: zts: i replaced my real company name with acme :)
[2013-01-09 13:35:36 -0500] tamouse__: jwilf: what does the log message produce at line 12?
[2013-01-09 13:36:49 -0500] tamouse__: also, i'm not familiat with chef_solo, does it have environments, roles and nodes as well as cookbooks?
[2013-01-09 13:40:33 -0500] specialsauce: environments in chef-solo is CHEF-3356 and not in-place yet i think
[2013-01-09 13:41:47 -0500] tamouse__: okay, just wondering if jwilf has set node['environment_name'] in a higher precedence than the cookbook
[2013-01-09 13:44:36 -0500] zv470: Hi, I'm wondering how can I execute "rails new..." through chef?
[2013-01-09 13:45:26 -0500] tamouse__: zv470: can i ask why you'd want to do that?
[2013-01-09 13:46:29 -0500] zv470: yup sure tamouse__, I want to automate rails app generation, I thought chef would b great for that. :]
[2013-01-09 13:47:00 -0500] tamouse__: actually, probably not; you should look at rails templates
[2013-01-09 13:47:23 -0500] zv470: ah,
[2013-01-09 13:47:57 -0500] tamouse__: if the rails apps you build tend to all start from a similar place, setting up a template is the best way to go there
[2013-01-09 13:49:27 -0500] tamouse__: there's a site: http://railswizard.org that offers to customize a template for you.
[2013-01-09 13:49:55 -0500] tamouse__: if nothing else, getting one of their templates could be a good point of departure for building your own
[2013-01-09 13:50:40 -0500] zv470: thanks that's awesome
[2013-01-09 13:51:08 -0500] jwilf: tamouse__: the log message says "development"
[2013-01-09 13:53:43 -0500] tamouse__: i have to leave for work.. i'll be back in about an hour-ish, depending
[2013-01-09 13:54:05 -0500] Unicron_: I have recipe with a resource defined but when chef-client runs it errors with "ERROR: NameError: Cannot find a resource for nagios_nrpecheck on ubuntu version 12.04"
[2013-01-09 13:55:24 -0500] jwilf: Unicron_: did you add a depends for the relevant cookbook in metadata.rb?
[2013-01-09 13:57:00 -0500] Unicron_: but I have actually forked the nagios cookbook to test-nagios - but if I try to call it with test-nagios_nrpecheck, I get "syntax error unexpected tSTRING_BEG, expecting kDO or { or (" when trying to do knife cookbook upload
[2013-01-09 13:57:27 -0500] Unicron_: at test-nagios_nrpecheck "check_load" do
[2013-01-09 13:57:37 -0500] Unicron_: jwilf, it is in the same cookbook
[2013-01-09 13:58:15 -0500] Unicron_: looks like the dash in test-nagios cookbook name to call the provider is incorrect syntax
[2013-01-09 13:58:55 -0500] zts: jwilf: I think the problem is the =
[2013-01-09 13:59:08 -0500] zts: jwilf: your paste shows this: environment_name = node['environment_name']
[2013-01-09 13:59:18 -0500] zts: jwilf: but it should just be: environment_name node['environment_name']
[2013-01-09 13:59:22 -0500] zts: (I think)
[2013-01-09 13:59:51 -0500] jwilf: zts: aha! i think you might be right
[2013-01-09 13:59:52 -0500] Unicron_: jwilf, it DOES work if I depend on the nagios cookbook itslef - but everything is now in my forked cookbook, but I cant call the resource because of the dash in my cookbook name - will try to remove it and see if the resource gets called correctly and just call it testnagios instead of test-nagios
[2013-01-09 14:01:57 -0500] jwilf: Unicron_: i don't see a need to rename a cookbook if you fork it
[2013-01-09 14:02:39 -0500] jwilf: zts: yep that fixed it! the error was staring me in the face - thankyou! :)
[2013-01-09 14:03:15 -0500] Unicron_: just whilst I'm testing it so I can have official opscode and my own at the same time (I could do with constraints yes) - but it highlights that I should never create a cookbook with a '-' in the name if I can't call resources
[2013-01-09 14:04:45 -0500] specialsauce: we had to rename all our cookbooks with "_" in them because of this bug. that day sucked.
[2013-01-09 14:06:04 -0500] zts: jwilf: no problem :)
[2013-01-09 14:16:23 -0500] nicholasr-bf: I don't think the the dash is a bug, it is just when used as a provider, when the ruby interpreter sees test-nagios, it interprets it as test (minus) nagios.   Maybe Opscode should have banned the minus sign from all cookbooks, but for any cookbook that isn't a provider, then the dash isn't a problem.
[2013-01-09 14:33:00 -0500] Unicron_: nicholasr-bf, yes, I figured something along those lines - but when ypou don;t put the cookbook in front I thought it defaulted to the current cookbook (i.e only need to specify nrpecheck) fails in the same way - no resource found with nrpecheck
[2013-01-09 14:33:47 -0500] Unicron_: anyway - I've removed the dah from the cookbook name and all works as expected now
[2013-01-09 14:37:12 -0500] spox: Unicron_: you don't need to rename the cookbook
[2013-01-09 14:37:20 -0500] spox: if your cookbook is my-cookbook
[2013-01-09 14:37:26 -0500] spox: and you have an LWRP named fubar
[2013-01-09 14:37:30 -0500] spox: my_cookbook_fubar
[2013-01-09 14:37:31 -0500] spox: will work
[2013-01-09 14:37:47 -0500] Unicron_: your joking lol
[2013-01-09 14:37:50 -0500] spox: nope
[2013-01-09 14:37:53 -0500] spox: sorry :)
[2013-01-09 14:38:01 -0500] Unicron_: :) I will test out now...
[2013-01-09 14:52:29 -0500] Unicron_: spox, thanks - works great
[2013-01-09 14:54:21 -0500] spox: Unicron_: sure :)
[2013-01-09 14:59:57 -0500] geekbri: anybody else have issues where long running chef-client services seem to have some sort of very naughty memory leak?
[2013-01-09 15:00:07 -0500] spox: geekbri: indeed
[2013-01-09 15:00:12 -0500] spox: see the -f option for chef-client
[2013-01-09 15:00:12 -0500] spox: :)
[2013-01-09 15:00:46 -0500] geekbri: I will look into this mysterious -f option :)
[2013-01-09 15:02:23 -0500] geekbri: spox: thanks.  Convienently i JUST upgraded from 0.10.8 to 10.16.4 so this is now available to me ;
[2013-01-09 15:05:18 -0500] spox: geekbri: i saw it more using ruby 1.8
[2013-01-09 15:05:26 -0500] spox: which was horrible at memory management
[2013-01-09 15:05:35 -0500] jtimberman: geekbri: -f was added in 10.14
[2013-01-09 15:05:38 -0500] spox: 1.9 does much better, but cookbooks can still misbehave
[2013-01-09 15:06:00 -0500] geekbri: jtimberman: I had been using 0.10.8, luckily we are now on 10.16.4 !
[2013-01-09 15:06:07 -0500] jtimberman: spox: know anything about -f? ;)
[2013-01-09 15:06:16 -0500] spox: jtimberman: i sure hope so :D
[2013-01-09 15:06:22 -0500] jtimberman: geekbri: loads of good stuff from 10.8 -> 10.16 ;)
[2013-01-09 15:06:40 -0500] geekbri: jtimberman: Indeed, just took me a while to iron out some oddities due to the big jump :)
[2013-01-09 15:07:32 -0500] spox: jtimberman: if you have some "free time", i would love to get some feedback on this: https://github.com/hw-cookbooks/chef_package
[2013-01-09 15:07:42 -0500] spox: i wrote it awhile ago and was thinking about moving it into chef proper
[2013-01-09 15:08:02 -0500] spox: but i'm too lazy to just do it on blind hope :)
[2013-01-09 15:11:34 -0500] kryptek: good morning all
[2013-01-09 15:11:40 -0500] jtimberman: spox: ooh.
[2013-01-09 15:12:34 -0500] jtimberman: spox: yes please.
[2013-01-09 15:12:42 -0500] jtimberman: though renaming to something else is probably good
[2013-01-09 15:12:53 -0500] jtimberman: chef_gem implies a gem for chef.
[2013-01-09 15:12:54 -0500] jtimberman: chef_package, is that a package for chef?
[2013-01-09 15:13:04 -0500] spox: jtimberman: yes. compile time installs
[2013-01-09 15:13:10 -0500] spox: but then it also adds a proper package resource
[2013-01-09 15:13:15 -0500] spox: so notifications still work as expected
[2013-01-09 15:14:34 -0500] jtimberman: spox: thats nifty :)
[2013-01-09 15:27:05 -0500] jwcarman: Have you guys ever encountered a situation where you can "yum install" a package, but Chef says it can't find it when it tries?
[2013-01-09 15:27:30 -0500] jwcarman: The one in particular that I'm trying is "ruby-mysql-2.8.2" on RHEL6.
[2013-01-09 15:27:52 -0500] jwcarman: If I vagrant ssh into the box, I can install it just fine, but when I try to run my recipe to install it, FAIL
[2013-01-09 15:42:43 -0500] Unicron_: jwcarman, you behind a proxy?
[2013-01-09 15:43:30 -0500] jwcarman: yeah, but we use a local rpm repo
[2013-01-09 15:43:40 -0500] jwcarman: again, works fine with yum when I ssh in.
[2013-01-09 15:43:53 -0500] jwcarman: and other packages install just fine
[2013-01-09 15:44:12 -0500] jwcarman: I found that if I don't specify the version, it finds that exact version and installs it just fine, but we want to "pin" the versions down
[2013-01-09 15:44:15 -0500] Unicron_: ah ok, yeah, I have seen issues where environment variables are different between a chef-client run and a user doing it manually
[2013-01-09 15:44:27 -0500] jwcarman: Okay.
[2013-01-09 15:44:28 -0500] jwcarman: weird
[2013-01-09 15:44:31 -0500] Unicron_: and thhat caused things to work on CLI but not via chef-client
[2013-01-09 15:44:38 -0500] jwcarman: that makes sense
[2013-01-09 15:44:50 -0500] Unicron_: waht is in your chef-client log for the fail?
[2013-01-09 15:45:02 -0500] jwcarman: Just says "Version not found" or something
[2013-01-09 15:45:09 -0500] spox: jwcarman: been awhile since i've been in rhel land. does yum have the same thing as apt-get update?
[2013-01-09 15:45:13 -0500] spox: to sync up local db
[2013-01-09 15:45:19 -0500] spox: because that's likely the issue if so
[2013-01-09 15:46:05 -0500] jwcarman: yeah, I think we're already doing that
[2013-01-09 15:46:09 -0500] jwcarman: I can check though
[2013-01-09 15:46:19 -0500] jwcarman: something like build cache or something
[2013-01-09 15:46:41 -0500] spox: jwcarman: might need to check the ordering too and ensure it's up in the front
[2013-01-09 15:47:05 -0500] jwcarman: spox: okay, thanks.  I'll check that.  Perhaps it's later on in the run
[2013-01-09 15:47:09 -0500] Unicron_: I think you can do something along the lines of "yum clean expire-cache" annd it will make yum go check the repos
[2013-01-09 15:47:38 -0500] jwcarman: gotcha
[2013-01-09 15:47:43 -0500] jwcarman: off to tinker...
[2013-01-09 15:49:06 -0500] jwcarman: Is the package command really picky about which version you specify?  I mean, if I leave off versions, this stuff works just fine, but as soon as I try to specify, it says it's not there.
[2013-01-09 15:50:11 -0500] spox: jwcarman: that's what is leading me to believe it may be a stale local db, since i believe the provider is checking the local db for the requested version, and not finding it
[2013-01-09 15:50:37 -0500] jwcarman: ok, cool
[2013-01-09 15:57:46 -0500] qhartman: To reset your package cache do "yum clean all; yum makecache"
[2013-01-09 15:58:05 -0500] qhartman: The clean all is technically optional, but if you're having problems it's probably a good idea to do it.
[2013-01-09 16:02:23 -0500] tolland: ok, so if I have a fairly complicated "service" resource setup, and that I am referencing it in various places
[2013-01-09 16:02:29 -0500] tolland: in different recipes
[2013-01-09 16:02:58 -0500] tolland: can i move it to the resources dir, in order to make it commonly available to all the recipes?
[2013-01-09 16:03:07 -0500] tolland: or do I have to copy it into each recipe
[2013-01-09 16:03:15 -0500] tolland: i mean to use it in notifies
[2013-01-09 16:05:41 -0500] qhartman: As long as the cookbook containing the resource is included in the recipe you use it in, it doesn't need to be copied anywhere
[2013-01-09 16:06:14 -0500] qhartman: do 'include_recipe "my_resource"'
[2013-01-09 16:06:26 -0500] qhartman: and you should be good
[2013-01-09 16:16:52 -0500] cschneid:  what is the diff between cookbook and site cookbook?
[2013-01-09 16:27:49 -0500] specialsauce: cschneid, cookbooks can be community/must work everywhere
[2013-01-09 16:27:56 -0500] specialsauce: site cookbooks are specific to your site/org
[2013-01-09 16:28:07 -0500] specialsauce: so you acn put all kinds of propretary stuff in them specfic to your env
[2013-01-09 16:28:12 -0500] specialsauce: that's how we use them anyway
[2013-01-09 16:30:33 -0500] rocket: Does anyone have any experience with the new chef-server cookbook and the prerelease chef 11 server?  I am trying to change the port used for nginx.  I have a conflict on 443.
[2013-01-09 16:31:05 -0500] rocket: really I am trying to run this entirely inside a vagrant folder and do a port redirect so the vm looks like a local machine
[2013-01-09 16:44:53 -0500] cschneid: How do I get ruby installed on my server?  I grabbed the rvm cookbook and it failed pretty badly, and I am also having problems just package installing ruby via apt.  Is there a best-way to install a ruby of my choice?
[2013-01-09 16:45:23 -0500] cschneid: the rvm cookbook looks out of date in how it uses rvm: https://gist.github.com/8b653cb2a6f4bf8772b5
[2013-01-09 16:46:43 -0500] jtimberman: cschneid: if the package from your distribution does not meet your requirements, i'd recommend building a package and hosting it on an internal repository.
[2013-01-09 16:47:56 -0500] jtimberman: You said apt - Ubuntu 12.10 has Ruby 1.9.3-p194 available as the "ruby1.9.1" package.
[2013-01-09 16:48:40 -0500] c_t: that ruby1.9.1 package is getting increasingly inaccurately named
[2013-01-09 16:48:53 -0500] jtimberman: c_t: it is completely accurately named )
[2013-01-09 16:49:17 -0500] jtimberman: it refers to the ABI version of Ruby. 1.9.0 was a development release of 1.9 series, 1.9.1 was a stable release of 1.9 :)
[2013-01-09 16:49:28 -0500] jtimberman: calling it ruby1.9 would be misleading
[2013-01-09 16:49:28 -0500] spox: +1
[2013-01-09 16:49:47 -0500] jtimberman: Someone wrote a blog post about this but I can never remember how to google for it.
[2013-01-09 16:49:53 -0500] jtimberman: I should write one. :D
[2013-01-09 16:50:16 -0500] c_t: I suppose someday even it could just be the "ruby" package
[2013-01-09 16:50:29 -0500] c_t: might not be anytime soon though
[2013-01-09 16:50:33 -0500] jtimberman: Anyway, in Nov 2011, I wrote this: http://jtimberman.housepub.org/blog/2011/11/24/ruby-in-ubuntu-11-dot-10/
[2013-01-09 16:50:37 -0500] spox: with how many people are still using 1.8, i doubt it :/
[2013-01-09 16:50:56 -0500] jtimberman: spox: I'd like to thank RHEL and Mac OS X for carrying the 1.8 torch.
[2013-01-09 16:52:15 -0500] jtimberman: anyway, :D
[2013-01-09 16:52:59 -0500] c_t: Also
[2013-01-09 16:53:09 -0500] c_t: I don't bring politics around these parts much, but did we all see this?
[2013-01-09 16:53:09 -0500] c_t: http://www.publicpolicypolling.com/main/2013/01/congress-somewhere-below-cockroaches-traffic-jams-and-nickleback-in-americans-esteem.html
[2013-01-09 16:53:16 -0500] c_t: (it's something everyone can laugh at)
[2013-01-09 16:53:31 -0500] c_t: Even, if I may be so bold, non-Americans
[2013-01-09 16:56:46 -0500] c_t: short version: according to a poll, Congress is less popular than root canals, brussels sprouts, cockroaches, and Nickleback
[2013-01-09 16:57:09 -0500] c_t: but more popular than Linsdey Lohan, gonorrhea, and meth labs
[2013-01-09 17:00:33 -0500] bougyman: meth labs are trending up, though
[2013-01-09 17:01:12 -0500] geekbri: man you slather those brussel sprouts in some butter and WHAZZZUPP know what im sayin?
[2013-01-09 17:01:50 -0500] cschneid: man, you slather those $ANYFOOD in some butter....
[2013-01-09 17:02:04 -0500] geekbri: cschneid: So all we need to do is slather congress in butter?
[2013-01-09 17:02:24 -0500] cschneid: sounds like something I'd watch on CSPAN
[2013-01-09 17:06:22 -0500] amccloud: anyway to get the output of the execute resource?
[2013-01-09 17:08:12 -0500] amccloud: I need to parse the output and write that to a file
[2013-01-09 17:10:53 -0500] spox: amccloud: save the output to a file you can read later. or use a ruby block to run the command and then parse
[2013-01-09 17:34:40 -0500] KarlHungus: if i have a chef repo with many cookbooks. how do i run chefspec on a single cookbook?
[2013-01-09 17:35:04 -0500] KarlHungus: it keeps failing with recipe compile errors
[2013-01-09 17:40:32 -0500] KarlHungus: bah. i'm an idiot. ignore me :)
[2013-01-09 17:58:56 -0500] matschaffer: anyone know any good helpers for working with selinux? Some sort of chcon-capable file resource perhaps?
[2013-01-09 18:03:08 -0500] jtimberman: matschaffer: siezer had a cookbook with some early implementation for that.
[2013-01-09 18:03:44 -0500] jtimberman: start on it here: https://github.com/someara/cookbook-selinux/blob/master/libraries/monkeys.rb
[2013-01-09 18:04:53 -0500] Toger: Is there a way to call knife search node to find nodes that have *no* role?
[2013-01-09 18:06:25 -0500] matschaffer: thanks jtimberman !
[2013-01-09 18:10:24 -0500] Toger: looks like I have to iterate through all nodes and enumerate their role, instead of a direct search.
[2013-01-09 18:14:41 -0500] jtimberman: matschaffer: having that capability available either in opscodes selinux cookbook or chef proper would be ncie though
[2013-01-09 18:14:57 -0500] echosystm: how can i get chef to reboot in the middle of an install and then continue when it comes up again?
[2013-01-09 18:14:59 -0500] jtimberman: i haven't really done much w/ selinux in ~5 years
[2013-01-09 18:15:01 -0500] echosystm: or is that a stupid thing to do
[2013-01-09 18:17:59 -0500] jtimberman: echosystm: what kind of system is this? Windows or Linux/Unix?
[2013-01-09 18:18:39 -0500] abetterlie: exit
[2013-01-09 18:18:44 -0500] jtimberman: echosystm: Chef will "pick up" where it left off in a previous run as long as all the resources are idempotent (certain resources like execute and script aren't by default)
[2013-01-09 18:19:17 -0500] jtimberman: echosystm: but rebooting in the middle of a run can have unintended side effects. for example delayed notifications will not be run
[2013-01-09 18:19:42 -0500] jtimberman: echosystm: if this is for a windows system, opscode's windows cookbook has a "reboot" resource that may be of interest.
[2013-01-09 18:20:11 -0500] geekbri: Has anybody else been struck with the impossibly odd scenario where a chef client run claims it is storing cookbooks in the cache, but is then unable to complete its run because some of the cookbooks files are missing>
[2013-01-09 18:20:14 -0500] matschaffer: jtimberman: have you avoided rhel for 5 years or just turn it off as a rule? ;)
[2013-01-09 18:22:48 -0500] holoway: geekbri: that means there are files you think are in the right place/in the cookbook that are not
[2013-01-09 18:23:12 -0500] holoway: geekbri: for example, remote files that are not in the 'default' directory, or templates that are not in the 'default' directory, or a cookbook that hasn't been uploaded
[2013-01-09 18:23:15 -0500] holoway: etc
[2013-01-09 18:23:30 -0500] geekbri: holoway: I checked the cache and it was a case of the actual files not being downloaded.  I then deleted the cookbook directory in the cache, ran chef client again and the files then were downloaded properly
[2013-01-09 18:23:32 -0500] holoway: Toger: you can use NOT in a query
[2013-01-09 18:24:00 -0500] geekbri: holoway: The cookbook is working fine on all the other nodes, it was only a newly created node that seemed to have the issue.
[2013-01-09 18:24:04 -0500] Toger: holoway: it looks like you can't do NOT role:* though, since I want nodes that have no roles.
[2013-01-09 18:24:16 -0500] Toger: I guess I could NOT role: for every possible role
[2013-01-09 18:25:08 -0500] echosystm: jtimberman: linux. basically i want the server to do an apt-get update/upgrade as the very first thing and then restart
[2013-01-09 18:25:28 -0500] echosystm: if you can suggest some alternative to acheive the same ends, that would be great
[2013-01-09 18:25:42 -0500] echosystm: restart is necessary due to kernel upgrades and so on
[2013-01-09 18:27:07 -0500] holoway: echosystm: I would probably approach that differently
[2013-01-09 18:27:29 -0500] holoway: echosystm: manage the kernel package directly as a package resource, and if it updates, go ahead and notify for a restart
[2013-01-09 18:29:03 -0500] jtimberman: matschaffer: I'm not running RHEL-alikes in any production environments. So yes, turn it off as a rule :)
[2013-01-09 18:29:21 -0500] matschaffer: gotcha
[2013-01-09 18:29:51 -0500] jtimberman: matschaffer: at SANS, we very much had SELinux enabled :D
[2013-01-09 18:30:21 -0500] matschaffer: jtimberman: what's your typical prod OS these days?
[2013-01-09 18:33:17 -0500] echosystm: what does "notify for a restart" mean holoway ?
[2013-01-09 18:33:28 -0500] echosystm: i come from puppet, so im not familiar with chef
[2013-01-09 18:33:34 -0500] pwelch: is there a way to test roles and environments for syntax? I was looking for something like `knife cookbook test` but but do not see anything for roles or environments.
[2013-01-09 18:35:12 -0500] cheesep__: pwelch: I always do "knife cookbook role from file" which will dump out if the syntax is bad
[2013-01-09 18:35:45 -0500] pwelch: I do to but I wanted to it to run a test on Jenkins before being uploaded
[2013-01-09 18:36:21 -0500] cheesep__: ah, I see
[2013-01-09 18:36:39 -0500] tomdzk: pwelch: how about "ruby -c <role file>" ?
[2013-01-09 18:38:13 -0500] pwelch: tomdzk: ahh its so simple! thank you!
[2013-01-09 18:39:18 -0500] pwelch: tomdzk: that should catch the majority of possible issues. thanks agian
[2013-01-09 18:39:21 -0500] pwelch: *again
[2013-01-09 18:40:12 -0500] jtimberman: pwelch: ruby -c roles/myrole.rb ?
[2013-01-09 18:40:25 -0500] jtimberman: derp, someone said that :)
[2013-01-09 18:40:35 -0500] pwelch: jtimberman: yeah, but thanks!
[2013-01-09 18:41:26 -0500] tomdzk: I have a question about chef server backup and restore
[2013-01-09 18:41:26 -0500] tomdzk: I'm following http://cookingclouds.com/2012/06/27/chef-server-backup-and-restore/ which essentially backs up these folders: /etc/couchdb /var/lib/chef /var/lib/couchdb /var/cache/chef /var/log/chef /var/log/couchdb /etc/chef
[2013-01-09 18:41:36 -0500] tomdzk: Restoring on top of an empty chef server (no clients, no nodes) works, but I get authorization errors in the web UI when it already has clients/nodes. I'm thinking that I'm missing a folder in the backup there ?
[2013-01-09 18:47:01 -0500] tomdzk: nobody backing up their chef server ? :(
[2013-01-09 18:47:42 -0500] ev0ldave: restate the question?
[2013-01-09 18:49:14 -0500] tomdzk: ev0ldave: I'm following http://cookingclouds.com/2012/06/27/chef-server-backup-and-restore/ which essentially backs up these folders: /etc/couchdb /var/lib/chef /var/lib/couchdb /var/cache/chef /var/log/chef /var/log/couchdb /etc/chef
[2013-01-09 18:49:25 -0500] tomdzk: Restoring on top of an empty chef server (no clients, no nodes) works, but I get authorization errors in the web UI when it already has clients/nodes. I'm thinking that I'm missing a folder in the backup there ?
[2013-01-09 18:49:35 -0500] tomdzk: juliancdunn: the error is in chef-server, not the ui
[2013-01-09 18:52:38 -0500] juliancdunn: can you run knife commands against the chef-server's API?
[2013-01-09 18:54:04 -0500] queso: How do I store a multi-line string in a databag json file?  I'm trying to put an ssh private key in there.
[2013-01-09 18:54:43 -0500] tomdzk: queso: use "\n" for the newlines
[2013-01-09 18:55:15 -0500] queso: tomdzk: thank you.
[2013-01-09 18:56:23 -0500] tomdzk: juliancdunn: let me check
[2013-01-09 18:56:29 -0500] ev0ldave: tomdzk:  i had issues with just copying the couch database that stores all of the user keys.  do a replication from previous database or try your luck with python-couchdb
[2013-01-09 18:56:59 -0500] tomdzk: ev0ldave: what issues did you run into ?
[2013-01-09 18:57:02 -0500] ev0ldave: python-couchdb was not dumping recognizable json for reimporting
[2013-01-09 18:57:50 -0500] ev0ldave: it's been a while, something similar though, like the users weren't there
[2013-01-09 18:58:45 -0500] tomdzk: ev0ldave: my import works just fine iff the chef server I 'import
[2013-01-09 18:58:48 -0500] tomdzk:  arg
[2013-01-09 18:59:05 -0500] tomdzk: my import works just fine iff the chef server I 'import' into, has no clients/nodes
[2013-01-09 18:59:55 -0500] ev0ldave: right, because then you just create new users
[2013-01-09 19:00:02 -0500] ev0ldave: but existing ones dont work
[2013-01-09 19:00:17 -0500] ev0ldave: http://wiki.apache.org/couchdb/How_to_replicate_a_database
[2013-01-09 19:00:32 -0500] tomdzk: ev0ldave: well not exactly, since I replace the couchdb files (while it's not running) instead of doing a couchdb import
[2013-01-09 19:00:56 -0500] tomdzk: so there shouldn't be any existing users anymore
[2013-01-09 19:01:02 -0500] tomdzk: at least that's the theory
[2013-01-09 19:04:09 -0500] ev0ldave: tomdzk: same version of couchdb?
[2013-01-09 19:04:15 -0500] tomdzk: yep
[2013-01-09 19:05:55 -0500] ev0ldave: ok, well, just letting you know copying had its issues for me a number of others.  the prescribed fix was a dump and import or replication. doesn't make a lot of sense to me either
[2013-01-09 19:08:41 -0500] juliancdunn: what I have had is an issue with the server's validation key
[2013-01-09 19:09:09 -0500] juliancdunn: if you install Chef on the new box first, it'll generate validation certs that don't match those in the restored couchdb dump
[2013-01-09 19:09:33 -0500] tomdzk: these should be in /etc/chef/certs, right ?
[2013-01-09 19:23:56 -0500] koaps: heya all, got a chef question about users
[2013-01-09 19:24:18 -0500] koaps: is there a way to only allow certain users to modify an environment?
[2013-01-09 19:27:25 -0500] tomdzk: juliancdunn: you were right, seems like an issue with the web ui specifically, normal knife runs fine
[2013-01-09 19:38:00 -0500] serge: Hi all, I'm having issues accessing my cookbooks after running "sudo chef-client" on my EC2 instance. I already ran "knife cookbook upload -a" successfully, so I'm not sure why I'm getting a 403.
[2013-01-09 19:38:21 -0500] Joel: Getting a criptic error, I believe it must be related to where it's pulling a recipe from: C:/ruby/Ruby193/lib/ruby/gems/1.9.1/gems/librarian-0.0.25/lib/librarian/source/git/repository.rb:201:in `block in run_command_internal': permission denied (publickey). (StandardError) fatal: Could not read from remote repository.
[2013-01-09 19:38:32 -0500] Joel: this is when doing a librarian-chef install, thoughts?
[2013-01-09 19:39:32 -0500] geekbri_: Joel: what happens if you try to clone whatever repository is throwing the error manually?
[2013-01-09 19:39:51 -0500] Joel: geekbri_: I wish i knew what repository, the error doesn't say
[2013-01-09 19:40:33 -0500] Joel: there's a stack trace, but it doesn't show in there
[2013-01-09 19:41:39 -0500] josephholsten: anyone know of a centos jeos image for kvm with cloud-init?
[2013-01-09 19:42:13 -0500] geekbri_: yfeldblum: Is there a way to get extra debugging information from librarian-chef?
[2013-01-09 19:42:26 -0500] yfeldblum: geekbri_, --verbose
[2013-01-09 19:42:32 -0500] geekbri_: Joel: ^
[2013-01-09 19:42:50 -0500] Joel: k, will try as soon as my gem update finishes
[2013-01-09 19:42:59 -0500] yfeldblum: careful, though, it may crash your console with the gigagigabytes of output
[2013-01-09 19:43:22 -0500] geekbri_: Sounds like a good reason to complain and tell the company to order you a new laptop!
[2013-01-09 19:43:31 -0500] geekbri_: or at least a ram upgrade :)
[2013-01-09 19:44:56 -0500] josephholsten: yfeldblum: totally worth it when librarian gets jammed.
[2013-01-09 19:45:42 -0500] josephholsten: someday I will write reproduction steps for those. as soon as I stop having deadlines.
[2013-01-09 19:46:41 -0500] ev0ldave: koaps:  only in private chef i believe, not open chef
[2013-01-09 19:47:48 -0500] Joel: geekbri_: Could not find task "__verbose".
[2013-01-09 19:47:59 -0500] Joel: even though I typed librarian-chef --verbose install
[2013-01-09 19:48:13 -0500] Joel: hah, works as last argument
[2013-01-09 19:48:20 -0500] geekbri_: I was about to say, put it at the end :)
[2013-01-09 19:50:04 -0500] yfeldblum: Joel, that's how Thor-based CLI applications work
[2013-01-09 19:50:38 -0500] Joel: and I can checkout just fine using tortoise git, so now the trick is to find out what's up with the git cli.
[2013-01-09 19:50:48 -0500] yfeldblum: Joel, positional parameters first, followed by named parameters
[2013-01-09 19:51:03 -0500] KarlHungus: hrm. i'm trying to get strainer working with foodcritic and it keeps biting me in the ass
[2013-01-09 19:51:06 -0500] KarlHungus: https://gist.github.com/5aa79f5032849dd5d14f
[2013-01-09 19:51:21 -0500] KarlHungus: htf to keep it from linting the rules? :/
[2013-01-09 19:56:20 -0500] serge: Here's the output of my previous 'sudo chef-client' command. http://pastebin.com/ggD2iU5Q .....I basically followed the steps off the chef wiki from this entry: http://wiki.opscode.com/display/chef/EC2+Bootstrap+Fast+Start+Guide  Not really sure what else to do since knife ssh refuses to work
[2013-01-09 20:03:27 -0500] Joel: heh needed to get a public key put on github
[2013-01-09 20:03:34 -0500] Joel: thanks for the --verbose tip, that should have been obvious
[2013-01-09 20:04:38 -0500] yfeldblum: Joel, i see your computer is still in one piece
[2013-01-09 20:08:22 -0500] jtimberman: Opscode Open Source Code Review (chef etc): Hangout: https://plus.google.com/hangouts/_/37a2f51589c2dd15bc7f8f9a3a4dcddaf383ee2d ; YouTube live stream: http://www.youtube.com/watch?v=23z8cKQ3g4c
[2013-01-09 20:09:23 -0500] geekbri_: I wish there was a way to make these bigger without full screening them
[2013-01-09 20:10:00 -0500] lehrblogger: on youtube? they grow to some degree if you increase browser window size
[2013-01-09 20:10:16 -0500] geekbri_: I've got my browser about as big as it can be :)
[2013-01-09 20:11:52 -0500] lehrblogger: ah :)
[2013-01-09 20:11:56 -0500] lehrblogger: my video player maxes out at ~1150x650 in a browser that's at 1400x1000
[2013-01-09 20:15:34 -0500] nomadwashere: If I have a library with a function which returns a variable in cookbook A, can I use this library in the recipe of cookbook B and get the return value there?
[2013-01-09 20:18:15 -0500] ranjib_: nomadwashere, yes
[2013-01-09 20:19:23 -0500] nomadwashere: ranjib_: When I tried it, it gave me a noMethodError, that's why I asked
[2013-01-09 20:20:25 -0500] nomadwashere: ranjib_: what about a provider? Can I do the same with it?
[2013-01-09 20:20:48 -0500] tomdzk: nomadwashere: do you have a dependency to the other cookbook in your metadata.rb ?
[2013-01-09 20:22:02 -0500] nomadwashere: tomdzk: yes I do
[2013-01-09 20:22:30 -0500] ranjib_: nomadwashere, is the library namespaced in a module?
[2013-01-09 20:25:53 -0500] nomadwashere: ranjib_: I am not sure what that means
[2013-01-09 20:34:22 -0500] serge: For the logs >> found out why I was getting a 403. I previously created an instance under the same name, so I had to delete the node from Hosted Chef and then rerun 'sudo chef-client' and then add the roles and recipes back with knife.
[2013-01-09 20:36:04 -0500] RIsrael: Have a problem with a machine that was running omnibus package chef 10.14.4    Upgraded with the omnibus 10.16.4 RPM package and it doesn't seem to have upgraded any gems for chef-solr, chef-expander, chef-server-api, or chef-server-webui.  Only the chef gem is updated.
[2013-01-09 20:37:21 -0500] serge: Try running "gem update" if you're running RVM or "sudo gem update"  ? Worth a shot.
[2013-01-09 20:38:54 -0500] tomdzk: nomadwashere: have you tried a plain ruby require of the library file ?
[2013-01-09 20:39:14 -0500] RIsrael: Trying the gem update, but while that's running, should the RPM have those packages?  I have a lot of hosts that can't reach the internet to update
[2013-01-09 20:41:11 -0500] serge: I honestly don't know. Maybe someone can chime in.
[2013-01-09 20:43:02 -0500] serge: If it was me, I wouldn't be concerned until chef stopped functioning or started to behave erratically
[2013-01-09 20:43:35 -0500] RIsrael: Unfortunately there's a bug in 10.4 that causes file permissions to not always be set properly, which is biting us pretty hard. :(
[2013-01-09 20:46:30 -0500] Joel: yfeldblum: was a pretty quiet verbose, I've seen WAY WAY worse
[2013-01-09 20:47:17 -0500] yfeldblum: Joel, heh
[2013-01-09 20:47:25 -0500] yfeldblum: Joel, it's not doing all that much
[2013-01-09 20:51:18 -0500] serge: @RIsrael, that's unfortunate. Hope you get that worked out!
[2013-01-09 20:55:57 -0500] tomdzk: ev0ldave, juliancdunn: fyi, I seemed to have found the cause of the restore problem I've had -  I was not backing up the /var/chef/cache folder which is heavily used by the chef config class
[2013-01-09 21:01:03 -0500] geekbri_: is anybody else having API request problems with hosted chef
[2013-01-09 21:01:03 -0500] geekbri_: ?
[2013-01-09 21:04:32 -0500] siezer: uploading is working fine for me at least
[2013-01-09 21:04:41 -0500] siezer: wait
[2013-01-09 21:05:14 -0500] siezer: too many connection resets
[2013-01-09 21:05:15 -0500] siezer: hrm
[2013-01-09 21:06:12 -0500] geekbri_: I'm getting "server returned error"
[2013-01-09 21:06:27 -0500] geekbri_: [2013-01-09T21:04:55+00:00] ERROR: Server returned error for https://api.opscode.com/organizations/gf-dev/roles/ops_tools_backup, retrying 2/5 in 8s
[2013-01-09 21:10:03 -0500] Drewzar: We're getting that too
[2013-01-09 21:10:12 -0500] mattray: ops is putting together a status update now, trying to sort out what's happening but there's some sort of massive connections spike
[2013-01-09 21:10:30 -0500] mattray: Drewzar: geekbri_: ^^
[2013-01-09 21:10:32 -0500] cschneid: api calls do eventually go through.
[2013-01-09 21:10:41 -0500] cschneid: mattray: thanks for looking at it :)
[2013-01-09 21:11:06 -0500] mattray: cschneid: I'm just a lurker, not doing the fixing :)
[2013-01-09 21:11:12 -0500] jtimberman: Opscode COOK Code Review, Hangout: https://plus.google.com/hangouts/_/4aadb4d79a49a2b1a044b9426c1bad51cecaecfe Live YouTube stream:
[2013-01-09 21:11:14 -0500] jtimberman: http://youtu.be/5aVBAP5wUdA
[2013-01-09 21:11:21 -0500] cschneid: ahh, ok.
[2013-01-09 21:11:45 -0500] Drewzar: Thanks mattray
[2013-01-09 21:12:48 -0500] rocket: jtimberman: I have a quick question, with chef11 from the chef-server cookbook thats out now .. how do I change the ports things are running at?
[2013-01-09 21:13:16 -0500] rocket: I am trying to run it in vagrant with a port redirect for 443
[2013-01-09 21:13:23 -0500] pwelch: does anyone have experience with chefspec?
[2013-01-09 21:13:53 -0500] dysinger: some one have candles? I think we have an outage on platform.
[2013-01-09 21:14:10 -0500] pwelch: Im getting "is configured to notify resource service[nginx] with action restart, but service[nginx] cannot be found in the resource collection."
[2013-01-09 21:14:18 -0500] pwelch: not sure how to fake a service call
[2013-01-09 21:17:12 -0500] wassy121: Why oh why is my knife bootstrap failing?:
[2013-01-09 21:17:15 -0500] wassy121:  Client key /etc/chef/client.pem is not present - registering
[2013-01-09 21:17:22 -0500] wassy121:  HTTP Request Returned 401 Unauthorized: Failed to authenticate. Ensure that your client key is valid.
[2013-01-09 21:17:45 -0500] wassy121: My validation key seems to be correct on the client I'm bootstrapping
[2013-01-09 21:24:10 -0500] nomadwashere: Is there an example anywhere where I can find a library being used across different cookbooks. I tried doing it but I keep getting NameError: undefined local variable or method `classifier' and if I tried to require 'lib_name' I get LoadError: cannot load such file I am not sure where am goign wrong as I have included the cookbook which has the library in the metadata.rb of other cookbooks
[2013-01-09 21:26:34 -0500] tomdzk: nomadwashere: if you have control over the library, then you could try to mix it into recipe/resource, e.g.:
[2013-01-09 21:26:36 -0500] tomdzk: Chef::Recipe.send(:include, MyLibrary::MyNamespace)
[2013-01-09 21:26:36 -0500] tomdzk: Chef::Resource::Execute.send(:include, MyLibrary::MyNamespace)
[2013-01-09 21:26:43 -0500] miah: make sure you 'depends' on the cookbook the library is in.
[2013-01-09 21:30:23 -0500] nomadwashere: miah: I added the 'depends' in the metadata.rb Is it to be done in the recipe? tomdzk: sorry I don't know how to get MyNamespace (newbie to chef) any pointers?
[2013-01-09 21:31:25 -0500] tomdzk: nomadwashere: you usually namespace your library code:
[2013-01-09 21:31:26 -0500] tomdzk: module MyLibrary
[2013-01-09 21:31:26 -0500] tomdzk:   module MyNamespace
[2013-01-09 21:31:27 -0500] tomdzk:     def my_method
[2013-01-09 21:31:27 -0500] tomdzk:     end
[2013-01-09 21:31:27 -0500] tomdzk:   end
[2013-01-09 21:31:28 -0500] tomdzk: end
[2013-01-09 21:31:54 -0500] tomdzk: and you simply add those two lines after that MyLibrary module (e.g. end of the .rb file)
[2013-01-09 21:32:03 -0500] spox: nomadwashere: if you are using it another cookbook, you will need a depends in the metadata.rb file
[2013-01-09 21:32:16 -0500] spox: and you will need to include_recipe 'librarycookbook'
[2013-01-09 21:32:26 -0500] spox: to get the cookbook into the run list so it is loaded
[2013-01-09 21:32:40 -0500] miah: nomadwashere: nah. just in metadata.rb
[2013-01-09 21:32:53 -0500] spox: miah: are you sure? i've had issues with that in the past
[2013-01-09 21:33:16 -0500] miah: spox: you may be right with the last part
[2013-01-09 21:33:24 -0500] miah: but let me check
[2013-01-09 21:34:08 -0500] tomdzk: spox: include_recipe "foo" will include the default recipe from the foo cookbook iirc, nomadwashere's problem is with library code in that cookbook
[2013-01-09 21:34:31 -0500] spox: tomdzk: i understand that but you need to get the cookbook included into the run list, otherwise it will not be loaded
[2013-01-09 21:34:38 -0500] miah: a depends should be enough
[2013-01-09 21:34:47 -0500] spox: ah, i may stand corrected then
[2013-01-09 21:34:50 -0500] spox: miah: thanks :)
[2013-01-09 21:34:57 -0500] miah: i have a cookbook here that _only_ has a metadata.rb, and a libraries directory. in the libraries directory there are two ruby modules.
[2013-01-09 21:35:12 -0500] miah: a depends on that cookbook allows me to call those modules
[2013-01-09 21:36:02 -0500] miah: but also, just to be clear. we fully expose a module
[2013-01-09 21:40:20 -0500] nomadwashere: tomdzk: try it out, thanks
[2013-01-09 21:42:19 -0500] miah: we didn't fully namespace our module like that. just 'module FooModule def my_method #somecode end end'
[2013-01-09 21:42:27 -0500] miah: eg, its not a module in a module
[2013-01-09 21:43:05 -0500] tomdzk: miah: yeah, this is mostly useful if you have more than one library file
[2013-01-09 21:43:35 -0500] miah: ya. we do =)
[2013-01-09 21:55:36 -0500] Joel: https://github.com/opscode/cookbooks/tree/master/mysql - What would a chef file entry look like for these recipes? cookbook 'mysql', :git => 'https://github.com/opscode/cookbooks.git', :path => 'cookbooks/tree/master/mysql' ?
[2013-01-09 22:00:14 -0500] lehrblogger: is it reasonable to store variables from a data bag in my node attributes, so that i can access them from different cookbooks/recipes without reloading the items?
[2013-01-09 22:01:50 -0500] nomadwashere: tomdzk: I tried exactly as what you suggested but I still get 'NameError: undefined local variable or method `classifier'' Is there a way to debug this?
[2013-01-09 22:03:00 -0500] miah: nomadwashere: gist your code
[2013-01-09 22:03:32 -0500] tomdzk: nomadwashere: you can also add checks in your recipe to verify the presence of the module/method
[2013-01-09 22:04:04 -0500] miah: lehrblogger: https://twitter.com/kantrn/status/241634865672495104
[2013-01-09 22:05:33 -0500] lehrblogger: miah: awesome, thanks!
[2013-01-09 22:06:54 -0500] nomadwashere: miah: https://gist.github.com/f7260677b1b065fe09ff
[2013-01-09 22:08:13 -0500] miah: nomadwashere: try GetLatestWar::GetUrl.mymethod
[2013-01-09 22:08:30 -0500] miah: also, methods should be snake_case and not have capitals in them.
[2013-01-09 22:09:37 -0500] tomdzk: nomadwashere: and you have a depends "get_file" in install_file/metadata.rb ?
[2013-01-09 22:10:19 -0500] nomadwashere: tomdzk: yep
[2013-01-09 22:11:50 -0500] nomadwashere: Well, now I get a different error NoMethodError: undefined method `my_method' for GetLatestWar::GetUrl:Module I changed the name to snake case
[2013-01-09 22:14:08 -0500] tomdzk: nomadwashere: what happens if you make it: def self.my_method
[2013-01-09 22:14:54 -0500] miah: ah ya. that
[2013-01-09 22:16:00 -0500] nomadwashere: I think that worked, gives me an ArgumentError which I can fix. What exactly is self?
[2013-01-09 22:16:30 -0500] tomdzk: class-level method (vs. instance)
[2013-01-09 22:16:31 -0500] nomadwashere: Actually I was wrong
[2013-01-09 22:16:43 -0500] nomadwashere: I do have the correct number of arguments
[2013-01-09 22:17:32 -0500] tomdzk: nomadwashere: try it with a dummy method first (which could simply do Chef::Log.info "Yay" or something)
[2013-01-09 22:17:54 -0500] nomadwashere: yes
[2013-01-09 22:24:58 -0500] nomadwashere: tomdzk: Even with a test method I get the same Argument Error FATAL: ArgumentError: wrong number of arguments (0 for 6) It didn't have
[2013-01-09 22:27:21 -0500] tomdzk: nomadwashere: check where the method comes from, e.g. GetLatestWar::GetUrl.method(:my_method)
[2013-01-09 22:27:43 -0500] tomdzk: if you're running 1.9+, you can even figure our the source location, e.g. GetLatestWar::GetUrl.methodmy_method). source_location
[2013-01-09 22:52:08 -0500] auser: so umm using chef-client version 10.16.4, I get the perplexing error: "Cannot find a resource for converge_by" on the first run, but not on the second (first run being the bootstrap run)
[2013-01-09 22:53:48 -0500] cjs226: how can i search for any nodes who don't have a role assigned?
[2013-01-09 22:54:58 -0500] cjs226: within a recipe
[2013-01-09 22:55:08 -0500] miah: search for nodes with the _default role
[2013-01-09 22:55:30 -0500] auser: hm
[2013-01-09 22:57:09 -0500] cjs226: _default doesn't exist as a role for me, only an environment?
[2013-01-09 22:57:41 -0500] auser: so umm using chef-client version 10.16.4, I get the perplexing error: "Cannot find a resource for converge_by" on the first run, but not on the second (first run being the bootstrap run) for the python_pip[virtualenv] recipe. Does anyone else see that error?
[2013-01-09 22:59:07 -0500] miah: ah ya. im derp.
[2013-01-09 23:01:52 -0500] cjs226: miah: no worries.  we ran into a prob today where a mistake in a recipe caused bootstraps to fail so no roles nor recipes were assigned.  I'm wanting to monitor for the problem as well as ensure those hosts don't jack up my nagios config.  :-)
[2013-01-09 23:02:16 -0500] miah: ya
[2013-01-09 23:02:42 -0500] miah: you should be able to just search for all nodes and then check if the node objects role/roles entry is nil or empty
[2013-01-09 23:05:42 -0500] cjs226: miah: thx, i'll go down that road
[2013-01-09 23:08:09 -0500] danryan: How the heck do I use test-kitchen for a cookbook with a local filesystem dependency?
[2013-01-09 23:08:25 -0500] danryan: A cheffile with `cookbook "../../../../cookbook"` ?
[2013-01-09 23:08:25 -0500] danryan: lol
[2013-01-09 23:09:00 -0500] miah: a local filesystem dependancy?
[2013-01-09 23:10:57 -0500] danryan: a local cookbook
[2013-01-09 23:10:59 -0500] danryan: sorry
[2013-01-09 23:11:00 -0500] danryan: :)
[2013-01-09 23:14:08 -0500] danryan: Following this: http://tickets.opscode.com/browse/KITCHEN-53 I still get: https://gist.github.com/00043da989ca106e719a#file-error
[2013-01-09 23:18:12 -0500] danryan: Something must be wrong with the path I'm specifying, like test-kitchen isn't trying to evaluate it in the context of another working dir
[2013-01-09 23:21:50 -0500] nomadwashere: tomdzk: Thanks a lot, fixed issues
[2013-01-09 23:24:08 -0500] cschneid: what are chef environments for?  Staging / Prod?
[2013-01-09 23:24:21 -0500] miah: if thats how you choose to use them, then yes.
[2013-01-09 23:25:01 -0500] miah: i use them primarily as a way to restrict cookbook versions to a specific group of computers as well as provide override_attributes
[2013-01-09 23:31:53 -0500] cschneid: miah: so I can say "override these attributes here in dev, and use the newer version of redis cookbook (new version whatever) and we can test against it"
[2013-01-09 23:31:56 -0500] cschneid: miah: as at least one use case
[2013-01-09 23:38:14 -0500] mikeroth: how does one recursively name a directory in chef without using bash commands?
[2013-01-09 23:38:33 -0500] mikeroth: sorry not name but chown a user on a dir
[2013-01-09 23:54:26 -0500] mlanghor: hello, does someone have a link to feature comparisons between the opensource & hosted/private chef?
[2013-01-09 23:54:47 -0500] mlanghor: having troubles finding it
