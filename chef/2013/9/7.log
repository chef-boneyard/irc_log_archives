[2013-09-07 00:14:21 -0400] netty195: hi all
[2013-09-07 00:14:39 -0400] JoshuaMiller: yo
[2013-09-07 00:14:51 -0400] netty195: how can I have chef-client tell chef-server which role it would like to assume?
[2013-09-07 00:15:33 -0400] a13x212: chef-client -o role[blah]
[2013-09-07 00:16:27 -0400] JoshuaMiller: Or use -j and a file with the run_list as json (like /etc/chef/first-boot.json)
[2013-09-07 00:19:35 -0400] netty195: a13x212 & JoshuaMiller - thanks!
[2013-09-07 01:42:05 -0400] yoshie902a: any one around?
[2013-09-07 01:42:52 -0400] yoshie902a: I'm trying to trouble shoot this error, any help is appreciated.
[2013-09-07 01:43:04 -0400] yoshie902a: https://github.com/karmi/chef-hello-cloud/issues/5
[2013-09-07 01:44:49 -0400] yoshie902a: Does Isa hang around in here?
[2013-09-07 01:49:09 -0400] yoshie902a: it seems pretty quite in here
[2013-09-07 01:57:08 -0400] JoshuaMiller: No one has any problems with chef.  Harmony has been achieved.
[2013-09-07 01:58:30 -0400] yoshie902a: JoshuaMiller: you must have missed my posts, haha
[2013-09-07 02:30:07 -0400] lledet: hi i have a recipe that uses include_recipe 'logstash::server' then a few lines down tries to use a template from MY cookbook but i'm getting an error that the log stash cookbook doesn't have the template
[2013-09-07 02:30:40 -0400] lledet: i don't think this is specific to log stash it's just an example, any idea why it's looking in a separate cookbook for my template?
[2013-09-07 02:36:37 -0400] hasrb: lledet: Are you using the Chef template resource? What's that look like?
[2013-09-07 02:37:45 -0400] hasrb: and where is the file located in your cookbook?
[2013-09-07 02:38:14 -0400] lledet: http://pastie.org/8304936
[2013-09-07 02:38:24 -0400] lledet: that's the relevant (and about 95%) of the recipe
[2013-09-07 02:38:39 -0400] lledet: the template is in templates/default/logstash.conf.erb in my site-cookbook
[2013-09-07 02:40:28 -0400] hasrb: What's the error?
[2013-09-07 02:41:18 -0400] lledet: http://pastie.org/8304941
[2013-09-07 02:42:39 -0400] hasrb: hmm, you've uploaded the latest version of the cookbook, yah?
[2013-09-07 02:42:50 -0400] lledet: yep
[2013-09-07 02:43:25 -0400] hasrb: Where is this specified? http://pastie.org/8304936
[2013-09-07 02:43:58 -0400] lledet: in my site-cookbook /recipes/default.rb
[2013-09-07 02:46:25 -0400] hasrb: Have you tried setting the cookbook param for the template to "logstash"?
[2013-09-07 02:46:54 -0400] lledet: no, i didn't know you can do that
[2013-09-07 02:47:01 -0400] lledet: i'll try specifying my cookbook
[2013-09-07 02:47:03 -0400] hasrb: Yah, http://docs.opscode.com/resource_template.html
[2013-09-07 02:47:22 -0400] hasrb: you have your site cookbook though and then you have logstash, is that your site cookbook that you're referring to?
[2013-09-07 02:47:25 -0400] lledet: looking at this now  http://docs.opscode.com/chef/resources.html#template :)
[2013-09-07 02:47:35 -0400] hasrb: Or is it http://community.opscode.com/cookbooks/logstash?
[2013-09-07 02:47:44 -0400] lledet: the template is in my site cookbook which is called iris
[2013-09-07 02:49:21 -0400] lledet: it actually worked when i specified my site cookbook
[2013-09-07 02:49:51 -0400] hasrb: and looking at https://github.com/lusis/chef-logstash/blob/master/recipes/server.rb#L132 it looks like it copies over a logstash.conf file
[2013-09-07 02:49:52 -0400] hasrb: col
[2013-09-07 02:49:54 -0400] hasrb: *cool
[2013-09-07 02:50:03 -0400] lledet: and the log stash server automatically restarted  which you can see in my paste i didn't tell it to do
[2013-09-07 02:50:19 -0400] hasrb: Yah, any template that you specify, it'll look in the current cookbook that you put that you specified the template int
[2013-09-07 02:51:05 -0400] lledet: i don't quite understand what's going on, how is my template mixing up with this one? is it because they're both using the same name?
[2013-09-07 02:52:10 -0400] hasrb: It's restarting because there's a couple lines like this in that logstash::server recipe "notifies :restart, service_resource"
[2013-09-07 02:52:31 -0400] hasrb: Well when you reference a template, it usually belongs in the same cookbook
[2013-09-07 02:53:59 -0400] hasrb: The typical flow is usually that you specify variables in your role/environment that modify a template file
[2013-09-07 02:54:52 -0400] hasrb: For instance, if you look at the template for server.conf.erb you can see there's a few options https://github.com/lusis/chef-logstash/blob/master/templates/default/server.conf.erb
[2013-09-07 02:55:47 -0400] lledet: ahhh i see, it's pulling the inputs, filters, etc from attributes
[2013-09-07 02:56:46 -0400] hasrb: And if the cookbook is written properly, you'll find all of the options in the attributes folder corresponding to the recipe https://github.com/lusis/chef-logstash/blob/master/attributes/server.rb
[2013-09-07 02:57:30 -0400] hasrb: I try to stick just setting default attributes or overriding attributes before I write my own template file for something
[2013-09-07 02:57:39 -0400] lledet: i'm looking at that but they're just empty arrays and i don't see how they're supposed to be formatted,  even looking at https://github.com/lusis/chef-logstash/blob/master/libraries/logstash_conf.rb#L45
[2013-09-07 02:58:10 -0400] lledet: that's a good idea, i'm going to add some attributes instead of overwriting the template
[2013-09-07 02:58:45 -0400] hasrb: Are you running chef-server or solo?
[2013-09-07 02:58:51 -0400] lledet: solo
[2013-09-07 02:58:58 -0400] lledet: with knife-solo
[2013-09-07 03:00:13 -0400] hasrb: I'm not as familiar with solo but with server you can see all of the attributes that are set so you can easily see what was calculated for an attribute value by browsing through the json
[2013-09-07 03:02:06 -0400] hasrb: Maybe something like https://github.com/edelight/chef-solo-search would be helpful?
[2013-09-07 03:05:14 -0400] lledet: i'm going to check that out if i can't figure out how these attributes are supposed to be formatted
[2013-09-07 03:11:25 -0400] lledet: hasrb: thanks a lot for your help
[2013-09-07 03:11:39 -0400] hasrb: lledet: no prob
[2013-09-07 09:25:04 -0400] Casper_: Hi all
[2013-09-07 09:25:12 -0400] Casper_: Nice to meet you all
[2013-09-07 09:27:10 -0400] Casper_: Anybody has met the error when executing "sudo chef-server-ctl test"
[2013-09-07 09:27:14 -0400] Casper_: ?
[2013-09-07 09:27:33 -0400] Casper_: There are several error messages:
[2013-09-07 09:29:44 -0400] Casper_: rspec ./lib/pedant/rspec/common.rb:74 # Open Source /users endpoint POST /users as an admin without an existing user of the same name should respond with 201 Created and create the user
[2013-09-07 09:29:58 -0400] Casper_: rspec ./lib/pedant/rspec/role_util.rb:39 # Testing the Roles API endpoint making a request to /roles using POST for a role that does not exist should respond with 201 and the correct path
[2013-09-07 09:30:14 -0400] Casper_: Anyone has a idea about this? Thanks a lot !
[2013-09-07 11:25:31 -0400] yoshie902a: anyone around?  I'm trying to figurout why this is not downloading? http://www.opscode.com/chef/download?v=11.6&prerelease=false&p=el&pv=6&m=x86_64
[2013-09-07 11:26:11 -0400] yoshie902a: its from the install.sh script url="http://www.opscode.com/chef/download?v=${version}&prerelease=${prerelease}&p=${platform}&pv=${platform_version}&m=${machine}"
[2013-09-07 11:33:09 -0400] yoshie902a: according to Chef's website, it looks like this link needs to be used....
[2013-09-07 11:33:10 -0400] yoshie902a: https://opscode-omnibus-packages.s3.amazonaws.com/ubuntu/12.04/x86_64/chef_11.6.0-1.ubuntu.12.04_amd64.deb
[2013-09-07 12:33:44 -0400] timruffles: has anyone had a problem with the application resource not running before_symlink?
[2013-09-07 12:56:41 -0400] yoshie902a: anyone from opscode here?
[2013-09-07 12:56:48 -0400] yoshie902a: got  a bug report for you
[2013-09-07 13:21:12 -0400] mveitas: yoshie902a: have you files a ticket?
[2013-09-07 13:21:27 -0400] yoshie902a: no, where do you do tat?
[2013-09-07 13:21:29 -0400] yoshie902a: that?
[2013-09-07 13:21:46 -0400] mveitas: https://tickets.opscode.com
[2013-09-07 13:21:59 -0400] yoshie902a: mveitas: thanks
[2013-09-07 13:22:45 -0400] yoshie902a: mveitas:  do you happen to know what type of distro amazon linux is out of this list? https://gist.github.com/danielsdeleo/5976964
[2013-09-07 13:23:45 -0400] yoshie902a: I'm thinking RHEL/CentOS 6, OpenSuSE 12
[2013-09-07 13:23:57 -0400] mveitas: best place to look is on the AWS site: http://aws.amazon.com/amazon-linux-ami/
[2013-09-07 13:24:18 -0400] mveitas: I can't be certain as I don't use it
[2013-09-07 13:24:33 -0400] yoshie902a: thanks
[2013-09-07 13:25:24 -0400] clakeb: yoshie902a: what is the advantage or why do you use amazon linux?
[2013-09-07 13:27:20 -0400] yoshie902a: clakeb: not sure, but it's the distro used in https://github.com/karmi/chef-hello-cloud.  However, the repo is not installing omnibus and hence, I'm trying to debug it
[2013-09-07 15:19:05 -0400] gazarsgo: if i need to replace a node how do i swap out its ip ? just update dns ?
[2013-09-07 16:09:12 -0400] cwj: hello chefs
[2013-09-07 16:09:22 -0400] cwj: anyone know what this template error is trying to tell me? https://gist.github.com/cwjohnston/6476851
[2013-09-07 16:09:31 -0400] cwj: undefined method ` ' for #<Chef::Mixin::Template::TemplateContext:0x00000002ccde98>
[2013-09-07 16:32:42 -0400] adnichols: cwj shouldn't action be a symbol?
[2013-09-07 16:32:48 -0400] adnichols: action :create
[2013-09-07 16:36:15 -0400] cwj: i am not specifying an action in the resource, so it is defaulting to create
[2013-09-07 16:36:25 -0400] cwj: i think i have found the problem though
[2013-09-07 16:36:48 -0400] cwj: theres some weird whitespace preceding the @user var
[2013-09-07 16:40:22 -0400] adnichols: ah ok, I wasn't sure what the actual resource looked like based on the trace
[2013-09-07 16:43:10 -0400] cwj: yeah strange that chef doesnt display it as a symbol in the stacktrace
[2013-09-07 21:35:24 -0400] WPsites: If I've got chef server version  0.10.8 and chef client version 10.16.2 - a number of cookbooks have started to play up. I think I need to upgrade chef. How do I go about this? can I just upgrade the client a little or do I need to upgrade the server and then every single chef client?
[2013-09-07 23:43:37 -0400] cwj: WPsites: shouldnt be necessary to upgrade the server
[2013-09-07 23:43:59 -0400] cwj: WPsites: and for upgrading the client, http://cookbooks.opscode.com/cookbooks/omnibus_updater may be of use to you
[2013-09-07 23:45:34 -0400] WPsites: cwj: thanks. I'm going ahead to try and upgrade all of it anyway. Sounds like chef 11 has some improvements. I'm just setting up a new chef server now and will try and copy the node info etc
[2013-09-07 23:46:00 -0400] cwj: ah if you are going to chef 11 you may need to upgrade the server
[2013-09-07 23:46:10 -0400] cwj: let me find the upgrade documentation
[2013-09-07 23:47:22 -0400] cwj: heres some official docs http://docs.opscode.com/upgrade_server.html
[2013-09-07 23:48:07 -0400] stormerider: you can run the 11 client with a 10 server
[2013-09-07 23:49:00 -0400] cwj: thought that might be the case but ive never done so myself
