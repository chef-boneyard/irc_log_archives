[2013-09-27 00:52:18 -0400] joe__: hi guys, does any one experience this problem im using client 10.162.2 "Chef::Exceptions::Env: env[PATH] (C line /chef/cache/cookbooks/windows/providers/path.rb) had an error: Chef::Exceptions::Env: Cannot modify env[PATH] - key does not exist!"
[2013-09-27 00:54:16 -0400] joe__: i guys, does any one experience this problem im using client 10.162.2 "Chef::Exceptions::Env: env[PATH] (C line /chef/cache/cookbooks/windows/providers/path.rb) had an error: Chef::Exceptions::Env: Cannot modify env[PATH] - key does not exist!
[2013-09-27 00:54:24 -0400] joe__: hi guys, does any one experience this problem im using client 10.162.2 "Chef::Exceptions::Env: env[PATH] (C line /chef/cache/cookbooks/windows/providers/path.rb) had an error: Chef::Exceptions::Env: Cannot modify env[PATH] - key does not exist!
[2013-09-27 00:54:37 -0400] joe__: hi guys, does any one experience this problem im using client 10.16.2 "Chef::Exceptions::Env: env[PATH] (C line /chef/cache/cookbooks/windows/providers/path.rb) had an error: Chef::Exceptions::Env: Cannot modify env[PATH] - key does not exist!
[2013-09-27 01:00:13 -0400] joonas: joe__: I don't think repeating the question helps
[2013-09-27 01:03:09 -0400] joe__: sorry, got a keyboard problem
[2013-09-27 03:20:07 -0400] gregz: Anybody familiar with getting cookbook changes pulled in by opscode?
[2013-09-27 03:21:46 -0400] gregz: Just got my company to sign the CLA and I have some windows cookbook improvements to add back.
[2013-09-27 04:05:50 -0400] arussel`: I'm trying to run vagrant with hosted chef using the opscode_ubuntu-12.04-i386_provisionerless, I also tried opscode_ubuntu-12.04-i386, but I get:
[2013-09-27 04:05:57 -0400] arussel`: The chef binary (either `chef-solo` or `chef-client`) was not found on
[2013-09-27 04:06:04 -0400] arussel`: which box can I use ?
[2013-09-27 04:07:49 -0400] juliancdunn: arussel`: the boxes are *provisionerless*
[2013-09-27 04:08:03 -0400] juliancdunn: use the vagrant-omnibus plugin which will install Chef for you at boot time
[2013-09-27 04:08:19 -0400] juliancdunn: gregz: good news! looking forward to getting your contributions
[2013-09-27 04:11:09 -0400] arussel`: juliancdunn: I understand how to install chef-client in the box, but then I don't understand this page:
[2013-09-27 04:11:10 -0400] arussel`: http://docs.vagrantup.com/v2/provisioning/chef_client.html
[2013-09-27 04:11:35 -0400] arussel`: I would have expect that either the box or vagrant would have install it
[2013-09-27 04:12:14 -0400] arussel`: there is an option to give a recipe list, what's the point if chef-client is not there ?
[2013-09-27 04:15:54 -0400] juliancdunn: arussel`: I'm not sure what you're asking exactly
[2013-09-27 04:16:08 -0400] juliancdunn: if you use the plugin to install chef before the provisioner runs, then you're golden
[2013-09-27 04:16:55 -0400] juliancdunn: we specifically don't bake Chef into the boxes so that we don't have to re-cut 25 boxes every time we release a new version of Chef
[2013-09-27 04:20:00 -0400] arussel`: juliancdunn: installing vagrant-omnibus worked great. I just thought the vagrant doc on provisioning with chef was not very accurate or should mention that you need to install chef.
[2013-09-27 04:20:45 -0400] juliancdunn: arussel`: well, the vagrant doc is written by Hashicorp and they make certain assumptions about people's boxes
[2013-09-27 08:17:56 -0400] arussel`: is there an easier way to count the search query result than 'knife search 'role:foobar' | grep 'Node Name' | wc -l ' ?
[2013-09-27 08:30:36 -0400] ocholetras: using search inside recipes is pretty easy to count, but with knife you are working with stdout.. so i dont know a better way
[2013-09-27 08:49:34 -0400] laurent\: http://docs.opscode.com/lwrp_common_inline_compile.html is that a chef11'ism ?
[2013-09-27 10:58:45 -0400] mosez: how can i use a libraries helper method without adding it manually within recipe files?
[2013-09-27 11:14:29 -0400] re: Hi, is template resource supposed to "notifies" other resources only when the template file changes?
[2013-09-27 11:39:00 -0400] Raboo_: Hi
[2013-09-27 11:39:33 -0400] Raboo_: I have a problem with service in a recipt
[2013-09-27 11:39:50 -0400] Raboo_: i stat that it should start the service, the log says it starts, but it doesn't.
[2013-09-27 11:40:11 -0400] Raboo_: Processing service[hbase-regionserver] action start (hadoop4::hbase_regionserver line 7)
[2013-09-27 11:41:43 -0400] Raboo_: in my serice declaration i have action [ :enable, :start ]action [ :enable, :start ]
[2013-09-27 11:41:59 -0400] Raboo_: and supports :status => true, :restart => true, :reload => true
[2013-09-27 11:46:53 -0400] glen: how do i concat two remote files together?
[2013-09-27 12:09:41 -0400] s2r2: glen: execute "cat file1 file2 > file3"
[2013-09-27 12:10:36 -0400] s2r2: Raboo_: the recipe will try to start it (depending on the provider, probably "/etc/init.d/hbase-regionserver start"), as long as that succeeds (exitcode 0), chef is happy
[2013-09-27 12:22:36 -0400] allnightlong: Hi there, could anyone help me with mongodb recipe install?
[2013-09-27 12:23:20 -0400] allnightlong: I've got such a role https://gist.github.com/allnightlong/6727817
[2013-09-27 12:23:30 -0400] allnightlong: and two brand new ubuntu 12.04 nodes
[2013-09-27 12:24:10 -0400] allnightlong: Here is exception trace
[2013-09-27 12:24:11 -0400] allnightlong: https://gist.github.com/allnightlong/6727828
[2013-09-27 12:46:36 -0400] Raboo_: s2r2: there is a bug in cloudera hbase 4.4.0 init script for hbase-regionserver. The status command always returns 0, which made chef believe that it's always running...
[2013-09-27 12:49:02 -0400] s2r2: Raboo_: you could deploy a fixed init script... just take care that it is in place before you do "service ... action :start"
[2013-09-27 12:51:03 -0400] Raboo_: s2r2: i used a custom status_command in the service declaration instead. I don't feel it's wise to change a init script that might change when i do another upgrade.
[2013-09-27 12:52:13 -0400] s2r2: Raboo_: that's a nice solution..  however, chef will not test the status if "/etc/init.d/service start" returns 0, right?
[2013-09-27 12:53:01 -0400] s2r2: you could probably do that: execute "/etc/init.d/service status" and it will kill you chef run if _this_ doesn't return 0...
[2013-09-27 12:53:07 -0400] Raboo_: s2r2: i figured that it doesn't even try to start the service since status returns 0
[2013-09-27 12:53:30 -0400] s2r2: Raboo_: true...
[2013-09-27 12:55:36 -0400] pontiki: o/
[2013-09-27 12:56:59 -0400] Raboo_: s2r2: thanks anyhow
[2013-09-27 13:51:06 -0400] glen: is there possible to preserve file timestamps when using template resource?
[2013-09-27 14:22:45 -0400] Chocobo: Hi all.  I am having a VERY strange problem.   I have two neutron l3 agents (Grizzly).  One them works absolutely fine, routers connected to the other have a strange issue where they can not download files from https sites...  it just times out.  Has anyone ever heard of such a thing?
[2013-09-27 14:34:13 -0400] MattP__: Hello everybody, I'm trying to set a default attribute at the environment level and use it in a default attribute file, but it does not work. I call node['file_server'] in default.rb and get an error  "can't convert nil into String" , as if the attribute wasn't found...  can anyone help me with that?
[2013-09-27 14:35:38 -0400] ssd7: MattP__: What version of Chef are you on?
[2013-09-27 14:35:50 -0400] MattP__: 10.18.2
[2013-09-27 14:36:53 -0400] ssd7: MattP__: In Chef 10 refering to node attributes in attribute files can be tricky becuase you are referring to them in the middle of the values being built up.  We fixed it in Chef 11, but in Chef 10 you are typically better off doing that sort of manipulation in recipes.
[2013-09-27 14:38:28 -0400] MattP__: ssd7: Ok, so either I modify my recipe, either I upgrade to Chef 11 ?
[2013-09-27 14:40:56 -0400] adamjk-dev: hrmm... anyone know the syntax for the ssh private key path in a kitchen.yml file?
[2013-09-27 14:41:53 -0400] MattP__: ssd7: Thanks a lot, it fixed my problem
[2013-09-27 14:43:57 -0400] ssd7: MattP__: np. :)
[2013-09-27 14:46:22 -0400] MattP__: ssd7: on a scale from 1 to 10, how painful would you rate the upgrade from 10 to 11 ?
[2013-09-27 14:47:21 -0400] ssd7: MattP__: Depends on your set of cookbooks.  If you move to the most recent version of 10 you should get a bunch of warning for places where you would need to change your cookbooks.
[2013-09-27 14:48:06 -0400] ssd7: MattP__: I personally found it to be a pretty easy transition as a lot of the cookbook changes are someone mechanical.
[2013-09-27 14:49:57 -0400] ssd7: MattP__: You can see all the breaking changes here: http://docs.opscode.com/breaking_changes_chef_11.html  The biggest changes are all around attributes.
[2013-09-27 14:50:14 -0400] MattP__: ssd7: Thanks a lot, I'll dig into http://docs.opscode.com/upgrade_server.html :)
[2013-09-27 14:51:22 -0400] MattP__: ssd7 : It should pretty straighforward then :)
[2013-09-27 14:53:05 -0400] ssd7: MattP__: Note that you don't need to upgrade your server to upgrade youc lients.
[2013-09-27 14:53:27 -0400] ssd7: Chef 11 clients can still talk to a Chef 10 server.
[2013-09-27 15:13:35 -0400] broconne: is there a rubyesq way of combining/nesting an if/unless.. for example:
[2013-09-27 15:13:35 -0400] broconne:   new_resource.version(node[new_resource.product]['version']) if new_resource.version.nil?    I only want to execute that if after if passes, the node[new_resource.product] isn't nil.
[2013-09-27 15:15:11 -0400] cpuguy83: broconne: That's how you'd do it
[2013-09-27 15:15:39 -0400] broconne: Yes, but I am tryign to figure out how to nest them.. because sometimes node[new_resource.product] is it self nil.
[2013-09-27 15:15:51 -0400] broconne: which causes an error when trying to find ['version']
[2013-09-27 15:15:51 -0400] renchap: if new_resource.version.nil? and !node[new_resource.product].nil?
[2013-09-27 15:15:57 -0400] broconne: so, its almost like I am trying ot nest.
[2013-09-27 15:16:17 -0400] cpuguy83: if foo.nil? if bar.nil? stuff; end; end
[2013-09-27 15:16:26 -0400] cpuguy83: Also, what renchap said
[2013-09-27 15:16:59 -0400] broconne: thanks.. easy enough..
[2013-09-27 15:17:37 -0400] cpuguy83: broconne: http://pastebin.com/YKCmy7iW
[2013-09-27 15:18:19 -0400] broconne: yeah, the nested if makes sense.. didn't know if there was a rubyier way :-)
[2013-09-27 15:18:31 -0400] masterkorp: hello
[2013-09-27 15:18:40 -0400] cpuguy83: It's but ugly and a code smell...
[2013-09-27 15:18:48 -0400] cpuguy83: But it's also a chef deployment, not an application
[2013-09-27 15:19:51 -0400] cpuguy83: I would always do the one-liner if possible instead of nesting (ie. 'if foo.nill && bar.nil' )
[2013-09-27 15:20:01 -0400] broconne: yeah - that is the route I am going...
[2013-09-27 15:20:26 -0400] broconne: Also, is there a way to statically import namespaces?   so instead of Chef::Log.debug..  I can just do debug()
[2013-09-27 15:48:39 -0400] ssd7: broconne: Typically for someting like that, I'd put your debug() function in a Module and then do something like Chef::Recipe.send(:include, YourModule)
[2013-09-27 15:48:47 -0400] ssd7: which will make your function available in recipes
[2013-09-27 15:49:30 -0400] ssd7: What kallistec giveth, ChanServ taketh away.
[2013-09-27 15:50:02 -0400] kallistec: yeah, I forget how to tell chanserv to do it
[2013-09-27 15:50:19 -0400] sfalcon: heh
[2013-09-27 15:52:34 -0400] ssd7: should be something like aop add #chef sfalcon
[2013-09-27 15:54:11 -0400] kallistec: wonder if my znc is making this harder than necessary
[2013-09-27 15:55:25 -0400] nomadium: Hi, quick question
[2013-09-27 15:55:51 -0400] nomadium: is there a way to follow http redirects with remote_file resource?
[2013-09-27 15:57:01 -0400] nlloyds: nomadium: Yes
[2013-09-27 15:57:44 -0400] nlloyds: nomadium: Not sure if it does by default, let me check
[2013-09-27 16:02:56 -0400] nlloyds: nomadium: Yes, I think it uses Chef::REST internally, which will follow redirects (as seen here: https://github.com/opscode/chef/blob/master/spec/unit/rest_spec.rb#L339-L355) Is it not doing that for you?
[2013-09-27 16:05:05 -0400] evalencia-: Anyone know how to have clients be admins at registration time?
[2013-09-27 16:05:49 -0400] evalencia-: I know its crazy to have all clients be admin at registration time, but there is a reason for that madness
[2013-09-27 16:06:12 -0400] kallistec: evalencia-: it's not possible using the auto-registration via the validator key, b/c that would be a priv escalation risk
[2013-09-27 16:06:35 -0400] sfalcon: evalencia-: you could patch your server to get that, I suppose. But perhaps better to explain the madness a bit, maybe there's another solution :)
[2013-09-27 16:07:18 -0400] evalencia-: sfalcon:  yeah I need to put in some details to this, so what i have going on is i have systems that are being pxe booting a initramfs image.
[2013-09-27 16:07:57 -0400] evalencia-: these systems area having bios, idrac, firmware updates being done so the reason for a pxe boot
[2013-09-27 16:08:40 -0400] evalencia-: and also I work for a VAR so I dont need to install an OS on the physical disks and dont want to ship the systems with something our clients dont want installed
[2013-09-27 16:09:41 -0400] JasonC_: Can anyone point to good documentation on how to use chef from behind a firewall? I have the tried --bootstrap-proxy and specifying both http_proxy and https_proxy in the Knife config file but they always hang when trying to bootstrap a server or download any cookbooks
[2013-09-27 16:11:17 -0400] scarolan: JasonC_: Are you sure it's a firewall?  Are you also behind some kind of web proxy?
[2013-09-27 16:11:32 -0400] evalencia-: So, the issue is that when the systems get their bios/idrac/firmware updated they need to reboot and well the node name changes since I dont care about the node keeping state, but I need to be able to update an atrribute to stop the node from re-flashing its firmware. well since the node name has changed I cant do a attribute update, and the only thing I think I can use are databases with the serial number being the key identifier t
[2013-09-27 16:12:05 -0400] evalencia-: not databases, databags sorry
[2013-09-27 16:13:17 -0400] fak3r: trying to grok how to overwrite the default memory_limit in php from the opscode cookbook - dropping a php.ini file isn't working, seems php's ini takes precedence
[2013-09-27 16:13:19 -0400] JasonC_: I have a proxy available to use but default all traffic to outside world is shut off.
[2013-09-27 16:13:30 -0400] sfalcon: evalencia-: could you make the nodes be named by the serial number?
[2013-09-27 16:13:36 -0400] cpuguy83: evalencia-: Manually set the nodename to something that's not going to change.  I do the MAC address on my equipment, mostly because I have 150 identical devices with an identical image, so the same hostname and thus a same default nodename
[2013-09-27 16:13:59 -0400] scarolan: JasonC_: Can you try this on the command line:  curl http://api.opscode.com
[2013-09-27 16:14:13 -0400] JasonC_: It doesn't appear that the configurations are making use of the proxy that I provide - OR - i don't truly understand what that supposed to do.
[2013-09-27 16:14:22 -0400] scarolan: er, that should read:  curl https://api.opscode.com
[2013-09-27 16:14:58 -0400] JasonC_: I can access that if I #export https_proxy http://server.com:3128
[2013-09-27 16:15:00 -0400] fak3r: node["php"]["directives"] = "" shouldn't be it...
[2013-09-27 16:15:02 -0400] scarolan: This could be problematic:  "I have a proxy available to use but default all traffic to outside world is shut off."
[2013-09-27 16:15:21 -0400] scarolan: we may be able to work around some of it but depending on how your proxy is set up some features might not work
[2013-09-27 16:16:04 -0400] JasonC_: Than what is the point of specifying the bootstrap-proxy and http(s)_proxy in the configuration files?
[2013-09-27 16:16:44 -0400] scarolan: JasonC_: The point is that if you have a reasonably configured proxy, it works.  But we've seen proxies that reset certain types of traffic if it doesn't look enough like a web browser
[2013-09-27 16:17:01 -0400] scarolan: it makes it very onerous when trying to use RESTful APIs, like ours.
[2013-09-27 16:17:21 -0400] JasonC_: okay - that makse sense
[2013-09-27 16:17:24 -0400] nlloyds: fak3r: It looks like the memory_limit isn't configurable in the default template that the cookbook uses.
[2013-09-27 16:17:44 -0400] scarolan: but paste your configs somewhere (pastebin or gist.github.com) and i'll look at them for you
[2013-09-27 16:17:47 -0400] fak3r: nlloyds: think you're right
[2013-09-27 16:18:44 -0400] fak3r: nlloyds: but at the end of my recipe, I have a file .ini to overwrite the .ini, but it's not being forced - guess since there's on there it won't overwrite?
[2013-09-27 16:19:39 -0400] evalencia-: sfalcon and cpuguy83 thats one way, let me test with what Ive inherited and see if this works. And thank you for your help
[2013-09-27 16:20:03 -0400] nlloyds: fak3r: Actually, it looks like it pulls the directives in at the end. So if you have an override['php']['directives']['memory_limit'] = '128M' attribute it should put it in the php.ini.
[2013-09-27 16:20:22 -0400] nlloyds: fak3r: It's all done through attributes, so you don't need to put in your own template
[2013-09-27 16:25:10 -0400] JasonC_: @scarolan - here is the knife.rb on my workstation http://pastebin.com/gGaTseJc
[2013-09-27 16:28:03 -0400] scarolan: JasonC_: Does "knife client list" and "knife node list" work at all?
[2013-09-27 16:30:38 -0400] JasonC_: scarolan: from my workstation (yes) but the server connections time-out to api.opscode.com when I try to #knife bootstrap ----
[2013-09-27 16:31:10 -0400] JasonC_: scarolan: the bootstrap job can't download install.sh
[2013-09-27 16:31:29 -0400] scarolan: ah, ok so we are narrowing things down a bit
[2013-09-27 16:31:41 -0400] scarolan: knife is able to communicate with the opscode api, which is good
[2013-09-27 16:32:07 -0400] scarolan: it sounds like your target can't download that file....
[2013-09-27 16:32:15 -0400] scarolan: Try uncommenting your bootstrap_proxy line
[2013-09-27 16:33:29 -0400] scarolan: and if that fails maybe feed it directly on the command line --bootstrap-proxy http://URL:3128
[2013-09-27 16:37:29 -0400] JasonC_: scarolan: All the connections time out - http://pastebin.com/JyvMUE50
[2013-09-27 16:37:42 -0400] dgarstang2: What's the solr syntax to get chef to show all data for a node? Gotta write that down, not documented anywhere
[2013-09-27 16:38:31 -0400] scarolan: JasonC_: Ok, so now try connecting to your target node via ssh, and try this
[2013-09-27 16:38:57 -0400] scarolan: curl --proxy http://yourproxyhere:3128 https://www.opscode.com/chef/install.sh
[2013-09-27 16:39:23 -0400] scarolan: Just to see if it's an issue with that particular machine.  IF it's on a different network maybe the proxy won't allow it out?  I'm just guessing here but it's good to check manually
[2013-09-27 16:41:28 -0400] fak3r: nlloyds: thanks, sorry, was AFK, so if I put it in a wrapper cookbook and put override['php']['directives']['memory_limit'] = '128M' in the recipe/defaults.rb it should work
[2013-09-27 16:41:59 -0400] JasonC_: scarolan: nope - If I export http(s)_proxy I can manually download the install.sh file and get things setup that way. chef-client/knife just don't seem to make use of the proxy configurations after that for anything other than accessing the community website.
[2013-09-27 16:42:11 -0400] seanhorn: dgarstang2: You can use knife node search -l re: http://docs.opscode.com/knife_search.html
[2013-09-27 16:42:29 -0400] JasonC_: scarolan: any dependencies that may be in the community cookbooks fail.
[2013-09-27 16:42:49 -0400] nlloyds: fak3r: Yes that's right. use node.override[] if you're in a recipe, or just override[] if in attributes/default.rb
[2013-09-27 16:43:42 -0400] JasonC_: scarolan: Example - STDERR: error: Failed connect to github.com:443; Operation now in progress while accessing https://github.com/sstephenson/ruby-build.git/info/refs
[2013-09-27 16:44:50 -0400] scarolan: JasonC_: Ok, I see what you are saying, that makes more sense.  I believe the proxy only handles communication between the chef client and the community/opscode owned sites.
[2013-09-27 16:46:11 -0400] JasonC_: scarolan: okay - that was my fear. Do you have have any idea why specifying the bootstrap proxy doesn't work when trying to bootstrap a new machine?
[2013-09-27 16:47:11 -0400] dgarstang2: seanhorn: just found it, thanks.
[2013-09-27 16:47:32 -0400] dgarstang2: I'm looking at data for a node here, wondering if there something about the last run and the last successful run without errors? Don't see it
[2013-09-27 16:47:54 -0400] scarolan: JasonC_: That's a separate issue and something we can look into a little deeper. I have to step out for a bit but can take a closer look after i get back.  If you're comfortable with it try grabbing the output of a "tcpdump" command while running the bootstrap, from the *target* host.  Also check to see what gets dropped into client.rb when you run the bootstrap
[2013-09-27 16:48:34 -0400] JasonC_: scarolan - how do I do the second part of that?
[2013-09-27 16:49:59 -0400] scarolan: ssh onto the target and run "cat /etc/chef/client.rb"
[2013-09-27 16:50:02 -0400] seanhorn: dgarstang2: The node attributes don't hold data about a node's run status. That info will show up in the logging output from a chef-client run.
[2013-09-27 16:50:09 -0400] scarolan: that'll show us what configs the bootstrapper is putting in place
[2013-09-27 16:50:50 -0400] dgarstang2: seanhorn: Oh? That's not ideal.
[2013-09-27 16:50:58 -0400] scarolan: I'll be back later, but one of these other folks might be able to help while i'm oot and aboot
[2013-09-27 16:51:20 -0400] dgarstang2: seanhorn: if your running a few hundred chef clients, your gonna want to report on if they are running without errors
[2013-09-27 16:51:24 -0400] JasonC_: scarolan: ah - duh - thanks.
[2013-09-27 16:51:42 -0400] dgarstang2: seanhorn: Screen scrape? Euw. Thought we were past that
[2013-09-27 16:52:32 -0400] shredder12: hi everyone. I'm a small wrapper cookbook which does service discovery using search, updates attributes accordingly and includes a bunch of recipes.
[2013-09-27 16:52:59 -0400] shredder12: The trouble is with the search(). Sometimes it returns correct value, sometimes it doesn't
[2013-09-27 16:53:03 -0400] shredder12: any suggestions?
[2013-09-27 16:53:26 -0400] shredder12: type. I wrote a small wrapper cookbook :0
[2013-09-27 16:54:40 -0400] seanhorn: dgarstang2: You might be looking for http://docs.opscode.com/essentials_handlers.html
[2013-09-27 17:02:00 -0400] dgarstang2: seanhorn: Thanks, not clear how I'd wrap the entire runlist in that tho
[2013-09-27 17:04:12 -0400] broconne: is there an easy way to rename a cookbook using either berks or another tool?
[2013-09-27 17:07:07 -0400] fak3r: nlloyds: thanks again for the help, going to check it in a bit
[2013-09-27 17:21:44 -0400] kvanderw: I'm using 'maven' cookbook - it installs version 2 by default - how do I get it to install version 3? - Thanks!
[2013-09-27 17:22:29 -0400] kvanderw: the readme says that we have a 'version' variable that can be set - this is what is pulling my chain
[2013-09-27 17:22:52 -0400] kvanderw: I don't get how to alter the variable.
[2013-09-27 17:25:02 -0400] kvanderw: ok found default.rb in the attributes folder - modified the version trying that now
[2013-09-27 17:29:11 -0400] broconne: kvanderw
[2013-09-27 17:29:17 -0400] broconne: should not modify the default in attribute sfoler
[2013-09-27 17:29:25 -0400] broconne: (at least I dont think so, but I am no chef expert)
[2013-09-27 17:29:31 -0400] broconne: you should override it
[2013-09-27 18:03:00 -0400] broconne: is there a way to pass "new_resource" from one action in an LWRP to another?
[2013-09-27 18:06:58 -0400] broconne: for example, I have one action in an LWRP that needs to call another action.  I want to pass all parameters that I have to the other LWRP..
[2013-09-27 18:07:11 -0400] broconne: do I have to call them out one by one.. or ist here a way to just pass "new_resource" to the other LWRP action?
[2013-09-27 18:07:17 -0400] sfalcon: kvanderw: editing the default attribute in the cookbook is one way to go and reasonable. You should also be able to override it by setting that attribute in a role, in a wrapper cookbook, or directly on the node. Which is right for your setup depends a bit.
[2013-09-27 18:17:47 -0400] |rt|: Has anyone seen this issue when tryiing to use an encrypted databag.  FATAL: NoMethodError: undefined method `raw_data' for #<Chef::EncryptedDataBagItem:0x0000000452b648>
[2013-09-27 18:18:03 -0400] michelsonmartine: I fellas, i have a problem with java recipe, ive hours trying to make it work , it don't find the LWRP, java_ark, it always says Cannot find a resource for java_ark on ubuntu version 13.04 ,
[2013-09-27 18:19:13 -0400] |rt|: it's getting past the Chef::EncryptedDataBagItem.load() not sure that it's safe to assume that it's getting a valid databag as a result of that but knife data bag show --secret-file... seems to return the expected data
[2013-09-27 18:22:18 -0400] michelsonmartine: the java_ark resource is there, but the recipe don't get it
[2013-09-27 18:22:26 -0400] michelsonmartine: how can i include it ?
[2013-09-27 18:22:48 -0400] michelsonmartine: someone can help me ?
[2013-09-27 18:22:49 -0400] broconne: are you including it?
[2013-09-27 18:23:05 -0400] michelsonmartine: i don't know
[2013-09-27 18:23:05 -0400] broconne: do you specify that you depend on it in your metadata ?
[2013-09-27 18:23:43 -0400] broconne: I am not an expert, but in general I think you need to have include_recipe at the top of any recipe you are including...  or at the very least have in your metadata file that you depend on it
[2013-09-27 18:23:46 -0400] broconne: but..  I am new to chef too
[2013-09-27 18:25:22 -0400] stormerider: if it's a LWRP or provider that the cookbooks provides that you need you just need to use the "depends <cookbook>" in your metadata. include_recipe is for when you actually want to run the recipe
[2013-09-27 18:27:02 -0400] MrBIOS: hey guys
[2013-09-27 18:27:17 -0400] MrBIOS: I'm having a weird error when trying to use the s3_file resource, when chef runs it says "TypeError: can't convert String into Integer"
[2013-09-27 18:27:21 -0400] MrBIOS: the recipe uploads fine
[2013-09-27 18:28:10 -0400] jbz: mrBIOS Have you run foodcritic on it?
[2013-09-27 18:28:21 -0400] MrBIOS: good question, no, but I have it installed
[2013-09-27 18:28:24 -0400] MrBIOS: will do so
[2013-09-27 18:29:41 -0400] juliancdunn: a parameter is expecting to be an integer not a string
[2013-09-27 18:30:05 -0400] juliancdunn: (in Ruby, 0 and "0" are not the same thing)
[2013-09-27 18:33:59 -0400] jmickle: has anyone launched dedicated instances with knife for ec2?
[2013-09-27 18:43:41 -0400] arussel`: is there a better to find the number of items from a search than 'knife search 'role:foo' | grep 'Node Name' | wc -l ' ?
[2013-09-27 18:49:29 -0400] mburns: coderanger++ for etcd-chef
[2013-09-27 18:49:46 -0400] coderanger: heh
[2013-09-27 18:49:57 -0400] coderanger: super proof of concept
[2013-09-27 18:50:03 -0400] jmickle: haha
[2013-09-27 18:50:13 -0400] jmickle: coderanger: do you know how to launch a dedicated instance with knife ec2 ?
[2013-09-27 18:50:22 -0400] coderanger: no idea
[2013-09-27 18:50:34 -0400] jmickle: going through code for it doesn't seem like knife can
[2013-09-27 18:50:40 -0400] jmickle: but hoping I'm wrong
[2013-09-27 18:50:40 -0400] jmickle: haha
[2013-09-27 18:51:17 -0400] arussel`: how do you delete nodes and client based on search ?
[2013-09-27 18:51:38 -0400] coderanger: arussel`: There is nothing in knife if thats what you mean
[2013-09-27 18:51:57 -0400] mattjalexander: so, opscode only has packages for rhel/ubuntu on x86_64 at http://www.opscode.com/chef/install/
[2013-09-27 18:52:00 -0400] coderanger: arussel`: knife only does bulk delete via regex on the name
[2013-09-27 18:52:08 -0400] mattjalexander: is it possible using omnibus to build for other distro/archs?
[2013-09-27 18:52:57 -0400] arussel`: coderanger: then name is some random string ec2 gave me. So I have to do the search, parse the result and then call knife for each ? nothing cleaner ?
[2013-09-27 18:53:56 -0400] coderanger: arussel`: You can do it with a pychef onliner :)
[2013-09-27 18:54:41 -0400] arussel`: see me super enthousistic at using another language I'm not use too :-)
[2013-09-27 18:55:11 -0400] arussel`: wouldn't I use ansible if I were a python guy ?
[2013-09-27 18:55:14 -0400] coderanger: arussel`: python -c "import chef; a = chef.autoconfigure(); [row.object.delete() for row in chef.Search('node', 'foo:bar')]"
[2013-09-27 18:55:43 -0400] arussel`: does the search support NOT ?
[2013-09-27 18:56:03 -0400] coderanger: and no, because fully-declarative (yaml-based) config management is at best a toy and at worst a lie :)
[2013-09-27 18:56:14 -0400] coderanger: and jinja-templated-yaml is just horrible
[2013-09-27 18:56:30 -0400] coderanger: like it works, but its ugly and complicated and breaks the flow of yaml
[2013-09-27 18:56:58 -0400] coderanger: yes, it does support not in some ways
[2013-09-27 18:57:02 -0400] Majost: is the debian 6 bento box deprecated?
[2013-09-27 18:57:05 -0400] coderanger: what kind of query are you trying to run?
[2013-09-27 18:57:19 -0400] coderanger: You can also do the ^^ pychef bit with knife exec
[2013-09-27 18:57:26 -0400] coderanger: just slightly different syntax
[2013-09-27 18:57:29 -0400] arussel`: coderanger: 'role:foo AND NOT role:bar'
[2013-09-27 18:57:39 -0400] coderanger: Yeah, that should work I think
[2013-09-27 18:58:04 -0400] mburns: `knife search node 'chef_environment:baz NOT role:bar'` works for me
[2013-09-27 18:58:08 -0400] arussel`: I wouldn't mind if it doesn't fucked up everything, I've got 150 ec2 nodes to take down.
[2013-09-27 18:59:02 -0400] ccope: how can i tell if chef-expander + solr are working? specifically i'd like to see queries hitting them
[2013-09-27 19:01:54 -0400] coderanger: ccope: Use rabbitmqctl to check queue depth
[2013-09-27 19:02:52 -0400] coderanger: ccope: specifically the list_queues command
[2013-09-27 19:03:03 -0400] coderanger: in that you can see # of messages and # of consumers
[2013-09-27 19:03:21 -0400] arussel`: coderanger: call me small bally, but I've just query with knife and used a for loop in bash to call knife to delete the node.
[2013-09-27 19:03:32 -0400] coderanger: arussel`: That works too
[2013-09-27 19:03:42 -0400] arussel`: :-)
[2013-09-27 19:03:49 -0400] ccope: coderanger: should i use that or chef-expanderctl?
[2013-09-27 19:03:56 -0400] coderanger: ccope: Thats a thing?
[2013-09-27 19:04:07 -0400] ccope: (i'm on chef 10)
[2013-09-27 19:04:47 -0400] coderanger: ccope: definitely not a thing on chef 10
[2013-09-27 19:05:03 -0400] ccope: rabbitmqctl cluster_status shows a cluster, but list_queues is empty
[2013-09-27 19:05:16 -0400] ccope: chef-expanderctl showed 1024 queues, with no messages in them
[2013-09-27 19:06:26 -0400] coderanger: Huh https://github.com/opscode/chef-expander/blob/master/bin/chef-expanderctl is a thing
[2013-09-27 19:06:27 -0400] coderanger: TIL
[2013-09-27 19:07:52 -0400] ccope: i'm also suspicious because i've upped the log-level to debug, and the log file is still 0 bytes
[2013-09-27 19:08:54 -0400] ccope: on this node, i do see stuff in the solr log though...
[2013-09-27 19:22:15 -0400] cpuguy83: Building my first LWRP... in my provider @new_resource.name is the whole hash of attributes?
[2013-09-27 19:22:24 -0400] wamilton: anyone have a preferred strategy for building apache2 mod_php for a version of php compiled with the opscode php cookbook?
[2013-09-27 19:22:35 -0400] wamilton: cpuguy83: it should just be the name attribute...
[2013-09-27 19:23:25 -0400] cpuguy83: In IRB when I do "Chef::Resource.new(name: 'my name', foo: :bar)" I'm getting a hash back
[2013-09-27 19:23:31 -0400] cpuguy83: sorry... When I do that then .name
[2013-09-27 19:25:21 -0400] gchristensen: I have an LWRP with use_inline_resources, and the calling recipe includes the nginx cookbook which provides the nginx service. Unfortunately I'm not able to notify theservice from within the LWRP: resource template[/etc/nginx/sites-enabled/example.org] is configured to notify resource service[nginx] with action reload, but service[nginx] cannot be found in the resource collection. - any thoughts?
[2013-09-27 19:34:55 -0400] swedishchef: @jtimberman thanks for the great post on using chef-vault
[2013-09-27 19:37:31 -0400] stormerider: gchristensen: at a guess you need to include_recipe nginx::server or the like that actually has the service defined
[2013-09-27 19:37:44 -0400] swedishchef: When I read and then looked at the docs for chef-vault, the one unclear piece was how to know the public key of a node that hasn't been created yet (a node that a chef-client run will build from bare metal). Any suggestions on how to deal with this bootstrap problem?
[2013-09-27 19:38:32 -0400] gchristensen: stormerider: I've done that already
[2013-09-27 19:42:26 -0400] Majost: is there a way to write a test kitchen spec such that it creates a external/recipe cookbook which defines an attribute value opposed to setting them as role/environment values in the .kitchen.yml file?
[2013-09-27 19:42:35 -0400] tmichael: second swedishchef's emotion on the chef-vault doc jtimberman.  really helpful!  thx
[2013-09-27 19:42:49 -0400] Majost: I keep running into situations where test kitchen says everything works fine
[2013-09-27 19:43:03 -0400] Majost: but when I use it with a wrapper pattern, the whole thing explodes
[2013-09-27 19:51:31 -0400] cwj: Majost: mkdir -p test/cookbooks && cd test/cookbooks && knife cookbook create foo-test -o .
[2013-09-27 19:51:40 -0400] cwj: then add foo-test to your berksfile
[2013-09-27 19:52:33 -0400] cwj: e.g. https://github.com/opscode-cookbooks/rabbitmq/blob/master/Berksfile#L9
[2013-09-27 19:53:02 -0400] cwj: then, like you are suggesting, set the attrs inside the test cookbook
[2013-09-27 19:53:33 -0400] cwj: make sense?
[2013-09-27 19:59:23 -0400] dgarstang: I wonder if chef could maybe debug what it's doing _before_ it does it?
[2013-09-27 20:13:13 -0400] mstyne: does Chef::Log not do its thing within a ruby_block ?
[2013-09-27 20:13:57 -0400] mstyne: the ruby_block ran, but the log message wasn't spat out during the chef-client run
[2013-09-27 20:15:32 -0400] mstyne: hm, looks like it should
[2013-09-27 20:15:59 -0400] cpuguy83: Ok, I see what I was doing wrong in the Chef::Resource, it's expecting the name param as the first arg... ok... so how would i go about iterating through all the set attributes on my resource?
[2013-09-27 20:16:01 -0400] sprack: Is there a clean way to clone or dupe attribs in a new hash that can be modified without having to do a node.default or override?
[2013-09-27 20:17:59 -0400] cpuguy83: sprack: Can you be more specific?  Are you want to create a new set of node attrs or just a new hash that you can work with in ruby?
[2013-09-27 20:18:22 -0400] sprack: cpuguy83: new hash I can work with in ruby
[2013-09-27 20:18:44 -0400] cpuguy83: sprack: you can just set the node attr to a variable and use that
[2013-09-27 20:18:59 -0400] cpuguy83: so foo = node[:key]
[2013-09-27 20:19:14 -0400] cpuguy83: manipulating foo does not change the node attr
[2013-09-27 20:19:14 -0400] sprack: cpuguy83: previously new_attribs = node['foo'].to_hash worked to break the node attachment, but now I get the "Node attributes are read-only" error
[2013-09-27 20:20:09 -0400] sprack: foo = node['foo'].clone also keeps the read-only attrib as well
[2013-09-27 20:30:18 -0400] sprack: cpuguy83: here's a gist https://gist.github.com/sprack/6734716
[2013-09-27 20:37:28 -0400] ccope: i'm trying to change the pubkey for the validation client by doing `knife client edit chef-validator`, but every time i try it and do `knife show client chef-validator`, the response doesn't match my pubkey. any ideas?
[2013-09-27 20:58:50 -0400] Majost: cwj: thanks!  =)
[2013-09-27 20:58:58 -0400] jmickle: anyone know who maintains knife ec2?
[2013-09-27 20:59:27 -0400] kallistec: jmickle: team effort at opscode
[2013-09-27 20:59:47 -0400] jmickle: kallistec: yeah but anyone in particular? I was hoping to speak to someone about a patch
[2013-09-27 21:00:07 -0400] kallistec: mattray perhaps?
[2013-09-27 21:00:14 -0400] jmickle: would like to patch to add tenancy to list of ec2 options
[2013-09-27 21:00:50 -0400] mattray: jmickle: tenancy?
[2013-09-27 21:01:00 -0400] jmickle: mattray: to allow for dedicated instances
[2013-09-27 21:01:08 -0400] jmickle: when you spin ec2 instances they are always default tenancy
[2013-09-27 21:01:24 -0400] jmickle: the only option we need to support is if vpc = true then add option for tenancy default
[2013-09-27 21:01:28 -0400] jmickle: to be passed to the api
[2013-09-27 21:01:33 -0400] jmickle: so it can be a dedicated instance in EC2
[2013-09-27 21:01:43 -0400] jmickle: but i can't seem to find in the code base where the API call happens
[2013-09-27 21:01:51 -0400] jmickle: if you can point me in that direction i can patch and pull req it
[2013-09-27 21:01:57 -0400] mattray: 1 sec
[2013-09-27 21:02:34 -0400] Majost: :wq
[2013-09-27 21:02:41 -0400] Majost: oops
[2013-09-27 21:03:24 -0400] ccope: how can i manually modify the validator client's key?
[2013-09-27 21:03:47 -0400] mattray: jmickle: https://github.com/opscode/knife-ec2/blob/master/lib/chef/knife/ec2_server_create.rb#L344 is where the create is called, it's building a hash of fog options here: https://github.com/opscode/knife-ec2/blob/master/lib/chef/knife/ec2_server_create.rb#L606
[2013-09-27 21:04:19 -0400] jmickle: mattray: awesome thank you so much
[2013-09-27 21:04:28 -0400] mattray: if you're handy with irb or pry, you can debug pretty quickly
[2013-09-27 21:04:32 -0400] jmickle: mattray: il work on a patch on our side here and then pull req it in
[2013-09-27 21:04:47 -0400] mattray: jmickle: just require 'fog'
[2013-09-27 21:04:53 -0400] mattray: then create a connection
[2013-09-27 21:05:02 -0400] mattray: then play with the server.create
[2013-09-27 21:05:10 -0400] jmickle: mattray: ok yeah I'm not handy with them i prefer to stay away from ruby as much as possible
[2013-09-27 21:05:27 -0400] mattray: jmickle: well in this case you may have to dig in to get the patch right
[2013-09-27 21:05:40 -0400] jmickle: mattray: hehehehe yeah i know :-P
[2013-09-27 21:06:08 -0400] mattray: jmickle: here's the connection code: https://github.com/opscode/knife-ec2/blob/master/lib/chef/knife/ec2_base.rb#L58
[2013-09-27 21:06:34 -0400] jmickle: mattray: got it thank you!
[2013-09-27 21:07:00 -0400] mattray: you may end up in #ruby-fog before too long
[2013-09-27 21:08:30 -0400] jmickle: haha
[2013-09-27 21:08:35 -0400] jmickle: fog is the reason i stay away from ruby
[2013-09-27 21:08:39 -0400] jmickle: so poorly written :(
[2013-09-27 21:08:45 -0400] jmickle: makes me sad that its allowed in the community
[2013-09-27 21:09:28 -0400] dgarstang: Anyone successfully using https://github.com/opscode-cookbooks/java ?
[2013-09-27 21:13:46 -0400] troyready: I am, for the oracle distributed jvm
[2013-09-27 21:14:01 -0400] timsmith: I've used that at multiple companies
[2013-09-27 21:14:06 -0400] timsmith: Oracle and OpenJDK
[2013-09-27 21:15:32 -0400] gmr: same
[2013-09-27 21:23:58 -0400] dgarstang: troyready: kk. :)
[2013-09-27 21:25:18 -0400] dgarstang: Suddenly confused. Maybe it's a Friday afternoon thing. If I have a base role cookbook, and I'm trying to layer an application level cookbook over that, where's the references to the base role gonna go? metadata.db? included from the default recipe to? Vagrantfile as well?
[2013-09-27 21:40:38 -0400] rdobbs: I'm trying to provision servers in an EC2 VPC with knife, but every attempt results in, "the subnet ID foo" does not exist.  Any thoughts?
[2013-09-27 21:51:39 -0400] doomviking: whats your command line
[2013-09-27 21:55:19 -0400] rdobbs: knife ec2 server create --flavor m1.large --image ami-amiid --node-name logstash01-vpc --tags Name=logstash01-vpc --availability-zone us-east-1b -S rdobbs-utility --ssh-user ubuntu --identity-file ~/.ssh/rdobbs-utility.pem.cer --server-connect-attribute private_ip_address --ssh-gateway my.gateway --environment rdobbs-rd --run-list 'recipe[rdobbs::logstash]' -g sg-idhere -s subnet-idhere
[2013-09-27 21:59:11 -0400] jmickle: mattray1: just completed the patch and its working
[2013-09-27 21:59:21 -0400] mattray1: jmickle: awesome
[2013-09-27 21:59:30 -0400] mattray1: open a PR and a ticket
[2013-09-27 21:59:37 -0400] mattray1: mark it as "Fix Available"
[2013-09-27 21:59:38 -0400] jmickle: going to change the output of the server print to include tenancy in there
[2013-09-27 21:59:42 -0400] jmickle: ok
[2013-09-27 21:59:48 -0400] jmickle: should i increment the version?
[2013-09-27 21:59:50 -0400] mattray1: and we'll review it next Thursday
[2013-09-27 21:59:53 -0400] jmickle: i did a minor increment on my side
[2013-09-27 21:59:54 -0400] mattray1: nah, we'll handle that
[2013-09-27 22:00:07 -0400] jmickle: ok PR's directly on github?
[2013-09-27 22:00:11 -0400] jmickle: or is there a support ticket for it
[2013-09-27 22:00:12 -0400] mattray: yeah
[2013-09-27 22:00:15 -0400] jmickle: ok
[2013-09-27 22:00:21 -0400] mattray: just list it on tickets.opscode.com and we'll track it down
[2013-09-27 22:00:28 -0400] jmickle: will do
[2013-09-27 22:00:29 -0400] jmickle: ty
[2013-09-27 22:00:34 -0400] mattray: no, thank you
[2013-09-27 22:01:02 -0400] jmickle: it was super easy actually just had to add the tenancy dedicated option to the hash if vpc and --dedicated_instance suplied
[2013-09-27 22:01:27 -0400] jmickle: so did if vpc_mode? and config[:dedicated_instance]
[2013-09-27 22:02:48 -0400] doomviking: rdobbs: is the subnet id correct? I dont have any experience using that stuff
[2013-09-27 22:07:28 -0400] rdobbs: doomviking: it is.
[2013-09-27 22:09:43 -0400] rdobbs: well the one I use on my commandline is, anyways
[2013-09-27 22:16:38 -0400] rdobbs: Moot point, looks like knife ec2 doesn't support iam roles so I can't provision this way anyways.
[2013-09-27 22:16:55 -0400] mattray: rdobbs: I think the IAM stuff is inbound
[2013-09-27 22:21:39 -0400] rdobbs: @mattray: you can't assign an IAM role to an existing node, so it has to be set on creation, seems that knife can't do this
[2013-09-27 22:22:03 -0400] mattray: hmm.. I thought I saw something coming in to do that
[2013-09-27 22:22:18 -0400] rdobbs: yeah
[2013-09-27 22:22:18 -0400] rdobbs: https://tickets.opscode.com/browse/KNIFE-154
[2013-09-27 22:22:19 -0400] rdobbs: soon
[2013-09-27 22:22:21 -0400] jmickle: mattray: https://github.com/opscode/knife-ec2/pull/151
[2013-09-27 22:22:53 -0400] mattray: rdobbs: yeah, that's the ticket
[2013-09-27 22:23:46 -0400] mattray: jmickle: if you could create a ticket in https://tickets.opscode.com to track it, that's what we try to do to stay on top of PRs and tickets
[2013-09-27 22:23:56 -0400] jmickle: mattray: on that right now
[2013-09-27 22:23:57 -0400] mattray: jmickle: also, do you have a CLA already?
[2013-09-27 22:24:00 -0400] mattray: thansk
[2013-09-27 22:24:06 -0400] jmickle: mattray: CLA?
[2013-09-27 22:24:21 -0400] rdobbs: https://github.com/opscode/knife-ec2/pull/87
[2013-09-27 22:24:25 -0400] rdobbs: year old pull request on that
[2013-09-27 22:24:25 -0400] rdobbs: :/
[2013-09-27 22:24:44 -0400] mattray: https://wiki.opscode.com/display/chef/How+to+Contribute
[2013-09-27 22:25:30 -0400] jmickle: mattray: no I don't have one yet il sign up now
[2013-09-27 22:25:41 -0400] mattray: rdobbs: yeah, we now have a lot more formalized process around PRs and tickets
[2013-09-27 22:25:51 -0400] mattray: trying to shorten the loop
[2013-09-27 22:26:17 -0400] rdobbs: @mattray: looks complicated too as I assume it would require an update of the version of the fog library in the omnibus installer
[2013-09-27 22:26:33 -0400] mattray: rdobbs: I think the fog version bump is coming
[2013-09-27 22:26:52 -0400] mattray: with all the other ec2 updates
[2013-09-27 22:27:01 -0400] rdobbs: for now I'll just provision with fog then bootstrap with knife
[2013-09-27 22:27:01 -0400] mattray: also I don't think we package fog
[2013-09-27 22:30:23 -0400] jmickle: mattray: CLA signed, ticket created
[2013-09-27 22:31:34 -0400] mattray: jmickle: thanks, we'll review it at the weekly knife review on Thursday
[2013-09-27 22:31:42 -0400] jmickle: mattray: sure thing :-)
[2013-09-27 22:40:44 -0400] c_t: Here is an excellent knife plugin: http://commons.wikimedia.org/wiki/File:ElectricCarvingKnife.JPG
[2013-09-27 23:05:07 -0400] Majost: Is a notifies resource available to all cookbooks in a chef run, or is the scope limited to the specific cookbook in which that "thing" to be notified is defined?
[2013-09-27 23:48:38 -0400] Majost: Let me ask a slightly different, but related question
[2013-09-27 23:49:14 -0400] Majost: does anyone know how to send a notification from outside of a resource....
[2013-09-27 23:49:17 -0400] Majost: eg:
[2013-09-27 23:50:46 -0400] Majost: %{ntp ntpdate}.each do |pkg|
[2013-09-27 23:50:46 -0400] Majost:   package pkg  do
[2013-09-27 23:50:46 -0400] Majost:     action :install
[2013-09-27 23:50:46 -0400] Majost:   end
[2013-09-27 23:50:46 -0400] Majost:   notifies :run , 'bash[ntpdate-update]', :immediately
[2013-09-27 23:50:46 -0400] Majost: end
[2013-09-27 23:50:53 -0400] Majost: sorry for the spam block
[2013-09-27 23:50:53 -0400] Majost: heh
[2013-09-27 23:51:38 -0400] Majost: the goal is to install both packages before sending the notification, and delay in my case (not really ntp) doesn't work right
