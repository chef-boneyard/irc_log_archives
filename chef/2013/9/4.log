[2013-09-04 00:06:00 -0400] dgarstang: Anyone here using knife ec2 with an ssh proxy?
[2013-09-04 00:27:52 -0400] masterkorp: hello
[2013-09-04 00:42:14 -0400] sn0wb1rd: hello
[2013-09-04 00:42:23 -0400] douglaswth: howdy
[2013-09-04 00:42:32 -0400] masterkorp: HELLO
[2013-09-04 00:42:36 -0400] masterkorp: AILLO
[2013-09-04 00:42:39 -0400] masterkorp: EILLO
[2013-09-04 00:42:44 -0400] sn0wb1rd: Welcome
[2013-09-04 01:30:44 -0400] monokrome: dgarstang: http://goo.gl/CeMQNv
[2013-09-04 01:47:05 -0400] jkburges_: shameless self promotion: http://jkburges.github.io/2013/09/03/ops-before-apps.html
[2013-09-04 01:47:14 -0400] jkburges_: interested to hear if people have any comments though
[2013-09-04 01:54:16 -0400] mmaleko: Hi all, does anyone know if I could (on an existing server), re-run an unchanged recipe to update a file using changed input from a data bag?
[2013-09-04 01:57:18 -0400] jbz: absolutely, that's what chef does
[2013-09-04 01:57:28 -0400] jbz: mmaleko: ^
[2013-09-04 01:57:45 -0400] jbz: unless you're asking how to run *just that recipe* without running the full runlist, in which case I'm not sure how to do that.
[2013-09-04 01:58:04 -0400] mmaleko: It does? Hm. somehow when i run 'sudo chef-client' it doesn't seem to update the file
[2013-09-04 01:58:23 -0400] mmaleko: I'm ok with it running the whole runlist =)
[2013-09-04 01:59:09 -0400] jbz: mmaleko: hm.  That is basically chef's core function - when identical recipes get different inputs, change the result - so I'm not sure why it's not working
[2013-09-04 01:59:19 -0400] mmaleko: ok
[2013-09-04 01:59:41 -0400] jbz: one thing to try
[2013-09-04 01:59:43 -0400] jbz: if you can
[2013-09-04 01:59:48 -0400] jbz: is to remove or change the target file
[2013-09-04 01:59:51 -0400] jbz: and see if it replaces it/changes it back
[2013-09-04 02:00:01 -0400] jbz: that'll tell you whether it's actually running on the file
[2013-09-04 02:00:11 -0400] mmaleko: i'll try that =) , thanks heaps =)
[2013-09-04 02:00:12 -0400] jbz: if it does, then the problem is at the data bag end
[2013-09-04 02:00:15 -0400] mmaleko: ok
[2013-09-04 02:07:01 -0400] jchauncey: kitkat will be the name of the next android version...
[2013-09-04 02:07:03 -0400] jchauncey: yum =)
[2013-09-04 02:08:09 -0400] JoshuaMiller: google and hershey in league.  Horrifying.
[2013-09-04 02:08:31 -0400] jchauncey: i just have to remember not to try and eat my s4
[2013-09-04 02:14:39 -0400] rberger: How is the $PATH set in a chef-client run on a vagrant? The gem_package provider is not finding the gem binary which is in /opt/ruby/bin/gem I would prefer not to use the gem_binary attribute since its not valid across other deployments
[2013-09-04 02:24:14 -0400] asdf__: Hi, I'm getting a Invalid signature for user or client 'gm' I make sure my .pem file is in the write place. What am I doing wrong? I noticed that 'gm' is my computer username not my opscode account user. does that make a difference?
[2013-09-04 02:26:01 -0400] asdf__: any help apprecaited. I've spent 3 hours on this already
[2013-09-04 02:26:20 -0400] asdf__: what else should I check?
[2013-09-04 02:26:59 -0400] a13x212: can you use variables in the attributes file?
[2013-09-04 02:27:26 -0400] a13x212: i'm trying to do this: default['ipdns']['#{int}']['address'] = '#{ip}'
[2013-09-04 02:27:58 -0400] asdf__: a13x212: yes, I believe so.
[2013-09-04 02:28:06 -0400] asdf__: it is ruby after all
[2013-09-04 02:28:36 -0400] masterkorp: Guys, ive been researching for a bit
[2013-09-04 02:29:08 -0400] masterkorp: so i want to change the default ipaddress attribute to another interface
[2013-09-04 02:29:39 -0400] masterkorp: so the ipaddress is a value where all the machines can talk to each other
[2013-09-04 02:29:53 -0400] masterkorp: any sugestions ?
[2013-09-04 02:31:02 -0400] asdf__: masterkorp: not sure what you're trying to do, but I would advise using Search() to find the ip's of the nodes you want.  if you're hard coding it, ignore this.
[2013-09-04 02:31:45 -0400] subdigital: anyone familiar with opscode-cookbooks/postgresql that can give me a hand?  Trying to install on a pg 9.2 on vagrant and keep getting `FATAL:  password authentication failed for user "postgres"`
[2013-09-04 02:31:48 -0400] masterkorp: its not that
[2013-09-04 02:32:04 -0400] masterkorp: asdf__: the machines under chef all talk trough a vpn
[2013-09-04 02:32:21 -0400] subdigital: if I ssh in and alter the user myself & set the password it works, but not in the chef run
[2013-09-04 02:32:27 -0400] masterkorp: but the ipaddress attribute isn't the vpn one
[2013-09-04 02:33:10 -0400] masterkorp: so i can't use the ipaddress attribute because the machines cant reach each other trough that network
[2013-09-04 02:35:00 -0400] masterkorp: if i would set the default ip to the tun0 network, i can use knife ssh and cookbooks like munin
[2013-09-04 02:36:30 -0400] masterkorp: get my point ?
[2013-09-04 02:47:34 -0400] masterkorp: https://gist.github.com/jtimberman/1040543
[2013-09-04 02:47:54 -0400] masterkorp: this seems to be the answer
[2013-09-04 03:21:25 -0400] rafaelmagu: So I've forked Berkshelf github repo and cloned locally, and am now hacking away at adding svn: support
[2013-09-04 03:21:32 -0400] rafaelmagu: Question is: how do I test it?
[2013-09-04 03:28:26 -0400] jameson__: use vagrant and a free hosted-chef account to test a sample cookbook?
[2013-09-04 03:30:05 -0400] jameson__: it feels like.. berkshelf doesn't pull depenencies if you do "cookbook "name", git: "place", rel: "name/"
[2013-09-04 03:35:11 -0400] rafaelmagu: jameson__: not that. I meant, actually running berks from that folder
[2013-09-04 03:35:24 -0400] jameson__: berks upload?
[2013-09-04 03:35:38 -0400] rafaelmagu: Guess I should look to see if there's a Rakefile to build the "executable"
[2013-09-04 03:35:38 -0400] jameson__: well, if it's not upstream supported, then berks package?
[2013-09-04 03:35:50 -0400] rafaelmagu: I'm making my own version of berks
[2013-09-04 03:35:51 -0400] jameson__: oh, you should install it
[2013-09-04 03:35:53 -0400] jameson__: as a local gem.
[2013-09-04 03:35:55 -0400] rafaelmagu: Gotcha
[2013-09-04 03:36:13 -0400] rafaelmagu: Will Google-fu how to install local gems next
[2013-09-04 03:36:22 -0400] jameson__: make a Gemfile in a differnt project, and source your local or remote version of the projects.
[2013-09-04 03:37:09 -0400] jameson__: ciao
[2013-09-04 03:39:34 -0400] rafaelmagu: Gemfile is for bundle, right?
[2013-09-04 03:39:44 -0400] rafaelmagu: So I'd then do bundle berks ...
[2013-09-04 03:48:14 -0400] arussel: I'm following https://learnchef.opscode.com/starter-use-cases/multi-node-ec2/ and got: Error executing action `install` on resource 'package[build-essential]' when bootstraping the redis node.
[2013-09-04 03:48:30 -0400] a13x212: is it possible to put variables in default attributes?
[2013-09-04 03:50:19 -0400] rafaelmagu: Yes
[2013-09-04 03:50:41 -0400] rafaelmagu: But why would you?
[2013-09-04 03:52:12 -0400] a13x212: i'm trying to do this: http://pastebin.com/XQ8aC9E6
[2013-09-04 03:54:22 -0400] arussel: doesn't it run apt update automatically when creating a new node ?
[2013-09-04 04:12:08 -0400] rafaelmagu: Woohoo
[2013-09-04 04:12:17 -0400] rafaelmagu: Just got svn: support working in Berkshelf
[2013-09-04 04:12:20 -0400] rafaelmagu: Very experimental
[2013-09-04 04:13:58 -0400] rafaelmagu: a13x212: in that specific scenario, I wouldn't feel too bad for having variables in the attributes
[2013-09-04 04:25:27 -0400] sevensoft: Chef noob here.. Have a very large infrastructure.. While I don't have control over the hardware.. I do have some control over the app/web containers.. And I want to have all of that configuration version controlled..so my question(s):
[2013-09-04 04:28:53 -0400] sevensoft: Is managing apache and tomcat installations and configurations the right usage to chef?
[2013-09-04 04:30:19 -0400] rafaelmagu: sevensoft: yes
[2013-09-04 04:30:37 -0400] sevensoft: And I don't mean just one apache/tomcat on one machine.. I mean many on one machine.. Each with different configs... (Ports.. Mod_jk settings... Etc .)
[2013-09-04 04:31:20 -0400] arussel: sevensoft: you have full ssh access to the host ?
[2013-09-04 04:31:39 -0400] rafaelmagu: sevensoft: pretty much anything is possible with Chef (or Puppet)
[2013-09-04 04:32:12 -0400] rafaelmagu: sevensoft: it just depends on how much work you put into the cookbooks/recipes
[2013-09-04 04:34:02 -0400] sevensoft: At a minimum i'll have an I'd that has privs to the right dirs..  If I can prove this is the right direction then I'll have root for chef..
[2013-09-04 04:34:41 -0400] sevensoft: OK.. So I figured that was the easy question/answer... The more involved one:
[2013-09-04 04:36:47 -0400] sevensoft: I want a base set of templates (excuse my non-chef terminology).. And then each app team can control certain aspects that can be set.. Like a mod_proxy config specific to their app
[2013-09-04 04:37:12 -0400] sevensoft: I think that can be done in chef by using some sort of a map of values...
[2013-09-04 04:38:16 -0400] rafaelmagu: sevensoft: you'd probably use role attributes and each team can have their own role applied
[2013-09-04 04:38:23 -0400] rafaelmagu: Or use different chef environments
[2013-09-04 04:38:45 -0400] sevensoft: What I'm really interested in is how those configs are committed/managed..  We need controls in place to make sure app teams can only set certain things..
[2013-09-04 04:39:27 -0400] sevensoft: And seeing an example like this in practice..how/where people commit their changes..
[2013-09-04 04:39:40 -0400] rafaelmagu: That is up to your organization to define. Unfortunately I don't have this issue where I work. Someone else in here might be better suited to answer.
[2013-09-04 04:40:59 -0400] sevensoft: Yeah.. If it were just me.. Or a small shop then that is a non issue... But this needs to work in a massive organization..
[2013-09-04 04:42:12 -0400] arussel: sevensoft: if this is that massive of an organization, you might just drop a mail to opscode, they might be interested to help.
[2013-09-04 04:42:53 -0400] sevensoft: Sorry I'm slow to respond.. Typing on my tablet.. :-P
[2013-09-04 04:43:41 -0400] sevensoft: Yeah.. I think you may be right.. Wouldn't hurt to reach out..
[2013-09-04 04:45:03 -0400] arussel: I'v just got a free account and got a mail from them asking to call me.
[2013-09-04 04:48:50 -0400] sevensoft: Just signed up for the training materials earlier tonight..
[2013-09-04 04:50:00 -0400] sevensoft: I was just hoping to at least get a gut reaction if this is a good use of chef or not...  All the configuration drift on these machines is maddening..
[2013-09-04 09:06:06 -0400] mveitas: Are there any docs to setup Chef Server with a HA topology?
[2013-09-04 09:20:28 -0400] xhae: mveitas: there's a wiki page on it http://wiki.opscode.com/display/chef/Scalability+and+High+Availability
[2013-09-04 09:39:25 -0400] cragdor: Hi All, quick question. I have been using Puppet for a while now, but i keep banging my head into the same problem. I have a estate of servers running the same software that is loadbalanced. I would like Puppet to take a third of the estate offline (Talk to loadbalances
[2013-09-04 09:39:27 -0400] cragdor: rs
[2013-09-04 09:40:00 -0400] cragdor: Hi All, quick question. I have been using Puppet for a while now, but i keep banging my head into the same problem. I have a estate of servers running the same software that is loadbalanced. I would like Puppet to take a third of the estate offline (Talk to loadbalancers) then updated them, then add them back in and move forward, however this doesn't seem possible. Is this something chef can do?
[2013-09-04 09:53:32 -0400] tsunamie: hi guys, I just ran curl -L https://www.opscode.com/chef/install.sh | sudo bash . I get the following output. http://pastebin.com/ZZq6QsZf however when tryign to run sudo chef-server-ctl reconfigure tI get command not found
[2013-09-04 09:57:15 -0400] s2r2: tsunamie: what you did installed the omnibus package for chef...but thing of this as chef-client, chef-apply, knife, chef-shell.... not chef-server
[2013-09-04 10:01:26 -0400] tsunamie: s2r2
[2013-09-04 10:01:27 -0400] tsunamie: thanks
[2013-09-04 10:07:02 -0400] xhae: cragdor: Orchestration is really a separate problem domain. I suppose you could implement orchestration as a recipe or manifest on a management node, though.
[2013-09-04 10:29:29 -0400] zeroXten: am i going made? Does a service really have to be defined above a template that wants to use notifies?
[2013-09-04 10:29:49 -0400] zeroXten: ah wait, it might be how i'm doing it
[2013-09-04 10:31:32 -0400] zeroXten: so yeah, don't randomly go from :reload, "service[blah]" to resources(:service => "blah")
[2013-09-04 10:42:46 -0400] arussel: is there a cookbook to create start/stop script ? (I'm trying to deploy a java jar using java -jar foo.jar)
[2013-09-04 10:55:47 -0400] arussel: does server action :enable create the startup/shutdown link ?
[2013-09-04 10:55:55 -0400] arussel: server/service/
[2013-09-04 10:59:57 -0400] jujugrrr: arussel: I guess it depends which provider you use init/upstart by example.  http://docs.opscode.com/resource_service.html . I guess the Chef::Provider::Service::Init::Debian will symlink from init.d to rc whatever. You should give it a try
[2013-09-04 11:05:00 -0400] arussel: jujugrrr: thanks
[2013-09-04 11:08:19 -0400] tsunamie: I ahve installed chef onto an aws server
[2013-09-04 11:08:26 -0400] tsunamie: everything says it's passed
[2013-09-04 11:09:08 -0400] tsunamie: hwoever when I access the server via port 80 it redirects me to a domain. the original internal hostname. I made sure that the hostname of the server is a FQDN. Before I ran the reconfigure
[2013-09-04 11:09:16 -0400] tsunamie: however that does not seem to have helped with anything
[2013-09-04 11:10:02 -0400] tsunamie: does'nt look like the chef server uses apache as a front end. How do I change the urL it redirects to?
[2013-09-04 11:13:32 -0400] tsunamie: also on Get the .pem files and knife.rb files of the http://docs.opscode.com/chef/install_workstation.html. So I got in. However can't find this organizations page it speaks of
[2013-09-04 11:18:53 -0400] jujugrrr: tsunamie: are you using open source chef?
[2013-09-04 11:18:59 -0400] tsunamie: yes
[2013-09-04 11:19:12 -0400] tsunamie: well I believe I am
[2013-09-04 11:19:46 -0400] tsunamie: jujugrrr - http://docs.opscode.com/install_server.html
[2013-09-04 11:20:38 -0400] tsunamie: jujugrrr - I see what you mean now. I see
[2013-09-04 11:20:43 -0400] jujugrrr: tsunamie: then you should following the instruction for Open Source Chef Server, Organizations are used in chef-hosted
[2013-09-04 11:21:02 -0400] tsunamie: yea I just got that
[2013-09-04 11:21:03 -0400] tsunamie: :)
[2013-09-04 11:22:17 -0400] tsunamie: jujugrrr - still need gelp with the rewrite part thow
[2013-09-04 11:24:20 -0400] jujugrrr: tsunamie: I can't help, I've never installed chef-server 11 ;-)
[2013-09-04 11:24:34 -0400] tsunamie: jujugrrr thanks anyway
[2013-09-04 12:33:47 -0400] mveitas: This is an off the topic item, but curious as to what people use for log aggregators?
[2013-09-04 12:34:24 -0400] mveitas: We are looking at using Splunk, but there is a rather large cost that the decision makers don't necessarily like
[2013-09-04 12:39:55 -0400] tsunamie: mveitas - what kind of logs do you need to process?
[2013-09-04 12:40:20 -0400] tsunamie: ie what are your log srouces, how many log sources are there? How many months do you need to retain for anaylsis
[2013-09-04 12:40:23 -0400] mveitas: application logs, access logs, db logs, the usual
[2013-09-04 12:40:59 -0400] tsunamie: why have they chosen splunk? or why not logstash/kibana3 or logstash+graylogs2
[2013-09-04 12:41:28 -0400] mveitas: splunk is an option we were looking at but it is expensive!
[2013-09-04 12:41:31 -0400] mveitas: we can't go with a hosted solution as we have some privacy issues we need to deal with, so an on site solution is what
[2013-09-04 12:41:42 -0400] mveitas: just getting a sense what people are using
[2013-09-04 12:42:08 -0400] tsunamie: people are using logstash, graylogs2, kibana3 or opentsdb
[2013-09-04 12:42:15 -0400] tsunamie: they are other opensource options
[2013-09-04 12:43:01 -0400] tsunamie: does anyone know where on a chef server redirects are performed?
[2013-09-04 12:43:15 -0400] tsunamie: as it does'nt seem to ahve apache or nginx sitting infrnt of it
[2013-09-04 12:43:59 -0400] ocholetras: afaik there is an nginx listening on 443
[2013-09-04 12:44:13 -0400] mveitas: tsunamie: chef server uses ngix, at least 11.x  http://docs.opscode.com/chef_overview_server.html
[2013-09-04 12:45:37 -0400] tsunamie: intresting can't see it in /etc/nginx
[2013-09-04 12:46:07 -0400] mveitas: I think everything is installed to /opt/chef
[2013-09-04 12:46:37 -0400] ocholetras: you have to modify
[2013-09-04 12:46:42 -0400] ocholetras: chef-server.rb
[2013-09-04 12:46:47 -0400] ocholetras: and launch chef-server reconfigure
[2013-09-04 12:46:53 -0400] ocholetras: each time you want to change anything
[2013-09-04 12:47:03 -0400] ocholetras: chef-server uses chef to configure itself
[2013-09-04 12:47:04 -0400] ocholetras: xD
[2013-09-04 12:47:18 -0400] tsunamie: /var/opt/chef-server/nginx/
[2013-09-04 12:47:21 -0400] tsunamie: found it
[2013-09-04 12:48:01 -0400] tsunamie: can't locate this chef-server.rb
[2013-09-04 12:49:05 -0400] mveitas: Try looking in /etc/chef-server/chef-server.rb.
[2013-09-04 12:49:33 -0400] tsunamie: server_name value needs to be changed
[2013-09-04 12:50:18 -0400] tsunamie: mveitas - that does'nt exist
[2013-09-04 12:50:36 -0400] mveitas: are you running Chef Server 11.x?
[2013-09-04 12:50:42 -0400] tsunamie: yes
[2013-09-04 12:51:13 -0400] tsunamie: 11.08 I believe
[2013-09-04 12:51:51 -0400] tsunamie: why is adding an fing work station to a chef master so fing hard
[2013-09-04 12:51:56 -0400] tsunamie: lol
[2013-09-04 12:52:09 -0400] tsunamie: this is much mroe hassel than setting up a puppet client
[2013-09-04 12:59:34 -0400] ocholetras: The file isnt created by default
[2013-09-04 12:59:42 -0400] ocholetras: you have to create it and set the values you want
[2013-09-04 13:00:10 -0400] ocholetras: http://docs.opscode.com/config_rb_chef_server.html
[2013-09-04 13:01:15 -0400] tsunamie: ?? ocholtras - was that directed at me?
[2013-09-04 13:01:54 -0400] ocholetras: i yea
[2013-09-04 13:02:00 -0400] ocholetras: about the chef-server.rb file
[2013-09-04 13:02:29 -0400] gazarsgo: does berkshelf play nicely with an existing chef server  ?
[2013-09-04 13:02:31 -0400] tsunamie: I see
[2013-09-04 13:02:39 -0400] tsunamie: I manaully edited all the nginx configs
[2013-09-04 13:02:43 -0400] tsunamie: will that come back to bit me?
[2013-09-04 13:02:45 -0400] ocholetras: that is a mistake
[2013-09-04 13:02:46 -0400] gazarsgo: if i start managing a handful of recipes with berkshelf am i going to hit any booby traps ?
[2013-09-04 13:02:59 -0400] ocholetras: will be rewrite when you launch chef-server reconfigure
[2013-09-04 13:03:10 -0400] tsunamie: I see
[2013-09-04 13:03:23 -0400] tsunamie: how do I config the server to use the correct hostname?
[2013-09-04 13:03:35 -0400] ocholetras: by default
[2013-09-04 13:03:37 -0400] ocholetras: uses fqdn
[2013-09-04 13:03:41 -0400] ocholetras: you have some parametters
[2013-09-04 13:03:43 -0400] ocholetras: on nginx
[2013-09-04 13:03:45 -0400] ocholetras: to change server name
[2013-09-04 13:03:46 -0400] ocholetras: or urls
[2013-09-04 13:03:50 -0400] ocholetras: look at the page
[2013-09-04 13:03:54 -0400] ocholetras: http://docs.opscode.com/config_rb_chef_server.html
[2013-09-04 13:04:42 -0400] tsunamie: why did it not use the hostname?
[2013-09-04 13:04:50 -0400] tsunamie: the hostname was set correctly
[2013-09-04 13:05:17 -0400] ocholetras: it uses de machine FQDN
[2013-09-04 13:05:21 -0400] ocholetras: hostname+domain
[2013-09-04 13:05:29 -0400] tsunamie: yea I got that part
[2013-09-04 13:05:32 -0400] tsunamie: nvm I got a solution
[2013-09-04 13:05:37 -0400] ocholetras: (Y)
[2013-09-04 13:05:40 -0400] tsunamie: So if I do a reconfigure it will just reset everything?
[2013-09-04 13:05:42 -0400] ocholetras: you can change url
[2013-09-04 13:05:46 -0400] ocholetras: but remember to change
[2013-09-04 13:06:00 -0400] ocholetras: bookshelf['url'] as well
[2013-09-04 13:06:21 -0400] ocholetras: umm reset everything you changed directly on the files
[2013-09-04 13:06:34 -0400] ocholetras: but you can put that parameters on the chef-server.rb
[2013-09-04 13:32:57 -0400] subdigital: anyone here use the opscode postgresql cookbook?  I keep getting "password authentication failed" when trying to create a database
[2013-09-04 13:33:23 -0400] subdigital: if I ssh in and set the password myself (ALTER USER.) and then log in it works, so I know the pg_hba is correct
[2013-09-04 13:40:55 -0400] tsunamie: ocholetras - thanks got it all down now
[2013-09-04 13:42:23 -0400] adamjk-dev: hey all... are you making use of Chef::Log in your recipes?   Or, do you log with other mechanisms or put them in ruby blocks or what?
[2013-09-04 13:50:05 -0400] mikeb2: hi all, I have a passenger_apache2 recipe that is driving me to distraction - has anyone had any experience of using it?
[2013-09-04 13:52:10 -0400] tsunamie: ocholetras - when I run knife client list
[2013-09-04 13:52:11 -0400] tsunamie: I only get the following while on the workstation - chef-validator
[2013-09-04 13:52:11 -0400] tsunamie: chef-webui
[2013-09-04 13:52:18 -0400] tsunamie: this does'nt seem right
[2013-09-04 13:53:09 -0400] tsunamie: should it have it's own work name in that list?
[2013-09-04 13:59:48 -0400] thom: adamjk-dev: i use the "log" resource sometimes
[2013-09-04 14:00:01 -0400] adamjk-dev: thom: yeah, I just was running across that
[2013-09-04 14:00:20 -0400] thom: and that happens at converge rather than compile so it's much more handy, generally
[2013-09-04 14:00:26 -0400] adamjk-dev: thom: It seems that using Chef::Log.debug (of info or whatever) doesn't get output when provisioning a node (via Vagrant)
[2013-09-04 14:01:25 -0400] adamjk-dev: thom: ahhh now it is coming back to me.... so just using a Chef::Log happens at compile time, wrapping it in a ruby block happens at converge time, and using the log resource happens at converge time?
[2013-09-04 14:01:34 -0400] thom: yep
[2013-09-04 14:02:27 -0400] adamjk-dev: thom: thanks for the feedback... i looked all this up a while back but forgot
[2013-09-04 14:02:33 -0400] adamjk-dev: thom: should be clear now
[2013-09-04 14:02:39 -0400] tsunamie: so why are the cook books installed directly on to the client servers?
[2013-09-04 14:07:33 -0400] davidr_: Looking for some advice / help
[2013-09-04 14:08:03 -0400] tsunamie: k looks like I misunderstoof what workstation was for
[2013-09-04 14:08:50 -0400] tsunamie: I thought it was a client node for a chef server. Butit's not. Can someoen confirm that. Is it used to manage the whole estate?
[2013-09-04 14:08:58 -0400] Guest34177: I want to be able to give a set of developers pre bootstrapped vms that they can just run chef-client on
[2013-09-04 14:08:59 -0400] BryanWB: any application_python user's around? i can't seem to get it to respect the env vars i need it to use
[2013-09-04 14:09:24 -0400] subdigital: I figured out the postgres connection issue, I was using a password shadow hash instead of a plain md5.  I suppose it helps to read the docs :)
[2013-09-04 14:09:47 -0400] Guest34177: I have tried to use vagrant but it's awfully slow and sometimes it doesn't complete the run
[2013-09-04 14:10:13 -0400] Guest34177: but if I run just chef-client on a non vagrant box the chef run completes with the same chef cookbook
[2013-09-04 14:10:14 -0400] Guest34177: s
[2013-09-04 14:19:41 -0400] mikeb2: passenger_apache2 advice anyone?
[2013-09-04 14:19:50 -0400] mikeb2: (as in, could i have some)?!
[2013-09-04 14:20:02 -0400] mikeb2: (not in a position to give any out)
[2013-09-04 14:21:01 -0400] eugenmayer: after regenerating the auth key for a client, placing it in the client.pem on the client server, the client gets authentication denied - repeatet it, still this issue. What do i miss here? Cache?
[2013-09-04 14:21:14 -0400] zts: tsunamie: I'm not sure sure what you mean.  The chef server doesn't have a concept of "workstation", it does have "clients" and "users".  "Users" act as clients, and also have passwords (allowing you to login to the webui), while "Clients" can only use the API
[2013-09-04 14:21:34 -0400] zts: tsunamie: does that make things any clearer?
[2013-09-04 14:23:20 -0400] tsunamie: zts - kind og
[2013-09-04 14:23:23 -0400] tsunamie: zts - kind of
[2013-09-04 14:24:40 -0400] tsunamie: zts - I am following  this guide http://docs.opscode.com/install_server.html. In this guide it talks about the chef server and a workstation
[2013-09-04 14:25:00 -0400] tsunamie: I thought the workstation was the eqivalient to a puppet node. I now believe I am wrong
[2013-09-04 14:25:19 -0400] tsunamie: and that a workstation is some sort of area used to manage cookbooks and so on before sending them out to different nodes
[2013-09-04 14:26:11 -0400] s2r2: before sending them to the chef server
[2013-09-04 14:26:31 -0400] s2r2: the chef nodes (i.e. the to-be-managed machines), running chef-client, fetch them from the server and do stuff with them
[2013-09-04 14:26:43 -0400] tsunamie: s2r2 - So workstation is a server dedicated to modifying cookbooks and recipies before sending them to the chef server?
[2013-09-04 14:26:55 -0400] tsunamie: gotcha
[2013-09-04 14:27:05 -0400] s2r2: no, everyone involved (all your devs, e.g.) have a workstation
[2013-09-04 14:27:13 -0400] s2r2: it's workstation as in workstation ;)
[2013-09-04 14:27:29 -0400] tsunamie: you see, when I saw the word workstation I assumed that it was the eqivalient to to a puppet node. You have clarified that it's not the case
[2013-09-04 14:27:30 -0400] tsunamie: thanks
[2013-09-04 14:27:51 -0400] tsunamie: I just wanted to know if I was drugged and that pain in myass was not me being dateraped
[2013-09-04 14:28:21 -0400] zts: tsunamie: indeed, they are using workstation in the conventional sense - the computer that you, the operator, are using to Do Things
[2013-09-04 14:28:38 -0400] tsunamie: zts - thanks
[2013-09-04 14:28:51 -0400] zts: tsunamie: the servers running chef-client are generally referred to as nodes
[2013-09-04 14:29:04 -0400] zts: (and you can see the ones registered with your chef server using "knife node list")
[2013-09-04 14:30:01 -0400] tsunamie: zts - I followed that guide to the letter
[2013-09-04 14:30:33 -0400] tsunamie: zts - should I be seeing any nodes? As I don't. I ahve not added on thow. Is the workstation and the chef-server tiself considered as a node iwhen knife node list is run?
[2013-09-04 14:32:29 -0400] zts: tsunamie: no, but you should probably see your workstation (actually, your user account) if you do "knife user list"
[2013-09-04 14:32:46 -0400] zts: tsunamie: after you bootstrap your first node, you should see it in both "knife node list" and "knife client list"
[2013-09-04 14:32:58 -0400] tsunamie: k
[2013-09-04 14:33:22 -0400] zts: that's because Chef separates the credentials used to authenticate with the server (the client) and the data about the server (the node)
[2013-09-04 14:33:31 -0400] zts: but the client and node will have the same name
[2013-09-04 14:33:49 -0400] ggayan: hey guys, on the chef site they mention that chef enterprise can push chef-client runs to nodes
[2013-09-04 14:34:13 -0400] ggayan: it's something available or is it for a future chef release?
[2013-09-04 14:34:21 -0400] mveitas: ggayan: http://docs.opscode.com/pushy.html
[2013-09-04 14:34:31 -0400] tsunamie: zts - I con't see the work station. all I see is knife node list and knife user list
[2013-09-04 14:34:38 -0400] tsunamie: this is under client chef-validator
[2013-09-04 14:34:39 -0400] tsunamie: chef-webui
[2013-09-04 14:34:44 -0400] tsunamie: nothing shows up under node
[2013-09-04 14:34:46 -0400] mveitas: it is only available on the self hosted Enterprise Chef and not on Hosted Chef
[2013-09-04 14:35:18 -0400] mveitas: and from what I understand Pushy is still considered to be beta
[2013-09-04 14:35:24 -0400] ggayan: okay
[2013-09-04 14:35:30 -0400] adamjk-dev: hey all
[2013-09-04 14:35:34 -0400] ggayan: are there any plans to include it on hosted chef?
[2013-09-04 14:35:41 -0400] adamjk-dev: So, anyone have issues with Vagrant/Chef and it not loading a recipe (specified via include_recipe) because it already saw it?
[2013-09-04 14:35:51 -0400] adamjk-dev: Chef debug output message: I am not loading X::Y, because I have already seen it.
[2013-09-04 14:36:24 -0400] zts: tsunamie: when you configured knife, what did you use for the client key?
[2013-09-04 14:36:36 -0400] mveitas: ggayan: again from what I have heard no plans for hosted chef yet
[2013-09-04 14:36:53 -0400] tsunamie: client.key? you mean admin.pem?
[2013-09-04 14:37:30 -0400] ggayan: mveitas: thanks ;)
[2013-09-04 14:38:42 -0400] tsunamie: zts - /opt/chef-repo/.chef/ubuntu.pem'
[2013-09-04 14:38:53 -0400] zts: tsunamie: mmm maybe, what was the URL for the instructions you used to set up knife?
[2013-09-04 14:39:14 -0400] tsunamie: http://docs.opscode.com/chef/install_workstation.html
[2013-09-04 14:40:06 -0400] zts: tsunamie: okay, and you used the "knife configure --initial" command ?
[2013-09-04 14:40:48 -0400] zts: (for what it's worth, I'm just reading that page now andit's confusing me...)
[2013-09-04 14:42:02 -0400] tsunamie: zts - THANK YOU!
[2013-09-04 14:42:08 -0400] tsunamie: zts - yes I ran that command
[2013-09-04 14:42:30 -0400] tsunamie: ps I have just used https://github.com/Metaswitch/clearwater-docs/wiki/Installing-a-Chef-client to install the client
[2013-09-04 14:42:37 -0400] tsunamie: node list still does'nt show anything
[2013-09-04 14:42:50 -0400] tsunamie: it might help you to know that my Chef server and my workstation are on two seperate servers
[2013-09-04 14:42:57 -0400] tsunamie: since I thought workstation was a node
[2013-09-04 14:44:14 -0400] zts: tsunamie: that's fine, typically your server and workstation will be different (because you will have many workstations, assuming you have many people using chef, or you have a laptop and a desktop, or whatever)
[2013-09-04 14:44:28 -0400] tsunamie: I see
[2013-09-04 14:44:51 -0400] tsunamie: zts - however after adding the new client knife node list still shwos nothing
[2013-09-04 14:45:38 -0400] zts: to be honest, I'm not sure... it's been a while since I've set a server up from scratch, and my work at the moment is all Hosted Chef and Chef Solo
[2013-09-04 14:45:59 -0400] tsunamie: in your hosted chef stuff
[2013-09-04 14:46:03 -0400] tsunamie: how do you connect a node to it?
[2013-09-04 14:46:10 -0400] tsunamie: do you just bootstrap it an it appears?
[2013-09-04 14:47:16 -0400] zts: yep, you put your validation key in the right place, and run chef-client.  It uses the validation key to connect to the Chef server, and gets back a client key in return, which it installs and uses for the rest of its activity
[2013-09-04 14:47:24 -0400] zts: the same process is true for the open-source server
[2013-09-04 14:48:16 -0400] tsunamie: validation-key?
[2013-09-04 14:48:26 -0400] tsunamie: I have just done a raw install of the client
[2013-09-04 14:48:29 -0400] tsunamie: so I need something else?
[2013-09-04 14:48:40 -0400] tsunamie: zts - where would this validation key come from?
[2013-09-04 14:50:49 -0400] Mez: Hi all, when bootstrapping a node, it seems using the deploy_branch is trying to run git with some weird settings.
[2013-09-04 14:50:57 -0400] zts: tsunamie: for open source chef, I think it'll be /etc/chef/validation.pem (or similar), on the Chef server
[2013-09-04 14:51:12 -0400] tsunamie: ahhh yes I have seen that
[2013-09-04 14:51:12 -0400] Mez: https://gist.github.com/alexdenvir/ff254e903fd0295c1b72 <-- seems to be trying to access the config for git for a different user than specified in the deploy_branch
[2013-09-04 14:51:22 -0400] zts: actually, the page you linked implies it is chef-validator.pem
[2013-09-04 14:51:25 -0400] tsunamie: where would it co on the client machine. Is'nt it suppous to pull it automaticly?
[2013-09-04 14:51:43 -0400] zts: ah, and it's apparently in  /etc/chef-server now
[2013-09-04 14:52:06 -0400] zts: tsunamie: see http://docs.opscode.com/install_workstation.html#get-the-pem-files-and-knife-rb-files
[2013-09-04 14:52:26 -0400] zts: you would copy the validator to your workstation (ie, where you're running knife), and your knife.rb should specify the path to it
[2013-09-04 14:52:37 -0400] zts: when you use "knife bootstrap", it will copy the validator the server you're bootstrapping
[2013-09-04 14:53:22 -0400] zts: if you're doing it manually, you'd normally put it on the new server in /etc/chef (but you can tell chef-client where to look with an option in /etc/chef/client.rb )
[2013-09-04 14:53:29 -0400] tsunamie: I don't understand. I have already started the server up and installed the client. I can't bootstrap it any more
[2013-09-04 14:53:44 -0400] tsunamie: sorry zts
[2013-09-04 14:54:20 -0400] zts: sure you can
[2013-09-04 14:54:55 -0400] tsunamie: https://github.com/Metaswitch/clearwater-docs/wiki/Installing-a-Chef-client
[2013-09-04 14:54:59 -0400] zts: the bootstrap will just skip installing chef, if it's already installed
[2013-09-04 14:55:05 -0400] tsunamie: got it the section at the bottom tells me where to put the vaidation pem
[2013-09-04 14:55:24 -0400] zts: oh gosh, don't follow those instructions
[2013-09-04 14:55:52 -0400] zts: well, do if you want, but you'll be getting old chef (version 10), not the latest stuff
[2013-09-04 14:56:10 -0400] tsunamie: ??
[2013-09-04 14:56:17 -0400] zts: anyway, the "Configure the chef-client machine" section on that page talks about putting the validation key in the right place
[2013-09-04 14:57:04 -0400] zts: I'm not sure what clearwater is, but if you particularly need to work with them, you might want to see if they can give you more support for getting Chef up and running
[2013-09-04 14:57:24 -0400] tsunamie: gaaa kk
[2013-09-04 14:57:46 -0400] tsunamie: how do I bootstrap my existing server and have the newest chef-client installed?
[2013-09-04 14:57:57 -0400] zts: after you get knife running, these are the docs you would follow: http://docs.opscode.com/install_bootstrap.html
[2013-09-04 14:59:11 -0400] tsunamie: zts - k thanks will follow this. Thanks again. Sorry that was'nt at the end of the worstation or install docs
[2013-09-04 15:00:11 -0400] zts: tsunamie: no problem, I agree with you that there's room for improvement in the docs
[2013-09-04 15:00:23 -0400] tsunamie: zts - I really love you man
[2013-09-04 15:00:26 -0400] zts: tsunamie: good luck with it! :)
[2013-09-04 15:00:37 -0400] tsunamie: zts - you based in london, I will buy you a bottle of VD
[2013-09-04 15:01:47 -0400] zts: hah, I am actually, but no rewards necessary :)
[2013-09-04 15:23:44 -0400] ichilton: Using fnicol's chef-user cookbook to manage users & private keys from a data bag
[2013-09-04 15:24:01 -0400] ichilton: It will also create a private key for the user if required.
[2013-09-04 15:26:04 -0400] ichilton: Is it possible when that happens (on my gateway machines), I can take that key and add it back into the data bag so that box can log into other machines without manual intervention of adding the new key to the data bag for each user?
[2013-09-04 15:26:46 -0400] ichilton: i'm thinking it will be possible to update the data bag at run time, but then my copy in my chef-data repo will be out of date...
[2013-09-04 15:27:12 -0400] rshade98: is there a way to say "depends chef < 11.0"
[2013-09-04 15:27:17 -0400] rshade98: in metadata.rb
[2013-09-04 15:34:14 -0400] mattupstate: if seems that chef-solo wont pick up attribute overrides in a cookbook that is in the run listis that a fair statement?
[2013-09-04 15:34:47 -0400] ichilton: are the overrides in a cookbook which is further down in the run list?
[2013-09-04 15:35:01 -0400] ichilton: things are executed in the order they appear in the run list.
[2013-09-04 15:35:11 -0400] mattupstate: its the first cookbook in the run list
[2013-09-04 15:35:37 -0400] ichilton: odd
[2013-09-04 15:35:40 -0400] mattupstate: i have override['nginx']['version'] = '1.4.0' but it always installs 1.2.6
[2013-09-04 15:35:55 -0400] mattupstate: but it installs 1.4.0 with i use chef-client
[2013-09-04 15:36:07 -0400] ichilton: would have thought that would be ok, but maybe someone knows more...
[2013-09-04 15:38:44 -0400] mattupstate: thats what i would have thought too
[2013-09-04 15:40:28 -0400] mveitas: ichilton: are you doing this locally with vagrant or using a chef server?
[2013-09-04 15:40:38 -0400] ichilton: mveitas: the user thing?
[2013-09-04 15:40:50 -0400] mveitas: the nginx issue
[2013-09-04 15:41:00 -0400] ichilton: mveitas: that was mattupstate
[2013-09-04 15:41:41 -0400] mveitas: mattupstate: try this agin, are you doing the work with vagrant or chef-server
[2013-09-04 15:41:49 -0400] mattupstate: mveitas: using packer
[2013-09-04 15:42:05 -0400] mattupstate: provisioning an AMI
[2013-09-04 15:42:53 -0400] mveitas: I have been meaning to look into packer for doing AMI provisioning can you share a snipet of your cookbook to look at, maybe someone can see something
[2013-09-04 15:43:32 -0400] mattupstate: i simply have a `organization_name` cookbook
[2013-09-04 15:43:41 -0400] mattupstate: and in the attributes folder i have an overrides.rb file
[2013-09-04 15:44:18 -0400] nimbius: hi chef, how can i add opscode and community cookbooks to my local git repo?
[2013-09-04 15:44:41 -0400] mattupstate: mveitas: and it just looks like this: http://bpaste.net/show/r9i5pvdrY7r0Md58IXYY/
[2013-09-04 15:45:25 -0400] nimbius: is a multi remote strategy best?
[2013-09-04 15:46:37 -0400] adnichols: nimbius generally folks use something like berkshelf for that
[2013-09-04 15:47:04 -0400] adnichols: you don't really want them in your repo if you can avoid it - makes it harder to pull in updates
[2013-09-04 15:47:05 -0400] tsunamie: zts - that all worked
[2013-09-04 15:47:31 -0400] tsunamie: zts - however permissions issues I am working thought thansk again
[2013-09-04 15:47:32 -0400] mveitas: I assume the output of the chef run has it pulling down "http://ngix.org/download/ngix-#1.2.6.tar.gz"
[2013-09-04 15:47:42 -0400] fak3r: so if I'm using librarian-chef for cookbooks, should I add it to .gitignore? (chef-repo/cookbooks)
[2013-09-04 15:48:13 -0400] adnichols: fak3r generally yes - I think that's in the librarian-chef setup docs
[2013-09-04 15:48:33 -0400] mveitas: mattupstate: the latest ngix cookbook has version 1.2.9, strange
[2013-09-04 15:49:29 -0400] mattupstate: yeah, not much weird about that though
[2013-09-04 15:50:09 -0400] fak3r: adnichols: thanks, getting back into chef after a 1.5 year gap and am playing catchup
[2013-09-04 15:50:15 -0400] mveitas: I'd suggest looking through the chef run logs to see if you can see anything that is out of the ordinary
[2013-09-04 15:54:09 -0400] nimbius: adnichols: thanks :)
[2013-09-04 15:54:24 -0400] ak|2: has anyone had issues with search and Chef 11?  http://pastebin.com/aUuLZSTx
[2013-09-04 15:55:10 -0400] ak|2: the aforementioned search was working with Chef 10 as far as I recall
[2013-09-04 15:55:52 -0400] adnichols: ak|2 does that search work w/ knife search?
[2013-09-04 15:56:31 -0400] ak|2: adnichols: it does, minus the escape characters
[2013-09-04 16:02:48 -0400] mattupstate: mveitas: just tried it with vagrant and its not overriding either
[2013-09-04 16:03:39 -0400] yfeldblum: fak3r, some people do, some people don't; librarian-chef can always refresh your ./cookbooks based on your Cheffile.lock but you can still add them to git if you'd like
[2013-09-04 16:04:20 -0400] mveitas: mattupstate: What version of the ngix cookbook is being used? Can you see the .tar.gz being downloaded during the chef run? I wonder if it is using the package manager to install and that is 1.2.6
[2013-09-04 16:04:30 -0400] mattupstate: i can
[2013-09-04 16:04:47 -0400] mattupstate: i just realized something
[2013-09-04 16:05:01 -0400] mattupstate: its the only cookbook not in the dependency definition
[2013-09-04 16:05:46 -0400] mattupstate: let me try adding it
[2013-09-04 16:07:49 -0400] mattupstate: nope..
[2013-09-04 16:09:17 -0400] mattupstate: trying ['nginx']['source']['version'] now
[2013-09-04 16:09:26 -0400] mattupstate: assumed ['nginx']['version'] would work...
[2013-09-04 16:09:33 -0400] mattupstate: give whats in the source.rb attribute file
[2013-09-04 16:09:36 -0400] mattupstate: *given
[2013-09-04 16:11:19 -0400] tsunamie: hey guys, so I ahve a chef cookbook that I have made on my workstation
[2013-09-04 16:11:38 -0400] tsunamie: how I I load it into the chef server and make sure that a specific node has the cookbook run on it?
[2013-09-04 16:14:36 -0400] mattupstate: tsunamie: `knife cookbook upload <cookbook-name>`
[2013-09-04 16:15:00 -0400] tsunamie: mattupstate - do I ahve to do that for all the dependencies as well?
[2013-09-04 16:15:10 -0400] mattupstate: yup
[2013-09-04 16:15:13 -0400] tsunamie: or will the system know because one cookbook relies on anotehr it will just push all up?
[2013-09-04 16:15:18 -0400] tsunamie: ahh okay
[2013-09-04 16:15:21 -0400] mattupstate: you need to upload dependencies first
[2013-09-04 16:15:30 -0400] tsunamie: last one, how do I make sure my taget node runs that specific cookbook?
[2013-09-04 16:15:35 -0400] tsunamie: I see
[2013-09-04 16:15:45 -0400] mattupstate: knife node edit <node-name>
[2013-09-04 16:15:51 -0400] mattupstate: and add it to the run_list
[2013-09-04 16:16:38 -0400] tsunamie: k thanks matt,
[2013-09-04 16:16:57 -0400] mattupstate: no sweat
[2013-09-04 16:17:19 -0400] tsunamie: knife cookbook upload apt
[2013-09-04 16:17:19 -0400] tsunamie: ERROR: Could not find cookbook apt in your cookbook path, skipping it
[2013-09-04 16:17:19 -0400] tsunamie: ERROR: Failed to upload 1 cookbook.
[2013-09-04 16:17:23 -0400] tsunamie: but it's right there?
[2013-09-04 16:17:40 -0400] mattupstate: did you configure knife properly?
[2013-09-04 16:17:46 -0400] tsunamie: mattupstate - sorry not sure why it does'nt know/see these
[2013-09-04 16:17:58 -0400] tsunamie: knife works with knide client list
[2013-09-04 16:18:03 -0400] tsunamie: and knife node list
[2013-09-04 16:18:07 -0400] tsunamie: so I assume so
[2013-09-04 16:18:26 -0400] mattupstate: did you set `cookbook_path` in knife.rb?
[2013-09-04 16:19:03 -0400] tsunamie: that value is not explicitly set
[2013-09-04 16:19:09 -0400] tsunamie: how ever I used knife --initate
[2013-09-04 16:20:36 -0400] tsunamie: I added your statment and it fixed that issue
[2013-09-04 16:22:15 -0400] dgarstang: Anyone here using knife ec2 server create with a ssh proxy? it works sometimes for me, and not others (with a disconnect) which means my options are correct. Seems like a bug to me.
[2013-09-04 16:22:44 -0400] Mez: dgarstang: sounds like an issue with a proxy timeout or connectivity issue :)
[2013-09-04 16:23:06 -0400] dgarstang: Mez: works fine manually every time if I ssh into the proxy and then into the new node
[2013-09-04 16:23:23 -0400] dgarstang: Mez: plus it's an immediate disconnect, not a timeout.
[2013-09-04 16:24:06 -0400] Mez: dgarstang: You'd need to find out what's causing the disconnect by packet capping
[2013-09-04 16:24:27 -0400] dgarstang: Mez: bit hard when it's encrypted. All I can do is see how far it gets
[2013-09-04 16:26:17 -0400] Mez: You can see which end terminates the connection
[2013-09-04 16:26:21 -0400] Mez: by packet capping
[2013-09-04 16:26:33 -0400] dgarstang: yah
[2013-09-04 16:30:57 -0400] ak|2: adnichols: it even works via chef-shell on the provisioned machine:   chef:recipe > search(:node, "rundeck_server_ssh_pub_key:* AND tags:rundeck_server_test_tag AND recipe:rundeck\\:\\:install-server")
[2013-09-04 16:30:57 -0400] ak|2:  => [node[rundeck-server], node[rundeck-server-client-test-server]]
[2013-09-04 16:31:06 -0400] tsunamie: this seems a bit shit. is there a way to upload all dependancies automaticly?
[2013-09-04 16:31:19 -0400] ak|2: adnichols: it even works on the provisioned machine via chef-shell:  chef:recipe > search(:node, "rundeck_server_ssh_pub_key:* AND tags:rundeck_server_test_tag AND recipe:rundeck\\:\\:install-server")
[2013-09-04 16:31:20 -0400] ak|2:  => [node[rundeck-server], node[rundeck-server-client-test-server]]
[2013-09-04 16:31:25 -0400] tsunamie: or do I litterally have to go throught ALLL of the sub dependencies of every cookboook and upload each one
[2013-09-04 16:31:30 -0400] ak|2: sorry for double post
[2013-09-04 16:34:38 -0400] mattupstate: mveitas: the nginx cookbook is buggy
[2013-09-04 16:34:55 -0400] mveitas: mattupstate, did you find out the root cause?
[2013-09-04 16:35:19 -0400] mattupstate: not exactly, just have to set more attribute overrides than what seems to be necessary
[2013-09-04 16:35:54 -0400] mveitas: which attributes did you end up having to add?
[2013-09-04 16:36:08 -0400] mattupstate: http://bpaste.net/show/pzSLMHrl6hSnjatgF2tA/
[2013-09-04 16:37:58 -0400] adnichols: ak|2 sorry - not really sure what's going on - hopefully someone else has a suggestion
[2013-09-04 16:38:03 -0400] adnichols: ak|2 also in a meeting :)
[2013-09-04 16:40:47 -0400] heathsnow: Any good strategies out there for managing Application Versions (not cookbook versions)?
[2013-09-04 16:41:06 -0400] heathsnow: Use DataBags for PROD and have Environment overrides perhaps?
[2013-09-04 16:43:35 -0400] ak|2: adnichols: no worries, thanks for the feedback... I should be able to figure it out between chef-shell and all
[2013-09-04 16:47:08 -0400] mveitas: maybe those two attributes should be converged
[2013-09-04 16:48:02 -0400] dgarstang: I'm trying to use knife ec2 with ssh proxy. Running tcpdump, I've confirmed that when it fails (i get a disconnect), that it's coming from the ssh proxy NOT the new node
[2013-09-04 16:51:48 -0400] dgarstang: Would really love to hear if anyone is using knife ec2 with ssh proxies across large distances.
[2013-09-04 16:55:38 -0400] mveitas: mattupstate: looking at the recipes/source.rb, it should be setting the source version to the default version
[2013-09-04 16:55:59 -0400] mattupstate: yeahi can't quite figure out why its wonky
[2013-09-04 16:56:36 -0400] mattupstate: i added some debug statements in the source recipe and it always downloaded 1.2.6 with the minimal attributes set
[2013-09-04 16:56:41 -0400] mattupstate: didn't work until i set them all explicitly
[2013-09-04 16:57:08 -0400] mattupstate: works fine now that things are set
[2013-09-04 16:58:03 -0400] fak3r: looking for a centos6 bootstrap, but this says "Omnibus packages are the official installation path now" http://tickets.opscode.com/browse/CHEF-2601
[2013-09-04 16:58:25 -0400] fak3r: so does that mean I don't download/use the centos6-gems.erb file? how do I bootstrap with 'Omnibus packages"?
[2013-09-04 16:58:47 -0400] dgarstang: Would really love to hear if anyone is using knife ec2 with ssh proxies across large distances.
[2013-09-04 16:59:48 -0400] mattupstate: dgarstang: try the mailing list
[2013-09-04 17:00:02 -0400] fak3r: dgarstang: I haven't done that, is there a way to add -v to the ssh command to get verbose output?
[2013-09-04 17:01:30 -0400] dgarstang: mattupstate: oh. didn't know there was one
[2013-09-04 17:02:45 -0400] fak3r: dgarstang: http://lists.opscode.com/
[2013-09-04 17:04:34 -0400] dgarstang: fak3r: knife ec2 has a -V option but it doesn't do squat.
[2013-09-04 17:08:11 -0400] dgarstang: fak3r: Heck. nothing seems to be at http://lists.opscode.com/
[2013-09-04 17:09:23 -0400] fak3r: dgarstang: whoops, think I was already logged in, try http://lists.opscode.com/sympa/info/chef
[2013-09-04 17:09:45 -0400] dgarstang: fak3r: worked it out. crappy interface.
[2013-09-04 17:12:01 -0400] cap10morgan: for those using cookbooks instead of roles, how do you set attributes early enough that they get set correctly for other cookbooks' attributes/default.rb files to pick them up?
[2013-09-04 17:13:16 -0400] dgarstang: I've run this three times now with -VV and it's worked three times. WTF.
[2013-09-04 17:15:47 -0400] fak3r: during vagrant up, I get the following, but knife seems to work on the node afterwords. Problem?
[2013-09-04 17:15:51 -0400] fak3r: [2013-09-04T17:12:55+00:00] INFO: HTTP Request Returned 409 Conflict: Client already exists
[2013-09-04 17:15:51 -0400] fak3r: [2013-09-04T17:13:06+00:00] INFO: Run List is [recipe[apache2]]
[2013-09-04 17:16:00 -0400] dgarstang: The fact this has worked four times now heavily indicates a timing bug with knife ec2 to me.
[2013-09-04 17:16:48 -0400] mattupstate: cap10morgan: override['the']['attribute'] in your cookbooks' attributes
[2013-09-04 17:17:34 -0400] cap10morgan: mattupstate: I am using node.set, which I thought was normal precedence (higher than default) but it didn't work.
[2013-09-04 17:17:42 -0400] cap10morgan: this is with the java cookbook
[2013-09-04 17:18:00 -0400] cap10morgan: where it sets the openjdk_packages attr based on the jdk_version attr
[2013-09-04 17:18:08 -0400] mattupstate: i used override[''][''] in my own cookbook attributes
[2013-09-04 17:18:18 -0400] cap10morgan: mattupstate: OK, I'll give that a try
[2013-09-04 17:21:28 -0400] cap10morgan: nope, didn't work. It's still trying to install openjdk-6-jdk even though I've overridden jdk_version to be '7'
[2013-09-04 17:39:56 -0400] fak3r: so vagrant up kicks off chef automatically in the VM - so I don't need to bootstrap it, but I will for 'real' hosts. I think?
[2013-09-04 17:40:46 -0400] cpuguy83: fak3r: Depends... You can use Vagrant to drive cloud EC2, vmware, digital ocean
[2013-09-04 17:41:04 -0400] cpuguy83: Or You can use knife to setup/teardown instances on whatever cloud system as well.
[2013-09-04 17:41:27 -0400] cpuguy83: Or you can make the host manually, and knife bootstrap over
[2013-09-04 17:49:28 -0400] nimbius: hi chef.  im having problems understanding workflow with berkshelf.  my goal is to use opscode community cookbooks to build recipes to provision machines, but how can i do that if the .berkshelf directory houses the cookbooks instead of my repository?
[2013-09-04 17:50:51 -0400] benjohnson77: hey people
[2013-09-04 17:51:21 -0400] n1ko: nimbius: .berkshelf is a cache
[2013-09-04 17:51:46 -0400] n1ko: the community cookbooks are loaded from github if(when) you dont have them in your cache
[2013-09-04 17:51:53 -0400] n1ko: or when those get out of date
[2013-09-04 17:52:58 -0400] nimbius: n1ko: so the idea is berkshelf caches opscode/community cookbooks for use when my custom cookbooks require them?
[2013-09-04 17:53:22 -0400] n1ko: well yes, thats a feature of berkshelf
[2013-09-04 17:53:40 -0400] n1ko: quite similar what package manager usually do (same kind of mechanism can be found in maven for example)
[2013-09-04 17:53:54 -0400] n1ko: and it also caches any other cookbooks, including your own
[2013-09-04 17:54:49 -0400] nimbius: n1ko: i certainly see the problem with just downloading github cookbooks, creating recipes, and squirreling them away into my git server to rot...but from the perspective of a client machine creating cookbooks im still confused.
[2013-09-04 17:55:27 -0400] n1ko: why so?
[2013-09-04 17:56:36 -0400] nimbius: the workflow i understand so far is to clone my git tree, make my recipe or changes, commit them, merge them, then use knife to add the latest cookbook from origin/master to the server...what purpose does berkshelf serve?
[2013-09-04 17:59:25 -0400] nimbius: http://wiki.opscode.com/display/chef10/Cookbook+Workflows      may help
[2013-09-04 17:59:53 -0400] benjohnson77: I wanted to create a wrapper recipe for QA, how can I make sure the wrapper recipe pulls a different attributes file and not defaults
[2013-09-04 18:02:27 -0400] dgarstang: I can't get a damn break. Anyone here using packer?
[2013-09-04 18:14:40 -0400] dgarstang: Anyone using knife ec2 across multiple amazon regions with ssh proxies?
[2013-09-04 18:20:56 -0400] timsmith: Vargo around?
[2013-09-04 18:44:38 -0400] sparr: how can I download an entire data bag, so that I could edit it and then re-upload it using `knife data bag from file` ?
[2013-09-04 18:48:30 -0400] yfeldblum: sparr, data-bag items are the things that may be edited
[2013-09-04 18:48:50 -0400] yfeldblum: sparr, a data-bag is a container of many, possibly innumerable, data-bag items
[2013-09-04 18:49:16 -0400] sparr: ok, then I'll try asking this another way
[2013-09-04 18:49:52 -0400] sparr: Can I put two items in one json file, and then use `knife data bag from file` to create a data bag containing those two items?
[2013-09-04 18:51:32 -0400] yfeldblum: sparr, `knife data bag from file` doesn't handle that; it's more of a simple wrapper around the API operations which let an API client edit one data-bag item at a time
[2013-09-04 18:51:45 -0400] sparr: ok..
[2013-09-04 18:51:47 -0400] sparr: what does it handle?
[2013-09-04 18:52:32 -0400] yfeldblum: sparr, that knife command creates/updates one data-bag item
[2013-09-04 19:00:35 -0400] arussel: how can I copy and unzip a file that is already on the host ?
[2013-09-04 19:01:15 -0400] sparr: ok, so there's no way I can create a single file representing multiple data bag items and turn that into a data bag on my chef server?
[2013-09-04 19:01:58 -0400] eherot: re https://github.com/opscode-cookbooks/rsyslog/blob/master/recipes/default.rb
[2013-09-04 19:02:23 -0400] eherot: anyone have any thoughts on why node['rsyslog']['service_name'] might be showing up as nil at run time even though it's clearly defined in the attributes of this recipe?
[2013-09-04 19:02:29 -0400] btm: @opscode chef/ohai code review, join: https://plus.google.com/hangouts/_/3f9e3d2de3880b174f3ade3ab0c8554a0be3fb09, watch: http://youtu.be/Y16MzgKsIMU
[2013-09-04 19:03:18 -0400] eherot: error is: The string `service[]' is not valid for resource collection lookup. Correct syntax is `resource_type[resource_name]'
[2013-09-04 19:06:37 -0400] dgarstang: I can't get a damn break. Anyone here using packer?
[2013-09-04 19:24:08 -0400] nicgrayson: i'm trying to get a strange only_if block to work
[2013-09-04 19:24:09 -0400] nicgrayson:   only_if { "test -f /etc/init.d/hadoop-hdfs-zkfc" and not "/etc/init.d/hadoop-hdfs-zkfc status" }
[2013-09-04 19:24:20 -0400] nicgrayson: does this syntax work?
[2013-09-04 19:26:02 -0400] sparr: I have a bit of a catch 22 problem... I am using `cookbook_file` to create an init.d script, and then `service` to run chkconfig (among other things, presumably) on it. the cookbook_file notifies the service to start, and the service has an enable action
[2013-09-04 19:26:13 -0400] sparr: if the cookbook_file comes first, then I get an error that the service doesn't exist to notify
[2013-09-04 19:26:28 -0400] sparr: if the service comes first, then I get an error that the init script doesn't exist
[2013-09-04 19:27:22 -0400] sparr: https://gist.github.com/sparr/8fe5dd6d47c6c8b3a528
[2013-09-04 19:27:30 -0400] sparr: how should I rearrange or alter that to make it work?
[2013-09-04 19:31:03 -0400] devdazed: i have some odd behavior.  At the node level i have an attrubute set, however, when chef-client runs, it doesn
[2013-09-04 19:31:10 -0400] devdazed: t  seem to pick it up
[2013-09-04 19:31:28 -0400] devdazed: so basically node['ephemeral_mount_point'] exists in the chef UI and in knife
[2013-09-04 19:31:35 -0400] devdazed: but if i chef-shell -Z
[2013-09-04 19:31:41 -0400] devdazed: it comes up as nil
[2013-09-04 19:32:23 -0400] devdazed: any ideas?
[2013-09-04 19:32:24 -0400] nicgrayson: sparr: did you try the service with action nothing then have a notify go?
[2013-09-04 19:33:03 -0400] nicgrayson: devdazed: how are you setting the attr?
[2013-09-04 19:33:34 -0400] devdazed: in environments/production.rb default_attributes(
[2013-09-04 19:34:12 -0400] nicgrayson: devdazed: i would suggest using overrides in environments
[2013-09-04 19:35:47 -0400] JoshuaMiller: Theory that somewhere else in the precedence heirarchy something is setting it to nil?
[2013-09-04 19:37:17 -0400] nicgrayson: JoshuaMiller: devdazed that i why an override in the env would test taht
[2013-09-04 19:37:21 -0400] nicgrayson: *that
[2013-09-04 19:37:48 -0400] devdazed: ok, ill check it out
[2013-09-04 19:38:05 -0400] devdazed: thansk
[2013-09-04 19:38:08 -0400] devdazed: *thanks
[2013-09-04 19:38:13 -0400] saintish: Hey what's up everyone. I've a bit of a question; I'm in the midst of writing a recipe and need to shell out to get some data from RVM and turn it into an array but I'm being met with the following error: ERROR: Errno::ENOENT: No such file or directory - rvm list strings (this is the command in the recipe: ruby_version_list = `rvm list strings`.split )
[2013-09-04 19:38:29 -0400] saintish: Was hoping maybe someone knew off the top of their head what was up, or if I'm just doing something silly.
[2013-09-04 19:38:40 -0400] JoshuaMiller: Absolute path?
[2013-09-04 19:38:57 -0400] sparr: I want to get the IP address of every node. How can I run that query?
[2013-09-04 19:39:17 -0400] spox: knife search node "node_name:*" -a ipaddress
[2013-09-04 19:39:33 -0400] yfeldblum: saintish, rvm is a function defined in a script that is sourced in your bashrc/bash_profile/etc
[2013-09-04 19:40:10 -0400] saintish: Ah..duh, that makes sense
[2013-09-04 19:40:14 -0400] saintish: good call
[2013-09-04 19:41:30 -0400] yfeldblum: saintish, there may be a binary at /usr/local/rvm/bin/rvm though depending on your version of rvm
[2013-09-04 19:41:42 -0400] sevensoft: Afternoon guys..
[2013-09-04 19:41:44 -0400] nicgrayson: can you have more than one statement in an only_if or not_if block?
[2013-09-04 19:41:54 -0400] yfeldblum: saintish, if it's a global install and not a user install
[2013-09-04 19:42:37 -0400] saintish: yfeldblum: we're doing a global install, it's definitely there. that's given me a few good ideas, much appreciate the help. Damn good catch
[2013-09-04 19:42:52 -0400] yfeldblum: saintish, for user installs, just for reference, there's a binary at ~/.rvm/bin/rvm
[2013-09-04 19:44:05 -0400] yfeldblum: nicgrayson, yes; however, the 6 statements that you've got in there will return only a single value as the result of the set of 6 statements, which usually is the value of the last statement
[2013-09-04 19:44:18 -0400] yfeldblum: nicgrayson, so what you possibly want is multiple only_if/not_if guards
[2013-09-04 19:44:19 -0400] sparr: spox: what if I want the address for a NIC other than the default/primary? I can `knife search node "*" -a network.interfaces.eth1.addresses` and see a lot more data than I want. Under addresses I have attributes for the IP, the MAC, and the IPV6 address. But since I don't know the IP, how do I query for it? Or should I just filter the IP out using a regex?
[2013-09-04 19:45:26 -0400] sevensoft: Trying to install chef server on rhel 6.2.  Says it started postgres but then failed at the next step .. Error executing action 'run' on resource...
[2013-09-04 19:45:42 -0400] sevensoft: While trying to execute createdb..
[2013-09-04 19:45:52 -0400] nicgrayson: yfeldblum: thanks for the info
[2013-09-04 19:45:59 -0400] yfeldblum: sparr, `knife search` is not a comprehensive query language like SQL; one typically uses ruby to filter/project/transform/etc the result-set
[2013-09-04 19:46:17 -0400] sevensoft: Could not connect to database template1
[2013-09-04 19:46:19 -0400] yfeldblum: sparr, possibly in a custom knife plugin that may be invoked from the command line
[2013-09-04 19:46:41 -0400] sparr: thanks
[2013-09-04 19:46:58 -0400] nicgrayson: yfeldblum: so like this? https://gist.github.com/nicgrayson/6441915
[2013-09-04 19:47:47 -0400] spox: sparr: are you just trying to find a single node?
[2013-09-04 19:48:17 -0400] sparr: no
[2013-09-04 19:48:31 -0400] sparr: I want the IP of eth1 (or eth0:1, probably) on every node
[2013-09-04 19:49:04 -0400] yfeldblum: nicgrayson, that won't get you what you want, because in ruby, a string evaluates to truthy rather than falsy
[2013-09-04 19:49:22 -0400] yfeldblum: nicgrayson, if you want only_if to run ruby code and be based on the return value of that ruby code, then pass it a block
[2013-09-04 19:49:57 -0400] yfeldblum: nicgrayson, if you want only_if to shell out to a command and be based on whether that command exits with 0 or doesn't, then pass a string rather than a block (pass the string directly, with no braces)
[2013-09-04 19:50:17 -0400] yfeldblum: nicgrayson, e.g.: only_if "test -f /etc/init.d/hadoop-hdfs-zkfc"
[2013-09-04 19:50:24 -0400] nicgrayson: yfeldblum: duh thanks
[2013-09-04 19:50:55 -0400] timsmith: btm:  I can't make it to code review today, but these should be good to go and have my blessing: COOK-3445 COOK-3429 COOK-3422
[2013-09-04 19:51:40 -0400] yfeldblum: nicgrayson, it's probably slightly faster, in the case of testing if a file exists, to use ruby directly: only_if { ::File.exist?("/etc/init.d/hadoop-hdfs-zkfc") }
[2013-09-04 19:54:13 -0400] nicgrayson: yfeldblum: so this looks good? https://gist.github.com/nicgrayson/6441915
[2013-09-04 19:55:17 -0400] JoshuaMiller: I take it the multiple only_if / not_if clauses are AND'd together?
[2013-09-04 19:55:57 -0400] nicgrayson: that would make sense, i haven't see this syntax work or be used anywhere
[2013-09-04 19:56:14 -0400] nicgrayson: i'm testing it now though
[2013-09-04 20:01:44 -0400] btm: @opscode cookbook code review: join: https://plus.google.com/hangouts/_/367ce0f4140b0da535baafecd1499c87324e0de0, watch: http://youtu.be/Dunx4nfoid8
[2013-09-04 20:01:48 -0400] btm: timsmith: thanks dude.
[2013-09-04 20:03:43 -0400] fixxxermet: Hey guys.  I install chef via the omnibus package and afterwards am getting these errors:  http://pastie.org/8298513
[2013-09-04 20:10:44 -0400] mikeb2: hi folks, still trying to understand an issue with passenger_apache2 cookbook - can anyone help?
[2013-09-04 20:11:21 -0400] nicgrayson: i keep getting this error while running vagrant provision using vbox and solo [2013-09-04T20:10:17+00:00] INFO: Chef client  is running, will wait for it to finish and then run.
[2013-09-04 20:11:33 -0400] nicgrayson: anyone else seen that or know how to make it die?
[2013-09-04 20:12:06 -0400] gswallow1: Short of creating my own, is there a bootstrap template that does *nothing*?
[2013-09-04 20:16:54 -0400] yfeldblum: nicgrayson, that's fine
[2013-09-04 20:17:23 -0400] yfeldblum: JoshuaMiller, resources are converged only if all of the guards (only_if/not_if) pass
[2013-09-04 20:17:44 -0400] jmickle: nicgrayson: that means chef is running in the background this could be result of it still running a setup or running the daemon
[2013-09-04 20:17:53 -0400] jmickle: nicgrayson: if you want to run chef-client manually just kill -9 the pid
[2013-09-04 20:18:11 -0400] sevensoft: Any thoughts on postgresql not starting via chef-server-ctl?
[2013-09-04 20:18:42 -0400] sevensoft: No error when that line is run.. But asking for status shows down.
[2013-09-04 20:20:30 -0400] jmickle: have you checked the logs
[2013-09-04 20:20:38 -0400] sevensoft: Did a tail.. Looks like it cannot allocate memory..
[2013-09-04 20:20:42 -0400] jmickle: sevensoft: there is a chef-server-ctl tail
[2013-09-04 20:20:54 -0400] jmickle: how much mem is on the system?
[2013-09-04 20:20:58 -0400] jmickle: are you oom?
[2013-09-04 20:21:06 -0400] sevensoft: Chef noob here.. So just found out about tail :-)
[2013-09-04 20:21:21 -0400] jmickle: sevensoft: no problem :-) check the tail and check for errors
[2013-09-04 20:24:09 -0400] sevensoft: Yep.. Low mem..  Thx
[2013-09-04 20:25:54 -0400] jmickle: sevensoft: :-) no problem glad its an easy fix
[2013-09-04 20:26:01 -0400] kreedy: Anyone else getting "An application error has occurred. Please try again later. (Error 10000)" on https://manage.opscode.com/databags
[2013-09-04 20:29:29 -0400] sparr: I am using the ifconfig resource to do persistent network configuration. It's working, except that the newly configured and activated network interfaces don't show up in the node's attributes until the next run of chef. What might cause that?
[2013-09-04 20:29:47 -0400] jbz_: That's normal
[2013-09-04 20:29:53 -0400] jbz_: ohai doesn't run again until the next chef run
[2013-09-04 20:30:10 -0400] sparr: ok, then I am confused
[2013-09-04 20:30:14 -0400] jbz_: ?
[2013-09-04 20:30:24 -0400] sparr: the first time I run chef (ever), ohai gets run after convergence, right?
[2013-09-04 20:30:35 -0400] jbz_: ohai is run at the beginning of *every* client run.
[2013-09-04 20:30:39 -0400] sparr: oh, at the beginning
[2013-09-04 20:30:42 -0400] jbz_: yes
[2013-09-04 20:30:44 -0400] sparr: :(
[2013-09-04 20:30:54 -0400] sparr: that's... disconcerting
[2013-09-04 20:30:54 -0400] jbz_: ohai populates all those attributes which aren't specifically populated by recipes
[2013-09-04 20:31:03 -0400] jbz_: well, the run needs that information to complete
[2013-09-04 20:31:26 -0400] sparr: sure, I recognize that, but then that information gets sent to the chef-server, and I was interpreting that as "the state of the node"
[2013-09-04 20:31:39 -0400] jbz_: Ah, well, that would get stale
[2013-09-04 20:31:42 -0400] jbz_: for example
[2013-09-04 20:31:46 -0400] jbz_: if DHCP changes the IP of the node
[2013-09-04 20:31:48 -0400] sparr: but now I'm realizing it's delayed by a half hour (assuming the default daemonized chef client)
[2013-09-04 20:31:49 -0400] kreedy: nevermind. protip: don't create a data bag with a . in the name
[2013-09-04 20:31:51 -0400] jbz_: you need a way for that to get updated.
[2013-09-04 20:32:04 -0400] jbz_: So the ohai runs do that.
[2013-09-04 20:32:10 -0400] sparr: I get that
[2013-09-04 20:32:26 -0400] sparr: but my concern is when ohai-relevant-info changes during a chef client run
[2013-09-04 20:32:35 -0400] sparr: the chef server doesn't find out about those until later
[2013-09-04 20:32:41 -0400] sparr: is there a way I can alter that behavior?
[2013-09-04 20:32:44 -0400] jbz_: well
[2013-09-04 20:32:50 -0400] jbz_: you can force the node to save to the server using node.save
[2013-09-04 20:32:54 -0400] jbz_: from recipe code
[2013-09-04 20:33:00 -0400] Kzim: is there a way to have the cookbook name within a recipe please
[2013-09-04 20:33:57 -0400] jpterry: Node attribute question. Is it possible to set an attribute on a node on every run of a recipe. When i use set it as default in the recipe, it isn't reset the next time. When I set it as override in the recipe, it isn't saved on the node when the run completes. Is there a middle ground where I can have an attribute evaluated and reset on the node every time the recipe runs?
[2013-09-04 20:33:58 -0400] jbz_: sparr: However, you can't modify 'automatic' precedence atributes
[2013-09-04 20:34:03 -0400] jbz_: which is what ohai produces
[2013-09-04 20:34:13 -0400] sparr: I don't want to modify those attributes
[2013-09-04 20:34:16 -0400] sparr: I'm modifying system configuration
[2013-09-04 20:34:23 -0400] jbz_: well, the interface info is ohai
[2013-09-04 20:34:29 -0400] sparr: and ohai recognizes that next time it's run
[2013-09-04 20:34:32 -0400] jbz_: right
[2013-09-04 20:34:41 -0400] sparr: so I want that next time to be sooner
[2013-09-04 20:34:44 -0400] jbz_: OK
[2013-09-04 20:34:44 -0400] sparr: preferably immediately
[2013-09-04 20:34:51 -0400] jbz_: you might be able to force another ohai run
[2013-09-04 20:34:58 -0400] jbz_: I don't know offhand
[2013-09-04 20:35:10 -0400] jbz_: and have that happen based on a notify/subscribe from the resource that's changing the interfaces
[2013-09-04 20:35:51 -0400] sparr: ok
[2013-09-04 20:36:00 -0400] sparr: I'll keep that in mind and ask again when more people are around
[2013-09-04 20:36:07 -0400] sparr: or I'll just wait 30 minutes for new data :)
[2013-09-04 20:36:25 -0400] sevensoft: Solo close... Freed up mem...   Went thru a lot more.. Then failed in bin/bootstrap-chef-server
[2013-09-04 20:36:56 -0400] sevensoft: Error creating client <<"chef-validator">
[2013-09-04 20:40:22 -0400] sevensoft: Returned 2
[2013-09-04 20:41:07 -0400] sparr: `knife search node "*" -a ipaddress` is there a way to do this from the chef web ui?
[2013-09-04 20:48:47 -0400] BriGuy: how can I use the subversion resource to compare if a file is different (not just pull it down an overwrite the existing file), so I can use notify if the file changes?
[2013-09-04 20:49:16 -0400] jameson__: whyrun?
[2013-09-04 20:50:09 -0400] jameson__: oh wait nvm.
[2013-09-04 20:52:43 -0400] cap10morgan: when I try to upload this cookbook to the community site, it says "cookbook folder must match cookbook name". Can someone tell me how they don't match: https://dl.dropboxusercontent.com/u/26964/ec2-hostname.tar.gz
[2013-09-04 21:03:03 -0400] MattV: Anyone know of a cookbook for PHP that supports version 5.4? The Opscode Cookbook php appears to be specifically 5.3.
[2013-09-04 21:03:55 -0400] mattupstate: MattV: looks like it supports 5.4 here: https://github.com/opscode-cookbooks/php/blob/master/attributes/default.rb#L60
[2013-09-04 21:05:11 -0400] nicgrayson: jmickle: i just saw your reply. If I vagrant ssh to the node and ps aux there are no chef-client's running. I get this on nodes running in client mode but never in solo mode
[2013-09-04 21:05:26 -0400] MattV: mattupstate: Thanks, I was going by what was in the README.md.
[2013-09-04 21:22:37 -0400] jameson__: everyday I am conflicted if I am happy or sad that AWS offers OpsWorks...
[2013-09-04 21:22:48 -0400] joonas: jameson__: how come
[2013-09-04 21:23:12 -0400] jameson__: they do execute "your recipe" for you to run your stuff
[2013-09-04 21:23:24 -0400] jameson__: and they pull their own cookbooks that namespace collides with nginx, deploy
[2013-09-04 21:23:33 -0400] jameson__: mysql, etc.
[2013-09-04 21:23:39 -0400] gswallow1: weren't they on a really old version of chef, too?
[2013-09-04 21:23:46 -0400] joonas: they were
[2013-09-04 21:23:47 -0400] jameson__: they moved to chef 11.4 now.
[2013-09-04 21:23:50 -0400] joonas: I think it's up to 11.x
[2013-09-04 21:24:13 -0400] jameson__: and I think their setup runs ohai in some weird way..
[2013-09-04 21:24:46 -0400] joonas: jameson__: I've never used OpsWorks, but I'm curious, what do they exactly do for you, is it just a single-shot deployment?
[2013-09-04 21:24:50 -0400] jameson__: and so bunch of cookbooks repos are popping up
[2013-09-04 21:25:19 -0400] jameson__: they setup monitoring and management for users on AWS
[2013-09-04 21:25:29 -0400] jameson__: it's like rightscale, or engineyard, or.
[2013-09-04 21:25:43 -0400] joonas: never used any of those :)
[2013-09-04 21:25:45 -0400] jameson__: any of the other *aaS people who uses chef.
[2013-09-04 21:25:51 -0400] jameson__: "chef"-solo
[2013-09-04 21:25:54 -0400] joonas: right
[2013-09-04 21:26:08 -0400] jameson__: and they do some orchestration in the back for you
[2013-09-04 21:26:12 -0400] joonas: so it's basically a fire and forget
[2013-09-04 21:26:22 -0400] jameson__: somewhat yes.
[2013-09-04 21:27:01 -0400] jameson__: mm so if I want to make sure ohai runs for chef-solo I need to include the ohai cookbook.
[2013-09-04 21:27:06 -0400] joonas: and so the problem you are having is that their cookbooks are not namespaced?
[2013-09-04 21:28:42 -0400] jameson__: 1. not name spaced
[2013-09-04 21:29:06 -0400] jameson__: 2. i miss hosted *cough* i mean enterprise chef.
[2013-09-04 21:29:41 -0400] jameson__: the best one is the "deploy" cookbook
[2013-09-04 21:30:08 -0400] jameson__: http://docs.opscode.com/resource_deploy.html
[2013-09-04 21:30:12 -0400] jameson__: because you know..
[2013-09-04 21:31:14 -0400] joonas: I see
[2013-09-04 21:31:16 -0400] joonas: interesting
[2013-09-04 22:16:17 -0400] fly9: no love on the berkshelf channel - I've got an app cookbook for logstash and I want to use lusis' cookbook as my source, so I set my berksfile in the app cookbook to read metadata and to point to his via :github and then in metadata I have 'depends "logstash"' - somehow I get the opscode cookbook even though my berksfile.lock is pinned to the right source
[2013-09-04 22:19:47 -0400] Otterley: hey guys, is anyone super familiar with upgrade vs. install semantics with apt package declarations containing version constraints?
[2013-09-04 22:20:02 -0400] Otterley: we want to accomplish "ensure this version of the package is installed"
[2013-09-04 22:21:15 -0400] a13x212: anyone know if this is possible in a attributes file: http://pastebin.com/XQ8aC9E6
[2013-09-04 22:44:06 -0400] MrBIOS: 'knife search' seems to be working for some nodes but not others
[2013-09-04 22:44:12 -0400] MrBIOS: any suggestions? This is Chef 11.0.8
[2013-09-04 22:50:32 -0400] adnichols: MrBIOS need more detail than that - what does "working for some nodes" mean?
[2013-09-04 22:51:41 -0400] MrBIOS: so when I do "knife search node 'name:foo*'" I get results
[2013-09-04 22:52:01 -0400] MrBIOS: but when I do  "knife search node 'name:foo*' -a IP"  I get nothing
[2013-09-04 22:52:11 -0400] MrBIOS: despite seeing the IP in the previous search
[2013-09-04 22:52:27 -0400] adnichols: is IP the name of the attribute?
[2013-09-04 22:52:39 -0400] adnichols: generally it's ipaddress or something
[2013-09-04 22:53:04 -0400] MrBIOS: ah, that'd do it
[2013-09-04 22:53:06 -0400] MrBIOS: sonofabitch
[2013-09-04 22:53:08 -0400] MrBIOS: ;D
[2013-09-04 22:54:57 -0400] awayne: is it possible to have an lwrp whose attribute's default value is based on another attribute?
[2013-09-04 22:55:45 -0400] awayne: so, given lwrp attributes :name and :directory, :directory :default =>"#{new_resource.name}" ?
[2013-09-04 23:21:08 -0400] wdilly: guys, trying to remove a user from existing group, but cant figure it out.... what im trying: http://fpaste.org/37178/36844137/   help?
[2013-09-04 23:34:41 -0400] magoo: the latest db backup is still running - going on 3 hours now
[2013-09-04 23:34:50 -0400] magoo: whoops
[2013-09-04 23:35:31 -0400] jameson__: wdilly: does the group admin exist?
[2013-09-04 23:35:37 -0400] wdilly: yes
[2013-09-04 23:38:15 -0400] jameson__: wdilly: try not passing it the members field?
[2013-09-04 23:38:50 -0400] wdilly: gpasswd: user 'admin' does not exist
[2013-09-04 23:38:58 -0400] wdilly: dont you think that gpasswd is seeing admin as the user
[2013-09-04 23:39:04 -0400] wdilly: err its weird that
[2013-09-04 23:39:08 -0400] jameson__: yeah, so I think it's entering the .
[2013-09-04 23:39:23 -0400] jameson__: https://codeclimate.com/github/opscode/chef/Chef::Provider::Group::Gpasswd
[2013-09-04 23:39:48 -0400] jameson__: entering teh former but not the latter
[2013-09-04 23:40:48 -0400] jameson__: apparently it thinks members.empty? is False
[2013-09-04 23:40:58 -0400] wdilly: jameson__, i will try leaving out the members field
[2013-09-04 23:41:13 -0400] jameson__: if that works.. then you should submit that as a bug.
[2013-09-04 23:48:52 -0400] MrBIOS: does Chef 11 client not support Debian?
[2013-09-04 23:48:55 -0400] MrBIOS: it seems that would be the case
[2013-09-04 23:49:00 -0400] MrBIOS: at least the one from opscode
[2013-09-04 23:49:04 -0400] MrBIOS: am I missing something?
[2013-09-04 23:59:29 -0400] dgarstang: Thanks knife. I want the past hour of my life back. That's the hour where you couldn't give me an error and tell me that '-user-data' is wrong.
