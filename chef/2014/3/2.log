[2014-03-02 00:47:42 -0500] patcon_: grrrrr piiiiiip... I moved the pip-delete-this-directory.txt file from an unpacked build dir into the root of my www.gittip.com repo (for safe keeping) and when i ran pip it OBLITERATED my whole git repo. The site totally just ate itself
[2014-03-02 00:48:18 -0500] patcon_: heh... well, losing a day of experimentation serves me right for not pushing :/
[2014-03-02 01:11:38 -0500] profit_: hey folks. probably a stupid question, but i'm working on installing chef-cerver on centos 6
[2014-03-02 01:12:10 -0500] profit_: i'm getting a hairy scary backtrace when I try to chef-server-ctl test
[2014-03-02 01:12:33 -0500] profit_: http://hastebin.com/goyaviruwu.vbs <- said backtrace
[2014-03-02 01:12:40 -0500] profit_: now i know it's complaining about not being able to connect to things
[2014-03-02 01:12:48 -0500] profit_: specifically http, so my guess is nginx isn't running
[2014-03-02 01:13:03 -0500] profit_: but how does chef-server-ctl reconfigure actually set that up? i don't see anything in /etc/init.d/
[2014-03-02 01:14:42 -0500] profit_: it seems to dump a bunch of init scripts in /opt
[2014-03-02 01:32:20 -0500] iiro: anyone here using the rsyslog cookbook from Opscode?
[2014-03-02 06:55:46 -0500] brucele_: coderanger: do you use the amazon base AMI?
[2014-03-02 06:56:11 -0500] coderanger: No, we base our images on the Ubuntu 12.04 ones
[2014-03-02 07:13:59 -0500] brucele_: coderanger: do you bootstrap your nodes using cloud formation?
[2014-03-02 07:14:25 -0500] brucele_: or did you just use knife
[2014-03-02 11:51:24 -0500] ostrev: hey guys, why do i always get  Chef::Exceptions::Exec: apt-get -q -y install ntp=1:4.2.6.p3+dfsg-1ubuntu3.1 returned 100, expected 0
[2014-03-02 11:51:37 -0500] ostrev: but when i run it normally, it's fine
[2014-03-02 11:51:53 -0500] ostrev: i.e: apt-get install ntp --dry-run
[2014-03-02 11:52:13 -0500] ostrev: any hints?
[2014-03-02 12:19:23 -0500] fontanon: Hi everybody! I'm in trouble with the database recipe https://github.com/opscode-cookbooks/database how can I use this recipe to import my database structure (schema + data) stored in a .sql file?
[2014-03-02 12:19:59 -0500] fontanon: I'm sure it should be quite easy ... (newbie, oh my!)
[2014-03-02 12:28:40 -0500] srenatus: fontanon: search the README for "# Query a database from a sql script on disk"
[2014-03-02 12:29:12 -0500] fontanon: srenatus, Invoking the :action query is the same as executing an sql script
[2014-03-02 12:29:33 -0500] fontanon: srenatus, (was an answer)
[2014-03-02 12:30:26 -0500] fontanon: srenatus, does database recipe take care on not running create [database/table] if they was already created?
[2014-03-02 13:43:53 -0500] Idealien: Can anyone see / suggest why this vagrantfile - https://gist.github.com/Idealien/7af9d994a23338b73e31 - would generate a log error pertaining to Chef::Config[:solo] missing_attrs for mysql pwd which is in the vagrantfile? The gist has full log as second file.
[2014-03-02 14:08:46 -0500] Idealien: Was missing run_list:["recipe[mysql::server]"] it seems
[2014-03-02 15:38:23 -0500] samwierema: Question: in a cookbook, how do I reference the default template path (.e.g. :template_path or something)?
[2014-03-02 19:52:43 -0500] brimstone: i'm getting a 500 error on /sandboxes/ when trying to upload a cookbook. which component of chef-server handles this?
[2014-03-02 20:45:40 -0500] coderanger: brucele_: I use a custom script, it is all in the balanced-infra repo, just go read it :P
[2014-03-02 21:02:03 -0500] brimstone: ah, it needed its hostname in the nameserver
[2014-03-02 21:35:03 -0500] jan_bee: Hi, does anyone here know how to get vim file detection to detect chef files as chef.ruby instead of ruby? I am currently using vim-ruby and vim-chef.
[2014-03-02 22:06:59 -0500] alisdair: is there a chef recipe for nodejs more up to date than 0.10.15 anywhere?
[2014-03-02 22:18:43 -0500] alexbst: alisdair - check for a github repo
[2014-03-02 22:18:58 -0500] alisdair: i have, they all seem unmaintained
[2014-03-02 22:19:19 -0500] alexbst: then it is up to you to make improvements and submit a pr
[2014-03-02 22:19:23 -0500] alexbst: :D
[2014-03-02 22:32:37 -0500] regork: Is there a better way of getting a list of ohai attributes than this from the docs? ohai$ grep -R "provides" -h lib/ohai/plugins|sed 's/^\s*//g'|sed "s/\\\"/\'/g"|sort|uniq|grep ^provides
[2014-03-02 22:32:53 -0500] regork: that didn't even work for me on CentOS
[2014-03-02 22:33:13 -0500] regork: http://docs.opscode.com/ohai.html
[2014-03-02 22:36:43 -0500] coderanger: alisdair: Marius' pulls directly from the official binaries
[2014-03-02 22:38:08 -0500] alisdair: coderanger: his is on 0.10.15
[2014-03-02 22:59:16 -0500] josh___: Hello.  I'm trying to access a node value from within a template.  If I define these attributes in my /attributes/default.rb file, this works fine.  But if I define my attributes in a RECIPE using a statement like the following:
[2014-03-02 22:59:19 -0500] josh___: node.set["nginx"]["bamboo-ip"] = node["ipaddress"]
[2014-03-02 22:59:47 -0500] josh___: then this does not work.  Any suggestions on how to get my template to read from the attributes vals set in the recipe?
[2014-03-02 23:00:50 -0500] ohmygoshjosh: Hi, I'm still here; just changed my nick.
[2014-03-02 23:01:02 -0500] ohmygoshjosh: I was formerly "josh___"
[2014-03-02 23:06:27 -0500] coderanger: ohmygoshjosh: That should work fine, what issues are you having? (aside from that being a bad idea)
[2014-03-02 23:07:06 -0500] ohmygoshjosh: lol, also interested in why it might be a bad idea.  Let me get the error for you.
[2014-03-02 23:09:16 -0500] ohmygoshjosh: so, there's no error message.  It just doesn't output any value in the template.  I use a Chef::Log.info() statement to confirm I'm setting a value.
[2014-03-02 23:09:38 -0500] ohmygoshjosh: RECIPE: node.set["nginx"]["bamboo-ip"] = <my-string-literal>
[2014-03-02 23:09:51 -0500] ohmygoshjosh: ERB TEMPLATE: <%= node['nginx']['bamboo-ip'] %>
[2014-03-02 23:11:38 -0500] ohmygoshjosh: I am playing around with this some more...seems to be a var scoping issue mos tlikely since my set statement is contained with in a "do ... end" statement
[2014-03-02 23:11:45 -0500] ohmygoshjosh: works fine outside of that do ... end, though
[2014-03-02 23:14:04 -0500] ohmygoshjosh: ok, I got it.  I used local vars to save my value and then did my node.set declaration outside the do...end.  Still interested in applying best practices, though?  FWIW, I'm getting my IP using a node search, not entering it in statically.
[2014-03-02 23:37:41 -0500] coderanger: ohmygoshjosh: The issue is that node.set is store permanently, as opposed to default/override which are rebuilt entirely each time
[2014-03-02 23:38:02 -0500] coderanger: So node.set should only be used for actual stateful data
[2014-03-02 23:43:57 -0500] jan_bee: Hi, does anyone here know how to get vim file detection to detect chef files as chef.ruby instead of ruby? I am currently using vim-ruby and vim-chef.
[2014-03-02 23:44:18 -0500] ohmygoshjosh: @coderanger: node.set = permanent means permanent until that recipe is updated?  In this case, I am dynamically looking up an IP address by I don't expect that to change once it's found.
[2014-03-02 23:44:35 -0500] ohmygoshjosh: coderanger: to use default/override, is that just default.set and override.set?
[2014-03-02 23:44:45 -0500] coderanger: ohmygoshjosh: No, node.default and node.override
[2014-03-02 23:46:22 -0500] ohmygoshjosh: got it...so basically any stateful data should be default and override.  In terms of the chef attribute node hierarchy would you say "node" = "normal"?
[2014-03-02 23:47:56 -0500] coderanger: ohmygoshjosh: No, non-stateful data
[2014-03-02 23:48:16 -0500] coderanger: ohmygoshjosh: You aren't setting anything stateful, and that really doesn't belong in a recipe file in the first place
[2014-03-02 23:48:47 -0500] ohmygoshjosh: coderanger: you would argue that non-stateful data should be declared in an attribute?
[2014-03-02 23:49:17 -0500] coderanger: Yes, node.set should (generally) only be used for stuff like "I need to generate a key and store it for later"
[2014-03-02 23:49:28 -0500] coderanger: Thats actual stateful information about the system
[2014-03-02 23:54:32 -0500] ohmygoshjosh: coderanger: Where would you recommend data like an IP address link be put?  That could be considered "stateful info about the system."
[2014-03-02 23:54:37 -0500] ohmygoshjosh: coderanger: thx for your help, btw
[2014-03-02 23:54:56 -0500] coderanger: ohmygoshjosh: Just set it as a default in your attributes/default.rn
[2014-03-02 23:55:14 -0500] coderanger: default['whatever'] = node['ipaddress']
[2014-03-02 23:56:25 -0500] ohmygoshjosh: coderanger: Ah, ok, the only difference is I did a dynamic lookup for a server matching a certain role and then got the IP from there.  This way, if I have different environments which use a different IP for that server, it will "just work"...of course, I make it explicit in the attributes what role the recipe will be searching for
[2014-03-02 23:57:19 -0500] coderanger: Ahh, in generall I wouldn't store that in a node attr, but it works okay in that situation :)
[2014-03-02 23:57:48 -0500] ohmygoshjosh: coderanger: cool, still good to get perspective on these things, though
[2014-03-02 23:58:07 -0500] ohmygoshjosh: I am finally at the point on the learning curve where chef is starting to get pretty fun.
