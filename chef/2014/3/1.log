[2014-03-01 09:35:55 -0500] dawuud: is the client.pem used in authenticating the knife to chef server connection or are ssl certs needed for that?
[2014-03-01 09:39:38 -0500] coderanger: dawuud: Thats what the client key is used for
[2014-03-01 09:39:45 -0500] coderanger: Chef uses an RSA signature on each API request
[2014-03-01 09:42:07 -0500] dawuud: coderanger: ah. cool. so then is ssl_verify_mode recommended? why have 2 layers of authentication?
[2014-03-01 09:42:33 -0500] coderanger: dawuud: ssl_verify_mode has nothing to do with authentication
[2014-03-01 09:42:53 -0500] coderanger: thats an authenticity check to ensure your connection to the server hasn't been MitM'd
[2014-03-01 09:43:02 -0500] dawuud: it would authenticate the identity of the chef server...
[2014-03-01 09:43:04 -0500] coderanger: and yes, it is highly irresponsible to not have that set to :verify_peer
[2014-03-01 09:44:01 -0500] coderanger: dawuud: That isn't related to "authentication" in the context of Chef
[2014-03-01 09:44:14 -0500] dawuud: ok
[2014-03-01 09:44:20 -0500] coderanger: Or more specifically, you cannot use SSL certificates to provide mutual auth
[2014-03-01 09:44:30 -0500] dawuud: right
[2014-03-01 09:46:41 -0500] coderanger: dawuud: There is also :verify_api_cert
[2014-03-01 09:47:00 -0500] coderanger: if you want to not verify SSL certs on most HTTP requests, but still do it for Chef API ones
[2014-03-01 09:47:12 -0500] coderanger: this is, however, still a bad idea (but slightly less bad)
[2014-03-01 09:47:54 -0500] dawuud: without ssl_verify_mode set on the client... it could get MITM'ed...
[2014-03-01 09:49:00 -0500] coderanger: verify_api_cert true will make it verify_peer on connections to the Chef server
[2014-03-01 09:49:12 -0500] coderanger: regardless of the setting of ssl_verify_mode
[2014-03-01 09:49:24 -0500] coderanger: but basically just set ssl_verify_mode :verify_peer and forget about it
[2014-03-01 09:49:41 -0500] coderanger: https://github.com/balanced/balanced-infra/blob/master/packer/client.rb#L5-L7
[2014-03-01 09:49:45 -0500] coderanger: I set both for good measure :-)
[2014-03-01 09:50:21 -0500] dawuud: ok
[2014-03-01 10:13:42 -0500] CADBOT: hello again guys, is there some additional stuff I need to configure in my vagrant file to get apt to work properly?
[2014-03-01 10:14:10 -0500] CADBOT: Specifically, I'm using the community ruby-build cookbook, and some of its dependencies aren't installing
[2014-03-01 10:14:47 -0500] CADBOT: package[libxml2-dev] (/tmp/vagrant-chef-1/chef-solo-1/cookbooks/ruby_build/providers/ruby.rb line 84) had an error: Chef::Exceptions::Exec: apt-get -q -y install libxml2-dev=2.7.8.dfsg-5.1ubuntu4.1 returned 100, expected 0
[2014-03-01 10:14:48 -0500] CADBOT: package[libxml2-dev] (/tmp/vagrant-chef-1/chef-solo-1/cookbooks/ruby_build/providers/ruby.rb line 84) had an error: Chef::Exceptions::Exec: apt-get -q -y install libxml2-dev=2.7.8.dfsg-5.1ubuntu4.1 returned 100, expected 0
[2014-03-01 10:14:48 -0500] CADBOT: package[libxml2-dev] (/tmp/vagrant-chef-1/chef-solo-1/cookbooks/ruby_build/providers/ruby.rb line 84) had an error: Chef::Exceptions::Exec: apt-get -q -y install libxml2-dev=2.7.8.dfsg-5.1ubuntu4.1 returned 100, expected 0
[2014-03-01 10:14:56 -0500] CADBOT: specifically is what's failing
[2014-03-01 10:23:50 -0500] brucele_: coderanger: you still up?
[2014-03-01 10:30:16 -0500] iiro: Hi... I would like to customize the client_key variable in in /etc/chef/client.rb (when bootstrapping) - what would be the way to do it...? The reason is that I would like the client to re-register if the clients hostname changes...
[2014-03-01 10:32:01 -0500] iiro: I did my own distro but dont know how to tell the template to get the hostname on node...
[2014-03-01 10:38:04 -0500] coderanger: brucele_: For another few minutes
[2014-03-01 10:38:25 -0500] coderanger: iiro: Make your own bootstrap template
[2014-03-01 10:38:57 -0500] iiro: coderanger, Im trying...
[2014-03-01 10:39:49 -0500] iiro: coderanger, just don`t know how I can get the client`s hostname as a part of the client_key variable...
[2014-03-01 10:40:18 -0500] coderanger: iiro: "foo"+`hostname -s`
[2014-03-01 10:41:32 -0500] iiro: lets see...
[2014-03-01 15:53:58 -0500] rayrod2030: I've been trying to test a PORO in one of my cookbooks by using a test cookbook that uses the PORO to set some configuration for a service that is installed by my cookbook.  My problem is that the PORO is evaluated at compile time.  How can I get that test cookbook to run that PORO at converge time preferably as the last thing that runs.
[2014-03-01 17:45:41 -0500] woltage: iiro: highlight ;)
[2014-03-01 17:46:14 -0500] iiro: woltage, ;)
[2014-03-01 17:46:31 -0500] iiro: woltage, well of course ;)
[2014-03-01 19:31:54 -0500] davidordave: anyone here used orgmapper recently? I keep getting 'wrong number of arguments' when attempting to add a user to an org following the docs.
[2014-03-01 20:35:19 -0500] gblazer: hi there, how can i add a multi-line ssh key to the encrypted data bag? YAML gets all unhappy when I try to edit my data bag? please help
[2014-03-01 20:37:54 -0500] gblazer: or rather how to put file content in the data bag
[2014-03-01 21:05:38 -0500] dmin7b5: gblazer: are you using knife-solo?
[2014-03-01 21:06:39 -0500] dmin7b5: if so, there is a knife-solo_data_bag gem you can use.
[2014-03-01 21:06:50 -0500] dmin7b5: How To article: http://shinyay.github.io/blog/2013/06/17/do-create-a-user-by-using-an-encrypt-data-bag/
[2014-03-01 22:03:33 -0500] cwebber: hey all, just digging into chef for the first time in a while... can someone help me understand what https://github.com/schisamo-cookbooks/znc/blob/master/recipes/default.rb#L62 does?
[2014-03-01 22:04:08 -0500] cwebber: i am thinking i am missing a data bag, but havent dug deep enough to understand the syntax of search() completely
[2014-03-01 22:34:54 -0500] bettyclamp: Puzzling problem when trying to use the 'users' cookbook: it complains about the use of a :delete action, whereas we can't find any such action in the cookbook. The exact error message is "ERROR: users_manage[sysadmin] (users::sysadmins line 23) had an error: Chef::Exceptions::ValidationFailed: Option action must be equal to one of: nothing, create, remove, modify, manage, lock, unlock!  You passed :delete." Help would be much appreciated...
[2014-03-01 22:37:04 -0500] jidar: bettyclamp: can you post a pastebin
[2014-03-01 22:41:06 -0500] bettyclamp: jidar: http://pastebin.com/0yZ86ETD.  Thanks for looking!
[2014-03-01 22:44:49 -0500] jidar: bettyclamp: what happens if you just pass [:create]
[2014-03-01 22:46:15 -0500] bettyclamp: jidar: I'm not sure I was clear. Whatever is being passed is being passed by the upstream cookbook.
[2014-03-01 22:46:25 -0500] bettyclamp: It's an opscode cookbook. We're not adding anything to it.
