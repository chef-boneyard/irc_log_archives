[2014-03-31 10:03:50 -0400] martinisoft_: Anyone have issues with using knife cookbook site share?
[2014-03-31 10:03:57 -0400] martinisoft_: Hitting a rather weird problem
[2014-03-31 10:11:59 -0400] martinisoft_: https://gist.github.com/martinisoft/9889254
[2014-03-31 10:12:05 -0400] martinisoft_: There is a gist of the error
[2014-03-31 10:12:14 -0400] martinisoft_: It is Chef 11.6 so that might be part of the problem
[2014-03-31 10:17:38 -0400] srenatus: martinisoft_: tried "-l debug" ?
[2014-03-31 10:17:53 -0400] martinisoft_: srenatus: thats the funny part, invalid option
[2014-03-31 10:17:59 -0400] PapaSierra: morning. with omnibus is there a way to shortcut the downloading of the chef image every time? i'm on a slow connection so destroying and upping machines often with a 30MB+ download each time is a pain in the ass. can i not download it once and "give" it to vagrant/chef/omnibus somehow?
[2014-03-31 10:19:04 -0400] martinisoft_: PapaSierra: Might want to check out this post about writing a custom bootstrap template: https://tomduffield.com/how-to-bootstrap-boxes/
[2014-03-31 10:19:21 -0400] martinisoft_: Can direct the downloads to a proxy that could cache the downloads
[2014-03-31 10:20:51 -0400] JensOfSweden: I get a wierd error at the end of my chef runs. https://gist.github.com/anonymous/9889363, chef runs all the roles and recipies i specify, but i get this at the end and it doesnt check back in after a run. Anyone have any ide where to start looking?
[2014-03-31 10:23:17 -0400] PapaSierra: martinisoft_: ty so much!
[2014-03-31 11:34:11 -0400] papasierra: does anyone have a php 5.4 + ubuntu 12.04 combination working using chef? (i see the opscode cookbook targets 5.3)
[2014-03-31 11:57:13 -0400] papasierra: sorry, got disconnected. does anyone have a php 5.4 + ubuntu 12.04 combination working using chef? (i see the opscode cookbook targets 5.3)
[2014-03-31 12:07:16 -0400] srenatus: papasierra: this looks configurable: https://github.com/opscode-cookbooks/php/blob/master/attributes/default.rb#L82  and the development repo of the php cookbook has 5.5.9
[2014-03-31 12:09:12 -0400] papasierra: srenatus: that's great, but my understanding is that i will only get that version if tell chef to build from source right? ubuntu 12.04's packages are only at 5.3. i guess i just need to switch to "source" right?
[2014-03-31 12:11:17 -0400] srenatus: papasierra: without ever having dealt with php, what you just suggested sounds reasonable and common for other cookbooks, yes.
[2014-03-31 12:11:50 -0400] papasierra: ok great, ty. i'll give it a go now
[2014-03-31 13:20:06 -0400] davidordave: is there an effective way to pause the progression of a chef-client run until a condition is met? My use case is that I want to wait until there are no jobs running in jenkins before proceeding.
[2014-03-31 13:21:52 -0400] daxroc: After noon all
[2014-03-31 13:23:34 -0400] daxroc: Can anyone confim if there are issues with the build-essential cookbook on rh based distros, Using 2.0.0 with centos 5.10 and I get a error https://gist.github.com/daxroc/9892135
[2014-03-31 13:47:23 -0400] mhenrixon: Do I have to do include_attribute 'base_server::nginx' to get the default attributes for that recipe ? I simply don't get why I end up with some crazy paths when installing the nginx cookbook
[2014-03-31 13:47:56 -0400] mhenrixon: https://gist.github.com/8eb509927ea5784c66ee
[2014-03-31 13:48:30 -0400] mhenrixon: if I don't specify the default_configure_flags for instance in my recipe stuff gets borked and end up where I don't want it.
[2014-03-31 13:48:42 -0400] mhenrixon: Am I doing this wrong or what?
[2014-03-31 13:59:59 -0400] Nukepuppy: mhenrixon each cookbook that is properly maintained probably has a good set of default attributes
[2014-03-31 14:00:11 -0400] Nukepuppy: you should be over writing the default attributes to fit what you want
[2014-03-31 14:00:30 -0400] mhenrixon: alright then I am doing it right :)
[2014-03-31 14:00:47 -0400] Nukepuppy: i would do it in an attributes file :p
[2014-03-31 14:01:02 -0400] Nukepuppy: sorry i just see it caleld nginx.rb
[2014-03-31 14:01:09 -0400] Nukepuppy: not sure if this is your recipe and you're expanding it or what
[2014-03-31 14:01:11 -0400] mhenrixon: it is my attribute file in the gist Nukepuppy
[2014-03-31 14:01:30 -0400] mhenrixon: I have a corresponding recipe with the same name
[2014-03-31 14:15:05 -0400] nkts: hi, how to search with knife using deeper level attributes? For example I have foo.bar.zoo = 1 and how to search for all instances which have that attribute?
[2014-03-31 14:17:35 -0400] gleam: foo_bar_zoo:1
[2014-03-31 14:25:42 -0400] nkts: gleam: and what if attribute has _ symbol?
[2014-03-31 14:26:15 -0400] nkts: foo.bar_bar.zoo and foo.bar.bar_zoo whould be the same
[2014-03-31 14:26:23 -0400] gleam: dunno
[2014-03-31 14:26:30 -0400] gleam: try various combinations and see
[2014-03-31 14:29:15 -0400] nkts: gleam: thanks, search works tho very strange
[2014-03-31 14:54:10 -0400] creativeembassy: how do I wrap a cookbook with another cookbook, with the purpose of disabling a recipe?
[2014-03-31 14:55:03 -0400] creativeembassy: The community cookbook for rabbitmq requires the erlang recipe, which in turn requires the yum recipe... but I'm trying to get an ubuntu server going. I would rather just install the "erlang-esl" package.
[2014-03-31 14:55:32 -0400] j^2: creativeembassy: there should be a check for ohai that installs the erlang-esl pkg
[2014-03-31 14:56:21 -0400] j^2: the yum cookbook would be dl'd/sync'd but spurfulous because nothing would check for it
[2014-03-31 15:03:30 -0400] shlant: hey all. If you have a wrapper template for something like apache.conf, wouldn't that mean apache get restarted every run if you have a notifies?
[2014-03-31 15:03:58 -0400] j^2: shlant: you can change the notify for only changes to you template
[2014-03-31 15:04:11 -0400] j^2: shlant: i'll see if i can find it in the docs
[2014-03-31 15:04:13 -0400] j^2: one sec
[2014-03-31 15:05:55 -0400] j^2: shlant: not exactly what i'm looking for but the gist is here: http://docs.opscode.com/resource_common.html#notifications
[2014-03-31 15:06:33 -0400] j^2: you can change the notifies around with some more advanced finagling
[2014-03-31 15:06:59 -0400] shlant: j^2:  using subscribes?
[2014-03-31 15:07:50 -0400] j^2: it might work, but i have little experiance leveraging subscribes
[2014-03-31 15:08:15 -0400] shlant: j^2: yea I always wondered what applications it had
[2014-03-31 15:08:22 -0400] shlant: I'll see if I can use it, thanks
[2014-03-31 15:08:26 -0400] j^2: :D np
[2014-03-31 15:09:57 -0400] jaygooby_: Hi. chef and knife solo question: Trying to find out if there's a programmatic way to generate a node.json file for use with knife-solo from an existing ruby dsl of role and environment?
[2014-03-31 15:10:04 -0400] jaygooby_: I have roles/my-server.rb and environments/staging.rb can I call 'chef-solo node from file my-server -E staging' or some equivalent, to generate the complete node.json?
[2014-03-31 15:10:52 -0400] j^2: jaygooby_: not exactly. as i played with knife-solo i just had a tempale.json that i cp'd out to my machine names and changed things around for me
[2014-03-31 15:11:03 -0400] j^2: programiticly never happened from what i undrestood
[2014-03-31 15:12:05 -0400] jaygooby_: yeah, that's what a lot googling has led me to believe - there are some tempting hints like https://gist.github.com/natlownes/4674204 but looks like I'd need to dig into the guts of things
[2014-03-31 15:12:35 -0400] j^2: jaygooby_: that looks like it'll work, but it's still basicly a wrapper for cp ;)
[2014-03-31 15:17:07 -0400] CPS: getting a weird nomethoderror on a custom method in a recipe https://gist.github.com/anonymous/9894705
[2014-03-31 15:17:31 -0400] CPS: the function and the execute block are defined in the same place so it's not  a scope thing
[2014-03-31 15:22:58 -0400] epcim: ohai.. I have VPN VM in DMZ with 2 nic's. The default is to outside world and the other (eth1) for the internal network. Although VM is accessible from internal network (like from Chef server and it was boostraped already) the chef-client uploaded the IP of the (eth0) external nic interface, thus chef server lost the connection to VM.
[2014-03-31 15:23:26 -0400] epcim: How can I configure what interface will be used on client to populate node[ipaddress]
[2014-03-31 15:23:56 -0400] shlant: j^2: I decided to go with chef-rewind to modify the original template resource to use my own
[2014-03-31 15:24:08 -0400] shlant: I love when you find a perfect tool for the job :)
[2014-03-31 15:24:24 -0400] j^2: :D
[2014-03-31 15:26:04 -0400] CPS: is this just a ruby thing i'm not getting?
[2014-03-31 15:26:30 -0400] martinisoft: shlant: chef-rewind is amazing :)
[2014-03-31 15:26:39 -0400] martinisoft: best wrapper-cookbook swiss-army knife ever
[2014-03-31 15:26:58 -0400] martinisoft: Need to write a post about that, think that will be my task list this week
[2014-03-31 15:32:49 -0400] shlant: martinisoft: I see you are a remote worker. I am wanting to move to that pretty soon and I was wondering if you think it would be better to look for remote work, or find a place that I can transition to remote work (considering I don't really have remote experience)
[2014-03-31 15:33:26 -0400] shlant: not sure how companies feel about hiring 100% remote with no distributed team experience
[2014-03-31 15:35:29 -0400] jonlives: shlant: I was in that position when I started at Etsy, had never worked remote before.
[2014-03-31 15:35:38 -0400] jonlives: moved straight to fully remote
[2014-03-31 15:37:14 -0400] shlant: jonlives: any advice for making sure an employer knows you're capable?
[2014-03-31 15:37:39 -0400] jonlives: shlant: there's no way for them to really know that without working with you - even if you did it at one company, that doesn't mean it'll work for them all :)
[2014-03-31 15:38:10 -0400] jonlives: and all I can say is that anecdotally from my experience if they like you, they'll probably just give you a shot.
[2014-03-31 15:38:12 -0400] mhenrixon: is there a delay on new versions of cookbooks when I promote them?
[2014-03-31 15:38:33 -0400] shlant: yea.. I'm really flexible in terms of where I'll go for work, so I'm thinking I could start local and then move remote
[2014-03-31 15:39:02 -0400] rayrod2030: shlant: where are you located?
[2014-03-31 15:39:51 -0400] shlant: rayrod2030: canada
[2014-03-31 15:41:39 -0400] jonlives: shlant: that's a possibility, yeah
[2014-03-31 15:42:33 -0400] CPS: culprit found https://tickets.opscode.com/browse/CHEF-5011
[2014-03-31 15:42:43 -0400] CPS: which release is this bug fix included in?
[2014-03-31 15:42:55 -0400] CPS: 11-10?
[2014-03-31 15:43:09 -0400] jonlives: CPS: looks like 11.10.1
[2014-03-31 15:43:11 -0400] jonlives: *.2
[2014-03-31 15:43:57 -0400] comjf: hey guys, anyone have some pointers on how to debug recipes? I have one that just isn't working (an execute line) but when I vagrant ssh in and run the exact line, its working
[2014-03-31 15:44:08 -0400] CPS: we're seeing this bug behavior in  11.10.4
[2014-03-31 15:44:13 -0400] comjf: I'm new to writing cookbooks and chef in general and wanted to know the tride and true debugging method
[2014-03-31 15:44:15 -0400] rayrod2030: chef_shell?
[2014-03-31 15:44:35 -0400] comjf: rayrod2030: chef_shell?
[2014-03-31 15:44:56 -0400] rayrod2030: http://docs.opscode.com/chef_shell.html
[2014-03-31 15:45:01 -0400] jonlives: ^ seconded
[2014-03-31 15:45:18 -0400] rayrod2030: closest thing to a chef repl you'll get
[2014-03-31 15:45:31 -0400] comjf: I don't use 'knife' using chef solo with vagrant... will this still work
[2014-03-31 15:46:22 -0400] jonlives: comjf: another useful page: http://docs.opscode.com/debug.html
[2014-03-31 15:49:19 -0400] comjf: thanks guys!
[2014-03-31 15:49:29 -0400] comjf: I do love chef, if there are any devs here, keep up the good work
[2014-03-31 15:52:58 -0400] alexbst: <B warm fuzzies
[2014-03-31 16:07:13 -0400] icarus: does anyone know of any fancy tools for centralized apache log collection and analysis?
[2014-03-31 16:07:44 -0400] rayrod2030: icarus: logstash/elasticsearch/kibana
[2014-03-31 16:08:06 -0400] rayrod2030: splunk/loggly/sumologic <- saas solutions
[2014-03-31 16:08:53 -0400] j^2: ssh m10
[2014-03-31 16:09:01 -0400] j^2: sudo su - svchrsuite
[2014-03-31 16:09:06 -0400] j^2: chmod +x AcesWayUpHigh
[2014-03-31 16:09:08 -0400] j^2: ./ac
[2014-03-31 16:09:10 -0400] icarus: rayrod2030: cool
[2014-03-31 16:09:18 -0400] j^2: bash -x AcesWayUpHigh
[2014-03-31 16:09:22 -0400] icarus: ive got about 3 hours to test and implement something for a presentation
[2014-03-31 16:09:26 -0400] j^2: cro-e
[2014-03-31 16:09:30 -0400] j^2: 4
[2014-03-31 16:09:49 -0400] j^2: Go* * * * * /home/svchrsuite/active_sessions.shwq
[2014-03-31 16:11:23 -0400] rayrod2030: icarus: hmm are you doing some kind of crazy ops coding competition?  :)
[2014-03-31 16:11:50 -0400] icarus: rayrod2030: i just promised something by today
[2014-03-31 16:11:56 -0400] rayrod2030: icarus: graylog2 is an option too for DIY.
[2014-03-31 16:12:04 -0400] icarus: and had other crazy projects going on over the weekend
[2014-03-31 16:12:42 -0400] jonlives: icarus: you could do a lot worse than logstash
[2014-03-31 16:13:05 -0400] icarus: elasticsearch looks to integrate into datadog
[2014-03-31 16:13:13 -0400] comjf: icarus: I've explored logstash/elasticsearch/kibana and really enjoyed it, but if you have huge amounts of date going there (like we do) it actually costs less to use one of those vendors
[2014-03-31 16:13:16 -0400] icarus: which is neat
[2014-03-31 16:13:25 -0400] jonlives: comjf: how huge is huge?
[2014-03-31 16:13:47 -0400] comjf: jonlives: We're still figuring that out, but tens of GBs a day
[2014-03-31 16:14:16 -0400] icarus: this place has about ~40-ish auto scaled servers at anytime and the apache logs need to be tracked somewhere basically
[2014-03-31 16:14:29 -0400] icarus: comjf: thats a lot of logs
[2014-03-31 16:14:30 -0400] comjf: jonlives: logstash (especially the lightweight go wrapper) + indexor + elasticsearch can easily scale, it just costs a lot
[2014-03-31 16:15:01 -0400] comjf: server hosting and then really my time make it cost more then a vendor
[2014-03-31 16:15:15 -0400] comjf: just trying to figure out which vendor is best at the momment
[2014-03-31 16:15:23 -0400] jonlives: comjf: anecdotally, we're chucking hundreds of gigs a day - it depends how much of a problem buying / hosting hardware is for you.
[2014-03-31 16:15:35 -0400] comjf: jonlives: We're on AWS
[2014-03-31 16:15:38 -0400] jonlives: splunk is an excellent product, but *extremely* expensive.
[2014-03-31 16:15:55 -0400] jidar: yea I find it hard to believe its cheaper for anything, including time
[2014-03-31 16:15:59 -0400] jonlives: comjf: I've heard good things about databog
[2014-03-31 16:16:03 -0400] jonlives: jidar: splunk?
[2014-03-31 16:16:07 -0400] jidar: yes, splunk
[2014-03-31 16:16:21 -0400] icarus: im looking to squeak by and not pay much, if anything
[2014-03-31 16:16:31 -0400] icarus: self-hosted/DIY solutions if possible
[2014-03-31 16:16:42 -0400] jonlives: jidar: it's cheaper in terms of the analytics and stuff it makes possible, but never cheaper in dollar terms.
[2014-03-31 16:16:48 -0400] jonlives: depends what your value metric is really :)
[2014-03-31 16:16:58 -0400] jonlives: icarus: if you want self hosted, go logstash.
[2014-03-31 16:17:16 -0400] jonlives: it'll be free aside from hardware.
[2014-03-31 16:17:25 -0400] comjf: jidar: if self hosted, I completely agree, I was very happy with logstash
[2014-03-31 16:17:30 -0400] jonlives: I'd still suggest figuring out that cost and weighing it against vendors tho.
[2014-03-31 16:17:37 -0400] jidar: I've been using graylog2 lately
[2014-03-31 16:17:54 -0400] robawt: graylog2 just updated their UI right?
[2014-03-31 16:18:01 -0400] jidar: yea, looks pretty snazzy
[2014-03-31 16:19:29 -0400] comjf: Sorry to bother you guys again, but any ideas why this command won't work through chef-solo, but works when ran manually?: sudo su vagrant -l -c 'cd /vagrant && nohup bundle exec rails s 2>&1 > log/server.log &'
[2014-03-31 16:19:42 -0400] comjf: it doesnt fail or anythign, but when I check it, it's not running
[2014-03-31 16:19:46 -0400] comjf: any wide idea?
[2014-03-31 16:20:05 -0400] rayrod2030: comjf: I've used sumologic.  Very flexible from a configuration standpoint but it's not the fastest with returning query results.  That being said the query syntax and capabilities are really good.
[2014-03-31 16:20:45 -0400] comjf: rayrod2030: I don;t like that they don't give pricing on their website. How competitive are they?
[2014-03-31 16:21:14 -0400] icarus: jonlives: im checking it out, looks cool
[2014-03-31 16:21:23 -0400] icarus: im unsure of what kibana is/or does
[2014-03-31 16:21:42 -0400] workmad3: comjf: how is ruby installed?
[2014-03-31 16:22:03 -0400] rayrod2030: comjf: yeah they do that "enterprisey" sales bullshit but we got pretty competitive pricing.  much much less than splunk pricing.
[2014-03-31 16:22:21 -0400] workmad3: comjf: because it could easily be that you're using something like RVM, which means the 'execute' resource doesn't have the environment set up for finding e.g. bundler
[2014-03-31 16:22:59 -0400] workmad3: comjf: also, 'nohup' and 'rails s' is not a good way to run a rails server... but that's a separate issue ;)
[2014-03-31 16:23:45 -0400] jonlives: rayrod2030: you could send your logs through diamond coated solid platinum wires and it'd still be cheaper than splunk pricing :p
[2014-03-31 16:24:15 -0400] alexbst: cooled to 2 degrees kelvin for performance.
[2014-03-31 16:24:20 -0400] rayrod2030: jonlives: If you have to ask how much splunk costs you probably can't afford it. :)
[2014-03-31 16:24:58 -0400] jonlives: rayrod2030: I would say even if you don't have to ask you're probably still adding up the value of non-essential organs :p
[2014-03-31 16:29:53 -0400] j^2: :q!
[2014-03-31 16:29:55 -0400] j^2: crap
[2014-03-31 16:31:34 -0400] xmltok: would stackforge be the closest to official cookbooks for deploying openstack with chef?
[2014-03-31 16:31:56 -0400] j^2: xmltok: mattray has some docs on the offical docs.opscode.com
[2014-03-31 16:32:27 -0400] xmltok: thanks
[2014-03-31 16:32:51 -0400] rayrod2030: anyone running asgard for ec2 provisioning/deployments?
[2014-03-31 16:32:55 -0400] rayrod2030: and hooking it into chef?
[2014-03-31 16:39:21 -0400] mattray: xmltok: yes, StackForge is the closest to "official"
[2014-03-31 16:39:34 -0400] mattray: xmltok: also we hang out in #openstack-chef
[2014-03-31 16:42:07 -0400] xmltok: thanks matt, i saw the channel listed on the docs page and joined the channel
[2014-03-31 16:44:47 -0400] icarus: ive looked at asgard and it seems really cool
[2014-03-31 16:44:50 -0400] icarus: haven't set it up though
[2014-03-31 16:48:47 -0400] martinisoft: shlant: Depends on the company, many are open to remote workers even without remote work experience. Communication is key.
[2014-03-31 16:57:41 -0400] comjf: workmad3: just saw your response sorry. Yeah I agree rails s is horrible, but that is my requirements for this one env. I have unicorn and nginx running fine in another env
[2014-03-31 16:58:13 -0400] perfectsine: Hey guys, I have a variable: node.default['hadoop']['classpath'] = `hadoop classpath`, but I need to gather it after hadoop is installed.
[2014-03-31 16:58:19 -0400] comjf: workmad3: I installed ruby from cookbook 'ruby', git: 'https://github.com/darron/ruby2-cookbook.git'
[2014-03-31 16:59:30 -0400] perfectsine: I'm getting this error during the chef pre-run  FATAL: Errno::ENOENT: No such file or directory - hadoop classpath
[2014-03-31 17:07:58 -0400] GreatSUN: rehi
[2014-03-31 17:26:46 -0400] j^2: any good screen casts on LWRPs?
[2014-03-31 17:38:25 -0400] mjuszczak: coderanger: You around today?
[2014-03-31 17:47:47 -0400] mjuszczak: Anyone have any suggestions on structuring a base cookbook?
[2014-03-31 17:49:11 -0400] alexbst: mjuszczak - use the default recipe, have some case statements for each type of platform you will support with it.
[2014-03-31 17:49:30 -0400] shlant: anyone know what causes "Chef::Exceptions::ChildConvergeError: Chef run process terminated by signal 9" when the apache2 cookbook tries to restart the service?
[2014-03-31 17:49:33 -0400] alexbst: also, give it a name of your org_base or something like that (looks cleaner)
[2014-03-31 17:58:27 -0400] ianco: is there an existing resource for managing users .profiles?
[2014-03-31 18:07:50 -0400] coderanger: mjuszczak: I am now, whats up?
[2014-03-31 18:11:37 -0400] mjuszczak: coderanger: Trying to figure out how to structure the base cookbooks.  So I have an application cookbook (IE: "myface") which includes things like the mysql cookbook (via metadata.rb) and a ruby cookbook.  I also have other cookbooks, like sudo, ssh-keys, a cloud-networking cookbook (for our cloud provider's special rulesets).
[2014-03-31 18:12:17 -0400] mjuszczak: In the past we created a base role which had those recipes in them, and then just included the base role in every other role.  In this case, the application cookbook method (berkshelf way) suggests including those in each application cookbook, but that means I'd have to pass the attributes each time too, like users.  That doesn't seem right.
[2014-03-31 18:12:56 -0400] mjuszczak: Would you create some sort of "myorg-ssh-keys" cookbook which wraps the ssh-keys cookbook and passes in the default data (in this case public keys and usernames)?  Or perhaps a "base" cookbook with an ssh keys recipe which wraps the ssh-keys cookbook?
[2014-03-31 18:19:46 -0400] werdnativ: adnichols: solution from last night, bypassed chef_gem and just installed it directly: https://gist.github.com/avit/2028bff20b6809a81036#file-libraries-passwords-rb-L39
[2014-03-31 18:25:25 -0400] comjf: hey guys, I traced my chef issue to nohup, does that not work with chef
[2014-03-31 18:25:38 -0400] coderanger: comjf: Define "work"?
[2014-03-31 18:25:54 -0400] comjf: WHen I don't include that, it runs fine (but hangs on provision). When I include it, the process either never spawns or dies immediately
[2014-03-31 18:26:22 -0400] gkra: stupid ruby question... for the "when" clause of a case, can you hand it an Array?
[2014-03-31 18:27:29 -0400] coderanger: gkra: Yeah, it just does ==
[2014-03-31 18:27:42 -0400] coderanger: (unless the values are classes)
[2014-03-31 18:29:11 -0400] gkra: guess not: https://gist.github.com/gkra/3689ec33e31c1b900fd5
[2014-03-31 18:31:47 -0400] coderanger: gkra: Oh, yeah, it doesn't do an include? check
[2014-03-31 18:32:13 -0400] coderanger: gkra: Do *myarray
[2014-03-31 18:32:37 -0400] gkra: oh?
[2014-03-31 18:32:55 -0400] coderanger: gkra: "case 1,2" vs "case [1,2]"
[2014-03-31 18:32:57 -0400] coderanger: You mean the former
[2014-03-31 18:33:05 -0400] gkra: ah
[2014-03-31 18:33:13 -0400] gkra: *myarray dereferences? or something?
[2014-03-31 18:33:20 -0400] gkra: i still have ruby lernin to do
[2014-03-31 18:33:23 -0400] gkra: :)
[2014-03-31 18:33:47 -0400] coderanger: gkra: Its a splat, works the same way as *args in Python or arg in coffee
[2014-03-31 18:39:07 -0400] gkra: cool, thanks!
[2014-03-31 19:00:57 -0400] armendonigian: how does chef determine if an action is up to date?
[2014-03-31 19:01:38 -0400] btm:  chef/ohai code review: join: bit.ly/1hVlKCX watch: bit.ly/1hVlMuD
[2014-03-31 19:02:11 -0400] armendonigian: When I run chef-client on two different servers with the same starting state. Chef client run on server 1 updates resources while chef client run on server 2 says action up to date.
[2014-03-31 19:02:14 -0400] btm: armendonigian: depends on the resource/provider. e.g. if it's a service and you've said action :start, it may run /etc/init.d/service status to see if it is running.
[2014-03-31 19:02:15 -0400] armendonigian: any ideas why?
[2014-03-31 19:03:32 -0400] armendonigian: shouldnt the output of chef client be identical for the same chef cookbook?
[2014-03-31 19:09:34 -0400] adnichols: werdnativ: interesting - wonder what that does differently than chef_gem
[2014-03-31 19:10:13 -0400] werdnativ: adnichols: nothing apparently, it works. I dug into the internals and that's what it calls after all the layers of abstraction.
[2014-03-31 19:10:48 -0400] adnichols: werdnativ: huh
[2014-03-31 19:11:57 -0400] werdnativ: adnichols: I first went down the route of initializing a Provider::Package::Rubygems with a Resource::ChefGem, and giving it a stub RunContext... then I quickly thought better of that!
[2014-03-31 19:21:46 -0400] shlant: hey all
[2014-03-31 19:21:55 -0400] shlant: anyway to get this to run last
[2014-03-31 19:21:57 -0400] shlant: or delayed
[2014-03-31 19:21:58 -0400] shlant: node[:recipes].each do |recipe|
[2014-03-31 19:21:58 -0400] shlant:  if recipe.include?("company")
[2014-03-31 19:21:58 -0400] shlant:   node.default['minitest']['recipes'] << recipe
[2014-03-31 19:21:59 -0400] shlant:  end
[2014-03-31 19:21:59 -0400] shlant: end
[2014-03-31 19:22:21 -0400] viglesias: shlant: i think you can put it inside a ruby block
[2014-03-31 19:22:36 -0400] viglesias: then notify that resource
[2014-03-31 19:23:14 -0400] shlant: can a resource notify itself? :p
[2014-03-31 19:23:29 -0400] shlant: or else I would have to find somehting arbitrary to notify it
[2014-03-31 19:23:37 -0400] viglesias: you can just have it at the end of your recipe
[2014-03-31 19:23:41 -0400] viglesias: no notify needed
[2014-03-31 19:24:18 -0400] shlant: viglesias: but that's the problem. this is in a base recipe, so the role that it is a part of varies
[2014-03-31 19:24:28 -0400] shlant: ie things that run last change
[2014-03-31 19:24:44 -0400] shlant: I could put it in it's own recipe at the end of the run_list
[2014-03-31 19:24:48 -0400] shlant: but that's a PITA
[2014-03-31 19:24:58 -0400] shlant: delayed would work
[2014-03-31 19:25:05 -0400] shlant: ill see if it can notify itself
[2014-03-31 19:25:39 -0400] tcotav: I just put in a dummy ruby block to act as notifier
[2014-03-31 19:30:20 -0400] cob: probably good to punch something to a logging server maybe?
[2014-03-31 19:57:39 -0400] dstynchula: I'm uploading a cookbook with knife cookbook upload cookbookname
[2014-03-31 19:58:01 -0400] dstynchula: but the template in the recipe does not seem to be getting updated when I run chef-client on the remote node.
[2014-03-31 19:58:13 -0400] dstynchula: any idea what I'm doing wrong?
[2014-03-31 19:58:57 -0400] zuhaib: Anyone knows of a good tool that can allow me to profile a chef-client run for CPU
[2014-03-31 19:59:12 -0400] zuhaib: I see this https://github.com/joemiller/chef-handler-profiler but its time
[2014-03-31 19:59:46 -0400] btm: shlant: is that recipe just running minitest tests at the end of a run? could you do that in a report handler instead of in a recipe? the minitest-handler cookbook?
[2014-03-31 20:00:50 -0400] doomviking: zuhaib: you could prepend the time command to your chef-client run
[2014-03-31 20:01:04 -0400] shlant: btm: basically, by default the minitest cookbook runs all tests that are a part of the recipes in the run list. I want it to only run tests relating to our custom cookbooks, but without having to explicitly state them with node.default['minitest']['recipes']
[2014-03-31 20:01:20 -0400] shlant: btm: essentially I'm being picky ;)
[2014-03-31 20:03:10 -0400] davidordave: is there a way to get the expanded run_list from a bootstrapped node?
[2014-03-31 20:05:01 -0400] dstynchula: upload -VV error message says "templatename.erb is unchanged, skipping syntax check"
[2014-03-31 20:09:46 -0400] zuhaib: doomviking: it would be nice if I could find out what each cookbook is doing so I know which to target.
[2014-03-31 20:11:37 -0400] btm: cookbook code review: join: bit.ly/1mFJVfP watch: bit.ly/1mFJVwb
[2014-03-31 20:36:49 -0400] caryp: Off hand does anyone know of a cookbook that has support for rackspace open cloud services?  Specfically I'm looking for a resource to mangage CLB (Cloud Load ballancer)
[2014-03-31 20:37:47 -0400] mjuszczak: coderanger: Any thoughts on that base cookbook question?
[2014-03-31 20:39:42 -0400] coderanger: mjuszczak: So we do a base cookbook with a few recipes for little misc stuff, and then it include_recipes anything big and complex like balanced-user
[2014-03-31 20:40:26 -0400] coderanger: mjuszczak: re base vs. myface, each cookbook should always stand on its own, if nothing else than for testing
[2014-03-31 20:44:23 -0400] chrombar: I've previously been using knife-solo with berkshelf, which worked great so far, but that setup was very simple. After some time I am getting back to that setup to refine it. I am having some troubles with the recent changes to kitchen etc. In the end I would like to provision my nodes locally using a vagrant box to ensure everything is working correctly before deploying to a real server. Any recommendations?
[2014-03-31 20:45:29 -0400] coderanger: chrombar: Are you using berks with knife-solo?
[2014-03-31 20:45:38 -0400] coderanger: If so, it should JFW with the plugin
[2014-03-31 20:48:28 -0400] chrombar: coderanger: yes, berks with knife solo. I've been having some troubles after upgrading. I have moved some of my cookbooks to kitchen, which is great. But I can't figure out to provision an entire node with kitchen. I had read that vagrant doesn't work with the berks plug-in anymore, but will give it a try now that you mention it
[2014-03-31 20:50:33 -0400] chrombar: coderange: hm, vagrant-berkshelf uses celluloid ~> 0.13, but vagrant uses 0.15.2
[2014-03-31 20:54:22 -0400] murphy_slaw: having problems with a custom ohai plugin:
[2014-03-31 20:54:24 -0400] murphy_slaw: DEBUG: Plugin datacenter threw exception #<NameError: uninitialized constant Chef::Log> /etc/chef/ohai_plugins/datacenter.rb:36:in `rescue in from_file'
[2014-03-31 20:54:41 -0400] murphy_slaw: http://docs.opscode.com/ohai_custom.html says "Use the Chef::Log class in an Ohai plugin to define log entries that are created during a chef-client run."
[2014-03-31 20:54:49 -0400] cocotton: Hey channel. I'd like to know if it is possible to run the following command "knife status | grep hours > status_file" from inside a recipe. I'm reading about knife exec, but since I'm really new to chef, I'm not sure this is what I need
[2014-03-31 20:56:22 -0400] coderanger: chrombar: Just don't use vagrant 1.5
[2014-03-31 20:56:28 -0400] coderanger: chrombar: 1.4.3 works just fine
[2014-03-31 20:58:09 -0400] coderanger: murphy_slaw: That should be Ohai::Log I think
[2014-03-31 20:58:26 -0400] shlant: btm viglesias: turns out the minitest-handler cookbook has node.default['minitest']['filter'], I just didn't look hard enough
[2014-03-31 21:01:32 -0400] chrombar: coderanger: thanks, will give that a try. Probably just upgraded too early... :/
[2014-03-31 21:02:03 -0400] cocotton: Or maybe, does anyone know how to simple run a knife command from inside a recipe?
[2014-03-31 21:02:42 -0400] coderanger: chrombar: bundler ftw
[2014-03-31 21:02:51 -0400] coderanger: chrombar: vagrant yells at you, but it does work
[2014-03-31 21:03:11 -0400] coderanger: cocotton: Not sure what you are trying to do, but thats probably not the right solution
[2014-03-31 21:03:22 -0400] coderanger: cocotton: If you want to access that data directly, use the search API
[2014-03-31 21:04:15 -0400] cocotton: coderanger: I need the knife status output to list all machines that have not run since 2hours +. All I need if to put the output in a file and feed it to our frontend.
[2014-03-31 21:04:26 -0400] coderanger: cocotton: Sure, but do it directly
[2014-03-31 21:04:27 -0400] murphy_slaw: coderanger: yep, that did it, thanks
[2014-03-31 21:04:38 -0400] murphy_slaw: might want to update the docs, it still says to use Chef::Log
[2014-03-31 21:04:51 -0400] cocotton: coderanger: The code api? Hmmm I'll go search
[2014-03-31 21:05:06 -0400] coderanger: cocotton: search('node', '*:*').select{|n| n['ohai_time'] <= Time.now - 60*60*2}
[2014-03-31 21:06:17 -0400] cocotton: coderanger: Ah! I did not know about ohai time :)
[2014-03-31 21:06:37 -0400] coderanger: cocotton: Thats all knife status does
[2014-03-31 21:06:47 -0400] coderanger: cocotton: Its just a human interface for that data
[2014-03-31 21:07:22 -0400] cocotton: coderanger: Great! Thank you very much!
[2014-03-31 21:17:55 -0400] mjuszczak: coderanger: Got it.  So you'd have base::default which might wrap around a few little misc recipes that call other cookbooks.  So for instance, would having base::sudoers which essentially wraps around the opscode sudo cookbook passing attributes make sense?  To me having an entirely huge cookbook just for that doesn't make sense.
[2014-03-31 21:18:12 -0400] coderanger: mjuszczak: Yeah, pretty much
[2014-03-31 21:18:28 -0400] coderanger: mjuszczak: For sudo in particular thats just part of our user cookbook
[2014-03-31 21:18:33 -0400] maniacal: does anyone know if knife-vcloud can replace knife-vsphere?  we don't run vCloud but we have vcenter.
[2014-03-31 21:18:49 -0400] maniacal: wondering if it handles that as well as vlcoud
[2014-03-31 21:18:55 -0400] mjuszczak: coderanger: Gotcha.  So then every application cookbook would just depend on base?  Or you add base to the runlist?
[2014-03-31 21:19:32 -0400] mjuszczak: coderanger: How would you handle a situation where servers in public cloud need base::rackspace but servers in private cloud wouldn't?  Would you just add that to the runlist when necessary?  Or would you create a separate application recipe?
[2014-03-31 21:19:54 -0400] coderanger: mjuszczak: return unless node['rackspace']
[2014-03-31 21:19:56 -0400] coderanger: at the top
[2014-03-31 21:28:42 -0400] mjuszczak: coderanger: Ahh, gotcha
[2014-03-31 21:29:02 -0400] mjuszczak: thanks
[2014-03-31 21:47:34 -0400] werdnativ: Is there a way to load "temporary" attributes that stick around just for the chef run, and not persist on the chef server?
[2014-03-31 21:48:08 -0400] coderanger: werdnativ: node.run_state
[2014-03-31 21:48:17 -0400] coderanger: Its a hash
[2014-03-31 21:48:28 -0400] coderanger: will be reset before each run
[2014-03-31 21:48:55 -0400] werdnativ: hm? http://docs.opscode.com/breaking_changes_chef_11.html#node-run-state-replaced
[2014-03-31 21:50:08 -0400] coderanger: werdnativ: Thats one thing intenerally which uses the run_state hash
[2014-03-31 21:50:14 -0400] coderanger: but you can use it for your own stuff
[2014-03-31 21:50:30 -0400] coderanger: werdnativ: This isn't documented, don't bother looking :P
[2014-03-31 21:51:57 -0400] comjf: can anyone recommend a good tutorial that helps me go from chef-solo to chef server?
[2014-03-31 21:52:19 -0400] comjf: like where to get started. I have my cookbook that works with vagrant... now I want to make a server and auto provision it on AWS with knife
[2014-03-31 21:52:22 -0400] comjf: just not sure where to start
[2014-03-31 21:52:31 -0400] tubbo: comjf: why do you need a server?
[2014-03-31 21:52:44 -0400] werdnativ: coderanger thanks! do you know if run_state starts empty, or does it mirror the node.attributes hash?
[2014-03-31 21:53:24 -0400] comjf: tubbo: do I not need a server?
[2014-03-31 21:54:13 -0400] comjf: tubbo: I assumed to provision AWS servers with cookbooks you needed chef-server. Thought chef-solo was for docker/vagrant types of systems
[2014-03-31 21:54:25 -0400] werdnativ: comjf: probably don't need a chef-server unless you need to coordinate config data between server nodes.
[2014-03-31 21:57:04 -0400] comjf: werdnativ: ok, I've also heard of opsworks from AWS
[2014-03-31 21:57:10 -0400] comjf: is taht like a custom chef server?
[2014-03-31 21:57:25 -0400] coderanger: werdnativ: It isn't empty but it has nothing to do with attributes
[2014-03-31 21:58:03 -0400] werdnativ: comjf: I haven't used them but it looks like they provide a chef-server from what I've seen online.
[2014-03-31 21:58:45 -0400] werdnativ: yeah, I was just wondering if it was prefilled with the whole node state or not.
[2014-03-31 21:58:47 -0400] coderanger: comjf: You can use knife-solo just fine with EC2
[2014-03-31 21:59:11 -0400] coderanger: werdnativ: Its used internally for some Chef bookkeeping, hence not being documented
[2014-03-31 22:00:53 -0400] werdnativ: I'm just wondering about merging the "visible" node attributes with encrypted parts so I can just get node.something.dbconfig and it would have all the keys together... meh.
[2014-03-31 22:15:31 -0400] icarus: can you issue executable shell commands via a chef role?
[2014-03-31 22:15:41 -0400] icarus: thats probably not a best practice, but i wonder if it is possible
[2014-03-31 22:16:18 -0400] coderanger: icarus: roles don't run anything, just just indicate which recipes (and other roles) to run
[2014-03-31 22:17:29 -0400] coderanger: recipes can certainly execute commands though :)
[2014-03-31 22:43:08 -0400] werdnativ: Is there any way to have gem_package install into my /opt/rbenv gems? I'm using the rbenv cookbook, and can use rbenv_gem but for other cookbooks that use gem_package...
[2014-03-31 22:45:59 -0400] coderanger: werdnativ: You would have to set the gem_binary correctly, but pleeeeease stop using rbenv on servers
[2014-03-31 22:46:49 -0400] cheeseplus: coderanger: rbenvmad?
[2014-03-31 22:49:04 -0400] coderanger: cheeseplus: Always
[2014-03-31 22:49:17 -0400] TheDracle: "Cannot find a resource for forever_service on ubuntu version 12.04"
[2014-03-31 22:49:29 -0400] TheDracle: I can't figure out for the life of me what this means.. Nothing will appease the Chef.
[2014-03-31 22:49:38 -0400] coderanger: TheDracle: Please pastebin your recipe
[2014-03-31 22:49:53 -0400] cheeseplus: coderanger: not that I run ruby for services but what would you go with?
[2014-03-31 22:52:12 -0400] TheDracle: coderanger, Is it complaining about the recipe which is including and using this command, or the cookbook that installs this command?
[2014-03-31 22:53:46 -0400] coderanger: cheeseplus: omnibus is best, if not then use poise-ruby
[2014-03-31 22:54:06 -0400] coderanger: TheDracle: The trace should show which recipe file is erroring
[2014-03-31 22:57:46 -0400] coderanger: cheeseplus: (or, if you use a RHEL-derivative, software collections ruby)
[2014-03-31 22:58:33 -0400] cheeseplus: Haven't used rhel in ages ;)
[2014-03-31 22:58:46 -0400] cheeseplus: Well outside of tk testing
[2014-03-31 22:59:21 -0400] coderanger: You can check out but you can never leaveeeee
[2014-03-31 22:59:37 -0400] werdnativ: I used to use my own wrapper for the brightbox ruby packages, figured rbenv would be more flexible for patching updates https://github.com/avit/chef-brightbox
[2014-03-31 23:00:35 -0400] werdnativ: where does node.languages.ruby come from?
[2014-03-31 23:00:42 -0400] coderanger: Ohai
[2014-03-31 23:01:35 -0400] werdnativ: does it poke around to find a ruby bin?
[2014-03-31 23:01:42 -0400] werdnativ: Mine is /opt/vagrant_ruby/bin
[2014-03-31 23:02:15 -0400] werdnativ: wondering if I can change that to use my global rbenv or not
[2014-03-31 23:05:17 -0400] coderanger: werdnativ: It uses the $PATH chef was started with
[2014-03-31 23:06:11 -0400] werdnativ: ok. gotcha.
[2014-03-31 23:08:49 -0400] TheDracle: coderanger, Thanks, I just had to look harder for what recipe it was about. Cheers.
[2014-03-31 23:13:17 -0400] sbrinkmeyer: hellos
[2014-03-31 23:13:25 -0400] sbrinkmeyer: quick question for all you fellos
[2014-03-31 23:13:31 -0400] sbrinkmeyer: specially @jtimberman
[2014-03-31 23:13:50 -0400] sbrinkmeyer: doing a search in recipe across an ecrypted databag ...
[2014-03-31 23:14:15 -0400] coderanger: sbrinkmeyer: What would you be searching one?
[2014-03-31 23:14:24 -0400] sbrinkmeyer: search(:db_name 'id:named_item').first['key']['value']
[2014-03-31 23:14:30 -0400] dstynchula: So, I have a cookbook that takes three runs to work. Specifically, if there are three steps, the second and third steps are dependent on the first, and the third step is dependent on the second.
[2014-03-31 23:14:49 -0400] dstynchula: I'm using include_recipe_now for the first step which works splendidly (thanks coderanger!)
[2014-03-31 23:14:51 -0400] sbrinkmeyer: well therein lies the rub coderanger
[2014-03-31 23:15:13 -0400] dstynchula: is there a similar way to prioritize the second and third steps so they can run in a single chef-client run?
[2014-03-31 23:15:15 -0400] coderanger: sbrinkmeyer: Why would you use search for that?
[2014-03-31 23:15:38 -0400] coderanger: dstynchula: Just use include_recipe_now again?
[2014-03-31 23:16:12 -0400] sbrinkmeyer: search(:mongo, 'id:users').first['admins']
[2014-03-31 23:16:17 -0400] dstynchula: does that work?
[2014-03-31 23:16:24 -0400] coderanger: dstynchula: Sure, same idea as before
[2014-03-31 23:16:47 -0400] sbrinkmeyer: databag is encrypted in the kitchen
[2014-03-31 23:16:59 -0400] coderanger: sbrinkmeyer: Sure, just use the normal bag API?
[2014-03-31 23:17:05 -0400] sbrinkmeyer: on the code sid you can DataBagItem or EncryptedDataBagItem
[2014-03-31 23:17:21 -0400] sbrinkmeyer: heh coderanger ... ?why?
[2014-03-31 23:17:25 -0400] sbrinkmeyer: why not use search
[2014-03-31 23:17:42 -0400] coderanger: sbrinkmeyer: Because search for a single named item is slower?
[2014-03-31 23:17:53 -0400] coderanger: sbrinkmeyer: compare it going to google and typing in facebook.com
[2014-03-31 23:18:00 -0400] sbrinkmeyer: the firs['admins'] is an arrays of hashes
[2014-03-31 23:18:32 -0400] sbrinkmeyer: and then i can iterate over the array and add the users
[2014-03-31 23:18:59 -0400] coderanger: sbrinkmeyer: You need to run the data through EncryptedDataBag no matter what
[2014-03-31 23:19:19 -0400] sbrinkmeyer: also with search i don't need Chef::EncryptedDatabagItem.load
[2014-03-31 23:19:30 -0400] dstynchula: hmm...
[2014-03-31 23:19:48 -0400] sbrinkmeyer: i hear you
[2014-03-31 23:20:03 -0400] sbrinkmeyer: point is
[2014-03-31 23:20:07 -0400] sbrinkmeyer: you can do a search
[2014-03-31 23:20:35 -0400] sbrinkmeyer: on a search(:data_bag, 'id:bob') and get the array of items
[2014-03-31 23:21:22 -0400] sbrinkmeyer: if it is an encrypted data bag i don't see documentation on the search page for chef code to say what to do with that encrypted ball of sh...tuff
[2014-03-31 23:21:23 -0400] sbrinkmeyer: :)
[2014-03-31 23:24:23 -0400] coderanger: sbrinkmeyer: Chef::EncryptedDataBagItem.new(data, 'secret')
[2014-03-31 23:24:46 -0400] coderanger: sbrinkmeyer: See also, don't do this :P
[2014-03-31 23:24:58 -0400] coderanger: sbrinkmeyer: Just use EncryptedDataBagItem.load
[2014-03-31 23:27:28 -0400] sbrinkmeyer: @coderanger, i see what you are saying, but why give us the search ability (ala you ;)   search(:users, '*:*').each do |u| ) if we ?aren't? supposed to use it
[2014-03-31 23:27:46 -0400] coderanger: sbrinkmeyer: Because it is very useful on unencrypted bags?
[2014-03-31 23:28:03 -0400] coderanger: sbrinkmeyer: encrypted data bags are a terribly leaky abstraction and you Should Not Use Them :)
[2014-03-31 23:28:14 -0400] coderanger: (warning: entering coderanger rant territory)
[2014-03-31 23:28:25 -0400] sbrinkmeyer: oh ... ;) i read it
[2014-03-31 23:28:41 -0400] sbrinkmeyer: i just don't see the solution in the rewrite
[2014-03-31 23:28:47 -0400] coderanger: Hmm?
[2014-03-31 23:29:07 -0400] sbrinkmeyer: @coderanger ... you?  https://coderanger.net/2014/02/data-bags/
[2014-03-31 23:29:16 -0400] coderanger: That is indeed me
[2014-03-31 23:29:25 -0400] coderanger: and the solution is as mentioned there, use S3 :)
[2014-03-31 23:29:58 -0400] dstynchula: The chef dev guys are all keen on "data vault"
[2014-03-31 23:30:04 -0400] coderanger: or yeah, use Vault
[2014-03-31 23:30:27 -0400] dstynchula: https://github.com/Nordstrom/chef-vault
[2014-03-31 23:30:34 -0400] sbrinkmeyer: therein lies another rub, "sensitive" stuff must be encrypted
[2014-03-31 23:30:39 -0400] sbrinkmeyer: aka databags
[2014-03-31 23:31:09 -0400] sbrinkmeyer: ugh,
[2014-03-31 23:31:22 -0400] sbrinkmeyer: use a list of nodes private keys to encrypt the databags
[2014-03-31 23:31:41 -0400] sbrinkmeyer: so everytime a new elastic node comes up, you need to re-encrypt a thing
[2014-03-31 23:31:45 -0400] sbrinkmeyer: or
[2014-03-31 23:31:58 -0400] sbrinkmeyer: you come up with the "dev-elastic-nodes.key"
[2014-03-31 23:32:00 -0400] coderanger: sbrinkmeyer: Yep, as mentioned in that post, thats a problem with vault and similar tools (ex. red october)
[2014-03-31 23:32:06 -0400] sbrinkmeyer: then you are back to a same private key
[2014-03-31 23:32:43 -0400] coderanger: sbrinkmeyer: Secrets Management is really hard, encrypted bags solve little (though not nothing) of it
[2014-03-31 23:32:57 -0400] sbrinkmeyer: gotcha
[2014-03-31 23:36:00 -0400] sbrinkmeyer: how'd you figure out the Chef::EncryptedDataBagItem.new(data, 'secret') call?
[2014-03-31 23:36:34 -0400] coderanger: sbrinkmeyer: I figured that out because I know the code, the published API is EncryptedDAtaBagItem.load('bagname', 'itemname')
[2014-03-31 23:37:28 -0400] sbrinkmeyer: ok, but once you get the search back it gives you a ... lemme see a data_bag_item
[2014-03-31 23:37:38 -0400] sbrinkmeyer: so ...
[2014-03-31 23:37:45 -0400] sbrinkmeyer: learning to fish on this one bear with me
[2014-03-31 23:37:57 -0400] coderanger: I don't know how many more ways I can say this: don't use search with encrypted data bags
[2014-03-31 23:39:10 -0400] sbrinkmeyer: i'm not
[2014-03-31 23:39:14 -0400] sbrinkmeyer: just playing with it
[2014-03-31 23:39:52 -0400] sbrinkmeyer: and the chef documentation for search should make a mention of either a) don't, or b) you'll still have to run the item throught the enc load thing
[2014-03-31 23:41:01 -0400] coderanger: sbrinkmeyer: I make no claims about accuracy or utility of the docs :-)
[2014-03-31 23:44:01 -0400] sbrinkmeyer: ohs yes most wonderful those are
[2014-03-31 23:44:42 -0400] coderanger: sbrinkmeyer: I'm sure a ticket would be most appreciated, js responds super quickly most of the time :)
[2014-03-31 23:45:48 -0400] sbrinkmeyer: gotta tell you ... i so want to poke you some more about search encrypted data bags
[2014-03-31 23:46:17 -0400] coderanger: Go for it?
[2014-03-31 23:47:04 -0400] sbrinkmeyer: still looking at the api
[2014-03-31 23:55:03 -0400] esmet__: hi guys - does anyone have experience writing ruby code to use the knife API directly? I'm failing to get a simple app to run and it's making me sad
[2014-03-31 23:56:00 -0400] coderanger: esmet__: You mean in knife exec?
[2014-03-31 23:56:40 -0400] sbrinkmeyer: see i wanted to play with that as well do a include 'Knife' and then be dangerous
[2014-03-31 23:56:50 -0400] esmet__: nah the ruby API itself
[2014-03-31 23:56:53 -0400] esmet__: require 'chef/knife' etc
[2014-03-31 23:57:03 -0400] coderanger: esmet__: Don't :-) use ChefAPI
[2014-03-31 23:57:13 -0400] sbrinkmeyer: but when you do you have to pass in the location to all the secret stuff for the client you are running on
[2014-03-31 23:57:15 -0400] coderanger: https://github.com/sethvargo/chef-api
[2014-03-31 23:57:34 -0400] coderanger: esmet__: If you aren't used to Ruby there are also native bindings in Python, Java, JS, etc
[2014-03-31 23:57:42 -0400] esmet__: cool I'll take a look - off hand, do you know if it supports knife ec2?
[2014-03-31 23:58:00 -0400] sbrinkmeyer: that looks much easer
[2014-03-31 23:58:07 -0400] coderanger: esmet__: Technically no, but knife ec2 is a thin layer over the Fog library :-)
[2014-03-31 23:58:10 -0400] sbrinkmeyer: <sp>easier
[2014-03-31 23:58:48 -0400] coderanger: esmet__: (also Boto/libcloud in Python, jcloud in Java)
