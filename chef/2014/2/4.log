[2014-02-04 16:50:02 -0500] zaargy: ...and a simple include didn't work. i had to use ::Chef::Recipe.send(:include, Powershell::Helper) for anyone watching. ;)
[2014-02-04 16:53:58 -0500] vamage_: hi, I was wondering what is a best practice for setting up chef with multiple data centers. I see face book use grocery-delivery to manage their syncing of chef servers.
[2014-02-04 16:55:09 -0500] j^2: vamage_: opensource or hosted or onsite?
[2014-02-04 16:55:32 -0500] vamage_: j^2: opensource
[2014-02-04 16:55:48 -0500] j^2: vamage_: how i've done it was vpns honestly
[2014-02-04 16:56:10 -0500] j^2: i have one centralized chef server and have my vpn tunnels be able to reach it
[2014-02-04 16:56:21 -0500] j^2: but i'm only around 300 odd nodes completely
[2014-02-04 16:56:50 -0500] payniepayne: I was wondering if it is possible to set a variable, defined in the recipe, to a value inside a ruby_block?
[2014-02-04 16:57:15 -0500] vamage_: j^2: that is our v1 design we are looking at making sure that we can continue to make changes in a DR event
[2014-02-04 16:58:57 -0500] vamage_: j^2: I was thinking of something like http://imgur.com/YWUZNf7 using jobs and pulling everything via scripts from git.
[2014-02-04 16:59:05 -0500] j^2: vamage_: ahh yeah i havent hit that yet, for now, i upload my chef_repo to github and if my chef-server blows up i rebuild it (dpkg -i chef_server) then knife cookbook upload...then *sigh* touch each machine to check in
[2014-02-04 16:59:31 -0500] j^2: vamage_: that could work
[2014-02-04 16:59:41 -0500] j^2: there's alot of moving parts though
[2014-02-04 16:59:55 -0500] jbz_: stupid question.  What's the best way to test for the existence of a databag prior to trying to pull values from it?
[2014-02-04 16:59:59 -0500] vamage_: yeah thats part of my concern
[2014-02-04 17:01:13 -0500] vamage_: j^2: i was thinking of using knife download to just copy everything off the primary
[2014-02-04 17:01:38 -0500] vamage_: j^2: but that seemed like a bad idea
[2014-02-04 17:02:06 -0500] wdilly_: jbz_,  if Chef::DataBag.list.key?('unique_name') something here end
[2014-02-04 17:02:08 -0500] j^2: vamage_: honestly it's a hack, but it could in theroy take care of the 80/20 use cases
[2014-02-04 17:05:22 -0500] jbz_: wdilly_ Many thanks!
[2014-02-04 17:16:31 -0500] vamage_: j^2: thanks!
[2014-02-04 17:19:13 -0500] axsuul: how can I make an execute resource run very very last, after everything even after the delayed notifications
[2014-02-04 17:22:34 -0500] [ROOT]XxNeoLiTHi: is anyone using open source chef server to serve multiple customers,business units, or groups with a lot of servers (~1,000 or more). Im curious what system resource usage is like as im trying to determine how much server resources I should allocate to it
[2014-02-04 17:23:32 -0500] CaptainQuirk: hi
[2014-02-04 17:23:59 -0500] CaptainQuirk: I need advise on the following thing
[2014-02-04 17:24:52 -0500] CaptainQuirk: I'm currently trying to use the sudo cookbook inside a set of recipes I'm executing with chef solo
[2014-02-04 17:25:43 -0500] CaptainQuirk: I don't know if I'm doing things in the right order
[2014-02-04 17:25:54 -0500] CaptainQuirk: this set of recipes is for my dev machine
[2014-02-04 17:26:30 -0500] CaptainQuirk: for the moment I test using rspec and I launch a virtualized ubuntu 13.04 when I want to do real testing
[2014-02-04 17:26:31 -0500] storme_away: trying to add a user to a group in private chef, and getting "automator is not a valid member name". user is in the organization. any ideas?
[2014-02-04 17:27:07 -0500] CaptainQuirk: On my virtual machine, a user was created when I installed the os on the guest
[2014-02-04 17:27:08 -0500] storme_away: nevermind, logging out and back in did the trick.
[2014-02-04 17:28:34 -0500] CaptainQuirk: Is it better to give this user passwordless sudo access
[2014-02-04 17:28:54 -0500] CaptainQuirk: or to create a new one that I would have each time I use my recipes on a new machine ?
[2014-02-04 17:35:07 -0500] forehand: I'm trying to use the sql server cookbook to install sql server 2008 r2, but I'm not sure what url to set the install package to.  Anyone have experience or know who I can ask about this?
[2014-02-04 17:39:06 -0500] shlant: anyone use the s3_file resource?
[2014-02-04 17:39:17 -0500] shlant: or have an alternative
[2014-02-04 17:58:54 -0500] perfectsine: hey guys, how do you use search to find recipes in .rb files?  I keep getting raise ArgumentError, "Type must be a string or a symbol!"
[2014-02-04 17:59:35 -0500] perfectsine: does anyone have an example where they have searched for a recipe?
[2014-02-04 18:20:44 -0500] scalp42: perfectsine mind pasting your search ?
[2014-02-04 18:20:50 -0500] scalp42: must be something wrong with syntax
[2014-02-04 18:25:22 -0500] mondo: axsuul: Do you have chef-client running as a service?
[2014-02-04 18:25:43 -0500] mondo: axsuul: and nevermind my chat window was scrolled way up! :)
[2014-02-04 18:36:55 -0500] epcim: I am using chef-zero. I have role that includes another role (DNS). When I search for role:dns it's not found. Is that the same with ChefServer or just the chef-zero behavior.
[2014-02-04 18:39:40 -0500] jkeiser: epcim: same with chef server.  If you have already converged a node with that role, you can do knife search node roles:dns
[2014-02-04 18:39:45 -0500] jkeiser: note the "roles" not "role"
[2014-02-04 18:39:57 -0500] jkeiser: "role" is just the roles that are in the original run list
[2014-02-04 18:40:03 -0500] jkeiser: "roles" is all the expanded roles
[2014-02-04 18:49:51 -0500] cwj: ping
[2014-02-04 19:00:19 -0500] epcim: jkeiser: does it work with chef-zero, that i search actually to what is in chef-repo/nodes/*.json files?
[2014-02-04 19:00:41 -0500] epcim: is there a way to auto-generate the nodes/*.json configuration during the development
[2014-02-04 19:00:43 -0500] epcim: ?
[2014-02-04 19:00:48 -0500] jkeiser: epcim: yes, when you search in chef-zero the search is directly to the json files
[2014-02-04 19:01:10 -0500] jkeiser: epcim: knife node edit, knife node create, etc. will create json files if you are using chef-zero.  Just add the -z option
[2014-02-04 19:01:19 -0500] jkeiser: knife node create -z blah
[2014-02-04 19:01:23 -0500] jkeiser: will create a basic node
[2014-02-04 19:01:44 -0500] jkeiser: epcim: you can also copy a production node and rename it, if you want full data
[2014-02-04 19:01:52 -0500] jkeiser: just change the name inside and the name of the .json file
[2014-02-04 19:02:09 -0500] jkeiser: epcim: for that, do a knife download /nodes from a production or preprod place
[2014-02-04 19:02:19 -0500] epcim: jkeiser: i dont have a production yet :-D
[2014-02-04 19:02:40 -0500] jkeiser: epcim: well, if you have a converged node somewhere I would start with that :)
[2014-02-04 19:02:58 -0500] jkeiser: The reason being, a virgin created node is a lot more minimal than one that has been through a convergence
[2014-02-04 19:03:13 -0500] jkeiser: A converged node has things like the "roles" (expanded run list) filled in, has ohai attributes, etc etc
[2014-02-04 19:04:02 -0500] jkeiser: epcim: you can certainly auto-generate .json files--they are just files, after all--but even there you'll be better off looking at a real node's json to guide you
[2014-02-04 19:04:28 -0500] jkeiser: It's all just text files, you can do anything you want :)
[2014-02-04 19:04:31 -0500] epcim: jkeiser: sure
[2014-02-04 19:04:57 -0500] jkeiser: As soon as you create a /nodes/x.json, chef-zero will know there is a node named "x"
[2014-02-04 19:05:10 -0500] jkeiser: There is no other ceremony around it
[2014-02-04 19:05:27 -0500] jkeiser: If you mv x.json y.json, chef-zero will not know about x anymore and will know about y
[2014-02-04 19:05:43 -0500] epcim: jkeiser: do I understand corectly, that even I have converged node in the dev environment (test-kitchen/chef-zer/vagrant) I have to write nodes/*.json files manually..
[2014-02-04 19:05:45 -0500] jkeiser: (Though you will probably want to change the name inside y.json to "y" since it was probably "x" before)
[2014-02-04 19:06:04 -0500] jkeiser: epcim: nope.  knife download will get you the json from your converged node
[2014-02-04 19:06:32 -0500] epcim: jkeiser: so "knife download nodes -z" or so would do it?
[2014-02-04 19:06:33 -0500] jkeiser: epcim: walk up to the development environment where you have been running knife, and run knife download /nodes.  Or even knife download / if you want everything (it's probably not too big since it's a dev env)
[2014-02-04 19:06:42 -0500] jkeiser: epcim: in the case of dev, don't add -z
[2014-02-04 19:07:03 -0500] jkeiser: epcim: -z says "spin up chef-zero and look at local disk."  You want knife to talk to your dev environment's chef server
[2014-02-04 19:07:07 -0500] jkeiser: oh right
[2014-02-04 19:07:09 -0500] jkeiser: yes
[2014-02-04 19:07:18 -0500] jkeiser: your dev environment is chef-zero/vagrant :)
[2014-02-04 19:07:20 -0500] jkeiser: so yes.
[2014-02-04 19:07:24 -0500] jkeiser: -z
[2014-02-04 19:07:32 -0500] jkeiser: Actually
[2014-02-04 19:07:47 -0500] jkeiser: epcim: if you are using test-kitchen/chef-zero, there should be a directory with your node in it
[2014-02-04 19:07:50 -0500] jkeiser: already
[2014-02-04 19:07:54 -0500] jkeiser: a .json file
[2014-02-04 19:08:39 -0500] jkeiser: I'm just personally unclear where test-kitchen puts it, but if you search for a "nodes" directory under your kitchen dir on the host, and then somewhere in the vagrant guest, I bet you will find it
[2014-02-04 19:08:53 -0500] forehand: I'm trying to use the sql server cookbook to install sql server 2008 r2, but I'm not sure what url to set the install package to.  In the example they use an exe hosted my M$.  I have the install media, but not sure what executable to ref. Anyone have experience or know who I can ask about this?
[2014-02-04 19:10:16 -0500] epcim: jkeiser: it searches in chef-repo or in cookbook (dpenends where you run it). You are right, it's stores the .json files for nodes under the .kitchen dir. So I may just copy from there.
[2014-02-04 19:10:18 -0500] CPS: forehand: you have the exe file?
[2014-02-04 19:10:39 -0500] epcim: knife download -z / (does not create anything)
[2014-02-04 19:10:48 -0500] jkeiser: yeah, if it's already in chef-zero
[2014-02-04 19:11:04 -0500] forehand: CPS the ISO includes a setup.exe that is rather small and then a set of a dozen or so MSIs.
[2014-02-04 19:11:15 -0500] CPS: ah
[2014-02-04 19:11:24 -0500] forehand: So the answer is: Maybe... :)
[2014-02-04 19:11:42 -0500] CPS: http://msdn.microsoft.com/en-us/library/ms144259.aspx
[2014-02-04 19:11:45 -0500] CPS: maybe that will help\
[2014-02-04 19:11:51 -0500] forehand: I'm about to just start trying the different MSIs.  I'll check it out
[2014-02-04 19:12:05 -0500] epcim: jkeiser: Actually no *.json files are under .kitchen
[2014-02-04 19:12:14 -0500] epcim: jkeiser: kitchen list
[2014-02-04 19:12:14 -0500] epcim: Instance              Driver   Provisioner  Last Action
[2014-02-04 19:12:14 -0500] epcim: gw-ubuntu-1204        Vagrant  ChefZero     Converged
[2014-02-04 19:12:15 -0500] CPS: if you figure out what the command to install it is you can write an execute block to call it
[2014-02-04 19:12:48 -0500] forehand: CPS:  The problem with that is it assumes the ISO is mounted.  I could certainly go that route, but then again I assume the sql cookbook wasn't just written for that one free version of sql server.
[2014-02-04 19:13:17 -0500] CPS: try 'mounting' the iso on a NAS or something?
[2014-02-04 19:13:37 -0500] epcim: jkeiser: knife download can't download nodes data that I am missing if it's reading the same location where I miss them..
[2014-02-04 19:13:39 -0500] forehand: I could, but then I'm not using the cookbook.  Still waiting to hear back from the author of it.
[2014-02-04 19:14:28 -0500] forehand: It says it works with other versions so I'm guessing it was tested with them so I'm guessing there is an actual single executable I could reference...  We'll see :)
[2014-02-04 19:14:55 -0500] jkeiser: epcim: yeah, I think chef-zero runs in the vagrant machine, so the node would get created inside there, not on the host
[2014-02-04 19:15:03 -0500] jkeiser: epicm: https://github.com/test-kitchen/test-kitchen/blob/master/lib/kitchen/provisioner/chef_zero.rb
[2014-02-04 19:16:23 -0500] jkeiser: epicm: specifically https://github.com/test-kitchen/test-kitchen/blob/master/lib/kitchen/provisioner/chef_zero.rb#L108
[2014-02-04 19:16:37 -0500] jkeiser: If we can figure out what root_path is, we can find the files that chef-zero drops
[2014-02-04 19:18:34 -0500] jkeiser: epicm: a grep reveals /tmp/kitchen as the likely path: https://github.com/test-kitchen/test-kitchen/blob/master/lib/kitchen/provisioner/base.rb#L175
[2014-02-04 19:18:47 -0500] jkeiser: epicm: so go into the vagrant guest and check out /tmp/kitchen/nodes
[2014-02-04 19:18:51 -0500] jkeiser: and see if anything is in there
[2014-02-04 19:23:06 -0500] epcim: jkeiser: it's under /tmp/kitchen/nodes/gw-ubuntu-1204.json
[2014-02-04 19:23:17 -0500] jkeiser: Awesome :)  There you go.
[2014-02-04 19:23:30 -0500] jkeiser: I want test-kitchen to get to the point where it stores that stuff on the host, but we're not quite there yet
[2014-02-04 19:23:38 -0500] jkeiser: Copy that sucker, he is a full converged thingy
[2014-02-04 19:23:39 -0500] epcim: just missing that "knife download" do not download it to host "chef-repo"
[2014-02-04 19:24:05 -0500] jkeiser: Are you trying to automate the retrieval of the json file?
[2014-02-04 19:25:26 -0500] epcim: jkeiser: yes, well I not much happy with manual creation of .json files - since you are usually adding/modifiing cookbooks/roles during the development. Whatever static is outdated.
[2014-02-04 19:27:09 -0500] jkeiser: epcim: the easiest thing to do is to mount /tmp/kitchen onto the host (if it's not already)
[2014-02-04 19:27:46 -0500] epcim: jkeiser: it would be just fine if test-kitchen would upload to chef-zero the .json's it's uploading to VM
[2014-02-04 19:28:01 -0500] jkeiser: epcim: it is :)  It's just the chef-zero is running ON the vm
[2014-02-04 19:28:05 -0500] jkeiser: It's not running on the host
[2014-02-04 19:28:16 -0500] jkeiser: that's the disconnect here
[2014-02-04 19:31:48 -0500] epcim: kidding :)
[2014-02-04 19:32:44 -0500] epcim: jkeiser: you were right, explain me, how that the ports are not open the whole time. Does knife search (etc) start's it?
[2014-02-04 19:33:44 -0500] jkeiser: epcim: where did you run knife search node from?
[2014-02-04 19:34:04 -0500] epcim: jkeiser: I understand now it runs in the VM. But if you are testing multiple VM deployment. It would make more sense to have it runnnig on the host (to be able to search cross nodes).
[2014-02-04 19:34:15 -0500] jkeiser: epcim: totally!  I think it should too
[2014-02-04 19:34:37 -0500] epcim: When I run knife within the VM , I will get want - means full, rich list of roles etc.. as expected.
[2014-02-04 19:34:41 -0500] jkeiser: epcim: but kitchen can't test multiple VM deployment right now (it's something we're looking at fixing soooooon)
[2014-02-04 19:34:59 -0500] jkeiser: epcim: when it can, that's how we'll have to do it
[2014-02-04 19:35:20 -0500] jkeiser: metal does it now: when it runs chef-client, it opens an ssh tunnel back to a chef-zero running on the host
[2014-02-04 19:35:27 -0500] epcim: it would help, to use shared directory among VM's for the chef-zero files..
[2014-02-04 19:35:31 -0500] jkeiser: so when the chef-client saves stuff, it goes back to the host
[2014-02-04 19:35:35 -0500] jkeiser: yep.
[2014-02-04 19:35:38 -0500] jkeiser: that is another way
[2014-02-04 19:36:35 -0500] jkeiser: For your purposes, an scp from the vm or a mount of /tmp/kitchen should get you further.  Suckage!
[2014-02-04 19:36:50 -0500] jkeiser: We will make it more perfect :)
[2014-02-04 19:37:37 -0500] jkeiser: In fact, if you want to make it more perfect, that would be awesome--I think a patch to make the chef-zero provisioner put the chef repo onto a mounted directory would be hella sweet
[2014-02-04 19:37:39 -0500] epcim: jkeiser: anyway, thanks for help - you saved my time for sure..
[2014-02-04 19:37:53 -0500] jkeiser: And it might not be hard--I bet there is already a mounted directory
[2014-02-04 19:38:09 -0500] jkeiser: epicm: You could just have test kitchen set its default chef_repo_path to somewhere on the mount
[2014-02-04 19:38:16 -0500] jkeiser: and then everyone benefits :)
[2014-02-04 19:39:05 -0500] epcim: well I will have a look for sure..
[2014-02-04 19:39:59 -0500] epcim: It actually may have some conflicts in time (like) with dna.json which is stored in /tmp/kitchen directly.
[2014-02-04 20:04:17 -0500] notromda: can recipes be namespaced, like recipe[mycookbook::passenger::install]   ?
[2014-02-04 20:05:26 -0500] cwj: notromda: no, but some people advocate the practice of using an underscore to prefix private recipes
[2014-02-04 20:05:34 -0500] cwj: e.g. mycookbook::_passenger_install
[2014-02-04 20:06:13 -0500] notromda: the entire cookbook is private I guess, but that does help set it apart
[2014-02-04 20:06:56 -0500] notromda: I need to install apache, rvm and passenger together and the few resources I've seen out there don't look maintained
[2014-02-04 20:07:26 -0500] coderanger: notromda: Use a cookbook name like <your company-<the thing>
[2014-02-04 20:07:38 -0500] coderanger: example: balanced-python or opscode-mysql
[2014-02-04 20:09:01 -0500] cwj: i guess i meant private as in this shouldnt go directly in a role or a nodes run list"
[2014-02-04 20:09:28 -0500] cwj: but prefixing proprietary cookbooks and wrapper cookbooks with your organizations name is a good idea though
[2014-02-04 20:14:13 -0500] coderanger: cwj: If your recipes are that complex, you should be writing resources ;-)
[2014-02-04 20:15:22 -0500] cwj: yes
[2014-02-04 20:15:22 -0500] chris613: cwj: We use both those practices (ourcorp-cookbook::_privaterecipe). They are life savers
[2014-02-04 20:15:37 -0500] cwj: i have so much should at the moment
[2014-02-04 20:21:07 -0500] coderanger: cwj: ::fistbump::
[2014-02-04 20:21:28 -0500] cwj: :D
[2014-02-04 20:40:18 -0500] epcim: jkeiser: is there a way to force kitchen to re-read .yml and mount a directory without re-run kitchen test?
[2014-02-04 20:40:30 -0500] jroh: Are there any benefits of chef-vault outside being able to control the encryption key?
[2014-02-04 20:40:53 -0500] jroh: I'm curious if I'm missing something
[2014-02-04 20:44:58 -0500] jkeiser: epcim: I don't know :/ I'm not a kitchen superuser.  fnichols would know but he's not on right now
[2014-02-04 20:45:56 -0500] epcim: jkeiser: np
[2014-02-04 20:46:33 -0500] cwj: jroh: well it seems to me that it allows for far more granular control over which nodes can access which secrets
[2014-02-04 20:48:32 -0500] rayrod2030: anyone using serverspec?
[2014-02-04 20:48:56 -0500] rayrod2030: if so is it possible to run specs based on os family type?
[2014-02-04 20:50:32 -0500] gleam: is jroh = jro who once worked at orbitz? or just a coincidence
[2014-02-04 20:58:22 -0500] jchauncey: epcim: did you do a kitchen test with no destroy
[2014-02-04 20:59:33 -0500] epcim: jchauncey: i konow, it do not reprovision the VM .. right?
[2014-02-04 21:00:12 -0500] jchauncey: if the box is still around you should be able to run any previous step (converge for instance) and it modify the vagrant config
[2014-02-04 21:00:38 -0500] epcim: jchauncey: I found that kitchen setup (does the reconfiguration) i expect (like mount dirs). However not sure still whether it also customize cpu/ram etc..
[2014-02-04 21:01:06 -0500] jchauncey: i believe it will
[2014-02-04 21:01:18 -0500] jchauncey: you can change those in vitrual box at run time
[2014-02-04 21:03:13 -0500] epcim: jchauncey: probably modify, but does it run vagrant reload as well to apply? or just vagrant provision.
[2014-02-04 21:03:27 -0500] jchauncey: hrm not sur eon that one
[2014-02-04 21:03:37 -0500] jchauncey: would be easy to test
[2014-02-04 21:03:49 -0500] epcim: never mind, will manage that smehow..
[2014-02-04 21:04:07 -0500] jchauncey: do a kitchen converge to bring up a box, open up virtual box and make sure that your settings are what you expect and then change your config and see if it takes those changes
[2014-02-04 21:04:50 -0500] epcim: .. just take time (I am having the feeling that I spent too much time with testing stuff than with actual coding it)
[2014-02-04 21:04:53 -0500] ClemmyClem: ohai
[2014-02-04 21:05:43 -0500] ClemmyClem: Can anyone provide some level of detail about knife vsphere plugin?
[2014-02-04 21:05:52 -0500] ClemmyClem: I have the gem installed
[2014-02-04 21:06:19 -0500] ClemmyClem: but running knife vsphere vm list doesn't work
[2014-02-04 21:06:37 -0500] ClemmyClem: My setup is mac os 9.x.x
[2014-02-04 21:06:50 -0500] ClemmyClem: I'm able to knife node list
[2014-02-04 21:16:30 -0500] coderanger: clayb: I very much doubt that
[2014-02-04 21:16:38 -0500] coderanger: I think you mean OS 10
[2014-02-04 21:18:02 -0500] clayb: @coderanger Sorry I don't recall the conversation...
[2014-02-04 21:18:14 -0500] coderanger: Sorry, mistab
[2014-02-04 21:18:21 -0500] clayb: NP
[2014-02-04 21:18:22 -0500] c_t: he means ClemmyClem
[2014-02-04 21:18:27 -0500] coderanger: Looks like the original person (ClemmyClem) left
[2014-02-04 21:18:50 -0500] c_t: I was thinking "wow, someone got chef (and even more remarkably, all the dependencies) to run on MacOS 9..."
[2014-02-04 21:19:26 -0500] c_t: then again, the last time I got an email from someone wondering why something on the site wouldn't work under MacOS 9 was... January 2009
[2014-02-04 21:19:34 -0500] c_t: maybe January 2010, but definitely one of the two
[2014-02-04 21:19:51 -0500] c_t: "How much of the internet can you actually use?" I thought
[2014-02-04 21:21:17 -0500] helfire1: anyone know why a knife node edit shows full ohai data? it didnt before, now all of a suddent it does.
[2014-02-04 21:21:22 -0500] clayb: Provisioning labs full of Mac's back in the late '90s wasn't easy but it was still possible to throw cheap labor (aka ambitious school kids) at large swaths of machines successfully. Deploying 10 VM's a minute is a different scale of problem...
[2014-02-04 21:24:06 -0500] ssd7: Now I really really want to believe that Chef is running on Mac OS 9 somewhere out there on the internet
[2014-02-04 21:24:17 -0500] gleam: likewise
[2014-02-04 21:26:34 -0500] c_t: ooooh, I just ate too much Camp Fire candy
[2014-02-04 21:52:23 -0500] nt999: anyone able to get tomcat7 installed using the opscode recipe?
[2014-02-04 21:52:34 -0500] nt999: Chef::Exceptions::Package: No version specified, and no candidate version available for tomcat7
[2014-02-04 21:55:22 -0500] flaccid: nt999: perhaps you are using a distro release/repo config that doesn't have that package
[2014-02-04 21:55:48 -0500] scalp42: whats the platform nt999 ?
[2014-02-04 21:56:38 -0500] scalp42: https://github.com/opscode-cookbooks/tomcat/blob/master/recipes/default.rb#L25-35 this is what's supported
[2014-02-04 21:57:04 -0500] nt999: @scalp42 centos 5.4
[2014-02-04 21:57:16 -0500] scalp42: which version for tomcat?
[2014-02-04 21:57:18 -0500] flaccid: thats old and discontinued
[2014-02-04 21:57:36 -0500] nt999: version is set to 7
[2014-02-04 21:57:44 -0500] scalp42: might be why then
[2014-02-04 21:57:55 -0500] nt999: ugh, so 7 isn't supported in this cookbook.
[2014-02-04 21:58:04 -0500] scalp42: its not the cookbook
[2014-02-04 21:58:08 -0500] nt999: right on.
[2014-02-04 21:58:23 -0500] scalp42: see with yum if you have a package tomcat7 ?
[2014-02-04 21:58:39 -0500] scalp42: and tomcat7-admin-webapps
[2014-02-04 21:59:35 -0500] scalp42: `yum list tomcat7`
[2014-02-04 21:59:53 -0500] nt999: scalp42: nope.
[2014-02-04 22:00:06 -0500] scalp42: thats why then :/
[2014-02-04 22:00:16 -0500] scalp42: you could still workaround it though I think
[2014-02-04 22:00:41 -0500] nt999: yeah.  well, thanks for the help.
[2014-02-04 22:04:42 -0500] forehand: I'm trying to use the sql server cookbook to install sql server 2008 r2, but I'm not sure what url to set the install package to.  In the example they use an exe hosted my M$.  I have the install media, but not sure what executable to ref. Anyone have experience or know who I can ask about this?
[2014-02-04 22:23:44 -0500] taglet: hoping someone can help me with a weird error. I'm getting  "413 entity too large" at the end of Chef client runs. I disabled the ohai passwd plugin and increased the client_max_body_size in nginx conf. I am on enterprise chef. anything else I should try?
[2014-02-04 22:24:17 -0500] taglet: this only starting happening recently, and maybe a clue is that when I do knife node edit on the nodes I see the entire ohai data without the -a switch
[2014-02-04 22:24:30 -0500] taglet: not sure if that matters but it just started happening recently
[2014-02-04 22:34:16 -0500] fak3r: How does chef handle hosts with multiple ip addresses? does it care, or does it just bootstrap via the IP you feed it and always "know it" as that IP
[2014-02-04 22:36:44 -0500] jbz_: Sigh.
[2014-02-04 22:36:49 -0500] jbz_: Anyone got time for a stupid JSON question?
[2014-02-04 22:37:04 -0500] jbz_: basically, if I need to store multiline text blocks in a data bag, how would I go about that?
[2014-02-04 22:38:40 -0500] jbz_: Do I need to use an array of strings and join them in the recipe code?
[2014-02-04 22:41:54 -0500] tspencer: I'm not sure if this is the right way, but I've been doing stuff like "foo\nbar\nbaz\n".
[2014-02-04 22:42:10 -0500] jbz_: hm
[2014-02-04 22:45:44 -0500] jslusher: is anyone on here who can help me with writing test-kitchen bats tests?
[2014-02-04 22:46:00 -0500] jslusher: I'm following the documentation, but they don't seem to work as expected
[2014-02-04 22:46:56 -0500] jslusher: http://pastebin.com/4taJtzTE
[2014-02-04 22:47:02 -0500] jslusher: This always fails
[2014-02-04 22:47:06 -0500] sn0wb1rd: jslusher: try in #kitchenci with specific questions
[2014-02-04 22:47:23 -0500] jslusher: thanks, sn0wb1rd
[2014-02-04 22:51:26 -0500] jbz_: Ugh.  Could someone point me to some example code which checks to make sure a data bag and a particular item exist before trying to use that item?  I seem to have the stupids.
[2014-02-04 22:51:47 -0500] notromda: If you are in ruby code, like a recipe, you can make the strings span lines and the newlines continue into code, or you could use heredoc format
[2014-02-04 22:52:00 -0500] jbz_: My recipe is failing with a 404 error because, I presume, the item doesn't exist but the data bag does.
[2014-02-04 22:52:32 -0500] jbz_: notromda: I used the \n substitution; knife wouldn't upload the data bag item otherwise. :-P
[2014-02-04 22:52:58 -0500] notromda: https://gist.github.com/dgm/8814066
[2014-02-04 22:53:26 -0500] notromda: ah databag items are pure json, not ruby code
[2014-02-04 22:54:10 -0500] jbz_: yeh :-)
[2014-02-04 22:54:18 -0500] geggam: databags are like cool things you can use everywhere
[2014-02-04 22:55:07 -0500] geggam: put all you cron jobs in a databag.. iterate thru it :)
[2014-02-04 22:57:10 -0500] jbz_: For my 'test if item exists' problem, should I be using search and checking if the result is empty?
[2014-02-04 22:58:43 -0500] notromda: I'd like the ability to write data bags in ruby and have knife run it to convert to json
[2014-02-04 23:00:02 -0500] kshep: man, nothing like dealing with your own few-month-old tech debt... is there a best practice around making ruby ojects available for the duration of a chef-client run, to all cookbooks?
[2014-02-04 23:00:36 -0500] kshep: I'd like to do a single ChefVault::Item.load into an object I can just keep using
[2014-02-04 23:01:52 -0500] kshep: Right now I'm sticking it in a Chef::Recipe class variable, but that seems wrong
[2014-02-04 23:04:55 -0500] jbz_: Anyone got time to look at some data bag item code?  I'm stuck on multiple error conditions (if data bag exists, then if item exists...)
[2014-02-04 23:32:12 -0500] cwj: kshep: try storing it under node.run_state? see http://lists.opscode.com/sympa/arc/chef/2010-12/msg00067.html
[2014-02-04 23:33:52 -0500] kshep: cwj: Nice. I'll check it out. Thanks!
[2014-02-04 23:34:08 -0500] cwj: you bet
[2014-02-04 23:38:43 -0500] gmr: Hi all, having an issue with a few external dependencies I need for a LWRP in 11.6. I'm trying what is detailed here: http://www.getchef.com/blog/2009/06/01/cool-chef-tricks-install-and-use-rubygems-in-a-chef-run/ but it doesn't seem to work with 11.6 -- any suggestions?
[2014-02-04 23:39:43 -0500] gmr: https://gist.github.com/gmr/8814706
[2014-02-04 23:42:07 -0500] strictlyb: any one here that uses https://github.com/edelight/chef-mongodb alot ?
[2014-02-04 23:42:24 -0500] strictlyb: have a question if anyone is a heavy user of that cookbook
[2014-02-04 23:43:50 -0500] EJC: anyone ever see the object id for an attribute end up in a processed template before?
[2014-02-04 23:46:59 -0500] strictlyb: anyone using chef-mongodb cookbook that can spare 5-10 minutes i would be greatly appreciative, thanks ahead of time
[2014-02-04 23:47:11 -0500] flaccid: strictlyb: nntr
[2014-02-04 23:47:43 -0500] strictlyb: srry  thanks
[2014-02-04 23:48:09 -0500] strictlyb: soryr for the spam sir
[2014-02-04 23:56:57 -0500] kshep: cwj: node.run_state ftw. working nicely.
[2014-02-04 23:57:41 -0500] cwj: kshep: \m/
[2014-02-04 23:59:21 -0500] cwj: strictlyb: i have used that cookbook in the past, and got fed up enough to write my own minimum viable mongodb cookbook. if you have a specific question, i can try to help
