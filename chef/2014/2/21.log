[2014-02-21 00:01:21 -0500] anthroprose: coderanger: using knife node edit from the node itself, I could edit the data
[2014-02-21 00:01:24 -0500] awc737__: wtf is this
[2014-02-21 00:01:28 -0500] awc737__: https://www.irccloud.com/pastebin/1uM8tlii
[2014-02-21 00:01:30 -0500] anthroprose: sudo EDITOR=nano knife node -c /etc/chef/client.rb edit 'ip-10-1-1-17'
[2014-02-21 00:02:11 -0500] coderanger: awc737__: invalid metadata.rb in a cookbook you are trying to install
[2014-02-21 00:03:07 -0500] awc737__: coderanger: nah, it must be me. that cookbook is fine
[2014-02-21 00:03:10 -0500] awc737__: it's happening with every cookbook
[2014-02-21 00:03:17 -0500] coderanger: awc737__: It is your own cookbook
[2014-02-21 00:03:27 -0500] coderanger: "precise64-lamp"
[2014-02-21 00:03:29 -0500] awc737__: oh, the first error
[2014-02-21 00:03:30 -0500] coderanger: Thats the one failing
[2014-02-21 00:03:45 -0500] awc737__: yeah I tried replacing it with that one from mdxp/nodejs
[2014-02-21 00:03:55 -0500] coderanger: Not sure what you mean
[2014-02-21 00:04:03 -0500] coderanger: can you pastebin your berksfile?
[2014-02-21 00:04:54 -0500] awc737__: k
[2014-02-21 00:05:53 -0500] awc737__: same error again... 1 sec
[2014-02-21 00:05:57 -0500] anthroprose: coderanger: so I slammed a bunch of XXXXXs into the node attrs and got this: Node not updated, skipping node save
[2014-02-21 00:06:39 -0500] awc737__: https://gist.github.com/awc737/9dba84721a98e0fd0205'
[2014-02-21 00:07:11 -0500] awc737__: coderanger: It must be my machine... I have known this to work in the past
[2014-02-21 00:07:44 -0500] coderanger: awc737__: run rm -rf /Users/alex/.berkshelf/cookbooks/precise64-lamp-2eeb26c05ed5bc59f132aab0cfcd78bab6ceb957
[2014-02-21 00:07:46 -0500] coderanger: should fix it
[2014-02-21 00:07:51 -0500] coderanger: possibly a corrupted download
[2014-02-21 00:07:53 -0500] awc737__: ah yes
[2014-02-21 00:08:55 -0500] awc737__: nice, thanks. Now I want to put all those Cookbooks as dependencies of my Cookbook
[2014-02-21 00:08:56 -0500] anthroprose: coderanger: so single attributes saved fine, but not multiples
[2014-02-21 00:09:07 -0500] anthroprose: doing multiples makes the node save just hang
[2014-02-21 00:09:28 -0500] anthroprose: all I did was add a-q of "a": "000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000"
[2014-02-21 00:09:31 -0500] coderanger: anthroprose: Weird, I got nothing
[2014-02-21 00:10:02 -0500] anthroprose: yeah, I mean... ive been doing this for a while and this is the first I've seen.... and the fact that I can blow away servers & start over with the same behavior is the only thing keeping me at it
[2014-02-21 00:10:16 -0500] anthroprose: just going to switch to hosted chef for a few months until I figure it all out
[2014-02-21 00:10:28 -0500] anthroprose: (usually I'm just chef-client side, this is some of my first chef-server stuff)
[2014-02-21 00:11:06 -0500] anthroprose: but I used the chef-server/chef-solo method, just downloading the .deb and installing, even knife-server
[2014-02-21 00:15:50 -0500] anthroprose: coderanger: many thanks for all of your help and time, I'm leaving it to the opscode triage gods at this point.... I'll show up at the next office hours to complain loudly while drinking too much coffee
[2014-02-21 00:20:14 -0500] awc737__: I've updated my Cookbook git repo, pushed the changes. How do I update my cookbook now I'm using elsewhere?
[2014-02-21 00:20:42 -0500] awc737__: oh seems the lock had the old ref
[2014-02-21 00:21:27 -0500] Durzo: is it possible to use a template file for a 'package' response_file ? trying to get the value of a node attribute into debconf ...
[2014-02-21 00:22:12 -0500] gzilla: any graphite experts in here?
[2014-02-21 00:23:25 -0500] awc737__: It seems adding one line "cookbook 'thing'" to my metadata.rb breaks it
[2014-02-21 00:25:24 -0500] awc737__: shit no wonder, sorry, the syntax is "depends" not "cookbook"
[2014-02-21 00:26:56 -0500] Durzo: answering my own question here, it seems response_file_variables was patched into chef-client 11.10 and is still undocumented
[2014-02-21 00:28:08 -0500] awc737__: The question is how do I turn this into a depends?
[2014-02-21 00:28:08 -0500] awc737__: cookbook 'chef-composer', git: 'git@github.com:escapestudios/chef-composer.git'
[2014-02-21 00:28:17 -0500] awc737__: it seems depends does not have the extra argument for git URL
[2014-02-21 00:28:48 -0500] anthroprose: gzilla: I use it, not an expert
[2014-02-21 00:33:56 -0500] mattupstate: is there a way to check if a node was tagged with chefspec?
[2014-02-21 00:34:46 -0500] gzilla: anthroprose: thanks.  I got it installed - just toying with it now.  I want to get my chef-client runs graphed
[2014-02-21 00:39:03 -0500] anthroprose: gzilla: you can use the chef report handler for that, make calls directly to carbon, or use statd, you can graph not only the runs, but the # of resources updated per run
[2014-02-21 00:40:32 -0500] anthroprose: gzilla: I am currently collecting ~5mil time series metrics per minute with statsd/graphite
[2014-02-21 00:43:47 -0500] awc737__: Can I put a git URL in a metadata.rb depends line?
[2014-02-21 00:44:00 -0500] gzilla: anthroprose: got any examples of your handler?  I am just grabbing whatever I find online for the moment.  I just want to see SOME data, then I can decide what I want to get out of it afterwards.
[2014-02-21 00:46:39 -0500] awc737__: Is this syntax bad for a cookbooks metadata.rb?
[2014-02-21 00:46:39 -0500] awc737__: depends 'chef-composer', git: 'git@github.com:escapestudios/chef-composer.git'
[2014-02-21 00:55:43 -0500] awc737__: it seems simply impossible to have my cookbook depend on cookbooks from git!!
[2014-02-21 00:56:48 -0500] DeVVaN_: awc737__: Berkshelf?
[2014-02-21 01:01:03 -0500] viglesia1: anybody have a pointer to uploading a file to a databag from a recipe?
[2014-02-21 01:01:21 -0500] awc737__: DeVVaN_: wait sorry, I think I got something
[2014-02-21 01:01:41 -0500] awc737__: I am using Berkshelf. I'm trying this approach (add info to metadata.rb AND Berksfile)
[2014-02-21 01:03:44 -0500] awc737__: stole approach from https://github.com/berkshelf/berkshelf/issues/680#issuecomment-33582844
[2014-02-21 01:04:19 -0500] awc737__: what is the actual method for updating my cookbook which I've pushed to Github?
[2014-02-21 01:05:00 -0500] viglesia1: awc737__: are you removing your Berksfile.lock file?
[2014-02-21 01:05:10 -0500] awc737__: right now I have a 4 step process lol
[2014-02-21 01:05:25 -0500] awc737__: rm -rf ~/.berkshelf/cookbooks/mine
[2014-02-21 01:05:36 -0500] awc737__: rm -rf ./cookbooks... and rm Berksfile.locl
[2014-02-21 01:05:49 -0500] awc737__: and then berks install --path cookbooks
[2014-02-21 01:06:07 -0500] anthroprose: gzilla: honestly, I'm not using a handler currently, I'm using brightcove's Diamond Agent for reporting stats upstream
[2014-02-21 01:11:08 -0500] awc737__: well i guess thats one upgrade method
[2014-02-21 01:22:22 -0500] kbarry: I'm looking and can't find what a "Directive" is in the chef context.
[2014-02-21 01:22:29 -0500] kbarry: Can someone helplead me in the right direction.
[2014-02-21 01:23:10 -0500] kbarry: I am trying to use the iis cookbook, and I got some feedback on a question which makes reference to "directives" in the context.
[2014-02-21 01:23:57 -0500] kbarry: as in, I was using iis_app (a lwrp/resource), and they referred to the iisapp directive
[2014-02-21 01:28:47 -0500] Durzo: is anyone aware of any reasons why response_file would fail to be picked up in 'package' resource ? im pulling my hair out here
[2014-02-21 01:34:27 -0500] someara: fuck yeah travis build matrix https://travis-ci.org/opscode-cookbooks/php/builds/19303986
[2014-02-21 01:35:18 -0500] Durzo: sweet jesus.. package resource action :upgrade does not bother looking for preseed file, only action :install does - LAME
[2014-02-21 01:36:11 -0500] someara: Durzo that's definitely a bug
[2014-02-21 01:36:57 -0500] Durzo: someara, roger, filing it now
[2014-02-21 01:37:02 -0500] someara: can you file a ticket at tickets.opscode.com ?
[2014-02-21 01:37:17 -0500] someara: thanks
[2014-02-21 01:42:27 -0500] Durzo: someara, CHEF-5062
[2014-02-21 01:42:41 -0500] someara: thanks
[2014-02-21 01:45:21 -0500] kbarry: Is there something called a "directive" in the chef context?
[2014-02-21 01:47:05 -0500] Durzo: kbarry, can you be more specific?
[2014-02-21 02:01:17 -0500] flaccid: kbarry: i don't think so
[2014-02-21 03:20:20 -0500] brucelee_: coderanger: you there? :P
[2014-02-21 03:27:08 -0500] brucelee_: what are some ideas to automate AWS provisioning?
[2014-02-21 03:27:36 -0500] viglesia1: brucelee_: i just started using motherbrain: https://github.com/RiotGames/motherbrain
[2014-02-21 03:28:04 -0500] viglesia1: i also use https://github.com/opscode/knife-ec2
[2014-02-21 03:28:04 -0500] brucelee_: never heard of it
[2014-02-21 03:28:07 -0500] brucelee_: ill have to check it out
[2014-02-21 03:28:23 -0500] brucelee_: but when you create the instance, you also need to create EBS stores
[2014-02-21 03:28:27 -0500] brucelee_: otherwise youre stuck using instance stores
[2014-02-21 03:28:34 -0500] brucelee_: and even using instance stores, you'd need to initialize them
[2014-02-21 03:28:49 -0500] viglesia1: brucelee_: you can use block device mappings to create and attach volumes at run instance time
[2014-02-21 03:28:49 -0500] brucelee_: or mount them to do something
[2014-02-21 03:29:04 -0500] viglesia1: docs.aws.amazon.com/AWSEC2/latest/UserGuide/block-device-mapping-concepts.html
[2014-02-21 03:29:10 -0500] brucelee_: viglesia1: nice
[2014-02-21 03:29:32 -0500] viglesia1: so basically you map snapshots->devices and they are attached when the instance launches
[2014-02-21 03:31:02 -0500] brucelee_: viglesia1: how would you automate the mounting of the devices in an idempotent way, and useable by a bunch of servers, rather than just 1 specific case
[2014-02-21 03:31:38 -0500] viglesia1: brucelee_: user data
[2014-02-21 03:33:30 -0500] flaccid: sounds like a good job for chef
[2014-02-21 03:34:09 -0500] brucelee_: not sure how that would work though
[2014-02-21 03:34:14 -0500] brucelee_: i had to create and setup 4 instances
[2014-02-21 03:34:21 -0500] brucelee_: all the users, sshd_config, firewall rules were setup
[2014-02-21 03:34:30 -0500] brucelee_: ntp, other packages, etc
[2014-02-21 03:34:34 -0500] brucelee_: but i didnt automate the BES creation
[2014-02-21 03:34:37 -0500] brucelee_: EBS
[2014-02-21 03:34:46 -0500] brucelee_: i had to resize2fs the root partition
[2014-02-21 03:34:46 -0500] flaccid: i don't know why chef wouldn't be able to do those
[2014-02-21 03:35:04 -0500] flaccid: i don't know why you would need to do that
[2014-02-21 03:35:13 -0500] brucelee_: because by default its only 8GB
[2014-02-21 03:35:17 -0500] brucelee_: i made it 20GB
[2014-02-21 03:35:30 -0500] flaccid: i don't know why you would need more than 8 or 10gb
[2014-02-21 03:35:48 -0500] brucelee_: to install apps
[2014-02-21 03:35:52 -0500] brucelee_: etc
[2014-02-21 03:35:57 -0500] brucelee_: home folder is there
[2014-02-21 03:36:06 -0500] brucelee_: the entire instance is 10GB
[2014-02-21 03:36:11 -0500] flaccid: i install apps fine with 8gb. you can put the home folder on an ebs volume if you want
[2014-02-21 03:36:11 -0500] brucelee_: 8GB i mean
[2014-02-21 03:36:19 -0500] brucelee_: yeah thats what i was planning to do
[2014-02-21 03:36:41 -0500] brucelee_: how would that process be automated?
[2014-02-21 03:36:48 -0500] brucelee_: use an exec statement in chef?
[2014-02-21 03:37:07 -0500] brucelee_: what best practice methods are employed for something like that
[2014-02-21 03:37:14 -0500] brucelee_: if doing it with chef
[2014-02-21 03:42:14 -0500] flaccid: brucelee_: there are plenty of cookbooks that can create and attach volumes, there is probably ones that can mount fs as well
[2014-02-21 03:42:49 -0500] brucelee_: thanks
[2014-02-21 03:42:55 -0500] flaccid: brucelee_: i even made a boto cookbook https://github.com/flaccid/cookbooks/tree/master/cookbooks/boto
[2014-02-21 03:42:59 -0500] viglesia1: anybody have experience creating data bags from inside recipes
[2014-02-21 03:43:07 -0500] viglesia1: flaccid: nice!
[2014-02-21 03:43:13 -0500] brucelee_: flaccid: ill check it out
[2014-02-21 03:43:16 -0500] brucelee_: whats boto?
[2014-02-21 03:44:03 -0500] flaccid: brucelee_: read the description in the readme
[2014-02-21 03:45:00 -0500] brucelee_: flaccid: nice
[2014-02-21 03:45:04 -0500] brucelee_: :P
[2014-02-21 03:46:31 -0500] brucelee_: wow sweet
[2014-02-21 03:46:48 -0500] flaccid: it was fun to embed python in chef hehe
[2014-02-21 03:47:31 -0500] brucelee_: lol
[2014-02-21 03:47:49 -0500] brucelee_: so basically ruby calls python :P
[2014-02-21 03:48:45 -0500] brucelee_: being python was it difficult to get chef to work with it or something?
[2014-02-21 03:48:46 -0500] flaccid: yeah the kid calls the adult
[2014-02-21 03:48:57 -0500] viglesia1: lol
[2014-02-21 03:49:07 -0500] flaccid: nah it was just a bit of a headf* getting used to the embedding
[2014-02-21 03:49:38 -0500] brucelee_: flaccid: why didnt you go for a ruby one
[2014-02-21 03:49:47 -0500] brucelee_: is there evenone?
[2014-02-21 03:50:14 -0500] viglesia1: ruby aws sdk and fog are the ones ive used
[2014-02-21 03:50:29 -0500] viglesia1: boto is my mainstay
[2014-02-21 03:50:50 -0500] flaccid: probably already cookbooks for the ruby stuff. boto is good and python rulez, i wanted to do boto
[2014-02-21 03:52:05 -0500] flaccid: i was kind of proud of this https://github.com/flaccid/cookbooks/blob/master/cookbooks/boto/recipes/ebs_create_snapshot.rb coz i put fsfreeze in
[2014-02-21 03:55:05 -0500] brucelee_: i looked up fog, doesnt say anything related to aws
[2014-02-21 03:55:17 -0500] brucelee_: https://github.com/jackl0phty/opschef-cookbook-fog/blob/master/README.md
[2014-02-21 03:55:17 -0500] Durzo: fog doesnt work well in aws
[2014-02-21 03:55:20 -0500] brucelee_: oh ok
[2014-02-21 03:55:36 -0500] Durzo: atleast in ubuntu 12.04 cloud image, fog does not work
[2014-02-21 03:55:45 -0500] Durzo: its to do with ruby versions
[2014-02-21 03:56:14 -0500] Durzo: you could probably make it work if you upgraded a bunch of stuff... but atleast in opsworks that not an option as your stuck with aws versions of chef
[2014-02-21 03:56:36 -0500] flaccid: http://fog.io/
[2014-02-21 03:56:59 -0500] flaccid: sounds like an opsworks problem. solution don't use opsworks.
[2014-02-21 03:57:08 -0500] flaccid: use omnibus chef which is separate to system ruby
[2014-02-21 03:57:23 -0500] Durzo: s/stick/stuck
[2014-02-21 04:00:28 -0500] flaccid: Durzo: how so?
[2014-02-21 04:00:45 -0500] Durzo: clients want it
[2014-02-21 04:01:20 -0500] Durzo: company i work for is an AWS partner, we have people pitching opsworks and also clients that come to us specifically wanting it
[2014-02-21 04:01:32 -0500] Durzo: because its "easier". they usually throw the word "devops" in there too
[2014-02-21 04:21:05 -0500] flaccid: Durzo: there are other platforms that support chef and make it easier too :)
[2014-02-21 04:21:42 -0500] Durzo: flaccid, dont have to tell me... crazy marketing
[2014-02-21 04:22:24 -0500] flaccid: well there are ones that don't use system ruby so you can actually install gems :p but then again just use rvm or rbenv
[2014-02-21 04:48:05 -0500] abhishekamralkar: Hi Guys
[2014-02-21 04:48:07 -0500] abhishekamralkar: ERROR: cannot verify www.opscode.com's certificate
[2014-02-21 04:48:19 -0500] abhishekamralkar: I am getting this error while doing knife ec2 create
[2014-02-21 04:48:28 -0500] abhishekamralkar: I am frustrated with this error
[2014-02-21 04:48:35 -0500] abhishekamralkar: any idea how to s=resolve this?
[2014-02-21 04:50:32 -0500] abhishekamralkar: anyone here
[2014-02-21 04:52:07 -0500] flaccid: 556 people are here
[2014-02-21 04:52:21 -0500] flaccid: abhishekamralkar: https://www.google.com.au/search?q=ERROR%3A+cannot+verify+www.opscode.com%27s+certificate&oq=ERROR%3A+cannot+verify+www.opscode.com%27s+certificate&aqs=chrome..69i57j69i58.465j0j4&sourceid=chrome&ie=UTF-8
[2014-02-21 04:56:27 -0500] abhishekamralkar: I am curious no one faced issue which I am facing
[2014-02-21 04:58:17 -0500] coderanger: abhishekamralkar: what ruby are you using and what os?
[2014-02-21 05:01:28 -0500] atomic-penguin: Is there some way to detect a recipe is running in a chef-zero context? Like an Ohai attrib?
[2014-02-21 05:02:13 -0500] atomic-penguin: Guess I should git grep ohai
[2014-02-21 05:03:10 -0500] atomic-penguin: Nope, nothing obvious there
[2014-02-21 05:04:14 -0500] coderanger: atomic-penguin: chef client knows nothing of the server
[2014-02-21 05:09:10 -0500] brucelee_: coderanger: what do you use to automate aws stuff?
[2014-02-21 05:13:23 -0500] geggam:  ERROR: Data Bag items must have an id matching /^[\-[:alnum:]_]+$/, you gave: "access.logging.enable" ...
[2014-02-21 05:13:34 -0500] geggam: bug ?
[2014-02-21 05:15:41 -0500] viglesia1: geggam: no periods
[2014-02-21 05:17:33 -0500] geggam: so .. i have no option viglesia1
[2014-02-21 05:17:41 -0500] geggam: my data has periods
[2014-02-21 05:17:52 -0500] coderanger: brucelee_: cloudformation
[2014-02-21 05:18:31 -0500] coderanger: geggam: just use a sanitized version for the id and the real value as another key
[2014-02-21 05:18:56 -0500] geggam: https://tickets.opscode.com/browse/CHEF-3531
[2014-02-21 05:19:04 -0500] brucelee_: coderanger: i remember you posted the cloudformation thing for me a few days ago
[2014-02-21 05:19:11 -0500] brucelee_: i thought i bookmarked it, but i didnt :(
[2014-02-21 05:19:20 -0500] geggam: lots of work for something chef should handle
[2014-02-21 05:19:22 -0500] brucelee_: the cloudformation script for balanced
[2014-02-21 05:19:34 -0500] brucelee_: coderanger: would be helpful if you could post it again... need some references
[2014-02-21 05:19:38 -0500] brucelee_: :P
[2014-02-21 05:19:55 -0500] coderanger: on my tablet right now, but search for balanced-infra
[2014-02-21 05:20:04 -0500] coderanger: it is on our github
[2014-02-21 05:20:05 -0500] brucelee_: coderanger: nice thanks
[2014-02-21 05:21:26 -0500] brucelee_: coderanger: what about within the actual instance, and mounting EBSs or instance stores?
[2014-02-21 05:21:36 -0500] brucelee_: do you just use a mount recipe?
[2014-02-21 05:22:02 -0500] coderanger: I don't have anything that needs that yet
[2014-02-21 05:22:19 -0500] coderanger: db servers haven't been converted to the new system yet
[2014-02-21 05:22:40 -0500] brucelee_: so your cloudformation creates new instances with partitions that are ready to go?
[2014-02-21 05:22:59 -0500] brucelee_: pretty much everything on the root partition?
[2014-02-21 05:23:25 -0500] brucelee_: i was thinking about that, but eventually space will run out
[2014-02-21 05:23:30 -0500] brucelee_: and i will have to scale vertically by adding EBS
[2014-02-21 05:23:36 -0500] coderanger: brucelee_: for non db severs, yes
[2014-02-21 05:23:55 -0500] coderanger: API machines are 100% ephemeral
[2014-02-21 05:24:14 -0500] coderanger: and that's the bulk of what I deal with
[2014-02-21 05:24:43 -0500] brucelee_: so hypothetically, if you were tasked with setting up a balanced DB instance now :)
[2014-02-21 05:24:52 -0500] geggam: opscode unbuntu package makes the manager complain cause opscode didnt sign package properly
[2014-02-21 05:24:55 -0500] geggam: :)
[2014-02-21 05:25:07 -0500] brucelee_: how would you go about doing it ... would you create a small root ebs, and create another LVM partition
[2014-02-21 05:25:11 -0500] coderanger: cfn to manage the volumes! chef recipe to attach them
[2014-02-21 05:25:14 -0500] brucelee_: just so you can increase space later on without having downtime?
[2014-02-21 05:25:32 -0500] coderanger: lol random exclAmaion point
[2014-02-21 05:25:44 -0500] coderanger: got to love this software keyboard
[2014-02-21 05:26:01 -0500] brucelee_: cfn to manage the volumes, lets say you have 1 ebs root partition, and another one that you want to mount to /data
[2014-02-21 05:26:10 -0500] coderanger: geggam: apt doesn't normally sign packages at all
[2014-02-21 05:26:22 -0500] coderanger: geggam: you just sign the repo metadata
[2014-02-21 05:26:29 -0500] brucelee_: is there a mount cookbook or something that can take care of that
[2014-02-21 05:26:40 -0500] geggam: i know coderanger ... i think its funny.... i recently moved all of my linux machines to slack from debian coderanger
[2014-02-21 05:26:54 -0500] geggam: i have an aversion to systemd :)
[2014-02-21 05:26:54 -0500] coderanger: brucelee_: no idea, I would probably check the community sige
[2014-02-21 05:27:19 -0500] coderanger: geggam: there will be no escape
[2014-02-21 05:27:29 -0500] coderanger: okay, I'm off for a bit
[2014-02-21 05:28:11 -0500] brucelee_: coderanger: the workflow goes, fdisk -l to see what disks are present. then out of all the disks that are present thats not already used for root partition, out of the remainer, one by one, add them through LVM, and present LVs off the VG
[2014-02-21 05:28:39 -0500] brucelee_: :O
[2014-02-21 05:28:59 -0500] geggam: sure there is coderanger .. i still have openbsd or ill fork my own linux :)
[2014-02-21 05:48:27 -0500] geggam: the most annoying part of the dots thing is my knife show works
[2014-02-21 06:11:24 -0500] enbergj: how would I check the last successful client execution time on a node, like on the status page? should I look at ohai_time, or something else?
[2014-02-21 06:24:35 -0500] ignatz: last checkin?
[2014-02-21 06:26:25 -0500] enbergj: .. last *successful* run .. e.g. if I have a broken recipe, the status page can show the affected nodes
[2014-02-21 06:26:39 -0500] enbergj: and yes, in the "last check-in" column
[2014-02-21 08:32:51 -0500] bloomark: Is this a good place to ask questions about kitchen and minitest?
[2014-02-21 09:29:38 -0500] Pensu_: Hi all, I have a doubt regarding chef.....I am getting the following error.....
[2014-02-21 09:30:01 -0500] Pensu_: Compiling Cookbooks... Recipe Compile Error   Chef::Exceptions::RecipeNotFound  could not find recipe version for cookbook osops-utils
[2014-02-21 09:30:10 -0500] Pensu_: But the recipe is available at chef-server.....
[2014-02-21 09:30:18 -0500] Pensu_: then why can't chef-client find it???
[2014-02-21 09:33:43 -0500] Scroff: what do you have in the run list?
[2014-02-21 09:36:12 -0500] Pensu_: ospos-utils is there in the run list.....
[2014-02-21 09:38:58 -0500] Scroff: Is it this: https://github.com/rcbops-cookbooks/osops-utils ?
[2014-02-21 09:39:21 -0500] Scroff: I may be wrong, but you may need to specify a recipe
[2014-02-21 09:39:44 -0500] Scroff: eg osops-utils::autoetchosts
[2014-02-21 09:39:57 -0500] Pensu_: yup, that's the one.....
[2014-02-21 09:43:45 -0500] Pensu_: I have specified recipe namely, and they are present on server but it's still not working.....let me try by uploading the cookbook again...
[2014-02-21 11:40:16 -0500] zeroXten: is it possible to still use standard chef resources inside a ruby_block block?
[2014-02-21 11:40:48 -0500] zeroXten: and what is the best way of passing around data obtained in a ruby_block to chef resources?
[2014-02-21 11:41:55 -0500] yatesy: I gotta say, having an enforced default in the chef-client cookbook forcing the log directory to be 0750 root:root seems a bit daft since one should really not need super user access to view the chef log file
[2014-02-21 11:42:20 -0500] lawnchair: excellent use of 'daft'
[2014-02-21 11:42:38 -0500] zeroXten: one should certainly need super user access becuase the log can contain sensitive ifno
[2014-02-21 11:42:44 -0500] zeroXten: info even
[2014-02-21 11:43:02 -0500] zeroXten: like passwords
[2014-02-21 11:43:05 -0500] yatesy: that's why the adm group exists
[2014-02-21 11:43:22 -0500] yatesy: certainly agree it shouldn't be world readable
[2014-02-21 11:43:29 -0500] zeroXten: ah ok, fair enough
[2014-02-21 11:43:41 -0500] zeroXten: i certainly agree :)
[2014-02-21 11:52:54 -0500] jpluscplusm: hey all - having a brain fart: what's the package (specfically apt_package) resource's policy on Suggests and Recommends?
[2014-02-21 11:53:04 -0500] jpluscplusm: and how do I control it?
[2014-02-21 11:53:19 -0500] jpluscplusm: docs don't seem to talk about it at all ...
[2014-02-21 12:08:04 -0500] dawuud: yo
[2014-02-21 12:08:28 -0500] dawuud: i noticed this channel is really not active in the daytime (europa time)
[2014-02-21 12:08:43 -0500] jpluscplusm: seemingly so :-)
[2014-02-21 12:10:22 -0500] dawuud: i moved to berlin... and started using chef again ;-)
[2014-02-21 12:14:14 -0500] jpluscplusm: surely just a co-incidence ... ;-)
[2014-02-21 12:22:45 -0500] zeroXten: can one still use node.run_state in chef 11 for storing data between resources?
[2014-02-21 13:49:27 -0500] andymccr: can anybody tell me how to override fauxhai attributes properly? looking at the docs i should do a Fauxhai.mock(platformdetails) do |node| and then specify the node attribute. but thats not really working for me!
[2014-02-21 13:49:53 -0500] andymccr: so im probably doing it wrong, but ive tried various things and can't get it to work for my test: https://gist.github.com/andymcc/9134516
[2014-02-21 14:16:10 -0500] juliancdunn: what about just node.automatic['something'] = 'foo'
[2014-02-21 14:31:43 -0500] zeroXten: hi. I've got a ruby_block followed by a file inside an LWRP action. The file runs but doesn't notify the ruby_block. Any hints?
[2014-02-21 14:34:23 -0500] jbz: zeroXten: Are you using Chef 11?  If so, are you using use_inline_resources?  (ref. http://docs.opscode.com/lwrp_custom_provider.html#use-inline-resources)
[2014-02-21 14:38:26 -0500] zeroXten: hmm
[2014-02-21 14:40:05 -0500] zeroXten: jbz: isn't that for notifying a top-level resource?
[2014-02-21 14:40:42 -0500] zeroXten: i'm using it, but it doesn't make a difference
[2014-02-21 14:42:03 -0500] jbz: zeroXten: That's one of the problems it addressesI have found it generally makes things more predictable, so it was more of a 'have you tried' suggestion.  And you did, soheh.
[2014-02-21 14:42:42 -0500] zeroXten: hehe
[2014-02-21 14:42:44 -0500] zeroXten: hmm
[2014-02-21 14:44:55 -0500] jbz: Stupid q, but are you notifying :immediately?
[2014-02-21 14:49:24 -0500] jharley: I'm being burned by OHAI-389 (stale hostname/fqdn even forcing an ohai reload).  I'm wondering how people get around this issue without doing two chef runs?  Maintain a 'shadow attribute' (e.g. 'node[set_hostname]'), or shell out to the hostname utility in the recipe?
[2014-02-21 14:50:21 -0500] zeroXten: jbz: yeah :(
[2014-02-21 14:51:49 -0500] andymccr: juliancdunn: thanks! that works
[2014-02-21 15:04:23 -0500] Nick___: Hi there, I strated to see the version number extended to cookbook name when I download them
[2014-02-21 15:04:31 -0500] Nick___: not sure why
[2014-02-21 15:05:55 -0500] Nick___: if anyone can point me...real issue I have is ..I can't see the changes to file while uploading cookbooks
[2014-02-21 15:06:40 -0500] Nick___: when I download it back..the file show up is still old
[2014-02-21 15:11:18 -0500] rep0st: ohai guiz. Does anybody have any opinions on using a template resource with an attribute set to 'local true'
[2014-02-21 15:37:39 -0500] zeroXten: jbz: hmm, if I just let my actions run, my lwrp works perfectly. I just need the notify to work now ;(
[2014-02-21 15:37:51 -0500] jbz: zeroXten: blah
[2014-02-21 15:38:01 -0500] drywheat: i plan on provisioning my EC2 servers using Chef but I also want to enable our dev team with the ability to deploy using Capistrano
[2014-02-21 15:39:22 -0500] drywheat: the thought of using both Chef and Capistrano to deploy the app is somewhat desirable since it represents to code pathways to the same ene
[2014-02-21 15:40:00 -0500] drywheat: so, my thought was to have a chef deploy recipe leverage my capistrano script(s) on the first run
[2014-02-21 15:40:15 -0500] drywheat: as opposed to using Chef's native "deploy" resource
[2014-02-21 15:40:18 -0500] drywheat: any thoughts?
[2014-02-21 15:40:55 -0500] jbz: drywheat: I'd first at least check to see ifthe deploy resource is close enough to a Cap deploy to avoid having chef ever have to use multiple methods
[2014-02-21 15:41:14 -0500] jbz: if the deploy resource triggers on the revision number, shouldn't step on each other
[2014-02-21 15:41:49 -0500] jbz: Alternately, just find a way to let devs trigger a chef run if you need it to respond faster than your chef client interval
[2014-02-21 15:41:56 -0500] mattupstate: drywheat: you might want to consider simply running the cap deploy after provisioning, like you normally would
[2014-02-21 15:42:14 -0500] mattupstate: write a script to enable that, instead of writing all the chef code for something that will happen but once?
[2014-02-21 15:45:53 -0500] drywheat: mattupstate: i thought of that approach but i hit a snag when i started to think about setting up unicorn and monit
[2014-02-21 15:47:00 -0500] drywheat: i think that would might require 2 chef runs: (1) chef run prepares the machine w/o deploy, unicorn and monit config for app, (2) kick off deploy, (3) execute 2nd chef run that notices the app is installed and now configure unicorn and monitoring
[2014-02-21 15:47:20 -0500] drywheat: it seems like maybe there's a better way
[2014-02-21 15:49:21 -0500] mattupstate: drywheat: gotcha
[2014-02-21 15:49:55 -0500] mattupstate: you dont monit noticing that time between?
[2014-02-21 15:49:59 -0500] mattupstate: *don't want
[2014-02-21 15:50:26 -0500] drywheat: no, it will notice that the proc is not running and start alerting
[2014-02-21 15:51:23 -0500] drywheat: i think it's a good suggestion and it heads in the right direction, but something needs tweaking
[2014-02-21 15:51:30 -0500] mattupstate: so then you need to write a recipe to grab the capfile and run it against localhost?
[2014-02-21 15:52:21 -0500] drywheat: yeah, that's what i was thinking. instead of using the "deploy" resource have the install script pull the cap stuff from a remote,secure repo
[2014-02-21 15:52:44 -0500] mattupstate: the deploy resource is basically a wrapper around the git resource
[2014-02-21 15:52:54 -0500] mattupstate: that gives you some lifecycle callbacks
[2014-02-21 15:53:06 -0500] mattupstate: before, after type stuff
[2014-02-21 15:53:08 -0500] drywheat: right the capistrano script to use either Chef search or the localhost when flagged (i.e. "-s ...")
[2014-02-21 15:53:09 -0500] Guest73622: does chef has some sort of temp memory to store dynamically generated file ?
[2014-02-21 15:54:35 -0500] drywheat: yeah, i think for our case, i see the deploy taking place once during the initial provisioning and then it short circuits thereafter
[2014-02-21 15:55:07 -0500] mattupstate: you could simply use a tag to conditionally do that
[2014-02-21 15:58:19 -0500] jharley:  Guest73622: most cookbooks tend to use Chef::Config[:file_cache_path].. depending on what this dynamically generated file is that might be alright for you?
[2014-02-21 15:59:52 -0500] jharley: Guest73622: (now without the formatting error), for example you could make use of the 'file' resource and populate it with the 'content' attribute, and store the file in 'file_cache_path', pulling it into other resources as needed
[2014-02-21 16:00:55 -0500] drywheat: either a tag or a system check for the directory or what have you
[2014-02-21 16:01:15 -0500] drywheat: like, if directory and other stuffs here, then do nothing, otherwise execute deploy routine
[2014-02-21 16:02:38 -0500] Guest73622: so the dynamic files are static assets, and are not part of the released cookbooks.
[2014-02-21 16:03:14 -0500] Guest73622: meaning I could use create a box to generate those files and point the cookbooks to get the files from there
[2014-02-21 16:03:34 -0500] Guest73622: but I was wondering if chef has mechanism that can store those files.
[2014-02-21 16:04:11 -0500] jharley: Guest73622: well, they can be.. what do you mean by 'dynamic files'?
[2014-02-21 16:04:28 -0500] iroller: Hi. I'm using test-kitchen and adding sample data bags to cookbook/test/fixtures/data_bags so kitchen uploads it for me. Is there a way to use those cookbooks within my integration tests? Something like DataBagItem.load() inside my test?
[2014-02-21 16:04:29 -0500] jharley: Guest73622: there's the 'remote_file' resource which lets you grab a file from across a network (for example)
[2014-02-21 16:04:55 -0500] iroller: err not cookbooks but data nags
[2014-02-21 16:05:30 -0500] Guest73622: jharley each time we deploy, we generate locally the static assets and then push those to each box using fabric.
[2014-02-21 16:06:14 -0500] jharley: Guest73622: neat.  do the assets change or something?
[2014-02-21 16:06:47 -0500] kulty: morning #chef
[2014-02-21 16:07:27 -0500] Guest73622: jharley but by using the remote_file I'll have to get another box to point it to. So my thought was to create a recipe that create those files then store it in chef memory (if such exist)
[2014-02-21 16:07:48 -0500] Guest73622: yes they are changing often.
[2014-02-21 16:09:19 -0500] jharley: Guest73622: if I understand your problem, I'd create a recipe that generates the files in a known location (you can use the cache dir if you like) and then have it notify a resource which calls your fabric job
[2014-02-21 16:10:17 -0500] jharley: Guest73622: Chef doesn't provide a dynamic file share from what I've seen of it, but doing things that way during your deploy -- using notifiers or subscribers -- you likely can get the event chain that you want without needing to publish files into a shared system of some sort
[2014-02-21 16:13:32 -0500] Guest73622: Thanks jharley, that cache dir does it come free when configuring chef server or do I need a box to point it to?
[2014-02-21 16:13:55 -0500] jharley: Guest73622: the cache dir is on the node being converged
[2014-02-21 16:14:02 -0500] jharley: Guest73622: so each node will have a different cache
[2014-02-21 16:14:49 -0500] jharley: Guest73622: chef server helps you share cookbooks and attributes, but not binary assets like artifactory or some such system
[2014-02-21 16:15:22 -0500] Guest73622: ah i see, cool thanks for the help.
[2014-02-21 16:17:39 -0500] jharley: Guest73622: no problem
[2014-02-21 16:34:36 -0500] kbarry: How are people handling the use of the IIS cookbook which is not fully idempotent?
[2014-02-21 16:36:30 -0500] rt72: did you ever seen this error on windows ystem Error Message: No mapping between account names and security IDs was done.
[2014-02-21 16:36:36 -0500] rt72: error 1332
[2014-02-21 16:37:07 -0500] rt72: it happens when a recipe tries to create a directory
[2014-02-21 16:54:07 -0500] dawuud: not like opscode users cookbook; alternatives?
[2014-02-21 16:57:54 -0500] GreatSUN: rehi
[2014-02-21 17:09:46 -0500] jtimberman: dawuud: there's a 'user' cookbook on the community site, and a 'generic-users' iirc, maybe one of those? Or, write your own and borrow liberally from the others.
[2014-02-21 17:14:03 -0500] dawuud: jtimberman: thanks i'll take a look. perhaps it won't matter much since i only have 100 servers at my command right now...
[2014-02-21 17:23:24 -0500] jidar: I use the user one
[2014-02-21 17:24:00 -0500] jidar: user : maintainer       "Fletcher Nichol"
[2014-02-21 17:24:18 -0500] jidar: and I like it pretty nice because you can use databags, and toss in the ssh keys
[2014-02-21 17:30:09 -0500] geggam: so i have a databag... i want to dump all of the values into a file... iterating over a template instead of making a giant template... anyone have examples of this ?
[2014-02-21 17:45:46 -0500] Nick___: just a reply to my question for issue with cookbook update..all is good. I didn't pay attention to "cookbook" parameter in knife.rb
[2014-02-21 17:46:03 -0500] Nick___: sorry! newbie
[2014-02-21 17:49:54 -0500] hasues: If I issue a ceph-deploy new <node>, can I undo that command by issuing ceph-deploy purgedata <node>?
[2014-02-21 17:51:34 -0500] kbarry: So, I am using a script block, and need to use attributes inside of it.
[2014-02-21 17:51:49 -0500] kbarry: I have never used attributed before. The attributes i have defined at the environment level.
[2014-02-21 17:52:04 -0500] kbarry: I am using a heredoc
[2014-02-21 17:52:17 -0500] hasues: oops. I posted that in the wrong channel
[2014-02-21 17:52:21 -0500] kbarry: how do I properly reference the attribute so it "populates"?
[2014-02-21 17:52:24 -0500] troyready: kbarry, I think you can do something like #{node['myattribute']) in the script resource to do that
[2014-02-21 17:52:40 -0500] cwj: kbarry: yeah use string interpolation like troyready suggested
[2014-02-21 17:52:44 -0500] therealtimsmith: any chef employees know if chef-server tickets get looked at during the standard chef code review?
[2014-02-21 17:59:11 -0500] kbarry: http://pastebin.com/dThiVgdT
[2014-02-21 17:59:46 -0500] jharley: kbarry: you need the '#{' in front of node
[2014-02-21 17:59:53 -0500] kbarry: ok lemme try
[2014-02-21 17:59:59 -0500] kbarry: standby
[2014-02-21 18:00:07 -0500] jharley: kbarry: be sure to put the closing '}' at the end
[2014-02-21 18:00:49 -0500] jharley: kbarry: "#{node['iis']['subdomain']}domain.com"
[2014-02-21 18:03:26 -0500] kbarry: testing now :)
[2014-02-21 18:03:36 -0500] kbarry: This is going to Change My Life 
[2014-02-21 18:04:23 -0500] pcort: I'm getting an issue with uploading a cookbook to my centos chef server. the error is "failed to upload" and 400 "Bad Request" Error: The data in your request was invalid
[2014-02-21 18:04:45 -0500] pcort: the error is moving part of the cookbook to the bookshelf directory on the centos server
[2014-02-21 18:05:58 -0500] pcort: it happens with any cookbook I try and upload, even one that I created using knife
[2014-02-21 18:06:54 -0500] kbarry: WOW, That is Awesome!
[2014-02-21 18:07:22 -0500] kbarry: I'm struggling with configuring IIS via chef, And haivng it be idempotent.
[2014-02-21 18:07:40 -0500] kbarry: the iis cookbook seems to lack full idempotence.
[2014-02-21 18:08:52 -0500] dylannorthrup: anyone tried to use chef to do a bundle install of gems specified in a Gemfile using RVM?
[2014-02-21 18:10:02 -0500] dylannorthrup: haven't found anything to do a bundle install via chef, even without the complication of RVM. . . would hate to shell out to do all this whackiness
[2014-02-21 18:30:57 -0500] dawuud: weird... i noticed that i can edit a node's runlist but it still is loading an older cookbook name into the run list
[2014-02-21 18:31:22 -0500] dawuud: i have since removed the cookbook from my chef server and uploaded a new version with a different name
[2014-02-21 18:31:47 -0500] dawuud: wtf; how can i make sure a node's runlist is bullshit free?
[2014-02-21 18:36:22 -0500] dawuud: Synchronizing Cookbooks means all of the things even if you do not want
[2014-02-21 18:37:20 -0500] frick_: Dependencies... check the metadata of all the cookbooks you do want, one of them is depending on the one(s) you don't.
[2014-02-21 18:38:39 -0500] kbarry: so i'm a little familiar with the use of  cases, . Is it possible to use a case when [a certain recipe/role is also being applied to the said node]?
[2014-02-21 18:39:22 -0500] kbarry: or better yet, is it possible to see/view all the attributes for a node?
[2014-02-21 18:48:59 -0500] jharley: kbarry: you can run 'ohai' on the node to get a list of the automatic attributes passed into chef at the start of the run (this is what most case statements do)
[2014-02-21 18:49:11 -0500] shlant: can someone explain to me the purpose of using ohai "reload"?
[2014-02-21 18:49:17 -0500] shlant: what use case?
[2014-02-21 18:49:40 -0500] jharley: shlant: you'd do it if you did something in a recipe to change an automatic attribute
[2014-02-21 18:49:54 -0500] kbarry: jharley: is that part of knife, of do i have to execute "ohia" from the box locally?
[2014-02-21 18:49:56 -0500] jharley: shlant: but, it's kinda broken at the moment from what I can tell (OHAI-389)
[2014-02-21 18:50:50 -0500] jharley: kbarry: ohai is a utility developed by the chef folks to provide automatic attributes to chef.  You likely have it on your workstation also
[2014-02-21 18:51:54 -0500] viglesia1: in a ruby block what does it mean for something to subscribe to a create? the example i am looking at is the bittorrent one at the bottom of this page:
[2014-02-21 18:51:58 -0500] viglesia1: http://docs.opscode.com/resource_ruby_block.html
[2014-02-21 18:52:22 -0500] jharley: viglesia1: subscribe is notifies complement
[2014-02-21 18:52:37 -0500] jharley: viglesia1: instead of pushing a notice, you listen for a notice
[2014-02-21 18:52:41 -0500] viglesia1: jharley: ah, ack
[2014-02-21 18:52:55 -0500] viglesia1: so in that case its subscribing to the creation of a recipe?
[2014-02-21 18:53:09 -0500] viglesia1: im not understanding the syntax after :create,
[2014-02-21 18:53:21 -0500] jharley: viglesia1: you're subscribing to the create action
[2014-02-21 18:53:35 -0500] jharley: viglesia1: you can subscribe to any action the resource supports
[2014-02-21 18:54:09 -0500] viglesia1: ah okay, so i see that a ruby_block only has a create action, but then its overriden to :nothing and then subscribed
[2014-02-21 18:54:31 -0500] viglesia1: im having a little trouble formulating that use case in my head
[2014-02-21 18:54:35 -0500] viglesia1: thanks btw jharley
[2014-02-21 18:55:21 -0500] viglesia1: i probably just need to read up on notify/subscribes at this point
[2014-02-21 18:55:23 -0500] jharley: viglesia1: the pattern of setting a resource's default action to 'nothing' makes that resource not do anything unless an other resource tells it to
[2014-02-21 18:55:35 -0500] viglesia1: jharley: ahhh until its notified
[2014-02-21 18:55:40 -0500] jharley: you got it
[2014-02-21 18:55:40 -0500] viglesia1: and then it will do the create
[2014-02-21 18:55:43 -0500] viglesia1: bingo
[2014-02-21 18:55:45 -0500] viglesia1: that was the gap
[2014-02-21 18:55:54 -0500] jharley: powerful construct
[2014-02-21 18:56:00 -0500] viglesia1: fukn a
[2014-02-21 18:56:03 -0500] viglesia1: its what i need
[2014-02-21 18:56:23 -0500] viglesia1: powerful but i bet it can get hairy when not coded properly
[2014-02-21 18:56:31 -0500] viglesia1: thank god for instances
[2014-02-21 18:57:33 -0500] kbarry: jharley: how might I reference a set of attributes depending on the role(s) the node has?
[2014-02-21 18:58:26 -0500] kbarry: like a recipe might say #{node[serverflavor]}
[2014-02-21 18:58:52 -0500] kbarry: with the definition of that being determined by something like (in another language)
[2014-02-21 18:59:28 -0500] kbarry: if the node this recipe is being applied to ALSO has the role......
[2014-02-21 18:59:35 -0500] kbarry: Wait, i guess i can set it in the role :)
[2014-02-21 18:59:50 -0500] kbarry: Have a "role" per flavor of server
[2014-02-21 19:00:01 -0500] kbarry: and have the role have attributes on it?
[2014-02-21 19:00:02 -0500] jharley: kbarry: sure, you can use role specific attributes and act on them accordingly, or just include them
[2014-02-21 19:00:56 -0500] kbarry: We have a tendency (for better or worse) to make a single recipe to cover EVERYTHING that is identicle betwen more than one end-configuration
[2014-02-21 19:00:56 -0500] ggolin: guys is it possible to deploy a branch that has been pushed to origin using the application cb? getting a ref is not a tree error since master has not been pushed to.
[2014-02-21 19:02:19 -0500] kbarry: so, we have a recipe that does everything thats "the same" no matter the environment, with attributes to make the minor adjustments
[2014-02-21 19:02:35 -0500] kbarry: (like what is its dns, gateways, that kind of stuff)
[2014-02-21 19:02:43 -0500] jharley: kbarry: you got it
[2014-02-21 19:02:59 -0500] kbarry: then we have recipes for (Webserver) as opposed to (Database Servers)
[2014-02-21 19:03:05 -0500] kbarry: Ok
[2014-02-21 19:03:21 -0500] kbarry: Lightning struck my brain.
[2014-02-21 19:03:36 -0500] jharley: kbarry: attributes have a precedence model that made me favour chef over puppet in the end
[2014-02-21 19:03:52 -0500] kbarry: Yeah, at first the precidence model didnt make any sense,
[2014-02-21 19:03:59 -0500] kbarry: but now that i have the picture and have played with their use
[2014-02-21 19:04:06 -0500] kbarry: it makes an aweful lot os sense,
[2014-02-21 19:04:20 -0500] kbarry: still confused by the diff between defaults, and forced defaults :)
[2014-02-21 19:13:22 -0500] viglesia1: is it accurate that using a recipe/role that creates a data bag and is deployed by knife is not supported?
[2014-02-21 19:13:49 -0500] viglesia1: i am getting 403 unauthorized errors, in the doc it mentions needing to make the client an admin but i dont believe knife can do that at run time
[2014-02-21 19:14:18 -0500] stryek: We are having trouble using the aws_s3_file resource from aws cookbook.  we receive an error stating "No resource or method named 'aws_s3_file' for Chef::Recipe default
[2014-02-21 19:16:02 -0500] jharley: viglesia1: I'm pretty sure that recipes should not (and possibly cannot) create data bags.. the idea is that data bags make recipes more generic
[2014-02-21 19:16:30 -0500] viglesia1: jharley: ack, my issue is that eucalyptus generates certs at install time that need to be synced to other boxen in the deployment
[2014-02-21 19:16:58 -0500] viglesia1: right now my cookbook requires ssh keys to be synced prior to run between the boxes, which i really dont like
[2014-02-21 19:17:29 -0500] viglesia1: any ideas on how to get files from one box to another?
[2014-02-21 19:17:53 -0500] viglesia1: i was thinking of using the databag to have a shared/encrypted key store for the components
[2014-02-21 19:18:08 -0500] viglesia1: but with knife (and motherbrain) this seems to be out of scope
[2014-02-21 19:18:47 -0500] jharley: viglesia1: I've not done it, but I've seen the ceph cookbook do something similar I think?  there's a call to 'node.save' going on which seems to maybe be the path you want to take
[2014-02-21 19:19:03 -0500] awc737: My chef provision isn't installing a single thing. All cookbooks are downloading...
[2014-02-21 19:19:04 -0500] awc737: https://gist.github.com/awc737/9141283
[2014-02-21 19:19:08 -0500] viglesia1: jharley: ack thanks for the pointer ill check out that cookbook
[2014-02-21 19:19:21 -0500] awc737: I'm not sure if my-cookbook's default.rb is being called?
[2014-02-21 19:20:19 -0500] jharley: awc737: what's your run_list?
[2014-02-21 19:24:30 -0500] viglesia1: jharley: you are the shiz, i think this is what i need
[2014-02-21 19:24:51 -0500] awc737: jharley didnt have one...
[2014-02-21 19:24:58 -0500] jharley: awc737: that'll do it
[2014-02-21 19:26:00 -0500] awc737: is run_list a newish thing? Dont remember needing it before
[2014-02-21 19:26:06 -0500] jharley: awc737: run_list is a core thing
[2014-02-21 19:27:00 -0500] awc737: jharley wait, I do have a run list
[2014-02-21 19:27:05 -0500] awc737: chef.add_recipe "apache"
[2014-02-21 19:27:10 -0500] awc737: I have all my recipes like that in Vagrantifle
[2014-02-21 19:27:49 -0500] jharley: do you have one for 'my-cookbook' then?
[2014-02-21 19:28:03 -0500] jharley: you said that 'my-cookbook::default' didn't get run
[2014-02-21 19:28:04 -0500] awc737: well it's chef.add_recipe "precise64-lamp"
[2014-02-21 19:28:40 -0500] awc737: I put the default.rb for that cookbook in the gist https://gist.github.com/awc737/9141283
[2014-02-21 19:29:18 -0500] awc737: I'm not sure if having all the other cookbooks as a dependency of my cookbook makes a difference
[2014-02-21 19:29:23 -0500] jharley: awc737: can you share the log of the chef provisioner run with you up or provision the vagrant box
[2014-02-21 19:29:33 -0500] awc737: my Berksfile only calls precise64-lamp, and that cookbook has lots of cookbooks
[2014-02-21 19:29:52 -0500] awc737: sure
[2014-02-21 19:30:11 -0500] awc737: http://pastie.org/8756388
[2014-02-21 19:33:22 -0500] jharley: awc737: I think you're possibly overriding the run_list by declaring 'chef.json' like that?
[2014-02-21 19:33:27 -0500] jharley: awc737: try changing the order?
[2014-02-21 19:33:43 -0500] awc737: good guess, thanks
[2014-02-21 19:35:21 -0500] jharley: awc737: also, you can likely remove all the dependant cookbooks' "add_recipe" entries, as berkshelf is resolving them so chef-solo should also
[2014-02-21 19:35:32 -0500] jharley: awc737: I've got to take off.  Good luck
[2014-02-21 19:35:38 -0500] awc737: I see, cool thanks
[2014-02-21 19:37:28 -0500] awc737: damn still nothing
[2014-02-21 19:37:59 -0500] nshbrown: hey
[2014-02-21 19:38:56 -0500] awc737: hi
[2014-02-21 19:39:26 -0500] nshbrown: how goes it awc
[2014-02-21 19:40:33 -0500] awc737: vagrant plugin install vagrant-omnibus < maybe was it?
[2014-02-21 19:41:04 -0500] nshbrown: somewhat strange q.. I got a hard drive that I wiped, but set a password on it somehow.. I forgot the password. any ideas how I can reformat it fresh? so it doesn't prompt for a pw?
[2014-02-21 19:41:35 -0500] lietu: depends on how the password is set
[2014-02-21 19:42:03 -0500] lietu: normally you just boot into a livecd with parted magic or similar and delete the partitions and create new ones as you wish
[2014-02-21 19:45:37 -0500] CPS: i've got a situation where a cookbook's templates will change frequently and different environments might need different versions of the template. is there a way to handle this in chef?
[2014-02-21 19:45:52 -0500] ggolin: yes
[2014-02-21 19:46:08 -0500] ggolin: read up about templates precedence
[2014-02-21 19:48:03 -0500] CPS: where is there documentation on that?
[2014-02-21 19:51:51 -0500] ggolin: docs.opscode.com
[2014-02-21 20:08:05 -0500] btm: Surprise Chef Code Review: Join: bit.ly/1dbCOTw watch: bit.ly/1dbCRyE
[2014-02-21 20:17:12 -0500] tscanausa: is there a way to bail out of a ruby block early?
[2014-02-21 20:17:22 -0500] pwelch: Hey everyone. Does anyone know if it is possible to use the "subscribe" attribute on an LWRP
[2014-02-21 20:18:57 -0500] ggolin: tscanausa, a shot in the dark, but try return?
[2014-02-21 20:20:01 -0500] tscanausa: ggolin: it throws an error for an unexpected return
[2014-02-21 20:20:20 -0500] ggolin: ah
[2014-02-21 20:20:24 -0500] ggolin: sorry :)
[2014-02-21 20:33:16 -0500] teukka: tscanausa: `break`
[2014-02-21 20:34:54 -0500] gzilla_: anyone here good with graphite?
[2014-02-21 20:35:45 -0500] tscanausa: gzilla: I have used it alot whats up?
[2014-02-21 20:35:53 -0500] tscanausa: teukka: thanks
[2014-02-21 20:36:40 -0500] gzilla_: tscanausa: i have it running, carbon listening, but I cant get chef run data in it
[2014-02-21 20:37:23 -0500] j^2: btm: thanks for the review on CHEF-5029
[2014-02-21 20:38:00 -0500] j^2: btm i'm still trying to parse the unit test bit, but i'll figure it out :)
[2014-02-21 20:38:08 -0500] gzilla_: tscanausa:  im using basically this :  https://github.com/kkenny/chef-handler-cookbook
[2014-02-21 20:38:16 -0500] gzilla_: I just updated the server and port
[2014-02-21 20:38:24 -0500] gzilla_: and of course set metrics to 1
[2014-02-21 20:39:46 -0500] CPS: is there a way to use template files external to the cookbook?
[2014-02-21 20:42:39 -0500] tscanausa: gzilla: have you added chef_handler::graphite to your run list?
[2014-02-21 20:44:14 -0500] gzilla_: yes.  the cookbook runs, but nothing happens aside from it writing the handlers to /var/chef/handlers
[2014-02-21 20:45:18 -0500] tscanausa: if you run it by hand do you get the output about logging to graphite?
[2014-02-21 20:45:36 -0500] gzilla_: run what, chef-client?
[2014-02-21 20:46:22 -0500] tscanausa: yes
[2014-02-21 20:46:50 -0500] gzilla_: no.  I just get output that the chef-handlers::default recipe ran (its an include on the graphite) but thats it
[2014-02-21 20:47:45 -0500] tscanausa: my guess would be the node attributes are not set right. if you wanted to gist them I am happy to look
[2014-02-21 20:48:22 -0500] gzilla_: I would.  I thought there was only 1 :)
[2014-02-21 20:49:57 -0500] Guest21723: CPS: you can use something like chef-rewind
[2014-02-21 20:51:45 -0500] CPS: what i'm going for is to pull erb files from another location (svn, maybe) and use those as cookbook templates
[2014-02-21 20:52:32 -0500] gzilla_: tscanausa:  https://gist.github.com/anonymous/9143236
[2014-02-21 20:53:35 -0500] tscanausa: gzilla: you also need node[:graphite][:vip]
[2014-02-21 20:53:46 -0500] tscanausa: https://github.com/kkenny/chef-handler-cookbook/blob/c92723b40f9a76c864595fd65d5cf6fe3ea70e02/recipes/graphite.rb#L11
[2014-02-21 20:54:58 -0500] jbell05: Okay so there's maybe no one on #learnchef to answer me...
[2014-02-21 20:55:01 -0500] jbell05: so here goes...
[2014-02-21 20:55:10 -0500] jbell05: I'm trying to set up an auto-clustering NTP recipe.
[2014-02-21 20:55:40 -0500] jbell05: I'm using the community NTP cookbook, so I've written another (Small) recipe that configures the node's defaults in order for the community cookbook to do its work...
[2014-02-21 20:55:51 -0500] jbell05: I'm nearly there...
[2014-02-21 20:56:00 -0500] gzilla_: ahh yeah, I put that in statically as a test, but I'll put it back and add the attribute
[2014-02-21 20:56:15 -0500] jbell05: the question I have: how can I extract data out of the results of a search for nodes...
[2014-02-21 20:56:31 -0500] jbell05: The recipe auto-tags nodes with that recipe...
[2014-02-21 20:56:39 -0500] jbell05: so in theory, all nodes that have the same tag, should be peers...
[2014-02-21 20:56:41 -0500] jbell05: this works...
[2014-02-21 20:56:42 -0500] jbell05: taggedPeers = search(:node, "tags:#{peersTag}")
[2014-02-21 20:57:03 -0500] jbell05: but, returns the whole node.  All attributes are useful, but at the moment, I'm only really concerned with IP.
[2014-02-21 20:57:21 -0500] tscanausa: jbell05: use partial search
[2014-02-21 20:57:21 -0500] jbell05: and I can't figure out how to extract the individual attributes out of the node objects...
[2014-02-21 20:57:29 -0500] jbell05: Is there no other way?
[2014-02-21 20:57:59 -0500] jbell05: I just didn't want to have to pull in another cookbook is all (I'm being lazy)... but if that is the only way, or the commonly accepted way, that's what I'll do...
[2014-02-21 20:58:26 -0500] tscanausa: jbell05: you could do something like seach().collect {|x| x["ipaddress"]}
[2014-02-21 20:58:27 -0500] btm: j^2: np. mostly you want to be able to test that the message you're going to print will really get data. You'll mock out server, and make sure in the sessions method you pass good data into the method for the error message. and then separately test that method to make sure it returns a string that contains the server data that you pass into it. when you're combined, you should be sure you won't lose that information in the future.
[2014-02-21 20:59:01 -0500] jbell05: The returned nodes -- are they just ruby hashes?
[2014-02-21 20:59:21 -0500] jbell05: @tcanausa also thank you.
[2014-02-21 20:59:33 -0500] tscanausa: jbell05: ah mostly kinda sorta
[2014-02-21 20:59:44 -0500] jbell05: LOL that's mostly kind sorta helpful
[2014-02-21 20:59:59 -0500] jbell05: Well let me look at what you've suggested and see if I can wrap my head around it.  Thanks again.
[2014-02-21 21:00:28 -0500] gzilla_: tscanausa, what is that value supposed to be, the hostname?  can you show me how you have that set in your node?
[2014-02-21 21:00:33 -0500] tscanausa: jbell05: it starts getting fun when you need to look at all the network interfaces and find the private one of 5 different cloud services
[2014-02-21 21:00:51 -0500] jbell05: Oh lovely.
[2014-02-21 21:01:05 -0500] jbell05: tscanausa: That's certainly more complicated than I need to deal with just yet LOL
[2014-02-21 21:01:35 -0500] tscanausa: gzilla: I dont actually use the library I am just a user of graphite
[2014-02-21 21:02:39 -0500] gzilla_: tscanausa:  gotcha.  I think I got it
[2014-02-21 21:02:52 -0500] anthroprose: gzilla: i just went through a week of chefserver hell that I just gave up on, so if you are still having issues early next week, I can feed you code
[2014-02-21 21:02:57 -0500] jbell05: tscanausa: It looks like partial_search is only on hosted enterprise chef?  We're using the free version right now... "currently available only on Opscode Hosted Chef" on http://community.opscode.com/cookbooks/partial_search
[2014-02-21 21:02:59 -0500] j^2: btm: :)
[2014-02-21 21:03:09 -0500] anthroprose: but the calls will most likely be using python via chef_handler as our shop is python
[2014-02-21 21:03:36 -0500] tscanausa: jbell05: I use it on my private chef server
[2014-02-21 21:03:57 -0500] jbell05: tscanausa: hmmmmm... Maybe I just need to DL the cookbook then...
[2014-02-21 21:05:01 -0500] tscanausa: jbell05: it is important to use when you get into the hundreds of nodes area. I think I read the etsy operators had issues with chef exploding using just search
[2014-02-21 21:05:14 -0500] jbell05: ah
[2014-02-21 21:05:21 -0500] jbell05: Makes sense.
[2014-02-21 21:06:03 -0500] btm: Cookbook Code Review: Join: bit.ly/1miOiea Watch: bit.ly/1miOkCP
[2014-02-21 21:06:14 -0500] tscanausa: jbell05: when you use search the whole node is returned I know my mongo servers now have close to 500 or 600  attributes
[2014-02-21 21:06:41 -0500] gzilla_: tscanausa: no difference.  got the vip attribute set, it still doesnt log anything different
[2014-02-21 21:06:43 -0500] jbell05: tscanausa: Wow yeah
[2014-02-21 21:07:14 -0500] tscanausa: gzilla: I am sorry I am all out of ideas
[2014-02-21 21:07:23 -0500] gzilla_: thanks, me too :)
[2014-02-21 21:08:28 -0500] jbell05: tscanausa: OKAY. I can see how partial search could be useful... I just did this: http://pastebin.com/2FL5zpES
[2014-02-21 21:08:28 -0500] gzilla_: im supposed to point it to the port that carbon is listening on, right?
[2014-02-21 21:08:36 -0500] jbell05: ... and the logs on my test servers exploded.
[2014-02-21 21:09:33 -0500] tscanausa: I think so
[2014-02-21 21:09:55 -0500] tscanausa: gzilla: I think so
[2014-02-21 21:10:03 -0500] tscanausa: jbell05: yupp
[2014-02-21 21:10:41 -0500] pushnell: hey all, I'm trying to use Vagrant/chef-solo to test some recipes which use tags.  How do I set tags in chef.json?
[2014-02-21 21:11:27 -0500] jbell05: pushnell: are you looking to set tags via recipe or manually?
[2014-02-21 21:12:01 -0500] pushnell: jbell05: I will probably eventually be setting tags by recipe, but for now I want to set them in my Vagrant file to simulate nodes which have been tagged by knife
[2014-02-21 21:12:26 -0500] pushnell: (I'll be manually tagging my servers for now, but will eventually code some logic for them to figure out their own tags)
[2014-02-21 21:12:46 -0500] jbell05: pushnell: Ah that's beyond my expertise then... I was gonna say "just use knife" but... um yeah. nope you already know to do that.  Could you use knife from within vagrant?
[2014-02-21 21:14:02 -0500] pushnell: jbell05: not that I'm aware of, but I'm still exploring how chef-solo works.
[2014-02-21 21:14:17 -0500] tscanausa: I am not sure chef solo supports tags
[2014-02-21 21:14:42 -0500] disposable2: along with learning how to use chef, i'd like to start with ruby too. which version of ruby does chef and its tools use?
[2014-02-21 21:17:10 -0500] tscanausa: disposable2: if you are smart you will use chef with the embedded ruby which currently is 1.9.3
[2014-02-21 21:20:52 -0500] disposable2: tscanausa: would you happen to know how likely that is to change in the forseeable future. ruby 2.1 seems to have some nice changes.
[2014-02-21 21:21:18 -0500] disposable2: tscanausa: s/future./future?
[2014-02-21 21:22:14 -0500] tscanausa: disposable2: thats up to the opscode packagers
[2014-02-21 21:22:30 -0500] coderanger: disposable2: The syntax changes from 1.9 to 2.1 are really minimal
[2014-02-21 21:25:29 -0500] pcort: join #chef
[2014-02-21 21:25:37 -0500] pcort: or it can do that...
[2014-02-21 21:25:43 -0500] pcort: if people have time could they take a look at my issue
[2014-02-21 21:25:44 -0500] pcort: http://stackoverflow.com/questions/21942220/cannot-upload-cookbooks-from-workstation
[2014-02-21 21:25:48 -0500] pcort: can't f igure it out :(
[2014-02-21 21:28:28 -0500] disposable2: coderanger: tscanausa: thank you both.
[2014-02-21 21:29:14 -0500] tscanausa: It looks like chef 12 will use ruby 2.0
[2014-02-21 21:30:41 -0500] coderanger: tscanausa: I would assume any upgrade would skip to 2.1
[2014-02-21 21:31:06 -0500] tscanausa: https://tickets.opscode.com/browse/CHEF-4771
[2014-02-21 21:31:40 -0500] jbell05: tscanausa: Well look at that... partial search actually is much simpler... thanks for the tip.
[2014-02-21 21:32:22 -0500] coderanger: tscanausa: That ticket predates 2.1 :)
[2014-02-21 21:34:29 -0500] tscanausa: jbell05: its nice to know my crazy ideas are sometimes justified.
[2014-02-21 21:34:39 -0500] jbell05: LOL
[2014-02-21 21:38:26 -0500] anthroprose: pcort: ubuntu?
[2014-02-21 21:38:42 -0500] pcort: the server is running centos
[2014-02-21 21:39:15 -0500] pcort: my workstation is windows
[2014-02-21 21:50:50 -0500] mjuszczak: Once I've edited a berksfile, how can I have the updated cookbooks appear in chef server?
[2014-02-21 21:50:55 -0500] mjuszczak: normally I'd chef cookbook upload but that feels weird
[2014-02-21 21:51:12 -0500] coderanger: mjuszczak: berks upload
[2014-02-21 21:51:18 -0500] coderanger: that will upload the cookbook and all its deps
[2014-02-21 21:51:27 -0500] coderanger: knife cookbook upload works too though
[2014-02-21 21:51:49 -0500] mjuszczak: thank you
[2014-02-21 21:51:56 -0500] mjuszczak: can i do berks upload postfix just to upload the one cookbook?
[2014-02-21 21:52:08 -0500] coderanger: There is a --only flag
[2014-02-21 21:52:10 -0500] mjuszczak: I haven't run a berks upload in a while, so I worry it might try to do a LOT.  Is there a way to berks diff and see what would have been uploaded?
[2014-02-21 21:52:14 -0500] coderanger: but I think it is currently broken in berks3
[2014-02-21 21:52:30 -0500] coderanger: yeah, I just use knife cookbook upload when I know I only want a single one
[2014-02-21 21:52:38 -0500] coderanger: knife cookbook upload -o .. --freeze $NAME
[2014-02-21 21:53:20 -0500] mjuszczak: OK
[2014-02-21 21:53:30 -0500] mjuszczak: But doesn't the cookbook need to exist locally for knife upload to work?
[2014-02-21 21:53:42 -0500] mjuszczak: It only exists in my berksfile, not locally
[2014-02-21 21:53:57 -0500] coderanger: Yes, that is only for my own cookbooks
[2014-02-21 21:57:55 -0500] mjuszczak: so the only way to get public cookbooks into chef server out of a berksfile is berks upload?
[2014-02-21 22:04:17 -0500] jroh: anyone else having trouble uploading cookbooks to hosted chef right now? I can run knife status and such okay.. but cookbook upload gives me an error
[2014-02-21 22:12:16 -0500] coderanger: mjuszczak: I mean you could do a berks install and then knife upload I guess
[2014-02-21 22:12:17 -0500] coderanger: :-)
[2014-02-21 22:12:48 -0500] geggam: coderanger,  do you have a recipe where a databag is used to populate a template using the same variables over and over ... basicially iterating a hash of hashes ?
[2014-02-21 22:14:27 -0500] coderanger: geggam: I don't use data bags
[2014-02-21 22:14:30 -0500] geggam: http://pastebin.mozilla.org/4359613 like this coderanger
[2014-02-21 22:14:43 -0500] geggam: heresy !
[2014-02-21 22:15:02 -0500] geggam: except what i paste replaces the file over and over again
[2014-02-21 22:15:07 -0500] geggam: instead of appending
[2014-02-21 22:17:52 -0500] jakeml: is there a way to correlate recipes and attribute files in such a way that i can reuse a template but have attributes picked correctly based on which recipe I'm rendering the template in?
[2014-02-21 22:18:02 -0500] jakeml: (without a conditional in the template)
[2014-02-21 22:18:16 -0500] jroh: woot.. upload finally worked again
[2014-02-21 22:18:47 -0500] jakeml: i.e., only use a specific attribute file (and not all attribute files) from a recipe instead of including all attribute overrides
[2014-02-21 22:21:19 -0500] jakeml: coderanger ^ or is there a good explanation of this somewhere I could check out?
[2014-02-21 22:29:54 -0500] coderanger: jakeml: Technically yes but don't
[2014-02-21 22:30:10 -0500] coderanger: jakeml: If you want reusable chunks, write resources :-)
[2014-02-21 22:32:56 -0500] jakeml: okay
[2014-02-21 22:33:29 -0500] jakeml: i'll look into it. what are the pitfalls of doing that?
[2014-02-21 22:33:40 -0500] jakeml: (the per-recipe attributes)
[2014-02-21 22:35:55 -0500] jakeml: i don't doubt that you're right, just trying to stave off my natural inclination to operate using defaults/fallbacks for config :)
[2014-02-21 22:36:38 -0500] jakeml: coderanger ^
[2014-02-21 22:36:54 -0500] coderanger: jakeml: Just makes the code really hard to read
[2014-02-21 22:37:38 -0500] jakeml: so if i have a vagrant box and an ec2 instance that i'd like to set up with chef
[2014-02-21 22:37:48 -0500] jakeml: and the major differences are in the nginx config file
[2014-02-21 22:38:19 -0500] jakeml: because server names and port numbers are different
[2014-02-21 22:38:52 -0500] jakeml: where's my logical branch point? how do i get chef to choose recipe-appropriate attributes?
[2014-02-21 22:38:57 -0500] jakeml: is that what you're saying resources will handle?
[2014-02-21 22:39:48 -0500] coderanger: Why are they different?
[2014-02-21 22:39:59 -0500] coderanger: Use node['fqdn'] for the hostname and the port number shouldn't change
[2014-02-21 22:40:07 -0500] jakeml: well, i guess those were just examples
[2014-02-21 22:40:41 -0500] jakeml: other differences would be postgres configurations that differ between the two envs
[2014-02-21 22:40:47 -0500] coderanger: Specify the differences at the edge (environment attrs, attrs in the Vagrantfile, etc)
[2014-02-21 22:41:06 -0500] jakeml: interesting
[2014-02-21 22:41:23 -0500] jakeml: but not in attributes files
[2014-02-21 22:41:35 -0500] jakeml: okay i'm gonna play around with that a little, may have more questions in a little while
[2014-02-21 22:41:41 -0500] jakeml: thanks for the suggestions
[2014-02-21 22:53:21 -0500] sunil_: knife bootstrap command complains about "[2014-02-21T22:50:43+00:00] ERROR: private key needed."
[2014-02-21 22:53:35 -0500] sunil_: we have tried updating validation.pem
[2014-02-21 23:27:56 -0500] kbarry: What am I doing wrong?
[2014-02-21 23:31:39 -0500] viglesia1: do node attributes get added during or after a recipe/run_list completes?
[2014-02-21 23:31:46 -0500] viglesia1: added to the server i mean
[2014-02-21 23:32:37 -0500] atomic-penguin: What do you mean by added?
[2014-02-21 23:33:51 -0500] viglesia1: i am trying to do a search for myself
[2014-02-21 23:34:49 -0500] viglesia1: i may be "doing things wrong" though
[2014-02-21 23:35:43 -0500] troyready: I believe they are saved to the server at the end of the chef-client run
[2014-02-21 23:35:54 -0500] atomic-penguin: viglesia1, what kind of attributes?  where did you define them?
[2014-02-21 23:35:55 -0500] troyready: (so they'd be available for search shortly thereafter)
[2014-02-21 23:36:02 -0500] viglesia1: ipaddress for example
[2014-02-21 23:36:17 -0500] atomic-penguin: ipaddress is an ohai attribute, so after converge
[2014-02-21 23:36:33 -0500] viglesia1: atomic-penguin: awesome, then i am just doing something else wrong
[2014-02-21 23:37:22 -0500] atomic-penguin: an attribute you define, for example in a cookbook, will be merged in before the chef run though
[2014-02-21 23:37:34 -0500] viglesia1: atomic-penguin: ack
[2014-02-21 23:37:39 -0500] atomic-penguin: not on the server mind you
[2014-02-21 23:37:43 -0500] viglesia1: ah
[2014-02-21 23:37:44 -0500] atomic-penguin: The cookbook will see it
[2014-02-21 23:37:50 -0500] atomic-penguin: Or the chef run rather
[2014-02-21 23:37:54 -0500] viglesia1: but i could do a node.save in the recipe correct?
[2014-02-21 23:37:59 -0500] atomic-penguin: Yes
[2014-02-21 23:38:02 -0500] atomic-penguin: http://docs.opscode.com/essentials_node_object.html
[2014-02-21 23:38:03 -0500] viglesia1: and that does persist it immediately
[2014-02-21 23:38:32 -0500] viglesia1: atomic-penguin: thanks for the pointer, ill read up
[2014-02-21 23:38:40 -0500] viglesia1: troyready: thank you as well
[2014-02-21 23:39:35 -0500] dgarstang: I am most confuse. 'kitchen test' ... where does it upload files from?
[2014-02-21 23:47:02 -0500] dgarstang: kitchen, anyone?
[2014-02-21 23:52:41 -0500] awc737: I always get this error with vagrat reload --provision
[2014-02-21 23:52:41 -0500] awc737: Can't connect to local MySQL server through socket '/var/run/mysqld/mysqld.sock' (2)
