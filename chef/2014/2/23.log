[2014-02-23 08:14:13 -0500] methods: does chef offer anything like salt stacks easy remote execution (and perhaps also using 0mq) ? http://docs.saltstack.com/ref/modules/all/index.html
[2014-02-23 08:15:21 -0500] methods: i guess that's knife-ssh so i guess my real question is if there is anything zeromq / multicast based out there ?
[2014-02-23 08:19:08 -0500] methods: something like this but over zeromq/multicast would be pretty cool https://github.com/zts/mcollective-chef-discovery
[2014-02-23 08:23:20 -0500] brucele_: using multicast to roll out configuration management to all nodes?
[2014-02-23 08:23:59 -0500] methods: to run commands and get responses
[2014-02-23 08:27:13 -0500] brucele_: methods: i dont know sorry :)
[2014-02-23 08:27:36 -0500] brucele_: methods: whats the point of having the zeromq/multicast though?
[2014-02-23 08:27:54 -0500] brucele_: what benefit would it add to chef that it cant already do
[2014-02-23 08:28:04 -0500] methods: same point as mcollective but without need for activemq to be maintained
[2014-02-23 08:28:46 -0500] methods: ssh can be very slow and compared to multicast where you just shoot out a message and everyone responds right away
[2014-02-23 08:29:34 -0500] brucele_: methods: i see...
[2014-02-23 08:29:49 -0500] brucele_: methods: facebook uses chef and they have like 14k nodes though, seems fine for them
[2014-02-23 08:29:56 -0500] brucele_: not saying they wouldnt benefit a lot from what youre mentioning
[2014-02-23 08:30:13 -0500] methods: it's not really about using chef though
[2014-02-23 08:31:03 -0500] methods: salt stack started out as simply a remote execution framework but then added configuration management .. knife ssh also is just a generic tool right? and since I use chef it's nice to have something chef aware so i can select based on chef attributes
[2014-02-23 08:33:38 -0500] brucele_: methods: you mentioned mcollective, does this work for you?
[2014-02-23 08:33:52 -0500] brucele_: from what i googled seems like it supports chef
[2014-02-23 08:34:09 -0500] methods: it's ok but requires activemq and what not
[2014-02-23 08:34:18 -0500] methods: yea i posted a link earlier
[2014-02-23 08:34:37 -0500] methods: zeromq / multicast would require no brokers
[2014-02-23 08:36:09 -0500] brucele_: is there a drawback to using brokers?
[2014-02-23 08:36:36 -0500] brucele_: doesnt chef by default use sme broker, like rabbitmq or something
[2014-02-23 08:36:57 -0500] methods: you have to run them and make them HA ? same argument as just using ssh ...
[2014-02-23 08:37:09 -0500] methods: i think the chef server does yea
[2014-02-23 08:39:24 -0500] brucele_: persoanlly im just using chef as a configuration management to aid in setting up nodes, i never have to create more than a few nodes at a time
[2014-02-23 08:39:37 -0500] brucele_: i set up the basics like ssh key access for users, firewall rules,e tc
[2014-02-23 08:39:43 -0500] brucele_: how are you using chef?
[2014-02-23 08:39:45 -0500] brucele_: do you mind me asking?
[2014-02-23 08:40:25 -0500] methods: it's just nice sometimes to be able to run a command across thousands of hosts and get the answer back quickly instead of iterating over ssh
[2014-02-23 08:40:57 -0500] brucele_: theres a program where you can ssh across a bunch of hosts
[2014-02-23 08:41:02 -0500] brucele_: i dont think its integrated with chef
[2014-02-23 08:41:08 -0500] brucele_: its completely separate i forgot the name
[2014-02-23 08:41:12 -0500] methods: and tools like salt stack and mcollective can provide structured responses for a ton of common tasks
[2014-02-23 08:41:21 -0500] methods: pssh
[2014-02-23 08:41:34 -0500] brucele_: multihost ssh wrapper
[2014-02-23 08:42:17 -0500] brucele_: methods: what would be a common use case for that?
[2014-02-23 08:42:28 -0500] methods: also if your ssh integrates with ldap or something it could have nasty lag times compared to these other alternatives
[2014-02-23 08:42:45 -0500] brucele_: been in the industry for a few years now, always interested to see what other poeple are doing...
[2014-02-23 08:43:13 -0500] brucele_: methods: ssh would be more secure though wouldnt it?
[2014-02-23 08:43:13 -0500] methods: http://docs.saltstack.com/ref/modules/all/salt.modules.hosts.html#module-salt.modules.hosts
[2014-02-23 08:43:18 -0500] methods: look at that for example
[2014-02-23 08:43:30 -0500] methods: mcollective and salt are both secure too
[2014-02-23 08:45:19 -0500] brucele_: so if you were to do something similiar to that using chef (add an entry to host file to a thousand nodes)
[2014-02-23 08:45:24 -0500] brucele_: how long would it take with chef vs salt?
[2014-02-23 08:45:47 -0500] methods: I'm not trying to replace chef
[2014-02-23 08:45:54 -0500] methods: look at the querying ability
[2014-02-23 08:45:54 -0500] brucele_: yah you want the best of both worlds
[2014-02-23 08:46:27 -0500] methods: what if you just want to run a read only query across 1000's of hostsa and get response quickly ?
[2014-02-23 08:46:33 -0500] brucele_: yeah
[2014-02-23 08:46:35 -0500] brucele_: i see what youre saying
[2014-02-23 08:46:43 -0500] brucele_: is there a way to do the same thign using chef and ohai or something?
[2014-02-23 08:47:04 -0500] brucele_: to do it with chef, you would probably need to run an execute command to send you back a response
[2014-02-23 08:47:07 -0500] brucele_: how long would that take?
[2014-02-23 08:47:19 -0500] methods: you should read about mcollective too because the philosophy there is taht your working with "live data" instead of stale info on some server based on the last chef run
[2014-02-23 08:47:35 -0500] methods: idk that sounds nasty
[2014-02-23 08:47:40 -0500] brucele_: haha
[2014-02-23 08:47:43 -0500] brucele_: is that the only way to do it with chef?
[2014-02-23 08:47:51 -0500] brucele_: perhaps you know a more efficient way :)
[2014-02-23 08:47:52 -0500] methods: like imagine someone rewrote knife-ssh and it tried to use execute ?
[2014-02-23 08:48:04 -0500] methods: knife-ssh doesn't compete with chef it's just a tool
[2014-02-23 08:48:12 -0500] methods: i just want a tool!
[2014-02-23 08:48:15 -0500] methods: lmao
[2014-02-23 08:48:19 -0500] brucele_: :p
[2014-02-23 08:48:29 -0500] brucele_: a tool that doesnt use a broekr
[2014-02-23 08:48:48 -0500] brucele_: maybe you can easily create your own using node.js :P
[2014-02-23 08:49:01 -0500] brucele_: i dont know of a tool that can do that :O
[2014-02-23 08:49:06 -0500] methods: where did node.js come from ?
[2014-02-23 08:49:08 -0500] brucele_: but seems useful
[2014-02-23 08:49:25 -0500] methods: chef is ruby so i would just use ruby
[2014-02-23 08:49:33 -0500] brucele_: just a concurrency network programming language, seems like something that could do what youre doing
[2014-02-23 08:49:39 -0500] brucele_: maybe easier than with ruby
[2014-02-23 08:50:13 -0500] methods: look at ruby's eventmachine.. and I mean there is also a zeromq binding for ruby .. and multicast is nothing but sending a single udp packet to an address and then waiting for responses
[2014-02-23 08:51:59 -0500] brucele_: yeah, just use ruby if you cant find a tool
[2014-02-23 10:52:00 -0500] pipework: I'm not sure I'd ever suggest looking into using eventmachine. Perhaps celluloid, perhaps jruby
