[2014-06-19 01:28:41 -0400] gkra: I may be crazy, but is there a way to force chef-client to re-run immediately after the current convergence completes?
[2014-06-19 01:33:57 -0400] spheromak: gkra: you mean from inside the run ?
[2014-06-19 01:34:22 -0400] spheromak: you can send a hup to chef-client to trigger a run, don't know that it will do the spawn/fork
[2014-06-19 01:34:26 -0400] spheromak: worth a try tho
[2014-06-19 01:34:45 -0400] spheromak: forked runs will wait on the runlock
[2014-06-19 01:34:55 -0400] spheromak: assuming running in  daemon mode
[2014-06-19 03:09:58 -0400] anthonyacquanita: jjk
[2014-06-19 09:37:57 -0400] chandrasekhar: can anyone explain about chef types
[2014-06-19 09:38:31 -0400] chandrasekhar: what is private chef, what is hosted chef , what id enterprise chef
[2014-06-19 09:44:16 -0400] CJNE: private chef is when you run your own chef server, with hosted/enterprise opsworks(chef) or someone else does it for you
[2014-06-19 09:44:40 -0400] CJNE: i believe hosted chef changed name to enterprise chef, so it should be the same thing
[2014-06-19 09:47:34 -0400] chandrasekhar: CJINE: ty
[2014-06-19 09:50:35 -0400] CJNE: np, i think private chef might mean you'd host the chef server yourself but with some kind of support deal, haven't really explored it.
[2014-06-19 09:51:59 -0400] CJNE: ah, here's a comparison between enterprise and open source: http://www.getchef.com/chef/
[2014-06-19 10:43:51 -0400] whiteadam: Why isn't it Friday yet?
[2014-06-19 10:44:34 -0400] matti: whiteadam: +1
[2014-06-19 10:44:46 -0400] matti: whiteadam: I woke up thinking that it's Friday today.
[2014-06-19 10:44:55 -0400] whiteadam: matti: I woke up thinking it was, just checked my mail, it's not
[2014-06-19 10:45:00 -0400] matti: whiteadam: My girlfriend has corrected me, and so now I am depressed.
[2014-06-19 10:45:02 -0400] whiteadam: matti: OMG ARE YOU A MIRROR
[2014-06-19 10:45:13 -0400] matti: Hahah
[2014-06-19 10:45:16 -0400] matti: :)
[2014-06-19 10:45:42 -0400] matti: whiteadam: The worst thing about it was me going "It's Friday today, I have a day off"
[2014-06-19 10:46:09 -0400] matti: whiteadam: When faced with reality I had to go to the kitchen make coffee and wonder about the universe, life and everything ;p
[2014-06-19 10:46:27 -0400] whiteadam: matti: Thursday is the day I have like 8 1-hour calls... so I was like "oh man, I'm gonna learn things today!" nope.
[2014-06-19 10:47:51 -0400] matti: ;s
[2014-06-19 10:48:17 -0400] whiteadam: That's the part of consulting I hate... non-stop phone calls.
[2014-06-19 10:51:11 -0400] Yvan_: Question: How can I ensure that when a recipe is removed from the runlist that the software installed by that recipe will be removed as well ? Any Idea ?
[2014-06-19 10:53:16 -0400] whiteadam: Yvan_: I'm probably wrong, but I think that you would have to basically reverse everything in the recipe...
[2014-06-19 10:53:38 -0400] whiteadam: Yvan_: Think of it as a "desired state", you have to "desire" that the software NOT be there.
[2014-06-19 10:55:29 -0400] whiteadam: Yvan_: The first answer here is pretty helpful: http://stackoverflow.com/questions/7385396/uninstalling-a-package-using-chef
[2014-06-19 10:55:41 -0400] Yvan_: ok. I see.
[2014-06-19 10:56:20 -0400] whiteadam: Yeah, it's a little annoying at first, but once you get into the mindset that Chef enforces a "desired state" it makes more sense.
[2014-06-19 10:57:53 -0400] Yvan_: Yeah Iget it...makes sense. For each recipe installing I need an uninstall part as well to maintain idempotency.
[2014-06-19 11:06:23 -0400] whiteadam: Yvan_: Yeah, it's a good idea in the real world. How nice it must be making Chef recipes for a company that uses basically one application :)
[2014-06-19 12:11:36 -0400] cannonball: I've got a "cannot see the forest because the trees are in the way" type of question.  I'm experimenting with openstack.  I'm using the rackspace chef deployment control.  When I want to start over, I essentially reset chef by deleting all the nodes, and then deleting all the clients.
[2014-06-19 12:12:17 -0400] cannonball: Why do I have to delete the nodes *and* the clients?  What is the layer distinction between a node and a client?  In my head they are the same thing, but obviously to chef, they are different.  I'm trying to grok what that difference is.
[2014-06-19 12:12:44 -0400] chandrasekhar: for skills' DB what we should add for "chef Cookbook" developement ?
[2014-06-19 12:14:38 -0400] chandrasekhar: can anyone tell me please
[2014-06-19 12:15:17 -0400] chandrasekhar: for skills'DB what we should add for "ChefCookbook" developement ?
[2014-06-19 12:16:38 -0400] digitalchild: what is skills db?
[2014-06-19 12:36:22 -0400] _pingu: I know minitest-chef-handler. Are there more? Maybe something to execute serverspec tests?
[2014-06-19 12:37:53 -0400] digitalchild: like test-kitchen?
[2014-06-19 12:39:16 -0400] _pingu: digitalchild: no. I mean handlers for this: http://docs.opscode.com/handlers.html
[2014-06-19 12:39:58 -0400] digitalchild: arh, no idea, but i must read these :)
[2014-06-19 13:31:38 -0400] maniac: hi guys  is anyone read this http://docs.opscode.com/containers.html ? i mean there is probably a mistype in gem name .. knife-container is it really exists ?
[2014-06-19 13:31:39 -0400] maniac: ERROR:  Could not find a valid gem 'knife-container' (>= 0) in any repository
[2014-06-19 14:17:52 -0400] freerobby: Does anybody have an example of an ohia plugin cookbook using Ohai 7? We've figured out how to make the recipe but we can't figure out how to put it into a cookbook properly. Using the v6 method throws a deprecation warning.
[2014-06-19 15:12:27 -0400] hhoover: freerobby https://github.com/rackerlabs/ohai-plugins there's a cookbook in this repo you might find useful
[2014-06-19 15:12:51 -0400] freerobby: hhoover: thanks.
[2014-06-19 15:13:04 -0400] hhoover: freerobby np
[2014-06-19 15:13:59 -0400] mjuszczak: coderanger: Do most of your cookbooks depend on your balanced-users cookbook?  How do you maintain portability of your cookbooks then?  What do you do if, as part of one of your application cookbooks, it requires a user to exist (IE: application user)?
[2014-06-19 15:18:47 -0400] wwalker: when I call ChefSpec::ChefRunner.new, it dies with no method []= for Ohai::System.  This is true, Ohai::System doesn't have that method.
[2014-06-19 15:19:25 -0400] wwalker: Any ideas?  I'm guessing that some mock is suppsed to be running instead of the real Ohai::System?
[2014-06-19 15:21:29 -0400] davidordave: What is the precedence level for cookbook names (for example metadata over directory)? I have a cookbook that has a different name on the server than what is in the metadata. I assumed metadata was the preferred name.
[2014-06-19 15:25:47 -0400] gchristensen: davidordave: definitely the actual directory name
[2014-06-19 15:30:41 -0400] davidordave_: Oh, interesting. I thought metadata won. Learn something new everyday I suppose. Thanks for the info.
[2014-06-19 15:40:13 -0400] jarsever: Does anybody know if Serverspec testing is usable with Kitchen-Metal?
[2014-06-19 15:46:06 -0400] j^2: awwwww
[2014-06-19 15:46:09 -0400] j^2: cwebber: https://www.dropbox.com/s/qqb73950ps94yx8/Screenshot%202014-06-19%2010.45.48.png
[2014-06-19 15:46:30 -0400] wwalker: so, gem install chefspec brings in 2.0.1.  I see 4.0.0 is out, but not gem server-ified.  Anyone using 3.x or 4.x safely?
[2014-06-19 15:46:39 -0400] wwalker: s/safely/successfully/
[2014-06-19 15:52:04 -0400] cwebber: j^2: thanks! I think I know what is up.
[2014-06-19 15:52:27 -0400] j^2: yeah searching for _ruby_ i broke it :'(
[2014-06-19 15:52:30 -0400] j^2: heheeh
[2014-06-19 15:52:52 -0400] jtimberman: j^2: i searched for mysql and got the same result so :)
[2014-06-19 15:52:56 -0400] j^2: heh
[2014-06-19 16:09:34 -0400] gauravarora: is there anyway i can set ec2 attributes on a node i created manually?
[2014-06-19 16:10:18 -0400] whiteadam: +1 on gauravarora's question, I was wondering that as well.
[2014-06-19 16:10:53 -0400] gauravarora: 75% of my nodes were created manually and i would really like to manage them with knife ssh
[2014-06-19 16:11:19 -0400] whiteadam: gauravarora: me too
[2014-06-19 16:11:37 -0400] mattray: gauravarora: whiteadam: those attributes are set by the ohai ec2 plugin. If you touch a /etc/chef/ohai/hints/ec2.json file Ohai will add those attributes
[2014-06-19 16:12:52 -0400] gauravarora: mattray: i don have such a file :(
[2014-06-19 16:13:12 -0400] whiteadam: gauravarora: #touch /etc/chef/ohai/hints/ec2.json
[2014-06-19 16:13:40 -0400] mattray: gauravarora: it gets created by knife-ec2 when you bootstrap a node, but if you just "touch /etc/chef/ohai/hints/ec2.json", Chef will think you're on ec2
[2014-06-19 16:13:42 -0400] whiteadam: probably a mkdir -p first
[2014-06-19 16:13:50 -0400] mattray: whiteadam: yup
[2014-06-19 16:14:05 -0400] mattray: simple recipe, directory resource and a file resource
[2014-06-19 16:14:19 -0400] gauravarora: trying it now
[2014-06-19 16:14:29 -0400] therobot: Hello, I need to reach to an attribute which is deep nested with one of the values of the middle of the attribute hash changing in every node (the mac address), what is the preferred way to do it? interface_id = node['ec2']['network_interfaces_macs']['THISVALUECHANGES']['interface_id']
[2014-06-19 16:15:50 -0400] gauravarora: mattray: thanks a lot, worked perfectly
[2014-06-19 16:16:07 -0400] whiteadam: mattray: Was there a meeting in Austin last week?
[2014-06-19 16:17:36 -0400] mattray: whiteadam: Austin Chef Meetup? Yesterday
[2014-06-19 16:17:52 -0400] mattray: Next will be July 16
[2014-06-19 16:17:56 -0400] whiteadam: mattray: Damn. I got an email asking if I went, but it never sent me a reminder.
[2014-06-19 16:18:07 -0400] whiteadam: mattray: My fault for not putting it in my calendar.
[2014-06-19 16:18:21 -0400] mattray: no worries. There were about 15 folks there
[2014-06-19 16:32:08 -0400] cschneid: How can I make a change to a local berks cookbook to try something out? I think I have a bug in the java cookbook, but not sure so I want to tweak something.
[2014-06-19 16:32:22 -0400] cschneid: should I remove from berks and have a local copy?
[2014-06-19 16:34:16 -0400] esigler: cschneid: Do you mean in the Berksfile?  You can specify a path for the cookbook, like: cookbook 'memcached' , path: 'cookbooks/memcached'
[2014-06-19 16:34:36 -0400] cschneid: esigler: well, I just think I need anotehr tar flag on the java extraction and want to try it
[2014-06-19 16:34:47 -0400] cschneid: esigler: I just pulled it into my repo and forced a push and I'll see
[2014-06-19 16:34:52 -0400] cschneid: I think I've got it... :)
[2014-06-19 16:39:56 -0400] zax: If two modules in two different "cookbook/libaries" have the same name, how would I go about using a specific library from one of the two cookbooks?
[2014-06-19 16:48:32 -0400] froolie: I'm trying to write a recipe that will grab a tar file from our Jenkins box, extract it, and run the startup script. It has some logic in it as well to make sure it only downloads if the source file is newer.
[2014-06-19 16:48:48 -0400] froolie: Looking for fedback to see if I made a totally doofy recipe: http://pastebin.com/MfXVJjRR
[2014-06-19 16:48:53 -0400] froolie: it's my first
[2014-06-19 17:00:43 -0400] tier: i'm having some trouble with the database cookbook... i'm calling the database::mysql recipe prior to installing mysql but it's bombing out. i know it points to the mysql chef gem, which has a provider that installs build essential, then mysql::client and finally the chef gem.  during the run, build-essentials install but it's as if mysql::client never runs because the mysql and mysql-devel packages are never installed causing the gem install to tank.
[2014-06-19 17:01:24 -0400] tier: the stacktrace pretty much says the same... the libs can't be found. http://pastebin.com/ctgKXvF0
[2014-06-19 17:02:58 -0400] cschneid: I'm trying to chef a node with two roles: "cassandra" and "myRailsAppthatUsesCassandra" -- the rails app is failing to get its cassandra config file setup, since the node isn't finished running, and hence isn't yet really a "cassandra" node.
[2014-06-19 17:03:11 -0400] cschneid: is there a way to get it to be the cassandra node right away, as opposed to only at the end of the run?
[2014-06-19 17:06:38 -0400] jmickle: anyone notice the default opscode bootstrap is broken
[2014-06-19 17:06:42 -0400] jmickle: since the domain change from opscode.com?
[2014-06-19 17:11:42 -0400] davidordave: @jmickle, I haven't noticed any errors. The install script that the template calls seems to be resolving directly too.
[2014-06-19 17:12:07 -0400] jmickle: downloading https://www.opscode.com/chef/metadata?v=11.14.0.alpha.1&prerelease=false&nightlies=false&p=el&pv=6&m=x86_64
[2014-06-19 17:12:15 -0400] jmickle: Unable to retrieve a valid package!
[2014-06-19 17:12:17 -0400] jmickle: error 404
[2014-06-19 17:12:35 -0400] jmickle: for el
[2014-06-19 17:16:25 -0400] davidordave: maybe it is related to the alpha release?: https://www.opscode.com/chef/metadata?v=11.12.8&prerelease=false&nightlies=false&p=el&pv=6&m=x86_64
[2014-06-19 17:17:59 -0400] jmickle: regardless thats being pulled from the default bootstrap from the site
[2014-06-19 17:18:00 -0400] jmickle: :-P
[2014-06-19 17:19:35 -0400] davidordave: indeed, definitely an issue. Just thought it might help for troubleshooting purposes :)
[2014-06-19 17:19:41 -0400] jmickle: ja
[2014-06-19 17:19:49 -0400] mivok: that's coming from chefdk - it tries to match the version of chef-client you're running locally. It's a known issue and I think it will be fixed in later chefdk releases.
[2014-06-19 17:20:18 -0400] jmickle: is there a way to specify the version?
[2014-06-19 17:20:31 -0400] davidordave: there is a flag you can pass to the bootstrap command
[2014-06-19 17:20:57 -0400] jmickle: bootstrap-version
[2014-06-19 17:20:59 -0400] jmickle: forgot about that one
[2014-06-19 17:24:30 -0400] jmickle: ah mivok you are right sir
[2014-06-19 17:24:31 -0400] jmickle: :-)
[2014-06-19 17:29:58 -0400] pumpkintits: ls
[2014-06-19 17:30:48 -0400] pumpkintits: Anyone want to teach mentor me on Chef? I'll pay you hourly to just text chat
[2014-06-19 17:31:17 -0400] pumpkintits: It won't be a lot of work, I'm a pretty high level sysadmin as it is
[2014-06-19 17:31:22 -0400] mattray: pumpkintits: coderanger does training
[2014-06-19 17:31:23 -0400] pumpkintits: but I have some fundamental questions
[2014-06-19 17:31:28 -0400] pumpkintits: thanks mattray
[2014-06-19 17:37:00 -0400] therobot: I have a node inside an ec2 vpc that does not get ec2 attributes right, is there anything I can do to force ohai/chef to get the attributes?
[2014-06-19 17:42:50 -0400] whiteadam: therobot: Does it have NO attributes, or are they just incorrect?
[2014-06-19 17:45:25 -0400] therobot: whiteadam: it doesnt have attributes node.ec2 is nil
[2014-06-19 17:45:35 -0400] whiteadam: aww son, i got you
[2014-06-19 17:45:47 -0400] whiteadam: sudo mkdir -p /etc/chef/ohai/hints/
[2014-06-19 17:45:57 -0400] whiteadam: sudo touch /etc/chef/ohai/hints/ec2.json
[2014-06-19 17:46:01 -0400] whiteadam: sudo chef-client
[2014-06-19 17:46:05 -0400] whiteadam: bing bang boom, maybe
[2014-06-19 17:46:20 -0400] jmickle: :-)
[2014-06-19 17:47:16 -0400] therobot: Lets see whiteadam...
[2014-06-19 17:48:31 -0400] therobot: It worked, great! Thanks whiteadam
[2014-06-19 17:57:04 -0400] whiteadam: heh, no problem... mattray told me how to do it like an hour ago
[2014-06-19 17:57:33 -0400] whiteadam: therobot: It reads the instance data from amazon though, so if you set a custom hostname and such, it won't see it properly, just the original.
[2014-06-19 17:58:05 -0400] fixxxermet: It looks like knife bootstrap with an SSH gateway doesn't make use of the passed in identity file
[2014-06-19 18:00:33 -0400] whiteadam: fixxxermet: I had the same issue recently and never did get it resolved. I want to say that you have to configure the ssh server you're hitting as a gateway or something, which you've probably already done.
[2014-06-19 18:01:09 -0400] fixxxermet: whiteadam: Gateway as in source / destination checking, or gateway as in the -G flag to bootstrap?
[2014-06-19 18:03:26 -0400] whiteadam: src/dst
[2014-06-19 18:03:41 -0400] fixxxermet: Yeah, did that :(
[2014-06-19 18:03:45 -0400] fixxxermet: http://pastie.org/private/jkpyxj7c3zziidtfset9q is what I'm getting
[2014-06-19 18:04:11 -0400] whiteadam: I was confused around the whole subject. Like, does bootstrap mean gateway as in just the general term, or is it like microsoft and mean a legit SSH Gateway server
[2014-06-19 18:06:36 -0400] fixxxermet: Think of it as a jumpbox or proxy server
[2014-06-19 18:06:44 -0400] fixxxermet: e.g. if you need to bootstrap a node in a private network
[2014-06-19 18:17:42 -0400] whiteadam: Yeah, that's exactly what I was trying to do. The reason I stopped trying was that I figured out that the gateway was port 22 and the internal server were 2200 and I just didn't want to have to deal with passing those arguements.
[2014-06-19 18:20:45 -0400] whiteadam: Everyone must use the same irc server up in here.
[2014-06-19 18:32:39 -0400] gzc_: hrrrrrrrm,
[2014-06-19 18:32:41 -0400] gzc_: anyone have sane resources on how chef users are mapped to orgs interal to private chef?
[2014-06-19 18:32:42 -0400] whiteadam: not it
[2014-06-19 18:32:43 -0400] gzc_: we maaaaay be having some small issues migrating from private chef 10 to 11
[2014-06-19 18:33:41 -0400] whiteadam: When you say private, do you mean Open Source?
[2014-06-19 18:34:30 -0400] whiteadam: eg: not hosted chef
[2014-06-19 18:34:56 -0400] gzc_: enterprise chef, private chef, however it's marketed these days :)
[2014-06-19 18:35:07 -0400] gzc_: essentially local chef with support for multiple orgs
[2014-06-19 18:35:12 -0400] whiteadam: Ah, I see. Yeah, I never know the difference :)
[2014-06-19 18:35:48 -0400] gzc_: for one org, a few users got migrated over, but looking at metadata there are a ton of associated groups that aren't showing up in the webui or with knife
[2014-06-19 18:36:11 -0400] gzc_: we're fighting with understanding actor mapping et al
[2014-06-19 18:36:39 -0400] whiteadam: uh oh
[2014-06-19 18:37:20 -0400] gzc_: yeah, I barely understand how some of this stuff is modeled internally
[2014-06-19 18:37:42 -0400] gzc_: the last job also made extensive use of private chef, but we were single-org and that was pretty easy to support
[2014-06-19 18:37:55 -0400] gzc_: here... orgs for days
[2014-06-19 18:45:12 -0400] whiteadam: Yeah, luckily I only have a small rollout at the moment with a single org, so nice.
[2014-06-19 19:07:44 -0400] anthonyacquanita: anyway to knife bootstrap with two different user id's through a gateway?  gw->user1 node->user2 ?
[2014-06-19 19:11:38 -0400] anthonyacquanita: got is... -G  username@ip    didn't think of the username@ part doh!
[2014-06-19 19:22:49 -0400] take_it_t: any good resources on debugging in chef?
[2014-06-19 19:23:10 -0400] take_it_t: not chef itself
[2014-06-19 19:24:39 -0400] matti: take_it_t: Have not seen many.
[2014-06-19 19:25:20 -0400] matti: take_it_t: But a rule of thumb is to apply Ruby debugging + shef/chef-shell and things like bindings.pry
[2014-06-19 19:25:25 -0400] matti: take_it_t: Depends what the issue is.
[2014-06-19 19:26:54 -0400] coderanger: take_it_t: Learn to love Chef::Log
[2014-06-19 19:26:54 -0400] whiteadam: take_it_t: Yeah, I agree with matti, the most popular way is probably to design tests and use those to help guide you & debug.
[2014-06-19 19:27:16 -0400] whiteadam: watch out, coderanger is awake
[2014-06-19 19:30:05 -0400] fish__: Has anyone ever ran into this: TypeError "no implicit conversion from nil to integer" on something like this: service 'start-it-up' do
[2014-06-19 19:33:28 -0400] matti: fish__: How does entire block looks like?
[2014-06-19 19:33:48 -0400] matti: fish__: Exception might be coming from above and/or below of it as well.
[2014-06-19 19:33:56 -0400] fish__: of the service?
[2014-06-19 19:34:39 -0400] matti: The one that you suspect is causing it.
[2014-06-19 19:36:22 -0400] fish__: http://pastebin.com/W99xDZ72
[2014-06-19 19:36:35 -0400] fish__: I believe line 9 to be the problem.
[2014-06-19 19:36:53 -0400] coderanger: fish__: Usually that means you are using nil as an array index
[2014-06-19 19:36:56 -0400] fish__: and by 9, I actually mean 10.
[2014-06-19 19:39:46 -0400] matti: fish__: I'd recommend changing this anyway.
[2014-06-19 19:40:10 -0400] matti: fish__: More idiomatic would be /etc/init.d/<name-of-the-service> anyway.
[2014-06-19 19:40:18 -0400] matti: fish__: Make it 755 and drop .sh ;]
[2014-06-19 19:40:37 -0400] matti: fish__: You can test it, by removing/commenting out this line.
[2014-06-19 19:41:13 -0400] matti: fish__: For quicker development feedback, look at Test Kitchen (with Vagrant and Chef Zero).
[2014-06-19 19:41:40 -0400] matti: fish__: kitchen converge and verify will be your dear friends :)
[2014-06-19 19:47:42 -0400] fish__: matti: changing the names as you suggested returns the same results.. I'll try test-kitchen though, thankyou.
[2014-06-19 19:50:23 -0400] coderanger: fish__: It would help if you had the full error traceback
[2014-06-19 19:53:51 -0400] EricL: Anyone using Nagios have an EC2 classic and EC2 VPC setup know of any way to monitor both without changing the community cookbook directly?
[2014-06-19 19:57:06 -0400] sanguisdex: I am dealing with a pretty intense firewall. is there a way that I can bootstrap with knife and have the  installing of the chef client and the communications with the chef server tunnel through my local?
[2014-06-19 19:59:10 -0400] whiteadam: AT&T just said "A VM must be powered on in order to shut it down."
[2014-06-19 19:59:17 -0400] whiteadam: Cool. Story. Bros.
[2014-06-19 19:59:28 -0400] coderanger: sanguisdex: No, the target directly talks to the chef server
[2014-06-19 19:59:54 -0400] coderanger: sanguisdex: I mean you could setup netcat on your machine and just pretend its the chef server, if you can fake the TLS certs
[2014-06-19 20:00:11 -0400] coderanger: sanguisdex: But that isn't really related to bootstrapping per se
[2014-06-19 20:14:09 -0400] anthonyacquanita: is it odd to expect 'knife bootstrap' to also edit the node on the server with the run_list ?
[2014-06-19 20:29:02 -0400] anthonyacquanita: https://tickets.opscode.com/browse/CHEF-5032  -- figured it out by reading that... it's the -j option
[2014-06-19 20:30:13 -0400] coderanger: anthonyacquanita: knife bootstrap doesn't talk to the chef server at all
[2014-06-19 20:30:51 -0400] anthonyacquanita: I know.  it passes the validation pem and chef-client runs and it registers
[2014-06-19 20:30:56 -0400] coderanger: Yep
[2014-06-19 20:31:17 -0400] anthonyacquanita: I'm looking for a way to make that run_list persist
[2014-06-19 20:31:36 -0400] coderanger: It is persisted back to the server when the run completes and the node calls node.save
[2014-06-19 20:31:51 -0400] coderanger: If they run fails, then yeah, it doesn't
[2014-06-19 20:33:16 -0400] whiteadam: anthonyacquanita: I believe it assigns those to the server.
[2014-06-19 20:33:23 -0400] whiteadam: I mean, client
[2014-06-19 20:34:35 -0400] whiteadam: anthonyacquanita: run: knife node show NODENAME  and see if it has anything listed in recipes.
[2014-06-19 20:35:14 -0400] anthonyacquanita: empty
[2014-06-19 20:35:32 -0400] anthonyacquanita: https://tickets.opscode.com/browse/CHEF-1918
[2014-06-19 20:35:44 -0400] anthonyacquanita: that's what I'm looking ... I think
[2014-06-19 20:36:25 -0400] whiteadam: So, when you bootstrap a node, do you include something like  --run-list 'recipe[chef-client]'
[2014-06-19 20:36:42 -0400] anthonyacquanita: -r yes
[2014-06-19 20:37:32 -0400] whiteadam: Then like coderanger says, if the run is successful, it should persist in that node's runlist. It does for me.
[2014-06-19 20:37:41 -0400] anthonyacquanita: that worked... chef-1918
[2014-06-19 20:37:54 -0400] anthonyacquanita: -j "{\"run_list\": \"recipe[cb-base]\"}"
[2014-06-19 20:38:22 -0400] anthonyacquanita: -r is one_shot, does not register run_list with chefserver... -j  does
[2014-06-19 20:39:03 -0400] whiteadam: is -r the same as --run-list ?
[2014-06-19 20:39:58 -0400] whiteadam: because --run-list DOES register the runlist with the server.
[2014-06-19 20:40:51 -0400] anthonyacquanita: yes it is but is not doing that in my case
[2014-06-19 20:41:14 -0400] whiteadam: Do you have a cookbook that is failing the run?
[2014-06-19 20:44:38 -0400] anthonyacquanita: what the duck?!  -r worked
[2014-06-19 20:44:49 -0400] whiteadam: jackpot
[2014-06-19 20:44:51 -0400] whiteadam: !
[2014-06-19 20:48:50 -0400] EricL: I can't find any documentation that says it, but is it possible to do include_recipe 'foo@3.1.0'
[2014-06-19 20:49:20 -0400] EricL: I know this type of pinning can be done in the run_list, but I can't seem to find out if it's possible to do in a recipe.
[2014-06-19 20:49:43 -0400] EricL: Or does that pinning happen in the metadata.rb file for the cookbook?
[2014-06-19 20:50:20 -0400] gzc_: it happens before anything gets executed- so either from metadata or environment pinnings
[2014-06-19 20:50:32 -0400] gzc_: so, yeah, it's not possible :)
[2014-06-19 20:50:40 -0400] Ash: executed? what is this, some sort of spanish inquisition
[2014-06-19 20:50:53 -0400] whiteadam: Ash: Watch it, they may be cops.
[2014-06-19 20:51:09 -0400] Ash: dang you're right
[2014-06-19 20:51:16 -0400] EricL: I'm not a cop.
[2014-06-19 20:51:20 -0400] EricL: You are safe.
[2014-06-19 20:51:23 -0400] EricL: gzc_: Thanks.
[2014-06-19 20:51:25 -0400] whiteadam: If you are you have to tell us
[2014-06-19 20:51:31 -0400] EricL: whiteadam: I don't think it works like tha.t
[2014-06-19 20:51:33 -0400] whiteadam: I've seen COPS, I know the law.
[2014-06-19 20:51:39 -0400] Ash: bahah
[2014-06-19 20:51:46 -0400] gzc_: i /am/ the law
[2014-06-19 20:51:47 -0400] EricL: whiteadam: Clearly.
[2014-06-19 20:52:03 -0400] c_t: don't worry, they mostly arrest people who aren't wearing shirts
[2014-06-19 20:52:13 -0400] whiteadam: c_t: or shoes
[2014-06-19 20:52:36 -0400] EricL: I don't usually wear either.
[2014-06-19 20:52:38 -0400] Ash: oh, my mistake, i thought this was AMERICA
[2014-06-19 20:52:45 -0400] EricL: But I also don't have a mullet.  So I should be ok.
[2014-06-19 20:52:47 -0400] whiteadam: I wrote a report in college called "Just Let Me Get My Shoes" where I watched COPS all day and documented shoes missing. I got a B.
[2014-06-19 20:53:03 -0400] Ash: hah
[2014-06-19 20:53:37 -0400] whiteadam: For the same class, I wrote one called "PMS: Please Make Sense"
[2014-06-19 20:53:42 -0400] whiteadam: It was about my girlfriend.
[2014-06-19 20:54:05 -0400] c_t: that must have gone over well
[2014-06-19 20:54:14 -0400] whiteadam: With the teacher, yes.
[2014-06-19 20:54:40 -0400] c_t: how did the gf react?
[2014-06-19 20:55:00 -0400] whiteadam: I didn't tell her.
[2014-06-19 20:55:03 -0400] Ash: good plan
[2014-06-19 20:55:14 -0400] EricL: You should send it to her now.
[2014-06-19 20:55:25 -0400] whiteadam: What women don't know... is included with all of the other stuff they don't know.
[2014-06-19 20:55:33 -0400] whiteadam: EricL: That's actually a good idea.
[2014-06-19 20:56:01 -0400] EricL: With a note that says, "Thanks for the A, B"
[2014-06-19 20:56:09 -0400] whiteadam: snap
[2014-06-19 20:56:12 -0400] whiteadam: We've got a winner
[2014-06-19 20:56:16 -0400] EricL: Actually, that will only work if she was shitty.
[2014-06-19 20:56:23 -0400] whiteadam: She was
[2014-06-19 20:56:49 -0400] EricL: Then you know where the send button is located.
[2014-06-19 20:57:23 -0400] EricL: Kind of bums me out though.  I only have 2 good ideas a year and I just wasted this oen.
[2014-06-19 20:57:49 -0400] whiteadam: Sorry bro. Go be a copy.
[2014-06-19 20:57:51 -0400] whiteadam: or a cop
[2014-06-19 20:58:29 -0400] Ash: I wouldn't say you wasted it
[2014-06-19 20:58:41 -0400] jtimberman: Supermarket Redirect Post Mortem youtube (starting in a few minutes): http://t.co/Y288iffZPz (background: http://www.getchef.com/blog/2014/06/18/supermarket-https-redirect-public-postmortem-meeting/)
[2014-06-19 20:58:54 -0400] whiteadam: DB2 is the best database ever. Work sarcasm.
[2014-06-19 20:58:56 -0400] Ash: supermarket sweep
[2014-06-19 20:59:02 -0400] whiteadam: Is it!?
[2014-06-19 20:59:12 -0400] c_t: You couldn't call it "Clean-up Aisle 6"?
[2014-06-19 21:01:13 -0400] whiteadam: ty nine
[2014-06-19 21:02:29 -0400] whiteadam: afk beer
[2014-06-19 21:07:59 -0400] grayhemp: Hi. I'm reading the docs about Chef-DK now and have noticed a new term 'app' there (chef generate app ...). I haven't found any good explanation of it. What is that conceptually?
[2014-06-19 21:09:28 -0400] matti: Public post-mortem.
[2014-06-19 21:09:29 -0400] matti: Wow.
[2014-06-19 21:09:52 -0400] coderanger: grayhemp: lolno
[2014-06-19 21:10:11 -0400] whiteadam: grayhemp: The chef generate app subcommand is used to generate an application based on a cookbook and an independent Berksfile.
[2014-06-19 21:10:12 -0400] coderanger: grayhemp: I recommend you entirely ignore the "chef" command line tool, you don't need it and it shouldn't exist
[2014-06-19 21:11:55 -0400] whiteadam: grayhemp: It basically generates a cookbook with some other stuff. Ignore it.
[2014-06-19 21:12:03 -0400] grayhemp: whiteadam: what do you mean by "an application based on a cookbook and an independent Berksfile". Any examples?
[2014-06-19 21:12:15 -0400] coderanger: grayhemp: "application cookbook"
[2014-06-19 21:12:26 -0400] whiteadam: grayhemp: http://docs.opscode.com/ctl_chef.html  There's an example there
[2014-06-19 21:14:13 -0400] grayhemp: whiteadam, coderanger, yes I saw the example, but I can't understand what could we need such a structure for? What is the main conceptual difference between app and cookbook?
[2014-06-19 21:14:56 -0400] coderanger: grayhemp: Its a subset of, an application cookbook is a type of cookbook that uses building blocks (recipes, resources) from reuasble "library cookbooks"
[2014-06-19 21:15:11 -0400] coderanger: grayhemp: What language ecosystem are you most familiar with, I can tailor my metaphors
[2014-06-19 21:15:33 -0400] whiteadam: grayhemp: App might be "clownpoop.com" and library might be "nginx"  i think
[2014-06-19 21:15:44 -0400] grayhemp: coderanger: ruby for example
[2014-06-19 21:16:06 -0400] coderanger: grayhemp: So an app cookbook is like a Rails app, vs. library cookbooks being plugins or gems
[2014-06-19 21:16:20 -0400] coderanger: grayhemp: The former uses teh building blocks of the latter
[2014-06-19 21:17:14 -0400] grayhemp: coderanger, whiteadam, okay, I see. It makes sense, thank you guys.
[2014-06-19 21:18:58 -0400] gleam: www.clownfart.penis?
[2014-06-19 21:24:45 -0400] nowthatsamatt: is postmortem one word or two, this is killing me
[2014-06-19 21:26:04 -0400] jblack: http://dictionary.reference.com/browse/postmortem?s=t
[2014-06-19 21:26:07 -0400] jblack: one
[2014-06-19 21:26:41 -0400] matti: nowthatsamatt: http://www.brainboxx.co.uk/a3_aspects/pages/punct_hyphen.htm
[2014-06-19 21:26:52 -0400] matti: jblack: post-mortem is not a mistake either.
[2014-06-19 21:27:34 -0400] jblack: No wonder there was a revolutionary war. :)
[2014-06-19 21:28:40 -0400] nowthatsamatt: haha
[2014-06-19 21:29:06 -0400] jwele: I am learning chef and have been spending all day trying to understand an issue I am having with a mysql cookbook (https://github.com/opscode-cookbooks/mysql). When I provision I get a error "FATAL: LoadError: no such file to load -- chef/provider/lwrp_base" I am running chef-solo 11.12 and ruby 2.0.0p451 (universal.darwin). Has anyone else encountered this or have a feeling for what is causing this issue?
[2014-06-19 21:29:13 -0400] matti: jblack: Haha
[2014-06-19 21:29:51 -0400] coderanger: jwele: Are you certain you are running that version?
[2014-06-19 21:29:59 -0400] coderanger: jwele: That error would only show up on much older chef
[2014-06-19 21:30:00 -0400] jwele: of ruby?
[2014-06-19 21:30:12 -0400] jwele: I used the installer from the chef website
[2014-06-19 21:30:17 -0400] jwele: the shell script
[2014-06-19 21:31:13 -0400] jwele: is it possible the ruby version may be to high? It seems the mysql cookbook likes version 1.9
[2014-06-19 21:31:45 -0400] coderanger: jwele: No, thats fine
[2014-06-19 21:31:51 -0400] coderanger: jwele: How are you running chef?
[2014-06-19 21:32:04 -0400] jwele: vagrant
[2014-06-19 21:32:54 -0400] coderanger: jwele: Are you using the vagrant-omnibus plugin?
[2014-06-19 21:33:03 -0400] coderanger: jwele: The default images ship with chef 10 still, I think
[2014-06-19 21:33:03 -0400] jwele: How do I get that plugin?
[2014-06-19 21:33:18 -0400] coderanger: jwele: vagrant plugin install vagrant-omnibus
[2014-06-19 21:33:26 -0400] coderanger: and then enable it your vagrantfile
[2014-06-19 21:33:42 -0400] coderanger: jwele: If you are just getting started, I recommend learning test-kitchen instead of vagrant btw
[2014-06-19 21:33:50 -0400] coderanger: better habit to get in to
[2014-06-19 21:36:41 -0400] jwele: coderanger: Thanks for the heads up I will look into test-kitchen also that command did the trick. I was running a lamp vagrant box by (https://github.com/mattandersen/vagrant-lamp/) but the ruby version was too old to install some stuff I needed for bootstrap so I on a limp decided to make a github repo and maintain a vagrant box of my own for dec
[2014-06-19 21:36:42 -0400] jwele: dev*
[2014-06-19 21:38:21 -0400] jwele: coderanger: Hard to find a good vagrant-lamp box it seems. I probably am too ambitious to think that I could jump into vagrant/chef this way. Thanks again for the help.
[2014-06-19 21:56:50 -0400] jmreicha: I am having issues with data bags and test kitchen, not sure what I'm missing.  I keep getting "ERROR: Data Bag Items must contain a Hash or Mash!" when I try to converge
[2014-06-19 21:57:01 -0400] jmreicha: any ideas?
[2014-06-19 22:00:12 -0400] coderanger: jmreicha: What does the bag item file look like?
[2014-06-19 22:02:18 -0400] jmreicha: @coderanger: one second
[2014-06-19 22:06:02 -0400] jmreicha: @coderanger: This is the current form - https://gist.github.com/jmreicha/f59bf3248bdac23fed5c
[2014-06-19 22:06:34 -0400] jmreicha: I think I might know my issue, after having created that gist.  Gonna try something quick
[2014-06-19 22:09:22 -0400] jmreicha: @coderanger: ok, nevermind it didn't work
[2014-06-19 22:10:29 -0400] coderanger: jmreicha: Looks correct, check that they are getting sync'd over correctly
[2014-06-19 22:15:01 -0400] jmreicha: @coderanger: I updated the gist with the bit that it is choking on
[2014-06-19 22:15:18 -0400] jmreicha: It seems to sync correctly, I am lost here
[2014-06-19 22:16:09 -0400] mhenrixon: Hey guys
[2014-06-19 22:16:23 -0400] mhenrixon: anyone able to help me out a little with logging? https://gist.github.com/mhenrixon/83abeac4c20a39f5cb66
[2014-06-19 22:16:32 -0400] mhenrixon: I am trying to make use of rsyslog and loggly
[2014-06-19 22:17:05 -0400] mhenrixon: logging from a rails app trying to capture request body and response body when it counts
[2014-06-19 22:17:58 -0400] mhenrixon: Created a log_subscriber to do that for me like in the gist
[2014-06-19 22:18:10 -0400] mhenrixon: unfortunately however it seems like we are loosing some logs for some reason I can't explain
[2014-06-19 22:18:22 -0400] mhenrixon: I mean transactions hardly create themselves right?
[2014-06-19 22:19:15 -0400] mhenrixon: Would it be better to use access logging for nginx to dump this information and use something more railsy for the application logging?
[2014-06-19 22:32:03 -0400] AlainODea: mhenrixon: rsyslog is guaranteed delivery unless you use SELP. TCP isn't enough.  Loggly should be, but it's worth checking their docs
[2014-06-19 22:32:43 -0400] AlainODea: We do on system logs and use Splunk Forwarders.  It's been seamless so far
[2014-06-19 23:05:53 -0400] jmreicha: @coderanger:  The issue was that I was using chef-solo as the provisioner, needed to change to chef-zero
