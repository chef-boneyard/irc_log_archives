[2014-06-26 00:00:08 -0400] mfeingold: knife ssh ipaddress
[2014-06-26 00:00:11 -0400] mfeingold: Would be a good way
[2014-06-26 00:00:14 -0400] mfeingold: or node name
[2014-06-26 00:00:17 -0400] mfeingold: or something
[2014-06-26 00:00:22 -0400] cheeseplus: mfeingold: well that command will just run chef-client on any machines matching that query
[2014-06-26 00:00:32 -0400] mfeingold: Yeah I typed in the name
[2014-06-26 00:00:46 -0400] mfeingold: knife ssh "name:ign-jenkins"
[2014-06-26 00:00:59 -0400] mfeingold: I followed they're syntax example
[2014-06-26 00:01:25 -0400] cheeseplus: test a search (not a knife ssh) to make sure it returns results
[2014-06-26 00:01:29 -0400] mfeingold: I mean knife ssh name:"ign-jenkins"
[2014-06-26 00:01:36 -0400] mfeingold: Aww
[2014-06-26 00:01:38 -0400] mfeingold: Good Idead
[2014-06-26 00:01:39 -0400] mfeingold: Idea
[2014-06-26 00:01:59 -0400] cheeseplus: I mean chef server won't return anything if it's not there
[2014-06-26 00:02:17 -0400] mfeingold: yeah
[2014-06-26 00:02:29 -0400] mfeingold: Yeah It's not finding anything
[2014-06-26 00:02:34 -0400] cheeseplus: well there are other reasons too but let's assume things are working
[2014-06-26 00:02:40 -0400] mfeingold: Thanks guys, well I gotta go
[2014-06-26 00:02:44 -0400] mfeingold: But I will research tonight
[2014-06-26 00:02:46 -0400] cheeseplus: good luck
[2014-06-26 00:02:48 -0400] gyoza: You gotta, or you WANT to?
[2014-06-26 00:02:49 -0400] gyoza: :)
[2014-06-26 00:03:04 -0400] mfeingold: I meant it didn't find the node but found the other jenkins nodes so thats good
[2014-06-26 00:03:04 -0400] gyoza: ahh anyway
[2014-06-26 00:03:07 -0400] mfeingold: It's not on the chef server
[2014-06-26 00:03:18 -0400] mfeingold: I have to look at a place
[2014-06-26 00:03:31 -0400] gyoza: mannnnn
[2014-06-26 00:03:36 -0400] gyoza: im feeling lazy
[2014-06-26 00:58:51 -0400] icarus: coderanger: http://pastie.org/9324743
[2014-06-26 00:58:58 -0400] icarus: how would i make this valid?
[2014-06-26 00:59:13 -0400] icarus: the first execute will go through, but the following 2 are ignored
[2014-06-26 01:03:32 -0400] coderanger: icarus: Looks okay to me, is this just in a normal recipe context?
[2014-06-26 01:03:38 -0400] coderanger: (not an LWRP or something else fancy)
[2014-06-26 01:04:30 -0400] icarus: coderanger: yeah
[2014-06-26 01:05:06 -0400] icarus: the second statement calls on the mysql cookbook
[2014-06-26 01:05:26 -0400] icarus: the last statement i just added to let me know if it was actually working, it cat's output to a file in root
[2014-06-26 01:05:37 -0400] coderanger: icarus: Please pastebin the chef-client output
[2014-06-26 01:05:52 -0400] icarus: coderanger: it doesn't show any failure
[2014-06-26 01:06:00 -0400] icarus: it just simply doesn't execute the two statements
[2014-06-26 01:06:13 -0400] coderanger: icarus: It helps see what chef thinks it is executing
[2014-06-26 01:11:04 -0400] bmurt: so im trying to use vagrant and chef_client with the validation to a vagrant provisioned chef server
[2014-06-26 01:11:47 -0400] bmurt: i'm also learning chef in the process... but Failed to authenticate to the chef server (http 401). is the error. does the validation.pem correspond to the hostname and/or ip?
[2014-06-26 01:12:54 -0400] coderanger: bmurt: No, chef client keys are only tied to a particular API username
[2014-06-26 01:13:00 -0400] bmurt: ok
[2014-06-26 01:13:01 -0400] coderanger: bmurt: Please pastebin your vagrantfile
[2014-06-26 01:13:44 -0400] icarus: coderanger: why are you so cool and up all hours of the day helping everybody out?
[2014-06-26 01:14:15 -0400] coderanger: icarus: poor choice in hobbies?
[2014-06-26 01:14:23 -0400] cheeseplus: lol
[2014-06-26 01:14:30 -0400] cheeseplus: He's a saint, that is why
[2014-06-26 01:14:31 -0400] coderanger: icarus: Also because I'm taking a break from cleaning/unpacking my house
[2014-06-26 01:14:36 -0400] bmurt: coderanger: brace yourself: https://gist.github.com/bmurtagh/5162e04870fd4223b66a
[2014-06-26 01:14:37 -0400] digitalchild: haha
[2014-06-26 01:14:52 -0400] icarus: coderanger: coincidentally so am i!
[2014-06-26 01:15:16 -0400] bmurt: ideally, i'd like them to go over to chef_solo, but it looks like there's some recipes that need to function under chef_client for environment stuff
[2014-06-26 01:15:17 -0400] bmurt: or something
[2014-06-26 01:15:21 -0400] bmurt: still learning so unsure
[2014-06-26 01:15:23 -0400] coderanger: icarus: The real answer is "because someone has to do it, and Opscode doesn't really seem to care much about IRC support, and there aren't enough power users that hang out in here and actively answer questions, so I try to make up the difference"
[2014-06-26 01:16:23 -0400] digitalchild: coderanger: this is how i feel about any channel i idle in
[2014-06-26 01:16:29 -0400] digitalchild: i will help out if i can
[2014-06-26 01:16:38 -0400] digitalchild: and it also means i learn something along the way usually
[2014-06-26 01:18:01 -0400] coderanger: digitalchild: Yeah, I'm happy that there are more folks in here lately, but its hard to keep the answer rate up
[2014-06-26 01:18:14 -0400] coderanger: bmurt: Okay, so its app-mq1 you are working on?
[2014-06-26 01:18:22 -0400] digitalchild: would be good to store the answers in a bot or something..
[2014-06-26 01:18:36 -0400] bmurt: coderanger: correct: https://gist.github.com/bmurtagh/a7b07a7c7d4542c3f215
[2014-06-26 01:18:49 -0400] cheeseplus: coderanger: slowly shifting my helping hours from #riak->#chef
[2014-06-26 01:19:07 -0400] coderanger: cheeseplus: Surviving your first week so far? :)
[2014-06-26 01:19:40 -0400] cheeseplus: so far no injuries
[2014-06-26 01:20:15 -0400] icarus: coderanger: it looks like its not detecting the environment
[2014-06-26 01:20:40 -0400] coderanger: icarus: Are you certain node.chef_environment is correct?
[2014-06-26 01:20:55 -0400] coderanger: icarus: You can check via knife node show
[2014-06-26 01:21:01 -0400] coderanger: cheeseplus: Thats a start :)
[2014-06-26 01:21:15 -0400] coderanger: bmurt: The request failed because your clock has drifted by more than 15 minutes.
[2014-06-26 01:21:21 -0400] coderanger: bmurt: Thats the important bit of the error
[2014-06-26 01:21:40 -0400] bmurt: oh shit, i just saw "please sync.." part
[2014-06-26 01:21:42 -0400] coderanger: bmurt: The Chef API auth system includes a timestamp to try and reduce the scope of replay attacks
[2014-06-26 01:21:55 -0400] coderanger: bmurt: So the client and server need relatively aligned clocks
[2014-06-26 01:22:05 -0400] icarus: coderanger: its chef solo
[2014-06-26 01:22:20 -0400] coderanger: icarus: Whats your node JSON look like then
[2014-06-26 01:24:46 -0400] bmurt: coderanger: makes sense. i didnt even see that part
[2014-06-26 01:25:02 -0400] bmurt: i updated the chef server vm and re-doing app-mq1 so we'll see
[2014-06-26 01:26:18 -0400] icarus: uuuuh think i found the problem, testing against it
[2014-06-26 01:27:14 -0400] bmurt: coderanger: new error is: [2014-06-26T01:25:30+00:00] INFO: HTTP Request Returned 401 Unauthorized: Failed to authenticate. Ensure that your client key is valid.
[2014-06-26 01:28:15 -0400] coderanger: bmurt: Are you sure your key is the correct one?
[2014-06-26 01:28:42 -0400] coderanger: bmurt: Also if you only want stuff for testing, you might want to look in to chef client local-mode
[2014-06-26 01:29:56 -0400] bmurt: coderanger: in a perfect world, i want it to use chef_solor
[2014-06-26 01:29:59 -0400] bmurt: chef_solo
[2014-06-26 01:30:18 -0400] coderanger: bmurt: local-mode is basically solo++
[2014-06-26 01:30:28 -0400] icarus: i just learned about chef_zero today
[2014-06-26 01:30:34 -0400] coderanger: It is solo but with full compat with all chef-server features
[2014-06-26 01:30:35 -0400] icarus: and test-kitchen
[2014-06-26 01:30:40 -0400] icarus: insanely useful stuff
[2014-06-26 01:30:42 -0400] bmurt: my concern is how much work is required to get to that point
[2014-06-26 01:31:05 -0400] bmurt: this has been a bear but i've chopped off ~230 lines from the original v1 vagrantfile
[2014-06-26 01:31:35 -0400] bmurt: and does vagrant support chef_client local mode?
[2014-06-26 01:32:56 -0400] coderanger: bmurt: You can pass command line argument to chef-client so I think so
[2014-06-26 01:40:04 -0400] coderanger: bmurt: You can also use https://github.com/edelight/chef-solo-search to fix that
[2014-06-26 01:45:16 -0400] icarus: coderanger: my environment is not being set
[2014-06-26 01:45:20 -0400] icarus: thats why its not working
[2014-06-26 01:45:24 -0400] icarus: its just riding on default
[2014-06-26 01:45:47 -0400] icarus: niether for a Vagrantfile + chef-solo build or a test-kitchen .kitchen.yml build
[2014-06-26 01:45:57 -0400] icarus: im glad to at least know why it was happening, it was driving me crazy
[2014-06-26 02:01:12 -0400] coderanger: icarus: How were you setting it?
[2014-06-26 02:41:43 -0400] jtimberman: relevant, solo -> localmode http://www.getchef.com/blog/2014/06/24/from-solo-to-zero-migrating-to-chef-client-local-mode/
[2014-06-26 02:59:59 -0400] pipework: jtimberman: I feel like you should have prefaced that with, "Good news, everyone."
[2014-06-26 03:04:40 -0400] someara: https://www.youtube.com/watch?v=6NRe0ZEmSJQ
[2014-06-26 06:19:13 -0400] erratic: gigs and gigs and gigs and gigs and gigs and terabytes of warez
[2014-06-26 06:22:29 -0400] rmt: erratic, can I have an account on your BBS?  Got 56k lines? ;-)
[2014-06-26 06:28:35 -0400] blarf: any thoughts on how to track down a 500 error from chef-server?
[2014-06-26 06:34:36 -0400] CJNE: don't run a chef server myself but i would start with figuring out where it logs and check those (on the server)
[2014-06-26 06:39:11 -0400] silk: Are there currently any issues with Hosted Chef that people are aware of?
[2014-06-26 06:45:15 -0400] erratic: rmt: telnet to my win95 bawx I haz ppp multilinks soo 2x the ppps
[2014-06-26 06:45:42 -0400] erratic: for DoSing the noobs
[2014-06-26 06:47:24 -0400] erratic: rmt: I used to talk to this crazy guy on dalnet who lived in like government housing (so he said) and he had spliced a bunch of telephone lines in his building and was using them to get ppp multilink
[2014-06-26 06:47:36 -0400] digitalchild: woah, dalnet haven't heard that name in a whiles..
[2014-06-26 06:49:05 -0400] erratic: dalnet turned me into a queer
[2014-06-26 06:49:19 -0400] erratic: I miss it
[2014-06-26 06:57:14 -0400] digitalchild: heh
[2014-06-26 06:58:22 -0400] erratic: I almost bothered to setup docker today
[2014-06-26 06:58:34 -0400] digitalchild: ive got that on my todo list
[2014-06-26 06:59:05 -0400] erratic: I've got it installed, think I'm missing a kernel module or something
[2014-06-26 06:59:12 -0400] erratic: figure it out later
[2014-06-26 06:59:18 -0400] erratic: I had more important things to do
[2014-06-26 06:59:44 -0400] erratic: I did not know that ipv6 iptables is separate from ipv4 until I checked today
[2014-06-26 07:05:29 -0400] bcave: ohai
[2014-06-26 07:26:15 -0400] bcave: does anyone know if opscode hosted chef had an outage at all yesterday? the status page shows nothing, but registering nodes / clients failed for a few minutes.
[2014-06-26 07:32:58 -0400] silk: nothing yesterday, but we are currently seeing a bunch of connection reset errors
[2014-06-26 08:42:42 -0400] srenatus: hmm so few cookbooks define custome matchers for the use of chefspec, that I start to wonder... these are needed to test LWRP, right?
[2014-06-26 08:52:21 -0400] tomplast: Hi! I'm looking for a software that helps me take backup of machines for me (folders, configuration files etc). In what way does chef operate, is it only on a file level or can it be used to interact with XenServer to take a backup of the whole virtual machine? I use Debian Linux and I don't only use software available through APT, some are just binary packages and some are manually built.
[2014-06-26 09:31:18 -0400] coderanger: srenatus: Thats to test recipes that use the LWRP
[2014-06-26 09:32:22 -0400] matti: Ohai coderanger
[2014-06-26 09:33:03 -0400] coderanger: Alo
[2014-06-26 09:39:39 -0400] srenatus: coderanger: so you'd add it to the cookbook that contains recipes that use (for example) the jenkin cookbook's LWRPs?
[2014-06-26 09:39:55 -0400] srenatus: s/jenkin/jenkins/
[2014-06-26 09:40:22 -0400] coderanger: srenatus: Generally you include them in the cookbook that contains the LWRP, though I guess thats not required
[2014-06-26 09:41:43 -0400] srenatus: coderanger: ok, thanks for you input
[2014-06-26 09:43:23 -0400] yruss972: Hi- quick template question- can I do <%= @var||"default value" %>
[2014-06-26 09:43:55 -0400] coderanger: yruss972: Yes
[2014-06-26 09:44:09 -0400] yruss972: coderanger: Thanks
[2014-06-26 09:44:14 -0400] dwisnia: Our REST API is available via http://chefserverurlhere:4000 - how can I secure this and make a great merge to https?
[2014-06-26 09:44:35 -0400] coderanger: dwisnia: Are you using chef-server 11?
[2014-06-26 09:44:52 -0400] dwisnia: 10.18
[2014-06-26 09:45:36 -0400] coderanger: dwisnia: Any reason you haven't upgraded in the past several years?
[2014-06-26 09:46:08 -0400] coderanger: dwisnia: All modern chef-server packages ship with HTTPS activated (required) by default
[2014-06-26 09:46:09 -0400] dwisnia: no, already since months on the todo
[2014-06-26 09:46:40 -0400] coderanger: dwisnia: You should consider that server to be an active security threat
[2014-06-26 09:46:51 -0400] dwisnia: okay, i upgrade now
[2014-06-26 09:46:53 -0400] coderanger: dwisnia: There are multiple known RCE exploits against it
[2014-06-26 09:47:00 -0400] dwisnia: dayumn
[2014-06-26 09:47:45 -0400] coderanger: chef-server 11 is backwards compatible so you don't have to upgrade clients at the same time
[2014-06-26 09:50:04 -0400] dwisnia: okay, for an fast upgrade process - if I install chef 11 I need to migrate the data - whats with the "clients"?
[2014-06-26 09:50:12 -0400] coderanger: dwisnia: with chef-server 11 all you need to do to secure things is drop in a TLS cert for the correct hostname
[2014-06-26 09:54:16 -0400] dwisnia: coderanger: pretty nice, let me upgrade now and maybe i had some new questions
[2014-06-26 09:55:03 -0400] coderanger: dwisnia: Okay, most people here are in north america though, so probably won't be too many people answering questions for the next ~3 hours
[2014-06-26 09:55:36 -0400] dwisnia: so sad. I am from germany
[2014-06-26 10:03:21 -0400] Hanmac: hm i might found a tiny bug in the opensource chef server (recent version) ( downloaded there: http://www.getchef.com/chef/install/#tab2 ) with the server ui i add a databag, and then try to add a item into that bag and i got this: " No route matches {:action=>"new", :controller=>"databag_items", :databag_id=>nil}"  what would be the right place to put the isssue? (i thought that https://github.com/opscode/chef/issues might be for the client onl
[2014-06-26 10:06:56 -0400] srenatus: Hanmac: https://tickets.opscode.com/secure/Dashboard.jspa  JIRA for everything, btw
[2014-06-26 10:07:33 -0400] srenatus: Hanmac: you could then, if you want, link the a github pull request in the jira ticket's comment
[2014-06-26 10:07:53 -0400] Hanmac: srenatus: yeah but the important node says "We've moved issue tracking from JIRA to Github Issues." thats why i was unsure
[2014-06-26 10:08:04 -0400] srenatus: oh.
[2014-06-26 10:08:05 -0400] srenatus: :o
[2014-06-26 10:08:16 -0400] srenatus: forgot everything I said then
[2014-06-26 10:08:18 -0400] srenatus: thanks for the pointer
[2014-06-26 10:13:45 -0400] Hanmac: hm i found the right repository but it seems it was already fixed at "12 Mar 2013" in 11.1.2 (11.1.1 is latest ..) hm i dont know seems its not fixed in the version i did download, hm i dont need the databags yet i only noticed that
[2014-06-26 10:23:01 -0400] Breaking_Pitt: Hi guys I have this in my attributes.rb file node.default['trantor']['binary_dir'] = "/opt/bk"
[2014-06-26 10:23:41 -0400] Breaking_Pitt: and this in my recipe     directory node['trantor']['binary_dir']
[2014-06-26 10:24:01 -0400] Breaking_Pitt: but I'm getting this error ERROR: You must supply a name when declaring a directory resource
[2014-06-26 10:27:38 -0400] Breaking_Pitt: some advice?
[2014-06-26 10:28:32 -0400] srenatus: Breaking_Pitt: try just putting default[...] in your attributes/*.rb
[2014-06-26 10:28:40 -0400] matti: Breaking_Pitt: Missing attribute?
[2014-06-26 10:29:32 -0400] Breaking_Pitt: srenatus I don't understand what you mena
[2014-06-26 10:29:33 -0400] Breaking_Pitt: mean
[2014-06-26 10:36:26 -0400] srenatus: Breaking_Pitt: https://github.com/opscode-cookbooks/mysql/blob/master/attributes/default.rb#L2
[2014-06-26 10:36:44 -0400] srenatus: note that it doesn't say "node.default[...] = "
[2014-06-26 10:36:48 -0400] Breaking_Pitt: let me see
[2014-06-26 10:37:22 -0400] srenatus: node.PRECEDENCE[foo][bar] is needed for recipes, though
[2014-06-26 10:37:37 -0400] srenatus: for assignments, not reading attributes, that is.
[2014-06-26 10:38:16 -0400] Breaking_Pitt: srenatus it didn't seem to work...
[2014-06-26 10:38:20 -0400] Breaking_Pitt: same error
[2014-06-26 10:38:23 -0400] Hanmac: hm i need to look if chef already fixed that, yesterday i found a funny error with Node Attribute, because it does inherit from Hash, but overwride the wrong the printing of the attributes might be interesting ... puts attributes will show {} as an empty hash while p attributes will show { ...data... }   ... i mean yeah i know why the error does happen but its still funny to watch ;P
[2014-06-26 10:39:25 -0400] jyoti_bhanot: Hi All
[2014-06-26 10:39:33 -0400] jyoti_bhanot: I need  help
[2014-06-26 10:40:23 -0400] srenatus: Breaking_Pitt: hmm.. typo? ;)
[2014-06-26 10:40:58 -0400] Breaking_Pitt: let me see
[2014-06-26 10:41:42 -0400] jyoti_bhanot: i want a chef recipe that hanges the hostname to the node's name
[2014-06-26 10:41:46 -0400] jyoti_bhanot: please help
[2014-06-26 10:42:33 -0400] jyoti_bhanot: an anyone help me out
[2014-06-26 10:45:36 -0400] jyoti_bhanot: HELP
[2014-06-26 10:45:38 -0400] jyoti_bhanot: HELP
[2014-06-26 10:45:46 -0400] jyoti_bhanot: HELP HELP HELP HELP HELP
[2014-06-26 10:45:51 -0400] jyoti_bhanot: NEED HELP
[2014-06-26 10:48:14 -0400] srenatus: jyoti_bhanot: just ask
[2014-06-26 10:48:47 -0400] srenatus: jyoti_bhanot: here, not via privmsg
[2014-06-26 10:49:19 -0400] jyoti_bhanot: i need a chef recipe which sets the hostname as the node name of an instance
[2014-06-26 10:49:26 -0400] jyoti_bhanot: i am very new to chef
[2014-06-26 10:49:49 -0400] jyoti_bhanot: the already uploaded recipes are very difficult to use
[2014-06-26 10:50:36 -0400] jyoti_bhanot: @<srenatus> : can u help me
[2014-06-26 10:50:59 -0400] Breaking_Pitt: srenatus http://pastebin.com/x2krDqM8 this is the code i use  with the node atributte http://pastebin.com/x2krDqM8
[2014-06-26 10:51:19 -0400] jyoti_bhanot: @srenatus : let me check
[2014-06-26 10:51:47 -0400] srenatus: Breaking_Pitt: you posted the same thing twice, I think
[2014-06-26 10:51:58 -0400] Breaking_Pitt: mistake ;)
[2014-06-26 10:52:02 -0400] Breaking_Pitt: but this is the code
[2014-06-26 10:52:02 -0400] jyoti_bhanot: do u have any recipe for that
[2014-06-26 10:52:14 -0400] Breaking_Pitt: the node attribute is as a wrote before
[2014-06-26 10:52:40 -0400] jyoti_bhanot: I am very new to chef
[2014-06-26 10:52:41 -0400] srenatus: jyoti_bhanot: why is it that you want the hostname to be the node name?  this should be the case by default anyways, i.e. nodename defaults to `hostname -f`
[2014-06-26 10:53:26 -0400] jyoti_bhanot: I have bootstrap an EC2 instance and when i use the command
[2014-06-26 10:53:28 -0400] jyoti_bhanot:  hostname -f hostname: Unknown host
[2014-06-26 10:53:59 -0400] jyoti_bhanot: hostname is not reflected in my amazon instance
[2014-06-26 10:54:06 -0400] jyoti_bhanot: how can i change my hostname
[2014-06-26 10:54:45 -0400] jyoti_bhanot: I am stuck since 5 days
[2014-06-26 10:54:49 -0400] jyoti_bhanot: how to do that
[2014-06-26 10:54:55 -0400] srenatus: `hostname -f` should return your VMs FQDN
[2014-06-26 10:54:59 -0400] srenatus: and this is what nodename defaults to
[2014-06-26 10:55:20 -0400] srenatus: so, if you make hostname -f return the right thing before the chef-run, you're done
[2014-06-26 10:55:33 -0400] srenatus: changing it the other way around seems weird
[2014-06-26 10:55:36 -0400] jyoti_bhanot: that i have to do mannually
[2014-06-26 10:55:48 -0400] jyoti_bhanot: i just want that jhostname should be set to nodename
[2014-06-26 10:56:08 -0400] srenatus: jyoti_bhanot: no idea, there might be a cookbook for that...
[2014-06-26 10:56:32 -0400] jyoti_bhanot:  there are but I dont know how to use them
[2014-06-26 10:56:36 -0400] srenatus: I'd rather use cloudinit with the userdata "#cloud-config\nmanage-etc-hosts: true" to have /etc/hosts set up properly
[2014-06-26 10:57:20 -0400] jyoti_bhanot: I want to use some recipe for this
[2014-06-26 10:58:02 -0400] jyoti_bhanot: can anybody help me
[2014-06-26 10:58:30 -0400] srenatus: jyoti_bhanot: look at this one for example, https://github.com/3ofcoins/chef-cookbook-hostname/blob/develop/recipes/default.rb
[2014-06-26 10:59:05 -0400] srenatus: jyoti_bhanot: it expects you to set node['set_fqdn'] = '*.we.are.awesome.com' and replace the * with node.name
[2014-06-26 10:59:44 -0400] srenatus: jyoti_bhanot: when you include "recipe[hostname]" in your run_list, of course.
[2014-06-26 11:00:11 -0400] srenatus: (I have no clue if this works, though)
[2014-06-26 11:00:34 -0400] jyoti_bhanot: I uploaded this recipe
[2014-06-26 11:00:39 -0400] jyoti_bhanot: but it didnt work
[2014-06-26 11:00:48 -0400] jyoti_bhanot: its so complicated
[2014-06-26 11:00:57 -0400] srenatus: sorry, lunch. bbiab.
[2014-06-26 11:01:24 -0400] srenatus: you need a) the attribute, b) the recipe in the run list, c) a chef-run.
[2014-06-26 11:02:00 -0400] jyoti_bhanot: I ma stuck
[2014-06-26 11:02:03 -0400] jyoti_bhanot: :(
[2014-06-26 11:02:05 -0400] jyoti_bhanot: :(
[2014-06-26 11:10:58 -0400] jyoti_bhanot: chef users
[2014-06-26 11:23:27 -0400] matti: jyoti_bhanot: What's the issue? ;]
[2014-06-26 11:25:28 -0400] Hanmac: hm i might have a problem with the run list ... i made a short Recipes, but when i bootstrap the node, it isnt run ... and when i looked into the webui after a bootstrap the Recipe is kicked out of the "Run List" .. any idea what i might did wrong? (still chef noob)
[2014-06-26 11:26:22 -0400] jonlives: Hanmac: if the first chef run on a node fails, the node object (including its run_list) won't get saved to the server
[2014-06-26 11:27:45 -0400] Hanmac: i used the webui to put the recipe into the run list ... now what do i need todo to let the node run the run list? (maybe bootstrap is not the command i am looking for?)
[2014-06-26 11:29:25 -0400] jonlives: Hanmac: oh! in that case that's not what's happening.
[2014-06-26 11:29:26 -0400] svparijs_: Hanmac: maybe chef-client? that usually does the trick for me
[2014-06-26 11:29:44 -0400] jonlives: Hanmac: if the node's already registered with Chef you just need to run chef-client on the node
[2014-06-26 11:30:24 -0400] jonlives: bootstrap is only really used for installing chef on the node and performing the initial registration with the chef server and first chef run.
[2014-06-26 11:31:27 -0400] Hanmac: gasp! it does what i want!! thanks for the help
[2014-06-26 11:39:39 -0400] Hanmac: so i commited my own little issue at the github issues list ... (okay it can be fixed with one single line but the problem is still a bit funny)
[2014-06-26 11:42:43 -0400] jyoti_bhanot: @matti: how to set hostname using chef recipe
[2014-06-26 11:45:24 -0400] matti: http://community.opscode.com/cookbooks/hostname
[2014-06-26 11:45:42 -0400] jyoti_bhanot: I dont know how to do this
[2014-06-26 11:46:22 -0400] jyoti_bhanot: @matti :
[2014-06-26 11:46:26 -0400] jyoti_bhanot: can u help me out
[2014-06-26 12:08:00 -0400] Hanmac: matti: hihiihi i looked at this out of interest and the fn is there are still ~ files inside even git should ignore them ;P
[2014-06-26 12:15:37 -0400] whiteadam: matti: tell me how to chef good
[2014-06-26 12:21:10 -0400] AllanEspinos: hi is there a way to manually set the public key of a client on the chef-server?
[2014-06-26 12:22:28 -0400] AllanEspinos: i'm generating a private key on my berkshelf-api server. then save the public key with the node object.  then i want to grab that public key and set it as a chef-server client's public key
[2014-06-26 12:26:15 -0400] hanskreuger: AllanEspinos: you can use knife to edit/set the public key, so the api exists - you'd need to call the chef api from within your recipe
[2014-06-26 12:28:07 -0400] dwisnia: hey guys, did you upgraded chef from 10 to 11 on the same server? How you did that?
[2014-06-26 12:28:26 -0400] whiteadam: dwisnia: I think i did. Open Source Server?
[2014-06-26 12:28:30 -0400] dwisnia: yes
[2014-06-26 12:29:13 -0400] dwisnia: I thinking about whats the better way is, new server with a fresh install or a upgraded with hopefully less work.
[2014-06-26 12:29:17 -0400] srenatus: jyoti_bhanot: have you looked into a generic tutorial for using chef?  getchef.com has some resources to get you started
[2014-06-26 12:29:18 -0400] whiteadam: dwisnia: http://docs.opscode.com/release/osc_11-1/release_notes.html#new-upgrade-subcommand
[2014-06-26 12:29:25 -0400] hanskreuger: AllanEspnos: instead, could you perhaps reuse the key pair that the chef-client generates?
[2014-06-26 12:29:39 -0400] AllanEspinos: i tried editing from my workstation.  but it doesn't save the new public key
[2014-06-26 12:29:42 -0400] whiteadam: dwisnia: Mine upgraded without issue, rather quick.
[2014-06-26 12:29:52 -0400] dwisnia: whiteadam: i am still on chef-10
[2014-06-26 12:29:53 -0400] dwisnia: not 11
[2014-06-26 12:30:02 -0400] AllanEspinos: that should work as well
[2014-06-26 12:30:13 -0400] AllanEspinos: at least at this point , i don't need to have those separate
[2014-06-26 12:30:37 -0400] whiteadam: dwisnia: I believe this should work. You stop your current Chef, install the new one, then run the upgrade command.
[2014-06-26 12:30:55 -0400] whiteadam: dwisnia: Actually, one sec, I'll log into mine and look at the bash history
[2014-06-26 12:31:22 -0400] dwisnia: whiteadam: its a bit more complex: 3
[2014-06-26 12:31:28 -0400] dwisnia: http://www.getchef.com/blog/2013/03/12/5106/
[2014-06-26 12:31:48 -0400] dwisnia: there jtimberman is it installing on a new machine
[2014-06-26 12:32:04 -0400] AllanEspinos: also in having call the api to create the api won't probably work as the node doesn't have admin privileges to create more clients
[2014-06-26 12:32:05 -0400] whiteadam: dwisnia: Nope, I'm sorry, I went from 11 to 11.1   I forgot that I did install it on a new machine when I went from 10 to 11
[2014-06-26 12:32:13 -0400] AllanEspinos: unless you haven't deleted the validation key yet
[2014-06-26 12:32:28 -0400] hanskreuger: good point
[2014-06-26 12:33:15 -0400] hanskreuger: You could have a recipe on the chef-server manage the registration of extra clients if you really needed to go that way
[2014-06-26 12:33:58 -0400] AllanEspinos: yeah that coordination should work
[2014-06-26 12:34:38 -0400] AllanEspinos: worked around changed a client's public key via knife upload !
[2014-06-26 12:38:45 -0400] bmurt: anyone know the recent vagrant plugin created for chef_solo data bags?
[2014-06-26 12:38:58 -0400] bmurt: i'm trying to convert nodes from relying on chef_client to chef_solo
[2014-06-26 12:41:29 -0400] n1ko: what plugin..?
[2014-06-26 12:41:34 -0400] n1ko: never used a plugin for that
[2014-06-26 12:42:07 -0400] n1ko: except for knife solo, but thats not for that
[2014-06-26 12:44:14 -0400] _pingu: the chef runs always tell me, that 1 ressource was updated. the logs say mysql action install. But it is not istalled. http://pastebin.com/R6CR0L11  why, and what can I do to avoid this, except a new installation?
[2014-06-26 12:44:51 -0400] _pingu: it's on a suse 11
[2014-06-26 12:51:49 -0400] whiteadam: Has anyone here made any RHEL .box files for use with Vagrant?
[2014-06-26 12:52:37 -0400] whiteadam: Actually, nvm, I'll just launch em on AWS and spare myself the pain :)
[2014-06-26 12:53:01 -0400] srenatus: whiteadam: doesn't opscode provide them? not sure if CentOS only or also RHEL though...
[2014-06-26 12:53:37 -0400] whiteadam: srenatus: It's just CentOS, which should be fine, but better to know for sure before launching into Prod ya know
[2014-06-26 12:53:47 -0400] bmurt: n1ko: my apologies, i think its https://github.com/edelight/chef-solo-search
[2014-06-26 12:56:06 -0400] srenatus: whiteadam: yep
[2014-06-26 13:06:01 -0400] whiteadam: What tests are everyone using these days? Chef-spec?
[2014-06-26 13:06:58 -0400] srenatus: +1
[2014-06-26 13:16:46 -0400] _pingu: I have a problem wih a not_if  http://pastebin.com/vsQWpzLm
[2014-06-26 13:17:14 -0400] _pingu: looks like a bug
[2014-06-26 14:01:26 -0400] someara: whiteadam: http://vimeo.com/98938732
[2014-06-26 14:02:19 -0400] matti: whiteadam: Hm?
[2014-06-26 14:02:25 -0400] someara: _pingu the mysql_service resource shipped in the opscode mysql cookbook supports suse: https://github.com/opscode-cookbooks/mysql
[2014-06-26 14:02:31 -0400] matti: Hanmac: I just found first one there.
[2014-06-26 14:02:46 -0400] matti: Hanmac: He kept on asking me on /query again and again and again. Got annoyed.
[2014-06-26 14:06:17 -0400] _pingu: someara: I just logged in again after some time. did I miss something? I just read your last post, but I don't want to use the mysql cookbook
[2014-06-26 14:06:36 -0400] someara: no I'm just responding to bakc scroll
[2014-06-26 14:07:19 -0400] someara: s/bakc/back/
[2014-06-26 14:07:51 -0400] whiteadam: someara: shameless self promotion!  but I'll watch it anyway :)
[2014-06-26 14:08:24 -0400] someara: _pingu I don't see why not... but any way you should be able to pull useful bits out of the suse provider: https://github.com/opscode-cookbooks/mysql/blob/master/libraries/provider_mysql_service_suse.rb
[2014-06-26 14:09:56 -0400] _pingu: someara: ok, i'll take a look
[2014-06-26 14:10:54 -0400] dwisnia: damn got an error if i want to upgrade the knife-essentials https://gist.github.com/anonymous/ee6cdec7c1ffa115a151
[2014-06-26 14:11:47 -0400] _pingu: someara: ah, ok. I can try only_if "/usr/bin/mysql -u root -e 'show databases;'"  thanks. :-)
[2014-06-26 14:12:52 -0400] _pingu: bye
[2014-06-26 14:12:54 -0400] matti: whiteadam: http://www.zombo.com/
[2014-06-26 14:13:03 -0400] matti: whiteadam: The only limit is yourself!
[2014-06-26 14:13:39 -0400] gchristensen: Zombocom welcomes you!
[2014-06-26 14:17:50 -0400] rsavage: What's the best way to programatically access a chef-server via an API?
[2014-06-26 14:18:22 -0400] rsavage: for example, to make API calls to the server to read/modify data_bags, etc...?
[2014-06-26 14:19:23 -0400] whiteadam: matti: http://yzzerdd.com/
[2014-06-26 14:19:46 -0400] whiteadam: matti: make sure to turn off your pop-up blocker
[2014-06-26 14:22:57 -0400] rsavage: What's the best way to programatically access a chef-server via an API?  Or what do most people do?  For example to modify "databags/envs/etc..", programatically... ?
[2014-06-26 14:23:23 -0400] whiteadam: rsavage: You mean like this? http://docs.opscode.com/api_chef_server.html
[2014-06-26 14:23:55 -0400] rsavage: whiteadam: yes like that... is that the best way though?  I hear there are others... I was wondering what the best approach is...
[2014-06-26 14:24:10 -0400] whiteadam: I was thinking the API was REST only
[2014-06-26 14:25:04 -0400] rsavage: my co-worker found ridley and pychef
[2014-06-26 14:25:20 -0400] rsavage: but I was wondering if there others
[2014-06-26 14:25:35 -0400] someara: https://github.com/sethvargo/chef-api
[2014-06-26 14:25:53 -0400] whiteadam: ^
[2014-06-26 14:26:51 -0400] jonlives: rsavage: there are api libs for most languages now
[2014-06-26 14:26:56 -0400] jonlives: rsavage: any preference? :p
[2014-06-26 14:26:58 -0400] rsavage: someara: thanks
[2014-06-26 14:27:02 -0400] whiteadam: someara: this video you linked is the jam, thanks. Always good to see someone actually do it.
[2014-06-26 14:27:03 -0400] rsavage: jonlives: Ruby
[2014-06-26 14:27:46 -0400] jonlives: rsavage: so if you'll forgive the self-plug there's an entire chapter on the API in the early release of http://shop.oreilly.com/product/0636920032984.do, and the code examples are all ruby
[2014-06-26 14:28:53 -0400] whiteadam: jonlives: ooh a new book
[2014-06-26 14:29:12 -0400] jonlives: whiteadam: yeah - should be out sept - nov this year
[2014-06-26 14:29:26 -0400] jonlives: nearly finished first draft but it's gotta go through editing & copy layout stuff etc yet
[2014-06-26 14:30:15 -0400] whiteadam: jonlives: Yeah, English degree here. I know the pain of writing. Always afraid I've gotten things wrong, gotta test em like 10 times :)
[2014-06-26 14:30:21 -0400] jonlives: early relase give you the work in progress as it happens, then you get the full version once it's out
[2014-06-26 14:30:28 -0400] jonlives: whiteadam: haha yeah totally
[2014-06-26 14:30:29 -0400] whiteadam: that's pretty cool
[2014-06-26 14:30:41 -0400] whiteadam: jonlives: and you probably get a whole $0.10 per copy :)
[2014-06-26 14:30:50 -0400] jonlives: whiteadam: I'm not doing it for the money anyway :p
[2014-06-26 14:31:04 -0400] jonlives: if I was I'd have written some teenage vampire / werewolf novel.
[2014-06-26 14:31:22 -0400] jonlives: maybe a vampire who uses chef.
[2014-06-26 14:31:25 -0400] whiteadam: Yeah, unless you're writing the next Harry Potter, being an author doesn't pay the bills.
[2014-06-26 14:31:31 -0400] jonlives: indeed so
[2014-06-26 14:31:54 -0400] jonlives: still planning on keeping my day job, put it  that way :p
[2014-06-26 14:32:16 -0400] whiteadam: lol
[2014-06-26 14:33:05 -0400] jonlives: but then, I like my day job enough that it doesn't bother me to keep it :p
[2014-06-26 14:36:50 -0400] matti: whiteadam: Haha
[2014-06-26 15:00:02 -0400] bmurt: anyone using https://github.com/andrewgross/vagrant-chef-zero
[2014-06-26 15:06:09 -0400] adamjk-dev: hey all, anyone have a cookbook suggestion for installing ra Ruby 2.x  onto a machine?
[2014-06-26 15:16:29 -0400] bmurt: how are people converting from vagrant's chef_client to chef_solo with lines like: cluster_nodes = search(:node, %Q{chef_environment:#{node.chef_environment} AND roles:app_queue}) in their recipes
[2014-06-26 15:18:20 -0400] cheeseplus: bmurt: http://www.getchef.com/blog/2014/06/24/from-solo-to-zero-migrating-to-chef-client-local-mode/
[2014-06-26 15:19:30 -0400] cheeseplus: bmurt: there are some ways to make chef-solo have search but IMO it's not worth the extra effort
[2014-06-26 15:22:50 -0400] mattray: bmurt: check out vagrant-chef-zero
[2014-06-26 15:25:50 -0400] bmurt: the problem with chef-zero is that i think it requires chef 11.x
[2014-06-26 15:25:54 -0400] bmurt: we're still v10
[2014-06-26 15:36:56 -0400] bmurt: any further thoughts mattray
[2014-06-26 15:38:01 -0400] mattray: bmurt: I don't mean to sound like a smartass, but you are nearing the deprecation age of Chef 10. Most new tooling isn't being tested against it at all
[2014-06-26 15:38:38 -0400] whiteadam: Yeah gandpa, it'
[2014-06-26 15:38:44 -0400] mattray: Chef Zero showed up in Chef 11
[2014-06-26 15:38:45 -0400] whiteadam: it's chef 11 now! ;)
[2014-06-26 15:39:04 -0400] mattray: it's been part of the omnibus install since 11.8
[2014-06-26 15:39:08 -0400] bmurt: im inheriting this
[2014-06-26 15:39:23 -0400] whiteadam: :(
[2014-06-26 15:39:29 -0400] bmurt: just trying to use what they've been using as i convert & clean-up the dev's vagrant env's
[2014-06-26 15:39:33 -0400] bmurt: envs*
[2014-06-26 15:39:49 -0400] bmurt: they currently have a ~450 lined vagrant file to install 7 or 8 nodes
[2014-06-26 15:39:55 -0400] mattray: bmurt: lemme go find you some logic for dealing with Solo then
[2014-06-26 15:40:00 -0400] bmurt: thank you mattray
[2014-06-26 15:40:33 -0400] bmurt: i'd prefer to have the nodes use chef_solo vs chef_client which will also allow me to discard the chef server all together, but im not sure what's all involved
[2014-06-26 15:41:31 -0400] mattray: bmurt: https://github.com/opscode-cookbooks/apt/blob/master/recipes/cacher-client.rb#L46
[2014-06-26 15:41:34 -0400] bmurt: i was spoiled at $oldjob where i spun up the puppet infrastructure and was able to get away with puppet apply
[2014-06-26 15:41:46 -0400] mattray: you can check to see if you're running solo, then don't use the search
[2014-06-26 15:41:52 -0400] bmurt: ahhh
[2014-06-26 15:42:26 -0400] bmurt: so essentially skips the search, but the follow-up question with that is how is the recipes then affected
[2014-06-26 15:42:27 -0400] bmurt: :/
[2014-06-26 15:42:45 -0400] mattray: well, you're probably searching for other nodes, you'll hard-code them?
[2014-06-26 15:42:50 -0400] mattray: in attributes?
[2014-06-26 15:43:01 -0400] mattray: you could set the attributes you're searching for in roles or environments only used by Vagrant
[2014-06-26 15:44:02 -0400] bmurt: gotcha, so essentially change https://gist.github.com/bmurtagh/930b04c798e172cf0bd5#file-app-rb-L10
[2014-06-26 15:44:15 -0400] bmurt: and add unless Chef::Config[:solo] || servers.length > 0
[2014-06-26 15:45:02 -0400] bmurt: so the recipe would need to be edited to add addition logic and hardcode to be referenced depending on the running env (client vs solo)
[2014-06-26 16:06:07 -0400] froolie: Validation question: I'm trying to bootstrap a vm to a new-to-me chef server. I set up knife.rb correctly, and am able to do knife commands on the server manually like knife node list
[2014-06-26 16:06:52 -0400] froolie: when I try and bootstrap a node though it errors out with: Failed to authenticate to the chef server (http 401). Invalid signature for user or client 'chef-validator'
[2014-06-26 16:07:08 -0400] froolie: and in the relevant config section it has this line: validation_key          "/etc/chef/validation.pem"
[2014-06-26 16:07:33 -0400] froolie: which is not in my knife.rb file. Is it trying to find this file on the chef server itself?
[2014-06-26 16:08:58 -0400] froolie: or I guess the real question is, where is this setting being pulled from in the bootstrap process?
[2014-06-26 16:13:25 -0400] froolie: nvm...I was being lazy and neglected to Google first...
[2014-06-26 16:31:46 -0400] jarsever: So just a feature request... In the future can we be able to split up the templates in a cookbook into subfolders specified by the recipe name being ran and then into platforms and versions?  This would be nice.  Right now it is either platforms or 'default' but nothing else.
[2014-06-26 16:45:16 -0400] |rt|: has anyone see the apt_package resource refuse to install a newer version of a package when a version is specified?  In debug it sees the correct current and candidate versions but then says already installed - nothing to do
[2014-06-26 16:46:36 -0400] douglaswth: |rt|: have you tried using the upgrade action instead?
[2014-06-26 16:47:28 -0400] |rt|: douglaswth: upgrade action is dangerous as the moment a new package is published to our repo chef will install it
[2014-06-26 16:47:43 -0400] |rt|: upgrade ignores the version attribute
[2014-06-26 16:48:44 -0400] |rt|: I haven't ruled out issues with our packages yet though
[2014-06-26 16:49:36 -0400] |rt|: but the nothing to do message doesn't appear to come from apt but from the package provider code and debug seems to indicate that apt is never getting run
[2014-06-26 16:50:46 -0400] anthonyacquanita: any good ways to detect if you're running inside of docker while doing kitchen converge?
[2014-06-26 16:52:21 -0400] mattray: anthonyacquanita: knife docker adds ohai data, but from within docker you don't have much visibility
[2014-06-26 16:52:43 -0400] mattray: that's a "feature" of docker
[2014-06-26 16:52:43 -0400] froolie: here's something I can't seem to wrap my head around. If I have an app cookbook that depends on a Java cookbook to run first, is it enough to add that dependency as include_recipe in the app recipe and also in metadata, or do I need to add the java cookbook to the run list as well?
[2014-06-26 16:53:06 -0400] froolie: in other words, will the include invoke the java cookbook even if it's not in the node's run list?
[2014-06-26 16:53:07 -0400] anthonyacquanita: container=lxc  env might be set.. checking
[2014-06-26 16:53:17 -0400] mattray: froolie: yes
[2014-06-26 16:53:27 -0400] mattray: froolie: if you include_recipe it, you don't need it in your run_list
[2014-06-26 16:53:31 -0400] froolie: mattray: great, thanks
[2014-06-26 16:53:47 -0400] mattray: anthonyacquanita: newer docker doesn't even use lxc
[2014-06-26 16:54:15 -0400] mattray: I mean, it might be set, but libcontainer goes directly to the kernel by my understanding
[2014-06-26 16:54:19 -0400] anthonyacquanita: oh!  that new to me
[2014-06-26 17:07:10 -0400] davidordave: Does yum_package not downgrade if the version specified is lower than the version installed? I tried setting the allow_downgrade attr, but still no luck.
[2014-06-26 17:09:35 -0400] btm: davidordave: Are they both available in the cache? Could be a bug in the code that loads the cache.
[2014-06-26 17:13:34 -0400] davidordave: @btm thanks for the direction. I will do some more manual testing to see if I can figure out what is going on :/
[2014-06-26 17:14:23 -0400] miketheman: should one sort results in the search syntax, or in the recipe (ruby) once they are returned?
[2014-06-26 17:15:25 -0400] miketheman: Also, why doesn't chef server return consistently sorted results?
[2014-06-26 17:15:58 -0400] gleam: i sort in the recipe once returned
[2014-06-26 17:16:37 -0400] gleam: nodes.sort! { |a, b| a.name <=> b.name }
[2014-06-26 17:17:55 -0400] miketheman: gleam: is that even necessary? if you want to sort on node name, I think you can append .sort to your search
[2014-06-26 17:24:12 -0400] tier: if i depend on a cookbook and want to bolt on to a library from that cookbook with my own method can I create a library in my wrapper cookbook just nesting into those classes/modules?
[2014-06-26 17:40:00 -0400] adamjk-dev: hey all, anyone have a suggestiong for a good cookbook to install Ruby 2.x?
[2014-06-26 17:40:16 -0400] adamjk-dev: I just need ruby really, not interested in rails or anything else at the moment
[2014-06-26 17:40:27 -0400] viglesias: adamjk-dev: im using the rbenv cookbook successfully
[2014-06-26 17:40:41 -0400] adamjk-dev: yeah i was hoping to not have a version manager
[2014-06-26 17:40:45 -0400] adamjk-dev: for simplicity
[2014-06-26 17:40:52 -0400] adamjk-dev: but perhaps if that works well
[2014-06-26 17:41:23 -0400] paulmooring: adamjk-dev I've been using https://github.com/Sutto/chef-brightbox
[2014-06-26 17:41:39 -0400] paulmooring: I don't use any of the passenger bits of it, but it gets ruby installed
[2014-06-26 17:41:52 -0400] adamjk-dev: paulmooring: does it support ruby 2,x?
[2014-06-26 17:42:17 -0400] adamjk-dev: paulmooring: it looks hardcoded to ruby 1.9.1
[2014-06-26 17:42:27 -0400] jtimberman: adamjk-dev: https://gist.github.com/jtimberman/1c9cfee514644a04f9c2#file-ruby2-0-rb
[2014-06-26 17:42:42 -0400] jtimberman: if you're using ubuntu 14.04, that'll work a treat
[2014-06-26 17:42:48 -0400] paulmooring: adamjk-dev sorry you're right it's 1.9 only
[2014-06-26 17:42:53 -0400] adamjk-dev: jtimberman: I am on RHEL
[2014-06-26 17:43:00 -0400] jtimberman: adamjk-dev: my heartiest condolences
[2014-06-26 17:43:06 -0400] jtimberman: i don't have a solution for that.
[2014-06-26 17:43:10 -0400] jtimberman: :)
[2014-06-26 17:43:26 -0400] adamjk-dev: jtimberman: ahah, yeah I saw your ruby cookbook as well but it is 1.9.x versions
[2014-06-26 17:43:31 -0400] paulmooring: oh on RHEL! Sorry same boat as mister timberman
[2014-06-26 17:43:51 -0400] whiteadam: RHEL IS THE BEST EVER HOW DARE YOU
[2014-06-26 17:43:59 -0400] adamjk-dev: :)
[2014-06-26 17:44:04 -0400] gchristensen: its Enterprise, it has to be best!
[2014-06-26 17:44:05 -0400] adamjk-dev: okay, I will dig around
[2014-06-26 17:44:13 -0400] jtimberman: not the best if you want a Ruby stack without compiling from source or building your own packages :(
[2014-06-26 17:44:14 -0400] adamjk-dev: just looking for a simple quick solution
[2014-06-26 17:44:15 -0400] paulmooring: whiteadam for the record I really love RHEL and wish I used it ;)
[2014-06-26 17:44:32 -0400] jtimberman: RHEL 7 and software channels maybe will solve this ongoing issue?
[2014-06-26 17:44:39 -0400] adamjk-dev: using RHEL makes using Chef a pain at times
[2014-06-26 17:44:40 -0400] whiteadam: I use RHEL because if shit gets real, I can call someone.
[2014-06-26 17:44:51 -0400] whiteadam: Let's just all use gentoo
[2014-06-26 17:46:12 -0400] jtimberman: nope
[2014-06-26 17:46:13 -0400] whiteadam: gchristensen: yeah, it has Enterprise in the name... like the star ship or the rental car, it must be good
[2014-06-26 17:46:14 -0400] jtimberman: :)
[2014-06-26 17:46:25 -0400] jtimberman: which distribution is a firefly class?
[2014-06-26 17:46:27 -0400] gchristensen: shoot if its as good as that space ship ...
[2014-06-26 17:46:34 -0400] whiteadam: it is
[2014-06-26 17:46:38 -0400] jtimberman: because if we're going for spaceships...
[2014-06-26 17:46:42 -0400] miketheman: dcrosta: /me wonders where it all went wrong
[2014-06-26 17:46:59 -0400] whiteadam: jtimberman: probably like... ORACLE ENTERPRIIIISEE
[2014-06-26 17:47:07 -0400] whiteadam: UBREAKABLE KERNEL GUYS
[2014-06-26 17:47:15 -0400] whiteadam: Sounds like a challenge to me
[2014-06-26 17:52:04 -0400] whiteadam: So is the US in the next round? How does this work?
[2014-06-26 17:52:43 -0400] viglesias: whiteadam: i think so, based on goal differential
[2014-06-26 17:52:55 -0400] whiteadam: viglesias: That's too much math for me
[2014-06-26 17:53:13 -0400] viglesias: portugal is -2, us is 0
[2014-06-26 17:53:19 -0400] viglesias: zero wins!!!!
[2014-06-26 17:54:37 -0400] whiteadam: USA USA USA!
[2014-06-26 17:56:02 -0400] viglesias: i believe that we will win (based on goal differential after the last matches)
[2014-06-26 17:57:26 -0400] MOZGIII: hi, I'm using chef-solo with vagrant with berkshelf for the first time, and chef does not see my role, can anyone help me?
[2014-06-26 17:58:46 -0400] MrHeavy: I can't seen to get the minitest handler to run my tests. Can anyone share the right directory structure for this fella?
[2014-06-26 17:58:56 -0400] bmurt: MOZGIII: did/do you need to define a roles_path?
[2014-06-26 17:59:07 -0400] MrHeavy: (using minitest-chef-handler)
[2014-06-26 17:59:24 -0400] MOZGIII: my configs: https://codeo.me/5n9
[2014-06-26 18:01:07 -0400] MOZGIII: bmurt: I guess it is a default so I commented everything im the Vagrantfile, also it should use knife.rb since I'm using berkshelf, should it?
[2014-06-26 18:02:10 -0400] bmurt: dunno tbh, i have my own probs :)
[2014-06-26 18:02:31 -0400] mattstratton: @MrHeavy - for what it's worth, I've had problems with the latest version of that cookbook. I pin to an older one depends "minitest-handler", "= 1.1.2"
[2014-06-26 18:02:32 -0400] eherot: Anyone know how one sees a list of valid Supermarket categories?
[2014-06-26 18:03:02 -0400] mattstratton: ...if you're using the cookbook that is
[2014-06-26 18:05:58 -0400] MrHeavy: mattstratton: Very useful information, I'll try that
[2014-06-26 18:06:02 -0400] MrHeavy: Which directory structure are you using?
[2014-06-26 18:06:26 -0400] mattstratton: files:default:test:default_test.rb, etc
[2014-06-26 18:06:36 -0400] MrHeavy: Awesome, thanks
[2014-06-26 18:08:14 -0400] eherot: answered my own question (sort of): http://docs.opscode.com/knife_cookbook_site.html#id12
[2014-06-26 18:23:42 -0400] adamjk-dev: viglesias: do you add users to the group or what?
[2014-06-26 18:23:58 -0400] adamjk-dev: viglesias: I got rbenv to install and it installed 2.1.2 for me
[2014-06-26 18:24:28 -0400] viglesias: adamjk-dev: righ
[2014-06-26 18:24:28 -0400] viglesias: t
[2014-06-26 18:24:41 -0400] adamjk-dev: i have used rvm before
[2014-06-26 18:24:44 -0400] adamjk-dev: but not rbenv
[2014-06-26 18:24:54 -0400] adamjk-dev: as root, ruby -v fails lol
[2014-06-26 18:25:09 -0400] joc_: hey quick question, is there a way to alias a cookbook name?
[2014-06-26 18:25:11 -0400] adamjk-dev: but rbenv versions shows 2.1.2
[2014-06-26 18:31:55 -0400] j^2: if yall have about an hour and 15 mins to watch a video that will change the way you test your cookbooks, it should be this one: http://vimeo.com/98938732
[2014-06-26 18:32:08 -0400] j^2: someara: thanks for posting it :)
[2014-06-26 18:34:21 -0400] imeyer: no thanks to you someara !!!!
[2014-06-26 18:36:03 -0400] joc_: anyone familiar with http://community.opscode.com/cookbooks/backup_lwrp? im having an issue with how they renamed the original github cookbook from backup -> backup_lwrp. Seems to break the cookbook
[2014-06-26 18:47:17 -0400] mfeingold: Why did everyone just leave all of a sudden haha
[2014-06-26 18:47:23 -0400] gyoza: netsplit
[2014-06-26 18:47:27 -0400] mfeingold: Holy crap what happened?
[2014-06-26 18:47:35 -0400] gyoza: its when two irc servers desync form each other
[2014-06-26 18:47:35 -0400] mfeingold: Haha
[2014-06-26 18:47:43 -0400] mfeingold: ok
[2014-06-26 18:47:46 -0400] gyoza: its normal
[2014-06-26 18:47:56 -0400] gyoza: ircd isnt the best protocol
[2014-06-26 18:48:02 -0400] gyoza: daemon?
[2014-06-26 18:48:04 -0400] gyoza: whatever:P
[2014-06-26 18:48:20 -0400] coderanger: IRC is literally the worst protocol
[2014-06-26 18:48:26 -0400] coderanger: Do you know how /me works?
[2014-06-26 18:48:30 -0400] gyoza: lol no
[2014-06-26 18:48:35 -0400] gyoza: not the raw at least
[2014-06-26 18:48:39 -0400] gyoza: i know how to priv_msg lol
[2014-06-26 18:48:57 -0400] gyoza: coderanger: do you have a prefered user/community cookbook for awscli?
[2014-06-26 18:49:11 -0400] coderanger: It wraps the message in 0x01 bytes
[2014-06-26 18:49:24 -0400] gyoza: lol
[2014-06-26 18:49:38 -0400] gyoza: the entire thing is text why would they even do that
[2014-06-26 18:49:40 -0400] coderanger: gyoza: Never used it
[2014-06-26 18:50:04 -0400] gyoza: this one seems promising
[2014-06-26 18:50:04 -0400] gyoza: https://github.com/shlomoswidler/awscli
[2014-06-26 18:50:38 -0400] coderanger: Is this anything more than "pip install awscli"?
[2014-06-26 18:50:47 -0400] coderanger: A cookbook seems like overkill perhaps :P
[2014-06-26 18:50:52 -0400] gyoza: it creates some "instancemetadata" library which seems useful
[2014-06-26 18:51:31 -0400] coderanger: gyoza: ohai already captures all EC2 metadata
[2014-06-26 18:51:57 -0400] gyoza: oh
[2014-06-26 18:51:57 -0400] gyoza: neato
[2014-06-26 18:52:00 -0400] gyoza: well then
[2014-06-26 18:53:40 -0400] tBunnyMan: well that happened...
[2014-06-26 19:13:23 -0400] j^2: moooo
[2014-06-26 19:16:16 -0400] tBunnyMan: squeak
[2014-06-26 19:24:11 -0400] pp_: squawk
[2014-06-26 19:26:00 -0400] j^2: Yep, it's real quite
[2014-06-26 19:28:22 -0400] j^2: pp_: it seems you're on irc
[2014-06-26 19:46:45 -0400] kierrr: idle relay chat
[2014-06-26 19:49:26 -0400] binamov: philax yo
[2014-06-26 19:49:31 -0400] binamov: philax still here :) ?
[2014-06-26 19:50:42 -0400] binamov: philax i reproduced your bootstrap problem, seems the credentials you were passing with -x and -P could've been incorrect
[2014-06-26 20:02:33 -0400] icarus_: hello all
[2014-06-26 20:02:45 -0400] icarus_: what is a good resource for creating a database via a recipe?
[2014-06-26 20:02:48 -0400] icarus_: (for mysql)
[2014-06-26 20:02:55 -0400] j^2: icarus_: just creating the db?
[2014-06-26 20:03:35 -0400] icarus_: j^2: yeah
[2014-06-26 20:03:43 -0400] icarus_: the mysql cookbook doesn't seem to include a function for it
[2014-06-26 20:04:01 -0400] j^2: icarus_: that just caught me off guard too, that seems like something that shoud be there
[2014-06-26 20:04:15 -0400] j^2: https://github.com/opscode-cookbooks/database
[2014-06-26 20:04:21 -0400] j^2: it seems it's abstracted up
[2014-06-26 20:04:32 -0400] j^2: https://github.com/opscode-cookbooks/database#actions
[2014-06-26 20:04:34 -0400] j^2: icarus_: ^^^
[2014-06-26 20:21:37 -0400] ericReeves: oh
[2014-06-26 20:36:17 -0400] icarus_: j^2: doesn't want to work
[2014-06-26 20:36:36 -0400] icarus_: ill just have to get ghetto and pass a bash shell execute of mysqladmin
[2014-06-26 20:40:39 -0400] j^2: :-/
[2014-06-26 20:40:47 -0400] j^2: sorry man, that was my best guess
[2014-06-26 20:45:05 -0400] manny: hello, i have a cookbook where I set various attributes. How can I see those attributes via chef-shell?
[2014-06-26 20:45:28 -0400] manny: for example, I'm setting "default['vmware_tomcat']['tc-instance-name'] = "myserver"
[2014-06-26 20:45:48 -0400] manny: how do I see that via chef-shell?
[2014-06-26 20:46:10 -0400] manny: i tired node.default.vmware_tomcat.tc-instance-name
[2014-06-26 20:48:57 -0400] vt102: Any suggestions on hipchat alternatives?  Or is hipchat the best?  We're working on getting notifications sent out.
[2014-06-26 20:49:17 -0400] x0nic: vt102: I like slack
[2014-06-26 20:49:18 -0400] manny: anyone?
[2014-06-26 20:51:03 -0400] vt102: x0nic: thanks, I'll check it out.
[2014-06-26 20:57:14 -0400] manny: can someone tell me if this is correct? I'm getting error when trying to get to attributes mode http://lzone.de/Chef-How-To-Debug-Active-Attributes
[2014-06-26 20:57:29 -0400] manny: NameError: undefined local variable or method `attributes' for main:Object
[2014-06-26 20:58:49 -0400] miketheman: manny: attribute_mode or such
[2014-06-26 21:00:12 -0400] eherot: Anyone know if there's a way to do a "knife node show -l" for a vagrant/chef-zero node?
[2014-06-26 21:00:26 -0400] eherot: like to see how node attributes have been effected by a chef run
[2014-06-26 21:03:00 -0400] manny: miketheman: i'm trying to query the current attribute not trying to set it
[2014-06-26 21:05:54 -0400] miketheman: manny: 1) attributes is not a valid keyword as of Chef 11. Enter attributes_mode to set attributes for the current session. 2) use `node['attribute']` in the root, not in attributes_mode to evaluate what the attributes would be
[2014-06-26 21:07:10 -0400] manny: miketheman: thank you
[2014-06-26 21:07:27 -0400] someara: you're looking at chef-shell
[2014-06-26 21:07:44 -0400] miketheman: someara: YOU'RE looking at chef-shell. :)
[2014-06-26 21:07:50 -0400] someara: nu uh!
[2014-06-26 21:30:18 -0400] Striking71: Hey all - I'm new to chef and just getting my .chef configured
[2014-06-26 21:30:52 -0400] Striking71: I did knife configure --initial and accidentally put the wrong dir in for .config because I hadn't yet read in the instructions that it should be within the chef-repo dir
[2014-06-26 21:31:18 -0400] Striking71: now I can't seem to get knife to forget the original .chef location I put in!
[2014-06-26 21:31:58 -0400] Striking71: no matter what directory I run knife from, the first question it asks is if I want to overwrite that originally entered location.
[2014-06-26 21:32:09 -0400] Striking71: Where does knife store this stuff?
[2014-06-26 21:32:10 -0400] Striking71: And how can I change it?
[2014-06-26 21:34:46 -0400] viglesias: Striking71: look at ~/.chef/knife.rb
[2014-06-26 21:35:13 -0400] Striking71: viglesias: that was my first guess :) There's no ~/.chef!
[2014-06-26 21:35:26 -0400] Striking71: Thanks for the suggestion
[2014-06-26 21:36:27 -0400] Striking71: I should point out this is open source chef
[2014-06-26 21:36:31 -0400] viglesias: Striking71: what distro?
[2014-06-26 21:36:31 -0400] Striking71: not enterprise
[2014-06-26 21:36:37 -0400] Striking71: Ubuntu 14.04
[2014-06-26 21:36:57 -0400] Striking71: (I know, I know.... it was just a quick install :) )
[2014-06-26 21:37:30 -0400] cheeseplus: Striking71: well you can still put a file in ~/.chef/knife.rb to override the settings
[2014-06-26 21:38:28 -0400] Striking71: cheeseplus: ok, good to know. Forgive me if this is a stupid question, but what do I put in it?
[2014-06-26 21:38:45 -0400] viglesias: http://docs.opscode.com/config_rb_knife.html
[2014-06-26 21:38:49 -0400] viglesias: Striking71: ^^^
[2014-06-26 21:38:49 -0400] cheeseplus: Striking71: you can check /etc/chef/ for a knife.rb
[2014-06-26 21:39:00 -0400] Striking71: Thanks viglesias
[2014-06-26 21:39:12 -0400] Striking71: cheeseplus: Ok, good stuff
[2014-06-26 21:39:17 -0400] heathsnow: Is there a way to determine chef version in the metadata file?  I want to depend on 'windows' cookbook but only if they are running an older version of chef.
[2014-06-26 21:39:30 -0400] Striking71: hmm. No /etc/chef
[2014-06-26 21:40:24 -0400] cheeseplus: Striking71: well if you run knife does it complain about not finding a config file?
[2014-06-26 21:40:46 -0400] cheeseplus: it will check the local directory for a .chef/knife.rb as well
[2014-06-26 21:42:40 -0400] cheeseplus: heathsnow: that feature has been on the docket for a bit but I don't think anything has landed in way of support
[2014-06-26 21:43:26 -0400] rayrod2030: ohai
[2014-06-26 21:43:39 -0400] heathsnow: +cheeseplus: thanks, I'm just going to use 'recommends  'windows' ' in the metadata file for now
[2014-06-26 21:47:17 -0400] rayrod2030: for upstart can anyone confirm if running restart from a service resource will also run a reload.  ie initctl reload-configuration?
[2014-06-26 21:47:36 -0400] rayrod2030: I'm assuming the restart is the nuclear option and thus would reload all configuration anyway.
[2014-06-26 21:48:24 -0400] rayrod2030: I guess everyone is drunk at velocity. :)
[2014-06-26 21:48:37 -0400] robbkidd: rayrod2030: initctl reload-configuration tells Upstart to re-read /etc/init to update its knowledge of services.
[2014-06-26 21:50:46 -0400] robbkidd: rayrod2030: Restarting a service wouldexcept for exceptionally poorly written softwarehave that service start with an updated configuration. Reload is not necessarily supported by all services, but for those that do, generally means "reload your config"
[2014-06-26 21:51:29 -0400] robbkidd: But `initctl reload-configuration` would not, say, tell nginx to loud updated sites-enabled.
[2014-06-26 21:51:37 -0400] robbkidd: s/loud/load/
[2014-06-26 21:51:44 -0400] robbkidd: Stupid fingers.
[2014-06-26 21:52:57 -0400] viglesias: robbkidd: your nginx is too loud, please turn it down
[2014-06-26 21:53:06 -0400] robbkidd: Sorry sorry sorry.
[2014-06-26 21:53:18 -0400] viglesias: at least have the decency to turn it to 11
[2014-06-26 21:53:47 -0400] rayrod2030: when I test nginx I test a little tiny scale model of it.
[2014-06-26 21:54:10 -0400] robbkidd: 509 Volume Exceeded
[2014-06-26 21:54:17 -0400] viglesias: lol
[2014-06-26 21:54:22 -0400] Striking71: cheeseplus: no, it doesn't complain about not finding a config file
[2014-06-26 21:55:13 -0400] Striking71: cheeseplus: I made sure to run it from the chef-repo dir, too (the 2nd time)
[2014-06-26 22:16:41 -0400] meth: is there a way to launch chef-client with -z (local mode) without it attempting to launch chef-zero (because I already have an instance running)?
[2014-06-26 22:25:37 -0400] icarus_: does anyone else here use test-kitchen?
[2014-06-26 22:25:53 -0400] icarus_: i get the strangest errors in kitchen verify vs a chef-solo vagrantfile
[2014-06-26 22:26:14 -0400] icarus_: for instance, apache will refuse to start in kitchen because port :80 is occupied
[2014-06-26 22:27:10 -0400] miketheman: icarus_: could it be that in ktichen, the package installer is starting up apache for you?
[2014-06-26 22:27:38 -0400] juliancdunn: meth: not yet. the new version of chef-zero (2.2) does port conflict detection & remapping, but that hasn't been rolled into chef-client proper yet.
[2014-06-26 22:27:41 -0400] icarus_: miketheman: if i login to the kitchen instance, and run service httpd status, it shows me stopped
[2014-06-26 22:28:06 -0400] jkeiser: meth: don't know if you got an answer, but if you want to switch ports, you can say --chef-zero-port <some other port> on the second instance
[2014-06-26 22:28:07 -0400] miketheman: icarus_: I'd add a ton of debug logging andtry to see where it's getting stuck
[2014-06-26 22:28:15 -0400] jkeiser: and juliancdunn has the rest of the answer :)
[2014-06-26 22:55:07 -0400] herriojr: is it common practice to set up an lwrp for each application or is that considered overkill?
[2014-06-26 22:57:36 -0400] Striking71: cheeseplus: viglesias: - thanks for your help. When I made an empty .chef dir within my repo and ran knife from the repo it worked
[2014-06-26 22:57:56 -0400] Striking71: I have no idea why it would suggest ../.chef otherwise, though
[2014-06-26 22:58:09 -0400] Striking71: like... does it recursively scan up the tree like git or mercurial do?
[2014-06-26 22:59:46 -0400] herriojr: basically, I'm a developer trying to set up a cookbook for my developed applications and am trying to come up with a standard way of differentiating between development and everything else -> in development I want all external dependencies installed on the same system (mysql, redis, etc., etc.) and not deploy my application, but on production or qa, I'd want these things to be installed separately -> is it considered good practice t
[2014-06-26 23:07:20 -0400] cheeseplus: Striking71: it could be checking the env variable - KNIFE_HOME
[2014-06-26 23:09:02 -0400] cheeseplus: Striking71: and yea looking at the code it searches upward
[2014-06-26 23:09:17 -0400] Striking71: cheeseplus: couldn't be that, because I doubt KNIFE_HOME  is in ~/Software/chef by default
[2014-06-26 23:09:45 -0400] Striking71: It'd have to be. Well that'd be good to see in documentation :) I'm sure it's in there somewhere but I was just focusing on the install tutorials
[2014-06-26 23:09:53 -0400] cheeseplus: relevant code: https://github.com/opscode/chef/blob/e7273d0b27c25ac218c968c1abf0bf5d332420c9/lib/chef/knife.rb#L331
[2014-06-26 23:11:32 -0400] Striking71: Geez, I don't know if I'd have spotted that
[2014-06-26 23:11:41 -0400] Striking71: chef_config_dir is kind of a misleading name for what it does
[2014-06-26 23:11:47 -0400] Striking71: Good eye, cheeseplus
[2014-06-26 23:14:59 -0400] cheeseplus: it's good to know for me ;)
[2014-06-26 23:16:56 -0400] Striking71: Yeah, I wasted about an hour or so looking for some external config files in /etc, ~/, /opt, /var, etc
[2014-06-26 23:17:07 -0400] Striking71: history files, etc
[2014-06-26 23:17:24 -0400] Striking71: Took a break, went to grab some food, came back and figured it out
[2014-06-26 23:20:13 -0400] cheeseplus: Striking71: find / -name knife.rb
[2014-06-26 23:20:34 -0400] Striking71: No, I knew there was only the  one knife.rb
[2014-06-26 23:20:40 -0400] Striking71: I knew it was the one being used
[2014-06-26 23:20:44 -0400] Striking71: I didn't know why
[2014-06-26 23:20:50 -0400] cheeseplus: ah
[2014-06-26 23:21:06 -0400] Striking71: like, was there some history file like .bash_history, that kind of thing
[2014-06-26 23:21:33 -0400] Striking71: when I  figured out it was doing a recursive scan up the tree I felt dumb for not thinking of that before
[2014-06-26 23:21:40 -0400] Striking71: That seems to be a fad in tools in the last few yearas
[2014-06-26 23:21:41 -0400] Striking71: years*
[2014-06-26 23:22:12 -0400] Striking71: Seems to make a lot more sense for a version control system than for chef though
[2014-06-26 23:22:24 -0400] Striking71: I don't see how that fits what chef does
[2014-06-26 23:23:03 -0400] cheeseplus: well generally it's the home dir
[2014-06-26 23:24:12 -0400] cheeseplus: so most of the time it won't have to recursively scan (finding something in the home or env variable but it's that or totally bomb out
[2014-06-26 23:34:34 -0400] coderanger: cheeseplus: Woo new blender release!
[2014-06-26 23:59:49 -0400] mfeingold: I did it everyone! I got jenkins running on aws with the cookbook conflict
