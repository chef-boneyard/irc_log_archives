[2014-07-06 00:14:07 -0400] paul_: Three days new to Chef. I have a "homework" problem from a recruiter for a DevOps position. "Create a chef recipe that writes a hash from an attribute into a YAML file."
[2014-07-06 00:14:09 -0400] paul_: Almost there.
[2014-07-06 00:14:10 -0400] paul_: chef-client: 11.12.8
[2014-07-06 00:14:12 -0400] paul_: on a nested hash like this
[2014-07-06 00:14:13 -0400] paul_: default['logrotate']['global'] = {
[2014-07-06 00:14:15 -0400] paul_:   'weekly' => true,
[2014-07-06 00:14:16 -0400] paul_:   'rotate' => 4,
[2014-07-06 00:14:18 -0400] paul_:   'create' => '',
[2014-07-06 00:14:19 -0400] paul_:   '/var/log/wtmp' => {
[2014-07-06 00:14:21 -0400] paul_:   ...
[2014-07-06 00:14:22 -0400] paul_: yaml_data = node.default['logrotate']['global'].to_yaml
[2014-07-06 00:14:24 -0400] paul_: yields "!ruby/hash:Chef::Node::VividMash" in the yaml data for each of the outer hashes.
[2014-07-06 00:14:25 -0400] paul_: --- !ruby/hash:Chef::Node::VividMash
[2014-07-06 00:14:27 -0400] paul_: weekly: true
[2014-07-06 00:14:28 -0400] paul_: rotate: 4
[2014-07-06 00:14:30 -0400] paul_: create: ''
[2014-07-06 00:14:31 -0400] paul_: /var/log/wtmp: !ruby/hash:Chef::Node::VividMash
[2014-07-06 00:14:33 -0400] paul_: I'm pretty sure I don't want that "!ruby/hash:Chef::Node::VividMash" to be there. Is there something somewhere in the Chef config or cookbook config that I can use to get rid of this, or do I just need to do some filtering on the yaml data coming from .to_yaml?
[2014-07-06 00:14:33 -0400] gchristensen: paul_: 1. pastebin. 2. I don't think we do homework here.
[2014-07-06 00:14:35 -0400] gchristensen: coderanger: you 'bout?
[2014-07-06 00:14:46 -0400] coderanger: Indeed, whats up
[2014-07-06 00:15:02 -0400] paul_: nope. just being up front about the nature of the problem.
[2014-07-06 00:15:20 -0400] gchristensen: I was a bit too late there, expected the paste to continue for ... well, a lot longer.
[2014-07-06 00:15:59 -0400] coderanger: bricker`LA: Check out my rundeck cookbook, its in there
[2014-07-06 00:16:49 -0400] coderanger: gchristensen: :)
[2014-07-06 00:17:26 -0400] bricker`LA: coderanger: this one? https://github.com/webtrends/rundeck
[2014-07-06 00:17:39 -0400] coderanger: bricker`LA: https://github.com/poise/rundeck
[2014-07-06 00:18:02 -0400] coderanger: bricker`LA: Specifically https://github.com/poise/rundeck#rundeck_user
[2014-07-06 00:18:25 -0400] bricker`LA: coderanger: damn, I wish I had found this before, the webtrends one is shit so I spent all day setting up rundeck manually
[2014-07-06 00:19:36 -0400] coderanger: bricker`LA: You can look at https://github.com/balanced-cookbooks/balanced-rundeck/ for an example of usage but I don't work there anymore so I can't comment on recent changes to it
[2014-07-06 00:29:59 -0400] Damm: paul_, be careful with yaml as it should be loadable and return to the same contents as before
[2014-07-06 00:30:24 -0400] Damm: which means it add's the !ruby/hash:Chef::Node::VividMash and in order to load a yaml with that in it; you need the chef gem loaded
[2014-07-06 00:30:39 -0400] Damm: yaml files in Chef is a bit tricky still no?
[2014-07-06 00:49:23 -0400] paul_: Damm, should the string "!ruby/hash:Chef::Node::VividMash" be there then?
[2014-07-06 00:49:37 -0400] paul_: thanks so much for the reply, by the way
[2014-07-06 00:50:05 -0400] paul_: oops, Damm is away
[2014-07-06 01:00:57 -0400] Damm: paul_, the problem is you did node.to_yaml
[2014-07-06 01:01:10 -0400] Damm: paul_, it will always enherit what the Chef::Node model has
[2014-07-06 01:01:21 -0400] Damm: paul_, you have to basically create a new mash and copy the objects into it and then .to_yaml it
[2014-07-06 01:01:29 -0400] Damm: s/mash/hash
[2014-07-06 02:08:51 -0400] paul_: Damm, bummer, I don't know how to create a new mash and copy the objects into it. More research for me : )
[2014-07-06 02:14:37 -0400] paul_: looks like "logrotate = Mash.new" for starters
[2014-07-06 03:15:10 -0400] juliancdunn: how about .clone?
[2014-07-06 03:27:39 -0400] paul_: julian, thanks for the idea. I was hoping shallow copy would work
[2014-07-06 03:27:39 -0400] bawt: PONG
[2014-07-06 03:28:03 -0400] paul_: new_hash = Mash.new
[2014-07-06 03:28:24 -0400] paul_: new_mash = node.default['logrotate']['global'].clone
[2014-07-06 03:29:11 -0400] paul_: still gave the "!ruby/hash:Chef::Node::VividMash
[2014-07-06 03:29:16 -0400] paul_: in output
[2014-07-06 03:30:58 -0400] coderanger: paul_: Are you sure the recruiter didn't intend for you to research this on your own?
[2014-07-06 03:31:03 -0400] paul_: puts node.default['logrotate']['global'], inside the recipe doesn't return that string. It returns...
[2014-07-06 03:31:04 -0400] paul_: {"weekly"=>true, "rotate"=>4, "create"=>"", "/var/log/wtmp"=>{"missingok"=>true, "monthly"=>true, "create"=>"0664 root utmp", "rotate"=>1}, "/var/log/btmp"=>{"missingok"=>true, "monthly"=>true, "create"=>"0660 root utmp", "rotate"=>1}}
[2014-07-06 03:31:06 -0400] paul_: without the "!ruby/hash:Chef::Node::VividMash"
[2014-07-06 03:32:10 -0400] paul_: yeah, I asked. She said I could use the internet, but not a cut and paste from a googled article. No prob there : )
[2014-07-06 03:34:00 -0400] coderanger: paul_: Okay, so there are two issues
[2014-07-06 03:34:04 -0400] paul_: I'm tinking that string's gonna be there with a nested hash when run through .to_yaml, and I'd have to filter it out with text processing if I want it out. Not even sure I want it out.
[2014-07-06 03:34:11 -0400] coderanger: paul_: one is that you don't want to use node.default like that
[2014-07-06 03:34:20 -0400] coderanger: thats how you would set things, but when accessing, just use the merged view
[2014-07-06 03:34:29 -0400] coderanger: node['logrotate']['global']
[2014-07-06 03:34:38 -0400] coderanger: Next is the convert from a mash to a plain hash, use to_hash
[2014-07-06 03:34:50 -0400] coderanger: so node['logrotate']['global'].to_hash.to_yaml
[2014-07-06 03:35:03 -0400] coderanger: If you want to dump that in to a file, use a file resource
[2014-07-06 03:35:25 -0400] paul_: awsome.
[2014-07-06 03:35:42 -0400] paul_: by the way, there were 7 questions. This is the only one I've had to ask about.
[2014-07-06 03:36:26 -0400] coderanger: The '!foo' syntax is how you handle non-base data types in Yaml
[2014-07-06 03:36:34 -0400] coderanger: so once you have a normal Hash object, you should be fine
[2014-07-06 03:36:54 -0400] paul_: thanks, coderanger.
[2014-07-06 03:38:55 -0400] paul_: by the way, yours is one of the articles I read, early on. Mostly about handling attributes as arrays. But a snippet in there of a nested hash. The article was about certain hazards when using array values as attributes, that arise when the attributes are rolled up I think.
[2014-07-06 03:41:46 -0400] paul_: unless that was another coderanger. I'm guessing not.
[2014-07-06 03:46:21 -0400] paul_: nice, that did it. These three lines in the recip...
[2014-07-06 03:46:23 -0400] paul_: require 'yaml'
[2014-07-06 03:46:24 -0400] paul_: yaml_data = node['logrotate']['global'].to_hash.to_yaml
[2014-07-06 03:46:26 -0400] paul_: File.open('/home/paul/logrotate.yml', 'w') { |f| f.puts yaml_data }
[2014-07-06 03:48:45 -0400] paul_: I still have a lot to learn about Chef attributes. Will keep reading. I've decided I want to make the move to a ruby/rails house that also uses chef. I enjoy ruby a lot, and realizing now how much Chef exercises ruby.
[2014-07-06 03:49:36 -0400] paul_: thanks again, coderanger
[2014-07-06 03:50:55 -0400] vt102_: I'm bringing up some EC2 instances with hosted chef.  They're reporting 10.x addresses and *.ec2.internal FQDNs.  How do I get them to register with elastic IPs?
[2014-07-06 03:51:29 -0400] vt102_: So knife ssh can work
[2014-07-06 03:56:58 -0400] paul_: vt, I don't know about doing it with hosted chef, but if you just want public IPs, you don't need to make them elastic IPs. On the command line, in the ec2run command, --associate-public-ip-address true
[2014-07-06 03:56:59 -0400] paul_: does the trick
[2014-07-06 03:57:42 -0400] paul_: associating elastic IPs would work too of course
[2014-07-06 04:08:38 -0400] coderanger: vt102_: To use knife ssh, pass `-a ec2.public_ipv4` so it knows to use the public IP
[2014-07-06 04:08:50 -0400] coderanger: vt102_: knife-ec2 does have some stuff to help attach an EIP at boot up I think
[2014-07-06 04:11:35 -0400] Karthik_: Hey hi guyz. Anyone available ?
[2014-07-06 04:11:57 -0400] Karthik_: I have a use case scenario to work with chef. I would appreciate some help
[2014-07-06 04:14:31 -0400] Karthik_: I am trying to solve the problem of VM provisioning workflow using Chef. Would like some help !
[2014-07-06 04:17:16 -0400] vt102_: coderanger: I see that, thanks.  However, the last one I bootstrapped did not get an ec2 attribute.
[2014-07-06 04:17:30 -0400] coderanger: vt102_: Are you using VPC?
[2014-07-06 04:17:35 -0400] vt102_: Yes.
[2014-07-06 04:18:06 -0400] coderanger: vt102_: Did you use knife-ec2 to create the machine or did you make it by hand and then use knife bootstrap?
[2014-07-06 04:18:28 -0400] coderanger: Karthik_: Is it a quick question?
[2014-07-06 04:19:00 -0400] vt102_: The other one, which has ec2, is not in a VPC.  I made it by hand, then used knife bootstrap.  "knife bootstrap -x ubuntu -i ~/.ssh/foo.pem -N cap --sudo ec2-1-2-3-4.compute-1.amazonaws.com"
[2014-07-06 04:19:24 -0400] coderanger: vt102_: Yes, for non-VPC thats fine, inside a VPC you need to set the ec2 hint for Ohai
[2014-07-06 04:19:31 -0400] coderanger: vt102_: knife-ec2 does this automatically
[2014-07-06 04:20:36 -0400] coderanger: vt102_: if using plain knife bootstrap, you can use --hint option to set this
[2014-07-06 04:20:57 -0400] vt102_: coderanger: Thanks.  Under the covers, what's the difference on AWS?  What special about being in a VPC that keeps it from seeing it?
[2014-07-06 04:21:25 -0400] coderanger: vt102_: From on the VPC machine, there is no way to tell its a VPC machine
[2014-07-06 04:21:29 -0400] coderanger: at least nothing reliable
[2014-07-06 04:21:43 -0400] coderanger: So you have to tell ohai manually "yes I promise I'm on EC2"
[2014-07-06 04:22:29 -0400] vt102_: Great, thanks.
[2014-07-06 04:23:06 -0400] vt102_: coderanger: So, this: http://comments.gmane.org/gmane.comp.sysutils.chef.user/15645
[2014-07-06 04:23:37 -0400] coderanger: vt102_: Thats one way to do it, yes
[2014-07-06 04:23:42 -0400] coderanger: vt102_: The hint option is simpler
[2014-07-06 04:24:00 -0400] coderanger: vt102_: --hint ec2
[2014-07-06 04:33:23 -0400] vt102_: Worked great, thanks coderanger
[2014-07-06 04:58:17 -0400] echohack: Hello hello. Anyone on that might be able to help troubleshooting some Active Directory connection issues from Chef Server?
[2014-07-06 05:11:48 -0400] Damm: paul_, it's an 'inheritance' issue
[2014-07-06 05:12:24 -0400] Damm: and well yaml is annoying about that; having to use safe_load hacks
[2014-07-06 05:12:56 -0400] Damm: when will they ever learn that marshal is not a markup language
[2014-07-06 05:45:30 -0400] amjibaly: i currently have a helper method in my recipe, it just has a ruby_block that calls Mixlib::ShellOut
[2014-07-06 05:45:51 -0400] amjibaly: what's the standard way in chef in refactoring that out to a common location so I can use it from multiple recipes?
[2014-07-06 06:26:03 -0400] bricker`LA: Is there a way to loop through a directory in the cookbook? For example, I have a bunch of files in the 'files' dir, and I want to move them all into a directory on the server, but I don't want to hard-code each one. I know about Dir.foreach, but how would that work on server?
[2014-07-06 09:56:03 -0400] i42n: Hey, I want to use this nginx cookbook https://github.com/miketheman/nginx However I want to modify the nginx.conf as I want to add passenger configuration. Is there a more elegant way to do this instead of forking the cookbook repository?
[2014-07-06 10:09:21 -0400] i42n: No idea? Or are you all still sleeping ;)
[2014-07-06 10:09:21 -0400] bawt: PONG
[2014-07-06 10:09:36 -0400] i42n: PING
[2014-07-06 12:13:10 -0400] i42n: Hey, I want to use this nginx cookbook https://github.com/miketheman/nginx However I want to modify the nginx.conf as I want to add passenger configuration. Is there a more elegant way to do this instead of forking the cookbook repository?
[2014-07-06 12:17:03 -0400] i42n: anyone here who can help me with that?
[2014-07-06 12:26:06 -0400] i42n: Is a wrapper cookbook the right approach? http://www.getchef.com/blog/2013/12/03/doing-wrapper-cookbooks-right/
[2014-07-06 12:55:16 -0400] matti: i42n: You could go with a wrapper cookbook.
[2014-07-06 14:10:32 -0400] tomoyuki28jp: When I try to use vagrant + chef-solo, I get Segmentation falt error. Any idea why? default: bash: line 2:  3061 Segmentation fault      chef-solo -c /tmp/vagrant-chef-3/solo.rb -j /tmp/vagrant-chef-3/dna.json
[2014-07-06 14:13:31 -0400] matti: tomoyuki28jp: Konbanwa!
[2014-07-06 14:13:43 -0400] tomoyuki28jp: matti: Konbanwa!
[2014-07-06 14:13:48 -0400] matti: tomoyuki28jp: That might mean that either something is wrong with Ruby and/or Vagrant.
[2014-07-06 14:14:07 -0400] matti: tomoyuki28jp: Make sure that you are not using 64 bit on 32 bit architecture etc.
[2014-07-06 14:14:28 -0400] matti: tomoyuki28jp: And if you enable ability for it to drop core, then we can see into it, to check what caused it.
[2014-07-06 14:15:35 -0400] matti: tomoyuki28jp: Check different box (look at https://vagrantcloud.com/).
[2014-07-06 14:15:55 -0400] matti: tomoyuki28jp: Just to elimiate things that might be causing this, one by one ;]
[2014-07-06 14:16:19 -0400] tomoyuki28jp: matti: Thanks a lot for your help!
[2014-07-06 14:16:27 -0400] matti: tomoyuki28jp: You're welcome ;]
[2014-07-06 14:16:39 -0400] matti: tomoyuki28jp: Any way we can help ;]
[2014-07-06 14:17:01 -0400] tomoyuki28jp: Okay, so I try another box now.
[2014-07-06 14:17:09 -0400] matti: tomoyuki28jp: Not often we have visitors form Japan ;]
[2014-07-06 14:17:21 -0400] matti: tomoyuki28jp: Are you using Chef at work? For just hacking for yourself? ;]
[2014-07-06 14:18:10 -0400] matti: tomoyuki28jp: https://vagrantcloud.com/chef -- these boxses are proven to work OK ;]
[2014-07-06 14:18:15 -0400] tomoyuki28jp: matti: I have my own company and I am trying to use chef to manage our servers.
[2014-07-06 14:18:50 -0400] tomoyuki28jp: matti: Where are you from, btw?
[2014-07-06 14:19:24 -0400] matti: tomoyuki28jp: I am from Poland.
[2014-07-06 14:19:32 -0400] tomoyuki28jp: I see :)
[2014-07-06 14:21:51 -0400] matti: tomoyuki28jp: Once you get Chef Solo going with Vagrant, have a look at Berkshelf and using Chef Zero ;] And then at Test Kitchen so you can have faster feedback about your cookbooks development cyclce, etc.
[2014-07-06 14:23:59 -0400] tomoyuki28jp: matti: I try vagrant init chef/centos-6.5. With the default configuration, vagrant provision works, but when I comment out config.vm.provision "chef_solo" { |chef| ... } block, I get the same error: ==> default: bash: line 2:  2117 Segmentation fault      chef-solo -c /tmp/vagrant-chef-2/solo.rb -j /tmp/vagrant-chef-2/dna.json
[2014-07-06 14:30:24 -0400] matti: tomoyuki28jp: Can you show me your Vagrantfile?
[2014-07-06 14:30:46 -0400] tomoyuki28jp: matti: sure, wait a min plz
[2014-07-06 14:30:46 -0400] tomoyuki28jp: thanks for your help!
[2014-07-06 14:31:25 -0400] matti: No problem.
[2014-07-06 14:31:35 -0400] tomoyuki28jp: matti: https://gist.github.com/tomoyuki28jp/32b4378baf2293c834d7
[2014-07-06 14:31:47 -0400] tomoyuki28jp: matti: Just comment out two lines from the default Vagrantfile.
[2014-07-06 14:32:23 -0400] tomoyuki28jp: I'll clean up my project, delete existing box, re-install another box and try again.
[2014-07-06 14:36:57 -0400] matti: tomoyuki28jp: I have the same box and just tried your Vagrantfile. No problems so far.
[2014-07-06 14:37:20 -0400] matti: tomoyuki28jp: You can try re-download the box, and re-install Virtualbox too (might help).
[2014-07-06 14:37:41 -0400] tomoyuki28jp: matti: I'll try them now!
[2014-07-06 14:38:08 -0400] matti: tomoyuki28jp: Which version of Vagrant do you have?
[2014-07-06 14:38:28 -0400] tomoyuki28jp: matti: Vagrant 1.6.3
[2014-07-06 14:39:16 -0400] matti: OK.
[2014-07-06 14:39:46 -0400] matti: tomoyuki28jp: I can recommend these plugins: https://github.com/schisamo/vagrant-omnibus and https://github.com/fgrehm/vagrant-cachier
[2014-07-06 14:40:14 -0400] matti: tomoyuki28jp: You'll need the Omnibus one if you want Vagrant to install Chef for you automatically - default box does not have it.
[2014-07-06 14:41:14 -0400] tomoyuki28jp: matti: thanks a lot, I'll try them.
[2014-07-06 14:44:02 -0400] matti: ;]
[2014-07-06 14:45:01 -0400] matti: tomoyuki28jp: In case you want to see more verbose output: http://docs.vagrantup.com/v2/other/debugging.html (this explains how to do it).
[2014-07-06 14:46:17 -0400] tomoyuki28jp: matti: Thanks!
[2014-07-06 14:58:30 -0400] matti: :>
[2014-07-06 15:11:51 -0400] i42n: Hey, I use this recipe to install mpd https://github.com/i42n/chef-cookbook-mpd/blob/master/recipes/default.rb However the package "mpd" part runs a mpd deamon. I do not want this. How can I prevent the apt-get install to run the mpd service?
[2014-07-06 15:13:17 -0400] renchap: sometimes you can put a /etc/default/mpd file before installing the package
[2014-07-06 15:13:40 -0400] renchap: with DISABLE=1
[2014-07-06 15:14:57 -0400] i42n: renchap: how exactly does this work? I do not understand how this can help?
[2014-07-06 15:15:34 -0400] i42n: also possible solution: stop the service somehow after installing the package
[2014-07-06 15:15:40 -0400] i42n: can I do that?
[2014-07-06 15:16:15 -0400] renchap: debian's init.d files look at this file
[2014-07-06 15:16:27 -0400] renchap: and prevent the daemon to start if DISABLE == 1
[2014-07-06 15:16:55 -0400] renchap: so if you write this file before installing the package, the daemon should not be automatically started
[2014-07-06 15:17:26 -0400] renchap: look in /etc/init.d/mpd if there is a test on some variable
[2014-07-06 15:17:33 -0400] renchap: might be another one than DISABLE
[2014-07-06 15:18:44 -0400] i42n: renchap: ok git it
[2014-07-06 15:18:47 -0400] i42n: *got
[2014-07-06 15:29:12 -0400] tomoyuki28jp: matti: re-install works!!! Thanks a lot for your help!!!
[2014-07-06 15:29:21 -0400] matti: tomoyuki28jp: You're welcome ;]
[2014-07-06 15:29:41 -0400] tomoyuki28jp: \(ToT)/
[2014-07-06 15:30:06 -0400] matti: tomoyuki28jp: Hehe
[2014-07-06 15:59:37 -0400] tomoyuki28jp: Should we gitignore some files under chef-repo?
[2014-07-06 16:00:58 -0400] tomoyuki28jp: It seems like /cookbooks/ is included in chef-repo/.gitignore by default.
[2014-07-06 16:01:40 -0400] tomoyuki28jp: Should we ignore berks-cookbooks too?
[2014-07-06 16:08:56 -0400] tomoyuki28jp: matti: Are you there?
[2014-07-06 16:22:23 -0400] matti: Yes
[2014-07-06 16:23:19 -0400] matti: tomoyuki28jp: Depends how do you want to maintain cookbooks.
[2014-07-06 16:23:28 -0400] matti: tomoyuki28jp: But it should not be excluded: https://github.com/opscode/chef-repo
[2014-07-06 16:23:38 -0400] matti: tomoyuki28jp: This is an example one.
[2014-07-06 16:24:51 -0400] tomoyuki28jp: berks-cookbooks is managed by Berksfile, right? So maybe it's okay to gitignore berks-cookbooks except Berksfile.lock?
[2014-07-06 16:26:16 -0400] matti: Oh, sorry.
[2014-07-06 16:29:24 -0400] tomoyuki28jp: matti: ?
[2014-07-06 16:29:46 -0400] matti: tomoyuki28jp: I had a look at mine. I ignore cookbooks and Berksfile.locl
[2014-07-06 16:29:49 -0400] matti: lock*
[2014-07-06 16:31:55 -0400] tomoyuki28jp: matti: I think it's better not to ignore Berksfile.lock because it specify versions?
[2014-07-06 16:33:45 -0400] tomoyuki28jp: If we include Berksfile.lock under git repo and we don't modify berks-cookbooks/*, we can gitignore berks-cookbooks/* except Berksfile.lock because result will be the same?
[2014-07-06 16:34:21 -0400] tomoyuki28jp: I just start using chef today, so maybe I'm wrong.
[2014-07-06 16:43:38 -0400] matti: tomoyuki28jp: Depends on the workflow.
[2014-07-06 16:44:06 -0400] matti: tomoyuki28jp: Berkshelf is best used with Chef Server.
[2014-07-06 16:44:43 -0400] matti: tomoyuki28jp: So, you'd freeze cookbook versions and then upload desired to the server, making it ready to use in production, etc.
[2014-07-06 16:45:01 -0400] matti: tomoyuki28jp: For Solo, it's a bit different.
[2014-07-06 16:45:48 -0400] matti: tomoyuki28jp: I've noticed that people ignore Berksfile.lock. But if you want to freeze versions then indeed include it too.
[2014-07-06 21:01:39 -0400] doebi: whats up with that private key configuration? i am just trying to call some knife commands and it wont let me cause of some private key misconfiguration?
[2014-07-06 21:05:57 -0400] cwebber: doebi: can you gist/pastebin the error please?
[2014-07-06 21:07:26 -0400] doebi: can i use chef without a server?
[2014-07-06 21:07:37 -0400] doebi: i only want to provision a vagrant vm using chef
[2014-07-06 21:07:53 -0400] doebi: ERROR: Your private key could not be loaded from /home/doebi/.chef/doebi.pem
[2014-07-06 21:07:55 -0400] doebi: Check your configuration file and ensure that your private key is readable
[2014-07-06 21:09:13 -0400] cwebber: doebi: you can. but you shouldnt need to use knife if you are using vagrant
[2014-07-06 21:09:31 -0400] cwebber: doebi: can I see your Vagrantfile?
[2014-07-06 21:11:42 -0400] doebi: well i only wanted to create a data bag using knife :/
[2014-07-06 21:12:08 -0400] doebi: as u can i see i am only trying basics so i dont see the need for setting up a server
[2014-07-06 21:12:25 -0400] cheeseplus: doebi: if you're using solo then knife isn't going to be of much use
[2014-07-06 21:12:46 -0400] doebi: as i said i only wanted to create a data bag
[2014-07-06 21:12:59 -0400] doebi: which i then can reference in my vagrant file
[2014-07-06 21:13:16 -0400] doebi: my vagrantfile has no chef specific code yet, so i wont post it
[2014-07-06 21:14:26 -0400] cheeseplus: doebi: you don't need knife to create a databag, it's just a bit of json
[2014-07-06 21:14:58 -0400] doebi: how am i supposed to know what it actually is when any tutorial just tells me to use knife?
[2014-07-06 21:15:17 -0400] cwebber: doebi:
[2014-07-06 21:15:36 -0400] cheeseplus: doebi: which tutorial? it could be a tutorial based on chef-server or one that presumes a functioning knife configuration
[2014-07-06 21:15:41 -0400] cwebber: err, doebi: that is true, let me find an example databag for you to use
[2014-07-06 21:16:32 -0400] cwebber: doebi: https://github.com/opscode-cookbooks/supermarket/blob/master/data_bags/apps/supermarket.json may be worth taking a glance at. it is an example of how we use a data_bag with vagrant for testing
[2014-07-06 21:16:49 -0400] doebi: cwebber: thanks, will look at
[2014-07-06 21:19:11 -0400] Damm: wow it links to https://wiki.opscode.com/display/ChefCN/Creating+New+Cookbooks
[2014-07-06 21:22:13 -0400] cwebber: Damm: It will actually be the same as the old site minus the web gui
[2014-07-06 21:22:21 -0400] cwebber: so if you could use knife, you are good
[2014-07-06 21:22:40 -0400] cwebber: stove got broke too, but I think @sethvargo is working on fixing that
[2014-07-06 21:24:32 -0400] doebi: cwebber: lol i thought a databag is a collection of local files (like .zip) which gets moved to the privisoned machine and place the files on certain locations
[2014-07-06 21:24:59 -0400] cwebber: doebi: yeah, you might have a bad time if you try that ;-)
[2014-07-06 21:25:06 -0400] doebi: ^^
[2014-07-06 21:25:12 -0400] cwebber: doebi: what are you trying to do?
[2014-07-06 21:25:31 -0400] doebi: simply transferring a tar.gz to a machine and extract it ;)
[2014-07-06 21:25:53 -0400] doebi: so i guess i may be best if i check those files in a git repo in and access this using a data bag?
[2014-07-06 21:26:33 -0400] cwebber: well, you have a couple of things you could do, and from what it looks like, none of them involve using a data bag ;-)
[2014-07-06 21:26:41 -0400] doebi: lol ok
[2014-07-06 21:27:44 -0400] cwebber: https://supermarket.getchef.com/cookbooks/tar is probably what you want
[2014-07-06 21:27:58 -0400] doebi: in the end i need a vagrant vm with some own files placed somewhere, some packages installed and some default config files edited
[2014-07-06 21:28:16 -0400] cheeseplus: doebi: are the files online or local?
[2014-07-06 21:28:59 -0400] cheeseplus: you can have Vagrant map a local folder, (depending on filesize) use the cookbook files directory, or use remote_file in a cookbook if the files are available online
[2014-07-06 21:29:40 -0400] doebi: for this testing environment local, but it would be even better if it gets them from a remote location in future, for example a git repo
[2014-07-06 21:29:47 -0400] cwebber: http://docs.opscode.com/resource_remote_file.html and http://docs.opscode.com/resource_cookbook_file.html may also be worth a look, but cheeseplus is right kinda depends on what you are doing
[2014-07-06 21:30:53 -0400] doebi: man ok i am gonna tell the whole story. i am working on my bachelor thesis where its about setting up temporary vms for workchops, education, etc on university.
[2014-07-06 21:31:36 -0400] cwebber: vs having students install software locally?
[2014-07-06 21:32:03 -0400] doebi: vs students having to boot KNOPPIX and set up themselves manually
[2014-07-06 21:43:41 -0400] s1991: Hello, I want ask that in recipe 'default.rb' we write "package 'apache2' do". So from where chef search for apache2 to install
[2014-07-06 21:47:47 -0400] cwebber: s1991: i think what your asking is, where does the apache2 package come from? It comes from the repository your system is configured to use
[2014-07-06 21:47:56 -0400] cheeseplus: s1991: it depends on the operating system, chef has default providers for most (yum for rhel/centos, apt for debian/ubuntu)
[2014-07-06 21:49:09 -0400] s1991: you mean it doesn't install that in vagrant via standard online resources
[2014-07-06 21:49:55 -0400] cheeseplus: standard online resources like the distribution repositories?
[2014-07-06 21:50:05 -0400] s1991: cheeseplus: yes
[2014-07-06 21:50:20 -0400] cheeseplus: that is what the providers do, yes
[2014-07-06 21:50:50 -0400] cheeseplus: s1991: for details of how/why - http://docs.opscode.com/resource_package.html
[2014-07-06 21:51:29 -0400] s1991: cheeseplus: so then where I can know, I mean is there any list of packages chef provides
[2014-07-06 21:51:57 -0400] cheeseplus: s1991: chef doesn't provide the packages
[2014-07-06 21:52:29 -0400] cheeseplus: s1991: chef utilizes the distribution package system unless told otherwise
[2014-07-06 21:52:50 -0400] s1991: cheeseplus: and also I'm a beginner so is there any good resource or tutorial to study, I'm really getting very confuse with chef thing
[2014-07-06 21:52:59 -0400] s1991: ok
[2014-07-06 21:53:03 -0400] cheeseplus: s1991: http://learn.getchef.com/
[2014-07-06 21:53:27 -0400] cheeseplus: s1991: so on CentOS the "package" resource would use yum
[2014-07-06 21:53:47 -0400] s1991: ya, got it thanks
[2014-07-06 21:53:55 -0400] cheeseplus: s1991: Chef just provides an abstraction so you don't have to think about which install command to run across systems
[2014-07-06 21:54:24 -0400] cheeseplus: you can also pass additional options to package to install from a custom binary, etc
[2014-07-06 21:55:19 -0400] s1991: ya, I just saw that.
[2014-07-06 21:59:07 -0400] diegows: Has anyone tried to install chef-server in ubuntu 14.04?
[2014-07-06 21:59:25 -0400] diegows: opscode doesn't provide the package and the 12.04 package doesn't work on the first try
[2014-07-06 21:59:39 -0400] diegows: may be some one can send me a hint before start to debugging this
[2014-07-06 22:03:03 -0400] s1991: cheeseplus: if i create a new cookbook via "knife cookbook create xyz" in cookbook dir which I mention in vagrantFile and add a line "chef.add_recipe 'xyz'". Will this be enough to run whatever I have in xyz::default.rb
[2014-07-06 22:03:14 -0400] s1991: or I'm missing something.
[2014-07-06 22:05:17 -0400] cheeseplus: s1991: if the line is added in the right spot yes
[2014-07-06 22:06:07 -0400] s1991: cheeseplus: ya I've added under "config.vm.provision "chef_solo" do |chef|"
[2014-07-06 22:06:11 -0400] cheeseplus: https://www.irccloud.com/pastebin/pF85ku3M
[2014-07-06 22:06:20 -0400] s1991: then why I'm getting some error
[2014-07-06 22:06:30 -0400] cheeseplus: well it depends on the error
[2014-07-06 22:07:26 -0400] cheeseplus: it could be that the vagrantfile is looking in the wrong place for the cookbook
[2014-07-06 22:07:38 -0400] cheeseplus: eg chef.cookbooks_path
[2014-07-06 22:08:11 -0400] s1991: cheeseplus: this is my vagrantfile http://pastebin.com/hLFUUMmh
[2014-07-06 22:10:14 -0400] cheeseplus: what is the error?
[2014-07-06 22:10:24 -0400] diegows: any cookbook to fix /etc/hosts files?
[2014-07-06 22:10:51 -0400] cheeseplus: diegows: https://github.com/customink-webops/hostsfile
[2014-07-06 22:10:55 -0400] s1991: cheeseplus: http://pastebin.com/uCn0Xqet
[2014-07-06 22:11:02 -0400] diegows: cheeseplus, thanks
[2014-07-06 22:12:50 -0400] cheeseplus: s1991: what version of build-essentials?
[2014-07-06 22:14:58 -0400] s1991: cheeseplus: how do I check that :P
[2014-07-06 22:15:52 -0400] cheeseplus: s1991: well it's loading a build-essentials cookbook from disk, check metadata.rb in the build-essentials folder
[2014-07-06 22:16:17 -0400] cheeseplus: so from inside the vm it'd be /tmp/vagrant-chef-3/chef-solo-1/cookbooks/build-essential/metadata.rb
[2014-07-06 22:17:24 -0400] cheeseplus: I ask as I see this on the issue tracker - https://tickets.opscode.com/browse/COOK-4441
[2014-07-06 22:17:44 -0400] cheeseplus: and this Vagrant run is using chef 10
[2014-07-06 22:18:37 -0400] s1991: cheeseplus: I've no vagrant-chef3 folder in /tmp
[2014-07-06 22:19:23 -0400] cheeseplus: well it's going to be in your cookbooks path in the host OS
[2014-07-06 22:19:41 -0400] s1991: cheeseplus: chef's version is 11.12.8
[2014-07-06 22:19:47 -0400] cheeseplus: the tmp path would be the mapped location inside of the vagrant VM
[2014-07-06 22:20:05 -0400] cheeseplus: s1991: not according to your log
[2014-07-06 22:20:06 -0400] cheeseplus: ==> default: [2014-07-06T22:09:29+00:00] INFO: *** Chef 10.14.2 ***
[2014-07-06 22:20:51 -0400] cheeseplus: the chef version you have installed in the host operating system may not be the same as inside the vagrant box
[2014-07-06 22:21:08 -0400] s1991: but "chef-solo -v" thows 11.12.8
[2014-07-06 22:21:37 -0400] cheeseplus: s1991: inside the vagrant box?
[2014-07-06 22:22:32 -0400] s1991: cheeseplus: yes, inside and outside both are 11.
[2014-07-06 22:23:03 -0400] cheeseplus: not according to that log ;)
[2014-07-06 22:23:18 -0400] cheeseplus: Did you install chef inside the box yourself?
[2014-07-06 22:24:11 -0400] s1991: yes, "curl https://www.opscode.com/chef/install.sh | sudo bash"
[2014-07-06 22:25:54 -0400] s1991: cheeseplus: but the problem must be with new cookbook, because when I do "chef.add_recipe 'apache2'" it gives me no error
[2014-07-06 22:26:30 -0400] s1991: and remove the cookbook which I created via knife
[2014-07-06 22:26:44 -0400] cheeseplus: s1991: not likely, as the issue you seem to be hitting has to do with an older version of chef running with a particular cookbook
[2014-07-06 22:27:02 -0400] cheeseplus: s1991: to update the versions of chef automatically inside the vagrantfile you can use https://github.com/schisamo/vagrant-omnibus
[2014-07-06 22:29:25 -0400] s1991: ok, let me check
[2014-07-06 22:30:39 -0400] cheeseplus: s1991: I just pulled that box and it's built with chef 10.14.2 so that explains where that version is coming from
[2014-07-06 22:31:14 -0400] s1991: cheeseplus: the box which I used?
[2014-07-06 22:31:26 -0400] cheeseplus: cheeseplus: yep, the base box
[2014-07-06 22:31:33 -0400] s1991: ok.
[2014-07-06 22:31:40 -0400] cheeseplus: it's executing /opt/vagrant_ruby/bin/chef-solo
[2014-07-06 22:33:06 -0400] cheeseplus: s1991: typically I prefer to use provisionerless boxes and install chef freshly each time or bake my own images with the version of chef I want
[2014-07-06 22:33:46 -0400] s1991: ok, I don't know that.
[2014-07-06 22:35:21 -0400] s1991: cheeseplus: I want to create a cookbook for a django based project for an open source org. So if I'm not wrong this is the way that I create a new cookbook via knife and edit default.rb to install other packages and configurations
[2014-07-06 22:35:22 -0400] cheeseplus: s1991: those are just preferences/ways you can go about getting around the situation generally but to each their own
[2014-07-06 22:35:47 -0400] cheeseplus: s1991: that is definitely one way to do it
[2014-07-06 22:36:05 -0400] s1991: cheeseplus: ya I just followed tutorial.
[2014-07-06 22:36:07 -0400] cheeseplus: some packages are complex enough that they have their own cookbooks (like apache)
[2014-07-06 22:36:32 -0400] cheeseplus: doesn't mean you have to use those but they are available and do more than just "install package"
[2014-07-06 22:37:10 -0400] cheeseplus: it's up to you how much you want to re-use existing work or write your own cookbooks to do the same things
[2014-07-06 22:37:19 -0400] s1991: cheeseplus: ya, so is their any difference that I add "package 'apache2' do.." in my cookbook or by doing git clone apache2 cookbook
[2014-07-06 22:38:13 -0400] cheeseplus: well if you use the apache cookbook it has options for installing apache2 differently from just grabbing what is in the repo
[2014-07-06 22:39:16 -0400] cheeseplus: s1991: for example, the apache cookbook uses the package resource like this: https://github.com/onehealth-cookbooks/apache2/blob/master/recipes/default.rb#L20
[2014-07-06 22:39:29 -0400] s1991: but task is I've build a new cookbook something like this https://github.com/osuosl-cookbooks/ganeti_webmgr
[2014-07-06 22:39:43 -0400] cheeseplus: but the apache cookbook does a ton of other stuff aside from just installing a package
[2014-07-06 22:41:20 -0400] s1991: cheeseplus: so, can I download or add more cookbook via my new cookbook
[2014-07-06 22:42:00 -0400] cheeseplus: cheeseplus: yes, you can add dependencies via metadata.rb and include_recipe inside a recipe to run another cookbook/recipe
[2014-07-06 22:42:31 -0400] cheeseplus: s1991: http://docs.opscode.com/essentials_cookbook_recipes.html#include-recipes
[2014-07-06 22:43:22 -0400] cheeseplus: for the metatadata.rb details - http://docs.opscode.com/essentials_cookbook_metadata.html
[2014-07-06 22:43:46 -0400] lamont_oc: apache2 cookbook is probably not the best one to start with
[2014-07-06 22:44:23 -0400] s1991: cheeseplus: so to use "include_recipe 'apache2'" I must already have that cookbook, but what I wanted is to start via just one cookbook
[2014-07-06 22:45:09 -0400] lamont_oc: start writing your own cookbook, use the package resource to install apache2, then drop in a conf file for your website, then drop in an index.html or something and a service resource to start it
[2014-07-06 22:46:04 -0400] lamont_oc: i'd back up and ask what simple tasks you do now to configure servers that you'd like to automate, and pick something very simple and automate it
[2014-07-06 22:46:05 -0400] cheeseplus: s1991: cookbooks can include recipes from other cookbooks but nothing says you have to do that
[2014-07-06 22:46:24 -0400] cheeseplus: and +1 to lamont_oc's advice of just getting started simply
[2014-07-06 22:46:48 -0400] cheeseplus: you'll see why you might want to (or not want to) re-use other cookbooks the more you chef
[2014-07-06 22:47:14 -0400] lamont_oc: and the community cookbooks have a metric **** ton of additional complexity to address everyone's different needs -- workarounds for chef 10, LWRPs for this and that, source installs, binary installs, everyone's opinions about how to do their job thrown in and mixed together
[2014-07-06 22:47:23 -0400] s1991: that's what I was doing just starting with only apache2 via my new cookbook, but that error came
[2014-07-06 22:47:48 -0400] lamont_oc: imo, try something simpler like ntp
[2014-07-06 22:48:12 -0400] cheeseplus: s1991: ok so that issue is a result of chef loading the build-essentials cookbooks somehow
[2014-07-06 22:48:33 -0400] cheeseplus: s1991: do you have a build-essentials cookbook in your cookbook path?
[2014-07-06 22:50:00 -0400] lamont_oc: s1991: which tutorial are you using?
[2014-07-06 22:50:19 -0400] s1991: cheeseplus: yes, I've but I've commented it in vagrantfile
[2014-07-06 22:51:16 -0400] s1991: lamont_oc: I'm using 2-3 tutorials. http://learn.getchef.com/legacy/tutorials/create-your-first-cookbook/#configureapacheonlinux http://tikalk.com/alm/writing-chef-cookbook  https://www.digitalocean.com/community/tutorials/how-to-create-simple-chef-cookbooks-to-manage-infrastructure-on-ubuntu
[2014-07-06 22:51:37 -0400] s1991: may be that's why I'm all confused
[2014-07-06 22:52:03 -0400] lamont_oc: yes
[2014-07-06 22:53:04 -0400] lamont_oc: the first url there is good, its what i was suggesting to build an apache2 website without using the apache2 cookbook
[2014-07-06 22:54:03 -0400] cheeseplus: s1991: it may be freaking out just cause that cookbook is in the path
[2014-07-06 22:54:03 -0400] s1991: lamont_oc: but I can not able to find which explains clearly how to create cookbook and what to do for configurating project setting
[2014-07-06 22:54:33 -0400] lamont_oc: actually those are all pretty reasonable intros
[2014-07-06 22:55:30 -0400] s1991: cheeseplus: so should I uncomment "chef.add_recipe 'build-essential'"
[2014-07-06 22:56:19 -0400] doebi: why cant it install wireshark? http://files.doebi.at/temp/BbT8R0mr/
[2014-07-06 22:56:23 -0400] cheeseplus: s1991: what I'm saying is that just by having build-essential in the path may be causing the error
[2014-07-06 22:56:57 -0400] lamont_oc: well the bigger issue is using the box file with chef-10 in it
[2014-07-06 22:57:06 -0400] s1991: ok, I'll try that
[2014-07-06 22:57:32 -0400] Damm: cwebber, I use private chef
[2014-07-06 22:57:41 -0400] Damm: cwebber, so my knife site functions are broken
[2014-07-06 22:57:49 -0400] s1991: lamont_oc: ya, I'm installing latest one. It is taking way too much time.
[2014-07-06 22:57:59 -0400] cheeseplus: lamont_oc: yea, we started there already ;)
[2014-07-06 22:58:01 -0400] Damm: that's why I was hoping supermarket would be smarter than the old site
[2014-07-06 22:58:02 -0400] bawt: PONG
[2014-07-06 22:58:17 -0400] cheeseplus: doebi: you probably need to run an apt-get update before
[2014-07-06 22:58:36 -0400] cheeseplus: doebi: if I run a vagrant box with the install command it errors out with "100"
[2014-07-06 22:58:40 -0400] Damm: i guess i'm missing a site in knife.rb I just can't recall and don't really care enough
[2014-07-06 22:59:08 -0400] cwebber: Damm: out
[2014-07-06 22:59:28 -0400] lamont_oc: yeah but build-essentials is pretty 'essential' to a lot of cookbooks and it appears to be broken deliberately with chef-10, so right off there you're starting off badly
[2014-07-06 22:59:36 -0400] cheeseplus: yup
[2014-07-06 22:59:52 -0400] doebi: cheeseplus: hmm ok, how do i run apt-get update? is there an command for that or do i simply use some inline bash provisioing in vagrant?
[2014-07-06 23:00:08 -0400] cwebber: Damm: bummer, maybe I can extend knife-supermarket. that is gonna be a common problem.
[2014-07-06 23:00:20 -0400] cheeseplus: doebi: the apt cookbook will do it for you
[2014-07-06 23:00:48 -0400] Damm: well I never really realized how much I lost until my customer moved off hosted
[2014-07-06 23:00:54 -0400] Damm: we wanted to save money for budgeting reasons
[2014-07-06 23:01:18 -0400] Damm: i basically need to use a knife switch to swap configs
[2014-07-06 23:01:44 -0400] cheeseplus: Damm: https://github.com/greenandsecure/knife-block
[2014-07-06 23:01:53 -0400] cheeseplus: easily swap knife configs
[2014-07-06 23:02:01 -0400] Damm: cheeseplus, not really
[2014-07-06 23:02:19 -0400] Damm: cheeseplus, knife-block only works with knife, which is as advertised.  But if you use Berkshelf there's .berkshelf/config.json
[2014-07-06 23:02:26 -0400] Damm: so the nuances are a bit more
[2014-07-06 23:02:44 -0400] cheeseplus: certainly but berkshelf wasn't mentioned in that request ;)
[2014-07-06 23:03:09 -0400] Damm: berkshelf api for supermarket
[2014-07-06 23:03:21 -0400] Damm: so wouldn't it be swank if berkshelf could upload to the supermarket?
[2014-07-06 23:03:58 -0400] Damm: cheeseplus, when swapping configs it's just more.  I know it's easy to be lazy and forget the rest
[2014-07-06 23:03:58 -0400] bawt: PONG
[2014-07-06 23:04:54 -0400] lamont_oc: dan extracted this cookbook-omnifetch gem out of berks: https://github.com/danielsdeleo/cookbook-omnifetch
[2014-07-06 23:05:22 -0400] lamont_oc: if you wrote a similar cookbook-omnipush then you could write a generic command to pull cookbook from X and push to Y
[2014-07-06 23:05:46 -0400] Damm: hmm does the supermarket have namespaced cookbooks?
[2014-07-06 23:05:49 -0400] cheeseplus: looks like knife block is dead https://github.com/greenandsecure/knife-block/issues/20
[2014-07-06 23:05:52 -0400] Damm: or is it just the same thing with a new site
[2014-07-06 23:05:56 -0400] lamont_oc: so pull from my-chef-repo, my-berks-cache, my-chef-server and push to community would be easy to write
[2014-07-06 23:05:56 -0400] cheeseplus: or at least not actively maintained
[2014-07-06 23:06:12 -0400] Damm: cheeseplus, that's standard with ruby
[2014-07-06 23:06:16 -0400] Damm: abandonware is popular
[2014-07-06 23:07:21 -0400] lamont_oc: knife-block isn't really necessary
[2014-07-06 23:07:46 -0400] Damm: doesn't work well anyway; do you have a better mechanism to swap between private and not?
[2014-07-06 23:07:50 -0400] Damm: other than environment variables
[2014-07-06 23:08:04 -0400] lamont_oc: knife walks up the pwd to find .chef/knife.rb
[2014-07-06 23:08:32 -0400] lamont_oc: so use ~/env/work/.chef/knife.rb and ~/env/home/.chef/knife.rb to separate work and home chef configs
[2014-07-06 23:08:34 -0400] Damm: of course; but I've worked in organizations where that's not always a good file to use
[2014-07-06 23:08:48 -0400] cheeseplus: I've done that and used knife block (but I never needed bershelf) in the past
[2014-07-06 23:08:59 -0400] Damm: the reasons why it fails are not worth repeating as it's just personal failures usually
[2014-07-06 23:09:05 -0400] lamont_oc: cd in ~/env/work when you're doing work, and cd in ~/env/home when you're doing home stuff
[2014-07-06 23:09:15 -0400] Damm: the git/work/chef-repo;knife cookbook list
[2014-07-06 23:09:18 -0400] Damm: should be fine
[2014-07-06 23:09:25 -0400] Damm: then git/home/chef-repo;knife cookbook list
[2014-07-06 23:09:37 -0400] lamont_oc: include some flags and colors in your shell prompt so you can easily tell which context that you're in based on pwd
[2014-07-06 23:09:45 -0400] Damm: on your own this can be achieved easily but teamwork is something I don't see often
[2014-07-06 23:09:59 -0400] Damm: 'oh you hardcode this... let me make this a y'
[2014-07-06 23:10:15 -0400] Damm: I do enjoy working with not so smarty customers :)
[2014-07-06 23:11:24 -0400] cheeseplus: rub some devops on it
[2014-07-06 23:11:53 -0400] Damm: no thanks I like my customers
[2014-07-06 23:11:55 -0400] Damm: I don't want them to hate me
[2014-07-06 23:12:50 -0400] Damm: working with developers is still a good portion of my day; but networking; hardware; fires
[2014-07-06 23:14:27 -0400] cheeseplus: lol, it was very much a joke
[2014-07-06 23:15:17 -0400] Damm: hmm, well cookbook landed in the comunity site
[2014-07-06 23:20:01 -0400] Damm: and knife-supermarket is not a straight shot to make it work.  Maybe another year
[2014-07-06 23:20:16 -0400] Damm: i'd be broke
[2014-07-06 23:36:41 -0400] Damm: https://github.com/cwebberOps/knife-supermarket/pull/4
[2014-07-06 23:37:01 -0400] Damm: ^^ cwebber that would be beneficial as I'm having problems with my cookbook repo path
[2014-07-06 23:42:56 -0400] Damm: well without the namespaced cookbooks I really don't know why we have 2 cookbook sites now
