[2014-07-30 00:02:45 -0400] sauraus: so for the git resource how do 'checkout_branch' and 'revision' interact?
[2014-07-30 00:04:42 -0400] coderanger: sauraus: checkout_branch is the deploy branch name, that turns in to the -b name
[2014-07-30 00:04:59 -0400] coderanger: sauraus: Unless you have your own branch called "deploy", you can leave it as the default
[2014-07-30 00:08:41 -0400] sauraus: I have a specific branch that I need to 'sync'
[2014-07-30 00:09:24 -0400] coderanger: that goes in revision
[2014-07-30 00:10:32 -0400] sauraus: ah so don't use checkout_branch and use revision to sync a specific branch
[2014-07-30 00:10:57 -0400] coderanger: Indeed
[2014-07-30 00:12:12 -0400] sauraus: Could it be that the git resource executes different commands between Unix (CentOS) and Mac OSX Mavericks?
[2014-07-30 00:12:39 -0400] coderanger: No
[2014-07-30 00:21:39 -0400] sauraus: I will say yes unfortunately
[2014-07-30 00:22:16 -0400] coderanger: Huh?
[2014-07-30 00:22:16 -0400] bawt: Huh not found
[2014-07-30 00:22:55 -0400] coderanger: bawf: forget Huh
[2014-07-30 00:23:03 -0400] coderanger: bawt: forget Huh
[2014-07-30 00:23:15 -0400] coderanger: sauraus: https://github.com/opscode/chef/blob/master/lib/chef/provider/git.rb is the code, nothing platform-specific in there
[2014-07-30 00:23:29 -0400] coderanger: sauraus: You'll have to remove the existing git repo and re-clone from scratch to fix the depth
[2014-07-30 00:24:32 -0400] sauraus: did that
[2014-07-30 00:24:56 -0400] sauraus: I just rm -rf my entire tree
[2014-07-30 00:25:25 -0400] sauraus: running again but I believe the git commands get messed up somewhere because what I get is this: https://gist.github.com/Sauraus/f86ed2b01a9e6dfa680a
[2014-07-30 00:26:54 -0400] coderanger: sauraus: converge_by("checkout ref #{sha_ref} branch #{@new_resource.revision}")
[2014-07-30 00:27:29 -0400] coderanger: sauraus: your running code doesn't match what you pasted
[2014-07-30 00:27:41 -0400] coderanger: since revision is still "HEAD" (the default)
[2014-07-30 00:30:55 -0400] loki97123: hello again
[2014-07-30 00:31:05 -0400] loki97123: erchef, beam.smp and high cpu usage
[2014-07-30 00:31:14 -0400] loki97123: yes i know what its about
[2014-07-30 00:31:16 -0400] sauraus: slap forehead berks upload anyone? :D
[2014-07-30 00:31:16 -0400] loki97123: question is
[2014-07-30 00:31:43 -0400] loki97123: has there been any logging added that helps locate which cookbook is causing the wedge
[2014-07-30 00:31:58 -0400] coderanger: loki97123: No, because the wedge was fixed in 11.1
[2014-07-30 00:32:10 -0400] loki97123: still getting it
[2014-07-30 00:32:12 -0400] coderanger: loki97123: You can use knife-solve if you are still using 11.0 for some reason
[2014-07-30 00:32:19 -0400] loki97123: let me check my server version
[2014-07-30 00:34:22 -0400] loki97123: yeah says we are on chef-11.12.2-1
[2014-07-30 00:34:30 -0400] coderanger: loki97123: Thats chef-client
[2014-07-30 00:34:34 -0400] coderanger: loki97123: Chef-server is unrelated
[2014-07-30 00:34:43 -0400] loki97123: blargalarg
[2014-07-30 00:34:46 -0400] loki97123: yeah
[2014-07-30 00:34:47 -0400] coderanger: loki97123: look in /opt/chef-server/version-manifest.txt
[2014-07-30 00:34:54 -0400] loki97123: chit
[2014-07-30 00:34:55 -0400] loki97123: chef-server-11.0.12-1.el6.x86_64
[2014-07-30 00:35:50 -0400] coderanger: There ya go
[2014-07-30 00:35:56 -0400] coderanger: Upgrade to 11.1 and you'll be all set
[2014-07-30 00:36:04 -0400] loki97123: yeah, looking in to knife solve for now
[2014-07-30 00:36:09 -0400] loki97123: i can't just 11.1 yet
[2014-07-30 00:36:10 -0400] loki97123: :|
[2014-07-30 00:36:38 -0400] coderanger: knife-solve just lets you test different solver combos easily
[2014-07-30 00:36:55 -0400] coderanger: do that until you find the smallest subset of cookbooks that triggers the issue
[2014-07-30 00:37:02 -0400] coderanger: and usually by then you'll see the problem
[2014-07-30 00:37:16 -0400] loki97123: right, i don't even know where the start of the problem is yet, but cool
[2014-07-30 00:37:29 -0400] coderanger: loki97123: Start with the -n mode on each node
[2014-07-30 00:37:35 -0400] coderanger: until you find one that doesn't solve
[2014-07-30 00:37:46 -0400] coderanger: then recurse down into its roles/cookbooks
[2014-07-30 00:38:04 -0400] loki97123: sorry, -n mode?
[2014-07-30 00:38:21 -0400] loki97123: on nodes
[2014-07-30 00:38:27 -0400] loki97123: i'll rtfm
[2014-07-30 00:38:35 -0400] coderanger: Its in the knife-solve readme
[2014-07-30 00:38:44 -0400] loki97123: yup yup
[2014-07-30 00:57:26 -0400] loki97123: @coderanger?
[2014-07-30 00:57:49 -0400] loki97123: i did the knife solve 'suspect role'
[2014-07-30 00:58:02 -0400] loki97123: watched it kick the beam up to 92 %
[2014-07-30 00:58:24 -0400] fclausen: hello all - does chef-client respect the "http_proxy" environment variables if set? For example when doing remote_file operations.
[2014-07-30 00:58:41 -0400] coderanger: loki97123: Then check each recipe in it, and then different combos
[2014-07-30 00:58:47 -0400] coderanger: loki97123: Until you find the minimal set
[2014-07-30 00:59:24 -0400] loki97123: so, restart chef-server, rinse repeat with smaller sets each time
[2014-07-30 00:59:25 -0400] loki97123: ?
[2014-07-30 00:59:41 -0400] coderanger: loki97123: Yep
[2014-07-30 00:59:46 -0400] loki97123: okies
[2014-07-30 00:59:48 -0400] loki97123: thanks again
[2014-07-30 00:59:50 -0400] coderanger: loki97123: You can just sigkill the bad beam process
[2014-07-30 00:59:55 -0400] coderanger: fclausen: Yes
[2014-07-30 01:00:12 -0400] loki97123: thats more gooder thank you
[2014-07-30 01:00:23 -0400] fclausen: thanks coderanger - that'll help speed up integration testing
[2014-07-30 01:06:22 -0400] gkra: uhm..
[2014-07-30 01:06:30 -0400] gkra: where does 'knife download /' put everything?
[2014-07-30 01:11:33 -0400] gkra: oh, relative to cookbook_path
[2014-07-30 01:13:15 -0400] gkra: well, shit
[2014-07-30 01:13:30 -0400] gkra: read the docs first, next time, dumbass. 
[2014-07-30 02:40:28 -0400] clakeb: I have a questions about the differences between chef-solo and chef-client local mode. Can anyone tell me the differences and uses cases? Is chef-solo going away?
[2014-07-30 02:43:13 -0400] gkra: damnit wtf... berksfile lock has the correct tag/sha for my cookbook branch that I'm trying to test, but when test-kitchen is getting an older version...
[2014-07-30 02:43:37 -0400] lyken: gkra: kill the kitchen and start again ?
[2014-07-30 02:44:19 -0400] gkra: i've done that i don't know how many times
[2014-07-30 02:44:27 -0400] lyken: weird..
[2014-07-30 02:44:38 -0400] gkra: I've even blown away ~/.berkshelf/{.cache,cookbooks,tmp} and re-done berks install
[2014-07-30 02:44:43 -0400] |rt|: gkra: check your ~/.berkshelf/cookbooks cache and purge if necessary
[2014-07-30 02:44:51 -0400] |rt|: gkra: nevermind :)
[2014-07-30 02:45:03 -0400] Damm: gkra, what's your Berkshelf file say?
[2014-07-30 02:45:06 -0400] gkra: dirname is the right sha...
[2014-07-30 02:45:08 -0400] Damm: points to the path right?
[2014-07-30 02:47:01 -0400] gkra: cookbook path isn't set there
[2014-07-30 02:47:12 -0400] gkra: knife.rb points to the right places, though
[2014-07-30 02:47:21 -0400] Damm: huh
[2014-07-30 02:47:23 -0400] gkra: but this is a depencency that's beign pulled wrong for the cookbook i'm actually testing
[2014-07-30 02:47:28 -0400] Damm: and you expect it to work?
[2014-07-30 02:47:36 -0400] Damm: berkshelf doesn't read knife.rb
[2014-07-30 02:47:38 -0400] gkra: lol yes
[2014-07-30 02:47:53 -0400] gkra: berksfile is telling it to pull from github
[2014-07-30 02:47:58 -0400] Damm: so if your expecting it to upload the right cookbook it has to point to the right path
[2014-07-30 02:48:01 -0400] Damm: so tell it to pull it locally
[2014-07-30 02:48:34 -0400] gkra: that's the thing. both my on-disk copy and the specific tag in github are identical
[2014-07-30 02:48:44 -0400] gkra: i'm missing something stupid somewhere.
[2014-07-30 02:48:52 -0400] gkra: ugh. it's dinner time.
[2014-07-30 02:49:15 -0400] Damm: berks vendor .foo
[2014-07-30 02:49:19 -0400] Damm: and take a poke
[2014-07-30 02:49:33 -0400] Damm: gkra, because sounds like berkshelf took a left
[2014-07-30 02:49:36 -0400] Damm: and is retarded
[2014-07-30 02:49:37 -0400] bawt: OK
[2014-07-30 02:49:50 -0400] gkra: well, it's either berkshelf or test kitchen
[2014-07-30 02:50:01 -0400] gkra: berks install is pulling the correct resource
[2014-07-30 02:50:06 -0400] gkra: so that leaves test kitchen
[2014-07-30 02:50:57 -0400] gkra: so how do my cookbooks end up inside kitchen? :)
[2014-07-30 02:51:54 -0400] someara: gkra watch this: http://vimeo.com/98938732
[2014-07-30 02:56:22 -0400] Damm: test-kitchen uses berks
[2014-07-30 02:56:23 -0400] Damm: to pull it
[2014-07-30 02:57:12 -0400] drgeb: Hi, where is the chef-solo log file located ?
[2014-07-30 03:10:49 -0400] kisoku: gkra: what version of berkshelf
[2014-07-30 03:39:55 -0400] mallu: hi, looking for some help with knife search.. I want to be able to search chef server and get a list of nodes with specific role and get the tags of those nodes
[2014-07-30 03:42:22 -0400] mallu: when I do knife search node role:role_name I can see the "Tags" I'm trying to get a list of those tags
[2014-07-30 03:42:26 -0400] coderanger: mallu: knife search roles:foo
[2014-07-30 03:43:15 -0400] mallu: coderanger: thank you... How do I get just the "tags" ?
[2014-07-30 03:43:34 -0400] coderanger: mallu: What are you trying to do?
[2014-07-30 03:43:36 -0400] mallu: I'm trying to create an array so that I can do some stuff with it
[2014-07-30 03:43:55 -0400] coderanger: mallu: What kind of "stuff"?
[2014-07-30 03:44:06 -0400] coderanger: or more specifically, in what programming language?
[2014-07-30 03:44:52 -0400] mallu: so Tags: is our AWS instance IDs I want to get the instance_IDs and create snapshots of ebs ...
[2014-07-30 03:44:54 -0400] mallu: in ruby
[2014-07-30 03:46:43 -0400] mallu: this is what I get when running knife search...  Platform:    centos 6.5 Tags:        i-08fe9605
[2014-07-30 03:47:39 -0400] mallu: how can I parse the Tags?
[2014-07-30 03:53:06 -0400] mallu: coderanger: any idea how I can get that
[2014-07-30 03:53:21 -0400] coderanger: mallu: Don't use knife for this
[2014-07-30 03:53:33 -0400] coderanger: mallu: If you want to use Chef data in Ruby, use the Chef-API gem
[2014-07-30 03:53:52 -0400] coderanger: mallu: https://github.com/sethvargo/chef-api#searching
[2014-07-30 03:55:31 -0400] mallu: ok thanks
[2014-07-30 03:56:45 -0400] coderanger: mallu: There are also client libraries in just about every language, knife is for interactive use, not scripting (well, knife exec is for simple scripting)
[2014-07-30 03:59:18 -0400] gkra: kisoku: 3.1.3 when run by hand (chefdk), 3.1.4 in my Gemfile bundle for test-kitchen within my cookbook.
[2014-07-30 04:00:35 -0400] kisoku: don't suppose you could put up a gist with yourberskfiole and berksfile.lock ?
[2014-07-30 04:03:26 -0400] gkra: okay, this is really bizzare now
[2014-07-30 04:03:43 -0400] gkra: looking at /tmp/kitchen/cache/cookbooks the right version and contents of the cookbook are there
[2014-07-30 04:04:01 -0400] gkra: but chef-client fails when compiling the cookbook on a line that is from the old version
[2014-07-30 04:06:19 -0400] gkra: kisoku: Berksfile.lock (https://gist.github.com/gkra/eb6d3826e2727cbf47c2) and Berksfile (https://gist.github.com/gkra/b034ad2ababfc9cdbdcf)
[2014-07-30 04:06:20 -0400] kisoku: are you using chef-zero
[2014-07-30 04:06:25 -0400] gkra: yes.
[2014-07-30 04:06:58 -0400] kisoku: are you sure there isn't a stale server running in memory  ?
[2014-07-30 04:07:10 -0400] kisoku: can you post the .kitchen.yml
[2014-07-30 04:08:11 -0400] gkra: https://gist.github.com/gkra/870b56bcaafdd8a14a4e (.kitchen.yml)
[2014-07-30 04:08:53 -0400] gkra: yup. just verified that there are no VMs in virtualbox when I destory the kitchen
[2014-07-30 04:09:42 -0400] gkra: just destroyed and verified it's all gone. rebuilding & converging now, will post output in a gist.
[2014-07-30 04:10:28 -0400] kisoku: hrm
[2014-07-30 04:10:35 -0400] kisoku: here's the million dollar question
[2014-07-30 04:10:52 -0400] kisoku: is the vbox machine you are using your own machine or a machine that you are sharing
[2014-07-30 04:11:16 -0400] kisoku: ie. are there any other users on the machine that use virtualbox
[2014-07-30 04:11:28 -0400] kisoku: specifically with test-kitchen
[2014-07-30 04:12:11 -0400] kisoku: I've seen storage collisions happen before on mutli-user virtuabox servers
[2014-07-30 04:12:16 -0400] gkra: https://gist.github.com/gkra/58c4ccc8dba993ccd45d
[2014-07-30 04:12:41 -0400] gkra: it's my own, local to my workstation, just built it this afternoon with packer
[2014-07-30 04:12:52 -0400] gkra: even blew out all my vagrant boxes first
[2014-07-30 04:13:29 -0400] gkra: ( for b in `vagrant box list | awk '{print $1}'`; do vagrant box remove $b; done )
[2014-07-30 04:13:58 -0400] kisoku: what does vboxmanage list vms say
[2014-07-30 04:14:04 -0400] kisoku: after you do that
[2014-07-30 04:14:45 -0400] gkra: gruiz-ade@gopher-active(ttys002):eps-base 307 $ VBoxManage list vms
[2014-07-30 04:14:45 -0400] gkra: "default-centos-65_default_1406693370257_69471" {fe223797-e7c9-4741-8928-64f2842d5f08}
[2014-07-30 04:14:51 -0400] gkra: but I just created a new kitchen
[2014-07-30 04:15:18 -0400] gkra: to post that last gist
[2014-07-30 04:15:39 -0400] kisoku: ok
[2014-07-30 04:15:47 -0400] kisoku: weird :-)
[2014-07-30 04:15:59 -0400] kisoku: so when you do kitchen-login
[2014-07-30 04:16:12 -0400] gkra: the thing that gives it away is that it's erroring on a line with 'node.environment', but the cookbook in the kitchen box itself (/tmp/kitchen/cache/cookbooks/eps-zabbix) has the correct 'node.chef_environment' in it.
[2014-07-30 04:16:19 -0400] kisoku: can you find the offending line of code in /tmp/kitchen ?
[2014-07-30 04:16:54 -0400] kisoku: grep -r 'node.environment' /tmp/kitchen/cookbooks
[2014-07-30 04:17:15 -0400] gkra: https://gist.github.com/gkra/26f56b3694cfe908aa2f
[2014-07-30 04:18:15 -0400] gkra: that's right, too (https://gist.github.com/gkra/3582406a63a6f8d4d8a8)
[2014-07-30 04:20:32 -0400] kisoku: tbizarre
[2014-07-30 04:20:49 -0400] gkra: wait
[2014-07-30 04:20:55 -0400] gkra: it might just be that I can't read.
[2014-07-30 04:21:11 -0400] kisoku: lol
[2014-07-30 04:22:30 -0400] kisoku: it's blowing up in the attributes file
[2014-07-30 04:22:35 -0400] kisoku: you are grepping the recipes
[2014-07-30 04:22:53 -0400] gkra: yeah
[2014-07-30 04:22:55 -0400] kisoku: can you grep -r ebs-zabbix
[2014-07-30 04:22:57 -0400] gkra: i've been staring at this too long
[2014-07-30 04:23:12 -0400] gkra: sure enough it's in the attributes/database.rb file.
[2014-07-30 04:23:15 -0400] gkra: *headdesk*
[2014-07-30 04:23:22 -0400] kisoku: no worries
[2014-07-30 04:23:34 -0400] kisoku: this shit happens to me all the time too
[2014-07-30 04:23:41 -0400] kisoku: can't see the forest for the trees
[2014-07-30 04:23:56 -0400] gkra: this should fix it: https://gist.github.com/gkra/257b6b4f962694c393e7
[2014-07-30 04:23:57 -0400] gkra: :)
[2014-07-30 04:23:58 -0400] kisoku: sometimes it helps to talk it out with someone
[2014-07-30 04:24:09 -0400] gkra: definitely :)
[2014-07-30 04:24:46 -0400] kisoku: :-)
[2014-07-30 04:24:49 -0400] kisoku: glad I could help
[2014-07-30 04:25:43 -0400] gkra: thanks ;)
[2014-07-30 04:26:06 -0400] gkra: man, jq just needs to be everywhere.
[2014-07-30 04:28:43 -0400] kisoku: jq ?
[2014-07-30 04:29:21 -0400] kisoku: ah yeah
[2014-07-30 04:29:24 -0400] kisoku: I agree
[2014-07-30 04:34:07 -0400] gkra: hah
[2014-07-30 04:34:11 -0400] gkra: well, all that work for nothing
[2014-07-30 04:34:19 -0400] gkra: still bombing the cookbook compile at:
[2014-07-30 04:34:21 -0400] gkra:         12>> master= node['eps_zabbix'][node.chef_environment]['master']
[2014-07-30 04:34:41 -0400] gkra: I'm guessing chef_environment doesn't exist in chef-zero?
[2014-07-30 04:37:54 -0400] jtimberman: gkra it does
[2014-07-30 04:40:05 -0400] gkra: hmm... how do I set it? as an attribute in .kitchen.yml?
[2014-07-30 04:40:51 -0400] gkra: undefined method '[]' for nilclass
[2014-07-30 04:41:29 -0400] gkra: so i'm guessing node.chef_environment is evaluating to a value that doesn't have an attribute set...
[2014-07-30 04:42:13 -0400] jtimberman: https://gist.github.com/jtimberman/54cabf626ce5ee553286
[2014-07-30 04:42:14 -0400] jtimberman: try taht
[2014-07-30 04:42:36 -0400] gkra: oh hey
[2014-07-30 05:04:42 -0400] gkra: interesting
[2014-07-30 05:04:59 -0400] gkra: if i add that, chef-client is suddently unable to resolve the base cookbook
[2014-07-30 05:05:45 -0400] gkra: https://gist.github.com/gkra/ae411ee8c65d67d6951d
[2014-07-30 05:07:05 -0400] gkra: okay. 10pm. this is now officially a problem for tomorrow.
[2014-07-30 07:20:59 -0400] simmel: http://pastie.org/private/ndnfa8nszdcul0p2hzupoq Why isn't homebrew::install_formulas run so that unrar gets installed?
[2014-07-30 07:48:23 -0400] mr_proper: Hi Folks.. I want to be able to be able to deploy a stack of servers, which depend on knowing each other's IP address (web, database, load balancer...). For different projects, I may have different stacks, but I want the web instance of a given stack to be able to find the node/ip-address of its related db server so that it can set up the config co
[2014-07-30 07:48:24 -0400] mr_proper: rrectly.
[2014-07-30 07:48:32 -0400] mr_proper: Without having to have a role for every server type in every project (gets unmanageable very quickly), how could I achieve this? I guess I could represent projects as environments, and search within those.... Or I could have project specific recipes that depend on the base recipes...
[2014-07-30 08:06:03 -0400] SmudgerDan: Ohai, sexy people!
[2014-07-30 08:06:28 -0400] matti: SmudgerDan: Bork bork bork ;)
[2014-07-30 08:07:09 -0400] SmudgerDan: =D How's life treating everyong?
[2014-07-30 08:07:11 -0400] SmudgerDan: one!
[2014-07-30 08:08:19 -0400] matti: SmudgerDan: Good. I feel sexi thanks to you ;)
[2014-07-30 08:08:52 -0400] SmudgerDan: Good I am glad, you should always feel sexy, you are an amazing human being! remember =D
[2014-07-30 08:10:17 -0400] matti: :)
[2014-07-30 08:11:35 -0400] SmudgerDan: What are you up to today?
[2014-07-30 08:12:54 -0400] matti: SmudgerDan: Now we totally need this: http://youtube.com/watch?v=NVPq-_t-ANw
[2014-07-30 08:13:00 -0400] matti: :)
[2014-07-30 08:13:34 -0400] SmudgerDan: shhh I am at work, I cant watch youtube vids!
[2014-07-30 08:14:58 -0400] matti: SmudgerDan: ;(
[2014-07-30 08:15:25 -0400] matti: SmudgerDan: Have some Karaoke http://www.azlyrics.com/lyrics/tinaturner/wedontneedanotherhero.html
[2014-07-30 08:15:36 -0400] matti: :>
[2014-07-30 08:16:13 -0400] SmudgerDan: why are you sending me Tina Turner? I am very confused
[2014-07-30 08:41:42 -0400] SmudgerDan: I am calling the ":request" on the Windows_reboot handler which is working correctly
[2014-07-30 08:42:03 -0400] SmudgerDan: but in other recipes I want to check to see if there is a pending reboot requested
[2014-07-30 08:46:10 -0400] SmudgerDan: ok think I can use node.run_state[:reboot_requested]
[2014-07-30 08:52:35 -0400] abiko: Hello all. I have a question regarding chef-vault usage, if you gents can assist me ?
[2014-07-30 08:55:26 -0400] abiko: I have two data bags managed by chef-vault and I'd like to give every node access to it. Now when adding a new node and running "knife vault update" would it be sufficient just to pass the search for node name "--search 'name:new-node.fqdn.com' or I'd need to apply my whole search pattern ( let's say wildcard '*:*')
[2014-07-30 10:11:58 -0400] chandra: can anyone plz tel me where i can bootstrap log ?
[2014-07-30 10:13:34 -0400] chandra: where i can get bootstrap related log ?
[2014-07-30 10:39:16 -0400] anothersmith: Anyone seen an error like this when working with berkshelf?   http://pastebin.com/raw.php?i=qRH2hrhG
[2014-07-30 10:54:04 -0400] Shred00: which version of chef is Class: Chef::Provider::Service::Systemd available in?
[2014-07-30 10:55:00 -0400] Shred00: ahhh.  i see it in chef 11 at least
[2014-07-30 10:58:12 -0400] Shred00: [how] does chef know to use the Systemd provider on a given distro, like Fedora or RHEL7?
[2014-07-30 11:02:13 -0400] Damacus: anothersmith you need to change your endpoint to http://api.berkshelf.com
[2014-07-30 11:02:18 -0400] Damacus: it'll work fine then.
[2014-07-30 11:04:08 -0400] Damacus: anothersmith or https://supermarket.getchef.com
[2014-07-30 11:05:37 -0400] anothersmith: I have tried changing the end point still getting the same error Damacus
[2014-07-30 11:05:52 -0400] anothersmith: source "http://api.berkshelf.com"
[2014-07-30 11:08:28 -0400] Damacus: can you gist me your metadata.rb please?
[2014-07-30 11:09:21 -0400] Damacus: anothersmith and your Berksfile if you're using it.
[2014-07-30 11:09:49 -0400] anothersmith: I dont have one.. I'm using aws(opsworks ) + chef + berksfile
[2014-07-30 11:10:14 -0400] anothersmith: source "http://api.berkshelf.com"
[2014-07-30 11:10:14 -0400] anothersmith: cookbook "redisio", "~> 1.7.1"
[2014-07-30 11:10:15 -0400] anothersmith: cookbook "solr", "~> 0.1.3"
[2014-07-30 11:10:15 -0400] anothersmith: ~
[2014-07-30 11:10:19 -0400] anothersmith: thats the berksfile
[2014-07-30 11:11:43 -0400] Damacus: could you past the entire file to pastebin/gist.github.com?
[2014-07-30 11:12:16 -0400] Damacus: I'm guessing the change hasn't been committed somewhere, hasn't picked it up, or you're still referencing the old site somewhere.
[2014-07-30 11:13:20 -0400] anothersmith: http://pastebin.com/WBhbDN5L
[2014-07-30 11:13:41 -0400] Damacus: yeah, guessing a commit problem :/
[2014-07-30 11:13:47 -0400] anothersmith: that is the entire file I have raised a support issue with aws who can replicate the error and are looking into too
[2014-07-30 11:14:00 -0400] simmel: I'm trying to use the homebrew cookbook to install a formula with the homebrew::install_formulas recipe but it doesn't seem to run the recipe. Here is my config: http://pastie.org/private/ndnfa8nszdcul0p2hzupo
[2014-07-30 11:51:09 -0400] BryanWB: any chef-metal users around? afaict chef-metal makes all the cloud provider calls itself and doesn't rely on chef-server to make those calls for it. Is that correct?
[2014-07-30 11:51:42 -0400] BryanWB: also, that it doesn't use chef-server to handle any clean up of terminated resources for it
[2014-07-30 12:10:50 -0400] trilitheus: hi trying to use chefspec - have a very simple recipe that uses the apache2 cookbook which pulls in freebsd cookbook (i'm using ubuntu 14.04)
[2014-07-30 12:11:06 -0400] trilitheus: getting error LoadError cannot load such file -- chef/provider/package/freebsd
[2014-07-30 12:15:01 -0400] patbyrne: simmel: did you resolve your berkshelf issue?
[2014-07-30 12:16:00 -0400] patbyrne: oh whoops sorry, wrong person
[2014-07-30 12:16:11 -0400] patbyrne: it's anothersmith's issue I have seen before
[2014-07-30 12:16:28 -0400] trilitheus: not sure if anyone can help diagnose - I'm don't currently converge anything - just include a blank recipe
[2014-07-30 12:16:53 -0400] anothersmith: patbyrne, ahh really? the aws guy had no clue and just said he would get back to me shortly
[2014-07-30 12:17:08 -0400] patbyrne: what berkshelf version are you using?
[2014-07-30 12:17:58 -0400] anothersmith: 3.1.1
[2014-07-30 12:18:22 -0400] patbyrne: ok, try changing the source to https://api.berkshelf.com instead of http
[2014-07-30 12:18:43 -0400] patbyrne: there is a problem with redirection from http -> https
[2014-07-30 12:18:50 -0400] patbyrne: it should be fixed in 3.1.4 I think
[2014-07-30 12:20:44 -0400] anothersmith: patbyrne, cheers giving that a go now
[2014-07-30 12:27:23 -0400] ChrissKO: Hi... can somebody give ma a small hint, please? I would like to execute a part in a ripe only if a node is "true". So something like "if [ node{bla} = true ]; then; echo hallo; fi"
[2014-07-30 12:28:53 -0400] Esya: Hi guys
[2014-07-30 12:28:54 -0400] Esya: Trying to use the quick install.sh way of installing chef solo on slackware
[2014-07-30 12:28:55 -0400] Esya: The platform is not recognized, sigh :(. What would you recommend? I found a ticket about it saying that it was implemented in 2011
[2014-07-30 12:29:14 -0400] anothersmith: patbyrne, you solved my issue cheers bud! had been going nuts at that all morning!
[2014-07-30 12:30:32 -0400] patbyrne: no problem, I hit it myself a couple of weeks ago, after the move to supermarket
[2014-07-30 12:33:40 -0400] someara: Esya slackware is not supported by install.sh.. you'll have to do a gem install from slackware's system ruby
[2014-07-30 12:33:43 -0400] someara: which is modern
[2014-07-30 12:33:43 -0400] bawt: OK
[2014-07-30 12:34:34 -0400] Esya: Alright, I'll do it this way then
[2014-07-30 12:37:21 -0400] daxroc_: Is the platform? method availble in an attributes file ?
[2014-07-30 13:02:54 -0400] lewiz: Good afternoon.  Could anybody explain how to append to an attribute hash from multiple cookbooks?  e.g. in my wrapper for php I set node['php']['directives']['date.timezone'] = 'UTC' but I also wish to add another directive from another cookbook.  I've tried << and += without any luck
[2014-07-30 13:26:06 -0400] quantumfoam: so this is a bit weird, but maybe someone else has run into it
[2014-07-30 13:26:36 -0400] quantumfoam: I'm trying to run knife as an automated process under a service account on a windows server; if I log on interactively to that server with that account then knife is in the path and works fine
[2014-07-30 13:26:51 -0400] quantumfoam: however, the automated execution doesn't work; it says it can't find knife
[2014-07-30 13:42:13 -0400] quantumfoam: trying an explicit path to knife.bat, we'll see if that works...
[2014-07-30 13:57:39 -0400] afraley_: I'm trying to use knife cookbook share, where do I specify my username and password? When I run knife cookbook share I get "ERROR: Authentication failed due to an invalid public/private key pair. If you have changed your keys recently try logging out and logging back in to Supermarket."
[2014-07-30 14:01:23 -0400] pbgalvin: Hey, quick noob question about chef...
[2014-07-30 14:01:30 -0400] bcobb: afraley_: supermarket authentication works with the private key you download from https://www.getchef.com/account/password
[2014-07-30 14:02:11 -0400] pbgalvin: If I have a chef server running, can it control gear that is not running a chef client? I.e. can it send ssh commands to non-chef listeners?
[2014-07-30 14:02:37 -0400] Er00: Not using knife ssh, but using plain ssh sure as long as it can ssh to those machines...
[2014-07-30 14:03:02 -0400] pbgalvin: Great, thanks!
[2014-07-30 14:03:24 -0400] afraley_: thanks bcobb, do I need to add this key to my knife.rb?  Is this documented somewhere?  They really need to document this on the supermarket site.
[2014-07-30 14:03:28 -0400] bcobb: afraley_: so long as your knife.rb is set up correctly, you should be able to authenticate  as the error message states, also try logging out of Supermarket, then logging back in (part of the OAuth dance will make sure Supermarket has your up-to-date public key)
[2014-07-30 14:06:18 -0400] afraley_: bcobb, so if I use private self-hosted chef I'll have to specify an alternative knife.rb file to use this key, correct?
[2014-07-30 14:07:50 -0400] bcobb: afraley_: if you're using private, self-hosted chef, i don't think any key from that server will work with supermarket.getchef.com (though my understanding of private chef is limited)
[2014-07-30 14:09:16 -0400] afraley_: I think I use knife -k <keyfile-from-opscode> cookbook share
[2014-07-30 14:10:20 -0400] afraley_: yep that was it
[2014-07-30 14:11:01 -0400] bcobb: afraley_: ah, i misunderstood your comment about the other key. but it sounds like you're all set?
[2014-07-30 14:11:53 -0400] while1eq1: If I wanted to start a service if its stopped but restart a service if its already running, could I use action [:start, :restart] or is there a more intuitive way?
[2014-07-30 14:12:30 -0400] afraley_: Thanks bcobb!
[2014-07-30 14:22:38 -0400] quantumfoam: if I use the --use-sudo-password option when bootstrapping, and I have a knife[:ssh_password] variable set in knife.rb, does the bootstrap command use that password?
[2014-07-30 14:22:46 -0400] quantumfoam: it doesn't seem to, since I still get prompted
[2014-07-30 14:23:06 -0400] quantumfoam: actually let me back that up, I get prompted if I use the --sudo option
[2014-07-30 14:23:12 -0400] quantumfoam: wait, do I have to use both?
[2014-07-30 14:26:32 -0400] afraley_: The download counts on supermarket for my cookbooks seem a bit suspect
[2014-07-30 14:33:37 -0400] bcobb: afraley_: self-hosted legacy Berkshelf APIs download every cookbook in a loop to access cookbook metadata (see also: https://github.com/opscode/supermarket/issues/605)
[2014-07-30 14:34:32 -0400] afraley_: lol nice
[2014-07-30 14:34:39 -0400] afraley_: I guess that explains it.
[2014-07-30 14:36:56 -0400] onefrankguy: while1eq1: You probably want to set "action :start" on the service then use notifications to control when it restarts. http://docs.getchef.com/chef/resources.html#notifications
[2014-07-30 14:46:48 -0400] zanshin: I have a cookbook that installs tomcat and sets up a `/etc/init.d` service for it. However, tomcat gets restarted every single time the chef-client daemon runs (every 15 minutes in this case). I am at my wit's end trying to figure out why, and more importantly, how to prevent this from happening. Here's a gist with the recipe and template involved. Any ideas? https://gist.github.com/zanshin/efdf23c1c691620b88d6
[2014-07-30 14:52:01 -0400] zaargy: zanshin:    supports :restart => false, :reload => false, :start => true, :stop => true
[2014-07-30 14:52:19 -0400] zaargy: i dont think that's how you specify what ops the service resource supports (i am understanding the docs rihgt)
[2014-07-30 14:52:28 -0400] zaargy: you just give it a list of symbols it does support
[2014-07-30 14:53:01 -0400] zaargy: actually nm that's rubbish lol
[2014-07-30 14:53:19 -0400] zaargy: it looks fine to me from first glance apart from that
[2014-07-30 14:53:45 -0400] zaargy: maybe something to do with how chef is detecting status?
[2014-07-30 14:54:39 -0400] zaargy: tomcat7 shows up in ps?
[2014-07-30 14:55:19 -0400] zanshin: zaargy: Yes, tomcat7 appears in ps output
[2014-07-30 14:55:19 -0400] zanshin: mhn@ome-vm1:/etc/chef$ ps -ef | grep tomcat7
[2014-07-30 14:55:20 -0400] zanshin: root     21533     1  5 09:40 ?        00:00:48 /usr/lib/jvm/java-7-oracle-amd64/bin/java -Djava.util.logging.config.file=/usr/share/tomcat7/7.0.47/conf/logging.properties -Djava.util.logging.manager=org.apache.juli.ClassLoaderLogManager -server -Xms768M -Xmx768M -XX:MaxPermSize=256M -Djava.net.preferIPv4Stack=true -Djava.awt.headless=true -Dreusestatement.debug.sql=true -Ddevel -DdebugOn=true -DextendedLoggingOn -Dlog4j.configuratorClass=ksutelc.common.log
[2014-07-30 14:55:23 -0400] jcarapet: Has anybody written serverspec tests to verify the existence of mysql databases? Wasn't seeing any documentation, so was curious to hear before trying.
[2014-07-30 14:55:39 -0400] davidordave: @zaargy, if the process name is different from the name of the service resource you need to set the pattern for the services
[2014-07-30 14:55:41 -0400] davidordave: I think
[2014-07-30 14:55:50 -0400] zanshin: zaargy: And unless I kill the chef-client daemon, it'll restart every 15 minutes
[2014-07-30 14:56:24 -0400] zaargy: davidordave: right, that's what i'm saying
[2014-07-30 14:56:37 -0400] davidordave: Sorry, I missed half of that conversation
[2014-07-30 14:56:39 -0400] zaargy: zanshin: okay
[2014-07-30 14:57:08 -0400] zanshin: zaargy: Are you saying I need to rename the service to be `tomcat7` and not just `tomcat`?
[2014-07-30 14:57:28 -0400] zaargy: well it depends on how chef looks for the pattern
[2014-07-30 14:57:37 -0400] zaargy: i'd probably just implement the status command tbh
[2014-07-30 14:58:10 -0400] zaargy: you could probably make catalina.sh write its pid easily enough
[2014-07-30 14:58:14 -0400] zaargy: or use upstart or something
[2014-07-30 14:58:51 -0400] zaargy: but yeah maybe first try, would be to mess with the pattern and try running chef lcient with -l debug
[2014-07-30 14:59:32 -0400] while1eq1: onefrankguy: thanks
[2014-07-30 14:59:41 -0400] zanshin: zaargy: "implement the status command"?
[2014-07-30 15:00:15 -0400] zaargy: zanshin: i mean add the status command to your init script so chef can use that to check if the process is running
[2014-07-30 15:00:50 -0400] zaargy: but yeah as i said run with -l debug and mess with the pattern first
[2014-07-30 15:00:56 -0400] broconne: Have a community question.  How are people handling binary artifacts that are part of convergence with chef.  These are things we don't want to track in source control.  For example, could be some jar files that we add on to a product, could be custom apache modules.   Are people using an artifact repository of any type to support searching and versioning (a requirement we have).. or what are people doing?
[2014-07-30 15:00:58 -0400] quantumfoam: oh my god I'm going to put a fucking axe through my vCommander server
[2014-07-30 15:00:59 -0400] zanshin: okay  thanks
[2014-07-30 15:01:03 -0400] quantumfoam: I hate this software
[2014-07-30 15:01:36 -0400] davidordave: the service resource also allows you to implement a status command https://github.com/opscode/chef/blob/master/lib/chef/provider/service/simple.rb#L108
[2014-07-30 15:11:14 -0400] zaargy: zanshin: and let us know what fixes it in the end btw ;)
[2014-07-30 15:12:18 -0400] zanshin: I will
[2014-07-30 15:16:18 -0400] heathsnow: Anyone know how to give a single client elevated permissions on Hosted Chef?
[2014-07-30 15:17:21 -0400] heathsnow: I'm trying to give a node permissions to delete other nodes "knife node delete NODENAME -c /etc/chef/client.rb".  Only I'm getting permissions error.
[2014-07-30 15:26:00 -0400] Eulipion: heathsnow: i think you knife client edit <d> and change admin to true
[2014-07-30 15:27:14 -0400] matti: Anyone has Itanium box? I am curious about ohai output on ia64 ;]
[2014-07-30 15:43:14 -0400] heathsnow: Eulipion:  i just tried it...but I'm getting error:  Option private_key must be a kind of String!  You passed false.
[2014-07-30 15:43:47 -0400] heathsnow: doh
[2014-07-30 15:43:53 -0400] raul782: Hi guys, I have this error when running my recipe ohai_plugin.rb:27:in `from_file'
[2014-07-30 15:44:04 -0400] raul782: undefined method `[]' for nil:NilClass
[2014-07-30 15:56:13 -0400] phelms: Hello! We are planning to use "tags" for the "what to install" aspect. For example, if a user has a tag "Percona" it will install and configure percona
[2014-07-30 15:56:19 -0400] phelms: is that the best way to handle this?
[2014-07-30 16:16:45 -0400] anoldhacker: Anyone have any experience with dynamically generating recipes?
[2014-07-30 16:18:52 -0400] a13x212: anyone seen this error before: uninitialized constant Opscode::Aws::Elb::RightAws (aws cookbook)
[2014-07-30 16:26:58 -0400] raul782_: hi guys, somehow if I override in nginx normal['nginx']['default_site_enabled'] = false
[2014-07-30 16:27:13 -0400] raul782_: the ohai_plugin throws me an error
[2014-07-30 16:47:48 -0400] quantumfoam: ok, this is truly, truly obnoxious
[2014-07-30 16:48:08 -0400] quantumfoam: because of how vCommander (which runs on Tomcat) executes external programs, environment variables for an account are ignored
[2014-07-30 16:48:42 -0400] quantumfoam: I've been trying to figure out why I can run knife bootstrap under the account interactively but when vCommander runs it, knife executes but doesn't work properly
[2014-07-30 16:48:56 -0400] quantumfoam: and then it hit me: it can't see the knife.rb file
[2014-07-30 16:49:14 -0400] workmad3: quantumfoam: bleh... but not that uncommon
[2014-07-30 16:49:29 -0400] quantumfoam: ok, so how can I tell knife where that file is explicitly?
[2014-07-30 16:49:31 -0400] workmad3: quantumfoam: write a wrapper script? :)
[2014-07-30 16:49:42 -0400] workmad3: quantumfoam: that sets up the env vars you need and then runs the command
[2014-07-30 16:50:11 -0400] quantumfoam: I'm not sure that would work. I've got it wrapped in powershell already just to get it to run...but...
[2014-07-30 16:50:27 -0400] workmad3: oh... windows...
[2014-07-30 16:50:31 -0400] quantumfoam: there doesn't appear to be a switch for knife to give it a config file?
[2014-07-30 16:50:58 -0400] workmad3: quantumfoam: you mean other than the '-c' switch? ;)
[2014-07-30 16:51:09 -0400] quantumfoam: well, the knife reference is rather large
[2014-07-30 16:51:15 -0400] quantumfoam: I just hadn't found that yet :P
[2014-07-30 16:51:32 -0400] workmad3: quantumfoam: heh :) I did a 'knife -h' and it was right at the top
[2014-07-30 16:51:45 -0400] quantumfoam: I've been reading knife.html
[2014-07-30 16:51:47 -0400] quantumfoam: vOv
[2014-07-30 16:51:51 -0400] quantumfoam: let me give this a shot...
[2014-07-30 16:52:53 -0400] joshburt: Anyone have experience writing an exception handler?  (I've managed to get a report handler to work as expected).
[2014-07-30 17:00:25 -0400] s1991: why I'm getting "ERROR 1045 (28000): Access denied for user 'root'@'localhost' (using password: YES)"
[2014-07-30 17:14:42 -0400] andychef: i have a recipe that subscribes to a resource in another recipe. The another recipe is not included using "include_recipe" in current recipe. I am writing specs for current recipes but fails as it doesn't know about the other recipes. How to resolve this issue?
[2014-07-30 17:15:04 -0400] coalbe: is there a method of having an execute block ignore an error?
[2014-07-30 17:16:06 -0400] joshburt: andychef did you add a depends in the metadata of your cookbook?
[2014-07-30 17:16:42 -0400] onefrankguy: coalbe: If you know the possible return values, you can enumerate them in the "returns" attribute. http://docs.getchef.com/resource_execute.html
[2014-07-30 17:16:45 -0400] andychef: both the recipes are in the same cookbook
[2014-07-30 17:16:53 -0400] joshburt: oh gotcha
[2014-07-30 17:17:26 -0400] andychef: recipe A has a service that subscribes to a template in recipe B
[2014-07-30 17:17:36 -0400] andychef: i did not include recipe B in recipe A
[2014-07-30 17:17:39 -0400] coalbe: ahh, interesting. thanks onefrankguy
[2014-07-30 17:18:03 -0400] andychef: now while writing specs for recipe A it can't find the resource that is defined in recipe B
[2014-07-30 17:20:08 -0400] andychef: any ideas?
[2014-07-30 17:20:31 -0400] coalbe: onefrankguy: pity the docs dont cover any examples with that though
[2014-07-30 17:20:41 -0400] joshburt: nope :/
[2014-07-30 17:21:18 -0400] quantumfoam: the other great thing about vCommander is that the only way I can test if a completion workflow works is to actually provision a new VM
[2014-07-30 17:21:25 -0400] quantumfoam: which takes like 30 minutes every time
[2014-07-30 17:21:25 -0400] quantumfoam: sigh
[2014-07-30 17:22:42 -0400] onefrankguy: coalbe: I'm pretty sure the syntax would be "returns [0, 2, 100]" if 0, 2, and 100 are the return values you expect.
[2014-07-30 17:25:34 -0400] coalbe: ah, so if the error code is within the returns array chef accepts it as successful?
[2014-07-30 17:26:11 -0400] peterjmit: hey guys
[2014-07-30 17:26:41 -0400] peterjmit: I am trying to write a LWRP, and I want to set and access attributes on it in a recipe
[2014-07-30 17:27:30 -0400] peterjmit: i.e. r = some_lwrp "awesome_name" ... log "Attribute from my lwrp #{r.attribute}"
[2014-07-30 17:27:38 -0400] peterjmit: is that even possible?
[2014-07-30 17:30:30 -0400] onefrankguy: coalbe: Right.
[2014-07-30 17:32:07 -0400] coalbe: great, thats helpful. after thinking though, its a horrible move for reaching idempotency
[2014-07-30 17:32:35 -0400] coalbe: for us at least. but thanks for the heads up.
[2014-07-30 17:40:39 -0400] JoshZ_: does anyone know how to connect a new volume to a machine using chef-metal?
[2014-07-30 17:40:47 -0400] jayant: hey guys
[2014-07-30 17:40:53 -0400] JoshZ_: and openstack
[2014-07-30 17:40:53 -0400] jayant: i am looking for one solution
[2014-07-30 17:41:01 -0400] jayant: for private chef i am using jclouds
[2014-07-30 17:41:25 -0400] jayant: i am trying to update some default attributes through jcloids api of a role.
[2014-07-30 17:41:55 -0400] jayant: anyone has idea?
[2014-07-30 17:57:38 -0400] peterjmit: i've explained my question further on SO if anyone can help http://stackoverflow.com/questions/25043690/how-can-you-access-chef-lwrp-attributes-in-a-recipe
[2014-07-30 18:01:39 -0400] JakePee: How do i reprovision multiple nodes using chef?
[2014-07-30 18:03:25 -0400] jamesonjlee: JakePee: i've done knife ssh [some regex here] [chef-client command here] before
[2014-07-30 18:03:48 -0400] JoshZ_: knife ssh 'chef_environment:test AND ( roles:<role-name>)' -a ipaddress -x root 'chef-client'
[2014-07-30 18:09:57 -0400] quantumfoam: you know, maybe this is just me but it seems like writing software that will execute scripts for you but that doesn't capture the output is really stupid
[2014-07-30 18:10:25 -0400] quantumfoam: because that means I don't know why it isn't working; I can't see the output from the knife command and I'm working blind
[2014-07-30 18:18:06 -0400] Damm: chef-client -l debug
[2014-07-30 18:18:26 -0400] Damm: quantumfoam, it's not really the best answer; capturing the output I would have hoped would be in Chef12
[2014-07-30 18:18:44 -0400] Damm: as exit codes are pretty standard but being able to see context of that exit sometimes is helpful
[2014-07-30 18:18:49 -0400] Damm: when stuff goes wrong
[2014-07-30 18:18:58 -0400] quantumfoam: Damm: does that output to a file?
[2014-07-30 18:19:14 -0400] Damm: stdout
[2014-07-30 18:19:19 -0400] Damm: -L file
[2014-07-30 18:19:38 -0400] quantumfoam: hmm I'll try that
[2014-07-30 18:20:19 -0400] raul7821: hi guys, ohai gives me an error when running nginx community cookbook, the only attribute I've replaced is default_site_enabled to false
[2014-07-30 18:20:33 -0400] raul7821: could this be the problem?
[2014-07-30 18:22:16 -0400] shlant1: raul7821: you should probably share the error yea?
[2014-07-30 18:26:36 -0400] raul7821: shlant1: thanks https://gist.github.com/raul782/210e6814723ccb583fd4
[2014-07-30 18:28:46 -0400] shlant1: raul7821:  I believe you need include_recipe 'ohai::default' before the template resource
[2014-07-30 18:29:09 -0400] shlant1: maybe
[2014-07-30 18:29:43 -0400] jamesonjlee: I wish chef would stop eating the shell scripts it generates when it crashes :\
[2014-07-30 18:29:45 -0400] shlant1: and make sure node['root_group'] exists
[2014-07-30 18:30:57 -0400] raul7821: shlant1: thanks but the error is triggered  when I  include_recipe 'nginx'
[2014-07-30 18:30:58 -0400] shlant1: raul7821:  oh wait
[2014-07-30 18:31:05 -0400] shlant1: raul7821:  this is from the nginx cookbook
[2014-07-30 18:31:27 -0400] raul7821: yeah, I'm running berkshelf 3.1.1 on opsworks
[2014-07-30 18:31:43 -0400] raul7821: so berkshelf is managing the dependencies
[2014-07-30 18:32:06 -0400] jamesonjlee: raul7821: did opsworks fix it so you didn't end up with their nginx?
[2014-07-30 18:33:27 -0400] raul7821: jamesonjlee: not sure if I understand, in opsworks there is an option to enable berkshelf management
[2014-07-30 18:34:27 -0400] raul7821: I just enabled it, and I thought it would work, I thought berkshelf was using the community nginx cookbook
[2014-07-30 18:35:41 -0400] shlant1: raul7821: are you using your own wrapper cookbook?
[2014-07-30 18:36:01 -0400] raul7821: I'm using a custom layer
[2014-07-30 18:36:37 -0400] shlant1: raul7821: I'm not familiar with how opsworks functions, but see this ticket for an explanation of the problem: https://tickets.opscode.com/browse/COOK-2342
[2014-07-30 18:37:44 -0400] jamesonjlee: raul7821: https://github.com/aws/opsworks-cookbooks/tree/release-chef-11.4/nginx  <-- that nginx
[2014-07-30 18:38:00 -0400] raul7821: I'm using chef 11.10
[2014-07-30 18:38:38 -0400] jamesonjlee: I no longer us opsworks, but I had issues before when I did include_recipe 'nginx' would sometimes give me my nginx or their nginx
[2014-07-30 18:38:46 -0400] jamesonjlee: change the chef-11.4 to 11.10
[2014-07-30 18:39:51 -0400] jamesonjlee: mitsuhiko: it's not because macosx version string is 10.10 and things are trying to do string matching is it?
[2014-07-30 18:39:55 -0400] jamesonjlee: ep
[2014-07-30 18:40:16 -0400] shlant1: anyone know why knife ssh is hanging?
[2014-07-30 18:40:17 -0400] shlant1: knife ssh "role:app_ruby" "sudo chef-client"
[2014-07-30 18:40:21 -0400] shlant1: It does nothing
[2014-07-30 18:40:24 -0400] shlant1: just hangs
[2014-07-30 18:40:34 -0400] shlant1: 11.12.8
[2014-07-30 18:41:05 -0400] Eulipion: shlant1: -VV
[2014-07-30 18:41:30 -0400] Damm: people use knife ssh? wow
[2014-07-30 18:41:38 -0400] Damm: that still amazes me after learning about fabric
[2014-07-30 18:41:51 -0400] Eulipion: i have a problem with knife hanging after a bootstrap
[2014-07-30 18:41:53 -0400] Damm: different tools really
[2014-07-30 18:42:56 -0400] geggam: changing chef default database name... is there a parameter for that im just missing ?
[2014-07-30 18:43:36 -0400] simmel: My question previously was fixed after I installed the just released version of the homebrew cookbook. Thanks again jtimberman!
[2014-07-30 18:44:10 -0400] jtimberman: :)
[2014-07-30 18:44:59 -0400] shlant1: Eulipion: there is goes
[2014-07-30 18:45:10 -0400] shlant1: just ook a long time after public key succeeded
[2014-07-30 18:46:11 -0400] shlant1: like so long
[2014-07-30 18:46:18 -0400] shlant1: a full 2 minutes..
[2014-07-30 18:47:25 -0400] x0nic: Damm: What do you use fabic for?
[2014-07-30 18:54:12 -0400] quantumfoam: well, the -L switch didn't work
[2014-07-30 18:54:27 -0400] quantumfoam: which is probably just because of how the script is being run
[2014-07-30 18:57:05 -0400] simmel: So, I'm trying to create a chef role using the Ruby DSL but `knife role list` doesn't find it? Role `knife role list` output: http://pastie.org/private/qltq1jn1cjgzfhfwh2ukq
[2014-07-30 19:00:08 -0400] shlant1: simmel: did you upload it to the server?
[2014-07-30 19:00:18 -0400] shlant1: knife role from file roles/blah.json
[2014-07-30 19:00:30 -0400] shlant1: or .rb
[2014-07-30 19:02:04 -0400] btm: Developer Office Hours: Join: bit.ly/1nUfnZ0 Watch: bit.ly/1nUfqUJ
[2014-07-30 19:03:20 -0400] quantumfoam: oh my god, this software is so fundamentally broken it's hilarious
[2014-07-30 19:03:31 -0400] quantumfoam: it's failing to run knife because it can't find ruby.exe
[2014-07-30 19:10:16 -0400] Damm: x0nic, originally i started using pychef with fabric to basically do chef-client converges
[2014-07-30 19:10:24 -0400] Damm: it handles parallism on larger scale a lot better than knife did
[2014-07-30 19:10:50 -0400] Damm: x0nic, but if your good with python you can pretty much respond to fires with fabric and verify the broken state is true and do whatever it takes to fix it
[2014-07-30 19:12:20 -0400] x0nic: Damm: ah I see. We use capistrano for basically the same thing
[2014-07-30 19:16:19 -0400] simmel: shlant1: Ah! Thanks!
[2014-07-30 19:18:09 -0400] Damm: x0nic, doubt it
[2014-07-30 19:18:23 -0400] Damm: https://github.com/paramiko/paramiko
[2014-07-30 19:18:32 -0400] Damm: it uses a native ssh library and is exceptionally faster than cap
[2014-07-30 19:18:45 -0400] Damm: x0nic, some people use the same stupid things in cap and fabric; template to automate everything
[2014-07-30 19:18:50 -0400] Damm: but that's end user
[2014-07-30 19:19:08 -0400] Damm: http://www.fabfile.org/
[2014-07-30 19:19:24 -0400] Damm: x0nic, toss in pychef so you can ssh into your chef controlled hosts and you can set keys; read keys
[2014-07-30 19:19:42 -0400] Damm: I guess I could do similar in cap but every large cap setup i've seen has made me vomit a little
[2014-07-30 19:20:56 -0400] gkra: where are the test kitchen provisioner options for chef-zero documented?
[2014-07-30 19:25:26 -0400] lamont_oc: geggam: been that way since the start for 5+ years, dating back from when hosted chef was about the only sane way to go and installing your own was terrible
[2014-07-30 19:26:14 -0400] geggam: you dont see the irony of an agile config managment platform hardcoding something lamont_oc  ?
[2014-07-30 19:26:20 -0400] x0nic: Damm: Cap3 is much better. And we basically just deploy code with cap, and that is it. Chef does the rest
[2014-07-30 19:27:07 -0400] lamont_oc: uh, no not irony, just tech debt and a feature request we havent ever gotten
[2014-07-30 19:27:38 -0400] geggam: never ?....
[2014-07-30 19:27:54 -0400] lamont_oc: afaik, im not on the server team though
[2014-07-30 19:27:56 -0400] geggam: wow.. surprising since aws rds doesnt allow underscores for db nams
[2014-07-30 19:28:14 -0400] geggam: i can word a request nicely if that would get it ?
[2014-07-30 19:28:48 -0400] lamont_oc: we may actually have a card for that now since theres probably more interest in backing chef server with rds instead of our postgresql
[2014-07-30 19:29:05 -0400] lamont_oc: and yes, that sounds like a perfectly reasonable request
[2014-07-30 19:29:10 -0400] geggam: i like both
[2014-07-30 19:29:31 -0400] geggam: omnibus is one of the best things to hit devops
[2014-07-30 19:29:43 -0400] lamont_oc: there might be a ticket for that in the old tickets.opscode.com under the chef server project
[2014-07-30 19:30:10 -0400] geggam: well... im 'fixing' to run a very ugly set of seds to do that :)
[2014-07-30 19:30:33 -0400] gkra: bah, nevermind, i'm doing it wrong.
[2014-07-30 19:30:45 -0400] Damm: x0nic, thanks for your opinion but I'll stick to what I use
[2014-07-30 19:31:08 -0400] Damm: weird
[2014-07-30 19:32:08 -0400] x0nic: Damm: Was curious what you were using fabric for, not trying to get you to switch or anything.
[2014-07-30 19:47:26 -0400] nulleric: anyone upload to supermarket lately? i keep getting ' Error uploading cookbook x to the Opscode Cookbook Site: Broken pipe'
[2014-07-30 19:47:33 -0400] nulleric: though i uploaded last friday fine
[2014-07-30 19:49:56 -0400] bcobb: nulleric: just uploaded a new version of a cookbook without problems - what are you using to perform the upload?
[2014-07-30 19:50:12 -0400] nulleric: knife cookbook site share
[2014-07-30 19:50:21 -0400] nulleric: its a namespace that doesnt exist yet
[2014-07-30 19:50:26 -0400] j^2: nulleric: there has been some fixes just puhsed out to supermarket, give it a couple mins
[2014-07-30 19:51:11 -0400] shlant1: coderanger: can I specify something like before_migrate multiple times in one application block?
[2014-07-30 19:52:00 -0400] rbowlby_: someone have an example where an attribute defaults to nil and is required to be set for the recipe to work
[2014-07-30 19:53:33 -0400] k____: enterprise chef.  invited a new user, got key, setup knife.rb file.  'knife node list' returns Invalid signature for user or client
[2014-07-30 19:53:35 -0400] shlant1: rbowlby_: what do you mean by "recipe to work"?
[2014-07-30 19:53:58 -0400] shlant1: if node['foo']
[2014-07-30 19:54:06 -0400] shlant1: include_recipe 'bar'
[2014-07-30 19:54:06 -0400] shlant1: end
[2014-07-30 19:54:36 -0400] Eulipion: rbowlby_: node.set_unless['foo'] = derp
[2014-07-30 19:55:23 -0400] k____: tried resetting my private key several times, still getting a 401 Unauthorized with knife -V -V
[2014-07-30 19:59:03 -0400] nulleric: j^2: ok, just to validate my assumption, if the cookbook name isn't taken I can just share to that name
[2014-07-30 19:59:10 -0400] rbowlby_: eulipion maybe have it print a line and quit the run if it isn't set
[2014-07-30 19:59:35 -0400] j^2: nulleric: im pretty sure thats correct yes
[2014-07-30 19:59:40 -0400] rbowlby_: or is it not normal to have required attrs for a recipe?
[2014-07-30 20:00:33 -0400] Eulipion: not sure what ur trying to do.  i think u want to set it to 'nil' in your attrs, then set_unless in your recipe
[2014-07-30 20:02:31 -0400] cwebber: nulleric: what is the name of the cookbook?
[2014-07-30 20:02:51 -0400] nulleric: artifactory
[2014-07-30 20:03:15 -0400] thehar: oooh yees please
[2014-07-30 20:03:47 -0400] nulleric: just getting started - https://github.com/agileorbit-cookbooks/artifactory
[2014-07-30 20:03:52 -0400] cwebber: nulleric: one more favor, can you gist or pastebin your output?
[2014-07-30 20:04:18 -0400] nulleric: https://www.irccloud.com/pastebin/WL37mprq
[2014-07-30 20:05:20 -0400] cwebber: nulleric: how big is your cookbook?
[2014-07-30 20:05:24 -0400] nulleric: trying to get all the java staples maintained ;)
[2014-07-30 20:05:49 -0400] nulleric: cwebber: gah! i had the artifactory binary in tehre
[2014-07-30 20:05:52 -0400] nulleric: one sec
[2014-07-30 20:06:08 -0400] nulleric: that was it
[2014-07-30 20:06:10 -0400] nulleric: dang it
[2014-07-30 20:06:25 -0400] cwebber: nulleric: no worries, i only know that this could be an issue because of someone else reporting something similar
[2014-07-30 20:06:45 -0400] cwebber: :-D https://supermarket.getchef.com/cookbooks/artifactory
[2014-07-30 20:07:09 -0400] thehar: yessssss
[2014-07-30 20:07:32 -0400] thehar: Thank you cwebber
[2014-07-30 20:07:36 -0400] thehar: this will be handy soon
[2014-07-30 20:07:47 -0400] cwebber: no worries
[2014-07-30 20:07:57 -0400] Damm: hmm does opscode need a pull request for namespaced cookbooks?
[2014-07-30 20:08:11 -0400] Damm: kind of a shame to see non namespaced cookbooks in 2014
[2014-07-30 20:08:13 -0400] cwebber: i just happen to be neck deep in supermarket
[2014-07-30 20:08:29 -0400] cwebber: Damm: couple of thoughts
[2014-07-30 20:08:34 -0400] Damm: I ask because I guess I have a few days of silence if I make it; so I can waste some time
[2014-07-30 20:08:48 -0400] Damm: and hopefully make the community site more useful
[2014-07-30 20:09:02 -0400] Damm: because to me toplevel is official
[2014-07-30 20:09:17 -0400] Damm: so whenever i see https://supermarket.getchef.com/cookbooks/artifactory i think it's a opscode cookbook
[2014-07-30 20:09:25 -0400] cwebber: 1) my general attitude is working code is much easier to converse about than an idea, so a PR makes thing much more likely to make happen.
[2014-07-30 20:09:52 -0400] cwebber: 2) It is entirely possible it will be a waste of time because whether we are going that direction or not is still in the air
[2014-07-30 20:09:56 -0400] Damm: cwebber, well bitching rarely goes anywhere
[2014-07-30 20:10:20 -0400] Damm: cwebber, it's been something we talked about in 2011; 2012
[2014-07-30 20:10:34 -0400] Damm: I stopped going to the Chef Conferences after that as I got confused by their intent
[2014-07-30 20:10:39 -0400] Damm: (other than taking my money! hah!)
[2014-07-30 20:10:40 -0400] cwebber: 3) this is a HUGE can of worms it means a ton of tools will have to be refactored and I dont know how we deal with things like librarian and berkshelf installs in the wild
[2014-07-30 20:10:55 -0400] Damm: cwebber, shrug, your moving a in progress system
[2014-07-30 20:11:05 -0400] Damm: cwebber, would have been better on supermarket opening than having to fix it post
[2014-07-30 20:11:28 -0400] Damm: cwebber, because basically (my view) is the author would have to delegate how the cookbook is namespaced or not; and then all the users would have to update
[2014-07-30 20:11:34 -0400] cwebber: Damm: well, the goal was for supermarket to be backwards compatitble at time of launch
[2014-07-30 20:11:35 -0400] Damm: do we maintain alias's for a period of time? etc
[2014-07-30 20:11:43 -0400] Damm: cwebber, ^^
[2014-07-30 20:11:55 -0400] cwebber: exactly
[2014-07-30 20:12:11 -0400] Damm: and really until something is started i don't see how some of these questions can be answered seriously
[2014-07-30 20:12:16 -0400] Damm: am I wrong?
[2014-07-30 20:12:24 -0400] cwebber: Nope
[2014-07-30 20:12:36 -0400] cwebber: which is why IETF has the rules it does...
[2014-07-30 20:12:50 -0400] Damm: that is irrelevent to me
[2014-07-30 20:13:11 -0400] cwebber: http://www.ietf.org/tao.html#rfc.section.2
[2014-07-30 20:13:12 -0400] Damm: and if the whole rfc path is really the way we're going; perhaps it's time for me to leave because the chef-rfc repo
[2014-07-30 20:13:15 -0400] Damm: kinda makes me wanna vomit
[2014-07-30 20:13:23 -0400] cwebber: One of the "founding beliefs" is embodied in an early quote about the IETF from David Clark: "We reject kings, presidents and voting. We believe in rough consensus and running code".
[2014-07-30 20:13:37 -0400] cwebber: Damm: no, no
[2014-07-30 20:13:51 -0400] cwebber: Damm: I personally am a fan of the quote i just pasted above
[2014-07-30 20:13:53 -0400] Damm: I mean even the negativity between coworkers
[2014-07-30 20:14:00 -0400] Damm: makes me question my choices
[2014-07-30 20:14:14 -0400] Damm: I've became to the point where I care about a good community and good interaction with developers and peers
[2014-07-30 20:14:27 -0400] Damm: where people are tolerant; helpful
[2014-07-30 20:14:32 -0400] Damm: and willing to explain things
[2014-07-30 20:14:33 -0400] cwebber: Damm: for sure
[2014-07-30 20:14:41 -0400] Damm: and I wish I could say I saw that
[2014-07-30 20:14:49 -0400] Damm: but I mention it more when I see the negativity that's not helpful
[2014-07-30 20:15:24 -0400] Damm: when someone told me that we banned help vampires... I wanted to /part
[2014-07-30 20:15:37 -0400] Damm: it's like guh really; can't you learn to help them instead of?
[2014-07-30 20:17:02 -0400] j^2: the help vampires issue is a touchy one. i personally believe if the person is willing to learn/read make an effort good. But if they obviously say fix it through IRC thats not going to benifit anyone
[2014-07-30 20:17:56 -0400] j^2: good, i mean im willing to help as much as i can
[2014-07-30 20:18:13 -0400] j^2: wow, those words didnt come out how i wanted
[2014-07-30 20:22:37 -0400] Damm: well the problem with help vampires is that they need help; it's likely #chef should be broken up into different learning segments
[2014-07-30 20:22:43 -0400] Damm: #chefnewbies
[2014-07-30 20:22:54 -0400] Damm: because sometimes newbies need a more helping hand
[2014-07-30 20:24:20 -0400] gleam_: there used to be #learnchef and it was closed and moved here to consolidate
[2014-07-30 20:24:25 -0400] gleam_: not long ago
[2014-07-30 20:24:36 -0400] gleam: also, ltns!
[2014-07-30 20:26:36 -0400] nulleric: does it take a while for supermarket to index new cookbooks? Getting: Missing artifacts: artifactory in my berks resolution
[2014-07-30 20:26:55 -0400] cwebber: nulleric: it should be almost instantaneous
[2014-07-30 20:27:02 -0400] cwebber: nulleric: one sec
[2014-07-30 20:29:49 -0400] cwebber: nulleric: that is odd
[2014-07-30 20:30:39 -0400] nulleric: $ cat Berksfile; cat metadata.rb | grep arti; berks -v : source "https://supermarket.getchef.com" metadata depends 'artifactory' 3.1.3
[2014-07-30 20:31:03 -0400] cwebber: nulleric: the odd part is supermarkets behavior
[2014-07-30 20:31:04 -0400] nulleric: thats kinda messy but you can see :)
[2014-07-30 20:31:06 -0400] nulleric: oh
[2014-07-30 20:31:35 -0400] cwebber: curl https://supermarket.getchef.com/universe | jq .artifactory
[2014-07-30 20:31:37 -0400] cwebber: :-D
[2014-07-30 20:31:49 -0400] cwebber: but let me figure out why that doesnt work as expected
[2014-07-30 20:31:54 -0400] Eulipion: anyone ever have issues with application_python executing its pieces in the wrong order? http://pastebin.com/w9VNPiDL
[2014-07-30 20:32:16 -0400] inigo88: v
[2014-07-30 20:33:04 -0400] nulleric: $ curl -s https://supermarket.getchef.com/universe | jq .artifactory
[2014-07-30 20:33:04 -0400] nulleric: null
[2014-07-30 20:35:30 -0400] duallain: When you call run_context.cookbook_collection[cookbook_name].file_filenames what is the expected output?  Just the shortnames of the files or a full path?
[2014-07-30 20:35:48 -0400] cwebber: nulleric: was able to find the problem
[2014-07-30 20:35:56 -0400] janet_: this may be obvious but I'm new to chef and can't find a resource online - how do I move from using a chef cookbook to provision on Vagrant to provisioning straight on OS X?
[2014-07-30 20:36:09 -0400] cwebber: give me a few to flush the cache and then I will open an issue on GitHub
[2014-07-30 20:36:22 -0400] nulleric: cool, tag me @erichelgeson
[2014-07-30 20:36:30 -0400] nulleric: gotta catch a train in a bit
[2014-07-30 20:36:34 -0400] cwebber: nulleric: will do
[2014-07-30 20:42:33 -0400] JoshZ_: ok guys Fnichols user cookbook or opcsodes?? I see only a few differences but dont really see pros or cons on either?
[2014-07-30 20:44:08 -0400] someara: write your own, you'll probably be happiest
[2014-07-30 20:44:18 -0400] cheeseplus: exactly what someara said
[2014-07-30 20:44:22 -0400] coderanger: Write your own using LWRPs from one of them
[2014-07-30 20:44:35 -0400] coderanger: See balanced-user as an example
[2014-07-30 20:44:36 -0400] cheeseplus: I wrote my own last time because I didn't quite fit into eithers workflow
[2014-07-30 20:44:59 -0400] cheeseplus: this was before coderanger wrote balanced-user ;)
[2014-07-30 20:46:19 -0400] Eulipion: coderanger: do you know how any workarounds/fixes for https://github.com/poise/application_python/issues/40
[2014-07-30 20:47:07 -0400] coderanger: Eulipion: I would have to look through the code
[2014-07-30 20:47:25 -0400] doug1: short of executing a sleep in an exec, is there a better way to make a chef client run sleep?
[2014-07-30 20:47:47 -0400] coderanger: doug1: https://www.google.com/search?q=ruby+sleep
[2014-07-30 20:49:02 -0400] awc737: Hey is the api.berkshelf.com service working?
[2014-07-30 20:49:25 -0400] awc737: ERROR -- : Actor crashed!
[2014-07-30 20:49:25 -0400] awc737: Berkshelf::CommunitySiteError: An unexpected error occurred retrieving 'freebsd' (0.1.4) from the cookbook site at ''.
[2014-07-30 20:52:35 -0400] doug1: coderanger: Thanks
[2014-07-30 20:53:21 -0400] doug1: coderanger: actually I retract that thanks. I did say 'short of putting it in an exec' so that doesn't really provide an answer with the scope of my question, thanks.
[2014-07-30 20:54:23 -0400] coderanger: doug1: Read any of the first three hits
[2014-07-30 20:54:33 -0400] coderanger: doug1: Probably any of them in general, but those are the ones I checked
[2014-07-30 20:55:18 -0400] gondoi: anyone getting 404s recently with chefspec and chef-zero?
[2014-07-30 20:55:55 -0400] gondoi: i see some dependencies updated and my chef-zero updated and caused a ton of 404s when trying to run chefspec
[2014-07-30 21:00:56 -0400] billyoung: anyone out there have an example of stubbing partial_search with chefspec?
[2014-07-30 21:02:57 -0400] cwebber: awc737: afaik it is working
[2014-07-30 21:10:15 -0400] awc737: cwebber thanks, I updated berkshelf and it owrke
[2014-07-30 21:10:18 -0400] awc737: worked
[2014-07-30 21:28:53 -0400] raul7821: Hi guys, If I call a definition that wraps a deploy logic, how can I inject a callback before_symlink?
[2014-07-30 21:29:20 -0400] coderanger: raul7821: Don't use the deploy resource, really really don't :-(
[2014-07-30 21:29:46 -0400] raul7821: Is there an alternative?
[2014-07-30 21:30:04 -0400] coderanger: raul7821: Use the git resource and some execute resources
[2014-07-30 21:30:48 -0400] raul7821: Ic good to know, why resource is such a bad idea?
[2014-07-30 21:31:03 -0400] coderanger: raul7821: It is very complex in generally unhelpful ways
[2014-07-30 21:32:59 -0400] raul7821: ok, so do you know how can I access the deploy_keys on opsworks? so I can do it manually?
[2014-07-30 21:33:51 -0400] rbowlby: does anyone have an example of the "berkshelf way"? Like the whole stack of books in one repo for reference sake.
[2014-07-30 21:34:18 -0400] coderanger: rbowlby: Not sure what you mean, everything in one repo would be the opposite of the berks workflow
[2014-07-30 21:34:21 -0400] rbowlby: obviously they wouldn't be in a single repo IRL, but as an example has anyone put something like this together
[2014-07-30 21:34:27 -0400] rbowlby: ugh ^
[2014-07-30 21:34:37 -0400] cheeseplus: rbowlby: http://misheska.com/blog/2013/06/16/getting-started-writing-chef-cookbooks-the-berkshelf-way/
[2014-07-30 21:35:00 -0400] cheeseplus: not a repo but an entire walkthrough of an example workflow
[2014-07-30 21:35:09 -0400] coderanger: rbowlby: You can look at github.com/balanced-cookbooks, there is a lot of open stuff in there including the whole CI system (disclaimer: I don't work there anymore and can't speak to the quality level now)
[2014-07-30 21:35:24 -0400] rbowlby: thanks guys!
[2014-07-30 21:35:26 -0400] coderanger: rbowlby: balanced-ci in there is a top-level "application cookbook"
[2014-07-30 21:45:54 -0400] andychef: I have a recipe
[2014-07-30 21:46:00 -0400] andychef: it has an if condition
[2014-07-30 21:46:07 -0400] andychef: the if condition checks for array length
[2014-07-30 21:46:13 -0400] andychef: and compares it with a value
[2014-07-30 21:46:37 -0400] andychef: while writing specs for this recipe it can't see the length/count/size method of that array
[2014-07-30 21:46:43 -0400] andychef: any idea how to fix this?
[2014-07-30 21:47:35 -0400] cnk_: andychef: very odd. Seems like it can't see the array
[2014-07-30 21:47:47 -0400] cnk_: since size is a building on array
[2014-07-30 21:47:49 -0400] andychef: array is node attribute
[2014-07-30 21:48:03 -0400] andychef: chefspec loads all the node attributes
[2014-07-30 21:48:34 -0400] andychef: I get following error
[2014-07-30 21:48:39 -0400] andychef: undefined method `count' for nil:NilClass
[2014-07-30 21:48:52 -0400] cnk_: eactly the array isn't there
[2014-07-30 21:49:06 -0400] andychef: the recipe works fine
[2014-07-30 21:49:09 -0400] andychef: without any issues
[2014-07-30 21:49:19 -0400] andychef: it goes like
[2014-07-30 21:49:20 -0400] cnk_: well at the point you are doing your test, there is no array
[2014-07-30 21:49:26 -0400] cnk_: you are getting 'nil'
[2014-07-30 21:49:31 -0400] cnk_: not [1.2.3]
[2014-07-30 21:50:14 -0400] cnk_: I would guess your spec doesn't have the full set of stuff that the real recipe has
[2014-07-30 21:50:28 -0400] andychef: the error is thrown during compile phase
[2014-07-30 21:50:32 -0400] andychef: not during execution phase
[2014-07-30 21:50:44 -0400] cnk_: common issue in testing - your test setup doesn't fully mirror prod
[2014-07-30 21:50:50 -0400] cnk_: compile phase of ??
[2014-07-30 21:50:56 -0400] andychef: when i run rspec
[2014-07-30 21:50:58 -0400] cnk_: do chef recipes compile?
[2014-07-30 21:51:08 -0400] andychef: the first message I get is compile error
[2014-07-30 21:51:09 -0400] cnk_: (I know ruby but less chef)
[2014-07-30 21:51:24 -0400] andychef: chef recipes compile
[2014-07-30 21:51:30 -0400] andychef: and do what they are supposed to do
[2014-07-30 21:52:31 -0400] cnk_: I can't tell you how to get the array populated in your spec - but I can tell you it isn't now
[2014-07-30 21:53:36 -0400] andychef: okay...I guess I know what is going  on
[2014-07-30 21:59:41 -0400] damien: greetings :)
[2014-07-30 22:00:14 -0400] damien: hey is there anyway to have chef run leave behind the  /tmp/chef-script* files? I wanted to review what was actually being performed after compile...
[2014-07-30 22:00:52 -0400] coderanger: damien: That isn't an option, but you can use why-run mode
[2014-07-30 22:01:08 -0400] damien: coderanger, ah ok, thanks :) I'll give that a try!
[2014-07-30 22:01:36 -0400] coderanger: damien: There are other tricks you can use if that isn't enough, but it gets progressively weirder :)
[2014-07-30 22:05:30 -0400] damien: coderanger, btw, in regards to the supervisor problem I ran into yesterday, my problem got fixed by changing the regex that the service provider uses when checking status of a new service, for some reason the output either changed recently but tweaking the include fixed it for me.... stdout.include?  "No such process #{service_name}" -> "no such process"
[2014-07-30 22:05:48 -0400] damien: not ideal to have to change the community cookbook, but got me unblocked :)
[2014-07-30 22:06:01 -0400] damien: not sure why the output suddenly changed and needed that to happen
[2014-07-30 22:06:01 -0400] coderanger: damien: Were you running master or the released version?
[2014-07-30 22:06:05 -0400] damien: hmmm
[2014-07-30 22:06:12 -0400] coderanger: and/or did you recently upgrade to supervisor 3.1?
[2014-07-30 22:06:23 -0400] coderanger: damien: re: https://github.com/poise/supervisor/issues/68#issuecomment-50683732
[2014-07-30 22:06:27 -0400] damien: did 3.1 recently get published? as in like the last coupel of days?
[2014-07-30 22:06:40 -0400] damien: oh yeah
[2014-07-30 22:06:41 -0400] damien: exactly!
[2014-07-30 22:06:43 -0400] damien: that is it!
[2014-07-30 22:06:44 -0400] damien: hah
[2014-07-30 22:06:57 -0400] damien: so dang, that really was jjust a new versions
[2014-07-30 22:07:17 -0400] coderanger: damien: That would do it, I'm gardening the PRs on the cookbook right now, hoping to have a release up tonight
[2014-07-30 22:07:57 -0400] damien:  coderanger ahh cool, awesome, I will wait for that release then :) cheers and thanks for your help
[2014-07-30 22:08:24 -0400] coderanger: The lack of good test and general crufitness make it hard, heres hoping I don't break anything :-/
[2014-07-30 22:10:46 -0400] dgarstang: i have a recipe that configures LDAP. Works ok. A recipe later in the run list tries to configure users added by ldap. it's failing saying the users don't exist (but they do). I'm wonderng if this is sort sort of compile/converge issue where check is checking the existence of the users BEFORE the run?
[2014-07-30 22:11:41 -0400] stensonb: dgarstang - what provider are you using to add/ensure users?
[2014-07-30 22:11:44 -0400] coderanger: dgarstang: I explaining this to you once already
[2014-07-30 22:12:01 -0400] coderanger: dgarstang: If you would like it explained again, I'm happy to invoice you
[2014-07-30 22:13:12 -0400] dgarstang: coderanger: please stop talking to me
[2014-07-30 22:14:08 -0400] coderanger: Done!
[2014-07-30 22:14:12 -0400] doomviking: heh
[2014-07-30 22:14:45 -0400] jamesonjlee: wut
[2014-07-30 22:15:20 -0400] damien: hah
[2014-07-30 22:15:28 -0400] damien: so funny
[2014-07-30 22:15:37 -0400] damien: hahaha
[2014-07-30 22:15:44 -0400] doug: coderanger: your a really disguisting human being
[2014-07-30 22:16:08 -0400] coderanger: clevergirl.gif
[2014-07-30 22:16:11 -0400] damien: doug, I dunno, helped me out quite a bunch! saved my bacon several times over the years....
[2014-07-30 22:17:00 -0400] troyready: Well hold on here guys......do we really know that coderanger isn't disgusting?
[2014-07-30 22:17:06 -0400] troyready: I mean, he's brillant and helpful and nice
[2014-07-30 22:17:15 -0400] criaa: damien: at what price?
[2014-07-30 22:17:20 -0400] coderanger: troyready: Crap, their on to me
[2014-07-30 22:17:26 -0400] damien: hahah
[2014-07-30 22:17:31 -0400] troyready: But I'm not willing to vouch for hygiene without meeting in person :)
[2014-07-30 22:17:39 -0400] coderanger: Apologies all
[2014-07-30 22:17:46 -0400] damien: hahah
[2014-07-30 22:17:49 -0400] doomviking: his beard speaks volumes.
[2014-07-30 22:19:24 -0400] crisaa: yeah and some social skills too
[2014-07-30 22:19:55 -0400] rbowlby: is this guide too out of date?
[2014-07-30 22:19:55 -0400] rbowlby: http://vialstudios.com/guide-authoring-cookbooks.html
[2014-07-30 22:20:27 -0400] coderanger: rbowlby: Yeah, a lot of it anyway
[2014-07-30 22:20:31 -0400] troyready: I think  we've all worked with people like that in the past. Just sad how some people are unhappy in everything
[2014-07-30 22:20:55 -0400] coderanger: rbowlby: The second half looks okay from a quick skim, but the tool setup is very out of date
[2014-07-30 22:21:38 -0400] rbowlby: cool, thanks
[2014-07-30 22:21:56 -0400] troyready: Seems like yesterday that miah was in here warning against the support vampire, and the issue has just lingered and lingered and lingered
[2014-07-30 22:21:58 -0400] coderanger: rbowlby: Yeah, just read the chef bits :)
[2014-07-30 22:23:45 -0400] Eulipion: vampire = http://selenus.es/wp/wp-content/uploads/2013/05/bofh.jpg ?
[2014-07-30 22:23:50 -0400] rbowlby: cheeseplus that guide you linked to was very helpful for clarification of the application cookbook pattern.
[2014-07-30 22:24:06 -0400] rbowlby: is there something similar that makes use of that application cookbook wihtin multiple environments?
[2014-07-30 22:25:22 -0400] troyready: Eulipion, I'm sure there's some of that too. This is what we see here: http://slash7.com/2006/12/22/vampires/
[2014-07-30 22:25:23 -0400] rbowlby: I also noticed the myface cookbook called the mysql and apache2 cookbooks directly. Can you give me an example of when the myface cookbook would instead call a "wrapper cookbook"?
[2014-07-30 22:27:25 -0400] coderanger: rbowlby: You would use a wrapper when you want to set some global overrides or extensions
[2014-07-30 22:27:58 -0400] coderanger: rbowlby: Like setting some attributes, or extending a recipe
[2014-07-30 22:28:44 -0400] rbowlby: More or less my question is this: Given the myface app cookbook, how would one go about arranging it so that in dev both the app and db recipes run on one node, but in staging they run on sep nodes?
[2014-07-30 22:28:50 -0400] cheeseplus: rbowlby: http://blog.vialstudios.com/the-environment-cookbook-pattern/
[2014-07-30 22:29:07 -0400] cheeseplus: not exactly what you asked for but a relevant breakdown of the patterns
[2014-07-30 22:29:08 -0400] rbowlby: cheeseplus, that blog doesn't actually provide an example env cookbook
[2014-07-30 22:29:22 -0400] rbowlby: does someone have one I can look at
[2014-07-30 22:29:23 -0400] cheeseplus: indeed, just vocabulary and concepts
[2014-07-30 22:29:43 -0400] coderanger: rbowlby: I don't know of any that are open, usually just for practical reasons of not being relevant to others :-/
[2014-07-30 22:30:31 -0400] rbowlby: I think I'm getting there but still very unclear on how to address multiple environments... :(
[2014-07-30 22:31:44 -0400] coderanger: rbowlby: You would make one env cookbook per environment
[2014-07-30 22:31:53 -0400] rbowlby: and what is in it?
[2014-07-30 22:32:05 -0400] coderanger: rbowlby: Which would mostly look the same except for their dependency versioning
[2014-07-30 22:32:12 -0400] coderanger: rbowlby: one recipe per "role"e
[2014-07-30 22:32:24 -0400] coderanger: where that recipe is generally just include_recipe "thething"
[2014-07-30 22:32:41 -0400] rbowlby: using the myface app book as an example
[2014-07-30 22:33:12 -0400] rbowlby: the env book would look like... \()/
[2014-07-30 22:35:01 -0400] coderanger: rbowlby: cat recipes/myface.rb    include_recipe "myface"
[2014-07-30 22:35:07 -0400] coderanger: and then in the metadata.rb
[2014-07-30 22:35:15 -0400] coderanger: depends "myface", "1.2.3"
[2014-07-30 22:35:30 -0400] coderanger: that depends line is what lets you control which version is tied to each env
[2014-07-30 22:35:57 -0400] rbowlby: ahhhh
[2014-07-30 22:36:17 -0400] rbowlby: and so the chef versioning at the environment level is replaced with book-based versioning only?
[2014-07-30 22:36:22 -0400] coderanger: yes
[2014-07-30 22:36:27 -0400] rbowlby: omg..grok!
[2014-07-30 22:36:41 -0400] coderanger: using this, you would entirely skip chef's environment system
[2014-07-30 22:37:20 -0400] rbowlby: alright..and the same for env-level attrs too then..they would go in the attributes/myface.rb in the env book?
[2014-07-30 22:39:23 -0400] rbowlby: what's the naming convention for environment cookbooks?
[2014-07-30 22:39:39 -0400] coderanger: rbowlby: Yep :)
[2014-07-30 22:39:52 -0400] coderanger: rbowlby: I don't know if there is one, but env-foo wouldn't be out of place
[2014-07-30 22:39:58 -0400] rbowlby: companyname-prod-myface or something
[2014-07-30 22:40:18 -0400] coderanger: rbowlby: the cookbook is just env-prod or companyname-prod
[2014-07-30 22:40:31 -0400] coderanger: it would also have recipes/depends for each other "role" cookbook you have
[2014-07-30 22:40:38 -0400] coderanger: so recipes/db.rb, etc
[2014-07-30 22:40:53 -0400] coderanger: Or sometimes they are subdivided if a role cookbook groups stuff together
[2014-07-30 22:40:59 -0400] coderanger: like myface-db or something
[2014-07-30 22:41:06 -0400] rbowlby: sure wish there was an example floating about
[2014-07-30 22:41:33 -0400] coderanger: rbowlby: Want to hire me to make one? :D
[2014-07-30 22:42:09 -0400] rbowlby: lol, I'm just a lowly SA trying to make fire with two sticks
[2014-07-30 22:42:21 -0400] coderanger: rbowlby: This is why there aren't any, alas
[2014-07-30 22:42:51 -0400] rbowlby: it sounds like fewer people have adopted the ENTIRE berkshelf-way approach
[2014-07-30 22:43:10 -0400] coderanger: rbowlby: Yes, its all evolving on the fly too
[2014-07-30 22:43:13 -0400] rbowlby: as if they stopped once they got to environments and decided to go with the chef way from there on
[2014-07-30 22:43:26 -0400] coderanger: rbowlby: Bleeding edge is a very literal term around here >_<
[2014-07-30 22:43:31 -0400] scarolan: rbowlby: you might try to deeply consider the problem you're trying to solve first before tossing environments out and using cookbooks instead.  The environment cookbook pattern is not officially sanctioned by Chef and we will be limited in our ability to support you if you use it that way.
[2014-07-30 22:44:34 -0400] rbowlby: scarolan, sage advice
[2014-07-30 22:44:46 -0400] cheeseplus: hehe
[2014-07-30 22:45:10 -0400] cheeseplus: I've used them just fine :D
[2014-07-30 22:45:35 -0400] cheeseplus: take the parts of the stack/approach that are useful
[2014-07-30 22:47:09 -0400] rbowlby: The [ library ]-> app ->[ app-wrapper ] -> company-app -> role pattern is great.
[2014-07-30 22:47:27 -0400] rbowlby: appending the environment book to the end of that seems quite clean/sane
[2014-07-30 22:48:01 -0400] rbowlby: in puppet node manifests aren't usually versioned..environments don't apply to them
[2014-07-30 22:48:17 -0400] rbowlby: it was quite common to place your "base" and "roles" in that repository instead of as modules
[2014-07-30 22:48:24 -0400] rbowlby: which means they weren't versioned as well
[2014-07-30 22:48:47 -0400] rbowlby: the problems one encounters as a result of that or many
[2014-07-30 22:49:04 -0400] rbowlby: so seeing roles as something that is again NOT versioned in chef was troubling
[2014-07-30 22:49:49 -0400] rbowlby: the way environments are managed between chef and puppet are very different
[2014-07-30 22:50:21 -0400] rbowlby: they're just a different commit point in puppet, so easy to get it
[2014-07-30 22:51:56 -0400] rbowlby: now I have to increment a version in an environment definition file each time I want to promote a cookbook up to another env
[2014-07-30 22:52:08 -0400] rbowlby: the flow is clumsy and has so many steps
[2014-07-30 22:53:27 -0400] rbowlby: don't get me wrong chef is superior in many ways, but generally tying the environments to a commit point and managing what's on the puppet server by pushing to git is much more streamlined
[2014-07-30 22:54:08 -0400] someara: thats what the new "policyfile" coming down the pipe is
[2014-07-30 22:54:12 -0400] rbowlby: in chef you could have disparity between HEAD in git and what's the latest on the chef server
[2014-07-30 22:54:14 -0400] rbowlby: that's weired
[2014-07-30 22:54:29 -0400] rbowlby: policyfile?
[2014-07-30 22:54:29 -0400] bawt: policyfile not found
[2014-07-30 22:54:43 -0400] someara: yea its in development/rfc status at the moment
[2014-07-30 22:55:46 -0400] someara: in general, you should think of the chef-server as a cookbook artifact repository
[2014-07-30 22:56:24 -0400] someara: just like supermarket
[2014-07-30 22:56:27 -0400] rbowlby: someara, yes the paradigm shift to that frame of mind is in progress. ;)
[2014-07-30 22:57:05 -0400] someara: having versioned artifacts lets you make dependency relationships
[2014-07-30 22:57:26 -0400] someara: like... this cookbook depends on the yum cookbook, below version 3
[2014-07-30 22:57:30 -0400] someara: or after version 3
[2014-07-30 22:57:45 -0400] rbowlby: that is achieved in puppet using something like puppet-librarian and per repo modules
[2014-07-30 22:57:49 -0400] someara: the yum resource changed from 2.x and 3.x
[2014-07-30 22:57:56 -0400] rbowlby: where each environment has a sep library file
[2014-07-30 22:58:35 -0400] rbowlby: it works quite well, the artifact approach completely decouples it from revision control
[2014-07-30 22:58:41 -0400] someara: right... but without semantically meaningful version info, you can't really describe API compatibility
[2014-07-30 22:58:49 -0400] rbowlby: so both aspects of the workflow are independent in the worst of ways
[2014-07-30 22:59:36 -0400] someara: workflow is a hot topic lately... best I can tell people mean at least two different things when invoking the word
[2014-07-30 22:59:55 -0400] someara: the first is "development" workflow... how to dev and test a cookbook (or set of cookbooks)
[2014-07-30 23:00:20 -0400] rbowlby: promotion workflow is more specifically what appears to be painful for me
[2014-07-30 23:00:21 -0400] someara: and the second is "operational" workflow... how to introduce that new version into a live infrastructure
[2014-07-30 23:00:27 -0400] rbowlby: yes
[2014-07-30 23:00:28 -0400] someara: right
[2014-07-30 23:00:51 -0400] rbowlby: the test kitchen workflow kills what I was doing in puppet
[2014-07-30 23:01:11 -0400] someara: with the "developement" workflow, its possible to be perscriptive: use test-kitchen, use yadda yadda
[2014-07-30 23:01:14 -0400] rbowlby: it's not until it comes time to manage environments and promote changes do I lose my bearings
[2014-07-30 23:01:45 -0400] someara: with the promotional workflow, its almost impossible to be perscriptive, because everyones snowflake is different
[2014-07-30 23:02:31 -0400] someara: if you're using "immutable" infrastructure... its "blow away your nodes and rebuild them with the new cookbook applied"
[2014-07-30 23:02:37 -0400] someara: if you're not... its... what?
[2014-07-30 23:02:50 -0400] rbowlby: either way I'm unclear on the best approach
[2014-07-30 23:03:23 -0400] someara: its totally possible to do it the "puppet way"
[2014-07-30 23:03:33 -0400] someara: that was original way
[2014-07-30 23:03:36 -0400] rbowlby: lol, have a branch per environemnt?
[2014-07-30 23:03:41 -0400] someara: sure why not
[2014-07-30 23:04:05 -0400] rbowlby: so I do a git checkout of a branch for prod...then what?
[2014-07-30 23:04:19 -0400] someara: cross your fingers and run that shit as root
[2014-07-30 23:04:27 -0400] rbowlby: lol, no really
[2014-07-30 23:04:30 -0400] someara: haha
[2014-07-30 23:04:54 -0400] rbowlby: I still have to modify some giant environment file once I check out that branch
[2014-07-30 23:04:58 -0400] someara: how do you test it in puppet, ansible, or cfengine?
[2014-07-30 23:05:24 -0400] rbowlby: say I'm on a feature branch introducing a change to apache
[2014-07-30 23:05:31 -0400] rbowlby: I would git push
[2014-07-30 23:05:38 -0400] someara: what's a feature branch? I use perforce
[2014-07-30 23:05:39 -0400] rbowlby: now that env exists on the puppet server
[2014-07-30 23:05:45 -0400] rbowlby: stop..liar
[2014-07-30 23:05:51 -0400] someara: =)
[2014-07-30 23:06:06 -0400] someara: I had a point in there somehwere
[2014-07-30 23:06:07 -0400] rbowlby: so now I just spin up a new node/s and point them at that environment
[2014-07-30 23:06:10 -0400] rbowlby: voila!
[2014-07-30 23:06:26 -0400] coderanger: rbowlby: You can do that with solo pretty easily
[2014-07-30 23:06:34 -0400] rbowlby: git co master; git co -b featurebranch; someawesomefeaturework; git push
[2014-07-30 23:06:35 -0400] rbowlby: done
[2014-07-30 23:06:38 -0400] coderanger: rbowlby: It just falls down really hard when you have a lot of people working on things at once
[2014-07-30 23:06:41 -0400] rbowlby: now that's a flow I grok
[2014-07-30 23:06:58 -0400] coderanger: rbowlby: the lack of natural boundaries between things (cookbooks, etc) leads to much crosstalk
[2014-07-30 23:07:00 -0400] rbowlby: we had 30 devs doing puppet
[2014-07-30 23:07:24 -0400] coderanger: rbowlby: The flow you describe is the "classic" workflow discussed in the RFC
[2014-07-30 23:07:37 -0400] someara: monolithic puppet repo? or were individual modules tested in isolation
[2014-07-30 23:07:42 -0400] rbowlby: each module was a repo
[2014-07-30 23:07:55 -0400] rbowlby: puppet-librarian in the parent repo
[2014-07-30 23:08:02 -0400] rbowlby: and the parent repo had one branch per env
[2014-07-30 23:08:30 -0400] rbowlby: It was all much easier. I made the switch to get the flexibility that comes with ruby.
[2014-07-30 23:08:44 -0400] someara: its completely possible to just ignore the fact that cookbooks have versions
[2014-07-30 23:08:50 -0400] someara: and always pull the latest
[2014-07-30 23:09:19 -0400] coderanger: rbowlby: So thats the env cookbook pattern, but keep each env's data on a branch instead of different cookbooks
[2014-07-30 23:09:23 -0400] rbowlby: versions are good, puppet modules had versions too
[2014-07-30 23:09:25 -0400] coderanger: rbowlby: That sounds like a thing you could do
[2014-07-30 23:09:36 -0400] prometheanfire: is this correct code in an attribute file?     https://github.com/rackspace-cookbooks/varnish/blob/master/attributes/default.rb#L1-L5
[2014-07-30 23:10:06 -0400] coderanger: prometheanfire: No, use default instead of set
[2014-07-30 23:10:30 -0400] prometheanfire: set is invalid or bad practice?
[2014-07-30 23:10:44 -0400] prometheanfire: because I'm getting actual errors that feel odd :D
[2014-07-30 23:10:54 -0400] rbowlby: alright, I'm going to go give the chef environments approach a try
[2014-07-30 23:11:03 -0400] coderanger: prometheanfire: Difficult question to answer, probably should technically work but will do really nasty things in certain cases
[2014-07-30 23:11:05 -0400] rbowlby: I'll do env books when I feel the pain
[2014-07-30 23:11:14 -0400] coderanger: prometheanfire: Overall, preset node.set doesn't exist
[2014-07-30 23:11:20 -0400] coderanger: rbowlby: +1
[2014-07-30 23:11:34 -0400] prometheanfire: https://gist.github.com/prometheanfire/853362e774cb49c1a3a7
[2014-07-30 23:11:42 -0400] rbowlby: is there a knife tool for incrementing versions in a cookbook or environemnt file?
[2014-07-30 23:11:53 -0400] rbowlby: I hate editing files to increment versions..so lazy
[2014-07-30 23:12:15 -0400] prometheanfire: rbowlby: there is, but I forget the name :|
[2014-07-30 23:12:39 -0400] coderanger: rbowlby: spork has a thing for it
[2014-07-30 23:13:15 -0400] rbowlby: I haven't even touched spork yet
[2014-07-30 23:13:27 -0400] rbowlby: I'll come back to that I suppose. Glad to know it'll get easier when I do.
[2014-07-30 23:13:30 -0400] iverson0881: rbowlby: we use spork here...really good for it...you'll just need to convert your environment files to json
[2014-07-30 23:13:31 -0400] coderanger: rbowlby: Probably for the best, just edit the file by hand :P
[2014-07-30 23:13:44 -0400] coderanger: prometheanfire: So the error means the value is nil
[2014-07-30 23:13:47 -0400] rbowlby: awesome, thanks iverson
[2014-07-30 23:13:50 -0400] coderanger: prometheanfire: Question is "why?"
[2014-07-30 23:13:57 -0400] prometheanfire: ya
[2014-07-30 23:14:03 -0400] prometheanfire: that's the part I find odd :P
[2014-07-30 23:14:42 -0400] coderanger: prometheanfire: In the recipe code, add this
[2014-07-30 23:15:04 -0400] prometheanfire: also just made this, for the default thing
[2014-07-30 23:15:05 -0400] prometheanfire: https://github.com/rackspace-cookbooks/varnish/pull/30/files
[2014-07-30 23:15:06 -0400] coderanger: Chef::Log.debug(node.debug_value('varnish', 'default'))
[2014-07-30 23:15:34 -0400] coderanger: and then run with log level at debug
[2014-07-30 23:15:37 -0400] prometheanfire: ya
[2014-07-30 23:16:05 -0400] prometheanfire: gimme a few, need to do this :D
[2014-07-30 23:26:11 -0400] sp206: Hi all, I'm trying to use the Cassandra cookbook from the supermarket and I'm getting an error from one of it's dependent cookbooks that seems to be bubbling up but is not mentioned in the readme. the error: "* package[boost-doc] action install * No version specified, and no candidate version available for boost-doc"
[2014-07-30 23:34:49 -0400] coderanger: sp206: Are you on Ubuntu?
[2014-07-30 23:34:55 -0400] sp206: coderanger: RHEL
[2014-07-30 23:36:01 -0400] coderanger: sp206: Which RHEL?
[2014-07-30 23:37:59 -0400] sp206: looks like 7.0. I think I've actually seen this problem before and reverted back to 6.5
[2014-07-30 23:38:11 -0400] sp206: for other instances
[2014-07-30 23:39:58 -0400] coderanger: I like how RHEL/CentOS still doesn't have a public package search engine
[2014-07-30 23:40:12 -0400] coderanger: Its been like two decades now
[2014-07-30 23:40:58 -0400] coderanger: sp206: http://i.coderanger.net/3iLD9.png
[2014-07-30 23:41:09 -0400] coderanger: sp206: Not found in RHEL7, though oddly it is in CentOS 7
[2014-07-30 23:41:19 -0400] sp206: lovely :)
[2014-07-30 23:41:20 -0400] coderanger: sp206: Might be a repo issue?
[2014-07-30 23:41:25 -0400] lyken: centos 7.. ill leave that alone for a little while
[2014-07-30 23:41:34 -0400] sp206: coderanger: sounds reasonable
[2014-07-30 23:41:45 -0400] lyken: some fundemental changes in how things work and I don't have time to learn it yet
[2014-07-30 23:41:54 -0400] lyken: grr!
[2014-07-30 23:41:59 -0400] sp206: coderanger: trying again using a 6.5 instance instead
[2014-07-30 23:42:06 -0400] sp206: coderanger: thanks!
[2014-07-30 23:43:47 -0400] coderanger: sp206: You could probably grab the CentOS 7 package and install it on RHEL7, but I think that triggers Redhat releasing hunter-killer robots or something :)
[2014-07-30 23:45:32 -0400] sp206: coderanger: that sounds like a lot more work than I want to start at 4:45 PM
[2014-07-30 23:45:54 -0400] coderanger: sp206: Yeah, the simple answer is "that cookbook is not supported on RHEL 7 at this time"
[2014-07-30 23:47:53 -0400] sp206: coderanger: and running it with a RHEL 6.5 base image appears to be working. Also thank you for searching the package list, something I didn't think of and will look out for in the future if I face similar problems :)
[2014-07-30 23:47:54 -0400] Damm: coderanger, your silly there's that will care if you install a rpm that you built or a rpm built by centos
[2014-07-30 23:48:05 -0400] Damm: although you can always rebuild them if you have the source package
[2014-07-30 23:48:19 -0400] Damm: but requiring boost-doc is likely not required
[2014-07-30 23:48:24 -0400] Damm: you could likely remove that package
[2014-07-30 23:50:31 -0400] sp206: Damm: I also did that right before coderanger answered. seemed to fix the first problem
[2014-07-30 23:51:43 -0400] sp206: Damm: now onto a new problem! and only 10 minutes left before it's time to leave the office *gasp*
[2014-07-30 23:54:04 -0400] Damm: sp206, you know you can leave problems for tomorrow if it's not production right?
[2014-07-30 23:54:47 -0400] sp206: Damm: we haven't reached production yet so i'm not so worried about that, but it was supposed to be done today
[2014-07-30 23:55:42 -0400] sp206: okay so new problem: the Thrift cookbook that Cassandra uses is trying to download "http://apache.mirrors.tds.net/thrift/0.9.1/thrift-0.9.0.tar.gz", but they've updated to 0.9.1
[2014-07-30 23:56:52 -0400] sp206: i notice in the recipe they have "version = node['thrift']['version']". I'm guessing I can overwrite that attribute in the Cassandra role I have, but I don't exactly know how
[2014-07-30 23:58:54 -0400] Damm: this is where a wrapper cookbook works
[2014-07-30 23:59:03 -0400] Damm: node.override['thrift']['version'] = "0.9.1"
[2014-07-30 23:59:20 -0400] Damm: then include_recipe "cassandra::whatever"
[2014-07-30 23:59:27 -0400] Damm: you can do that in a role too
[2014-07-30 23:59:33 -0400] sp206: somehting like: { "thrift" => {"version" => "0.9.1"}}
[2014-07-30 23:59:45 -0400] Damm: yah
[2014-07-30 23:59:48 -0400] sp206: in the override_attributes object?
[2014-07-30 23:59:54 -0400] Damm: yup
[2014-07-30 23:59:58 -0400] sp206: ha i am starting to get the hang of this! thanks!
