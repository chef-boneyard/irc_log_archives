[2014-07-13 00:39:49 -0400] Phelms_: In a chef put request I am getting an error "Invalid key overrides in request body"
[2014-07-13 00:39:51 -0400] Phelms_: ideas?
[2014-07-13 01:31:03 -0400] Big_G: Hey all
[2014-07-13 01:31:31 -0400] coderanger: Alo
[2014-07-13 01:32:37 -0400] Big_G: Anybody available to help?
[2014-07-13 01:33:10 -0400] coderanger: Big_G: What can I do for ya
[2014-07-13 01:34:13 -0400] Big_G: coderanger: I'm new to chef and have been doing some tutorials online. I've been having some issues with vagrant and chef like setting up the box and needing to run all chef commands as sudo
[2014-07-13 01:34:52 -0400] coderanger: Big_G: Which commands?
[2014-07-13 01:35:49 -0400] Big_G: I'd have to check as I'm not on my main machine but I believe they were vagrant up (Halts during the process) and chef-apply recipeName.rb
[2014-07-13 01:38:59 -0400] Big_G: coderanger: I can start that machine up again and give you the error messages if you'd like
[2014-07-13 01:42:03 -0400] coderanger: Big_G: Hmm, both of those shouldn't need sudo
[2014-07-13 01:42:38 -0400] Big_G: Vagrant doesn't but chef does. It was trying to modify a locall ASCII text file and yelled at me about permissions without sudo
[2014-07-13 01:42:56 -0400] coderanger: Big_G: Is the file you were trying to change owned by root?
[2014-07-13 01:43:31 -0400] Big_G: I don't believe so. I created it with the chef script so unless it does root by default, I was the owner
[2014-07-13 01:43:56 -0400] coderanger: Hmm, I would need to see the owner
[2014-07-13 01:45:02 -0400] Big_G: K. Let me boot up that box and try again
[2014-07-13 01:49:45 -0400] Big_G: I just did it all again and the file has my username
[2014-07-13 01:50:40 -0400] coderanger: What was the error?
[2014-07-13 01:51:53 -0400] Big_G: coderanger: A lot of text I can paste if you're interested. The gist was a permission denied Errno::EACCES
[2014-07-13 01:52:06 -0400] coderanger: Hmm, what file is it complaining about?
[2014-07-13 01:52:11 -0400] coderanger: Maybe a log or cache file?
[2014-07-13 01:52:31 -0400] Big_G: Not sure. Is there a good way I can show you the output?
[2014-07-13 01:52:37 -0400] coderanger: In general chef is run as root, but the examples using chef-apply shouldn't need to be if configured correctly
[2014-07-13 01:52:43 -0400] coderanger: yeah, gist.github.com or another pastebin
[2014-07-13 01:52:51 -0400] coderanger: paste the text there and then copy the link in here
[2014-07-13 01:53:49 -0400] Big_G: Keep in mind that it worked fine the first time. It was only when changing the message that was printed to the file that the error popped up
[2014-07-13 01:55:35 -0400] Big_G: pastebin.com/k3ZtKskc
[2014-07-13 01:57:01 -0400] Big_G: coderanger: Any ideas?
[2014-07-13 01:57:53 -0400] coderanger: Yeah, thats the backup file system, its expected
[2014-07-13 01:58:00 -0400] coderanger: just put "backups 0" on the file resource
[2014-07-13 01:58:13 -0400] coderanger: Or you can configure it to put backups in a folder you have access to
[2014-07-13 01:58:22 -0400] coderanger: or chown that folder :)
[2014-07-13 01:59:43 -0400] Big_G: Where do I change backups?
[2014-07-13 02:00:00 -0400] coderanger: In your client.rb
[2014-07-13 02:00:12 -0400] Big_G: Can I get the lines for that?
[2014-07-13 02:00:30 -0400] coderanger: sec, on a cell net so things are slow
[2014-07-13 02:00:54 -0400] Big_G: k
[2014-07-13 02:01:29 -0400] coderanger: file_backup_path '/tmp/chefbackup'
[2014-07-13 02:01:30 -0400] coderanger: or similar
[2014-07-13 02:01:50 -0400] coderanger: but again, you might just want to move on to the rest of the tutorial
[2014-07-13 02:01:56 -0400] coderanger: chef-apply isn't really a good example :)
[2014-07-13 02:02:34 -0400] Big_G: Fair enough. That leaves me with lots of vagrant issues then as I don't want to continue on my local machine
[2014-07-13 02:09:36 -0400] coderanger: Big_G: Whats the issue with vagrant?
[2014-07-13 02:10:18 -0400] Big_G: It times out after the "Waiting for machine to boot." Line. Says something about taking too long
[2014-07-13 02:10:33 -0400] coderanger: sorry, got to move
[2014-07-13 02:10:35 -0400] coderanger: back in a bit
[2014-07-13 02:10:52 -0400] Big_G: k
[2014-07-13 02:12:06 -0400] coderanger: Big_G: What image file are you using? Also if you want a tutorial I recommend following the one at learnchef.com
[2014-07-13 02:12:19 -0400] coderanger: Big_G: If gives you a cloud VM so you don't have to worry about the local setup
[2014-07-13 02:13:17 -0400] Big_G: I'm using a centos image. I'm using that tutorial but not their box. I have to do it on my local machine for work so I'd prefer to get it working on my local machine
[2014-07-13 02:15:31 -0400] coderanger: Big_G: Which centos image? I would recommend the opscode bento one
[2014-07-13 02:16:03 -0400] coderanger: Also make sure your virtualbox is the latest, that can affect VM stability
[2014-07-13 02:16:11 -0400] Big_G: Do you have a link to it? I just pulled a 6.5 box file off a list
[2014-07-13 02:16:23 -0400] coderanger: No, just search for opscode and bento and you'll find it
[2014-07-13 02:16:54 -0400] Big_G: I'm on vagrant 1.4.3
[2014-07-13 02:18:00 -0400] coderanger: Big_G: Isn't that really old?
[2014-07-13 02:18:07 -0400] coderanger: Yeah, latest is 1.6.3
[2014-07-13 02:18:09 -0400] Big_G: Let me chack
[2014-07-13 02:18:39 -0400] Big_G: Weird. Looks like the most recent for apt-get
[2014-07-13 02:20:45 -0400] coderanger: Big_G: apt isn't known for being cutting edge :P
[2014-07-13 02:21:09 -0400] Big_G: I knew that but this is ridiculous. I'm patching now
[2014-07-13 02:21:18 -0400] coderanger: Big_G: Downside of wanting bleeding-edge tools (yes, chef is) is you need to play fast and loose with deps sometimes
[2014-07-13 02:21:32 -0400] coderanger: both chef and vagrant ship their own static builds, which is what you should use
[2014-07-13 02:27:45 -0400] tomoyuki28jp: When we use berkshelf, where should we override the attribute values?
[2014-07-13 02:28:00 -0400] coderanger: tomoyuki28jp: In the wrapper or environment cookbooks
[2014-07-13 02:28:45 -0400] tomoyuki28jp: coderanger: Thanks for your reply. Could you tell me any url link which does that?
[2014-07-13 02:39:50 -0400] Big_G: Finished all that. Same error as before but now there are a lot of connection timeouts before
[2014-07-13 03:09:56 -0400] coderanger: tomoyuki28jp: Not sure what you mean?
[2014-07-13 03:10:48 -0400] tomoyuki28jp: coderanger: Writing chef.json = {} in my Vagrantfile solves my problem. Thanks for your help.
[2014-07-13 03:37:02 -0400] shlant: jkeiser: Evening! lazy attributes, would they work with the machine resource? :)
[2014-07-13 03:44:51 -0400] jkeiser: shlant: I'm not sure--I didn't do anything special to enable them, so maybe not?
[2014-07-13 05:09:04 -0400] coderanger: shlant: They should, thats a feature of set_or_return (read: all resource attributes)
[2014-07-13 05:09:15 -0400] coderanger: shlant: Just remember it has to be the value of the attribute, not a subset
[2014-07-13 05:09:34 -0400] coderanger: so yes: variables lazy { foo }
[2014-07-13 05:09:43 -0400] coderanger: no: variables foo: lazy { bar }
[2014-07-13 05:21:36 -0400] shlant: coderanger:  how do I handle something like attribute ['db', 'hostname'], node['aws_rds']["#{node['app']['name']}-#{node.chef_environment}"]['endpoint_address'] ?
[2014-07-13 05:22:22 -0400] coderanger: Thats not a standard attribute so I would have to check the code
[2014-07-13 05:22:31 -0400] coderanger: looks like it is taking two arguments instead of one
[2014-07-13 05:22:39 -0400] coderanger: at least if my mental ruby parser is correct :)
[2014-07-13 05:23:12 -0400] shlant: coderanger: I guess it's specifying a attribute name and then a value
[2014-07-13 05:23:44 -0400] shlant: can also be attribute 'foo', {  }
[2014-07-13 05:24:01 -0400] coderanger: Yeah, thats just not using the standard set_or_return structure though
[2014-07-13 05:24:08 -0400] coderanger: or at least probably isn't
[2014-07-13 05:26:38 -0400] coderanger: shlant: I don't see where this is defined
[2014-07-13 05:26:42 -0400] coderanger: this is on the machine resource?
[2014-07-13 05:27:12 -0400] shlant: coderanger: yessir
[2014-07-13 05:27:38 -0400] coderanger: ahh, found it, its something from cheffish
[2014-07-13 05:27:48 -0400] coderanger: https://github.com/opscode/cheffish/blob/master/lib/cheffish.rb#L129-L138
[2014-07-13 05:27:51 -0400] coderanger: No support for lazy
[2014-07-13 05:29:35 -0400] shlant: shoot
[2014-07-13 05:29:42 -0400] shlant: any ideas for handling that
[2014-07-13 05:29:46 -0400] shlant: or am I out of luck atm
[2014-07-13 05:30:02 -0400] shlant: I need to get the aws-rds endpoint
[2014-07-13 05:30:05 -0400] shlant: to the machines
[2014-07-13 05:34:04 -0400] coderanger: shlant: This is what jkeiser and I were discussing yesterday, there is not currently handling for this in metal
[2014-07-13 05:34:54 -0400] coderanger: assuming you want to create the DB and then the instance together in the same provisioning run/system
[2014-07-13 05:41:23 -0400] shlant: I might be able to move it to the app cookbook, but I can find other stuff to work on while a fix is concocted
[2014-07-13 05:42:03 -0400] shlant: I like having all the infra pieces in the metal cookbooks
[2014-07-13 05:42:12 -0400] shlant: don't really want to move it back to app
[2014-07-13 05:42:28 -0400] shlant: thanks for looking into  though
[2014-07-13 06:31:29 -0400] tomoyuki28jp: I want to use sets of recipes to develop on localhost with Vagrant and deploy to production server. Where should I write add_recipe command instead of Vagrantfile?
[2014-07-13 06:33:57 -0400] shlant: tomoyuki28jp: like you currently have your run_list in a Vagrantfile and you want to move it to where you can run them without vagrant?
[2014-07-13 06:34:42 -0400] tomoyuki28jp: shlant: I moved my run_list to roles/*.rb
[2014-07-13 06:36:45 -0400] tomoyuki28jp: shlant: Or adding each recipie in Vagrantfile and deployment tool configuration file like capistrano is right way?
[2014-07-13 06:37:09 -0400] tomoyuki28jp: I don't wanna repeat myself.
[2014-07-13 06:39:43 -0400] shlant: tomoyuki28jp: there isn't really a "right" way, it depends on your needs. Where will you running your production servers? Amazon? data center?
[2014-07-13 06:40:01 -0400] tomoyuki28jp: shlant: VPS server.
[2014-07-13 06:40:10 -0400] tomoyuki28jp: not amazon.
[2014-07-13 06:40:22 -0400] shlant: tomoyuki28jp: rackspace? digitalocean?
[2014-07-13 06:40:57 -0400] tomoyuki28jp: shlant: Japanese VPS server. I think you don't know the service.
[2014-07-13 06:41:03 -0400] shlant: tomoyuki28jp: are you using chef-solo? or do you have a chef server?
[2014-07-13 06:41:12 -0400] tomoyuki28jp: shlant: I'm using chef-solo.
[2014-07-13 06:41:57 -0400] shlant: tomoyuki28jp: take a look at knie-solo
[2014-07-13 06:41:57 -0400] shlant: http://matschaffer.github.io/knife-solo/
[2014-07-13 06:42:22 -0400] shlant: you could just point knife solo bootstrap to your servers public dns name
[2014-07-13 06:42:41 -0400] shlant: that will push the cookbooks to your server, install chef and run it
[2014-07-13 06:43:47 -0400] tomoyuki28jp: shlant: I use knife-solo. But where should I write sets of recipes to add? I wanna use it from Vagrant and Capistrano.
[2014-07-13 06:44:41 -0400] tomoyuki28jp: Use include_recipe somewhere?
[2014-07-13 06:44:44 -0400] shlant: tomoyuki28jp: do you have a chef repo? what do you have right now?
[2014-07-13 06:45:28 -0400] tomoyuki28jp: shlant: Let me paste the list of files.
[2014-07-13 06:45:56 -0400] tomoyuki28jp: shlant: https://gist.github.com/tomoyuki28jp/7adfb934e54e19e14891
[2014-07-13 06:46:29 -0400] tomoyuki28jp: shlant: Thanks a lot for your help.
[2014-07-13 06:46:59 -0400] shlant: tomoyuki28jp: no problem. do you have anything in site-cookbooks?
[2014-07-13 06:47:30 -0400] sam_: Question: what is the best way to make directory permission job idempotent? "recursive" in directory doesnt traverse the tree. I can use execute but how to make it idempotent?
[2014-07-13 06:48:28 -0400] shlant: sam_: you want to change the permissions on a directory and all subdirectories?
[2014-07-13 06:49:41 -0400] tomoyuki28jp: shlant: Nothing under the site-cookbooks because I installed everything by berkshelf so far.
[2014-07-13 06:50:06 -0400] tomoyuki28jp: ah,
[2014-07-13 06:50:13 -0400] tomoyuki28jp: site-cookbooks is my custom config.
[2014-07-13 06:50:19 -0400] tomoyuki28jp: I've not created anything yet.
[2014-07-13 06:50:56 -0400] tomoyuki28jp: So writing my custom sets of recipes under site-cookbooks is correct way?
[2014-07-13 06:51:15 -0400] tomoyuki28jp: And load it from Vagrantfile and Capistrano config file?
[2014-07-13 06:51:26 -0400] shlant: tomoyuki28jp: try `knife cookbook create test -o site-cookbooks`
[2014-07-13 06:51:51 -0400] shlant: tomoyuki28jp: it, again, depends what you want to do
[2014-07-13 06:52:21 -0400] shlant: you can use vagrant to test your cookbooks locally
[2014-07-13 06:52:29 -0400] shlant: but usually you wouldn't deploy with vagrant
[2014-07-13 06:52:37 -0400] tomoyuki28jp: shlant: yes
[2014-07-13 06:52:54 -0400] tomoyuki28jp: shlant: That's why I wanna seperate sets of recipes from Vagrantfile.
[2014-07-13 06:53:47 -0400] shlant: tomoyuki28jp: the basics of it is you create your own cookbooks in site-cookbooks, and then point your Vagrantfile to your ched repo
[2014-07-13 06:53:51 -0400] shlant: and add a run_list
[2014-07-13 06:54:00 -0400] shlant: chef repo*
[2014-07-13 06:55:28 -0400] tomoyuki28jp: shlant: Including sets of berkshelf recipe in my site-cookbooks is nice way. Thanks a lot for yourr help! I appreciate it.
[2014-07-13 06:56:30 -0400] shlant: tomoyuki28jp: i would take a look at these webinars for the basics: http://learn.getchef.com/additional-resources/
[2014-07-13 06:56:51 -0400] shlant: as long as there isn't too much of a language barrier :)
[2014-07-13 06:57:19 -0400] tomoyuki28jp: shlant: thanks a lot!!
[2014-07-13 06:58:45 -0400] shlant: tomoyuki28jp: no problem, glad to help
[2014-07-13 06:58:56 -0400] shlant: have fun learning!
[2014-07-13 06:59:05 -0400] shlant: and a good night
[2014-07-13 06:59:47 -0400] tomoyuki28jp: shlant: good night!
[2014-07-13 08:12:51 -0400] sam_: @shlant yep. permission on directory and sub-dir
[2014-07-13 11:27:46 -0400] Guest39506: Hi guys, this is abhishek. I'm good with ruby. I'm in joining devops soon. The tool we use is chef. i would like to know how to go about learning chef.. Please help me here
[2014-07-13 11:29:19 -0400] AdnanCloud: is this chef as in autoation?
[2014-07-13 11:29:22 -0400] AdnanCloud: automation
[2014-07-13 11:29:55 -0400] Guest39506:  Hi guys, this is abhishek. I'm good with ruby. I'm in joining devops soon. The tool we use is chef. i would like to know how to go about learning chef.. Please help me here
[2014-07-13 11:30:15 -0400] AdnanCloud: download it and try it? found some tutorials on their website
[2014-07-13 11:30:37 -0400] AdnanCloud: im a newbie to it also
[2014-07-13 11:32:36 -0400] AdnanCloud: how have people found managing windows with Chef? Really tirng to understand why would use chef instead of just DSC and Powershell
[2014-07-13 16:10:40 -0400] nd__: I want to use chef-zero to provision a server I need for just some weeks what's the workflow to get all dependencies down into my local cookbooks folder, e.g. with berkshelf?
[2014-07-13 16:15:24 -0400] nd__: Ah, well `berks package` is doing just that
[2014-07-13 16:16:20 -0400] jkeiser: nd__: berks vendor is what I usually use
[2014-07-13 16:16:26 -0400] jkeiser: Haven't tried package
[2014-07-13 16:16:30 -0400] jkeiser: but might work just as well :)
[2014-07-13 16:23:29 -0400] nd__: jkeiser: thanks
[2014-07-13 16:23:41 -0400] jkeiser: np
[2014-07-13 16:28:22 -0400] drrk: AdnanCloud: usually in places they already have a chef infrastructure for Unix and Linux
[2014-07-13 16:57:07 -0400] AdnanCloud: so really Chef is worth considering if you have linux environments also
[2014-07-13 17:00:25 -0400] zts: ISTR Ancestry.com (one of the case studies on the Chef site) is almost entirely running on Windows
[2014-07-13 17:02:46 -0400] AdnanCloud: okay so there must be alot of benefit for this... because really im tring to understand if its worth the learning curve of understanding ruby and then also Chef infrastructure and automation
[2014-07-13 17:03:07 -0400] AdnanCloud: if im getting bang for my buck if that makes sence in comparison to just powershell etc..
[2014-07-13 17:06:06 -0400] drrk: you don't really need to learn ruby much
[2014-07-13 17:06:31 -0400] drrk: it's useful if you want to develop a lot of complex cookbooks, but in general you won't need it
[2014-07-13 17:09:05 -0400] AdnanCloud: ive signed up about ot download.. so i guess you need to be linux savvy regardless since the server is linux based - is there alot of admin required from a linux perspective? I can do a course on it if need be
[2014-07-13 17:09:59 -0400] drrk: or you can pay for hosted chef
[2014-07-13 17:10:11 -0400] drrk: sorry enterprise chef it's called now
[2014-07-13 17:10:25 -0400] AdnanCloud: yea i saw that one.. i thought go for the download for now sinces its free for 5 nodes
[2014-07-13 17:10:38 -0400] drrk: so is the hosted version
[2014-07-13 17:10:43 -0400] AdnanCloud: oh right
[2014-07-13 17:10:50 -0400] drrk: and the open soruce verson is free for any number
[2014-07-13 17:10:54 -0400] AdnanCloud: kool i'll have a look at that
[2014-07-13 17:10:58 -0400] drrk: but has a few less features
[2014-07-13 17:11:10 -0400] drrk: and much less support :)
[2014-07-13 17:11:13 -0400] cwj: AdnanCloud: you might also want to look into powershell dsc, which chef will be shipping integration for "soon"
[2014-07-13 17:11:39 -0400] cwj: i think it will be a pretty good thing for chef windows users
[2014-07-13 17:11:40 -0400] AdnanCloud: cwj: yeaa cheers i have been looking at dsc thats kinda what prompted me to look at Chef
[2014-07-13 17:12:00 -0400] cwj: cool
[2014-07-13 17:12:13 -0400] AdnanCloud: So do you mainly look after linux env?
[2014-07-13 17:12:33 -0400] cwj: yes, but i have been doing a little bit of windows work recently
[2014-07-13 17:12:42 -0400] AdnanCloud: how have you been finding that?
[2014-07-13 17:13:19 -0400] cwj: i think the chef support for windows is vastly improved in the last 12 months or so
[2014-07-13 17:13:54 -0400] cwj: and its also starting to be possible to use tools like test-kitchen for local cookbook development against windows platforms
[2014-07-13 17:14:12 -0400] AdnanCloud: this is the future isn't it really... and i hear chef is working very closely with microsoft... with all this cloud stuff and loads of servers.. this is probably really the way forward... windows guys just learning now
[2014-07-13 17:15:06 -0400] cwj: i think the intention is for windows to be a first-class citizen in terms of chef support, and i'd say thats happening yeah
[2014-07-13 17:16:11 -0400] cwj: AdnanCloud: this might interest you https://www.youtube.com/watch?v=BNV2jZUjKlc
[2014-07-13 17:16:27 -0400] AdnanCloud: so in terms of learning chef... do you think its a very steep learning curve.. i know thats abit rubbish question.. but is it something difficult or mainly just learning the right commands etc.. since its quite declarative
[2014-07-13 17:16:34 -0400] AdnanCloud: kool cheers il hvae a look at that
[2014-07-13 17:17:52 -0400] cwj: learning chef felt pretty steep to me, but i think its become a lot easier. there are many more resources to work from
[2014-07-13 17:18:26 -0400] cwj: i had to learn ruby at the same time
[2014-07-13 17:18:29 -0400] AdnanCloud: are you from a ops background or dev background coming into ops
[2014-07-13 17:18:29 -0400] cwj: etc
[2014-07-13 17:18:39 -0400] cwj: i'm an ops guy
[2014-07-13 17:19:17 -0400] AdnanCloud: okay i see.. so learning programming as a whole and then applying it with chef was the curve
[2014-07-13 17:19:30 -0400] AdnanCloud: so im a ops guy too but really love learning programming
[2014-07-13 17:19:33 -0400] cwj: well you can get by with surprisingly little ruby
[2014-07-13 17:19:38 -0400] cwj: for simple stuff
[2014-07-13 17:19:54 -0400] cwj: but i was also learning chef just after 0.7.0 was released
[2014-07-13 17:20:14 -0400] AdnanCloud: i looked at ruby briefly... looked like quite a simplistic language although OO so it must have its depth.. but syntax wise
[2014-07-13 17:20:33 -0400] cwj: so i think there have been a lot of major improvements since then, and there are free learning materials, e.g. learnchef
[2014-07-13 17:21:06 -0400] cwj: prior to learning chef i pretty much wrote only shell scripts
[2014-07-13 17:21:33 -0400] cwj: i couldn't find the momentum to learn anything else because i was getting by with what i knew
[2014-07-13 17:23:32 -0400] AdnanCloud: Coming from a windows background i didnt write anything until Powershell came out lol everything was click click click lol
[2014-07-13 17:24:04 -0400] cwj: ah yeah of course
[2014-07-13 17:24:12 -0400] nbarnett: anyone know the command to uninstall chef-client on centos ?
[2014-07-13 17:25:48 -0400] AdnanCloud: sorry nup newbie here lol
[2014-07-13 17:27:28 -0400] cwj: nbarnett: typically chef would be installed from a package, so i presume you'd be able to manage it with rpm
[2014-07-13 17:43:01 -0400] PsionTheory: ok. thanks
[2014-07-13 17:43:34 -0400] PsionTheory: friends convinced me that chef is better than puppet, you guys agree ?
[2014-07-13 17:45:29 -0400] PsionTheory: views chef has having more computational intellience (turing machine level sophistication)
[2014-07-13 22:02:08 -0400] shlant: ohai sunday chefs! is there a way to handle searched in a recipe returning nothing? like if it doesn't find a node and I want it to be ok with that
[2014-07-13 22:02:25 -0400] shlant: or else I get nilclass
[2014-07-13 22:05:08 -0400] shlant: such as not having a memcached server here: https://gist.github.com/MrMMorris/a7cfea75c4224a40777d
[2014-07-13 22:06:36 -0400] kjayaraman: Hey guys i am trying to use encryption for the databag but during the client run on the chef node, it says bad decrypt. Can someone help
[2014-07-13 22:07:25 -0400] gchristensen: shlant: what error do you get there?
[2014-07-13 22:07:33 -0400] kjayaraman: But when i edit the value of the databag using the same key from the workstation, it works fine
[2014-07-13 22:08:19 -0400] kjayaraman: Chef::EncryptedDataBagItem::DecryptionFailure?[0m
[2014-07-13 22:08:19 -0400] kjayaraman: ---------------------------------------------?[0m
[2014-07-13 22:08:19 -0400] kjayaraman: Error decrypting data bag value: 'bad decrypt'. Most likely the provided key is incorrect?[0m
[2014-07-13 22:09:28 -0400] kjayaraman: Is it regarding the file permission of the key file ?
[2014-07-13 22:10:15 -0400] kjayaraman: as of now the permissions set to the key file are 0644
[2014-07-13 22:11:11 -0400] shlant: gchristensen: "undefined method `[]' for nil:NilClass" on the ec2 hostname because I don't have a memcached server
[2014-07-13 22:12:45 -0400] gchristensen: shlant: please pastebin your exact error
[2014-07-13 22:13:57 -0400] shlant: gchristensen: https://gist.github.com/MrMMorris/3b475dabf6c8700e53f7
[2014-07-13 22:14:23 -0400] gchristensen: so shlant, search().each won't run on anything if you don't have anything in that role
[2014-07-13 22:14:29 -0400] gchristensen: because you don't have one to run that code for
[2014-07-13 22:18:38 -0400] shlant: hmm
[2014-07-13 22:18:49 -0400] shlant: I winder thwy i'm getting that
[2014-07-13 22:19:01 -0400] gchristensen: shlant: my bet is ['ec2'] doesn't have what you think it has
[2014-07-13 22:19:17 -0400] gchristensen: shlant: you could add puts node['ec2'].inspect
[2014-07-13 22:21:11 -0400] shlant: gchristensen: I'lll try that
[2014-07-13 22:23:39 -0400] kjayaraman: @all can anyone help me with the problem i am facing in encrypting data bags ?
[2014-07-13 22:44:10 -0400] shlant: kjayaraman: not unless you ask the question ;)
[2014-07-13 22:48:29 -0400] anthonyacquanita: any good stories surrounding some cassandra cookbooks
[2014-07-13 22:48:31 -0400] kjayaraman: @shlant i already did
[2014-07-13 22:48:48 -0400] kjayaraman:  i am trying to use encryption for the databag but during the client run on the chef node, it says bad decryp
[2014-07-13 22:48:51 -0400] anthonyacquanita: the general one doesn't have centos support
[2014-07-13 22:49:04 -0400] kjayaraman: Chef::EncryptedDataBagItem::DecryptionFailure?[0m
[2014-07-13 22:49:04 -0400] anthonyacquanita: the auto deploy one is AWS only'ish
[2014-07-13 22:49:05 -0400] kjayaraman: <kjayaraman> ---------------------------------------------?[0m
[2014-07-13 22:49:06 -0400] kjayaraman: <kjayaraman> Error decrypting data bag value: 'bad decrypt'. Most likely the provided key is incorrect?[0m
[2014-07-13 22:53:32 -0400] shlant: kjayaraman: can you post the code it is referring to ?
[2014-07-13 22:54:10 -0400] kjayaraman: secrets = Chef::EncryptedDataBagItem.load("tve_password_bag", "tve_passwords_item","/etc/chef/keys/tve_passwordbag_key")
[2014-07-13 22:54:41 -0400] kjayaraman: @shlant secrets = Chef::EncryptedDataBagItem.load("tve_password_bag", "tve_passwords_item","/etc/chef/keys/tve_passwordbag_key")
[2014-07-13 22:54:45 -0400] gchristensen: kjayaraman: have you verified the contents of the file? I generally would say, they're right, ythe key is probably invalid
[2014-07-13 22:56:00 -0400] kjayaraman: @gchristensen When i update the data bag value using the command knife data bag edit tve_password_bag tve_passwords_item --secret-file "C:\tve_passwordbag_key", it works
[2014-07-13 22:56:26 -0400] kjayaraman:  gchristensen Which means the key is right.
[2014-07-13 22:56:38 -0400] gchristensen: kjayaraman: no, it just means that the files are named roughly the same thing
[2014-07-13 22:56:48 -0400] gchristensen: maybe compare them via md5? maybe line endings is causing issues?
[2014-07-13 22:58:09 -0400] kjayaraman: gchristensen - When i try to update the databag i think it decrypts the information using the key i supplied. Is that right
[2014-07-13 22:58:55 -0400] gchristensen: yes
[2014-07-13 22:59:15 -0400] gchristensen: but if you're going windows -> linux there could be EOL issues or maybe the files you think are identical aren't
[2014-07-13 23:00:19 -0400] shlant: kjayaraman: yea
[2014-07-13 23:00:32 -0400] shlant: I always get nabbed by whitespace and newlines
[2014-07-13 23:00:34 -0400] kjayaraman: shlant gchristensen got that. Perhaps, i will try creating a key in linux and scp it to my node and then check.
