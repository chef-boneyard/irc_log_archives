[2014-04-05 00:08:22 -0400] a13x212: knife configure -i throws this error, ERROR: Ohai::Exceptions::DependencyNotFound: Can not find a plugin for dependency os
[2014-04-05 01:04:13 -0400] delinquentme: recipe[rvm::system] << for a namespaced cookbook like this ... what should the dir name containing that code be?
[2014-04-05 01:04:17 -0400] delinquentme: just " rvm " ??
[2014-04-05 01:05:48 -0400] stormerider: delinquentme: it would be rvm/recipes/system.rb, typically, but the top directory doesn't really matter per-se. berkshelf stores it based on version (ie, rvm-x.y.z)
[2014-04-05 01:06:30 -0400] stormerider: and if you're doing a repo on say github, then naming it something like chef-rvm would be common, too.
[2014-04-05 01:11:17 -0400] delinquentme: Ok so cloned a cookbook from git,  $ knife upload chef-rvm # => successful , added " recipe[rvm::system] " to the run list  ... then went to bootstrap and it gives this error:   The following cookbooks are required by the client but don't exist on the server: localhost * rvm
[2014-04-05 01:29:14 -0400] a13x212: delinquentme, shouldn't it be knife cookbook upload chef-rvm?
[2014-04-05 01:29:47 -0400] delinquentme: a13x212, yeah thats what I did :D sorreh
[2014-04-05 02:35:12 -0400] drag00n__: anyone have any luck with the knife azure plugin
[2014-04-05 02:35:27 -0400] drag00n__: getting a weird error Unable to activate knife-azure-1.2.2, because rubygems-bundler-1.4.3 conflicts with rubygems-bundler (~> 1.0.3) (Gem::LoadError)
[2014-04-05 03:21:04 -0400] a13x212: anyon seen this on the ntp cookbook? FATAL: Cookbook file recipes/windows_client.rb has a ruby syntax error:
[2014-04-05 04:26:14 -0400] delinquentme: https://github.com/fnichol/chef-rvm  So how do I know which install method I want to use?
[2014-04-05 04:29:14 -0400] coderanger: delinquentme: None, do not use rvm on servers
[2014-04-05 04:29:26 -0400] coderanger: at a minimum use rbenv, but really, don't
[2014-04-05 04:29:29 -0400] coderanger: What OS are you using?
[2014-04-05 04:29:38 -0400] delinquentme: ubuntu
[2014-04-05 04:29:43 -0400] coderanger: Use poise-ruby
[2014-04-05 04:29:54 -0400] delinquentme: this is a cookbook name?
[2014-04-05 04:30:12 -0400] coderanger: Kind of, there is a cookbook, but its just an apt repo with pre-built ruby in it
[2014-04-05 05:13:19 -0400] brucelee: coderanger: sup
[2014-04-05 07:23:24 -0400] hakunin: is it me or knife search node "tags:foo" is not working
[2014-04-05 07:23:25 -0400] hakunin: just returns all nodes
[2014-04-05 07:24:03 -0400] hakunin: chef server does the same thing
[2014-04-05 07:29:26 -0400] hakunin: if tag exists on any node, returns all nodes, if tag doesn't exist anywhere, returns zero
[2014-04-05 16:04:54 -0400] Splandide: Hey guys.  I am going through my very first chef install and have lost the thread a little.  Could use some help.
[2014-04-05 16:05:14 -0400] Splandide: I am essentially following the process described at http://docs.opscode.com/install_workstation.html  but my first workstation is Windows.
[2014-04-05 16:05:48 -0400] Splandide: I installed the client on the workstation using the MSI, but I am unsure where to rejoin the instructions at http://docs.opscode.com/install_workstation.html
[2014-04-05 16:06:36 -0400] Splandide: running knife configure --initial seems to be expecting that admin.pem will be present on the client node
[2014-04-05 16:08:09 -0400] Splandide: so perhaps I should rejoin the instructions at the step "Get the .pem files and knife.rb files"
[2014-04-05 16:12:00 -0400] jidar: sounds close enough
[2014-04-05 16:17:37 -0400] Splandide: OK, I think that worked.
[2014-04-05 16:17:47 -0400] Splandide: Is it normal that I should need to share admin.pem to the workstation?
[2014-04-05 16:18:04 -0400] Splandide: from the server to the node about the be managed?
[2014-04-05 16:41:42 -0400] Splandide: wow i am getting my butt kicked trying to get the chef client running on windows
[2014-04-05 16:43:16 -0400] Splandide: after runing the client installer MSI, I dont really where to go next.  is there documentation to describe that?
[2014-04-05 16:44:55 -0400] Splandide: I installed the admin.pem from the server, and 'knife client list' now returns data from the server.  but chef-client doesnt run - missing a client configuration file.
[2014-04-05 16:45:15 -0400] Splandide: Do I need to build that file, or is it normally autogenerated?
[2014-04-05 16:45:26 -0400] Splandide: (or should I even be trying to run chef-client?)
[2014-04-05 17:32:07 -0400] darkside_: any bitbucket + jira orgs in here? my company has standardized on atlassian and just wondering opinions on bb
[2014-04-05 17:38:26 -0400] darkside_: i think i'll probably setup a github org for chef stuff and use bitbucket for private repos
[2014-04-05 17:38:30 -0400] darkside_: seems logical
[2014-04-05 17:39:37 -0400] jidar: we had a jira/conf stack but we didn't use bitbucket
[2014-04-05 17:39:53 -0400] jidar: not really sure what a git repo matters much
[2014-04-05 17:44:39 -0400] darkside_: i'm just trying to spread the adoption of git at my company and github's limit on private repos is really limiting, imo
[2014-04-05 17:46:42 -0400] jidar: I personally just use a git user with a bunch of ssh keys (ie, no passwords after its setup) on a linux server
[2014-04-05 17:47:13 -0400] jidar: creating a new git repo is the following : git init --bare foo.git (iirc)
[2014-04-05 17:47:20 -0400] darkside_: of course
[2014-04-05 17:47:23 -0400] darkside_: ;)
[2014-04-05 19:44:07 -0400] sarkis: hey all, so we have a few different chef repos ... i am starting to think this is a bad idea
[2014-04-05 19:44:16 -0400] sarkis: do you normally recommend a team have just 1 chef repo?
[2014-04-05 19:44:41 -0400] sarkis: i see a lot of copy/paste between the different repos, i.e. they all have a server role  (default role to apply base)
[2014-04-05 19:45:23 -0400] sarkis: i see a lot of cons to the way we are headed and very little pros (if any), wondering what everyones thoughts are that have been past this point :)
[2014-04-05 19:46:48 -0400] jidar: sarkis: there is a bit of debate over that subject in here, I personally think 1 is the right way to do it with liberal use of branches, etc.
[2014-04-05 19:47:09 -0400] sarkis: whats a con of having just 1 repo
[2014-04-05 19:47:26 -0400] jidar: I assume its alot more chatty for devs?
[2014-04-05 19:47:48 -0400] jidar: it may be harder to recover in case of failure
[2014-04-05 19:47:56 -0400] jidar: really not sure why people use seperate repos
[2014-04-05 19:48:01 -0400] sarkis: hmmm yea
[2014-04-05 19:48:09 -0400] sarkis: i don't think this is a good idea...
[2014-04-05 19:49:20 -0400] coderanger: The reason to use separate repos is because each cookbook is its own piece of software and should be treated as such
[2014-04-05 19:49:24 -0400] coderanger: it is an abstraction boundary
[2014-04-05 19:50:11 -0400] sarkis: hmm, but the repo is a collection of cookbooks no?
[2014-04-05 19:50:24 -0400] coderanger: It shouldn't be :)
[2014-04-05 19:50:27 -0400] sarkis: i know the cookbooks should be their own repo, but i was refering to like the repo for a company
[2014-04-05 19:50:42 -0400] coderanger: Why would you have a single "repo for a company"?
[2014-04-05 19:50:54 -0400] sarkis: well 1 reason, site cookbooks?
[2014-04-05 19:51:19 -0400] sarkis: also, would have the ability to have roles in 1 place
[2014-04-05 19:51:35 -0400] sarkis: if i have multiple repos, how would i handle something like the "base" role
[2014-04-05 19:51:37 -0400] coderanger: 1) don't use roles
[2014-04-05 19:51:47 -0400] coderanger: 2) site cookbooks are just like anything else and belong in their own repos
[2014-04-05 19:52:06 -0400] sarkis: hmm no roles huh?
[2014-04-05 19:52:19 -0400] coderanger: Indeed, make a cookbook called "company-base" and use that :)
[2014-04-05 19:53:11 -0400] sarkis: i guess just put everything in the nodes then? instead of having roles?
[2014-04-05 19:53:28 -0400] coderanger: No, put it in cookbooks
[2014-04-05 19:53:48 -0400] coderanger: Now that they fixed include_recipe in 11.10, there is minimal reason to use actual roles anymore
[2014-04-05 19:54:35 -0400] sarkis: hmm
[2014-04-05 19:54:48 -0400] sarkis: coderanger: how do i pass params to cookbooks though?
[2014-04-05 19:54:58 -0400] coderanger: Not sure what you mean
[2014-04-05 19:54:59 -0400] sarkis: we have been using role/node to do that right now
[2014-04-05 19:55:11 -0400] coderanger: Use other cookbooks, wrapper cookbooks :)
[2014-04-05 19:55:24 -0400] sarkis: so like the hostname of a box
[2014-04-05 19:55:41 -0400] sarkis: how do i tell my server cookbook that this nodes hostname should be ->
[2014-04-05 19:55:51 -0400] coderanger: You are doing that with roles now?
[2014-04-05 19:55:56 -0400] coderanger: That would mean one role per machine
[2014-04-05 19:56:22 -0400] sarkis: with nodes
[2014-04-05 19:56:23 -0400] coderanger: Hostname is generally something assigned by the provisioning layer, not Chef
[2014-04-05 19:56:26 -0400] sarkis: sorry with node
[2014-04-05 19:56:29 -0400] sarkis: just double checked
[2014-04-05 19:58:25 -0400] coderanger: Heh, still, not something I would do with Chef
[2014-04-05 19:59:42 -0400] alexbst: roles == good parallel to purpose/auto scaling group names.. I recommend they are unique and you only ever assign one per node.
[2014-04-05 19:59:59 -0400] coderanger: alexbst: Except don't use roles, use cookbooks
[2014-04-05 20:06:03 -0400] sarkis: hmm
[2014-04-05 20:07:25 -0400] sarkis: coderanger: so you recommend the "berkshelf way"?
[2014-04-05 20:07:30 -0400] sarkis: we actually do use berkshelf
[2014-04-05 20:07:31 -0400] coderanger: indeed
[2014-04-05 20:07:43 -0400] sarkis: im trying to get a better handle on things.. im coming from puppet :P
[2014-04-05 20:07:51 -0400] coderanger: Though with my own additions in some places :)
[2014-04-05 20:07:58 -0400] coderanger: mostly around how to write good cookbooks
[2014-04-05 20:12:21 -0400] viglesias: coderanger: thanks for all the pointers over the last month, ive got things working like a charm
[2014-04-05 20:12:29 -0400] coderanger: :-)
[2014-04-05 20:12:34 -0400] viglesias: 12 minutes to a 10 node eucalyptus install
[2014-04-05 20:12:39 -0400] viglesias: amazing
[2014-04-05 20:13:18 -0400] sarkis: coderanger: you write a nice blogpost on the berkshelf way? :)P
[2014-04-05 20:13:36 -0400] coderanger: sarkis: Hmm?
[2014-04-05 20:14:04 -0400] sarkis: oh i was asking if u wrote something on the subject
[2014-04-05 20:17:26 -0400] coderanger: Ahh no
[2014-04-05 20:17:33 -0400] coderanger: I'm working on my ChefConf talk right now though
[2014-04-05 20:17:36 -0400] coderanger: which is basically this
[2014-04-05 20:17:47 -0400] coderanger: Patterns for reusable cookbooks
[2014-04-05 20:17:49 -0400] sarkis: oh nice, i should come out to chefconf
[2014-04-05 20:18:11 -0400] sarkis: sounds like ill be there if i can convince my boss to send me :)
[2014-04-05 20:18:20 -0400] sarkis: * at the talk
[2014-04-05 20:18:39 -0400] sarkis: anddddddddddddddddddddddd nvm, i will be in the Carribeans :(
[2014-04-05 20:18:52 -0400] sarkis: april 15 boo... hopefully they stream chefconf?
[2014-04-05 20:19:14 -0400] coderanger: I don't know about streaming, but the talks will be recorded
[2014-04-05 20:20:01 -0400] darkside_: chefconf or carribean? hmm, tough
[2014-04-05 20:20:03 -0400] darkside_: :p
[2014-04-05 20:20:20 -0400] sarkis: haha
[2014-04-05 22:06:39 -0400] seabassguitar: Hi, everyone. Is it normal for a freshly provisioned Ubuntu server to require a restart?
[2014-04-05 22:07:00 -0400] coderanger: seabassguitar: Require, no. Request, yes.
[2014-04-05 22:07:18 -0400] coderanger: seabassguitar: Kernel updates are pretty frequent
[2014-04-05 22:07:46 -0400] seabassguitar: Sorry, yeah, request. Is there a built-in to automate that restart at the end?
[2014-04-05 22:07:57 -0400] seabassguitar: *built-in way
[2014-04-05 22:08:02 -0400] coderanger: seabassguitar: No, most people don't bother
[2014-04-05 22:08:21 -0400] coderanger: seabassguitar: Just make a new VM image and build new servers when you want to change kernel
[2014-04-05 22:09:03 -0400] seabassguitar: great! thanks, coderanger!
[2014-04-05 23:24:05 -0400] rdenis: is there a chef server enterprise available for smartos ?
[2014-04-05 23:24:52 -0400] coderanger: rdenis: The only published builds are for Ubuntu and RHEL, but if you talk to Opscode they might build you a one-off
[2014-04-05 23:25:13 -0400] coderanger: rdenis: The client packages are published for solaris in all its various flavors
[2014-04-05 23:26:03 -0400] rdenis: coderanger: thank you
