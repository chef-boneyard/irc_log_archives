[2014-04-17 01:41:50 -0400] hailwood: Hi guys, if I have my code deploying to #{deploy[:deploy_to]} (which creates current/app/storage etc) and I want to chmod #{deploy[:deploy_to]}/current/app/storage (and all child directories/files) to be writeable by the webserver what's the best way to do this?
[2014-04-17 02:20:56 -0400] seme: hi guys...
[2014-04-17 02:24:17 -0400] hailwood: Hi seme
[2014-04-17 02:24:52 -0400] seme: how do you guys like using chef to manage windows systems?
[2014-04-17 02:25:28 -0400] hailwood: I've never done it, I'm only using chef as part of AWS opsworks
[2014-04-17 02:25:33 -0400] seme: I've been playing with salt and I like it in general but it hasn't been very cooperative for managing windows systems
[2014-04-17 02:25:52 -0400] seme: hailwood: interesting
[2014-04-17 02:26:12 -0400] seme: any experience using it to manage cisco switches, routers, etc.?
[2014-04-17 03:00:20 -0400] acanthus: I was recently ejected for making the parakeets' lives miserable, looks like that's about to happen again
[2014-04-17 03:00:32 -0400] savant: wat
[2014-04-17 03:01:07 -0400] acanthus: I kept sticking my hand in the cage and trying to grab them
[2014-04-17 03:02:56 -0400] acanthus: Sentient knows
[2014-04-17 03:03:10 -0400] acanthus: Setient *
[2014-04-17 03:03:51 -0400] acanthus: He always knew
[2014-04-17 03:11:33 -0400] acanthus: So what's new with chef
[2014-04-17 03:11:38 -0400] acanthus: Anything cool
[2014-04-17 03:14:51 -0400] acanthus: Ugh thinking about going back to work makes me sad, never anything interesting
[2014-04-17 03:15:03 -0400] acanthus: And if there is its short lived
[2014-04-17 03:33:16 -0400] acanthus: There's nothing left to do except talk about cheese
[2014-04-17 03:33:27 -0400] seme: I like gouda
[2014-04-17 03:34:01 -0400] acanthus: I like smoked cheeses
[2014-04-17 03:34:09 -0400] acanthus: I may go buy some in a min
[2014-04-17 03:34:29 -0400] seme: nice
[2014-04-17 03:34:30 -0400] seme: :)
[2014-04-17 03:34:43 -0400] acanthus: I guess if I had a grill I could smoke my own cheeses but I wonder for how long
[2014-04-17 03:34:50 -0400] acanthus: I've only heard of people doing this
[2014-04-17 03:34:57 -0400] acanthus: I'll Google really quick
[2014-04-17 03:35:46 -0400] seme: ha... grilling cheese
[2014-04-17 03:35:49 -0400] seme: I would never have though
[2014-04-17 03:35:51 -0400] seme: thought
[2014-04-17 03:37:36 -0400] acanthus: Using a smoker
[2014-04-17 03:37:41 -0400] acanthus: Seems to be the way
[2014-04-17 03:40:04 -0400] acanthus: You have to let it chill after the smoking takes place though
[2014-04-17 03:40:53 -0400] acanthus: To cure more or less
[2014-04-17 03:41:19 -0400] acanthus: Less for preservation more for delicious smokey flavor that's consistent throughout the cheese
[2014-04-17 03:43:27 -0400] seme: you have to let me know how it works out
[2014-04-17 03:44:54 -0400] acanthus: I think I'm actually going to settle for a bagel with cream cheese because I don't really wanna walk half a mile to the grocery store tonight
[2014-04-17 03:45:46 -0400] acanthus: I'm out of good ideas for things to hack on
[2014-04-17 03:45:50 -0400] acanthus: http://stupidpaige.blogspot.com/2014/04/hacking-my-nexus-5s-stock-firmware.html?m=1
[2014-04-17 03:46:02 -0400] acanthus: I have the hexagon SDK but its windows only
[2014-04-17 03:47:59 -0400] acanthus: And also I still want the QuRT docs and can't find anyone who has access to them at the moment
[2014-04-17 03:47:59 -0400] acanthus: So I'm like well wtf do I do now apply for shitty ass .net programming jobs or frustrating devops work
[2014-04-17 03:48:00 -0400] acanthus: So I can work with frustrating people
[2014-04-17 03:48:00 -0400] acanthus: On things that aren't particularly interesting just because I need money
[2014-04-17 03:48:16 -0400] seme: any good mirrors to download chef... this thing is taking forever
[2014-04-17 03:48:59 -0400] acanthus: Is it coming from git?
[2014-04-17 03:49:43 -0400] acanthus: N/m
[2014-04-17 03:51:31 -0400] acanthus: Anybody got some short term contracts I could do telcommute
[2014-04-17 03:51:41 -0400] acanthus: I don't want to work full time I hate people
[2014-04-17 04:02:09 -0400] acanthus: Starting now I need new recruits for project mayhem
[2014-04-17 04:03:27 -0400] c_t: At lat, a computer for the rest of us: http://www.mywowcomputer.com/
[2014-04-17 04:03:35 -0400] c_t: *last
[2014-04-17 04:03:36 -0400] c_t: gah
[2014-04-17 04:03:37 -0400] acanthus: You were kicked from #gentoo by DrEeevil [the first rule of project mayhem is, no one talks about project mayhem, SIR!]
[2014-04-17 04:04:43 -0400] acanthus: C_t Qualcomm has their own dev tablet its pretty bad ass
[2014-04-17 04:06:22 -0400] acanthus: Its like actually Qualcomm branded
[2014-04-17 04:07:12 -0400] acanthus: I think this is it https://www.google.com/url?sa=t&source=web&rct=j&ei=TVNPU6WnK4SgyAT5toKwAQ&url=https://developer.qualcomm.com/mobile-development/development-devices/snapdragon-mobile-development-platform-mdp&cd=2&ved=0CCkQFjAB&usg=AFQjCNGTB991cYrNhvnrRWmWfzAxi7nKeg&sig2=mM2i24ZPZ-C2SimVggGUNw
[2014-04-17 04:08:45 -0400] acanthus: Yeah wtf is up with this
[2014-04-17 04:09:57 -0400] acanthus: Anyway its called "Qualcomm mdp" ffr
[2014-04-17 04:10:27 -0400] acanthus: And it looked like something I would want last time I checked though it'd be nice if it had a wacom digitizer too
[2014-04-17 04:10:50 -0400] acanthus: Everything else about it was nice though
[2014-04-17 04:12:56 -0400] AndChat|428976: Apparently they have a phone too which maybe I wish I had considered before buying this nexus 5
[2014-04-17 04:54:33 -0400] seme: hey guys... I'm running knife configure --initial and I get an error ERROR: Ohai::Exceptions::DependencyNotFound: Can not find a plugin for dependency os
[2014-04-17 04:54:40 -0400] seme: any idea what I did wrong... it is on centos 6.5
[2014-04-17 04:54:43 -0400] seme: fresh install
[2014-04-17 05:04:21 -0400] seme: got it
[2014-04-17 05:05:01 -0400] seme: had to edit the /opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.2/lib/chef/knife/configure.rb file and add o.load_plugins on line 156
[2014-04-17 05:05:03 -0400] seme: :)
[2014-04-17 05:05:06 -0400] seme: https://github.com/opscode/chef/pull/1374/files
[2014-04-17 05:05:13 -0400] seme: in case anyone else runs into the same issue
[2014-04-17 05:12:00 -0400] acanthus: I wonder how many ants I have in my kitchen
[2014-04-17 05:12:17 -0400] seme: arggg when I run the knife configure --initial command it is looking for the USER.pem proviate key... whats the deal... I can't find one on the chef server
[2014-04-17 05:12:24 -0400] seme: and it isn't creating one on the client
[2014-04-17 05:12:33 -0400] seme: do I have to create one manually using openssl or something?
[2014-04-17 05:12:39 -0400] acanthus: No
[2014-04-17 05:12:59 -0400] acanthus: I can't remember how to get around that but there's a way
[2014-04-17 05:13:11 -0400] acanthus: I had that problem too
[2014-04-17 05:13:29 -0400] seme: nice
[2014-04-17 05:13:38 -0400] seme: there is a chef common errors page
[2014-04-17 05:13:47 -0400] seme: can't believe this is so common
[2014-04-17 05:13:54 -0400] seme: just want a nice clean install ;)
[2014-04-17 05:14:26 -0400] acanthus: I'm useless to the computers
[2014-04-17 05:14:35 -0400] acanthus: All I have are my ants
[2014-04-17 05:14:42 -0400] acanthus: They're my friends
[2014-04-17 05:14:56 -0400] acanthus: Lol
[2014-04-17 05:15:44 -0400] seme: nice
[2014-04-17 05:17:49 -0400] acanthus: http://m.youtube.com/watch?v=1NAlCvG4EmM
[2014-04-17 05:23:02 -0400] acanthus: I want to file a lawsuit and get a huge settlement
[2014-04-17 05:37:40 -0400] acanthus: Chickens everywhere here pecking at the ground and clucking
[2014-04-17 05:43:35 -0400] seme: should I install teh chef workstation items on teh chef server ?... for instance when I think I should be able to run knife bootstrap to add chef to another server.  Shouldn't that happen from the chef server?
[2014-04-17 05:47:36 -0400] _pingu: just learn chef and try to understand attributes:  cookbooks/my-cookbook/attributes/default.rb contains: node.default["company"] = "XY"    than i start chef-shell -s -c chef-config.rb -j nodes/vm1.json   how can i print out the attribute now? attributes_mode and then node.comp says undefined.
[2014-04-17 05:48:02 -0400] _pingu: s/node.comp/node.company/
[2014-04-17 05:56:05 -0400] seme: I see
[2014-04-17 05:56:18 -0400] seme: the chef client is teh place where you run the knife commands...
[2014-04-17 05:56:46 -0400] seme: can the chef server also be the chef client or is that not recommended?
[2014-04-17 06:07:39 -0400] _pingu: cookbooks/my-cookbook/attributes/default.rb contains: node.default["company"] = "XY"    than i start chef-shell -s -c chef-config.rb -j nodes/vm1.json   how can i print out the attribute now? attributes_mode and then node["company"] says : =>nil
[2014-04-17 06:48:26 -0400] mhenrixon: fetch value from server using bash and reuse in recipe... how do I do that?
[2014-04-17 07:07:47 -0400] Embalmed: i was under the impression that a file in   cookbooks/blah/attributes/banana.rb    would be loaded only with cookbooks/blah/recipes/banana.rb      but it seems like i'm having bleedover, so is this not the case?
[2014-04-17 07:23:34 -0400] seme: when I do a knife client show chef-validator I get ERROR: bad gateway... any idea why?
[2014-04-17 07:26:33 -0400] _pingu: guess the guys from opscode are still sleeping. :-)
[2014-04-17 07:26:40 -0400] seme: :)
[2014-04-17 07:26:47 -0400] seme: well it is 3:30am where I am
[2014-04-17 07:28:59 -0400] seme: damnit
[2014-04-17 07:29:02 -0400] seme: ssl validation again
[2014-04-17 07:29:06 -0400] seme: thats killing me
[2014-04-17 07:30:02 -0400] _pingu: seme: maybe we should ask again in  some hours.
[2014-04-17 07:31:06 -0400] seme: :)
[2014-04-17 07:31:20 -0400] seme: nah... I'm just whining... I'll figure it out
[2014-04-17 07:31:22 -0400] seme: :)
[2014-04-17 07:31:36 -0400] seme: at least now I know what hte issue is
[2014-04-17 07:31:47 -0400] seme: I need to understand how ssl cert validation is handled better
[2014-04-17 07:31:52 -0400] seme: I'm reading some docs on it now :)
[2014-04-17 07:32:14 -0400] seme: kind of wish setting up connections between the nodes was as easy as it is in salt...
[2014-04-17 07:33:09 -0400] bugoff_: soit /7
[2014-04-17 07:33:32 -0400] shadylog: seme: I'm actually not loving how salt is handling masterless SLS tree's... no packaging model of seperate SLS tree's etc..
[2014-04-17 07:33:40 -0400] seme: yeah
[2014-04-17 07:33:56 -0400] seme: I agree... I am looking at alternatives because I didn't like its windows support
[2014-04-17 07:34:02 -0400] seme: I guess there are no silver bullets
[2014-04-17 07:34:03 -0400] seme: :)
[2014-04-17 07:34:07 -0400] shadylog: seme: chef has a great package system which is straightforward
[2014-04-17 07:34:20 -0400] seme: coo
[2014-04-17 07:34:21 -0400] seme: cool
[2014-04-17 07:34:41 -0400] seme: this is my first night trying to learn it... definitely not working seamlessly
[2014-04-17 07:34:46 -0400] seme: but I'll get it
[2014-04-17 07:35:08 -0400] shadylog: full disclosure: using chef/ansible/salt/puppet/docker here...
[2014-04-17 07:35:13 -0400] shadylog: I have no favourite
[2014-04-17 07:36:14 -0400] shadylog: though I see a future in publishing complex server configs as a commodity. Chef cookbooks/puppet modules/Ansible galaxy/Salt ???
[2014-04-17 07:36:31 -0400] shadylog: starting an hadoop cluster should not be difficult
[2014-04-17 07:36:58 -0400] seme: ok I have to get at least 3 hours sleep or I'm never going to be able to make it in the morning
[2014-04-17 07:37:00 -0400] seme: :)
[2014-04-17 07:37:02 -0400] seme: nite guys
[2014-04-17 07:37:06 -0400] shadylog: good night :)
[2014-04-17 07:53:43 -0400] eft_: Hello
[2014-04-17 07:55:06 -0400] eft_: I'd like to make a quick sanity check : I'm trying to use a cookbook that requires the mysql::ruby recipes. On the mysql cookbook on github, I do not see that recipe in master, however, I see it in the latest release. To make my cookbook work, I had to specify in Berkshelf the commit ID of the latest mysql release. Is there another way to do this ? Thanks.
[2014-04-17 07:55:48 -0400] _pingu: eft_: the guys from opscode are still sleeping. ;-)
[2014-04-17 07:57:00 -0400] eft_: What ?! No 24x7 support ? :)
[2014-04-17 07:58:06 -0400] _pingu: guess no. wait since several hours for support... . opscode is in seattle. don't know which time it is there. guess it's night... .
[2014-04-17 08:02:56 -0400] eft_: Ok thanks. I'm new to all this, would you know any forum or mailing list where I could ask this and get feedback ?
[2014-04-17 08:03:14 -0400] _pingu: yes. one moment
[2014-04-17 08:04:41 -0400] _pingu: eft_: http://lists.opscode.com/sympa  but i didn't try it out until now..
[2014-04-17 08:20:46 -0400] eft_: I will try my luck with chef@lists.opscode.com thanks _pingu
[2014-04-17 08:45:54 -0400] aujt74: eft_: The mysql cookbook recently underwent a complete rewrite as of v5.0.0. v4.1.2 will be the last version that included a mysql::ruby recipe. For v5.0.0+ that was extracted out into a new mysql-chef_gem cookbook.
[2014-04-17 08:50:41 -0400] eft_: Sweet. Thanks ! I now understand better why I could only fetch it from the release. I'll look at the mysql-chef_gem cookbook see if I can simply change the dependency.
[2014-04-17 10:04:50 -0400] josa2: hello
[2014-04-17 10:05:59 -0400] josa2: I have a question for the chef experts. I have a data bag with a lot of apache environment variables. Can I make that dynamic and pass them to web_app? I can't seem to get it to pass a hash from a data_bag_item into @params..
[2014-04-17 10:18:47 -0400] asdf_: Anyone else having a problem with the chef-client service dieing after the first run when bootstrapping?
[2014-04-17 10:19:16 -0400] asdf_: INFO: SIGTERM received, exiting gracefully
[2014-04-17 10:19:16 -0400] asdf_: [2014-04-17T10:14:25+00:00] FATAL: Chef is already running pid 17656
[2014-04-17 10:48:04 -0400] threescoops: asdf_: yeah, I've seen it with Ubuntu 12.04, chef 10.x
[2014-04-17 10:48:58 -0400] asdf_: Any solutions?
[2014-04-17 10:50:59 -0400] threescoops: asdf_: I don't think I've gotten to the bottom of it, or if I have, I've slept since then and forgotten all about it.
[2014-04-17 10:51:31 -0400] asdf_: Are you manually jumping on the box and starting the service? (At which point it seems to run OK)
[2014-04-17 10:53:20 -0400] threescoops: Been busy hacking and slashing dead or broken recipes for chef11 and other fixes, so I've lost track of little things like that. IIRC it's not on every bootstrap.
[2014-04-17 10:53:52 -0400] threescoops: asdf_: either knife ssh or direct ssh unfortunately, yes.
[2014-04-17 10:54:18 -0400] asdf_: gah, OK ta
[2014-04-17 10:54:46 -0400] threescoops: It's not been enough of an issue that I've spent any time digging into it recently
[2014-04-17 11:34:51 -0400] bgupta: pldance
[2014-04-17 12:30:16 -0400] _pingu: cookbooks/my-cookbook/attributes/default.rb contains: node.default["company"] = "XY"    than i start chef-shell -s -c chef-config.rb -j nodes/vm1.json   how can i print out the attribute now? attributes_mode and then node["company"] says : =>nil
[2014-04-17 12:39:44 -0400] _pingu: no one?
[2014-04-17 13:17:57 -0400] vegardx: I'm using knife-backup to migrate to a new chef-server, but the pubic keys are not being backed up. I read that knife ec should solve that problem, but I'm having issues getting it to work. Are there any workarounds to this?
[2014-04-17 13:18:49 -0400] vegardx: err, the pubkeys are backed up. Something else is wrong. Derp.
[2014-04-17 13:25:30 -0400] vegardx: The client private key and public key are the same on both chef-servers, yet the new server gives me 401 Not Authorized
[2014-04-17 13:26:06 -0400] vegardx: Is the ONLY way to fix this actually removing all nodes and re adding them?
[2014-04-17 13:38:05 -0400] shlant1: has anyone run into We're sorry, but something went wrong.
[2014-04-17 13:38:11 -0400] shlant1: when cnnecting to chef-server webui
[2014-04-17 13:38:18 -0400] shlant1: I tried restart and reconfigure
[2014-04-17 13:46:21 -0400] CPS: shlant1: what version are you on
[2014-04-17 13:48:23 -0400] shlant1: CPS: how do I even find the version?
[2014-04-17 13:52:27 -0400] techminer: live
[2014-04-17 13:53:34 -0400] techminer: where can I find the chefconf live stream today?
[2014-04-17 13:53:45 -0400] CPS: shlant1: less /opt/chef-server/version-manifest.txt | grep chef-server
[2014-04-17 13:54:20 -0400] shlant1: CPS: chef-server 11.0.6
[2014-04-17 13:54:21 -0400] shlant1: chef-server-cookbooks   11.0.6
[2014-04-17 13:54:21 -0400] shlant1: chef-server-ctl         11.0.6
[2014-04-17 13:54:22 -0400] shlant1: chef-server-scripts     11.0.6
[2014-04-17 13:54:22 -0400] shlant1: chef-server-webui       11.0.3              git:bcd291610d08c673411b9144e0427130bda9202c
[2014-04-17 13:54:28 -0400] shlant1: weird that webui is older
[2014-04-17 13:54:43 -0400] CPS: i vaguely remember having web ui issues when i was on that version
[2014-04-17 13:54:55 -0400] shlant1: can I upgrade it seperately?
[2014-04-17 13:54:55 -0400] CPS: you should upgrade to the most recent, anyway,  to deal with heartbleed
[2014-04-17 13:55:01 -0400] CPS: no idea
[2014-04-17 13:55:20 -0400] shlant1: I don't really want to upgrade it all if I don't have to
[2014-04-17 13:55:28 -0400] shlant1: might break?
[2014-04-17 13:55:32 -0400] CPS: it might break
[2014-04-17 13:55:52 -0400] CPS: mine did
[2014-04-17 13:56:13 -0400] shlant1: yea don't want to risk that
[2014-04-17 13:56:20 -0400] CPS: we had to though, it was giving us weird errors that newer versions fixed
[2014-04-17 13:56:50 -0400] CPS: https://wiki.opscode.com/display/chef/Backing+Up+Chef+Server
[2014-04-17 13:58:14 -0400] shlant1: CPS: thanks, I'll give it a try
[2014-04-17 14:34:02 -0400] brimstone: is there a way to specify the run_list with chef-solo's solo.rb?
[2014-04-17 14:37:05 -0400] eft_: brimstone: directly in the file ? I think it's only inside the json specified or with --override-runlist
[2014-04-17 14:40:04 -0400] brimstone: :(
[2014-04-17 14:40:08 -0400] brimstone: thanks eft_
[2014-04-17 14:40:26 -0400] eft_: don't take my word for it...
[2014-04-17 14:40:44 -0400] brimstone: well, setting 'run_list "role[blah]"' didn't work
[2014-04-17 14:52:26 -0400] brimstone: maybe there's a way to trick it with json_attribs?
[2014-04-17 15:02:53 -0400] brimstone: should I be able to access Chef::RunList::RunListItem.new() from solo.rb?
[2014-04-17 15:12:51 -0400] Excolo: hey, i could use some help. A while ago I upgraded the server my chef-server instance was on from debian squeeze to wheezy, and since then its been broken. I've made a lot of headway in fixing it, but mainly doing a search is causing errors (
[2014-04-17 15:12:53 -0400] Excolo: [2014-04-17T15:04:02+00:00] INFO: HTTP Request Returned 500 Internal Server Error: Net::HTTPFatalError: 503 "Service Unavailable"
[2014-04-17 15:12:53 -0400] Excolo: [2014-04-17T15:04:02+00:00] ERROR: Server returned error for http://localhost:4000/search/users?q=groups:sysadmin%20AND%20NOT%20action:remove&sort=X_CHEF_id_CHEF_X%20asc&start=0&rows=1000, retrying 2/5 in 8s
[2014-04-17 15:16:44 -0400] vegardx: Excolo: Make sure you have chef-expander running, and that you're not out of disk space.
[2014-04-17 15:18:14 -0400] Excolo: im not, and it wasnt running before. It complained about a missing file (using ruby 1.9) but I *think* we were using 1.8 before, so I updated alternatives to point to 1.8 and then it started without a problem
[2014-04-17 15:18:15 -0400] Neozonz: how does one reference a recipe from outside the cookbook?
[2014-04-17 15:18:35 -0400] Excolo: but it still gives the error
[2014-04-17 15:19:27 -0400] Neozonz: cookbooks/serverbuild/recipes/default.rb   (current) would like to include-recipe cookbooks/packages/apache.rb
[2014-04-17 15:28:09 -0400] shlant1: anyone have examples of converting definitions to LWRP's?
[2014-04-17 15:28:39 -0400] shlant1: supposedly definitions shouldn't be used?
[2014-04-17 15:33:34 -0400] Popsikle: https://tickets.opscode.com/browse/CHEF-5199
[2014-04-17 15:33:49 -0400] Popsikle: thats the 3rd major bug in this release eh? what happen to testing!!
[2014-04-17 15:43:27 -0400] surge_: Popsikle: http://www.getchef.com/blog/2014/04/11/postmortem-chef-client-regressions-and-heartbleed/
[2014-04-17 15:46:46 -0400] techminer: Is there a livestream of chefconf today?
[2014-04-17 15:48:38 -0400] bmhatfield: Popsikle: It's not just those, either, there's even more: https://tickets.opscode.com/browse/CHEF-5223, https://tickets.opscode.com/browse/CHEF-5221
[2014-04-17 15:48:51 -0400] bmhatfield: Thanks to Daniel DeLeo for grabbing 5223 right away :-)
[2014-04-17 16:06:08 -0400] wamilton: I have a problem with the yum package provider where yum-dump.py is getting killed... specifically, when invoked with --all-provides it seems to eat all the RAM and get killed
[2014-04-17 16:06:51 -0400] asdf_: hmm, when I seem to move to a thin base role which pulls in a base cookbook with all my includes etc, rather than having my whole run_list in the base role, my run time almost doubles.....
[2014-04-17 16:06:58 -0400] wamilton: I'm using the public oracle linux yum repo, and there are reports of that taking forever, but no proposed solution I could find for actually getting the package resource to work with it
[2014-04-17 16:28:27 -0400] oponder: Does anyone have any tools / workflow / opinions for saving the result of a chef run and reusing it. in the last http://foodfightshow.org/, they kinda go back and forth on whether or not that is a good idea.
[2014-04-17 16:29:12 -0400] oponder: overall they agreed it should be automated though
[2014-04-17 16:30:07 -0400] chrh: anybody in the room have much experience with the opscode nginx cookbooks?
[2014-04-17 16:30:31 -0400] jidar: techminer: there is
[2014-04-17 16:30:40 -0400] jidar: techminer: https://www.youtube.com/watch?v=IuMQepywFDY
[2014-04-17 16:30:52 -0400] tscanausa: chrh: whats your question?
[2014-04-17 16:31:52 -0400] chrh: having a really weird issue with a clean chef repo and trying to get the nginx cookbook working.
[2014-04-17 16:31:54 -0400] chrh: HTTP Request Returned 412 Precondition Failed : Could not satisfy version constraints for: ohai
[2014-04-17 16:32:35 -0400] chrh: which i interpret as maybe i didnt include a recipe that nginx depends on but, i looked over the metadata.rb files and have gotten all the required recipes
[2014-04-17 16:33:23 -0400] chrh: tried to google to see if others have seen it and in general they have but no one really offered up much insight as to what causes it
[2014-04-17 16:33:52 -0400] chrh: My setup is chef-zero on a mac trying to provision a nginx server using vagrant
[2014-04-17 16:36:39 -0400] chrh: anybody seen an issue like that?
[2014-04-17 16:37:00 -0400] Neozonz: apt_repository "nginx-php" do
[2014-04-17 16:37:00 -0400] Neozonz:    < what is nginx-php? is that just a name u select or is it the name of the repo itself?
[2014-04-17 16:39:01 -0400] oponder: chrh: are you sure you got all the dependencies of the required recipes?
[2014-04-17 16:39:48 -0400] chrh: apt               2.3.8 bluepill          2.3.1 build-essential   2.0.0 nginx             2.6.3 ohai              2.0.0 rsyslog           1.12.2 runit             1.5.10 yum               3.2.0 yum-epel          0.3.4
[2014-04-17 16:40:11 -0400] chrh: i can double check the list to be sure but i believe those were the only ones needed
[2014-04-17 16:40:54 -0400] oponder: I think your ohai is too new?
[2014-04-17 16:41:05 -0400] oponder: https://github.com/opscode-cookbooks/nginx/blob/master/metadata.rb
[2014-04-17 16:41:17 -0400] oponder: there it seems to constrain to ~> 1.1
[2014-04-17 16:45:19 -0400] chrh: yup.  Looks like downgrading fixed it
[2014-04-17 16:46:38 -0400] oponder: anyone watching the chef stream?
[2014-04-17 16:46:43 -0400] oponder: ^.^ robots
[2014-04-17 16:46:50 -0400] chrh: thank you oponder!
[2014-04-17 16:47:03 -0400] oponder: chrh: my pleasure!
[2014-04-17 16:59:08 -0400] oponder: rick might be a cylon
[2014-04-17 17:02:10 -0400] Neozonz: Using Opswork and having issues with a recipe ... [2014-04-17T16:28:11+00:00] ERROR: No resource or method named `apt_repository' for `Chef::Recipe "php5-4"'
[2014-04-17 17:10:04 -0400] coderanger: Neozonz: Make sure you are loading the apt cookbook
[2014-04-17 17:10:10 -0400] xorl: is there any way to have chef-client NOT delete cached cookbooks when runnin gin -o cookbook mode?
[2014-04-17 17:10:35 -0400] xorl: chef-client -o blah deletes all the other cookbooks, just want to avoid having to resync after doing a -o run
[2014-04-17 17:10:38 -0400] coderanger: xorl: I don't think so, -o is a big hack internally
[2014-04-17 17:10:45 -0400] coderanger: xorl: I would recommend not using it
[2014-04-17 17:10:46 -0400] xorl: ah, makes sense
[2014-04-17 17:11:08 -0400] xorl: coderanger I do it so I can do code release w/out having a recipe in a role/runlist yet still deployed to a host
[2014-04-17 17:11:48 -0400] coderanger: xorl: make a wrapper cookbook with something like "include_recipe  if File.exists('/deployok')"
[2014-04-17 17:11:57 -0400] xorl: ah touche
[2014-04-17 17:11:57 -0400] coderanger: and then touch the file when you want to deploy
[2014-04-17 17:12:08 -0400] xorl: that makes way more sense
[2014-04-17 17:12:08 -0400] coderanger: or use an env var or node attribute/tag
[2014-04-17 17:12:13 -0400] xorl: since I have it plugged into chef
[2014-04-17 17:12:16 -0400] xorl: with rundeck
[2014-04-17 17:12:58 -0400] coderanger: The closer you can get to fully convergent behavior, the better
[2014-04-17 17:13:00 -0400] coderanger: :)
[2014-04-17 17:23:30 -0400] supercom32: Hey Gang. Slightly off-topic but, In Ruby does anyone know how to set a regular expression to be ungreedy? For example:
[2014-04-17 17:23:32 -0400] supercom32: puts apacheDirectoryListing.scan(/?<=<a href="(.*)?="/)
[2014-04-17 17:24:22 -0400] coderanger: supercom32: Same as all PCREs, ?
[2014-04-17 17:25:11 -0400] coderanger: supercom32: .*? is a non-greedy qantifier
[2014-04-17 17:25:14 -0400] CPS: http://robertpyke.blogspot.com/2009/02/ruby-regex-non-greedy-operator-using_05.html
[2014-04-17 17:25:26 -0400] coderanger: (.*)? is an optional zero-or-more which is a bit redundant
[2014-04-17 17:26:00 -0400] supercom32: Doh! Your right. I was trying to do something like /<myRegularExpression/u
[2014-04-17 17:26:14 -0400] supercom32: where u was ungreedly. Kind of like how you specify i for case insensitive.
[2014-04-17 17:26:47 -0400] coderanger: Ahh, I don't think thats a thing
[2014-04-17 17:28:47 -0400] xmltok_: the mysql cookbook looks broken, the kitchen.yml is trying to run mysql::master which doesnt exist
[2014-04-17 17:30:01 -0400] coderanger: xmltok_: That does appear to be the case
[2014-04-17 17:31:29 -0400] xmltok_: looks like a default my.cnf.erb was removed too
[2014-04-17 17:32:32 -0400] xmltok_: not really sure what is going on with that
[2014-04-17 17:35:54 -0400] oponder: xmltok_ yeah its kinda weird, they want you to make your own template and put it in conf.d
[2014-04-17 17:36:06 -0400] oponder: as far as I can tell
[2014-04-17 17:36:52 -0400] xmltok_: unless you are using enterprise linux, i guess
[2014-04-17 17:37:09 -0400] xmltok_: or what are all these 5.x directories
[2014-04-17 17:37:19 -0400] xmltok_: man i dont even want to deal with mysql, this is a dependency in another cookbook. :)
[2014-04-17 17:37:48 -0400] oponder: not sure with the 5.x directories
[2014-04-17 17:37:54 -0400] oponder: I think those are for different versions of the cookbook, not sure why its being kept around
[2014-04-17 17:38:01 -0400] oponder: like there is also the legacy folder
[2014-04-17 17:39:26 -0400] oponder: its.. confusing to say the least. but I rolled with it
[2014-04-17 17:40:01 -0400] oponder: was kinda upset that it made the whole thing less secure. Passwords are all "ilikerandompasswords", and it binds to the public interface by default as far as I can tell now.
[2014-04-17 17:40:38 -0400] oponder: or perhaps to 0.0.0.0
[2014-04-17 17:42:50 -0400] xmltok_: so the only change you needed to do was create the my.cnf.erb template?
[2014-04-17 17:43:29 -0400] oponder: No I actually have no idea how to overwrwite templates. could never figure that out.
[2014-04-17 17:43:38 -0400] oponder: I just have another template in my wrapper cookbook
[2014-04-17 17:43:45 -0400] oponder: their my.cnf has a include directive
[2014-04-17 17:45:06 -0400] oponder: checkout wrapper cookbook under the Usage heading
[2014-04-17 17:45:09 -0400] oponder: https://github.com/opscode-cookbooks/mysql
[2014-04-17 17:47:21 -0400] xmltok_: ah my problem is that i am using ubuntu 14.04 and a default version is not provided in libraries/helpers.rb
[2014-04-17 17:51:12 -0400] Talisker: is it possible to do subscribes/notifies to resources in different recipes and/or cookbooks?
[2014-04-17 17:58:21 -0400] Talisker: hah, answering my own question: yes, unless you're overlooking a version dependency that prevents you from using the newer version of your cookbook that you just added the subscribe to :)
[2014-04-17 18:09:24 -0400] b-dean: I have a question about building omnibus packages, what channel would be the appropriate place for such a question?
[2014-04-17 18:11:14 -0400] alexbst: b-dean - try ask here.. or  https://tickets.opscode.com/browse/CHEF if nobody responds :-)
[2014-04-17 18:11:54 -0400] grepory: Hurray for ChefConf.
[2014-04-17 18:12:30 -0400] b-dean: so I'm using the omnibus cookbook but it's freaking out on the ubuntu-12.04 kitchen test thing because the apt repos are out of date and it can't install some package
[2014-04-17 18:12:59 -0400] b-dean: I did a kitchen login and sudo apt-get update and then try to install the package and it's fine
[2014-04-17 18:13:23 -0400] b-dean: it's the omnibus::_git recipe that's installing packages
[2014-04-17 18:13:39 -0400] alexbst: b-dean - schedule a call of the apt cookbook before it in the runlist ?
[2014-04-17 18:14:07 -0400] alexbst: iirc the apt cookbook does an apt-get update in the default recipe, but you should confirm that for yourself.
[2014-04-17 18:14:34 -0400] hufman: hello!
[2014-04-17 18:14:42 -0400] b-dean: ah ok
[2014-04-17 18:15:10 -0400] alexbst: b-dean - it does, too https://github.com/opscode-cookbooks/apt/blob/master/recipes/default.rb
[2014-04-17 18:16:05 -0400] b-dean: sweet thanks
[2014-04-17 18:16:28 -0400] b-dean: I should've thought of that but I haven't been doing cookbook stuff much lately
[2014-04-17 18:17:34 -0400] b-dean: I wonder though if maybe the generated .kitchen.yml from running omnibus project should include apt, since it can't work otherwise
[2014-04-17 18:21:29 -0400] CPS: anyone know if there's a write-up anywhere for using jenkins to upload changes to chef server?
[2014-04-17 18:28:47 -0400] nobody18188181: anyone have any suggestions for a recipe keeping a sqlite database file with it everywhere it goes? including when it's updated on a workstation? Just throw it into cookbooks/files?
[2014-04-17 18:30:40 -0400] xmltok_: looks like im stuck, i need 2.2.0 because the OS has readline 6 but i also need eventmachine which doesnt work with 2.2.0
[2014-04-17 18:38:37 -0400] hufman: has anyone here used the application cookbook? i would like to add a subscription to an application that is defined in a different cookbook, but the notification doesn't fire on deployment
[2014-04-17 18:40:11 -0400] nobody18188181: how do i force a recipe on a machine to always run first?
[2014-04-17 18:42:07 -0400] kersh_: nobody18188181: I believe the order of the recipes in your run list is what determines that, along with any preqreqs the recipe may have.
[2014-04-17 18:42:28 -0400] nobody18188181: kersh_: thanks, let me check to be sure
[2014-04-17 18:44:30 -0400] kersh_: I normally don't rely on run list order though, I would create a wrapper cookbook that calls one, then the others.
[2014-04-17 18:44:32 -0400] nobody18188181: kersh_: I don't think so; my first recipe has sets up requirements that my 5th recipe uses; but the 5th recipe isn't running because it's missing as the default.rb throws an error
[2014-04-17 18:45:33 -0400] nobody18188181: kersh_: my 5th recipe uses sqlite3 in ruby but that is installed by the first recipe, but because the last recipe doesn't have the library the first recipe is unable to run.
[2014-04-17 18:46:27 -0400] jwuenschel: that is probably because the ruby that uses sqlite3 is executing during the compilation phase
[2014-04-17 18:46:39 -0400] kersh_: I would put the dependencies in your 5th recipe then. There's nothing wrong with calling a recipe multiple times throughout a run, that's what idempotence is for.
[2014-04-17 18:46:45 -0400] coderanger: nobody18188181: Chef uses a two pass system
[2014-04-17 18:46:53 -0400] coderanger: First all recipes are compiled, and then all resources are converged
[2014-04-17 18:47:06 -0400] coderanger: kersh_: You cannot "call" a recipe multiple times
[2014-04-17 18:47:19 -0400] kersh_: You're right, "call" was the wrong word.
[2014-04-17 18:47:56 -0400] nobody18188181: @coderanger: how then do you ensure that a gem is available if I need to reference an outside library that hasnt been installed because of that?
[2014-04-17 18:48:39 -0400] coderanger: nobody18188181: Use chef_gem, it happens at compile time :)
[2014-04-17 18:49:28 -0400] kersh_: coderanger: +1
[2014-04-17 18:53:38 -0400] nobody18188181: @coderanger: that's it; thanks
[2014-04-17 18:57:37 -0400] eherot: Is anyone else still having this AttributeNotFound problem with version 6 vs. 7 Ohai plugins that was supposedly fixed in response to OHAI-562 (my own gist: https://gist.github.com/eherot/11004739)
[2014-04-17 19:19:44 -0400] nobody18188181: is there a way to ensure that a file exists from files/ before the compilation of a recipe that depends on that file?
[2014-04-17 19:21:10 -0400] papercode: hey, if i boostrap a node with an initial role (for searching) like "webserver," will that node show up in a search before or after the initial chef client run is complete?
[2014-04-17 19:21:51 -0400] papercode: use case: haproxy machine uses chef to find all webservers, and i don't want the new node to be added to the config until after it's ready
[2014-04-17 19:23:27 -0400] gleam: before, I believe. you can always set a node attr at the end of your recipe, though, and search on that too
[2014-04-17 19:24:00 -0400] papercode: gleam: thanks, that sounds like what i need to do then
[2014-04-17 19:24:33 -0400] jbz: I think it will show up when the first run is *finished*.  When the node registers initially, if the role is being loaded via attributes.json file, that won't get saved to the server until the first run completes and the node state is saved.
[2014-04-17 19:24:49 -0400] jbz: But I don't know if knife saves the roles directly to the server.
[2014-04-17 19:29:12 -0400] papercode: jbz: i suppose i could test this. My chef runs take longer than it would take for me to execute the search. Will look into it
[2014-04-17 19:30:37 -0400] jbz: papercode: yeah.  Every once in a while I run into a failure condition where the initial runlist is glitched and doesn't converge - and in that case, the node will end up registered, but with a blank runlist because the end-of-run save doesn't happen.  The problem there is that if it has started the chef service, it won't re-read the attributes.json until the service is restarted. :-P
[2014-04-17 19:56:32 -0400] rayrod2030: what are the steps for replacing a validation key in open source chef?
[2014-04-17 20:00:25 -0400] iverson0881: anyone ever see this before: Chef::Exceptions::RedirectLimitExceeded: Chef::Exceptions::RedirectLimitExceeded
[2014-04-17 20:30:20 -0400] alexbst: wehey chefconf chefactions talk :-)
[2014-04-17 20:32:16 -0400] rayrod2030: where is everyone?  Is there some kind of event going on or something? :)
[2014-04-17 20:33:27 -0400] shlant1: anyone using newest vagrant?
[2014-04-17 20:33:30 -0400] shlant1: I'm getting uninitialized constant Chef::Provider::Package::Apt
[2014-04-17 20:34:02 -0400] coderanger: rayrod2030: ChefConf 2014 in San Francisco
[2014-04-17 20:35:26 -0400] rayrod2030: :)
[2014-04-17 20:36:07 -0400] rayrod2030: so 1/10 what's the most exciting thing announced?  chef-dk, chef's table, consul, berkshelf 3.0?
[2014-04-17 20:36:17 -0400] alexbst: chef actions imo
[2014-04-17 20:36:23 -0400] alexbst: followed by chefdk
[2014-04-17 20:36:25 -0400] rayrod2030: hmm I need to look into that
[2014-04-17 20:36:49 -0400] alexbst: actions log is the first step towards a decent audit place.
[2014-04-17 20:36:58 -0400] alexbst: also ties into hipchat/irc :-)
[2014-04-17 20:37:53 -0400] alexbst: good day jbz.
[2014-04-17 20:44:18 -0400] qsalt: I'm just looking for what is best practice, but when using wrapper cookbooks and overriding attributes, is it better to override them within the attributes directory in default.rb with things like set['foo']['bar'] = "foobar", or to just add the override directory into my recipes in the wrapper cookbooks.  So near the top of the recipe I would say 'node.set['foo']['bar'] = "foobar".
[2014-04-17 20:44:18 -0400] qsalt: I ask because I recently ran into a race condition when specifying attributes in attribues/default.rb and then trying to override them inside of a recipe of another cookbook.
[2014-04-17 20:51:14 -0400] coderanger: qsalt: Don't use set, just use default['foo'] = 'bar' as normal
[2014-04-17 20:51:49 -0400] eherot: rayrod2030: chef-metal
[2014-04-17 20:51:51 -0400] qsalt: so that won't conflict with the defaults previously defined in the original cookbook?
[2014-04-17 20:51:52 -0400] eherot: sorry, late reply
[2014-04-17 20:52:01 -0400] coderanger: qsalt: No, it will layer over them
[2014-04-17 20:52:16 -0400] coderanger: qsalt: (as long as the original cookbook is listed as a dependency, which it should be)
[2014-04-17 20:52:52 -0400] qsalt: coderanger: yeah it is.  Thanks for the info.  I will probably start scaling back my sets/overrides more then
[2014-04-17 20:53:37 -0400] coderanger: qsalt: the explicit levels are cool when you are slinging attributes from different types of places (ex. cookbooks vs. roles)
[2014-04-17 20:53:54 -0400] coderanger: qsalt: but cookbooks already do a topological load order, so its handled for you
[2014-04-17 20:55:00 -0400] qsalt: coderanger: ok, so it is only really necessary to use the higher priority attribute types when dealing with attributes from different places.  Very good to know :).  I have taken the route to mainly just do everything in cookbooks and mostly am ignoring roles.
[2014-04-17 21:02:28 -0400] jidar: anybody using mcollective with chef?
[2014-04-17 21:22:38 -0400] coderanger: jidar: I've heard of it, but not in a while
[2014-04-17 21:28:24 -0400] jidar: its a puppet tool, that happens to work with chef as well
[2014-04-17 21:28:40 -0400] jidar: looks like it'll use chef search to get metadata down
[2014-04-17 21:33:34 -0400] TrinitronX: ChefSpec users: Has anyone had good experience using the new Chef Zero functionality in ChefSpec 3.0?  (e.g.: require 'chefspec/server')
[2014-04-17 21:34:53 -0400] wateronsand: hi all! writing a cookbook that sets a variable for a template based on the output of a shell script. the shell script doesn't already exist on the system; it's being placed in the same recipe as a file resource. since the template is evaluated at compile time, the shell script doesn't exist in the right location yet and so the variable is not set properly
[2014-04-17 21:35:16 -0400] wateronsand: is there some way to use maybe 'notifies' to achieve the funcitonality i want?
[2014-04-17 21:36:10 -0400] wateronsand: i can envision just pointing the template at the local chef repo's copy of the shell script but that seems too hacky
[2014-04-17 21:36:27 -0400] TrinitronX: @wateronsand:  Let me ask so I can understand:  shell script == placed on system with file resource (at compile time?)
[2014-04-17 21:36:44 -0400] TrinitronX: or template resource == compile time?
[2014-04-17 21:37:58 -0400] jidar: I wonder if you can pack that into the ohai data somehow
[2014-04-17 21:38:14 -0400] TrinitronX: @wateronsand: Seems like a chicken/egg problem between the 2 resources... if the template needs the shell script file, but template is at compile time
[2014-04-17 21:38:20 -0400] jidar: I'm totally unsure how you'd get that back to the chefserver as a variable
[2014-04-17 21:38:55 -0400] wateronsand: @TrinitronX http://pastebin.com/hmXZYuPC
[2014-04-17 21:39:14 -0400] wateronsand: perhaps the recipe will illustrate better than i can explain :)
[2014-04-17 21:39:15 -0400] TrinitronX: you could force the shell script's file resource to also be done at compile time if you need
[2014-04-17 21:39:38 -0400] wateronsand: @TrinitronX how can i force that?
[2014-04-17 21:40:10 -0400] TrinitronX: @wateronsand:  Ok, so from looking at that there are 2 ways you can approach this
[2014-04-17 21:40:17 -0400] wateronsand: in that paste, $SOMEPARAM is exported within params.sh
[2014-04-17 21:41:54 -0400] TrinitronX: @wateronsand: 1) Use 'action :nothing' on the template resource & add 'notifies :create, "template[/root/junktemplate]", :delayed' to the cookbook_file resource
[2014-04-17 21:41:59 -0400] a13x212: anyone using tags to group hosts?
[2014-04-17 21:42:30 -0400] TrinitronX: @wateronsand: 2) Force the cookbook_file to be placed at compile time & leave the template as it is (so it happens at converge-time)
[2014-04-17 21:43:26 -0400] TrinitronX: @wateronsand:  I'd recommend strategy #1 unless there is some other reason you absolutely need the template to be created before other things (i.e.: compile-time)
[2014-04-17 21:43:44 -0400] wateronsand: @TrinitronX thanks! i think i'm going to use the notifies method so i get used to using that syntax, but out of curiosity, how would i force the cookbook file to be placed at compile time?
[2014-04-17 21:45:24 -0400] TrinitronX: @wateronsand: http://wiki.opscode.com/x/94B4
[2014-04-17 21:46:24 -0400] TrinitronX: @wateronsand:  Essentially you declare the resource with 'action :nothing' & store it to a variable.. then call `.run_action` method on it
[2014-04-17 21:47:15 -0400] TrinitronX: @wateronsand: Storing it to a variable is optional... you could just tack on `.run_action(:create)` or `.run_action(:whatever)` after the resource's `end`
[2014-04-17 21:47:50 -0400] wateronsand: @TrinitronX that link 404'd
[2014-04-17 21:48:02 -0400] wateronsand: but i think i get hwat you're saying
[2014-04-17 21:49:15 -0400] TrinitronX: @wateronsand: For example: https://github.com/hw-cookbooks/postgresql/blob/master/recipes/ruby.rb#L50-52
[2014-04-17 21:49:58 -0400] wateronsand: @TrinitronX ahh, an example. even better, thanks again!
[2014-04-17 21:51:07 -0400] TrinitronX: @wateronsand:  Looks like there's an issue with that link on wiki.opscode.com redirecting to a non-existent page
[2014-04-17 21:52:10 -0400] TrinitronX: @wateronsand:  Here's a google search that should take you to the article: http://goo.gl/2RP3fd
[2014-04-17 21:52:58 -0400] wateronsand: @TrinitronX i think i've found something similar at http://docs.opscode.com/resource_common.html - but i'll be reading both :)
[2014-04-17 21:53:34 -0400] TrinitronX: @wateronsand:  This part documents it too: http://docs.opscode.com/resource_common.html#before-other-resources
[2014-04-17 22:54:34 -0400] jsutch: Trying to set for ec2 instances using "knife ec2 server create" with the -N <nodename> attribute, but hostname isn't set. Anyone doing this from the command line without running a separate knife bootstrap?
[2014-04-17 23:02:28 -0400] kersh: jsutch: I use --node-name and it only sets the name of the chef node and the Name tag of the instance in EC2.
[2014-04-17 23:02:32 -0400] kersh: Nothing with the hostname.
[2014-04-17 23:02:52 -0400] jsutch: sure. How do you handle hostname?
[2014-04-17 23:03:25 -0400] kersh: My personal futzing with EC2 hostnames has been more trouble than it's worth, so I leave those be.
[2014-04-17 23:05:34 -0400] jsutch: I've been trying to set up the hostname cookbook, but getting errors on loading. I'm not seeing a way to set hostname so that the chef recipes will execute correctly as the node without some torturous scripting. I'd prefer to avoid the torture if there's modular way to do this
[2014-04-17 23:52:53 -0400] xorl: Is there a way to have chef omnibus connect to another postgres server for its backend
