[2014-04-25 00:00:50 -0400] gsymons-di: That's what I was afraid of... I really just wanted to reprovision my vagrant chef-client nodes in parallel, and unfortunately eth0 is the NAT interface.
[2014-04-25 00:01:08 -0400] coderanger: josephholsten: Also go check out the brand new https://github.com/balanced-cookbooks/rundeck-fabric
[2014-04-25 00:01:50 -0400] josephholsten: that might just help us not drop rundeck
[2014-04-25 00:02:30 -0400] josephholsten: gsymons-di: how many boxes are we talking about?
[2014-04-25 00:02:41 -0400] gsymons-di: 5
[2014-04-25 00:02:44 -0400] gsymons-di: I'm lazy.
[2014-04-25 00:03:56 -0400] gsymons-di: Also, now that I've started the linear provision, I remembered I needed to manually delete a directory first, which was the real reason I wanted knife ssh
[2014-04-25 00:04:01 -0400] gsymons-di: :)
[2014-04-25 00:06:09 -0400] josephholsten: doesn't vagrant have a way to run the provisioner on all the boxes?
[2014-04-25 00:06:26 -0400] josephholsten: I'm a little unfamiliar with multi-vm vagrants
[2014-04-25 00:06:32 -0400] coderanger: josephholsten: Not in parallel
[2014-04-25 00:06:56 -0400] josephholsten: that's dum.
[2014-04-25 00:08:05 -0400] gsymons-di: I think some providers will run the provisioner in parallel (there's a --no-parallel option, after all), but not the virtualbox provider.
[2014-04-25 00:39:13 -0400] rberger: jkeiser: I still cant get chef-metal-docker to create a container that lasts longer than its local chef-client run.
[2014-04-25 00:39:24 -0400] rberger: Im sure its something silly Im doing.
[2014-04-25 00:39:26 -0400] rberger:  Ive got a Playground repo set up to experiment with it https://github.com/rberger/chef-metal-playground
[2014-04-25 00:39:49 -0400] rberger: If anyone wants to look at it and let me know what Im doing wrong, would be greatly appreicated!
[2014-04-25 00:40:16 -0400] rberger: The meat of it is in https://github.com/rberger/chef-metal-playground/tree/master/my_cookbooks/myapp/recipes
[2014-04-25 00:41:41 -0400] jkeiser: rberger: the issue is I told you the wrong key.  In general, the provisioners are self-documented (and yes, we will have real documentation by release): https://github.com/opscode/chef-metal-docker/blob/master/lib/chef_metal_docker/docker_provisioner.rb#L51
[2014-04-25 00:42:32 -0400] jkeiser: rberger: you need to use provisioner_options 'base_image' => ..., 'create_container' => { 'command' => ... }
[2014-04-25 00:42:44 -0400] jkeiser: rberger: sorry to point you the wrong way. That should give you very thorough documentation
[2014-04-25 00:43:08 -0400] rberger: jkeiser: No worries, appreciate all your help!
[2014-04-25 00:44:28 -0400] doomviking: how could a cookbook set the node.environment?
[2014-04-25 00:45:33 -0400] rberger: jkeiser: One problem Im having is Im also new to docker. So mapping the chef-metal-docker options to docker documentation that uses dockerfiles is difficult
[2014-04-25 00:45:59 -0400] jkeiser: rberger: weird, the documentation I linked to should have been to their REST API
[2014-04-25 00:46:25 -0400] jkeiser: rberger: I picked keys from their API that let you specify things like port forwarding, etc.
[2014-04-25 00:46:41 -0400] rberger: jkeiser: Well, that too is confusing for me :-) How to map the rest / json options to the chef-metal-docker options
[2014-04-25 00:47:08 -0400] jkeiser: rberger: 1:1 -- 'host_options' => { 'Key' => 'Value', ... }
[2014-04-25 00:48:19 -0400] rberger: jkeiser: 'host_options' would map to with_provisioner_options?
[2014-04-25 00:49:40 -0400] jkeiser: rberger: provisioner_options 'create_container' => { 'command' => 'echo true', 'container_options' => { ... }, 'host_options' => { ... } }
[2014-04-25 00:50:14 -0400] rberger: ok
[2014-04-25 00:50:20 -0400] jkeiser: rberger: when in doubt, preserve the same case as the key in their REST API.  I am literally passing everything you give me through
[2014-04-25 00:50:28 -0400] jkeiser: rberger: which is why I link to those docs :)
[2014-04-25 00:51:12 -0400] jkeiser: rberger: metal's general philosophy is not to try and abstract the APIs of the various provisioners too much--abstractions tend to lose the power of each system, and we want to enable, not straightjacket :)
[2014-04-25 00:51:52 -0400] rberger: jkeiser: That is a good philiosphy. I am just in the too many learning curves at once mode
[2014-04-25 00:52:11 -0400] jkeiser: rberger: I get you :)  Welcome to me for the entire two weeks before chefconf!
[2014-04-25 00:52:17 -0400] jkeiser: Did I say that out loud
[2014-04-25 00:52:30 -0400] rberger: no one noticed :-)
[2014-04-25 00:53:53 -0400] double_p: that mode is permanent :}
[2014-04-25 00:53:58 -0400] rberger: jkeiser: once I get https://github.com/rberger/chef-metal-playground to work it should be a good additional tutorial
[2014-04-25 00:54:53 -0400] jkeiser: rberger: fyi I think you don't have to pass any HostOptions and ContainerOptions and you will be able to make a container--they are optional options
[2014-04-25 00:55:17 -0400] double_p: still looking for a cookbook talking to zabbix API.. besides damn hard to google (again), everything is "only" about installing the zabbix artifacts
[2014-04-25 00:58:16 -0400] Majost_: Does anyone know if the Windows cookbook ChefSpec matcher for install_windows_package supports :custom installer types?
[2014-04-25 00:59:13 -0400] Majost_: I have been hitting a wall with a blank rspec error: https://gist.github.com/rhass-r7/38b2c7bc48c907d56bc4
[2014-04-25 00:59:42 -0400] doomviking: if you do this: <% if node.chef_environment = "production" -%>
[2014-04-25 00:59:49 -0400] Majost_: I tried stepping it into pry, but that did'nt seem to get me far
[2014-04-25 00:59:51 -0400] doomviking: you're in for pain.
[2014-04-25 01:02:46 -0400] gsymons-di: dammit... when did vagrant add a -c option to vagrant ssh? And why didn't I notice it:)
[2014-04-25 01:19:06 -0400] JOlive: I'm going through this vagrant/chef/django tutorial http://blog.smalleycreative.com/tutorials/setup-a-django-vm-with-vagrant-virtualbox-and-chef/ and am hitting an uniniated constant LWRPBase error on what I believe is the build-essential cookbook http://pastebin.com/QnTeWm0y
[2014-04-25 01:20:07 -0400] JOlive:  does anyone have any suggestions on what I should try next?
[2014-04-25 01:25:32 -0400] coderanger: JOlive: I would probably be the one to talk to, but I have to head out right now, will you be on in a few hours?
[2014-04-25 01:26:21 -0400] JOlive: @coderanger 1:25GMT at the moment, thank you though
[2014-04-25 01:26:52 -0400] coderanger: JOlive: I'll be on tomorrow as well, just poke me :-)
[2014-04-25 01:27:07 -0400] JOlive: @coderanger will do, thanks!
[2014-04-25 02:17:32 -0400] prometheanfire: any idea why I'd get a 401 on a search on a b
[2014-04-25 02:18:01 -0400] prometheanfire: any idea why I'd get a 401 on a search on a bootstrap
[2014-04-25 02:19:50 -0400] prometheanfire: here's a subset of the output http://bpaste.net/show/232402/
[2014-04-25 02:20:54 -0400] prometheanfire: ~
[2014-04-25 04:00:15 -0400] jkline: I'm using a thirdparty cookbook via include_recipe "foo", but "foo" often fails
[2014-04-25 04:00:30 -0400] jkline: turns out, I don't care. Can I ignore failures in that cookbook/recipe?
[2014-04-25 04:00:40 -0400] jkline: I know that wrapping in a begin/rescue block won't work
[2014-04-25 04:00:50 -0400] double_p: knife node show moo1 -a "block_device.xvd*" -- no solr for the attributes, methinks. (.xvda works). how to come along this?
[2014-04-25 04:43:08 -0400] bricker`LA: I have a recipe which uses search() to look for a node. How can I make this work in a kitchen test?
[2014-04-25 04:47:41 -0400] whuff: hello chefs
[2014-04-25 04:50:40 -0400] whuff: Can anyone explain why if I try to use the cookbook git in a role that role fails?  I thought the default.rb would install the git application automaticacally.  Instead just mentioning the git cookbook in a recipe causes it to fail.
[2014-04-25 04:53:36 -0400] jbz: Can you paste the error message?
[2014-04-25 04:55:44 -0400] whuff: no error message, upon rake roles the client tells me the role has been updated.  But if I used the git recipe upon checking the chef server the whole run list dissapears
[2014-04-25 04:56:16 -0400] jbz: Is this a new node?
[2014-04-25 04:56:25 -0400] whuff: yes
[2014-04-25 04:56:33 -0400] jbz: generally, if a new node shows up with a blank runlist, it means that the convergence failed on the first run
[2014-04-25 04:56:46 -0400] jbz: thus it never saves node state, and thus doesn't save the runlist to the server
[2014-04-25 04:56:54 -0400] jbz: What OS is the node running?
[2014-04-25 04:57:15 -0400] whuff: ubuntu 14.04
[2014-04-25 04:57:35 -0400] jbz: OK, then in either /var/chef/cache or /var/cache/chef there should be a stacktrace.out file which gives you the error that the client ran into
[2014-04-25 04:57:38 -0400] whuff: could that be it?  does everything support 14.04 already
[2014-04-25 04:57:47 -0400] jbz: Possibly not, no
[2014-04-25 04:58:00 -0400] jbz: but that stacktrace should tell you *how* the cookbook/recipe failed.
[2014-04-25 04:58:14 -0400] whuff: thanks a ton, thats the info I needed
[2014-04-25 04:58:19 -0400] jbz: yw
[2014-04-25 04:58:19 -0400] whuff: to the stacktrace
[2014-04-25 04:58:57 -0400] jbz: whuff: note, you should be able to recover the node by running the chef-client with an attributes file with a runlist in it (-j option)
[2014-04-25 04:59:41 -0400] whuff: ok, Im very new and this is my maiden chef voyage.. so I'll def check into that
[2014-04-25 05:56:07 -0400] coderanger: bricker`LA: Don't, allow setting a node attr instead
[2014-04-25 05:56:34 -0400] coderanger: whuff: How are you running chef?
[2014-04-25 05:59:00 -0400] whuff: via command line on ubuntu 14.04 Desktop?
[2014-04-25 05:59:09 -0400] whuff: is that what you mean?
[2014-04-25 05:59:42 -0400] whuff: @coderanger via command line on ubuntu 14.04, is that what you mean?
[2014-04-25 05:59:55 -0400] coderanger: What specific command line are you running
[2014-04-25 06:00:41 -0400] whuff: I write the roles, and then try to get all of them to my chef server with "rake roles" or "knife roles from file roles/*.rb"
[2014-04-25 06:00:48 -0400] whuff: they both seem to have the same affect
[2014-04-25 06:07:37 -0400] coderanger: whuff: No, how are you actually invoking chef-client
[2014-04-25 06:07:42 -0400] coderanger: what arguments are you giving it
[2014-04-25 06:08:17 -0400] coderanger: Seeing a run list reset usually means you are either passing -o with an old version, or passing -k
[2014-04-25 06:08:20 -0400] coderanger: er, -j
[2014-04-25 06:09:15 -0400] coderanger: Also knife role from file just takes the base name, not the roles/
[2014-04-25 06:10:00 -0400] whuff: I honestly haven't even gotten there yet... still trying to get all the roles on the server.  I've tested knife ec2 and passed roles to the node on it's creation just to test it out.  But as of now I'm just stuck uploading my base role to the chef server.  My base role will upload without the git recipe, but with it I'll get a 404 if I call the recipe from the node.
[2014-04-25 06:10:12 -0400] coderanger: okay, so run this
[2014-04-25 06:10:17 -0400] coderanger: knife role from file base.rb
[2014-04-25 06:10:23 -0400] coderanger: (assuming it is called base)
[2014-04-25 06:14:02 -0400] whuff: same outcome, looks like it uploads according to the client.  then checking the server it won't load the runlist.  Are there any other requirement for uploading roles other than the related cookbooks?
[2014-04-25 06:16:32 -0400] coderanger: How are you "checking the server"?
[2014-04-25 06:18:14 -0400] whuff: 2 ways so far... Ill just go to policy -> roles and then check the runlist at the bottom of the page: it times out and can't be found.  and then second way is assigning a the role upon creation, when I do that it gives me a 404
[2014-04-25 06:19:41 -0400] whuff: omit git and it works, include git and ^^
[2014-04-25 06:20:03 -0400] whuff: the git recipe in the run list I mean
[2014-04-25 06:22:04 -0400] coderanger: just do `knife role show $NAME`
[2014-04-25 06:22:09 -0400] coderanger: That is a direct API query
[2014-04-25 06:26:01 -0400] whuff: well that works
[2014-04-25 06:26:10 -0400] whuff: but where does that leave me
[2014-04-25 06:27:55 -0400] coderanger: Okay, what do you see there?
[2014-04-25 06:29:54 -0400] whuff: https://gist.github.com/whuff739/35e43f8453febb27c741
[2014-04-25 06:30:53 -0400] coderanger: Looks correct to me
[2014-04-25 06:31:01 -0400] coderanger: Try running chef-client?
[2014-04-25 06:31:11 -0400] whuff: yeah Im about to do that now
[2014-04-25 06:31:16 -0400] whuff: hold 1 sec
[2014-04-25 06:36:29 -0400] JensOfSweden: Anyone can help me with why if i have a node with an environment with default attributes in the environment and then i have override attributes on the node, why doesnt the node attributes get applied but rather the environment
[2014-04-25 06:37:08 -0400] coderanger: JensOfSweden: Can you pastebin the env file and the node's data?
[2014-04-25 06:38:26 -0400] JensOfSweden: coderanger: its the Rackspace private cloud cookbooks, but ill paste it in.
[2014-04-25 06:38:59 -0400] coderanger: JensOfSweden: You can also use the attribute debug stuffs to see which levels are set
[2014-04-25 06:39:16 -0400] coderanger: JensOfSweden: http://www.getchef.com/blog/2013/02/05/chef-11-in-depth-attributes-changes/ scroll down to Debugging
[2014-04-25 06:39:58 -0400] JensOfSweden: Gonna do that before i paste stuff here, might find out why it does it =)
[2014-04-25 06:44:50 -0400] whuff: https://gist.github.com/whuff739/ed4e5a91827c3f40da66 still cant find base.rb
[2014-04-25 06:46:12 -0400] JensOfSweden: does knife know where to look for your role.rb?
[2014-04-25 06:46:36 -0400] coderanger: whuff: It would just be role[base]
[2014-04-25 06:46:43 -0400] whuff: considering I have no idea how to answer that question, I'd say prob not
[2014-04-25 06:46:44 -0400] coderanger: whuff: After upload it doesn't know about the original format
[2014-04-25 06:47:00 -0400] whuff: oh snap
[2014-04-25 06:49:57 -0400] whuff: :D
[2014-04-25 06:50:08 -0400] whuff: thanks coderanger
[2014-04-25 06:50:19 -0400] whuff: I would have never found that
[2014-04-25 06:53:04 -0400] coderanger: No problem
[2014-04-25 10:06:36 -0400] zeroXten: is there already a community cookbook out there that ensure that apt/yum/etc is up to date? I keep getting stung by apt needing an update. I could add the apt cookbook to each of my cookbooks, but I'd first have to test for OS. I would rather move that logic into a cookbook to keep things DRY
[2014-04-25 10:07:53 -0400] JensOfSweden: Anyone who can point me in the right direction, i have a ruby_block in my cookbook that parses a csv file and makes it into a hash with a key + values, now i want to store the key and those values in a databag . How do i do that?
[2014-04-25 10:11:07 -0400] zeroXten: JensOfSweden: http://docs.opscode.com/essentials_data_bags.html
[2014-04-25 10:11:28 -0400] zeroXten: specifically, http://docs.opscode.com/essentials_data_bags.html#create-and-edit
[2014-04-25 10:11:42 -0400] zeroXten: apparently, "Creating and editing the contents of a data bag or a data bag item from a recipe is not recommended. "
[2014-04-25 10:12:36 -0400] JensOfSweden: Lets see if the hash is correct formated =)
[2014-04-25 10:12:49 -0400] zeroXten: re my question, nevermind. it looks like apt does a good job of checking whether apt is installed and will only do stuff if so.
[2014-04-25 10:15:16 -0400] JensOfSweden: zeroXten: have you worked with creating databags from hashes before?
[2014-04-25 10:20:00 -0400] zeroXten: JensOfSweden: nope
[2014-04-25 10:20:14 -0400] zeroXten: doesn't sound like the sort of thing I'd want to do
[2014-04-25 10:20:31 -0400] zeroXten: if I need to store something from within a recipe, it would probably be done using attributes
[2014-04-25 10:23:41 -0400] double_p: anyone using chef to talk to zabbix-api? found a ruby gem zbxapi, but that's only half the way :)
[2014-04-25 10:24:23 -0400] JensOfSweden: Thing is, we have database of users in a file that i want to store in a databag to be able to use the provider for creating users
[2014-04-25 10:26:20 -0400] JensOfSweden: found out how to do it =)
[2014-04-25 11:32:56 -0400] zeroXten: JensOfSweden: would it be better to move the users into a databag file and have chef install them in what form as required? That way your users can be version controlled etc
[2014-04-25 11:33:03 -0400] zeroXten: (as in, SCM)
[2014-04-25 12:09:38 -0400] zeroXten: For OSX users if anyone is interested: https://github.com/zeroXten/suchchef
[2014-04-25 12:09:47 -0400] zeroXten: well, currently only osx
[2014-04-25 12:17:41 -0400] double_p: ohum.. chefdk only for 10.9 *blush* :)
[2014-04-25 12:18:33 -0400] zeroXten: double_p: why, what are you on?
[2014-04-25 12:20:13 -0400] double_p: 10.6.8 :}
[2014-04-25 12:20:19 -0400] zeroXten: blimeh
[2014-04-25 12:20:33 -0400] zeroXten: i'm guessing that's old ;)
[2014-04-25 12:21:05 -0400] double_p: well.. next update not before new hardware. i'll fire a rhel6 vagrant for playing chefdk :>
[2014-04-25 12:24:18 -0400] zeroXten: heh
[2014-04-25 13:34:37 -0400] CPS: where does chef server write logs?
[2014-04-25 13:50:04 -0400] jmorales: hey guys, is there a way to save a chef run generated password back into an encrypted data bag?
[2014-04-25 13:52:03 -0400] zeroXten: jmorales: why are you doing that?
[2014-04-25 13:52:41 -0400] jmorales: so the usecase is that the encrypted databag hold common passwords for a cluster of servers
[2014-04-25 13:52:59 -0400] jmorales: right now after the chef run those passwords are stored in the node configuration
[2014-04-25 13:53:10 -0400] jmorales: and I'm manually putting them into the data bag.
[2014-04-25 13:53:30 -0400] jmorales: ideally I would rather to put it in the data bag automatically
[2014-04-25 13:53:59 -0400] aberrios_: Hi I have a private chef server, and for some unknown reason search hangs via /search. I'm really struggling to find anything relevant in the logs
[2014-04-25 13:56:31 -0400] Maks3w: Hi. I wonder if berkshelf 3 works with api.opscode.com for retrieve private cookbooks
[2014-04-25 13:58:52 -0400] jmorales: it looks like chef 11.6+ added write support to encrypted data bags according to the docs.. I will try this and report back
[2014-04-25 14:07:20 -0400] smithmb: Is it possible to override node.name using chefspec? I know I can override the hostname using fauxhai, but node.name doesn't seem to change.
[2014-04-25 14:38:54 -0400] shlant1: anyone know why I would be getting Permission Denied when using the mount resource?
[2014-04-25 14:39:01 -0400] shlant1: can I specify a user/group?
[2014-04-25 14:48:08 -0400] dcparker: hey all - i have chef managing a cassandra server. let's say i have chef upgrade java with the java recipe, is there a way to tell it to then restart cassandra (but obviously only when the java version changes)
[2014-04-25 14:54:50 -0400] rayrod2030: hola jefes de cocina
[2014-04-25 14:56:19 -0400] gleam: either have the resource that upgrades java notify the cassandra service to restart, or have the service subscribe to the java upgrade
[2014-04-25 14:56:36 -0400] gleam: as long as the java upgrade resource is idempotent you should be fine
[2014-04-25 14:57:50 -0400] is_null: hello everybody, newbie question here: is there a distro-agnostic way to run `apt-get update` (or equivalent) before a package install action ?
[2014-04-25 15:00:50 -0400] dcparker: gleam: thanks. yeah i thought about the notification but i ideally didn't want to edit the community cookbook if i could avoid it. can you elaborate on subscribing to the upgrade? i'm not sure if i follow that
[2014-04-25 15:04:23 -0400] gleam: http://docs.opscode.com/resource_common.html#notifications
[2014-04-25 15:04:51 -0400] gleam: it's the inverse of notifies
[2014-04-25 15:04:56 -0400] gleam: or reverse i guess
[2014-04-25 15:05:54 -0400] Guest19564: Hi, I need to recompile nginx one time on a QA server.  Is it possible to set this flag for the run ov chef-clinet? nginx_force_recompile = node.run_state['nginx_force_recompile']
[2014-04-25 15:07:03 -0400] aberrios_: getting      Errno::ECONNREFUSED:
[2014-04-25 15:07:05 -0400] aberrios_:        Connection refused - connect(2)
[2014-04-25 15:07:15 -0400] aberrios_: when attempting searches :'(
[2014-04-25 15:07:28 -0400] dcparker: gleam: thanks!
[2014-04-25 15:08:16 -0400] gyoza: whaterver gleam
[2014-04-25 15:08:26 -0400] gyoza: WHATEVER MAN
[2014-04-25 15:08:29 -0400] gyoza: lol jk
[2014-04-25 15:23:55 -0400] bhckr: we have around 40 nodes which run chef-client every 30 mins, but sometimes chef-client fails on some nodes (due to network issues or a broken recipe). Is there a way to fetch the status of the last chef-client run for a specific node?
[2014-04-25 15:24:16 -0400] rayrod2030: bhckr: knife status
[2014-04-25 15:24:40 -0400] rayrod2030: bhckr: Which I'm sure just uses an existing chef api to get that info.
[2014-04-25 15:25:17 -0400] rayrod2030: bhckr: At my old place we ran a very simple service that kept track of this status by having chef nodes report their last status back to this service using a chef_handler.
[2014-04-25 15:25:50 -0400] rayrod2030: we found it was much easier to send many requests to this service for building the status checks into our provisioning portal.
[2014-04-25 15:26:17 -0400] rayrod2030: another thing you can do is check log conditions for an error if you have log analytics in place and alert on that.
[2014-04-25 15:30:16 -0400] nfx_: Hello, I would like to simply install the knife client utility from my workstation from which I'll be writting cookbooks. What's the best way to do so? Do I need to install the whole Windows chef-client installer?
[2014-04-25 15:30:58 -0400] gleam: chefdk
[2014-04-25 15:31:15 -0400] gleam: http://www.getchef.com/downloads/chef-dk/windows/
[2014-04-25 15:31:46 -0400] gleam: that includes chef-client and lots of other cookbook-writing goodies
[2014-04-25 15:31:53 -0400] nfx_: true, I guess that'll become the standard workflow now
[2014-04-25 15:32:15 -0400] Guest19564: Hi, I need to recompile nginx one time on a QA server.  Is it possible to set this flag for the run of chef-clinet? node.run_state['nginx_force_recompile']
[2014-04-25 15:33:14 -0400] nfx_: gleam: it's not available for windows yet
[2014-04-25 15:33:21 -0400] gleam: oh, lame.
[2014-04-25 15:33:26 -0400] gleam: sorry.
[2014-04-25 15:33:28 -0400] gleam: then yeah, chef-client
[2014-04-25 15:33:57 -0400] nfx_: ok thanks
[2014-04-25 15:34:40 -0400] Neozonz: I'm using remote_directory but how do I actually copy the folder rather then the contents?
[2014-04-25 15:35:15 -0400] gleam: not sure i follow
[2014-04-25 15:35:50 -0400] Neozonz: I have a ruby block set with the remote_directory directive, copying /folder/blah/
[2014-04-25 15:36:02 -0400] Neozonz: but it seems to take the contents of blah rather then the folder blah
[2014-04-25 15:36:52 -0400] gleam: so it's putting blah/* from teh cookbook into /folder?
[2014-04-25 15:39:43 -0400] Neozonz: yeah
[2014-04-25 15:39:53 -0400] Neozonz: rather then the folder blah with its contents
[2014-04-25 15:40:00 -0400] Neozonz: i tried adding and removing a /
[2014-04-25 15:57:26 -0400] tejaycar: I want to use knife ssh to run a command on any ONE node in a given environment.  something like `search(chef_environment:myENV).first`  Is there any way to do that?
[2014-04-25 16:26:01 -0400] vovans: hi everyone
[2014-04-25 16:26:05 -0400] vovans: i have a question
[2014-04-25 16:26:21 -0400] vovans: i just upgraded from chef 10 to 11 open source
[2014-04-25 16:26:41 -0400] vovans: following this
[2014-04-25 16:26:42 -0400] vovans: http://www.getchef.com/blog/2013/03/12/5106/
[2014-04-25 16:26:57 -0400] vovans: and everything is uploaded all nodes/clients/cookbooks
[2014-04-25 16:27:19 -0400] vovans: when I use knife to see the cookbooks on the server it works
[2014-04-25 16:27:34 -0400] vovans: but chef-client on a client machine says
[2014-04-25 16:27:35 -0400] vovans: The following cookbooks are required by the client but don't exist on the server:
[2014-04-25 16:27:42 -0400] vovans: anybody have any ideas ?
[2014-04-25 16:32:09 -0400] rayrod20_: just to be sure the runit cookbook takes all attributes, flattens them and exposes them to templates via @options right?
[2014-04-25 16:32:39 -0400] rayrod20_: so node['foo']['bar'] would be available as @options['foo_bar']
[2014-04-25 16:38:23 -0400] jmickle: vovans: sounds like cookbook dependencies arent being specified properly
[2014-04-25 16:38:27 -0400] double_p: here and there i get confused when i've to prepend a 'variable' with ':'? damnit.. time to get some real course on ruby *grumpy*
[2014-04-25 16:39:11 -0400] vovans: jmickle: i havent changed any recipes or anything though. it worked fine on chef 10
[2014-04-25 16:39:22 -0400] jmickle: vovans pastebin?
[2014-04-25 16:40:35 -0400] vovans: jmickle: http://pastebin.com/67Htcyx3
[2014-04-25 16:41:46 -0400] vovans: jmickle: and here: http://pastebin.com/LCyHVTEK
[2014-04-25 16:41:49 -0400] jmickle: are you sure the yumrepo cookbook
[2014-04-25 16:41:51 -0400] jmickle: is on the server?
[2014-04-25 16:42:02 -0400] vovans: check the second pastebin
[2014-04-25 16:42:07 -0400] jmickle: yeah just saw that
[2014-04-25 16:42:08 -0400] jmickle: interesting
[2014-04-25 16:42:14 -0400] vovans: yeah weird right
[2014-04-25 16:42:16 -0400] jmickle: have you tried reuploading
[2014-04-25 16:42:19 -0400] jmickle: the yumrepo cookbook?
[2014-04-25 16:42:20 -0400] vovans: yup
[2014-04-25 16:42:30 -0400] jmickle: did you try a knife cookbook delete --purge?
[2014-04-25 16:42:39 -0400] vovans: no
[2014-04-25 16:42:43 -0400] jmickle: knife cookbook delete yumrepo
[2014-04-25 16:42:53 -0400] jmickle: then try and reupload
[2014-04-25 16:42:57 -0400] vovans: ok let me try
[2014-04-25 16:43:05 -0400] jmickle: i wonder if maybe it got corrupted or something
[2014-04-25 16:43:06 -0400] jmickle: on upload
[2014-04-25 16:43:26 -0400] jmickle: during my chef10-11 upgrade i hit some really funky corruption errors at first
[2014-04-25 16:43:33 -0400] jmickle: mostly resolved by reuploading
[2014-04-25 16:43:49 -0400] vovans: just tried and same thing
[2014-04-25 16:44:20 -0400] jmickle: ok do you know which cookbook is requiring yumrepo?
[2014-04-25 16:45:37 -0400] jmickle: also have you tried clearing the /var/chef/cache
[2014-04-25 16:46:22 -0400] atomic-penguin: --purge can fuck shit up, a knife cookbook delete should be sufficient
[2014-04-25 16:46:49 -0400] jmickle: atomic-penguin: true but the upgrade alone fucks alot of shit up :-P
[2014-04-25 16:47:12 -0400] atomic-penguin: vovans, can you pastebin your run_list
[2014-04-25 16:47:29 -0400] vovans: i have the yumrepo in my base role
[2014-04-25 16:47:32 -0400] atomic-penguin: vovans, I might be able to eyeball it, and tell you what is dependent on yumrepo.
[2014-04-25 16:48:08 -0400] atomic-penguin: vovans, um, it was deprecated a while back
[2014-04-25 16:48:27 -0400] vovans: what was deprecated ?
[2014-04-25 16:48:29 -0400] jmickle: atomic-penguin what was deprecated? yum_repo?
[2014-04-25 16:48:35 -0400] atomic-penguin: yumrepo, yes
[2014-04-25 16:48:52 -0400] jmickle: in favor of what
[2014-04-25 16:49:05 -0400] atomic-penguin: http://community.opscode.com/cookbooks/yumrepo
[2014-04-25 16:49:21 -0400] jmickle: ah yum-corporate
[2014-04-25 16:49:23 -0400] jmickle: that makes sense
[2014-04-25 16:49:31 -0400] atomic-penguin: Everything was broken out into yum-$thing
[2014-04-25 16:49:40 -0400] jmickle: i avoid yum like the plague
[2014-04-25 16:49:42 -0400] jmickle: so
[2014-04-25 16:49:51 -0400] jmickle: which means i also avoid rhel based distros
[2014-04-25 16:49:51 -0400] jmickle: haha
[2014-04-25 16:50:21 -0400] vovans: yeah well I really cant get away with it for the moment. enterprise, we use rhel6 here, etc blah blah
[2014-04-25 16:50:48 -0400] atomic-penguin: yum/rpm does have the advantage of recording transactions, unlike apt/dpkg
[2014-04-25 16:51:16 -0400] jmickle: yeah but yum/rpm also has the disadvantage of using last years repo's
[2014-04-25 16:51:17 -0400] jmickle: lol
[2014-04-25 16:51:30 -0400] jmickle: unless of course you go radical and use EPEL
[2014-04-25 16:51:50 -0400] jmickle: which then that is a direct hypocracy against why most people choice enterprise linux
[2014-04-25 16:52:17 -0400] jmickle: but linux is linux
[2014-04-25 16:52:21 -0400] hasues: exactly
[2014-04-25 16:52:21 -0400] jmickle: at the end of the day
[2014-04-25 16:52:25 -0400] jmickle: its all 1s and 0's
[2014-04-25 16:52:25 -0400] jmickle: haha
[2014-04-25 16:52:38 -0400] hasues: yum, apt, emerge,... I just grok it.
[2014-04-25 16:52:42 -0400] atomic-penguin: jmickle, I don't know what you mean by that.  An Enterprise distro, never changes a packages major version, or API, for the life of a release which can be 5-7 years.  Bugfixes, security fixes, and features are still backported into those packages over the life of a release though
[2014-04-25 16:52:49 -0400] vovans: :)
[2014-04-25 16:53:09 -0400] vovans: hey guys so i looked if anything depends on my yumrepo and I dont have anything. I only have it in my base role
[2014-04-25 16:53:12 -0400] vovans: which all the boxes get
[2014-04-25 16:53:56 -0400] vovans: I really dont think that this is a dependency issue - I think something is wrong with the communication where chef-client just doesnt see any cookbooks
[2014-04-25 16:54:49 -0400] jmreicha: Hey guys, I have some questions about how to structure my repo.  I was watching a chef conf talk about using berkshelf to manage cookbooks and dependencies.  Is that the preffered method?
[2014-04-25 16:56:50 -0400] jmickle: atomic-penguin: thats exactly the point, why would you want to stay on a major from 5 years ago :-P
[2014-04-25 17:03:18 -0400] atomic-penguin: jmickle, because they're running million(s) of dollars of enterprisey vendor supported shit built against that target platform.
[2014-04-25 17:06:01 -0400] atomic-penguin: Also, nothing in EPEL has overlap with what is provided and supported by RHEL/CentOS.  EPEL is supplementary
[2014-04-25 17:11:27 -0400] vovans: jmickle: i figured it out. damn it. i had this environment pinned to a specific yumrepo version that I did not upload
[2014-04-25 17:11:30 -0400] vovans: damn it
[2014-04-25 17:11:40 -0400] jmickle: :-)
[2014-04-25 17:12:00 -0400] vovans: thanks :)
[2014-04-25 17:12:05 -0400] jmickle: np dude
[2014-04-25 17:12:28 -0400] jmickle: just cause something is deprecated doesnt mean you should jump to switch
[2014-04-25 17:12:37 -0400] jmickle: though i would advise considering your options
[2014-04-25 17:12:49 -0400] jmickle: then again lots of people with opinions these days so :-)
[2014-04-25 17:12:54 -0400] vovans: yeah i know
[2014-04-25 17:13:03 -0400] vovans: its just a matter of having time to do everything
[2014-04-25 17:13:06 -0400] vovans: and I usually don't
[2014-04-25 17:13:11 -0400] jmickle: yep
[2014-04-25 17:13:18 -0400] vovans: you know - work shit
[2014-04-25 17:13:24 -0400] jmickle: always man
[2014-04-25 17:13:29 -0400] jmickle: keeps the world spinning
[2014-04-25 17:13:39 -0400] vovans: and this heartbleed thing didnt help lately
[2014-04-25 17:17:31 -0400] wilbur2: can someone help explain to me why my cookbook_file resources fails (yet the file is actually getting distributed) - the permission settings are bot being obeyed though so im guessing it has to do with the inability to chmod or chown - though I am manually able to do so. Here is the error: http://fpaste.org/97008/98445733/ and here is the stacktrace: http://fpaste.org/97009/98445965/  Thanks :)
[2014-04-25 17:22:34 -0400] coderanger: wilbur2: Its the chown failing, do you have a group called root?
[2014-04-25 17:22:43 -0400] wilbur2: yes
[2014-04-25 17:22:51 -0400] coderanger: wilbur2: Is SELinux active?
[2014-04-25 17:23:49 -0400] wilbur2: disabled.
[2014-04-25 17:23:55 -0400] jmreicha: Is there a way to set a timeout on packages installing?
[2014-04-25 17:24:31 -0400] viszeral: i'm having a hard time accessing a hash that's defined at the environment level in a recipe.  anyone know of a good reference for this?
[2014-04-25 17:24:54 -0400] double_p: jmreicha: how about fixing the root cause? :}
[2014-04-25 17:25:08 -0400] wilbur2: root:x:0:
[2014-04-25 17:25:10 -0400] jmreicha: uhh, crappy internet?
[2014-04-25 17:25:16 -0400] wilbur2: is my /etc/group entry. coderanger
[2014-04-25 17:25:21 -0400] coderanger: wilbur2: You might want to try updating to the current release of chef, and check for weird mount flags on /tmp
[2014-04-25 17:25:26 -0400] coderanger: viszeral: Whats the issue?
[2014-04-25 17:26:28 -0400] wilbur2: coderanger: using Chef Client, version 11.6.0
[2014-04-25 17:26:49 -0400] coderanger: wilbur2: Yes, latest is 11.12.2
[2014-04-25 17:26:52 -0400] viszeral: coderanger:  i have a structure that i put together to define repositories.  when i test my syntax to iterate through the structure in irb everything works fine, but when i run it in the recipe in a test kitchen the variables seem empty
[2014-04-25 17:26:58 -0400] jmreicha: double_p:  I don't know what else I can do
[2014-04-25 17:27:12 -0400] double_p: jmreicha: if you need that package, a timeout wont help a lot?
[2014-04-25 17:27:29 -0400] coderanger: viszeral: That would be because TK doesn't load envs normally
[2014-04-25 17:27:41 -0400] wilbur2: coderanger:  what determined which version of chef-client my node gets bootstrapped with?
[2014-04-25 17:27:48 -0400] wilbur2: coderanger: i am using open source chef
[2014-04-25 17:28:04 -0400] coderanger: wilbur2: knife bootstrap uses whatever version is installed on your workstation
[2014-04-25 17:28:05 -0400] viszeral: coderanger:  i have it configured to load them and am able to pull values in another recipe, plus i verified in the kitchen logs that the envs are being deployed properly
[2014-04-25 17:28:15 -0400] jmreicha: The issue only happens on slow/crap internet connections, I'm wondering what other options I have
[2014-04-25 17:28:23 -0400] coderanger: viszeral: pastebin the env and recipe code
[2014-04-25 17:28:39 -0400] jmreicha: double_p: ^^
[2014-04-25 17:28:43 -0400] coderanger: jmreicha: You can setup a local package mirror
[2014-04-25 17:28:59 -0400] double_p: yeah..
[2014-04-25 17:29:25 -0400] double_p: coderanger: and i'd leverage an hierachry one, just dont have any insight on how to do that
[2014-04-25 17:29:56 -0400] jmreicha: @coderanger: Ok, thanks
[2014-04-25 17:34:11 -0400] mhenrixon: anyone know why I can't compile the nginx cookbook anymore? https://gist.github.com/mhenrixon/bbc6537cee936f16ab74
[2014-04-25 17:35:33 -0400] coderanger: mhenrixon: You enabled a plugin for nginx that isn't working correctly
[2014-04-25 17:36:13 -0400] mhenrixon: it doesn't matter what plugin I use they all fail with the same message. Only thing I did was update it with berkshelf and all of a sudden it isn't working anymore
[2014-04-25 17:36:23 -0400] viszeral: coderanger: http://pastebin.com/uhEzyH63
[2014-04-25 17:36:32 -0400] mhenrixon: all they changed in the cookbook was the default version of openssl coderanger
[2014-04-25 17:37:42 -0400] coderanger: viszeral: Looks correct, I would log the value of node.chef_environment within TK and ensure it is set
[2014-04-25 17:38:41 -0400] mhenrixon: also.. would this be a proper use of the Poise cookbook? https://gist.github.com/mhenrixon/7f1cd6aa01123babfd0e haven't been able to test it yet :)
[2014-04-25 17:40:45 -0400] coderanger: mhenrixon: With the exception that you don't want to name it that, yes
[2014-04-25 17:41:44 -0400] coderanger: mhenrixon: (it might collide if #run_state is ever exposed directly in recipes)
[2014-04-25 17:41:54 -0400] jchauncey: might have a bad time
[2014-04-25 17:42:01 -0400] viszeral: coderanger: yeah, the log returns INFO: qa
[2014-04-25 17:42:16 -0400] mhenrixon: coderanger: yeah I figured as much but naming things.... jeez its hard
[2014-04-25 17:42:38 -0400] jchauncey: why doesnt remote_file use the checksum attribute to determine if it already has the file on disk before downloading it?
[2014-04-25 17:42:41 -0400] coderanger: mhenrixon: You also don't need the notifying_block because you aren't use the recipe DSL in there
[2014-04-25 17:42:51 -0400] jchauncey: espeically if you are using hte create_if_missing action
[2014-04-25 17:43:00 -0400] coderanger: jchauncey: It does
[2014-04-25 17:43:30 -0400] jchauncey: coderanger: i may have to try it again but it didnt look like that was happening this morning
[2014-04-25 17:43:47 -0400] mhenrixon: Thanks coderanger I have another couple of resources I'll post later soon as I am able to get nginx running. Noticed that 1.6.0 is released so might as well try and install that instead
[2014-04-25 17:45:10 -0400] coderanger: mhenrixon: Also your only_ifs can be much faster in pure ruby
[2014-04-25 17:45:31 -0400] coderanger: mhenrixon: only_if { Dir.directory?() }
[2014-04-25 17:46:18 -0400] mhenrixon: How would using ruby be faster? In my experience ruby is always slower than a bash call is it the shell-out that makes it slower?
[2014-04-25 17:46:41 -0400] coderanger: Yes, doing a single stat is much faster than starting all of bash
[2014-04-25 17:48:00 -0400] mhenrixon: Nice I totally thought the opposite so when chef-client runs it doesn't have to leave ruby to set the terms of that condition? That it coderanger ?
[2014-04-25 17:48:20 -0400] coderanger: Not sure what you mean, but probably yes
[2014-04-25 17:49:43 -0400] mhenrixon: what I mean is the code runs in the current process instead of having to start a new one
[2014-04-25 17:50:35 -0400] coderanger: Indeed
[2014-04-25 17:51:17 -0400] mhenrixon: This can't be my fault
[2014-04-25 17:51:54 -0400] viszeral: coderanger:  at what point in the execution would it expand those attributes from the environment?
[2014-04-25 17:52:28 -0400] coderanger: viszeral: Very early, before cookbooks are loaded
[2014-04-25 17:53:02 -0400] jpr_: is there a way to execute a resource defined with action :nothing without a notification/subscription from another resource?
[2014-04-25 17:53:15 -0400] viszeral: coderanger:  that's strange then, because i just set a hard coded string for the line yum_repository "test" do and it expanded all teh subsequent entries
[2014-04-25 17:55:40 -0400] viszeral: coderanger: since yum_repository is a resource from another cookbook, and it validates teh "type of" input, is it possible that those haven't been expanded yet when the resource is validating the input?
[2014-04-25 18:03:45 -0400] rayrod2030: anybody converging on demand as opposed to having a constantly running chef-client daemon?
[2014-04-25 18:06:31 -0400] the_grunt: Does anyone have experience with the 'postgresql' cookbook?  It installs just fine but when I try to use the credentials with the 'database' cookbook it keeps failing authentication.  Any thoughts?
[2014-04-25 18:10:07 -0400] mhenrixon: wtf
[2014-04-25 18:10:23 -0400] mhenrixon: the missing config is now located in /tmp/kitchen/cache/headers_more/7e45d5cbe4ed6865b3bce4fcb6c05f13a52a315702335bcedf68691ad41d8294/openresty-headers-more-nginx-module-27bcbd2
[2014-04-25 18:11:04 -0400] double_p: danit
[2014-04-25 18:11:40 -0400] double_p: damn.. 16h work. LET'S HUMPPA. (sorry)
[2014-04-25 18:14:31 -0400] mhenrixon: coderanger how should I proceed on this? https://gist.github.com/mhenrixon/bbc6537cee936f16ab74 it seems the location of the remote_file of the nginx::source recipe has changed. No idea why to be honest.
[2014-04-25 18:17:27 -0400] viszeral: can you pass a variable containing a string as the name for a resource?  in other words " resource somevariable do "
[2014-04-25 18:18:36 -0400] jkeiser: voszeral: yep
[2014-04-25 18:18:42 -0400] jkeiser: viszeral
[2014-04-25 18:20:40 -0400] viszeral: jkeiser: at what point does that expand?  i can call this particular resource if i hard code a test string, but when i try to use the value of a variable in a .each block it returns an error prior to execution that a name has to be passed
[2014-04-25 18:21:03 -0400] jkeiser: viszeral: it expands at the moment the resource is first defined
[2014-04-25 18:21:20 -0400] jkeiser: you can say 1.upto(10) do |i|
[2014-04-25 18:21:30 -0400] jkeiser:   resource "blah#{i}" do
[2014-04-25 18:21:32 -0400] jkeiser:  ...
[2014-04-25 18:21:34 -0400] jkeiser: and it works
[2014-04-25 18:21:46 -0400] viszeral: http://pastebin.com/uhEzyH63
[2014-04-25 18:21:56 -0400] viszeral: that's funky, because that doesn't work here, lol
[2014-04-25 18:22:21 -0400] sarkis: jtimberman: you here?
[2014-04-25 18:25:12 -0400] nobody18188181: is there a chef developer guide?
[2014-04-25 18:26:02 -0400] zeroXten: should node.set inside an LWRP provider work in solo?
[2014-04-25 18:26:25 -0400] cburroughs: What's the best way to rename a role?  That is all nodes with the role foo should now have the role bar, but the order of the run_list should not change
[2014-04-25 18:28:53 -0400] zeroXten: i'm using it in the same run (in fact, in the same cookbook)
[2014-04-25 18:29:22 -0400] mayster: was wondering if anyone knows any problems with centos6.5x64 running chef11  and the ruby-mode package...
[2014-04-25 18:29:55 -0400] mayster: keep getting"no version specified, and no candidate version available for ruby-mode"...did some searching but could not find anything :(
[2014-04-25 18:34:08 -0400] bricker: mayster: try updating yum
[2014-04-25 18:35:09 -0400] mayster: cool, thx..will give it a try
[2014-04-25 18:42:42 -0400] doomviking: no
[2014-04-25 18:56:35 -0400] mhenrixon: all I created a ticket for this problem https://tickets.opscode.com/browse/COOK-4592
[2014-04-25 18:56:48 -0400] mhenrixon: If anyone care to try it out https://github.com/mhenrixon/nginx-problem
[2014-04-25 19:13:47 -0400] loki_97123: hello my chefs
[2014-04-25 19:13:58 -0400] loki_97123: getting out to the aws cloud
[2014-04-25 19:14:11 -0400] loki_97123: using cloud formation and knife ec2 to get past a poc
[2014-04-25 19:14:32 -0400] loki_97123: we add the nodes, run a base role, and end up in the _default environment
[2014-04-25 19:14:56 -0400] loki_97123: now the ?'s ... got a mongo recipe that needs to search and find all of it's selves
[2014-04-25 19:15:05 -0400] loki_97123: replica set
[2014-04-25 19:15:39 -0400] loki_97123: now the 3 nodes that were added aren't in the "correct" role yet, ok, you say no problem just bootstrap to the correct role
[2014-04-25 19:15:59 -0400] loki_97123: well when you init the mongodb replicaset you need the members
[2014-04-25 19:16:44 -0400] loki_97123: but the search won't find the members only itself
[2014-04-25 19:16:54 -0400] loki_97123: it seems like a chicken and egg thing
[2014-04-25 19:17:53 -0400] viszeral: is this a dynamic pool or could you create an attribute at the environment level to name the hosts?
[2014-04-25 19:19:19 -0400] loki_97123: the cloud formation will create these members
[2014-04-25 19:20:48 -0400] loki_97123: we could create attributes in environment bar trying to avoid that
[2014-04-25 19:20:56 -0400] loki_97123: we want more dynamic
[2014-04-25 19:21:08 -0400] viszeral: yeah, you'd have to manage it then, not great
[2014-04-25 19:22:23 -0400] viszeral: so i take it you can't run replicaset on them one at a time since it would need at least 2, right?
[2014-04-25 19:31:27 -0400] geggam: btw thanks again coderanger ... that lil snippet you provided is getting used over and over :)
[2014-04-25 19:34:11 -0400] thun: I am getting this error... ERROR: could not find recipe file /root/run
[2014-04-25 19:34:47 -0400] thun: alont with this warning... SSL validation of HTTPS requests is disabled
[2014-04-25 19:35:11 -0400] coderanger: thun: Please pastebin the full traceback
[2014-04-25 19:35:31 -0400] coderanger: thun: And that warning means your systems are unsafe because you haven't enable TLS peer verification, just read the warning
[2014-04-25 19:37:26 -0400] thun: http://pastebin.com/z5f1DYMx
[2014-04-25 19:38:04 -0400] coderanger: thun: What does your run list look like?
[2014-04-25 19:39:07 -0400] thun: Nothing should have changed... I upgreaded OS knife broke and I reinstalled, after that I am getting all these errors
[2014-04-25 19:39:25 -0400] thun: Could this all be cause by bad cert?
[2014-04-25 19:40:06 -0400] coderanger: thun: No, the warning is saying certs aren't being checked :)
[2014-04-25 19:40:32 -0400] coderanger: thun: That was added in a recent chef release to get people to notice if they have TLS verification disabled
[2014-04-25 19:41:00 -0400] thun: Ok one sec
[2014-04-25 19:55:19 -0400] thun: coderanger: I created an instance and ran kept removing items from the roles run list until I just tried... chef-client run -orecipe[aws]
[2014-04-25 19:55:21 -0400] thun: same errors
[2014-04-25 19:55:29 -0400] thun: [2014-04-25T19:54:17+00:00] ERROR: could not find recipe file /root/run
[2014-04-25 19:57:08 -0400] coderanger: thun: What is the "run" in there?
[2014-04-25 19:58:12 -0400] coderanger: thun: That sounds like hte issue :)
[2014-04-25 19:58:16 -0400] thun: Lol idk, how I always called it. I guess in this new version it does not work.
[2014-04-25 19:58:20 -0400] coderanger: chef-client doesn't have subcommands
[2014-04-25 19:58:23 -0400] thun: It worked in old versions, haha
[2014-04-25 19:58:29 -0400] thun: It was it
[2014-04-25 19:58:47 -0400] coderanger: Yeah, it was changed to allow using chef-client to run recipe code directly similar to chef-apply
[2014-04-25 19:59:39 -0400] thun: ell ty
[2014-04-25 19:59:41 -0400] thun: *Well
[2014-04-25 20:29:02 -0400] jameson__: mysql cookbook is wonky?
[2014-04-25 20:29:43 -0400] sarkis: can i use node[:hostname] in my node.json?
[2014-04-25 20:52:54 -0400] sarkis: kinda confused on wheere i can use the ohai stuff like node[:hostname]
[2014-04-25 20:55:13 -0400] coderanger: sarkis: Only in Ruby code files
[2014-04-25 20:55:37 -0400] coderanger: "node" in that is an actual ruby object :-)
[2014-04-25 20:56:18 -0400] sarkis: i see
[2014-04-25 20:56:44 -0400] coderanger: And even then, not all code files
[2014-04-25 20:56:57 -0400] coderanger: attributes, recipes, and some places in resources/providers
[2014-04-25 20:57:07 -0400] doomviking: I read that as not all code flies.
[2014-04-25 20:57:18 -0400] doomviking: more coffee.
[2014-04-25 20:58:40 -0400] douglaswth: got to watch out for those code flies
[2014-04-25 20:59:00 -0400] chip-: In case you saw this at Chefconf and wanted your own Yak Shaving Expert t-shirt: http://teespring.com/maksesoftwarebetter2
[2014-04-25 21:01:40 -0400] doomviking: nice
[2014-04-25 21:09:50 -0400] holms: help =( http://pastebin.com/raw.php?i=ZtbkNXhE recipe: http://pastebin.com/raw.php?i=wenVFfBQ
[2014-04-25 21:10:38 -0400] mannyt: chip- thanks for the tshirt link, I basically do this every day
[2014-04-25 21:11:11 -0400] holms: mannyt: maybe you have time to take alook at my issue :)?
[2014-04-25 21:12:05 -0400] coderanger: holms: run `/usr/bin/python -c "import yum"'
[2014-04-25 21:12:13 -0400] coderanger: holms: You might have corrupted your Python install
[2014-04-25 21:12:22 -0400] coderanger: that module is part of RHEL internals
[2014-04-25 21:12:24 -0400] holms: insteresting
[2014-04-25 21:12:35 -0400] holms: used python cookbook to install python2.7 from source
[2014-04-25 21:12:51 -0400] holms: coderanger: glad to see you btw
[2014-04-25 21:13:19 -0400] holms: ImportError: No module named yum hmz
[2014-04-25 21:13:36 -0400] holms: all i want is python 2.7 on centos 6.5
[2014-04-25 21:13:53 -0400] coderanger: holms: Use software collections
[2014-04-25 21:14:33 -0400] holms: this is one is no good? https://github.com/poise/python
[2014-04-25 21:14:39 -0400] holms: it does virtualenv and stuff
[2014-04-25 21:14:49 -0400] mannyt: Yea coderanger is right, holms that's what we had to do to get 2.7 and 2.6 running on the same system
[2014-04-25 21:14:53 -0400] coderanger: holms: That one is fine, but software collections is 1) easier and 2) official
[2014-04-25 21:15:02 -0400] coderanger: holms: (thats my cookbook)
[2014-04-25 21:15:07 -0400] holms: lol
[2014-04-25 21:15:15 -0400] holms: coderanger: so use software collection in your cookbook :D
[2014-04-25 21:15:23 -0400] holms: ok i need python2.7 only in virtualenv actually
[2014-04-25 21:15:35 -0400] holms: i doesn't have to be system-wide
[2014-04-25 21:15:36 -0400] coderanger: holms: Its on my todo list, but needs a major rewrite first
[2014-04-25 21:16:10 -0400] holms: http://pastebin.com/raw.php?i=wenVFfBQ <-- so
[2014-04-25 21:16:14 -0400] holms: include_recipe "python::source" should be removed probably
[2014-04-25 21:18:49 -0400] holms: coderanger: any samples how to setup virtualenv with python2.7 ? would be really thankfull
[2014-04-25 21:19:35 -0400] coderanger: holms: https://access.redhat.com/site/documentation/en-US/Red_Hat_Developer_Toolset/1/html/Software_Collections_Guide/ has all the docs
[2014-04-25 21:19:48 -0400] zeroXten: should node.set inside an LWRP provider work in solo?
[2014-04-25 21:19:55 -0400] zeroXten: i'm using it in the same run (in fact, in the same cookbook)
[2014-04-25 21:20:10 -0400] holms: coderanger: doesn't sounds like 5min job
[2014-04-25 21:20:19 -0400] coderanger: zeroXten: Yes, but remember that order of operations in LWRPs can get confusing
[2014-04-25 21:20:21 -0400] coderanger: holms: It isn't
[2014-04-25 21:20:30 -0400] coderanger: holms: But its a much more stable option
[2014-04-25 21:20:34 -0400] holms: i need just py2.7 in virtual env :D
[2014-04-25 21:20:44 -0400] coderanger: holms: Okay ...
[2014-04-25 21:20:51 -0400] coderanger: holms: You keep saying that like its easy
[2014-04-25 21:20:59 -0400] holms: i mean my client will be arguing why i'm waasting hours on centos then
[2014-04-25 21:21:13 -0400] zeroXten: coderanger: hmmm, i'm setting it in the lwrp, then trying to use the attributes after the lwrp resource has been defined, slightly further down in the recipe.. sound ok?
[2014-04-25 21:21:18 -0400] coderanger: holms: I would agree with your client, centos 6 isn't a viable server OS right now
[2014-04-25 21:21:25 -0400] holms: m
[2014-04-25 21:21:31 -0400] coderanger: zeroXten: Can you pastebin the code?
[2014-04-25 21:21:33 -0400] mannyt: holms this may be inelegant but it worked for us http://hastebin.com/ikejihiqum.vbs
[2014-04-25 21:21:47 -0400] mannyt: using SCL
[2014-04-25 21:21:55 -0400] coderanger: mannyt: +1
[2014-04-25 21:22:01 -0400] holms: m thanks
[2014-04-25 21:24:07 -0400] holms: this won't just work yeah..? http://pastebin.com/raw.php?i=nYsWkfTf
[2014-04-25 21:24:49 -0400] coderanger: holms: No, since the problem you are having is that your system python install is corrupted in some way to make it lose the yum module, which is a problem since yum is written in Python and kind of needs that module
[2014-04-25 21:24:55 -0400] coderanger: (as does chef for the cache dump)
[2014-04-25 21:25:17 -0400] zeroXten: coderanger: https://github.com/zeroXten/sensu_spec/tree/server < check the test.rb recipe and the default provider
[2014-04-25 21:25:31 -0400] holms: coderanger: well recreating vm
[2014-04-25 21:25:33 -0400] holms: let's see
[2014-04-25 21:25:42 -0400] zeroXten: eh, test.rb is then calling server.rb recipe which expects to find the attributes set by the lwrp
[2014-04-25 21:25:52 -0400] holms: i think its happened because of include_crecipe[python::source]
[2014-04-25 21:26:23 -0400] coderanger: zeroXten: Okay, so here is where the order of operations bit comes in :)
[2014-04-25 21:26:46 -0400] coderanger: zeroXten: the bit in the action method is only called when the resource is converged, which happens after all resources are compiled and loaded
[2014-04-25 21:27:16 -0400] holms: okay... No such file or directory - pip install  virtualenv==1.11.4
[2014-04-25 21:27:29 -0400] coderanger: zeroXten: So that node.set is running, but after the module-level code in server.rb is executed
[2014-04-25 21:27:51 -0400] sarkis: so, im looking at the precedence ordering for attributes: http://docs.opscode.com/chef_overview_attributes.html
[2014-04-25 21:28:20 -0400] sarkis: i was assuming that i can also override an attribute in the nodes/node.json file?
[2014-04-25 21:28:22 -0400] zeroXten: coderanger: ah ok
[2014-04-25 21:28:30 -0400] coderanger: zeroXten: You could fix this by forcing your sensu_spec resource to converge at compile time
[2014-04-25 21:28:48 -0400] coderanger: zeroXten: Or by using the include_recipe_now helper from the now cookbook
[2014-04-25 21:29:10 -0400] sarkis: is this not possible?
[2014-04-25 21:29:32 -0400] zeroXten: coderanger: is it bad practise to force compile time convergence?
[2014-04-25 21:29:33 -0400] coderanger: sarkis: No, you cannot set at the override level in a node, only normal
[2014-04-25 21:29:54 -0400] coderanger: zeroXten: \_()_/
[2014-04-25 21:30:27 -0400] coderanger: zeroXten: I think the rigid two-pass loading is unhelpful and poise is basically a workaround for it to do nested compile-converge cycles instead
[2014-04-25 21:30:50 -0400] coderanger: zeroXten: But taking my advice on such things can be considered dangerous, or at least full of sharp edges :)
[2014-04-25 21:30:57 -0400] zeroXten: heh
[2014-04-25 21:32:36 -0400] zeroXten: coderanger: any particular docs on making the lrwp converge at compile time?
[2014-04-25 21:33:14 -0400] coderanger: zeroXten:  do action :nothing  end.run_action(:foo)
[2014-04-25 21:33:21 -0400] coderanger: where :foo is whatever the original action name was
[2014-04-25 21:34:16 -0400] zeroXten: ohh, so I'd do that for the resource in the recipe? huh
[2014-04-25 21:34:21 -0400] coderanger: zeroXten: Yahr
[2014-04-25 21:34:40 -0400] coderanger: zeroXten: If you want it to _always_ run at compile time there are other ways to do it too
[2014-04-25 21:35:04 -0400] zeroXten: ah, should be fine for this.. doing it in test.rb anyway
[2014-04-25 21:35:12 -0400] coderanger: Yeah
[2014-04-25 21:35:13 -0400] zeroXten: if you're not using solo then two stages is ok
[2014-04-25 21:35:29 -0400] zeroXten: as one is a client and the other happens on the server
[2014-04-25 21:35:36 -0400] coderanger: zeroXten: No, both are on the client
[2014-04-25 21:35:46 -0400] coderanger: server has nothing to do with converge behavior
[2014-04-25 21:36:08 -0400] coderanger: Oh, you mean sensu server :)
[2014-04-25 21:36:14 -0400] zeroXten: coderanger: yeah ;)
[2014-04-25 21:37:36 -0400] holms: k let's try debian
[2014-04-25 21:37:49 -0400] zeroXten: coderanger: sweet, seems to have worked. many thanks
[2014-04-25 21:38:03 -0400] zeroXten: i need to look at chef runs in more detail i think
[2014-04-25 21:39:29 -0400] randingo: hey  we have multiple developers working in the same cookbook, what is the best way that recipes on the chef server don't get clobbered?  Is there a way to 'knife upload cookbook <cookbook>/<single recipe>' ?
[2014-04-25 21:40:13 -0400] coderanger: randingo: Don't
[2014-04-25 21:40:38 -0400] coderanger: randingo: And no, uploads are at the level of cookbook only
[2014-04-25 21:40:57 -0400] randingo: ok, that confirms what i can find.
[2014-04-25 21:42:50 -0400] randingo: i'm very interested in developers making tests for recipes.  Is there something more up to date, I've read over this: http://technology.customink.com/blog/2012/08/03/testing-chef-cookbooks/
[2014-04-25 21:43:49 -0400] mannyt: ran dingo this guide gives you a pretty good starting point http://kitchen.ci/
[2014-04-25 21:43:57 -0400] mannyt: randingo: ^^
[2014-04-25 21:44:27 -0400] randingo: thanks manyt.
[2014-04-25 21:45:20 -0400] randingo: is a VM required for test-kitchen?
[2014-04-25 21:46:38 -0400] jidar: I think test-kitchen is really integration testing, which would require a VM no?
[2014-04-25 21:46:54 -0400] jidar: the other one, using rspec I think is unit testing
[2014-04-25 21:47:10 -0400] coderanger: randingo: Technically no, but you need somewhere to run the tests
[2014-04-25 21:47:11 -0400] jidar: (though I'm not sure how test-kitchen fits in there because it does some unit testing too?)
[2014-04-25 21:47:49 -0400] someara: test-kitchen drives VMs, either locally with vagrant (transparently. no vagrantfile), or with IaaS plugins
[2014-04-25 21:47:49 -0400] jidar: hmm, I feel like test-kitchen could use docker with great value
[2014-04-25 21:47:57 -0400] someara: or with docker =)
[2014-04-25 21:48:12 -0400] jidar: docker has made me consider running cent on my laptop
[2014-04-25 21:48:14 -0400] someara: ChefSpec is in-memory unit testing on a workstation or CI system
[2014-04-25 21:48:41 -0400] holms: coderanger: No such file or directory - /var/www/msgapp/bin/pip install  gunicorn==18.0
[2014-04-25 21:48:43 -0400] holms: with debian
[2014-04-25 21:48:50 -0400] gleam: if you're on a mac, check out dvm
[2014-04-25 21:48:52 -0400] coderanger: jidar: You can just grab the boot2docker VM image
[2014-04-25 21:48:54 -0400] coderanger: or dvm
[2014-04-25 21:49:11 -0400] coderanger: holms: Does pip exist at that path?
[2014-04-25 21:49:13 -0400] jidar: yea, I wanted to run it nativly
[2014-04-25 21:49:21 -0400] holms: http://pastebin.com/raw.php?i=UTL0LAmV
[2014-04-25 21:49:40 -0400] jidar: I think it's my excuse to go back to linux for my workstation
[2014-04-25 21:49:52 -0400] holms: ah my bad
[2014-04-25 21:49:56 -0400] coderanger: jidar: I need to finish my patch to add auth support to kitchen-docker, then I can just run a docker node off in the cloud somewhere and give no shits :)
[2014-04-25 21:50:09 -0400] jidar: hahah, that would be pretty nice
[2014-04-25 21:50:26 -0400] coderanger: jidar: Its a pretty minor change, but docker auth is a PITA :-(
[2014-04-25 21:50:39 -0400] coderanger: (you need to make your own TLS CA)
[2014-04-25 21:50:45 -0400] jidar: interesting
[2014-04-25 21:51:08 -0400] jidar: is that so the docker images can speak secure with the host, or with other hosts?
[2014-04-25 21:52:40 -0400] holms: oh yes it works
[2014-04-25 21:52:42 -0400] holms: finally
[2014-04-25 21:54:08 -0400] holms: i though newest redhat/centos has py2.7
[2014-04-25 21:54:23 -0400] holms: when this will happen, probably everybody will code in python3
[2014-04-25 21:54:25 -0400] holms: lol
[2014-04-25 21:54:56 -0400] ypaq: hey
[2014-04-25 21:55:10 -0400] ypaq: i'm having problems with the chef-server cookbook
[2014-04-25 21:55:26 -0400] ypaq: for a GET on http://www.opscode.com/chef/download-server?p=ubuntu&pv=14.04&m=x86_64&v=latest&prerelease=false&nightlies=false
[2014-04-25 21:55:32 -0400] ypaq: i'm getting a server error
[2014-04-25 21:56:27 -0400] ypaq: same for 13.04
[2014-04-25 21:58:33 -0400] coderanger: jidar: Nah, its just CLI <-> dockerd comms
[2014-04-25 22:01:49 -0400] rburton-: Anyone know of a good recipe for neo4j? e.g., 2.x support
[2014-04-25 22:04:12 -0400] sarkis: coderanger: what is the nodes/ directory called? is it just roles?
[2014-04-25 22:04:30 -0400] sarkis: i can't find documentation pertaining to this specifically in the chef docs
[2014-04-25 22:04:32 -0400] coderanger: sarkis: Not sure what you mean
[2014-04-25 22:04:44 -0400] coderanger: sarkis: Nodes are not stored on disk normally
[2014-04-25 22:05:15 -0400] coderanger: but a nodes/ folder containing JSON is used with some tools like knife upload or knife-solo
[2014-04-25 22:06:46 -0400] alexbst_: ypaq - 14.04 and 13.04 aren't listed at https://github.com/opscode-cookbooks/chef-server yet
[2014-04-25 22:07:30 -0400] alexbst_: ypaq - I suggest you make an issue - the new LTS should be supported.
[2014-04-25 22:07:37 -0400] sarkis: coderanger: ah right im using knife-solo sorry confused it as  chef feature
[2014-04-25 22:07:43 -0400] sarkis: thanks
[2014-04-25 22:09:07 -0400] ypaq: alexbst_: where can i do that? github site of chef-server cookbooks doesn't have an issues tab
[2014-04-25 22:09:33 -0400] coderanger: ypaq: https://tickets.opscode.com/secure/Dashboard.jspa
[2014-04-25 22:09:40 -0400] ypaq: coderanger: thanks
[2014-04-25 22:23:24 -0400] JoeNuspl: I'm having an issue with chef-zero 2.0.2 knife cookbook upload -a fails w/ EPIPE but nothing on the zero side, even w/ -ldebug.  It'll finally succeed after retrying 3-5 times.  Is there somewhere other than STDOUT chef-zero logs?
[2014-04-25 22:24:25 -0400] jkeiser: JoeNuspl: chef-zero -l debug isn't showing you anything at all?
[2014-04-25 22:25:24 -0400] JoeNuspl: it shows debug but nothing to indicate a failure
[2014-04-25 22:30:30 -0400] JoeNuspl: I have 125 cookbooks.  Each iteration it get further into the list.  There isn't any rate limiter?
[2014-04-25 22:31:29 -0400] coderanger: JoeNuspl: What are you trying to test?
[2014-04-25 22:38:00 -0400] damien: greetings
[2014-04-25 22:38:13 -0400] damien: hey anyone got a min to discuss a cookbook wrapper question?
[2014-04-25 22:38:25 -0400] coderanger: damien: Just ask
[2014-04-25 22:38:27 -0400] JoeNuspl: coderanger: I'm writing tests for our chef deployment pipeline scripts.  So the test pre-populates a cookbook set and then goes through various upload scenarios testing that the deployer catches various errors.
[2014-04-25 22:39:07 -0400] coderanger: JoeNuspl: You can just copy the cookbooks to disk before you launch chef-zero
[2014-04-25 22:39:16 -0400] bricker: Does it make sense to have multiple VMs which use the same chef node?
[2014-04-25 22:39:32 -0400] coderanger: bricker: No
[2014-04-25 22:39:46 -0400] coderanger: JoeNuspl: berks vendor can be useful for this if you use berkshelf
[2014-04-25 22:40:18 -0400] damien: I am trying to setup elasticsearch cookbook, which calls for an aws data bag with the credentials, but they did not use EncryptedDataBagItem.load and instead the secrets are stored in plain text, I would like to encrypt them, I set up the encrypted data bag, but noticed that it didn't get applied because they are only using DataBagItem.load, is using a cookbook wrapper the best way to customize? Or do a chef-rewind?
[2014-04-25 22:40:54 -0400] coderanger: damien: No real option but to fork and patch
[2014-04-25 22:40:55 -0400] rayrod2030: damien: I've accomplished the same thing using a wrapper cookbook
[2014-04-25 22:41:16 -0400] coderanger: damien: Otherwise you need to rewind every resource that uses the creds
[2014-04-25 22:41:28 -0400] damien: coderanger, hmmm
[2014-04-25 22:41:35 -0400] damien: rayrod2030, oh yeah? how did you do?
[2014-04-25 22:42:17 -0400] damien: coderanger, I think they only use it in setting up the attributes, but yeah, you are right all of those would have to be reevaluated and anything in any subsequent recipe...
[2014-04-25 22:42:35 -0400] rayrod2030: damien: sorry I was thinking of zookeeper
[2014-04-25 22:42:38 -0400] damien: maybe I will just deal with forking and managing it
[2014-04-25 22:42:42 -0400] coderanger: damien: Which cookbook are you using?
[2014-04-25 22:42:43 -0400] damien: rayrod2030, ahh, k, ty
[2014-04-25 22:42:46 -0400] rayrod2030: but I could swear I did something similar with elasticsearch
[2014-04-25 22:43:04 -0400] damien: https://github.com/elasticsearch/cookbook-elasticsearch
[2014-04-25 22:43:58 -0400] coderanger: damien: Oh god this is terrifying
[2014-04-25 22:44:13 -0400] coderanger: damien: Replacing that with an encrypted data bag will accomplish nothing, don't bother
[2014-04-25 22:44:22 -0400] damien: coderanger, oh yeah? how come?
[2014-04-25 22:44:27 -0400] rayrod2030: coderanger: that's surprising.  The elasticsearch cookbook is pretty good imo
[2014-04-25 22:44:37 -0400] coderanger: damien: Node attributes are readable by any client
[2014-04-25 22:44:45 -0400] rayrod2030: right
[2014-04-25 22:44:45 -0400] coderanger: rayrod2030: lolno, this is terrible
[2014-04-25 22:44:52 -0400] damien: Is it storing the creds back up?
[2014-04-25 22:44:56 -0400] damien: oh man didn't even realize that
[2014-04-25 22:45:00 -0400] coderanger: damien: Yep
[2014-04-25 22:45:01 -0400] damien: they are not whitelisted...
[2014-04-25 22:45:08 -0400] damien: oh egads, it's worse than I thought....
[2014-04-25 22:45:29 -0400] coderanger: damien: Unless you use something that hacks how you store node attributes, this is a security risk as written
[2014-04-25 22:45:31 -0400] rayrod2030: yeah the node credentials are saved back to chef server
[2014-04-25 22:45:43 -0400] damien: yeah the s3cmd cookbook did that too... I opend up a feature request to delete the creds before the recipe finishes converge so they didn't get sent back
[2014-04-25 22:46:07 -0400] coderanger: damien: Still not safe, some cookbook call node.save from inside the recipe code
[2014-04-25 22:46:20 -0400] coderanger: (which they shouldn't, but some do anyway)
[2014-04-25 22:46:46 -0400] damien: coderanger, really? I thought that this would at least help: -184-9-58.hsd1.ca.comcast.net) has joined #chef
[2014-04-25 22:46:47 -0400] damien: <damien> yeah the s3cmd cookbook
[2014-04-25 22:46:51 -0400] damien: er
[2014-04-25 22:46:54 -0400] damien: wrong paste ;)
[2014-04-25 22:47:04 -0400] damien: node.normal_attrs.delete(:amazon_...)
[2014-04-25 22:47:13 -0400] coderanger: damien: Where are you running that
[2014-04-25 22:47:48 -0400] coderanger: damien: The right way to fix this is generally more like https://github.com/balanced-cookbooks/citadel/blob/master/libraries/safe_node.rb
[2014-04-25 22:47:55 -0400] damien: I did that for another cookbook, amazon_s3cmd, that did a similar thing of storing plain text creds to the node (even though that authoer actually went through effort to implement encypted data bag and even provided instructions for users how to create and use)
[2014-04-25 22:48:07 -0400] coderanger: damien: but its a royal pain to do properly
[2014-04-25 22:48:23 -0400] coderanger: damien: Need to wipe it from all three levels, for example
[2014-04-25 22:48:26 -0400] damien: coderanger, oh wow
[2014-04-25 22:48:38 -0400] coderanger: damien: Basically don't store secrets in node attributes, evaaaaarrrrrrr
[2014-04-25 22:48:41 -0400] damien: coderanger, thanks for that link, interesting - so overwrite the save method so that it never gets back
[2014-04-25 22:48:46 -0400] damien: hahah no kidding
[2014-04-25 22:49:02 -0400] damien: what about that whitelist recipe? one you put at the end of your run....
[2014-04-25 22:49:13 -0400] coderanger: damien: The facebook one?
[2014-04-25 22:49:36 -0400] coderanger: damien: https://github.com/opscode-cookbooks/whitelist-node-attrs is safe too, it uses the same technique
[2014-04-25 22:49:52 -0400] coderanger: though it doesn't restore things after saving
[2014-04-25 22:50:10 -0400] coderanger: so if you do call node.save in the middle of a run, things will just break horribly instead
[2014-04-25 22:50:17 -0400] coderanger: (but thats probably okay since you shouldn't do that)
[2014-04-25 22:51:01 -0400] damien: interesting
[2014-04-25 22:52:10 -0400] damien: wow, yeah this security stuff gets pretty complicatd pretty quick
[2014-04-25 22:52:14 -0400] coderanger: damien: \o/
[2014-04-25 22:52:21 -0400] rayrod2030: computers
[2014-04-25 22:52:22 -0400] coderanger: damien: Secrets management is Really Really Hard
[2014-04-25 22:52:24 -0400] damien: heheh
[2014-04-25 22:52:30 -0400] damien: yaup
[2014-04-25 22:52:43 -0400] damien: eff it, may as well just post on a sticky note in on front door
[2014-04-25 22:52:51 -0400] coderanger: damien: If you check out my pycon 2014 talk on app deployments I spend a few minutes showing the available options
[2014-04-25 22:53:06 -0400] damien: or that reminds me of: http://www.supermantv.net/articles/fortress/fortress-solitude.jpg
[2014-04-25 22:53:08 -0400] coderanger: but the tl;dr is "lolwut even is security"
[2014-04-25 22:53:22 -0400] damien: hah
[2014-04-25 22:53:27 -0400] damien: coderanger, do you have a link handy?
[2014-04-25 22:53:35 -0400] damien: I would love to check out
[2014-04-25 22:54:41 -0400] coderanger: damien: http://youtu.be/SW1OXGl3Mck?t=23m34s
[2014-04-25 22:54:49 -0400] geggam: only reasonable solution i have come up with secrets is to make ramdisks and store the secrets there... so apps can access but if machine reboots / dies / is killed secrets go away
[2014-04-25 22:55:00 -0400] coderanger: unrelated: oh god I hate listening to my own talks
[2014-04-25 22:55:02 -0400] geggam: but that has problems too :) ...
[2014-04-25 22:55:05 -0400] damien: coderanger, nice ty
[2014-04-25 22:55:17 -0400] damien: geggam, also intresting
[2014-04-25 22:55:20 -0400] geggam: your own voice ... always sounds terrible
[2014-04-25 22:55:22 -0400] damien: coderanger, hah i bet
[2014-04-25 22:56:20 -0400] geggam: our security policy is all keys / secrets have to be encoded at rest aka disk... so i made resting place not disk
[2014-04-25 22:56:43 -0400] coderanger: geggam: pretty sure that policy is unusable right now
[2014-04-25 22:56:47 -0400] geggam: you can even encrypt that ramdisk so its not wide out in the open
[2014-04-25 22:57:28 -0400] geggam: if the people writing the policies say its ok.. it is :)
[2014-04-25 22:57:50 -0400] coderanger: geggam: This is why I don't do big companies
[2014-04-25 22:59:12 -0400] geggam: i know coderanger ... its hard to go with the flow when you know what the issues are
[2014-04-25 22:59:23 -0400] geggam: but im getting older and its getting easier
[2014-04-25 23:00:51 -0400] rayrod2030: security theatre
[2014-04-25 23:02:22 -0400] Quanqued: hi - I'm trying to get test-kitchen working with openstack (test-kitchen 1.2.1 and kitchen-openstack 1.4.0) but running kitchen create hangs indefinitely after "(server ready)".   anyone have suggestions that might cause it to block there?  shows nothing after that line even with debug output enabled..
[2014-04-25 23:02:25 -0400] geggam: the more i see the more i think its all theater
[2014-04-25 23:03:50 -0400] geggam: http://spritesmods.com/?art=hddhack
[2014-04-25 23:03:55 -0400] geggam: example ^
[2014-04-25 23:11:18 -0400] damien: geggam, wow cool, I like "All that implies there's some intelligence in an hard disk, and intelligence usually implies hackability."
[2014-04-25 23:13:01 -0400] geggam: yeah... now take that to every other device connected to the motherboard damien
[2014-04-25 23:15:33 -0400] damien: :/
[2014-04-25 23:15:35 -0400] damien: glass world
[2014-04-25 23:28:09 -0400] wdpro_kevin: coderanger: Good afternoon I'm getting and error using the 'chef_server_endpoint' in your berkshelf-api cookbook
[2014-04-25 23:28:59 -0400] wdpro_kevin: it's yelling at me about 'Required argument client_name is missing!' when it is definitely there.
[2014-04-25 23:33:25 -0400] wdpro_kevin: coderanger: Here's a gist with the details:   https://gist.github.com/crackmac/11306784
