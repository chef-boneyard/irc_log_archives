[2014-05-27 00:04:33 -0400] coderanger: digitalchild: ITs compiling libgecode
[2014-05-27 00:04:38 -0400] coderanger: digitalchild: It will take a while
[2014-05-27 00:04:59 -0400] digitalchild: coderanger: ok
[2014-05-27 00:05:03 -0400] digitalchild: patience!
[2014-05-27 00:05:08 -0400] digitalchild: ill go get a coffee then :)
[2014-05-27 00:05:35 -0400] coderanger: digitalchild: Or use chefdk, which has it prebuilt
[2014-05-27 00:05:47 -0400] coderanger: And "a while" it like 5m tops
[2014-05-27 00:07:41 -0400] jblack_: Hi. I have a bit of a problem. I'm dealing with a system that has a very old chef (10.6), which doesn't seem to have chef_gem
[2014-05-27 00:08:30 -0400] jblack_: is there a way to get chef_gem abilities without upgrading chef?
[2014-05-27 00:11:15 -0400] coderanger: jblack_: Yeah, in the bad old days you just leave gem_binary blank and run it at compile time
[2014-05-27 00:11:24 -0400] coderanger: Thats more or less all chef_gem does
[2014-05-27 00:13:39 -0400] jblack_: gem_package doens't seem to be running at compile time.
[2014-05-27 00:15:02 -0400] jblack_: Ohhh, but I found ancient instructions that might work.
[2014-05-27 00:15:08 -0400] coderanger: Yeah, you need to do that yourself
[2014-05-27 00:15:25 -0400] coderanger: gem_package 'asdf'' do action :nothing end.run_action(:install)
[2014-05-27 00:15:40 -0400] jblack_: that's about what I found
[2014-05-27 00:15:44 -0400] digitalchild: coderanger: running in a VM so it might be slower
[2014-05-27 00:16:25 -0400] coderanger: digitalchild: Its mostly CPU crunching, so not much perf overhead on a VM
[2014-05-27 00:16:44 -0400] digitalchild: coderanger: well cc1plus is chewing 4 processes 60% cpu each..
[2014-05-27 00:16:53 -0400] coderanger: Sounds about right
[2014-05-27 00:16:53 -0400] digitalchild: and its done!
[2014-05-27 00:17:00 -0400] digitalchild: woo
[2014-05-27 00:17:08 -0400] coderanger: digitalchild: Most VM perf overhead these days is on I/O
[2014-05-27 00:17:19 -0400] coderanger: CPU and memory access are generally near-native speed
[2014-05-27 00:18:55 -0400] slh1234: Question is: when we use "knife azure server list" we cannot see the custom images we have created. Is there a way for us to see the custom images?
[2014-05-27 00:19:44 -0400] coderanger: slh1234: I don't know much about azure, but I would expect that command to list running VMs, not VM images
[2014-05-27 00:20:39 -0400] jblack_: That worked perfectly, coderanger. Thanks. You just saved me a three day headache.
[2014-05-27 00:21:16 -0400] coderanger: jblack_: \o/
[2014-05-27 00:21:46 -0400] coderanger: jblack_: Depending on your vintage of ruby, you might also need to do the Gem.clear_paths thingy
[2014-05-27 00:22:18 -0400] jblack_: New chef = new ruby = new centos = new images =  possible firmware flasher incompatibilities.
[2014-05-27 00:22:25 -0400] jblack_: {shudder}
[2014-05-27 00:22:39 -0400] jblack_: I didn't seem to need clear_paths this time around
[2014-05-27 00:24:00 -0400] coderanger: jblack_: Only the first two
[2014-05-27 00:24:10 -0400] coderanger: jblack_: chef now ships what it calls omnibus installers
[2014-05-27 00:24:22 -0400] jblack_: Yeah, I'm familiar with omnibus, and we use it for our real systems....
[2014-05-27 00:24:22 -0400] coderanger: basically you get a static-ish linked blob in /opt with all the dependencies
[2014-05-27 00:24:55 -0400] jblack_: We also use chef to flash firmware on pxebooted systems.
[2014-05-27 00:25:17 -0400] coderanger: Ahh, fun
[2014-05-27 00:25:20 -0400] jblack_: I see a couple hundred new systems a week.
[2014-05-27 00:29:23 -0400] slh1234: Thank you @coderanger. I put the wrong command in. We are using "Knife Azure Image List"
[2014-05-27 01:29:42 -0400] Neozonz: Is there anyway to revert a chef-client run?
[2014-05-27 01:31:43 -0400] Neozonz: coderanger? :o
[2014-05-27 01:31:53 -0400] coderanger: Neozonz: No ...
[2014-05-27 01:31:59 -0400] coderanger: Neozonz: Not even sure what that mean
[2014-05-27 01:32:15 -0400] Neozonz: i ran chef-client on a server, but it's pointing to an older chefserver
[2014-05-27 01:32:25 -0400] Neozonz: so all the configs went back to factory settings
[2014-05-27 01:32:48 -0400] coderanger: Nope, not unless you have some magic transactional filesystem
[2014-05-27 01:32:54 -0400] Neozonz: god damn
[2014-05-27 01:32:57 -0400] Neozonz: kk
[2014-05-27 01:33:03 -0400] coderanger: Just run it again with the correct configs
[2014-05-27 01:33:08 -0400] Neozonz: looks like i gotta manually make the changes
[2014-05-27 01:33:29 -0400] Neozonz: nah it shouldn't even be part of the chef-server
[2014-05-27 01:33:35 -0400] Neozonz: (the old one)
[2014-05-27 01:34:16 -0400] Neozonz: Does chef keep a local backup pre chef run by anychance?
[2014-05-27 01:34:18 -0400] Neozonz: for any configs
[2014-05-27 01:35:18 -0400] cheeseplus: Neozonz: yep, /var/chef/backup
[2014-05-27 01:35:25 -0400] Neozonz: thank god
[2014-05-27 01:37:42 -0400] coderanger: Neozonz: That only applies to templates and similar files, and can be disabled per-resource so it isn't authortative
[2014-05-27 01:38:20 -0400] Neozonz: ?
[2014-05-27 01:44:15 -0400] Neozonz: anyway to decouple the node from the chefserver?
[2014-05-27 01:45:46 -0400] digitalchild: knife node delete ?
[2014-05-27 01:46:03 -0400] tylerhannan: Neozonz: http://docs.opscode.com/knife_node.html#delete or you can remove it in server UI
[2014-05-27 01:46:11 -0400] Neozonz|Disc: cheers
[2014-05-27 01:46:17 -0400] digitalchild: don't rely on the UI
[2014-05-27 01:46:20 -0400] digitalchild: its being removed
[2014-05-27 01:46:23 -0400] Neozonz|Disc: it won't run any recipes or anything against the machine right?
[2014-05-27 01:46:27 -0400] Neozonz|Disc: like revert configs/templates
[2014-05-27 01:46:29 -0400] digitalchild: from oss that is
[2014-05-27 01:46:59 -0400] cheeseplus: Neozonz|Disc: removing it just makes it dead to the chef-server, it doesn't do anything to the node itself
[2014-05-27 01:47:11 -0400] Neozonz|Disc: any command to tell what the hostchef server is?
[2014-05-27 01:47:39 -0400] Neozonz|Disc: thought so too, just wanted to be on the cautious side ;p
[2014-05-27 01:47:45 -0400] Neozonz|Disc: after that stunt lol
[2014-05-27 01:52:31 -0400] Neozonz|Disc: when i try to knife delete node
[2014-05-27 01:52:41 -0400] Neozonz|Disc: WARNING: No knife configuration file found
[2014-05-27 01:52:42 -0400] Neozonz|Disc:  followed by ERROR: ArgumentError: Cannot sign the request without a client name, check that :node_name is assigned
[2014-05-27 01:52:57 -0400] digitalchild: does it show up in the list ?
[2014-05-27 01:52:59 -0400] digitalchild: knife node list ?
[2014-05-27 01:53:14 -0400] Neozonz|Disc: same two errors
[2014-05-27 01:53:22 -0400] digitalchild: then you're probably in the wrong dir..
[2014-05-27 01:53:36 -0400] digitalchild: or your knife env isn't setup right ..
[2014-05-27 01:54:43 -0400] Neozonz|Disc: didn't set this server up :(
[2014-05-27 01:54:54 -0400] Neozonz|Disc: anyway i can force decouple it still?
[2014-05-27 01:54:54 -0400] digitalchild: thats your knife client thats the issue..
[2014-05-27 01:56:26 -0400] Neozonz|Disc: no other profiles with one configured
[2014-05-27 01:56:31 -0400] Neozonz|Disc: hmmm
[2014-05-27 01:57:04 -0400] Neozonz|Disc: looks like i gotta track down this server
[2014-05-27 01:57:17 -0400] digitalchild: just follow the knife workstation setup
[2014-05-27 01:57:29 -0400] digitalchild: pretty straight forward, then run it all local
[2014-05-27 03:50:26 -0400] Neozonz: how can one remove chef from a node if the server has been shutdown + no knife.rb
[2014-05-27 03:54:18 -0400] digitalchild: uninstall chef?
[2014-05-27 03:54:34 -0400] digitalchild: unless you have chef-client in cron.. it won't really do.. much
[2014-05-27 03:55:48 -0400] programmerq: when you say the server, you mean the node running chef-client? or the server running chef-server?
[2014-05-27 04:34:52 -0400] Neozonz:  node running chef-client
[2014-05-27 04:35:17 -0400] digitalchild: take it out of cron?
[2014-05-27 04:35:24 -0400] Neozonz: cool
[2014-05-27 04:35:36 -0400] Neozonz: looking to reinstall it and add it to another chef server
[2014-05-27 04:35:41 -0400] Neozonz: shouldnt have any issues?
[2014-05-27 04:35:54 -0400] digitalchild: if you do it'll tell you what the problem is
[2014-05-27 04:36:04 -0400] digitalchild: ive bootstrapped nodes and have had them spaz out
[2014-05-27 04:36:15 -0400] digitalchild: so i just delete it from my workstation and the server and re-add and its been fine
[2014-05-27 04:36:28 -0400] digitalchild: you then give the node whatever roles/recipes you want it to have
[2014-05-27 04:36:32 -0400] digitalchild: just like any other node
[2014-05-27 04:36:47 -0400] Neozonz: cool
[2014-05-27 04:36:48 -0400] Neozonz: thanks guys
[2014-05-27 06:05:04 -0400] chromic: can chef ensure that specific files can only be downloaded by specific nodes?
[2014-05-27 06:05:40 -0400] chromic: ie, if I create node-specific tar files, can anyone download them if they find out the URL?
[2014-05-27 06:05:57 -0400] chromic: or can I restrict access to just the one node?
[2014-05-27 06:11:15 -0400] chromic: is there a tutorial on how to set up a chef client from scratch? The one on the site assumes you can set up a Vagrant or EC2 instance
[2014-05-27 06:11:31 -0400] chromic: I have an existing Linux box that I want to use
[2014-05-27 06:12:02 -0400] chromic: the Vagrant and EC2 tutorials have a bunch of files provisioned on them by default
[2014-05-27 08:16:04 -0400] shachar: Hi need help with chef_metal_docker , if someone can please have a look at http://pastebin.com/5YsWWPyj
[2014-05-27 09:00:04 -0400] sahilsk: Hi all.I want to run my one recipe under different user. how can i specify it ?
[2014-05-27 09:00:34 -0400] sahilsk: i want to use postgres use to setup everything in one recipe. any help would be great
[2014-05-27 09:09:35 -0400] t_: is there any way how to dump node hash
[2014-05-27 09:09:47 -0400] t_: from shell or solo to a file
[2014-05-27 09:10:04 -0400] t_: so I can load it from serverspec spec_helper ?
[2014-05-27 09:11:47 -0400] srenatus: t_: https://github.com/opscode/chef/blob/master/lib/chef/node.rb#L418  you could save node.to_json somewhere, I guess
[2014-05-27 09:12:31 -0400] t_: that will not save whole node
[2014-05-27 09:13:27 -0400] srenatus: t_: what are you trying to achieve?  could this be related? https://github.com/tily/chef-serverspec-handler
[2014-05-27 09:14:51 -0400] srenatus: t_: and what are you missing from node.to_json?  judging from this, https://github.com/opscode/chef/blob/master/lib/chef/node.rb#L422-L436 it's quite a lot ;)
[2014-05-27 09:14:58 -0400] t_: https://gist.github.com/anonymous/74d233b347ab51505f4a
[2014-05-27 09:15:03 -0400] srenatus: t_: not that there's also a report handler emitting json, that could be of use, too
[2014-05-27 09:15:26 -0400] srenatus: t_: that's not the "proper" node object you'd get at the end of a chef run
[2014-05-27 09:15:37 -0400] srenatus: t_: try "recipe_mode" (in chef-shell) and compare results
[2014-05-27 09:15:41 -0400] t_: In my serverspec test
[2014-05-27 09:16:07 -0400] t_: I would like to accessnode parameters in a way how I access them in cookbook
[2014-05-27 09:18:40 -0400] srenatus: t_:  try "chef-shell -z" (accessing your chef-server), and "recipe_mode", and then have a look at node.to_json
[2014-05-27 09:18:51 -0400] t_: e.g. I have a cookbook which installs something to a node['foo']['dest_dir']
[2014-05-27 09:19:31 -0400] srenatus: t_: or look into the json_file handler: https://github.com/opscode/chef/blob/master/lib/chef/handler/json_file.rb
[2014-05-27 09:19:35 -0400] t_: but there is now way how to tell serverspec to tool at node['foo']['dest_dir'] for files installed
[2014-05-27 09:19:43 -0400] srenatus: ...which might be better since it runs at the very end of a chef run
[2014-05-27 09:22:21 -0400] srenatus: t_: the easiest way might be to just include_recipe "chef_handler::json_file" and read the most recent file in /var/chef/reports/*.json from serverspec
[2014-05-27 09:22:53 -0400] srenatus: these files include _everything_
[2014-05-27 09:23:32 -0400] t_: hmm
[2014-05-27 09:25:09 -0400] srenatus: or believe me that node.to_json in a proper run (not from the top-level chef-shell call) includes the entire node object (better yet, believe the code) ;)
[2014-05-27 09:25:54 -0400] t_: sure it does
[2014-05-27 09:26:02 -0400] t_: but when I run to_json on it
[2014-05-27 09:26:04 -0400] srenatus: but would you really want to go through the json file in a serverspec helper?  Why not just create the serverspec tests from within the chef run?  (or like the serverspec-handler above)
[2014-05-27 09:26:10 -0400] t_: resulting json doesn't
[2014-05-27 09:27:37 -0400] t_: https://gist.github.com/anonymous/5240063415afb1fbf951
[2014-05-27 09:29:00 -0400] srenatus: t_: that's because it's not doing the attribute-magic
[2014-05-27 09:29:10 -0400] srenatus: t_: you get split up attributes, by precedence levels,
[2014-05-27 09:29:19 -0400] srenatus: ...try r['normal'].keys
[2014-05-27 09:29:27 -0400] coderanger: t_: Most of the node data is pretty boring, the only complex stuff that isn't set by you is the ohai data
[2014-05-27 09:29:42 -0400] coderanger: t_: and you can get that by just running "ohai", or check out fauxhai
[2014-05-27 09:32:53 -0400] t_: hmm for me r['normal'] is just fine :)
[2014-05-27 09:33:05 -0400] srenatus: :)
[2014-05-27 09:33:52 -0400] sahilsk: will anyone tell how to run recipe with different user? say postgres?
[2014-05-27 09:36:28 -0400] srenatus: sahilsk: you can't pick users on a per-recipe basis, I'm afraid
[2014-05-27 09:37:22 -0400] srenatus: sahilsk: you could execute another chef(-solo) run with a different run list and user, but that of course requires that user to be able to access everything needed for that run (including /var/chef etc, or changing these directories via another client.rb or solo.rb)
[2014-05-27 09:38:34 -0400] sahilsk: srenatus: this is the problem. If i run with postgres i can't do admin things. i don't want to play with file and system settings.. just want to switch between users
[2014-05-27 09:38:56 -0400] n1ko: "just want to switch between users" is plain wrong imho
[2014-05-27 09:39:04 -0400] n1ko: chef is not really a platform for running scripts
[2014-05-27 09:39:27 -0400] n1ko: ansible on the other hand is, so yeah that would be better if you really want to do that
[2014-05-27 09:40:14 -0400] sahilsk: i' am not fan of chef.  this task has to be done in chef. That's why stuck with it.  I need to setup postgresql replication cluster.
[2014-05-27 09:41:05 -0400] n1ko: i would suggest you try to understand chef philosophy rather than trying to use it like another tool
[2014-05-27 09:41:50 -0400] sahilsk: thanks  for the tip. will give it a try. :)
[2014-05-27 09:42:08 -0400] n1ko: but if you really want to use chef as script running platform you can wrap it all in a bash block :)
[2014-05-27 09:42:15 -0400] srenatus: sahilsk: you can execute stuff as another user, though
[2014-05-27 09:42:28 -0400] srenatus: sahilsk: but that is, commands or scripts, not recipes
[2014-05-27 09:42:38 -0400] srenatus: (resource-level, so to speak, for some resources)
[2014-05-27 09:44:19 -0400] sahilsk: srenatus: that help. thanks
[2014-05-27 09:44:36 -0400] srenatus: :)
[2014-05-27 09:44:57 -0400] StFS: How would one go about defining a bridged network interface in a Chef script? Do I just have to provide a template of the relevant file (/etc/sysconfig/network-scripts/ifcfg-br0 or something like that in CentOS and /etc/network/interfaces in Debian/Ubuntu) or is there some better/standard way of doing it?
[2014-05-27 09:45:59 -0400] coderanger: sahilsk: Recipes don't run as a user per se
[2014-05-27 09:46:13 -0400] coderanger: sahilsk: I mean they run in the chef process which uses runs as root, but recipes are just code
[2014-05-27 09:46:34 -0400] coderanger: StFS: It is entirely distro-dependency
[2014-05-27 09:46:38 -0400] coderanger: er, dependent
[2014-05-27 09:47:35 -0400] StFS: coderanger: ok... but then again so are a lot of things that Chef provides "primitives" for... I was just hoping that there was some standard cookbook that did that abstraction for me.
[2014-05-27 09:48:05 -0400] coderanger: StFS: networking is a mess, there really isn't a common interface
[2014-05-27 09:48:26 -0400] StFS: coderanger: allright. Thanks for the answer :-)
[2014-05-27 09:48:53 -0400] workmad3: StFS: the one time I've dealt with network interfaces in a chef-solo run, I basically just did templates and then restarted the appropriate services
[2014-05-27 09:49:21 -0400] StFS: yeah... looks like that's the way I'll be going.
[2014-05-27 09:49:57 -0400] workmad3: StFS: it would probably be a good idea to use the ohai cookbook to reload the network info from that too, which is a step I didn't really know about at the time :)
[2014-05-27 09:51:35 -0400] StFS: I have another question though, I'm having problems with setting up Docker via the "official" recipe (the one found on the opscode search engine). It doesn't seem to restart the service properly after installing. I know about the notification mechanism in chef but I'm not really sure how to apply it here
[2014-05-27 09:51:48 -0400] StFS: workmad3: allright... that's something I'll look into
[2014-05-27 09:52:53 -0400] StFS: oh shoot... gotta run to a meeting... I'll re-ask this later and try to make more sense / complete question
[2014-05-27 10:02:32 -0400] coderanger: StFS: There is nothing "official" about the community site
[2014-05-27 11:29:43 -0400] StFS: coderanger: no... I know :-)
[2014-05-27 11:32:30 -0400] haad: hi
[2014-05-27 11:32:32 -0400] whiteadam: I am risen
[2014-05-27 11:34:31 -0400] coderanger: whiteadam: And I've not yet slept
[2014-05-27 11:34:36 -0400] coderanger: haad: Alo
[2014-05-27 11:34:53 -0400] haad: I'm trying to get chef/handler working
[2014-05-27 11:35:10 -0400] haad: If I add ti to Berksfile as
[2014-05-27 11:35:16 -0400] haad: cookbook 'chef_handler'
[2014-05-27 11:35:27 -0400] haad: berks can't find it as cookbook
[2014-05-27 11:36:00 -0400] coderanger: haad: What version of berkshelf are you suing
[2014-05-27 11:36:38 -0400] whiteadam: coderanger: I want to be just like you when I grow up
[2014-05-27 11:36:46 -0400] haad: 3.1.1
[2014-05-27 11:38:17 -0400] coderanger: haad: Hmm, and you are using the default berks api?
[2014-05-27 11:38:43 -0400] haad: source "http://api.berkshelf.com"
[2014-05-27 11:38:43 -0400] haad: # RSD CookBooks
[2014-05-27 11:38:44 -0400] haad: cookbook 'rsd-pkgs', '~> 0.1', path: 'rsd-cookbooks/rsd-pkgs'
[2014-05-27 11:38:44 -0400] haad: cookbook 'rsdtomcat', '~> 0.1', path: 'rsd-cookbooks/rsdtomcat'
[2014-05-27 11:38:45 -0400] haad: cookbook 'rsd-svs-tomcat', '~> 0.1', path: 'rsd-cookbooks/rsd-svs-tomcat'
[2014-05-27 11:38:46 -0400] haad: cookbook 'rsd-tomcat-libs', '~> 0.1', path: 'rsd-cookbooks/rsd-tomcat-libs'
[2014-05-27 11:38:46 -0400] haad: site :opscode
[2014-05-27 11:38:47 -0400] haad: # Community based cookbooks
[2014-05-27 11:38:47 -0400] haad: #cookbook 'tomcat', '= 0.15.12'
[2014-05-27 11:38:48 -0400] haad: cookbook 'java', '= 1.22.0'
[2014-05-27 11:38:49 -0400] haad: cookbook 'openssl', '= 1.1.0'
[2014-05-27 11:38:49 -0400] haad: cookbook 'supervisor', '~> 0.4.10'
[2014-05-27 11:38:50 -0400] haad: cookbook 'yum-epel'
[2014-05-27 11:38:50 -0400] haad: cookbook 'ark'
[2014-05-27 11:38:51 -0400] haad: metadata
[2014-05-27 11:39:54 -0400] coderanger: haad: Please don't paste large blocks of text in to IRC
[2014-05-27 11:40:23 -0400] coderanger: haad: That should be working, but I don't see the change you mentioned
[2014-05-27 11:42:23 -0400] haad: ah sorry
[2014-05-27 11:42:41 -0400] haad: cookbook 'chef_handler' is missing
[2014-05-27 11:42:47 -0400] haad: I have already removed it
[2014-05-27 11:43:18 -0400] coderanger: haad: Please pastebin the specific error
[2014-05-27 11:45:21 -0400] whiteadam: coderanger: http://pastebin.com/44ZWywPC
[2014-05-27 11:45:33 -0400] whiteadam: internet burn!
[2014-05-27 11:46:40 -0400] whiteadam: oh now that's fancy
[2014-05-27 11:47:10 -0400] coderanger: I should probably go pass out, I can't remember how to make for loops work anymore
[2014-05-27 11:47:35 -0400] whiteadam: here's a hint, there's a do and an end
[2014-05-27 11:47:51 -0400] coderanger: technically there doesn't have to be
[2014-05-27 11:47:59 -0400] coderanger: ruby does have python-style for loops
[2014-05-27 11:48:06 -0400] coderanger: it is just a faux pas to use them
[2014-05-27 11:48:13 -0400] whiteadam: if then?
[2014-05-27 11:48:31 -0400] whiteadam: poop do sleep end
[2014-05-27 11:48:41 -0400] whiteadam: that's way better than loop do
[2014-05-27 12:07:46 -0400] whiteadam: Does all console history goes to the same place? It's early and I can't remember. Like if I have 5 consoles open, does it log them all to the same history?
[2014-05-27 12:15:33 -0400] tomer: hi, I'm new with Chef. Just installed the latest on RHEL
[2014-05-27 12:16:02 -0400] Guest88844: I'm trying to find knife.rb but it's not in ~/.chef
[2014-05-27 12:16:19 -0400] Guest88844: Any idea why this file is missing?
[2014-05-27 12:17:05 -0400] Guest88844: I'm using chef-server-11.1.0-1.el6.x86_64.rpm (installed and and than did chef-server-ctl reconfigure
[2014-05-27 12:18:24 -0400] whiteadam: Guest88844: I think you have to generate it the first time
[2014-05-27 12:18:38 -0400] Guest88844: oh
[2014-05-27 12:18:43 -0400] Guest88844: I didn't get that
[2014-05-27 12:18:47 -0400] Guest88844: I'll try
[2014-05-27 12:18:50 -0400] Guest88844: cheers
[2014-05-27 12:18:58 -0400] whiteadam: Guest88844: try: knife configure
[2014-05-27 12:19:33 -0400] Guest88844: yep, that was easy :)
[2014-05-27 12:20:00 -0400] whiteadam: Guest88844: There's also the Chef DK, but I haven't used it, so I can't say whether it's better or not :)
[2014-05-27 12:45:26 -0400] zeroXten: what is the correct way of breaking out of an LWRP action?
[2014-05-27 12:49:03 -0400] Neozonz|Disc: trying to bootstrap a node but getting some issues, git Failed to authenticate as 'ip-172-16-2-127'. Ensure that your node_name and client key are correct.
[2014-05-27 12:50:26 -0400] whiteadam: Neozonz|Disc: It looks like git is trying to authenticate as the node name... maybe
[2014-05-27 12:52:48 -0400] Neozonz|Disc: weird
[2014-05-27 12:53:06 -0400] whiteadam: Neozonz|Disc: What does your bootstrap command look like?
[2014-05-27 12:54:41 -0400] Neozonz|Disc: sudo knife bootstrap git -x username -i /home/username/.ssh/private.key --sudo
[2014-05-27 12:58:28 -0400] davidordave: @Neozonz|Disc you might check to see if a node by that name already exists on the chef server or if there is an old client pem on the box.
[2014-05-27 12:58:33 -0400] whiteadam: Neozonz|Disc: ohhh, I see
[2014-05-27 12:59:04 -0400] whiteadam: Neozonz|Disc: Can you log onto the host and change it's actualt hostname to git before you bootstrap it?
[2014-05-27 12:59:09 -0400] Neozonz|Disc: thank you
[2014-05-27 12:59:31 -0400] Neozonz|Disc: davidordave, had a old chef client flies
[2014-05-27 12:59:33 -0400] Neozonz|Disc: *files
[2014-05-27 13:02:09 -0400] Neozonz|Disc: does the hostname automatically change the nodename?
[2014-05-27 13:02:14 -0400] Neozonz|Disc: or is there something i must manually edit
[2014-05-27 13:02:30 -0400] Neozonz|Disc: ie if i change the hostname at a later time
[2014-05-27 13:04:19 -0400] srenatus: Neozonz|Disc: node_name defaults to the hostname, but you can override (and thus fixiate) it in /etc/chef/client.rb via node_name "mypet"
[2014-05-27 13:05:02 -0400] Neozonz|Disc: but what if u bootstrap with badhostname
[2014-05-27 13:05:10 -0400] Neozonz|Disc: then later change, would it pick it up on a chef-client run
[2014-05-27 13:05:17 -0400] Neozonz|Disc: and fix the badhostname with the new one?
[2014-05-27 13:07:06 -0400] davidordave: @Neozonz|Disc, I think it would fail the run with the same error you saw above. If you want to set the name at bootstrap time you can pass -N {node_name}
[2014-05-27 13:12:42 -0400] whiteadam: davidordave: Along the lines of Neozonz|Disc question... Is it possible to tell the node to set it's own hostname to the node name at bootstrap?
[2014-05-27 13:13:51 -0400] davidordave: Not that I am aware of. That would be wicked awesome though. Nothing like bootstrapping a node only to find out that localhost.localdomain is already taken. /facepalm
[2014-05-27 13:14:05 -0400] whiteadam: I know right!
[2014-05-27 13:14:17 -0400] Neozonz|Disc: hmm
[2014-05-27 13:14:19 -0400] Neozonz|Disc: this is a pain
[2014-05-27 13:14:32 -0400] Neozonz|Disc: now im getting issues as u mentioned earlier davidordave
[2014-05-27 13:14:47 -0400] Neozonz|Disc: for some reason hostname shows the hostname of the machine
[2014-05-27 13:14:51 -0400] Neozonz|Disc: but hostname -f shows localhost
[2014-05-27 13:15:07 -0400] davidordave: you have to change the entry in /etc/hosts too
[2014-05-27 13:15:13 -0400] whiteadam: Neozonz|Disc: I usually just log in initially and set the hostname before bootstrapping. It's a pain, but it works.
[2014-05-27 13:15:25 -0400] whiteadam: Neozonz|Disc: What OS is it?
[2014-05-27 13:15:26 -0400] Neozonz|Disc: and if i check /etc/hostname its completely different
[2014-05-27 13:15:28 -0400] Neozonz|Disc: ubuntu
[2014-05-27 13:15:40 -0400] whiteadam: Not sure how they do it. :(
[2014-05-27 13:16:06 -0400] whiteadam: The: hostname  command just sets it temporarily. There's probably a network manager of some sort to be used
[2014-05-27 13:18:28 -0400] Neozonz|Disc: bah
[2014-05-27 13:18:33 -0400] Neozonz|Disc: keep getting Failed to authenticate as 'localhost'. Ensure that your node_name and client key are correct.
[2014-05-27 13:18:34 -0400] Neozonz|Disc: now
[2014-05-27 13:19:25 -0400] whiteadam: Try changing it in /etc/hostname and /etc/hosts, then restarting and crossing your fingers.
[2014-05-27 13:20:13 -0400] Neozonz|Disc: can't really restart heh
[2014-05-27 13:20:19 -0400] Neozonz|Disc: but i think i got a solution...
[2014-05-27 13:20:25 -0400] whiteadam: heh, I know the feeling
[2014-05-27 13:20:26 -0400] Neozonz|Disc: just rebootstrap lol
[2014-05-27 13:22:33 -0400] Neozonz|Disc: that was easy
[2014-05-27 13:22:45 -0400] Neozonz|Disc: just moved /etc/chef to chef.bak
[2014-05-27 13:22:47 -0400] Neozonz|Disc: and reboostrap :D
[2014-05-27 13:22:52 -0400] whiteadam: hehe
[2014-05-27 13:23:00 -0400] whiteadam: rebuild over repair!
[2014-05-27 13:47:48 -0400] Neozonz|Disc: trying to do a knife cookbook site install COOKBOOK with no luck
[2014-05-27 13:47:54 -0400] Neozonz|Disc: ERROR: The object you are looking for could not be found
[2014-05-27 13:56:41 -0400] Neozonz|Disc: nm ignore that lol
[2014-05-27 14:21:57 -0400] coredump: Can I change the cookbook where chef will look for a resource for a service, the same way I do with templates/files?
[2014-05-27 14:59:32 -0400] chris613: Is there any way to use a node attribute as the default value for a resource attribute when declaring an LWRP? :default => node['stuff']   doesn't seem to work
[2014-05-27 15:00:27 -0400] srenatus: chris613: you could probably not define a default in the resource but check for nil in the provider...?
[2014-05-27 15:01:16 -0400] chris613: srenatus: Yeah, that's what we came up with, but it seems awkward considering there is already a place to explicitly set/show the default, and if the provider actually does something different it's quite misleading
[2014-05-27 15:13:58 -0400] gsymons-di1: chris613: I do :default => node['stuff'] all the time and it works fine. Assuming that node['stuff'] is defaulted in the cookbook.
[2014-05-27 15:15:17 -0400] chris613: gsymons-di1: I'll double-check, thanks!
[2014-05-27 15:24:15 -0400] Shubby: Hi -- I decided to consolidate multiple hastily-developed cookbooks into a single cookbook with multiple recipes. Additionally I create attribute files corresponding to each recipe, hoping I would just summon the attribute file I need for the particular recipe (e.g. recipes/enroll.rb has include_attribute "cookbook::enroll), but when chef-client runs, it just tells me: No resource or method named `include_attribute' for `Chef::Recipe "enroll"'
[2014-05-27 15:24:24 -0400] Shubby: so now I am sad and confused
[2014-05-27 15:24:29 -0400] Shubby: what am I doing wrong?
[2014-05-27 15:24:35 -0400] chris613: Shubby: include_attribute is only for use in attribute files
[2014-05-27 15:24:57 -0400] chris613: and shoult not been neded in Chef 11 really since attributes are guaranteed to be loaded in topographical order of dependencies
[2014-05-27 15:25:19 -0400] chris613: All attribute files get read and all attributes initialized before recipes even start to do their first pass
[2014-05-27 15:25:41 -0400] Shubby: so what's the point of having multiple attribute files?
[2014-05-27 15:26:40 -0400] jidar: seperation of resources?
[2014-05-27 15:26:45 -0400] jidar: in your case anyway
[2014-05-27 15:26:57 -0400] jidar: most of the time it's defaults and inheritiance (spelling :( )
[2014-05-27 15:27:10 -0400] Shubby: it's not really separated if all the attribute files get read anyway
[2014-05-27 15:27:15 -0400] Shubby: I guess it's more orderly but that's it
[2014-05-27 15:28:00 -0400] jidar: yea, why even bother having attributes then! just put it all into recipe/default.tb
[2014-05-27 15:28:11 -0400] jidar: it'll be 1 10,000 line file! go you!
[2014-05-27 15:28:16 -0400] jidar: :
[2014-05-27 15:28:20 -0400] Shubby: that's not what I'm saying!
[2014-05-27 15:28:57 -0400] jidar: hahaha, I'm just picking :P
[2014-05-27 15:29:27 -0400] jidar: it is pretty important imho, to have a clear seperation of resources, makes it easier to wrap your head around
[2014-05-27 15:32:31 -0400] swalberg: I have a recipe that creates a symlink to root's .ssh directory to get around some discrepancies between ldap and files and then includes the ssh-keys recipe (with keep_existing_keys on). If the symlink isn't present when chef-client is run the link is created but then all the existing ssh keys are removed. If the link is present it works as expected. Is the template for authorized_keys being created before the link resource is run?
[2014-05-27 15:33:24 -0400] Shubby: jidar: I agree and that's why I designed things the way I did, not knowing it wouldn't even work to begin with
[2014-05-27 15:33:39 -0400] Shubby: so now I'm back at square one where I need to load different attributes based on the type of node I'm creating
[2014-05-27 15:34:11 -0400] Shubby: I thought, hey, I have this recipe in my cookbook, so load the corresponding attributes, -> happy node
[2014-05-27 15:34:35 -0400] Shubby: sounds like now I have a mess of attribute files overriding each other instead
[2014-05-27 15:38:04 -0400] Reverand: Hi, anyone aware of a change in the user management of tickets.opscode.com? Had an account since 2010, but now it seems my account is gone?
[2014-05-27 15:38:16 -0400] jidar: Shubby: you might want to look into creating roles for those sort of attributes
[2014-05-27 15:38:27 -0400] jidar: Shubby: and make a set of good defaults, and make the differences part of the role itself
[2014-05-27 15:38:54 -0400] jidar: Shubby: also, have you looked at the chart for the precedence in attributes?
[2014-05-27 15:39:04 -0400] Shubby: I was doing that before, but I hate it :| I was hoping to consolidate everything within the cookbook
[2014-05-27 15:39:16 -0400] Shubby: so people who look at it don't have to fish around for stuff
[2014-05-27 15:39:32 -0400] Shubby: and yeah I know the attribute precedence chart, not by memory, but I've seen it
[2014-05-27 15:40:04 -0400] jidar: it really sounds like roles are the answer to your problem, but :effort:
[2014-05-27 15:41:12 -0400] Shubby: it saddens me, but yes
[2014-05-27 15:46:30 -0400] Shubby: so since I can't do that... how then do I use roles to specify different attributes based on environment? I'm guessing I can't use case node['environment'] in a role so that's hours of work down the drain
[2014-05-27 15:46:54 -0400] jidar: er, let me see if I can pull an example for you
[2014-05-27 15:47:56 -0400] jidar: override_attributes({ "tz" => "America/Los_Angeles"})
[2014-05-27 15:48:44 -0400] jidar: oh based on env
[2014-05-27 15:48:55 -0400] jidar: dunno
[2014-05-27 15:49:07 -0400] Shubby: yeah, I have 4 environments (dev/qa/pt/prod) and just as a simple example, the node will have a different FQDN depending on the environment
[2014-05-27 15:49:08 -0400] jidar: seems like the wrong sort of solution
[2014-05-27 15:51:57 -0400] Shubby: with attributes I just have case node['environment'] when 'dev' default['fqdn'] = 'dev.node.domain.com' when 'qa' = 'qa.node.domain.com' and so forth... but now I'm stuck
[2014-05-27 15:53:07 -0400] jidar: can't you just leave that inside the default attribute?
[2014-05-27 15:53:30 -0400] medya: I wanna install jboss cookbook from community site and make a wrapper for it, what is the best practice to download it ? download it using knife on workstaiton ? or using berkshelf ? after I made a wrapper for it, do I upload it to my chef-server and then do I have to modify the Berksfile to add my chef-server as the source?
[2014-05-27 15:53:47 -0400] jidar: berks is pretty much the accepted way to do this
[2014-05-27 15:54:01 -0400] jidar: you can either upload it or not, iirc
[2014-05-27 15:54:01 -0400] medya: how can I make berks to download jboss?
[2014-05-27 15:54:09 -0400] medya: what is iirc
[2014-05-27 15:54:21 -0400] jidar: ... iirc = if I recall correctly
[2014-05-27 15:54:28 -0400] jidar: www.getchef.com/blog/2013/12/03/doing-wrapper-cookbooks-right/
[2014-05-27 15:54:29 -0400] davidordave: aye, make a wrapper that has a dependency (which it should anyway) and have berks resolve it
[2014-05-27 15:54:32 -0400] jidar: give that a read
[2014-05-27 15:54:40 -0400] Shubby: I have multiple recipes within the cookbook, for example a web server and an API server, so that also changes the FQDN
[2014-05-27 15:55:09 -0400] medya: whats the command to download a cookbook using berkshelf
[2014-05-27 15:55:18 -0400] Shubby: e.g. www.domain.com and api.domain.com, each with 4 environments
[2014-05-27 16:01:40 -0400] helfire: hey, anyone stub partial_searches in chefspec?
[2014-05-27 16:01:58 -0400] cheeseplus: medya: you put the cookbook you're depending on in the Berksfile or metadata and then "berks install"
[2014-05-27 16:02:06 -0400] cheeseplus: or berks update
[2014-05-27 16:21:12 -0400] Popsikle-Work: yo
[2014-05-27 16:21:28 -0400] Popsikle: Anyone use a roles cookbook?
[2014-05-27 16:21:34 -0400] Popsikle: instead of the chef roles?
[2014-05-27 16:22:29 -0400] jtimberman: :)
[2014-05-27 16:22:30 -0400] chris613: gsymons-di1: http://hastebin.com/utevojuvic.vhdl  I have set a default in the attributes file, but still get an error from trhe resource declaration. Is it possible this is a Chef 11 addition and I can't do this in Chef 10?
[2014-05-27 16:23:18 -0400] gsymons-di1: chris613: It's definitely possible it's Chef 11 only... I don't think I ever tried it in Chef 10.
[2014-05-27 16:23:30 -0400] chris613: but otherwise that looks okay to you?
[2014-05-27 16:24:41 -0400] gsymons-di1: Yeah.
[2014-05-27 16:25:37 -0400] Popsikle: chris613: try running chef-shell and printing out your attribs?
[2014-05-27 16:25:49 -0400] gsymons-di1: It looks like the node object is unavailable in the LWRP definition.'
[2014-05-27 16:26:14 -0400] chris613: gsymons-di1: That's what I figure, but it's counter-intuitive and you say that you do it all the time
[2014-05-27 16:27:21 -0400] gsymons-di1: True... but I do it all the time in Chef 11... I seem to vaguely recall a change to LWRPs and availability of the node object and Chef 11.
[2014-05-27 16:28:46 -0400] chris613: Okay thanks, that's probably the answer
[2014-05-27 16:30:44 -0400] Popsikle: @chris613 you could always set default to nil and then do a   username = new_resource.username || node['tpn-tomcat']['manager']['username']
[2014-05-27 16:30:54 -0400] Popsikle: in the provider
[2014-05-27 16:31:32 -0400] chris613: Popsikle: Yup, thanks, that's what we'll do until we can upgrade to 11. It sucks though because it makes the default in the resource declaration a lie.'
[2014-05-27 16:32:37 -0400] Popsikle: @coderanger alive?
[2014-05-27 16:39:36 -0400] medya: thanks cheeseplus
[2014-05-27 16:40:22 -0400] atomic-penguin: Trying to run a chef recipe on a windows guest, chef is running as vagrant user, but needs to run as Administrator.  Is there a way to specify the user chef runs as in the Vagrantfile?
[2014-05-27 16:45:07 -0400] medya: when I have berkshelf do I edit my cookbooks in chef-reop/cookbooks/my_cookbook or do I do it in the berkshelf folder?
[2014-05-27 16:51:59 -0400] atomic-penguin: medya, edit it at the source, and do a berks update
[2014-05-27 16:52:59 -0400] medya: <atomic-penguin> when you say source, where do you mean? chef-reop/cookbooks ?
[2014-05-27 16:53:20 -0400] atomic-penguin: medya, I mean the source as defined in your berksfile
[2014-05-27 16:53:52 -0400] atomic-penguin: medya, you can specify a git repo, community site, file path, or chef server as a 'source' in berkshelf
[2014-05-27 16:54:42 -0400] medya: you mean where it says site:opscode  is that the source?
[2014-05-27 16:55:03 -0400] atomic-penguin: medya, I can't see your Berksfile
[2014-05-27 16:55:15 -0400] medya: it is the defaul berksfile,with one line in it
[2014-05-27 16:55:21 -0400] medya: site :opscode
[2014-05-27 16:55:32 -0400] medya: evyerthing else is commented
[2014-05-27 16:57:08 -0400] atomic-penguin: medya, if you are fixing a public community cookboo.  The typical way to do that with Berkshelf is to fork it on github, create a new branch, then pin that cookbook by branch in your Berksfile
[2014-05-27 16:58:12 -0400] medya: atomic-penguin, I wanna write a wrapper for a cookbook, so I first wanna download it from opscode site, then upload it to my chef-server, so I am confused, in the berksfile, what should be my "site:..."
[2014-05-27 16:58:38 -0400] medya: should it be site:opscode or should I add my chef-server to it
[2014-05-27 16:58:57 -0400] medya: how does berkshelf now where is my chef-server to upload the wrapper to it
[2014-05-27 16:59:10 -0400] atomic-penguin: From your knife config
[2014-05-27 16:59:30 -0400] atomic-penguin: ...or your berkshelf config
[2014-05-27 17:00:24 -0400] atomic-penguin: If all you need to do is pull a cookbook from the community site, site:opscode on Berkshelf 2, plus the dependency in your metadata.rb will let Berkshelf pull in that dependency.
[2014-05-27 17:01:37 -0400] medya: where is metadata.rb
[2014-05-27 17:02:18 -0400] medya: oh u mean for each cookbook I put the dependecy in the metadata.rb
[2014-05-27 17:02:22 -0400] atomic-penguin: http://docs.opscode.com/essentials_cookbook_metadata.html
[2014-05-27 17:03:08 -0400] atomic-penguin: I miss bawt
[2014-05-27 17:06:32 -0400] medya: atomic-penguin in metadata.rb would I write depends ..., in the link that you gave me there is no tag for depending on other things
[2014-05-27 17:07:02 -0400] medya: oh sorry
[2014-05-27 17:07:09 -0400] medya: nevermind I found it.
[2014-05-27 17:09:22 -0400] medya: if I have diffrent souces for diffrent cookbooks, how do I sepcify that in berksfile, do I put many source lines one after another ?
[2014-05-27 17:14:26 -0400] atomic-penguin: medya, http://berkshelf.com/v2.0/
[2014-05-27 17:24:27 -0400] cheeseplus: medya: if I haven't already recommended, I'd read though this as a pre-requisite for using Berkshelf http://misheska.com/blog/2013/06/16/getting-started-writing-chef-cookbooks-the-berkshelf-way/
[2014-05-27 17:38:46 -0400] medya: I get this error when trying to install berkshelf:  extconf.rb:94:in `block in run': Failed to build gecode library. (GecodeBuild::BuildError)         from extconf.rb:93:in `chdir'         from extconf.rb:93:in `run'         from extconf.rb:100:in `<main>'
[2014-05-27 17:41:34 -0400] cheeseplus: medya: I'm betting that is from not having build essentials installed
[2014-05-27 17:41:54 -0400] cheeseplus: gecode requires compilation
[2014-05-27 17:42:23 -0400] cheeseplus: medya: an easy way around is using the nicely pre-packaged http://www.getchef.com/downloads/chef-dk/mac/
[2014-05-27 17:43:40 -0400] cheeseplus: didn't mean to post the mac specific link but autodetection yay
[2014-05-27 17:49:37 -0400] medya: cheeseplus, the problem was I had to install ruby-dev 1.9 as opposed to the latest version of ruby
[2014-05-27 17:50:10 -0400] cheeseplus: ahh, so not all the build stuff just that one
[2014-05-27 17:50:28 -0400] cheeseplus: medya: for the record, chefDK is where things are going
[2014-05-27 17:50:46 -0400] cheeseplus: I'm bad though and haven't started using it yet
[2014-05-27 17:57:50 -0400] robguttman: hi.  is there a way to tell chef to ignore (i.e, don't load) a cookbook depending on the ruby version?
[2014-05-27 18:00:08 -0400] ianblenke: robguttman: We've avoided the need for that by using the omnibus pre-packaged ruby. Leaving chef to use a system ruby or even using rbenv usually ends up causing more pain.
[2014-05-27 18:07:03 -0400] robguttman: i will likely need to go down such a path.  for now would like to know if theres some simple workaround to ignore cookbooks that require 1.9+ when running ruby 1.8.7?
[2014-05-27 18:08:07 -0400] robguttman: running chef 10.18.2
[2014-05-27 18:09:39 -0400] juliancdunn: robguttman: there's no such way - cookbooks don't declare what version of Ruby they support
[2014-05-27 18:09:59 -0400] juliancdunn: and now that 1.8 is EOL, you'll see more people just using 1.9+ syntax
[2014-05-27 18:10:37 -0400] robguttman: thanks ianblenke and juliandunn.  at least that confirms i didnt overlook something.
[2014-05-27 18:21:27 -0400] freezey: anyone know the environment variable to set for knife to look for its knife.rb?
[2014-05-27 18:21:28 -0400] rayrod2030: So I've been doing the full Berkshelf Way Workflow as prescribed by Sir James Windsor of The West Indian Rambunctious Gaming Company and one place where I still need some help is in managing bumping cookbook versions when working with multiple devs.  Is this something that can still be solved with knife-spork or is this typically taken care of with a jenkins CI pipeline?
[2014-05-27 18:22:30 -0400] cheeseplus: rayrod2030: just posed today on Chef blog today - http://www.getchef.com/blog/2014/05/27/10909/
[2014-05-27 18:22:47 -0400] cheeseplus: From Sir Seth Vargo of the Culinary Institute of Chef
[2014-05-27 18:23:02 -0400] rayrod2030: That lad is a rising star.
[2014-05-27 18:24:40 -0400] whiteadam: Someone teach me to Cucumber with Chef better, I demand it.
[2014-05-27 18:24:49 -0400] cheeseplus: rayrod2030: there is also the Berks Flow tool that Jamie presented at ChefConf
[2014-05-27 18:24:57 -0400] cheeseplus: whiteadam: isn't there a book for that?
[2014-05-27 18:25:09 -0400] whiteadam: cheeseplus: Yeah, but it's not that great when you get down to it.
[2014-05-27 18:25:38 -0400] cheeseplus: rayrod2030: and with regard to spork or jenkins you can also do it that way too, just depends what fits for your pipeline
[2014-05-27 18:25:39 -0400] rayrod2030: cheeseplus: Yeah I have berksflow github page open in chrome but haven't looked in detail yet.  It's all starting to come together...
[2014-05-27 18:25:53 -0400] whiteadam: cheeseplus: However, the theories of the book are great... and the philosophies and such
[2014-05-27 18:49:05 -0400] juliancdunn: freezey: there is no such environment variable, it just has a series of precedence rules
[2014-05-27 18:52:34 -0400] freezey: juliancdunn: KNIFE_HOME
[2014-05-27 18:52:38 -0400] freezey: tells you were your knife.rb lives
[2014-05-27 18:53:19 -0400] whiteadam: I don't have that cool env var
[2014-05-27 19:03:25 -0400] rayrod2030: How do people feel about ingesting chef logs into their log analytics?  I wonder if it's worth it considering how many secrets can leak into a chef log.
[2014-05-27 19:03:55 -0400] rayrod2030: is it better off to just trigger an alert when a chef node hasn't converged in x minutes and analyze the log on the machine at that point.
[2014-05-27 19:06:28 -0400] phantasm66: Can i organize custom cookbook libraries in subdirectories under <cookbook_name>/libraries/ ?
[2014-05-27 19:06:41 -0400] cheeseplus: rayrod2030: I'd probably use handlers rather than splunk the logs
[2014-05-27 19:06:52 -0400] rayrod2030: werd
[2014-05-27 19:06:59 -0400] phantasm66: The docs sort of imply that a library should be directly under libraries/
[2014-05-27 19:07:15 -0400] phantasm66: http://docs.opscode.com/essentials_cookbook_libraries.html
[2014-05-27 19:07:47 -0400] phantasm66: but it doesn't explictly say i cannot use subdirectories
[2014-05-27 19:08:03 -0400] juliancdunn: freezey: oh would you look at that. I only work here :)
[2014-05-27 19:08:40 -0400] freezey: heh its ok
[2014-05-27 19:08:41 -0400] freezey: lol
[2014-05-27 19:08:58 -0400] freezey: dem chefs are newbs anyway
[2014-05-27 19:18:16 -0400] i42n: Hey, I am new to chef and I use the mpd-cookbook. However I want to run multiple instances of mpd now. How can I do that?
[2014-05-27 19:20:51 -0400] i42n: I also want it have an /etc/init.d/ file for each instance and a service so I can do 'sudo service mpd_instance restart'
[2014-05-27 19:22:56 -0400] i42n: I tried this but it did not work: https://github.com/i42n/chef-cookbook-mpd/blob/79ff10410d4644dd719ba93d4e482b5e8f5e41ef/recipes/default.rb
[2014-05-27 19:23:33 -0400] phantasm66: Chef will not load libraries/<subdirectory>/something.rb ?
[2014-05-27 19:23:35 -0400] phantasm66: https://tickets.opscode.com/browse/CHEF-672
[2014-05-27 19:23:49 -0400] coderanger: phantasm66: That is correct
[2014-05-27 19:24:10 -0400] coderanger: phantasm66: None of the folder structures that auto-load support subdirs
[2014-05-27 19:24:21 -0400] phantasm66: ok, thanks
[2014-05-27 19:24:25 -0400] coderanger: (read: attributes, libraries, definitions, resources, providers)
[2014-05-27 19:25:39 -0400] whiteadam: coderanger: How was your nap?
[2014-05-27 19:26:00 -0400] coderanger: Too brief, I'm no good at the "sleep all day" thing
[2014-05-27 19:26:17 -0400] whiteadam: hah
[2014-05-27 19:31:08 -0400] whiteadam: My brain just crapped out.
[2014-05-27 19:36:12 -0400] i42n: Does someone know if this works? https://gist.github.com/i42n/b638f59eeceaf20704f3
[2014-05-27 19:37:26 -0400] CPS: seeing some weird behavior with the windows cookbook where dism.exe maxes out the memory on a node
[2014-05-27 19:37:31 -0400] CPS: ring any bells?
[2014-05-27 19:40:26 -0400] nougad: HI, is there a way to disable a ohai plugin in a chef-solo run?
[2014-05-27 19:41:37 -0400] whiteadam: nougad: Hmm, I think you can in /etc/chef/client.rb but I'm not sure about how to do it with solo.
[2014-05-27 19:42:13 -0400] nougad: I tried this way in my solo.rb config: https://wiki.opscode.com/display/chef/Disabling+Ohai+Plugins
[2014-05-27 19:42:18 -0400] nougad: but it doesn't work
[2014-05-27 19:42:43 -0400] freezey: when using berksapi and you have the source set to your berksapi server. Does your node thats resolving the dependencies need to have a valid client.pem file?
[2014-05-27 19:44:08 -0400] rayrod2030: Why even show the hosted enterprise chef reports tab if it's always going to be broken?
[2014-05-27 19:44:48 -0400] i42n: I get 'cant convert symbol to integer' right here: https://gist.github.com/i42n/b638f59eeceaf20704f3#file-default-rb-L22 Why?
[2014-05-27 19:48:58 -0400] coderanger: If anyone has a moment, I would greatly appreciate some input on potential future Chef training classes: https://bit.ly/cheftrain
[2014-05-27 19:54:16 -0400] phantasm66: @coderanger: would there be anything prohibitive about organizing cookbook libs in a libraries/<subdirectory>/ and then creating a loader.rb file directlty under libraries/ (the loader is what would handle the actual loading of ruby files in that subdirectory)??
[2014-05-27 19:54:46 -0400] coderanger: phantasm66: Technically I don't think so, but you might break uploaders et al
[2014-05-27 19:55:17 -0400] coderanger: phantasm66: You probably shouldn't have enough lib files that it matters
[2014-05-27 19:55:34 -0400] coderanger: phantasm66: (and I say that as a person that literally puts all their recipe code in lib files)
[2014-05-27 19:56:10 -0400] phantasm66: sure... it's not outlandish.. like 6 lib files that contain worker modules
[2014-05-27 19:56:40 -0400] phantasm66: the modules all have 1 task (to push or retrieve data to and from external, 3rd party APIs)
[2014-05-27 19:57:01 -0400] phantasm66: but each one is quyite a bit different than the other, as the APIs are all different vendors
[2014-05-27 19:57:28 -0400] phantasm66: i am stickler for organization, so i thought i'd see how/if i could do this ;)
[2014-05-27 19:59:34 -0400] whiteadam: someone fax me a beer
[2014-05-27 20:08:21 -0400] rayrod2030: whiteadam: Fax? Are you in japan?
[2014-05-27 20:08:32 -0400] rayrod2030: cause I hear the fax is still hot out there
[2014-05-27 20:08:51 -0400] whiteadam: closest thing to teleporting
[2014-05-27 20:17:53 -0400] Tbenz9: Anyone got any experience with Chef on Windows?
[2014-05-27 20:18:04 -0400] Tbenz9: I'm having trouble getting one of my PS commands to run
[2014-05-27 20:18:23 -0400] Tbenz9: it says cmd or cmdlet not found, but when I run it directly on the client it runs fine.
[2014-05-27 20:19:05 -0400] CPS: Tbenz9: we're a windows shop
[2014-05-27 20:19:19 -0400] CPS: gist your recipe snippet
[2014-05-27 20:19:22 -0400] CPS: and output
[2014-05-27 20:20:35 -0400] Tbenz9: recipe was copied and pasted from the "create your first cookbook" code on learnchef.
[2014-05-27 20:20:50 -0400] CPS: link?
[2014-05-27 20:20:58 -0400] Tbenz9: https://learnchef.opscode.com/tutorials/create-your-first-cookbook/
[2014-05-27 20:21:12 -0400] Tbenz9: step 2
[2014-05-27 20:21:36 -0400] CPS: which provider is it dying on? service?
[2014-05-27 20:22:15 -0400] Tbenz9: It's using the powershell provider, but it says "STDERR: The term 'add-windowsfeature' is not recognized as the name of a cmdlet, function, script file, or operable program. Check the spelling of the name, or if a path was included, verify that the path is correct and try again."
[2014-05-27 20:22:43 -0400] Tbenz9: yet, if I log into the machine and type "add-windowsfeature" into PS it works fine.
[2014-05-27 20:23:29 -0400] CPS: chef is probably running in a regular command window
[2014-05-27 20:23:41 -0400] CPS: we don't use powershell stuff
[2014-05-27 20:23:47 -0400] CPS: we use the windows community cookbook though
[2014-05-27 20:24:04 -0400] Tbenz9: Got a link for one I can try out?
[2014-05-27 20:24:16 -0400] Tbenz9: I'm still in experimental phase.
[2014-05-27 20:24:27 -0400] CPS: https://github.com/opscode-cookbooks/windows
[2014-05-27 20:25:16 -0400] Tbenz9: Thanks for the tip.
[2014-05-27 20:25:21 -0400] CPS: you can do things like windows_feature 'IIS-HttpTracing' do action :install
[2014-05-27 20:26:03 -0400] CPS: and if chef resources fail you, you can always just use execute blocks to call windows utilities
[2014-05-27 20:26:40 -0400] jidar: and they offten do on windows in my experience
[2014-05-27 20:26:50 -0400] CPS: yeah
[2014-05-27 20:26:55 -0400] jidar: (at least the PS stuff does)
[2014-05-27 20:27:06 -0400] Tbenz9: Interesting.
[2014-05-27 20:27:12 -0400] CPS: we just found a fun one where turning features on causes dism.exe to consume all available memory
[2014-05-27 20:27:33 -0400] jidar: heh
[2014-05-27 21:24:04 -0400] Majost: Does anyone know if there is a way to specify a source tarball or zip when using python_pip to install a package in a virtualenv?
[2014-05-27 21:25:00 -0400] Majost: The pip provider has a line that seems to handle paring out the value, but it's not clear to me if I am suppose to put the URI in the package name, or in the version tag itself
[2014-05-27 21:26:00 -0400] coderanger: Majost: No, just use an execute resource
[2014-05-27 21:26:05 -0400] Majost: ah
[2014-05-27 21:26:07 -0400] Majost: bummer
[2014-05-27 21:26:09 -0400] coderanger: Majost: Installing like that is non-idempotent
[2014-05-27 21:26:17 -0400] FireBeyond: What's the simplest method by which to return a node IP address in knife
[2014-05-27 21:26:20 -0400] coderanger: so it can't be modeled cleanly in a resource
[2014-05-27 21:26:35 -0400] coderanger: FireBeyond: knife node show <name> -a ipaddress
[2014-05-27 21:26:40 -0400] FireBeyond: tyvm
[2014-05-27 21:27:40 -0400] Majost: coderanger: What I really want to do is get an old version of a module (dulwich) which can no longer be resolved as a dependency
[2014-05-27 21:27:42 -0400] coderanger: Majost: If, at some point, pip grows the long-requested no-op mode it could be done
[2014-05-27 22:08:39 -0400] medya: Hi, I downloaded and installed tomcat cookbook using berkshelf, and I notniced it also downloaded a few other cookbooks then I added tomcat cookbook to the run list of on of my nodes, the installation of tomcat failed on the node, what is the problem ? did I have to add all the dependent cookbooks to the run list too ?
[2014-05-27 22:10:14 -0400] medya: I downloaded tomcat cookbook using berkshelf, and I added tomcat cookbook to the run list of my node and I re-run chef-client, and the installation of tomcat failed on the node, what is the problem ? did I have to add all the dependent cookbooks to the run list too ?
[2014-05-27 22:15:01 -0400] Neozonz|Disc: Parent directory ~ does not exist, cannot create ~/temp
[2014-05-27 22:15:07 -0400] Neozonz|Disc: does chef not support ~?
[2014-05-27 22:17:07 -0400] troyready: I think you'd be better off doing "#{Dir.home}/temp"
[2014-05-27 22:18:41 -0400] medya: I try to install tomcat cookbook I get this error:  Chef::TomcatCookbook::TomcatUserDataBagNotFound ----------------------------------------------- Please create a data bag named 'tomcat_users' and try again.
[2014-05-27 22:18:59 -0400] medya: how can I create a databag  and how do I know what type of fields should I put in the databag
[2014-05-27 22:33:51 -0400] doomviking: documentation
[2014-05-27 22:34:26 -0400] juliancdunn: medya: read https://github.com/opscode-cookbooks/tomcat#managing-tomcat-users
[2014-05-27 22:35:55 -0400] medya: thanks juliancdunn, to run the tomcat on my node do I need to add all the dependent cookbooks to the run list too ? or it will do it automaticly
[2014-05-27 23:21:19 -0400] medya: can someone help me to create a databag so I can install a tomcat using the opscode cookbook ?
[2014-05-27 23:21:31 -0400] medya: I did read the documentation about creating databag
[2014-05-27 23:45:48 -0400] shlant: coderanger: so would you recommend not getting started on a new cookbook that requires the application cookbook and wait for the rewrite?
