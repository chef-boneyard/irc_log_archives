[2014-05-19 00:00:53 -0400] coderanger: Thats not the issue, the problem is that if you lost all access keys and passwords, the only way to recover access is to poke the postgres DB by hand
[2014-05-19 00:01:07 -0400] xeno: One thing I'll mention:  The first failure I had was from specifying $HOME in one of the prompts.  It took it literally, which is really non-standard for Unix/Linux shell programs.  That should be considred a bug.
[2014-05-19 00:02:04 -0400] xeno2: Here is the last line of my knife.rb on that first failing try:  cookbook_path [ '$HOME/chef-repo/cookbooks' ]
[2014-05-19 00:02:34 -0400] xeno2: It should have been cookbook_path [ '/home/xeno/chef-repo/cookbooks' ]
[2014-05-19 00:06:01 -0400] xeno: success on the workstation step of my first tutorial.  Thanks for the handholding, coderanger.
[2014-05-19 00:07:14 -0400] bobdobalina: yay
[2014-05-19 00:08:25 -0400] bobdobalina: i've spent about 20 hours of my weekend fighting with chef and it beat me, but i'm a better man for it
[2014-05-19 00:10:16 -0400] bobdobalina: within a few more days my chef knowledge would have increased 10 fold
[2014-05-19 00:11:12 -0400] bobdobalina: and my problems will be solved, alas i think i've over done it a bit and need to get some sleep, in a couple of hours i'll be doing a course with aws
[2014-05-19 00:12:10 -0400] bobdobalina: goodnight sweet people
[2014-05-19 00:15:37 -0400] bobdobalina: sweet jesus, i think if found the answer to the problem
[2014-05-19 00:22:04 -0400] coderanger: xeno: Yes, you can't use env vars like that, thats a bash thing
[2014-05-19 00:22:32 -0400] coderanger: xeno: You could make it ["#{ENV['HOME']}/chef-repo/cookbooks"] though
[2014-05-19 00:22:37 -0400] xeno: Well, being able to do that is a Unix thing.  It would be nice if they could make that work.
[2014-05-19 00:22:45 -0400] xeno: It isn't a big deal.  I do it all the time.
[2014-05-19 00:22:48 -0400] coderanger: xeno: No, $HOME is bash syntax
[2014-05-19 00:22:58 -0400] coderanger: ENV is how you access env vars in Ruby
[2014-05-19 00:23:03 -0400] coderanger: just like os.environ in Python
[2014-05-19 00:23:27 -0400] xeno: I know.  I am a bash programmer.  The thing is, a ruby program can see the environment, check for $, and interpolate for the command line arguments.  You can do it if you want.
[2014-05-19 00:23:48 -0400] xeno: And it is considered a polite thing to comply with when providing services on Unix/Linux.
[2014-05-19 00:24:12 -0400] xeno: The maintainers of chef stuff just need to add some code for it.
[2014-05-19 00:24:23 -0400] coderanger: xeno: Thats not how anything in Ruby will ever work
[2014-05-19 00:24:36 -0400] coderanger: You will need to use Ruby string interpolation and the ENV hash
[2014-05-19 00:25:12 -0400] xeno: Look, coderanger, I have written over 60000 lines of ruby code in my life, not including unit tests.  Believe me, the programmers at chef can comply with that standard.
[2014-05-19 00:25:32 -0400] coderanger: xeno: No, thats not the standard _in Ruby_
[2014-05-19 00:25:49 -0400] coderanger: xeno: It would be grossly incorrect for Chef to do magic string replaces like that
[2014-05-19 00:26:01 -0400] xeno: if a ruby program calls something with a prompted argument, it just a matter of checking if you are on Unix/Linux, and interpolating from the environment list if you are.
[2014-05-19 00:26:27 -0400] coderanger: The correct solution is that knife configure needs to dieeeeeeee
[2014-05-19 00:26:29 -0400] xeno: It's the standard on programs called from the shell.  Ruby programs are called from the shell all the time.
[2014-05-19 00:26:35 -0400] coderanger: But yeah, you are incorrect here, sorry :)
[2014-05-19 00:26:54 -0400] coderanger: If you do it on the command line, bash will interpolate it before Ruby start
[2014-05-19 00:27:08 -0400] coderanger: you just typed bash syntax into an interactive program that isn't bash
[2014-05-19 00:27:19 -0400] xeno: I don't mean to be talking to you as the programmer, I'm sorry.  Fact is, if you prompt for data, you can interpolate environment variables.  That is standard in Unix.
[2014-05-19 00:27:53 -0400] coderanger: I know of no other programs that do that on interactive input
[2014-05-19 00:27:58 -0400] xeno: After all, you do get that for --path $HOME/stuff.  Why wouldn't you make your program do that for prompting too?  I do when I write things like that?
[2014-05-19 00:28:03 -0400] xeno: .
[2014-05-19 00:28:37 -0400] xeno: And it really isn't hard.  Possbly less than 15 lines of code in some ruby program.  Maybe as few as 4.
[2014-05-19 00:33:30 -0400] xeno2: One other oddment about that, is that kind of interpolation is exactly the kind of thing Matsumoto was trying to make Ruby elegant at.
[2014-05-19 01:07:28 -0400] xeno: I'm noticing that my knife client list and knife user list commands do not work from my home directory, but do work from the  chef-repo directory I configured, on the workstation.  Is this expected?
[2014-05-19 01:14:04 -0400] jidar: yea, it needs to find the .knife directory, or .chef/something
[2014-05-19 01:14:16 -0400] jidar: not .knife, obviously :/
[2014-05-19 01:17:53 -0400] darkside_: you can move the knife.rb to ~/
[2014-05-19 01:26:06 -0400] xeno: A lot of oddments with chef, but so far nothing horrible.
[2014-05-19 01:27:23 -0400] xeno: I am once again dead-ending on this digitalocean tutorial, however, as the bootstrapping is not coming up with my third item in knife client list listing.
[2014-05-19 01:27:37 -0400] xeno: ...where are the logs, by the way?
[2014-05-19 01:29:32 -0400] xeno: Ah, I see a /var/log/chef-server directory.  Sorry.
[2014-05-19 01:30:19 -0400] xeno: Hmm.  36 regular files in that tree, and I just installed this yesterday.
[2014-05-19 02:00:59 -0400] xeno2: I am trying to execute this on my workstation:
[2014-05-19 02:01:01 -0400] xeno2: knife bootstrap 192.168.0.19 -x cws1u -P cws1u1234 -N chefclient3 --sudo
[2014-05-19 02:01:18 -0400] xeno2: and I'm looking for the log which should show errors for a failing execution.
[2014-05-19 02:09:44 -0400] darkside_: i've always seen the error on the workstation at that point
[2014-05-19 02:09:49 -0400] darkside_: or node
[2014-05-19 02:52:04 -0400] justizin: augh, why are nodes showing up in searches after ive deleted them on hosted chef?
[2014-05-19 02:53:57 -0400] coderanger: justizin: How long has it been?
[2014-05-19 03:09:02 -0400] justizin: coderanger: less than an hour, probs
[2014-05-19 03:09:24 -0400] coderanger: justizin: It should take effect within two minutes
[2014-05-19 03:09:36 -0400] justizin: hm, i did another delete -y and it worked now, maybe the first failed silently?
[2014-05-19 03:09:45 -0400] coderanger: justizin: The search index is updated every minute, so at most it should take 119 seconds
[2014-05-19 03:10:04 -0400] justizin: some hiccup in the fabric of the universe, then
[2014-05-19 03:10:13 -0400] coderanger: justizin: Possible, how did you do the delete?
[2014-05-19 03:10:27 -0400] justizin: knife node delete -y $name
[2014-05-19 03:12:12 -0400] coderanger: Hmm, that should do it, unless something else was writing around the same time
[2014-05-19 03:12:21 -0400] coderanger: Like if the node was still converging
[2014-05-19 04:09:53 -0400] justizin: hm, wierd, with the nagios chef cookbook im not getting any services generated that are attached to hostgroup_name all
[2014-05-19 04:10:05 -0400] justizin: the code seems to explicitly handle it, hum
[2014-05-19 05:53:08 -0400] BrianJ: Do all attribute files get loaded for a cookbook? For instance I'd like to add some AWS Opsworks specific attributes to a cookbook, but I don't want to overload the default file with options that normally you wouldn't care about
[2014-05-19 05:53:26 -0400] BrianJ: or in my recipe do I need to include the specified attribute file
[2014-05-19 05:54:03 -0400] coderanger: BrianJ: Yes, if a cookbook is present in the dependency tree, its attribute files are loaded
[2014-05-19 05:54:34 -0400] BrianJ: thanks
[2014-05-19 05:57:41 -0400] robawt: should i seperate my system ruby from chef ruby?
[2014-05-19 05:57:51 -0400] robawt: fresh workstation, looking to do it right
[2014-05-19 05:58:03 -0400] coderanger: robawt: If you install via omnibus or chefdk, you already have
[2014-05-19 05:58:48 -0400] robawt: ok, installed via omnibus.  checking my path and i don't see chef magic, that is normal?
[2014-05-19 05:59:13 -0400] robawt: i was expecting a long path to /opt/chef/blehblehbleh at the beginning but maybe i'm assuming too much
[2014-05-19 05:59:33 -0400] robawt: coderanger^^ sorry
[2014-05-19 05:59:43 -0400] coderanger: robawt: You have to add it
[2014-05-19 05:59:52 -0400] robawt: also i like your blog coderanger, i just read your post on databags/smell and enjoyed it
[2014-05-19 06:00:03 -0400] coderanger: robawt: Shells and whatnot are too widely varying to automate that kind of thing :-(
[2014-05-19 06:00:42 -0400] robawt: coderanger: figured that and wanted to make sure
[2014-05-19 07:43:34 -0400] ocholetras: hi all
[2014-05-19 07:43:57 -0400] ocholetras: is it necesary to include :: context operator when including local private recipes
[2014-05-19 07:44:02 -0400] ocholetras: on the same cookbook?
[2014-05-19 07:57:25 -0400] double_p: humm.. OR for 'node.roles.include?'?
[2014-05-19 08:09:16 -0400] oles: Is there an easy way to figure out how much time the last chef-client run took ?
[2014-05-19 08:12:01 -0400] srenatus: oles: there's a json report handler that can be used for that
[2014-05-19 08:26:35 -0400] double_p:   * simple_iptables_rule[dbs] action append (up to date) --- but that's not true. damnit
[2014-05-19 08:27:03 -0400] double_p: actually the whole chain is missing,
[2014-05-19 09:17:49 -0400] daxroc: Morning all
[2014-05-19 09:18:05 -0400] daxroc: How are people using berks-api server ?
[2014-05-19 10:10:48 -0400] double_p: package[mongo-10gen] action install ... i can chef-client as often as i want. everytime new install
[2014-05-19 10:42:53 -0400] whiteadam: another week of livin the dream
[2014-05-19 10:44:22 -0400] digitalchild: at least its not a nightmare, it is early morning though
[2014-05-19 10:45:22 -0400] whiteadam: the nightmare was trying to convince everyone to centralize identity management.
[2014-05-19 10:45:28 -0400] whiteadam: now the nightmare is real
[2014-05-19 12:00:32 -0400] bobdobalina: hi all, can anyone tell me the best way to tell chef to use a http proxy for git during bootstrap ?
[2014-05-19 12:01:46 -0400] whiteadam: bobdobalina: Like, --bootstrap-proxy <proxy url> ?
[2014-05-19 12:02:03 -0400] bobdobalina: not quite
[2014-05-19 12:02:28 -0400] bobdobalina: i'm using the bootstrap proxy already, i need to make sure any git execution is aware to use my http proxy for git
[2014-05-19 12:02:40 -0400] whiteadam: ah, nah, not sure on that one
[2014-05-19 12:03:16 -0400] bobdobalina: i need to pass the following to the initial chef run ...
[2014-05-19 12:03:27 -0400] bobdobalina: git config --global http.proxy http://<priv ip>:3128
[2014-05-19 12:03:48 -0400] whiteadam: ohh, I see what you mean
[2014-05-19 12:04:41 -0400] bobdobalina: it's for my nginx wrapper, as part of it i need to pull down a module to build from source, the git pull was failing so i manually sent the git config to use the proxy
[2014-05-19 12:05:05 -0400] bobdobalina: so now just need to understand how i get the command executed on chef run
[2014-05-19 12:07:43 -0400] bobdobalina: i'm guessing a lot of people using chef must have the same requirement
[2014-05-19 12:08:29 -0400] whiteadam: Yah, I'm sure it's entirely possible, I just have no clue :)
[2014-05-19 12:10:02 -0400] srenatus: bobdobalina: everything the git provider does is in here: https://github.com/opscode/chef/blob/master/lib/chef/provider/git.rb
[2014-05-19 12:10:18 -0400] srenatus: bobdobalina: it doesnt contain any proxy-like thing afaict
[2014-05-19 12:11:05 -0400] srenatus: bobdobalina: what it only does though is shelling out to git, so if git has a system-wide configuration, altering that to make it use the proxy should solve it
[2014-05-19 12:11:58 -0400] bobdobalina: cheers fella
[2014-05-19 12:12:23 -0400] bobdobalina: i'll find the global config for git and write to it
[2014-05-19 12:12:48 -0400] bobdobalina: i've been working on this since mid last week and this is pretty much the final touch then the dang cookbook is finished ! :)
[2014-05-19 12:13:01 -0400] bobdobalina: then i'm gonna drink a bucket load of beer
[2014-05-19 12:13:47 -0400] srenatus: bobdobalina: you can just create a template that pulls the data out of the Chef::Config that is passed to the chef-run, such as here: https://github.com/berkshelf/berkshelf/issues/243#issuecomment-10983767
[2014-05-19 12:13:56 -0400] whiteadam: bobdobalina: That sounds like a plan
[2014-05-19 12:14:14 -0400] srenatus: (note that this is just a reference to the possible Chef::Config keys, not a finished solution)
[2014-05-19 12:14:35 -0400] srenatus: bobdobalina: hmm, https://github.com/berkshelf/berkshelf/issues/243#issuecomment-14687811, git does support environment variables
[2014-05-19 12:14:53 -0400] bobdobalina: thanks guys, i'll take a look
[2014-05-19 12:14:54 -0400] srenatus: bobdobalina: I'd thus kind of expect the chef-run to have them when knife was passed proxy stuff...
[2014-05-19 12:16:32 -0400] srenatus: yes it does, https://github.com/opscode/chef/blob/master/lib/chef/knife/bootstrap/chef-full.erb#L2 but only https_proxy
[2014-05-19 12:19:38 -0400] bobdobalina: aye, i use the http and https_proxy already
[2014-05-19 12:20:12 -0400] bobdobalina: i also drop a file on the nodes so they use the proxy for apt updates, I guess i'll need to do the same for git until i find a nicer way
[2014-05-19 12:20:58 -0400] bobdobalina: i'm pretty new to chef but expect i'll need to send env vars or other commands to a chef-run on bootstrap
[2014-05-19 12:35:05 -0400] daxroc: Any one know if there is an option with berkshelf api server to allow self-signed ssl certificates to be used?
[2014-05-19 13:19:03 -0400] wispywarlock: Hi
[2014-05-19 13:19:26 -0400] wispywarlock: is anyone able to help?
[2014-05-19 13:19:44 -0400] whiteadam: with?
[2014-05-19 13:19:46 -0400] gchristensen: wispywarlock: your chances go up substantially by asking your question
[2014-05-19 13:23:04 -0400] wispywarlock: :-) thanks. I am spinning up a vagrant instance running chef solo but upon running the command "Vagrant Up" to start the instance, i get the following error when chef starts running: "Chef::Exceptions::Exec: apt-get -q -y install autoconfig=2.68.... returned 100, exected 0 Chef never successfully complete
[2014-05-19 13:23:41 -0400] wispywarlock: it happens whichever recipe it tries to run. I wonder if anyone has any ideas?
[2014-05-19 13:25:01 -0400] whiteadam: wispywarlock: try: 'vagrant ssh' and see if you can run apt-get
[2014-05-19 13:26:17 -0400] wispywarlock: it has come up with a few apt-get related instructions so it looks like its running
[2014-05-19 13:27:13 -0400] whiteadam: try apt-get update and see if it can update
[2014-05-19 13:27:23 -0400] wispywarlock: just trying that now
[2014-05-19 13:27:58 -0400] wispywarlock: its hanging on 0%.. ill give it a moment
[2014-05-19 13:29:56 -0400] wispywarlock: it says unable to connect to br.archive.ubuntu.com:http
[2014-05-19 13:30:54 -0400] wispywarlock: and failed to fetch all of the sources and packages
[2014-05-19 13:31:28 -0400] whiteadam: Sounds like that's your issue
[2014-05-19 13:31:45 -0400] wispywarlock: :-(
[2014-05-19 13:31:55 -0400] whiteadam: can you ping anything
[2014-05-19 13:34:07 -0400] wispywarlock: the ping is hanging. ill try again in a sec
[2014-05-19 13:35:17 -0400] wispywarlock: hmmm, well i cant ping that server from the virtual machine or my local machine
[2014-05-19 13:35:45 -0400] wispywarlock: but i can ping google
[2014-05-19 13:35:56 -0400] whiteadam: Can you ping anything? Like 8.8.8.8 ?
[2014-05-19 13:36:05 -0400] chef560: what ist the last stable release of chef? wikipedia shows 11.10.4, but http://www.getchef.com/chef/install/ shows already 11.12.4.1. But I can't find informations about stable or not.
[2014-05-19 13:36:35 -0400] wispywarlock: yes, that works fine
[2014-05-19 13:36:48 -0400] wispywarlock: just not that ubuntu server
[2014-05-19 13:37:34 -0400] CPS: chef560: whatever's on chef's site labeled a release should be fine. wikipedia is often out of date with this kind of thing
[2014-05-19 13:38:36 -0400] wispywarlock: can you ping br.archive.ubuntu.com? (200.236.31.4)
[2014-05-19 13:39:40 -0400] whiteadam: wispywarlock: yes, I can ping it
[2014-05-19 13:39:45 -0400] wispywarlock: huh
[2014-05-19 13:39:51 -0400] wispywarlock: how peculiar
[2014-05-19 13:40:01 -0400] chef560: CPS: Do you know if chef is delivered as stable and unstable like linux distros?
[2014-05-19 13:42:05 -0400] whiteadam: chef560: https://github.com/opscode/chef/releases
[2014-05-19 13:42:08 -0400] wispywarlock: any ideas on how i might be able to resolve such a thing? Is it likely to be firewall issues?
[2014-05-19 13:42:17 -0400] CPS: chef560: i had a bad experience running an upgrade, but if you're starting fresh you should be fine
[2014-05-19 13:42:19 -0400] whiteadam: wispywarlock: I have no idea.
[2014-05-19 13:42:47 -0400] CPS: they fix bugs, which is nice, so don't go to old versions for stability
[2014-05-19 13:43:13 -0400] wispywarlock: bummer. ok no worries. i shall resume banging face against desk. Cheers for ur help anyway though
[2014-05-19 13:58:16 -0400] whiteadam: I think if I had known there was so much boring reading to do... I would've chosen a different career.
[2014-05-19 14:12:26 -0400] smithmb: coderanger: that knife acl tip did eventually work for giving an API client permission to delete on the nodes and clients containers
[2014-05-19 14:12:30 -0400] smithmb: coderanger: thanks for that :0
[2014-05-19 14:29:18 -0400] goncalop: hello, I'm getting a green '         should be running' on serverspec for a service which is not running, what is the actual test done ?
[2014-05-19 14:35:49 -0400] jbz: goncalop: I think it depends on the system you're testing.  For example, in rhel-based systems, that will eventually resolve to a 'service <service> status' command.
[2014-05-19 14:36:17 -0400] goncalop: ok I'll have a look, at the moment it is not running but thinks it is...
[2014-05-19 14:36:23 -0400] goncalop: whcih means a reload starts the service
[2014-05-19 14:36:26 -0400] goncalop: but the start does not work
[2014-05-19 14:37:08 -0400] whiteadam: goncalop: I think it checks to see if it's enabled at runlevel 3
[2014-05-19 14:37:26 -0400] goncalop: not showing up on chkconfig whiteadam
[2014-05-19 14:37:40 -0400] zeroXten: hi... when using chef-shell in client mode the recipe fails to compile and chef-shell exits which means I can't debug.. what am i doing wrong?
[2014-05-19 14:38:17 -0400] whiteadam: goncalop: interesting.. I found the code: https://github.com/serverspec/serverspec/blob/master/lib/serverspec/type/service.rb
[2014-05-19 14:38:50 -0400] goncalop: cool btw serverspec should be_running is green
[2014-05-19 14:39:08 -0400] goncalop: even though it is not running, I guess the same is preventing 'start'
[2014-05-19 14:39:41 -0400] whiteadam: pretty odd
[2014-05-19 14:40:26 -0400] goncalop: so yeah chef.service :start is not triggered ,serverspec agrees
[2014-05-19 14:40:33 -0400] goncalop: but it is not running
[2014-05-19 14:52:54 -0400] ErebusBat: goncalop: are you sure that chef isn't starting it and then it exits (check logs)?
[2014-05-19 14:56:48 -0400] goncalop: ErebusBat: nothing on the logs but the application came with a faulty init.d script that seemed to mess up sbin/service
[2014-05-19 14:57:08 -0400] goncalop: seems to work now after a new init.d script, just doing a destroy/converge to
[2014-05-19 15:01:19 -0400] daxroc: Anyone know if you can configure berks api server to ignore ssl verify, like with berkshelf
[2014-05-19 15:28:45 -0400] whiteadam: Anyone using FreeIPA?
[2014-05-19 16:03:02 -0400] nobody18188181: Is it possible to bundle RPM file and install that file with a recipe?
[2014-05-19 16:03:41 -0400] whiteadam: sure
[2014-05-19 16:04:09 -0400] nobody18188181: How? I'm trying the /files/default/<rpm> and using yum_package but that's not working
[2014-05-19 16:05:23 -0400] gchristensen: nobody18188181: isn't yum only for remote files?
[2014-05-19 16:05:25 -0400] whiteadam: How about this one? http://docs.opscode.com/resource_rpm_package.html
[2014-05-19 16:05:45 -0400] whiteadam: gchristensen: Well, yum is recommended to install local rpms also, so it tracks them
[2014-05-19 16:07:57 -0400] nobody18188181: i tried both rpm_package and yum_package; both gave this error: "No version specified, and no candidate version available for ...rpm"
[2014-05-19 16:09:08 -0400] whiteadam: yum_package probably gives that error because it's looking in the repo
[2014-05-19 16:09:25 -0400] nobody18188181: yea, how do i tell it to look in the /cookbookname/files/default ?
[2014-05-19 16:11:05 -0400] whiteadam: Did you use the "source" attribute?
[2014-05-19 16:11:28 -0400] nobody18188181: no; it's not clear on how I use it
[2014-05-19 16:12:15 -0400] whiteadam: I assume source "file.rpm"
[2014-05-19 16:13:08 -0400] fayesal: nobody18188181: probably use cookbook_file to put the file in the filesystem eg. in /tmp and install from there.
[2014-05-19 16:14:32 -0400] nobody18188181: how do I use source properly with yum_package? Is it' just the directory path?
[2014-05-19 16:14:49 -0400] fayesal: yum_package installs from your yum repositories
[2014-05-19 16:15:11 -0400] fayesal: yum.repos.d
[2014-05-19 16:16:31 -0400] nobody18188181: fayesal: I see; so then should I by using execute on /tmp/some.rpm ?
[2014-05-19 16:16:46 -0400] nobody18188181: I would like to install the rpm without making it a kludge ;)
[2014-05-19 16:16:46 -0400] whiteadam: fayesal: He wants to use yum to install the rpm, which is fine as I see it.
[2014-05-19 16:17:12 -0400] nobody18188181: like with yum localinstall for ex
[2014-05-19 16:18:11 -0400] whiteadam: nobody18188181: Check the very bottom example:
[2014-05-19 16:18:17 -0400] whiteadam: http://docs.opscode.com/resource_rpm_package.html
[2014-05-19 16:18:33 -0400] whiteadam: I think he means cookbook_file the rpm to /tmp, then execute it
[2014-05-19 16:24:24 -0400] someara: you want remote_file, then rpm_package
[2014-05-19 16:26:20 -0400] whiteadam: I knew there was a better way
[2014-05-19 16:49:57 -0400] kbarry: Can I view the recipes on the chef server?
[2014-05-19 16:50:37 -0400] whiteadam: kbarry: Do you just want to see which recipes are there?
[2014-05-19 16:50:54 -0400] kbarry: no, I wanna read the recipe as known to the server.
[2014-05-19 16:51:27 -0400] kbarry: like "Knife recipe show recipe[cookbook::recipe]"
[2014-05-19 16:51:28 -0400] dgarstang: I'm running "knife search node "roles:role-prod-cfgserver"" ... works... the chef GUI search doesn't work for the same data. Is there a trick to it?
[2014-05-19 16:51:56 -0400] jbz: kbarry: You should be able to by looking at 'cookbooks' in the server UI
[2014-05-19 16:52:22 -0400] kbarry: nothing from the cli?
[2014-05-19 16:53:05 -0400] whiteadam: kbarry: You could "backup" the repos via a script
[2014-05-19 16:53:13 -0400] jbz: You could use knife cookbook download
[2014-05-19 16:53:32 -0400] kbarry: i haven't used that much, how do I pull it down to an alternate location?
[2014-05-19 16:53:37 -0400] kbarry: (Assuming that is possible)
[2014-05-19 16:54:00 -0400] whiteadam: kbarry: https://github.com/jtimberman/knife-scripts/blob/master/chef_server_backup.rb
[2014-05-19 16:54:17 -0400] whiteadam: kbarry: That shoul download them all
[2014-05-19 16:54:44 -0400] jbz: kbarry: or
[2014-05-19 16:54:47 -0400] jbz: you could use knife cookbook show
[2014-05-19 16:54:48 -0400] j^2: whiteadam: https://github.com/jtimberman/knife-scripts#chef_server_backuprb
[2014-05-19 16:55:08 -0400] jbz: kbarry: knife cookbook show <cookbookname> <version> <part/folder> <filename>
[2014-05-19 16:55:15 -0400] whiteadam: j^2: That's what I linked
[2014-05-19 16:55:20 -0400] jbz: example:  knife cookbook show yum 3.0.1 recipes test.rb
[2014-05-19 16:55:21 -0400] j^2: it's deprecated :(
[2014-05-19 16:55:25 -0400] whiteadam: ah
[2014-05-19 16:55:42 -0400] whiteadam: *shakes fist*
[2014-05-19 16:57:23 -0400] dgarstang: Um. "knife search node "mongodb_cluster_name:cluster-prod AND mongodb_is_configserver AND chef_environment:prod" works fine with knife from command line but mongodb router config finds 0 matches, lovely.
[2014-05-19 16:58:47 -0400] whiteadam: dgarstang: sounds like Obamacare has struck again
[2014-05-19 17:00:33 -0400] kbarry: jbz thanks for the reference.
[2014-05-19 17:00:53 -0400] jbz: kbarry: yw, hope it helps.
[2014-05-19 17:02:38 -0400] dgarstang: whiteadam: I'm from one of those countries that provides social benefits. Obamaworks WFM. :)
[2014-05-19 17:05:30 -0400] lewiz: Is it necessary to set environment in my node's client.rb?  Presumably the server is in charge of this anyway...
[2014-05-19 17:26:30 -0400] wjimenez5271: hey guys, have anyone seen this error before with knife on OXS Mavericks? /System/Library/Frameworks/Ruby.framework/Versions/2.0/usr/lib/ruby/2.0.0/rubygems/specification.rb:2007:in `raise_if_conflicts': Unable to activate knife-vsphere-0.9.9, because rbvmomi-1.8.1 conflicts with rbvmomi (~> 1.5.1) (Gem::LoadError)
[2014-05-19 17:34:50 -0400] whiteadam: No, but it sounds like there's a conflict :)
[2014-05-19 17:35:10 -0400] mikesplain: Yeah that means you have conflicting gems usually cleaning out gems and reinstalling the chef gem fixes it for me
[2014-05-19 17:35:18 -0400] mikesplain:  or just switch to chefdk....
[2014-05-19 17:38:18 -0400] wjimenez5271: OK I think I upgraded my gems over the weekend
[2014-05-19 17:38:28 -0400] wjimenez5271: must have caused it
[2014-05-19 17:38:51 -0400] geggam: random upgraders shall be dragged out back and shot
[2014-05-19 17:39:03 -0400] wjimenez5271: ouch :-)
[2014-05-19 17:39:07 -0400] geggam: those are the people responsible for more production outages
[2014-05-19 17:39:24 -0400] whiteadam: but gem update is so fun
[2014-05-19 17:39:44 -0400] wjimenez5271: yea especially when you pipe it to lolcat
[2014-05-19 17:39:47 -0400] wjimenez5271: then its multicolored!
[2014-05-19 17:42:06 -0400] whiteadam: hehe
[2014-05-19 17:45:04 -0400] anthonyacquanita:  "validator": true  -- skipped that in my upgrade process.  Anyway to do that after the fact.
[2014-05-19 17:45:56 -0400] anthonyacquanita: knife list /clients does show validator however.
[2014-05-19 17:46:08 -0400] anthonyacquanita: but hosts can't register with validator.pem
[2014-05-19 17:47:42 -0400] anthonyacquanita: it's got the validator: true... some other issue
[2014-05-19 17:57:24 -0400] anthonyacquanita: ok.. so how do I check to see if my chef 10 validator key is on the new server and correct?
[2014-05-19 18:00:39 -0400] dgarstang: So... is there a mongo cookbook out there that supports 2.6?
[2014-05-19 18:12:02 -0400] jpic: hi all, using the percona::server cookbook, I figured that the service won't start without setting the owner to mysql on some config file. How should I fix it in my recipe ? I tried this but of course the mysql user doesn't exist at this stage http://dpaste.com/2XVZFCZ/
[2014-05-19 18:20:02 -0400] justizin: jpic: yah thats kind of a pain to workaround without fixing upstream afaict at a glance
[2014-05-19 18:20:04 -0400] NukePuppy: writer of newrelic cookbook wouldnt happen to be in here?
[2014-05-19 18:21:51 -0400] justizin: jpic: the good news is it should only take a brief time to fork, patch, and submit a PR, and in the meantime you can just copy that code into your wrapper cookbook with a big comment that says fucking percona'
[2014-05-19 18:22:03 -0400] NukePuppy: jpic would it help making the user right before you invoke the recipe to install?
[2014-05-19 18:22:04 -0400] justizin: and a link to your pull request
[2014-05-19 18:22:45 -0400] justizin: NukePuppy: that was one of my thoughts, but that can be a rabbit hole when you expect a user to be created by a package, you start sucking all of what the package does into the cookbook to fit together.
[2014-05-19 18:22:47 -0400] justizin: but worth considering.
[2014-05-19 18:23:06 -0400] jpic: yep I will PR and link to it, and try adding the user first, thanks for your advice !
[2014-05-19 18:23:36 -0400] justizin: i see in the setup_server recipe for percona that it chowns the entire /etc/mysql to root, honestly im not sure that isnt a bug in and of itself
[2014-05-19 18:23:53 -0400] justizin: the problem is not that the percona cookbook is _not_ setting ownership to mysql, the problem is that its stealing it.
[2014-05-19 18:24:15 -0400] justizin: truthfully, though, it probably doesnt matter if the file is owned by mysql, it just needs to be readable
[2014-05-19 18:24:33 -0400] justizin: an argument could be made that someone compromising the mysql daemon could then rewrite its configuration for world domination
[2014-05-19 18:24:40 -0400] justizin: thats probably the rationale for the root chown
[2014-05-19 18:25:08 -0400] kbarry: I have a weird issue where when re-uploading a cookbook, the contents on the server are not changing.
[2014-05-19 18:25:25 -0400] justizin: kbarry: how are you re-uploading? berkshelf? are you changing the contents, but not the version #? :)
[2014-05-19 18:25:28 -0400] NukePuppy: ["percona"]["server"]["username"]  has a value?
[2014-05-19 18:25:29 -0400] davidordave: @kbarry, it is probably frozen
[2014-05-19 18:25:34 -0400] NukePuppy: you could set that no?
[2014-05-19 18:25:40 -0400] NukePuppy: not sure where the stealing is taking place?
[2014-05-19 18:25:52 -0400] NukePuppy: kbarry do you have a lock file?
[2014-05-19 18:25:58 -0400] kbarry: reuploading with knide cookbook upload [namehere]
[2014-05-19 18:26:00 -0400] justizin: or what davidordave said
[2014-05-19 18:26:03 -0400] NukePuppy: did you update the metadata? :)
[2014-05-19 18:26:10 -0400] kbarry: i dont know what a lockfile is,
[2014-05-19 18:26:13 -0400] kbarry: :)
[2014-05-19 18:26:23 -0400] NukePuppy: @kbarry guessing you're not using berkshelf so ignore lockfile thing for now
[2014-05-19 18:26:31 -0400] kbarry: alright.
[2014-05-19 18:26:33 -0400] NukePuppy: @kbarry did you update the metadata? version bump
[2014-05-19 18:26:36 -0400] kbarry: No, we are not using berkshelf
[2014-05-19 18:26:52 -0400] NukePuppy: hopefully you dont have all your changes as cookbook version 0.1.0
[2014-05-19 18:26:54 -0400] justizin: well, a brute force solution is to knife cookbook delete before upload, but at a minimum, thats a bad habit
[2014-05-19 18:27:04 -0400] kbarry: so, thats the thing, Someone told me you HAD to bump version, but my experience if that if you don't it works.
[2014-05-19 18:27:09 -0400] kbarry: BUT in this case, we DID bump
[2014-05-19 18:27:10 -0400] justizin: (if a chef run occurs on a client between the delete and upload, it could fail)
[2014-05-19 18:27:11 -0400] kbarry: And it didnt.
[2014-05-19 18:27:16 -0400] NukePuppy: if you dont you get similar results to what you are getting ;P
[2014-05-19 18:27:22 -0400] NukePuppy: how would chef server know which one you want if all your versions are the same?
[2014-05-19 18:27:53 -0400] NukePuppy: mycookbook metadata 0.1.0  make changes... still 0.1.0  is not a good habit ;P
[2014-05-19 18:28:26 -0400] kbarry: we are bumping the versions
[2014-05-19 18:28:32 -0400] kbarry: but the changes aren't coming thru.
[2014-05-19 18:28:40 -0400] whiteadam: anyone else used svn2git?
[2014-05-19 18:28:40 -0400] NukePuppy: knife cookbook list   | grep your_cookbook
[2014-05-19 18:28:52 -0400] whiteadam: I used it like magic 2 weeks ago and now it doesn't want to work
[2014-05-19 18:29:38 -0400] kbarry: nukepuppy what is that supposed to do?
[2014-05-19 18:29:51 -0400] NukePuppy: just curious what cookbook versions you have for your cookbook
[2014-05-19 18:29:52 -0400] kbarry: my cookbook lisnt isnt that long :)
[2014-05-19 18:30:54 -0400] kbarry: so, has anyone tried reuploading without the version bump, But the changes DID appear on the server?
[2014-05-19 18:31:08 -0400] NukePuppy: kbarry it can happen but only guess by sheer luck
[2014-05-19 18:31:43 -0400] NukePuppy: if you are still in testing stages.. justins suggestion on just blanking it out
[2014-05-19 18:31:53 -0400] NukePuppy: well its a race condition that you seem to be losing atm :P
[2014-05-19 18:32:14 -0400] kbarry: we are not in testing
[2014-05-19 18:32:19 -0400] kbarry: we are using it in production,
[2014-05-19 18:32:31 -0400] kbarry: but we noticed 2 recipes seemed to not reflect changed we made to them
[2014-05-19 18:32:40 -0400] kbarry: we have 2 chef servers
[2014-05-19 18:32:42 -0400] kbarry: 1 for prod
[2014-05-19 18:32:49 -0400] kbarry: and a failry new one for dev
[2014-05-19 18:32:54 -0400] NukePuppy: by any chance does someone in your organization have like cookbook locking in the environment?
[2014-05-19 18:33:09 -0400] kbarry: version 0.1.6 was the first/only version on the dev box
[2014-05-19 18:33:23 -0400] kbarry: on the prod box its the 6th version :) and the changes aren't there.
[2014-05-19 18:33:53 -0400] kbarry: I created the environments. Lemme take a look, though i have no memory of ever usign version locking
[2014-05-19 18:34:00 -0400] NukePuppy: kinda like   "yum" => "~> 3.0", or similar?
[2014-05-19 18:34:04 -0400] davidordave: you could always force the upload: knife cookbook upload -f
[2014-05-19 18:34:30 -0400] kbarry: davidordave how is that diff from  not -f?
[2014-05-19 18:34:33 -0400] NukePuppy: cookbook_versions ({
[2014-05-19 18:34:33 -0400] NukePuppy: "apache2" => "= 1.6.0",})   etc
[2014-05-19 18:36:02 -0400] davidordave: if the versions were locked in the environment wouldn't you still be able to upload a different cookbook? I thought the locking occurs in the run. @kbarry, I am pretty sure force will upload even if it is frozen.
[2014-05-19 18:36:08 -0400] dgarstang: I've got a cookbook here using chef search, and it's retrieving fqdn's... is there any way to force that to use IP addresses instead?
[2014-05-19 18:36:49 -0400] NukePuppy: david i think he is getting the upload to succeed? i just dont think its applying the changes
[2014-05-19 18:37:02 -0400] davidordave: Oh, sorry, I misunderstood
[2014-05-19 18:37:09 -0400] NukePuppy: maybe i misunderstood too..
[2014-05-19 18:37:13 -0400] NukePuppy: but thats what i got from it -.-
[2014-05-19 18:38:15 -0400] NukePuppy: whats the usual delay between a new cookbook version and it showing up as the new version on the opscode cookbooks?
[2014-05-19 18:38:27 -0400] NukePuppy: like newrelic 1.0.3 is on opscode.. 1.0.4 is on the upstream repo
[2014-05-19 18:38:44 -0400] gkra: how painful is it to rename a Chef server?
[2014-05-19 18:39:06 -0400] NukePuppy: its the associated pains that sucks like getting your clients to know the new name
[2014-05-19 18:39:16 -0400] gkra: is it just a matter of set the new hostname, chef-server-ctl reconfigure ?
[2014-05-19 18:39:23 -0400] NukePuppy: that parts the easy part
[2014-05-19 18:39:44 -0400] gkra: thankfully, the product name was changed before I bootstrapped any nodes :)
[2014-05-19 18:40:35 -0400] NukePuppy: then you're still on step 0 so you should have an easy time
[2014-05-19 18:42:05 -0400] dgarstang: I've got a cookbook here using chef search, and it's retrieving fqdn's... is there any way to force that to use IP addresses instead?
[2014-05-19 18:42:15 -0400] NukePuppy: got example dgarstang?
[2014-05-19 18:44:07 -0400] dgarstang: NukePuppy: Sure. the edgelight mongodb one. https://github.com/edelight/chef-mongodb/blob/master/recipes/mongos.rb#33
[2014-05-19 18:44:36 -0400] dgarstang: NukePuppy: i guess search returns fqdn's by default.
[2014-05-19 18:44:47 -0400] kbarry: trying force
[2014-05-19 18:45:45 -0400] dgarstang: NukePuppy: fqdn's kinda suck cuz it means a dependancy on DNS
[2014-05-19 18:46:03 -0400] NukePuppy: heh yeah also FQDN doesnt always mean its for public view etc
[2014-05-19 18:46:34 -0400] dgarstang: NukePuppy: well it just means I have to add/change by hand until it's automated. Lot of work for little return
[2014-05-19 18:46:36 -0400] NukePuppy: like i use a lot of internal DNS for the node names.. app stacks have public view but chef doesnt care about that aspect of it
[2014-05-19 18:47:05 -0400] NukePuppy: sucks to fork PR for something like that too =/
[2014-05-19 18:47:11 -0400] dgarstang: NukePuppy: Yah.
[2014-05-19 18:47:35 -0400] NukePuppy: but migh tbe only route to apply a switch to choose
[2014-05-19 18:47:41 -0400] dgarstang: NukePuppy: it'd be easy for the author to add an option. i know the IP's are available.
[2014-05-19 18:47:43 -0400] NukePuppy: i hate that kind of thing too but :(
[2014-05-19 18:48:59 -0400] dgarstang: grrr. if I hadn't configured local fqdn's, I could have relied on Amazon's DNS
[2014-05-19 18:49:22 -0400] NukePuppy: are you wrapping the cookbook?
[2014-05-19 18:49:31 -0400] NukePuppy: wondering if you could just rewrite that value somehow
[2014-05-19 18:50:28 -0400] gkra: Nuke: I imagine renaming a functioning implementation involves cnames, updates to chef-client configuration, and patience.
[2014-05-19 18:51:13 -0400] NukePuppy: gkra possibly depends on amount.. and how flexible the environment is ;P  though if chef-server is down it could just be a 404 error until its up again to the nodes
[2014-05-19 18:51:17 -0400] dgarstang: NukePuppy: yah, I'm wrapping
[2014-05-19 18:52:30 -0400] NukePuppy: dgarstang while dirty you could just invoke the parts you need and then invoke a local recipe that does what that recipe did but your way =/
[2014-05-19 18:52:56 -0400] NukePuppy: though at that point PR is easier ;p
[2014-05-19 18:53:07 -0400] dgarstang: NukePuppy: I was thinking more like a script that runs on boot, and talks to DNS Made Easy and updates the dns for the box...
[2014-05-19 18:56:33 -0400] kbarry: davidordave: --force made everything better.
[2014-05-19 18:56:39 -0400] kbarry: apparently that was the secret sauce
[2014-05-19 18:56:46 -0400] NukePuppy: cool .. look into berkshelf though
[2014-05-19 18:56:53 -0400] NukePuppy: if time ever allows
[2014-05-19 18:57:19 -0400] btm: @chef code review: join: bit.ly/1oJB7X9 watch: bit.ly/1oJB51G
[2014-05-19 18:58:07 -0400] davidordave: +1 to berkshelf. Glad that you could get your current situation straightened out though.
[2014-05-19 18:58:39 -0400] jpic: hi all, how to create the private key ? ie. /home/jpic/.chef/jpic.pem
[2014-05-19 18:58:49 -0400] chef195: anyone know of a "call-tree" generator for a cookbook structure? e.g. calltree somepath-to-cookbooks. output is  a list of recipes, or even methods, and the order they are called in (approximate ok)
[2014-05-19 18:59:01 -0400] whiteadam: chef195:
[2014-05-19 18:59:06 -0400] whiteadam: chef195: rdoc ?
[2014-05-19 18:59:10 -0400] whiteadam: chef195: or.. tree
[2014-05-19 18:59:34 -0400] NukePuppy: jpic review the knife client setup for your workstation
[2014-05-19 19:02:00 -0400] NukePuppy: usually something like scp root@chef.server.whatever:/etc/chef-server/admin.pem ~/.chef
[2014-05-19 19:02:01 -0400] NukePuppy: scp root@chef.server.whatever:/etc/chef-server/chef-validator.pem ~/.chef
[2014-05-19 19:02:09 -0400] NukePuppy: then knife configure --initial
[2014-05-19 19:02:27 -0400] dgarstang: edgelight folks, y n return fqdn's with chef search? Y u crazy?
[2014-05-19 19:05:05 -0400] dgarstang: I wonder if anyone cares https://github.com/edelight/chef-mongodb/issues/295
[2014-05-19 19:08:09 -0400] dgarstang: I could... use chef search myself before I include the mongo recipe to add local host entries.
[2014-05-19 19:12:16 -0400] chef195: rdoc and tree are documentation and filesystem specifc. What I envision is a kind of "what-if" for an entire cookbook structure, which would show an approximately of the chef-run before a run. reviewing the chef log would still be the final arbiter of what happened with a run, but the tool could show the general order of things at the recipe or method level. this would be a useful tool  and probably not impossible to write.
[2014-05-19 19:12:20 -0400] fayesal: is it possible to use "compile time" variables in ruby_blocks?  If so, how?
[2014-05-19 19:12:50 -0400] rhys: is there a way to specify a minimum version on the apt_package resource?
[2014-05-19 19:13:18 -0400] fayesal: eg. I have a loop creating ruby_blocks for each file I want to copy locally
[2014-05-19 19:14:18 -0400] setient: rhys: what do you mean?
[2014-05-19 19:16:11 -0400] rhys: so the package resource accepts a 'version' parameter, which seems to install that version directly. if that version is unavailable, the resource fails. i want to be able to specify a version like '>1.3' and if there is a package available that is above 1.3, the resource succeeds.
[2014-05-19 19:16:24 -0400] whiteadam: chef195: So you want to know what happens before it happens?
[2014-05-19 19:16:38 -0400] fayesal: if ruby_block had an attribute attribute for passing attributes in, that would make it obvious.
[2014-05-19 19:20:13 -0400] rhys: setient: i take that back. apt does not seem to implement this
[2014-05-19 19:24:09 -0400] setient: doh
[2014-05-19 19:24:10 -0400] setient: no fun
[2014-05-19 19:24:13 -0400] jpic: NukePuppy: i find no key and have run knife configure --initial already, how to generate a key ?
[2014-05-19 19:24:56 -0400] setient: rhys: one approach is to pin to a specific version but another is to always deploy the latest with every release, so every release of a piece of software, builds a new vm with up to date stuff.
[2014-05-19 19:25:02 -0400] setient: that way you test as you deploy
[2014-05-19 19:25:47 -0400] whiteadam: jpic: Are you using Chef Open Source Server?
[2014-05-19 19:26:12 -0400] ErebusBat: jpic: if your initial setup did indeed finish then you should be able to look at your knife.rb file and it will have the path to your .pem file
[2014-05-19 19:26:13 -0400] jpic: whiteadam: no chef server afaik, just working locally
[2014-05-19 19:26:28 -0400] jpic: it has a path to a pem file, but the pem file is not there ;)
[2014-05-19 19:26:34 -0400] ErebusBat: jpic: If you are not using a server you do not need a key
[2014-05-19 19:26:56 -0400] whiteadam: jpic: If you're not interacting with a server, a key is not needed.
[2014-05-19 19:27:18 -0400] NukePuppy: jpic during that process is when it will generate it
[2014-05-19 19:27:33 -0400] whiteadam: brb, need to find beer
[2014-05-19 19:28:36 -0400] dgarstang: Is there a way to make a wrapped cookbook return IP's instead of FQDN's from a chef search?
[2014-05-19 19:29:53 -0400] whiteadam: dgarstang: ipaddress
[2014-05-19 19:30:15 -0400] rhys: setient, we're in some ways trying to isolate our cookbook design from our deployment pipeline.
[2014-05-19 19:30:33 -0400] whiteadam: eg: "ohai ipaddress" returns 192.168.0.12
[2014-05-19 19:30:47 -0400] whiteadam: afk
[2014-05-19 19:30:51 -0400] rhys: setient: thanks though. :)
[2014-05-19 19:30:54 -0400] dgarstang: whiteadam: yes, but it's in an upstream cookbook that I don't want to fork
[2014-05-19 19:31:09 -0400] setient: sorry :(
[2014-05-19 19:32:01 -0400] dgarstang: fudge it. i'll just have to work it. Why anyone would implement search and return fqdn's rather than Ip's I don't know
[2014-05-19 19:32:06 -0400] dgarstang: s/work/fork/
[2014-05-19 19:34:11 -0400] gleam: can you search in your wrapper cookbook and then edit the template (or whatever) resource to use your own search results?
[2014-05-19 19:35:00 -0400] renier: hello. maybe someone can point me in the righ direction. I'm creating a custom resource/provider, but I don't want to follow the naming convention (cookbookname_resourcefilename). Is the only way to do that is by creating "heavyweight" resource/providers under libraries/
[2014-05-19 19:35:19 -0400] renier: ?
[2014-05-19 19:37:11 -0400] gleam: do you want it to be cookbookname instead of cookbookname_resourcefilename?
[2014-05-19 19:37:16 -0400] gleam: or something completely different?
[2014-05-19 19:39:12 -0400] renier: gleam, something different
[2014-05-19 19:39:20 -0400] gleam: then yeah, i think it has to be a hwrp
[2014-05-19 19:39:39 -0400] renier: gleam, like my_cool_res
[2014-05-19 19:39:57 -0400] renier: and cookbook name is "foo". e.g.
[2014-05-19 19:40:05 -0400] rayrod2030: howdy chefs
[2014-05-19 19:40:28 -0400] rayrod2030: anyone seeing issues with 11.12.2 and ohai not properly setting ec2/cloud_v2 node attributes?
[2014-05-19 19:40:46 -0400] renier: gleam, ok, cool. that puts me in the right direction.  and that would have to be under libraries/, right? I can't recal if hwrp are also understood under resources/ and providers/ subdirs...
[2014-05-19 19:41:07 -0400] gleam: yes, it would be under libraries/
[2014-05-19 19:41:16 -0400] gleam: while you're at it you might as well use poise: https://github.com/poise/poise
[2014-05-19 19:41:36 -0400] jtimberman: FYI api.berkshelf.com was restarted to add monitoring, the cache is warming.
[2014-05-19 19:41:42 -0400] renier: gleam, ok, thanks. oh, I had heard of it from looking at one of the chef conf recordings. I'll look into it
[2014-05-19 19:42:17 -0400] rayrod2030: jtimberman: I just asked this on twitter but wondering what kind of traffic are you guys seeing on api.berkshelf.com?
[2014-05-19 19:42:45 -0400] jtimberman: rayrod2030: well, i *just* enabled metrics collection :)
[2014-05-19 19:42:56 -0400] rayrod2030: ah right. :)
[2014-05-19 19:43:00 -0400] jtimberman: so, i don't have any data yet
[2014-05-19 19:44:41 -0400] rayrod2030: This probably answers my ec2 attribute issue: https://github.com/opscode/ohai/pull/241/files
[2014-05-19 19:45:09 -0400] rayrod2030: probably one unreachable ec2 resource is causing the whole thing to not load.
[2014-05-19 19:46:25 -0400] dgarstang: Is there a way to make a wrapped cookbook return IP's instead of FQDN's from a chef search?
[2014-05-19 19:49:54 -0400] whiteadam: dgarstang: node['ipaddress'] ?
[2014-05-19 19:51:16 -0400] dgarstang: whiteadam: it's in the upstream cookbook that I don't want to fork
[2014-05-19 19:51:48 -0400] whiteadam: dgarstang: So you're trying to change something in an upstream cookbook, but you don't want to change the upstream cookbook?
[2014-05-19 19:52:44 -0400] dgarstang: whiteadam: i was hoping for a way to override the behaviour. I guess I'll just have to work
[2014-05-19 19:52:46 -0400] dgarstang: dammit FORK
[2014-05-19 19:52:48 -0400] GodsMadClown: Is api.berkshelf.com returning 'not found' again, or is it just me?
[2014-05-19 19:53:29 -0400] whiteadam: GodsMadClown: they just added some stuff and are restarting it
[2014-05-19 19:54:37 -0400] GodsMadClown: ok
[2014-05-19 19:59:23 -0400] nico_: is anyone familiar enough with the knife-cloudstack plugin to answer a couple of questions?
[2014-05-19 19:59:45 -0400] whiteadam: nico_: no, but try anyway
[2014-05-19 20:00:30 -0400] nico_: mostlu I just want to confirm that the plugin is just taking arguments and making api calls to the cloudstack
[2014-05-19 20:01:02 -0400] nico_: I'm getting some errors when I try to provision vm's in my cloudstack from the command line using commands for the knife-cloudstack plugin
[2014-05-19 20:01:29 -0400] whiteadam: I don't know.. but give me an example, maybe someone else will
[2014-05-19 20:02:00 -0400] nico_: I'll post a command and some output, just going to take a second to generate that in a temrinal
[2014-05-19 20:03:22 -0400] jreslock: Is there some way to set templates for license/readme/metadata files when using the chef-dk?
[2014-05-19 20:04:20 -0400] nico_: nixbox:chef-repo nico$ bundle exec knife cs server create nixtestserver -N nixtestserver -r 'role[emn_dev]' -E dev no-public-ip
[2014-05-19 20:04:20 -0400] nico_: WARNING: Could not load IOV methods. Check your GSSAPI C library for an update
[2014-05-19 20:04:21 -0400] nico_: WARNING: Could not load AEAD methods. Check your GSSAPI C library for an update
[2014-05-19 20:04:22 -0400] nico_: Waiting for Server to be created.......
[2014-05-19 20:04:24 -0400] nico_: Allocate ip address, create forwarding rules
[2014-05-19 20:04:26 -0400] nico_: Error 533:
[2014-05-19 20:04:28 -0400] nico_: {
[2014-05-19 20:04:30 -0400] nico_:   "associateipaddressresponse": {
[2014-05-19 20:04:32 -0400] nico_:     "errorcode": 533,
[2014-05-19 20:04:34 -0400] nico_:     "cserrorcode": 9999,
[2014-05-19 20:04:36 -0400] nico_:     "errortext": "Insufficient address capacity"
[2014-05-19 20:04:38 -0400] nico_:   }
[2014-05-19 20:04:40 -0400] nico_: }
[2014-05-19 20:04:42 -0400] nico_: URL: https://cloud.evolvingmedia.org/client/api?apiKey=<obfuscated by me>&command=associateIpAddress&networkId=2ddfc21a-b37d-4bd5-8bde-efc19858fa4c&response=json&zoneId=7b9b0354-486f-4d94-957d-8f6b6e26f56f&signature=J4AWM3RyM0VRMknMlaMlf9fSbAA%3D
[2014-05-19 20:05:09 -0400] nico_: so as far as I can tell, the plugin just passed the request to the cloudstack and the error spat out from the cloudstack management server
[2014-05-19 20:05:11 -0400] whiteadam: nico_: hah, that sounds crazy
[2014-05-19 20:06:21 -0400] nico_: I was heistant to even post here, as I'm fairly certain this is a cloudstack issue. I just havne't had any luck getting an assist on their irc channel
[2014-05-19 20:06:34 -0400] nico_: think I'll have to pos on their mailing list
[2014-05-19 20:07:36 -0400] whiteadam: how about this "increase ip range from infrastructure tab."
[2014-05-19 20:08:00 -0400] whiteadam: saw that on the internet
[2014-05-19 20:08:31 -0400] mallu: hi, is it possible to find out how many time chef-client ran on a host?
[2014-05-19 20:08:35 -0400] nico_: yeah, I goggled the hell out of this issue and tried that already :(
[2014-05-19 20:08:35 -0400] jtimberman: fyi api.berkshelf.com should be back
[2014-05-19 20:08:46 -0400] mallu: or when was the last time chef-clinet ran on a host?
[2014-05-19 20:09:43 -0400] whiteadam: mallu: Are you using a chef server?
[2014-05-19 20:09:52 -0400] mallu: yes
[2014-05-19 20:10:02 -0400] whiteadam: it should be under the Status tab
[2014-05-19 20:11:00 -0400] mallu: well.. I'm trying to get it from a cookbook.. I want to delete a file 3rd time chef-client run
[2014-05-19 20:11:45 -0400] mallu: i can touch a file each time chef-client run.. but womdering if it already somewhere so that I don't have to touch file
[2014-05-19 20:15:48 -0400] ErebusBat: mallu: can I ask why on the 3rd run?
[2014-05-19 20:17:35 -0400] mallu: 3rd is an arbitary number... We have a file that log some stuff every time chefclient runs... I would like to keep it clean so delete after Nth time
[2014-05-19 20:17:35 -0400] whiteadam: ErebusBat: cuz strippers
[2014-05-19 20:22:41 -0400] bricker: What does "enabled" mean in the context of the "mount" resource? http://docs.opscode.com/resource_mount.html None of the examples use it and the documentation is very unclear ("enabled: Use to specify if a mounted file system is enabled"...)
[2014-05-19 20:25:57 -0400] gleam: the doc says it adds it to fstab
[2014-05-19 20:26:11 -0400] gleam: so :mount just mounts it, :enable sets it to mount on boot
[2014-05-19 20:26:18 -0400] whiteadam: Anyone using SoftLayer right now?
[2014-05-19 20:30:36 -0400] bricker: gleam: so if I need it to be a permanent mount (even if the VM is restarted), I should use that 'enable' flag?
[2014-05-19 20:34:07 -0400] gleam: you want both mount+enable
[2014-05-19 20:36:40 -0400] jpic: hi all, how to tell chef that i don't want to use the server and that i don't need a key ? any knife command results in something about the key: http://dpaste.com/27VS306/
[2014-05-19 20:37:20 -0400] rfergu: Hiya, I'm trying to figure out knife ec2.  I have a basic VPC and am fairly new to AWS in general.  I keep getting the error "Fog::Compute::AWS::Error: VPCIdNotSpecified => No default VPC for this user"
[2014-05-19 20:37:43 -0400] rfergu: Any idea what the required fields are or ec2 setup I need to do?
[2014-05-19 20:37:57 -0400] rfergu: (I'm trying to use opscode managed chef)
[2014-05-19 20:38:28 -0400] whiteadam: jpic: remove the reference to the key from knife.rb and try again
[2014-05-19 20:42:43 -0400] jpic: whiteadam: i don't have any knife.rb: WARNING: No knife configuration file found
[2014-05-19 20:42:54 -0400] rfergu: I setup a little bastion node which I can connect to easily enough, but the errors are way to cryptic :/
[2014-05-19 20:45:38 -0400] coderanger: rfergu: What command are you running?
[2014-05-19 20:45:51 -0400] coderanger: jpic: Don't use those commands
[2014-05-19 20:46:14 -0400] coderanger: jpic: Knife, in general, exists to interact with the chef-server, there isn't much of it that applies to chef-solo
[2014-05-19 20:47:12 -0400] linuxboytoo: I am getting this error - seems like a symptom of something else as I can't think that "chef_gem" would not be available... NoMethodError ------------- No resource or method named `chef_gem' for `Chef::Recipe "default"'
[2014-05-19 20:47:45 -0400] coderanger: linuxboytoo: What version of Chef are you running?
[2014-05-19 20:47:59 -0400] coderanger: linuxboytoo: chef_gem was added in the mid 10.x series I think
[2014-05-19 20:48:04 -0400] linuxboytoo: Chef: 11.10.0
[2014-05-19 20:48:21 -0400] coderanger: linuxboytoo: Hmm, can you pastebin your recipe and the full output?
[2014-05-19 20:48:43 -0400] rfergu: https://gist.github.com/rfergu/17910827980433d16934
[2014-05-19 20:48:50 -0400] rfergu: I obfuscated the amazon parts and company parts
[2014-05-19 20:49:23 -0400] coderanger: rfergu: You need to give it a VPC ID
[2014-05-19 20:49:52 -0400] rfergu: I tried # knife[:server-connect-attribute] = "54.x.y.z"
[2014-05-19 20:50:33 -0400] linuxboytoo: http://pastebin.com/VmEtGf02
[2014-05-19 20:50:41 -0400] coderanger: rfergu: That wouldn't help, and would just error
[2014-05-19 20:51:17 -0400] coderanger: rfergu: If oyu include --subnet, that should help
[2014-05-19 20:51:31 -0400] linuxboytoo: coderanger: http://pastebin.com/VmEtGf02
[2014-05-19 20:52:35 -0400] coderanger: linuxboytoo: Hmm, looks correct
[2014-05-19 20:52:56 -0400] coderanger: oh
[2014-05-19 20:53:00 -0400] coderanger: because its a deeper error
[2014-05-19 20:53:00 -0400] coderanger: undefined method `full_name' for nil:NilClass
[2014-05-19 20:53:23 -0400] coderanger: It is catching the NoMethodError incorrectly
[2014-05-19 20:53:57 -0400] coderanger: linuxboytoo: Probably something inside the aws cookbook, I would check the detail traceback
[2014-05-19 20:54:11 -0400] linuxboytoo: coderanger: figures :) ok I will dig more on that
[2014-05-19 20:54:15 -0400] rfergu: new error at least, "the key pair '...' does not exist
[2014-05-19 20:54:30 -0400] sarkis: hey guys, so the attributes directory, does defaults.rb only get loaded there?
[2014-05-19 20:54:40 -0400] coderanger: sarkis: No, all files get loaded
[2014-05-19 20:54:42 -0400] sarkis: what if i add say users.rb with user attributes
[2014-05-19 20:54:45 -0400] sarkis: i see thanks
[2014-05-19 20:54:59 -0400] coderanger: sarkis: There is more or less no reason to ever have more than one file in there
[2014-05-19 20:55:26 -0400] sarkis: coderanger: well im trying to solve users issue... seems data bags are widely used for the top community cookbooks
[2014-05-19 20:55:41 -0400] sarkis: by users issue, i mean im tryin gto get chef to manage my users
[2014-05-19 20:56:02 -0400] coderanger: sarkis: See https://coderanger.net/2014/02/data-bags/ :-)
[2014-05-19 20:56:30 -0400] sarkis: ah ihnteresting
[2014-05-19 20:56:37 -0400] whiteadam: coderanger: What are you wearing?
[2014-05-19 20:56:40 -0400] sarkis: thanks  :)
[2014-05-19 20:56:43 -0400] coderanger: (also re: your question in #berks)
[2014-05-19 20:56:54 -0400] rfergu: how does it find the key pair?  Putting it in my .chef directory or my .ssh directory isn't working
[2014-05-19 20:57:12 -0400] coderanger: rfergu: That error is from the AWS API most likely
[2014-05-19 20:57:23 -0400] jpic: oh ok, thanks coderanger
[2014-05-19 20:57:31 -0400] coderanger: rfergu: Make sure your key exists in us-west-2, they are region-specific
[2014-05-19 21:02:52 -0400] rfergu: ahh!! worked
[2014-05-19 21:02:55 -0400] rfergu: Thanks @coderanger
[2014-05-19 21:04:46 -0400] whiteadam: beer is here! who wants one?
[2014-05-19 21:07:49 -0400] robawt: man, test kitchen is pretty nice
[2014-05-19 21:08:08 -0400] whiteadam: yeah, real nice
[2014-05-19 21:17:59 -0400] sarkis: hmm so i installed chef-dk
[2014-05-19 21:18:14 -0400] mallu: can someone tell me how I can get mtime of a file?
[2014-05-19 21:18:20 -0400] sarkis: i should probably remove chef and berkshelf gems
[2014-05-19 21:18:28 -0400] coderanger: mallu: In what context?
[2014-05-19 21:18:35 -0400] sarkis: is there a way to remove a gem and its dependencies?
[2014-05-19 21:18:36 -0400] coderanger: sarkis: Its pretty moot
[2014-05-19 21:18:45 -0400] coderanger: sarkis: but gem uninstall is a thing
[2014-05-19 21:18:47 -0400] sarkis: well looks like berks gem is being used
[2014-05-19 21:18:56 -0400] sarkis: when i do which berks
[2014-05-19 21:19:00 -0400] coderanger: sarkis: Just need to fix your path to point at the correct berks binary
[2014-05-19 21:19:04 -0400] sarkis: yea
[2014-05-19 21:19:17 -0400] mallu: @coderanger: I would like to know when a file last modified? If it modified more than n days ago then delete it
[2014-05-19 21:20:56 -0400] coderanger: mallu: file '/path/to/file' do action :delete; only_if { File.mtime('/path/to/file') < 12341234} end
[2014-05-19 21:21:00 -0400] redondos: you can use a file resource with :delete only_if File::mtime is bigger than whatever.
[2014-05-19 21:21:08 -0400] redondos: right 
[2014-05-19 21:21:31 -0400] mallu: great.. thanks
[2014-05-19 21:23:26 -0400] datallah: I'm having trouble running a search for a nested attribute. The docs seem to say that nesting levels should be separated by underscores, but that doesn't work.
[2014-05-19 21:24:21 -0400] coderanger: datallah: Hey, long time no see, that should indeed be the case, what search are you trying to run?
[2014-05-19 21:24:41 -0400] datallah: I've tried `knife search environment "foo_bar_baz:1"` and that doesn't match anything.
[2014-05-19 21:24:50 -0400] datallah: :) yes, I think the last time we talked was in #trac
[2014-05-19 21:25:21 -0400] datallah: `knife search environment "baz:1"` works, but I want to be more specific
[2014-05-19 21:25:29 -0400] coderanger: Hmm, are you trying to actually search within environment objects?
[2014-05-19 21:25:39 -0400] datallah: they are attributes
[2014-05-19 21:25:57 -0400] datallah: default attributes
[2014-05-19 21:26:38 -0400] coderanger: Yes, but are you sure you are trying to search for an env object instead of a node?
[2014-05-19 21:26:43 -0400] coderanger: That should work, its just uncommon
[2014-05-19 21:28:06 -0400] datallah: Yeah, It is on the environment - I can see it using `knife environment edit`
[2014-05-19 21:28:27 -0400] coderanger: Let me double check how the expansion works on env objects, not actually certain on that one
[2014-05-19 21:29:10 -0400] datallah: I do have some attributes that have underscores in the key - I wasn't sure how to deal with that, but I hadn't gotten that far :)
[2014-05-19 21:29:30 -0400] datallah: aha - the search works for nodes
[2014-05-19 21:29:46 -0400] coderanger: Yeah, I'm guessing the flattening works differently for env objects
[2014-05-19 21:30:06 -0400] coderanger: kallistec ssd7 ^^
[2014-05-19 21:30:16 -0400] datallah: It seems to magically deal with underscores, which is a bit odd
[2014-05-19 21:30:42 -0400] coderanger: datallah: There isn't much magic to it, it stores each level of expansions separately when flattening
[2014-05-19 21:31:18 -0400] datallah: I guess it seems like it could be ambiguous if i have a "foo_bar" key and a "foo" key with a "bar" subkey.
[2014-05-19 21:31:35 -0400] coderanger: datallah: Yeah, its a lossy transformation
[2014-05-19 21:31:39 -0400] datallah: I'm not going to worry about that though :)
[2014-05-19 21:33:36 -0400] coderanger: I can't find the code that does the flattening anymore, so yeah, I defer to kallistec et al
[2014-05-19 21:34:00 -0400] datallah: I'll hang around - hopefully he'll see the question.
[2014-05-19 21:34:14 -0400] datallah: Thanks for the help
[2014-05-19 21:40:46 -0400] rfergu: knife-ec2 is creating my instance, but it appears to be hanging on "Waiting for sshd"  is there a way to make it more verbose?
[2014-05-19 21:41:14 -0400] coderanger: rfergu: Means it isn't able to SSH to the target address
[2014-05-19 21:41:28 -0400] coderanger: rfergu: You can use --verbose twice
[2014-05-19 21:41:33 -0400] coderanger: that will set the log level to debug
[2014-05-19 21:41:55 -0400] kallistec: coderanger: datallah flatten/expand is done by chef-expander https://github.com/opscode/chef-expander/
[2014-05-19 21:42:33 -0400] coderanger: kallistec: That seems like it should do the usual recursive expansion though, and I am also not seeing it work with nested keys on environments
[2014-05-19 21:42:38 -0400] kallistec: the thing is that expander works the same for all objects, so it's quite dependent on the data that's fed to it by (nowadays) erchef
[2014-05-19 21:42:48 -0400] coderanger: kallistec: Wasn't sure if erchef is feeding it something weird
[2014-05-19 21:42:49 -0400] coderanger: heh, yeah
[2014-05-19 21:42:57 -0400] coderanger: and hell if I can find that code in chef_wm :)
[2014-05-19 21:43:10 -0400] kallistec: maybe it's chef_objects?
[2014-05-19 21:47:30 -0400] datallah: The query is fully run on the server, right?  My knife version is slightly old, but the server is 11.0.12
[2014-05-19 21:48:10 -0400] coderanger: datallah: Yeah
[2014-05-19 21:49:20 -0400] datallah: I need to run - I'll play with it more tomorrow.  In the meantime I can use the naked leaf attribute name, but in my case it's pretty generic, so I want to avoid that.
[2014-05-19 21:53:10 -0400] rfergu: We are using a bastion server and I'd like to ssh through to the node:  knife ssh --ssh-gateway BASION_USER@BASTION --identity-file ~/.ssh/PEM_FOR_BASTION --verbose --ssh-user ec2-user  It's asking me for a password, but it should just be able to use the identity file.  Am I missing a part?
[2014-05-19 21:54:07 -0400] coderanger: rfergu: It is trying to use the --identity-file for both the gateway and the target machine
[2014-05-19 22:06:20 -0400] coderanger: Can anyone else make heads or tails of https://github.com/balanced-cookbooks/rundeck/tree/cleanup?
[2014-05-19 22:06:31 -0400] coderanger: (the README that is)
[2014-05-19 22:08:31 -0400] rfergu: hmmph I have the .pem file in authorized hosts for both the bastion and newly made ec2 instance
[2014-05-19 22:09:03 -0400] rfergu: still wants my password.  I am terrible at security :(
[2014-05-19 22:21:46 -0400] whiteadam: rfergu: I'm with the NSA, we're glad to hear it.
[2014-05-19 22:32:39 -0400] digitalchild: coderanger: did you get any feedback on that readme?
[2014-05-19 22:32:51 -0400] coderanger: digitalchild: Nope, still hacking away at it :)
[2014-05-19 22:33:07 -0400] digitalchild: ok, ill give it a read, i don't use it but im pretty good at documentation
[2014-05-19 22:33:32 -0400] digitalchild: quick start should be bullet points
[2014-05-19 22:33:47 -0400] digitalchild: 'for the impatient' 'for the detailed oriented'
[2014-05-19 22:33:48 -0400] digitalchild: hehe
[2014-05-19 22:34:27 -0400] coderanger: Yeah :-/ Not sure I can do that
[2014-05-19 22:34:34 -0400] digitalchild: coderanger: i'm gonna edit the readme
[2014-05-19 22:34:36 -0400] coderanger: There is no way to quickly use it without serious security risks
[2014-05-19 22:34:38 -0400] digitalchild: some grammatical things
[2014-05-19 22:34:44 -0400] coderanger: Roger, thanky :)
[2014-05-19 22:35:10 -0400] digitalchild: what are the security issues?
[2014-05-19 22:35:19 -0400] digitalchild: other than the whole storing a password in a cookbook heh
[2014-05-19 22:35:41 -0400] coderanger: digitalchild: Explained more down in the Recipes section, storing passwords/keys in node attributes is really bad (unless you are using solo)
[2014-05-19 22:36:25 -0400] digitalchild: coderanger: i was at an aws presentation and one of the amazon guys showed us why storing your access keys in your recipes are a bad idea by just searching github
[2014-05-19 22:36:29 -0400] digitalchild: THOUSANDS..
[2014-05-19 22:37:05 -0400] coderanger: That too, but even if you keep it in a private recipe, its still visible from every chef node
[2014-05-19 22:37:32 -0400] digitalchild: yeha
[2014-05-19 22:37:37 -0400] coderanger: and since the rundeck passwords/keys usually have root everywhere, thats equiv to giving every node root on every other node
[2014-05-19 22:38:29 -0400] Scrivener: I know you guys aren't AWS people, but maybe you'd be able to help. In AWS opsworks, I've got the ability to update my chef cookbooks across instances through the GUI. I do so and it pulls down the cookbooks from my github repo and compiles them.
[2014-05-19 22:39:00 -0400] Scrivener: However, it seems to be pulling down an older version than I have on github all of a sudden. Nothing has been changed on the opsworks side.
[2014-05-19 22:39:33 -0400] Scrivener: It is complaining about a missing "end" that I fixed two updates ago, and I can't update custom cookbooks because it keeps complaining about this issue. The code it's referencing does not even exist anymore.
[2014-05-19 22:39:44 -0400] Scrivener: (In the repo, in the proper branch)
[2014-05-19 22:40:43 -0400] Scrivener: How can I fix this? It needs to pull in the *current* cookbooks for this to work.
[2014-05-19 22:42:03 -0400] mallu: is it possible to delete multiple directories using directory resource?
[2014-05-19 22:42:26 -0400] coderanger: mallu: Use multiple directory resources
[2014-05-19 22:42:43 -0400] devjj: `berks list` shows a cookbook installed, but when I `vagrant up` it says it isn't. Any tips?
[2014-05-19 22:43:28 -0400] redondos: mallu:  try something like: %w(dir1 dir2 dir3).each {|dir| directory dir; action :delete; recursive: true; end }
[2014-05-19 22:43:49 -0400] redondos: devjj: what's the error message?
[2014-05-19 22:43:54 -0400] digitalchild: coderanger: suggested changes sent for quickstart
[2014-05-19 22:44:49 -0400] coderanger: digitalchild: Roger, thanky
[2014-05-19 22:45:04 -0400] digitalchild: reading through the rest now
[2014-05-19 22:47:33 -0400] devjj: redondos: http://pastebin.com/AUEjymuk
[2014-05-19 22:47:50 -0400] devjj: redondos: This is a multi-vm setup. I've seen that this can cause issues, but I'm not sure what I'm doing wrong.
[2014-05-19 22:51:26 -0400] aslan: How can I trigger a resource to run if another resource does not run?
[2014-05-19 22:52:48 -0400] digitalchild: coderanger: do you use rundeck?
[2014-05-19 22:52:55 -0400] coderanger: Yep
[2014-05-19 22:53:07 -0400] redondos: aslan: what triggers the other resource not to run? apply opposite logic to the one you want to run.
[2014-05-19 22:53:14 -0400] digitalchild: the more i learn about devops the more i realise my shell scripts should have been killed years ago.
[2014-05-19 22:53:41 -0400] redondos: devjj: post your Berksfile and metadata.rb?
[2014-05-19 22:53:51 -0400] aslan: redondos: I want to trigger logic when a package resource does not run.
[2014-05-19 22:54:59 -0400] devjj: redondos: http://pastebin.com/3N7qHgbs
[2014-05-19 22:55:11 -0400] redondos: you're going to have to go a little deeper than that, aslan. e.g. run resource when a file exists
[2014-05-19 22:55:29 -0400] coderanger: digitalchild: It can be a bit annoying to setup (though hopefully this cookbook removes much of that), but its a really useful tool
[2014-05-19 22:55:38 -0400] coderanger: digitalchild: Especially combined with rundeck-fabric
[2014-05-19 22:55:59 -0400] redondos: devjj: berks update?
[2014-05-19 22:56:24 -0400] aslan: redondos: Here's the setup.  Two resources. One package. One Ruby Block.  If the package resource processes then I don't want the Ruby Block too. And Vice versa.
[2014-05-19 22:56:57 -0400] digitalchild: coderanger: *nods* its not a very big dev house here, but I'd like to learn it for my own projects
[2014-05-19 22:57:20 -0400] digitalchild: plus i have about 3 weeks of cookbooks left to write to replace all the existing manual infrastructure I've got running here
[2014-05-19 22:57:47 -0400] devjj: redondos: Same thing. http://pastebin.com/3URx24e2
[2014-05-19 22:57:55 -0400] redondos: aslan: i don't know your setup but it sounds to me like you're going to have to check for a file's existence, or the output of a package manager, etc.
[2014-05-19 22:58:26 -0400] redondos: devjj: weird. try: rm Berksfile.lock; berks install
[2014-05-19 22:59:29 -0400] devjj: redondos: Again, same thing. I've noticed that in ~/.berkshelf I have a cookbooks directory, and then each VM gets its own directory, and each VM in there has its own cookbooks directory. Is it possible vagrant is seeing the right directory?
[2014-05-19 23:00:17 -0400] devjj: *wrong directory, I mean.
[2014-05-19 23:00:49 -0400] aslan: redondos: Thats what I figured, just was wondering if the resources had a capability I hadn't accounted for.
[2014-05-19 23:01:12 -0400] aslan: redondos: Thanks anyways.
[2014-05-19 23:02:50 -0400] coderanger: gah, I can barely make heads or tails of my own code today
[2014-05-19 23:03:26 -0400] redondos: same here :\
[2014-05-19 23:03:52 -0400] redondos: hey coderanger, what's your favorite example cookbook to show poise's features?'
[2014-05-19 23:04:06 -0400] coderanger: redondos: Probably either this rundeck one or the berks-api cookbook
[2014-05-19 23:04:10 -0400] coderanger: the latter is much simpler
[2014-05-19 23:04:47 -0400] redondos: thanks
[2014-05-19 23:16:58 -0400] mallu: @coderanger: What is multiple directory resource?
[2014-05-19 23:17:07 -0400] coderanger: mallu: Just use more than one directory resource
[2014-05-19 23:17:09 -0400] devjj: redondos: No ideas?
[2014-05-19 23:17:25 -0400] redondos: devjj: that's berkshelf yelling at you, not vagrant
[2014-05-19 23:17:30 -0400] maraca: is it OK to use ohai in a LWRP? It just doesn't seem to be working as expected
[2014-05-19 23:19:01 -0400] devjj: redondos: I get that, but I have no clue why.
[2014-05-19 23:20:00 -0400] maraca: no idea why ohai is failing to reload https://gist.github.com/maraca/2c9a764c3a63dab2bd8a
[2014-05-19 23:20:23 -0400] maraca: or if it is - could it be that the variable ssh_dir is trying to be assigned before any of the code actually gets executed?
[2014-05-19 23:40:08 -0400] redondos: maraca: iirc it should work. try printing the attribute with the log resource? also try printing new_resource.user
[2014-05-19 23:40:56 -0400] maraca: new_resource.user prints, the only way to print the path to the user using ruby is to use a ruby_block
[2014-05-19 23:48:21 -0400] devjj: pcwsygchetbx
[2014-05-19 23:48:28 -0400] devjj: oops!
[2014-05-19 23:48:40 -0400] devjj: Guess I'll be changing that password.
[2014-05-19 23:50:02 -0400] dgarstang: Is anyone here using the edgelight mongo cookbook?
[2014-05-19 23:52:04 -0400] digitalchild: devjj: and that's why i have my irssi console on a completely different computer :)
