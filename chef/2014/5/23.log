[2014-05-23 00:02:30 -0400] evaryont: ah, either an array or a single AST element.
[2014-05-23 03:00:04 -0400] chernjie: Good morning guys
[2014-05-23 03:10:44 -0400] atomic-penguin: good evening chernjie
[2014-05-23 03:18:13 -0400] chernjie: :p Finally setup my first chef-server (whew)
[2014-05-23 03:18:26 -0400] chernjie: for a moment there I thought I needed to ask a question
[2014-05-23 03:19:03 -0400] atomic-penguin: chernjie, you're better off than my first time install it then
[2014-05-23 03:57:15 -0400] chernjie: just completed the tutorial on cookbook. First question for google is: can I auto-run chef-client?
[2014-05-23 03:57:29 -0400] Popsikle: coderanger: you around?
[2014-05-23 03:57:32 -0400] chernjie: I am assuming that's a pretty standard n0b question
[2014-05-23 03:57:40 -0400] coderanger: Yep
[2014-05-23 03:57:59 -0400] ianblenke: chernjie: chef-client -s (Splay)
[2014-05-23 03:58:04 -0400] coderanger: chernjie: You mean run it as a daemon?
[2014-05-23 03:58:40 -0400] ianblenke: er, -i interval, with -s splay delay to offset the nodes.
[2014-05-23 03:59:40 -0400] coderanger: chernjie: Use the cookbook "chef-client", it has recipes to install it either as a service on its own or via cron
[2014-05-23 04:00:50 -0400] Popsikle: https://github.com/coderanger/pychef/pull/27
[2014-05-23 04:00:59 -0400] Popsikle: is that going to get merged in any time?
[2014-05-23 04:01:14 -0400] Popsikle: or shoulk I fork + code ;)
[2014-05-23 04:01:20 -0400] chernjie: thanks coderanger
[2014-05-23 04:01:39 -0400] coderanger: Popsikle: Unlikely, because I'm probably going to swap over to Cryptography soon in favor over my custom ctypes stuffs
[2014-05-23 04:01:51 -0400] coderanger: Popsikle: Or at least make it support both
[2014-05-23 04:01:56 -0400] coderanger: Popsikle: which would break all that code
[2014-05-23 04:02:18 -0400] coderanger: Popsikle: I really don't want to do Real Crypto with my custom ctypes bindings because it almost certainly isn't safe
[2014-05-23 04:02:28 -0400] coderanger: Popsikle: For the API auth its okay because thats transient
[2014-05-23 04:02:52 -0400] coderanger: but yeah, I would strongly suspect that code isn't safe
[2014-05-23 04:03:03 -0400] Popsikle: otay.
[2014-05-23 04:06:50 -0400] coderanger: Popsikle: Its on my "things to work on while unemployed" list, but that list is growing very quickly >_M
[2014-05-23 04:07:27 -0400] Popsikle: lol
[2014-05-23 04:07:50 -0400] Popsikle: are you looking for work? if so anything in particular? ;)
[2014-05-23 04:08:52 -0400] coderanger: Popsikle: Not quite yet, but if you're interested in advanced chef training for your company, you should email me :)
[2014-05-23 04:09:23 -0400] Popsikle: im the only ops guy, so.....
[2014-05-23 04:33:17 -0400] darkside_: Popsikle: yay, solo-ops, join the club
[2014-05-23 04:33:35 -0400] Popsikle: heh.
[2014-05-23 04:34:32 -0400] Popsikle: + IT support of course
[2014-05-23 04:34:58 -0400] darkside_: at least I have a junior helpdesk guy
[2014-05-23 04:36:18 -0400] Popsikle: I just got a contract it dude to help out when needed. Its not like im going to hand him access to the vpn servers tho so its really just for macbook windows support.
[2014-05-23 04:36:22 -0400] Popsikle: Which should help out a lot
[2014-05-23 04:36:39 -0400] Popsikle: and well my new chef repo is like having 5-10 reports tbh
[2014-05-23 04:36:40 -0400] Popsikle: lol
[2014-05-23 04:37:03 -0400] darkside_: yes, now you need a raise
[2014-05-23 04:37:05 -0400] darkside_: :)
[2014-05-23 04:37:35 -0400] Popsikle: nope im good for now ;)
[2014-05-23 04:38:03 -0400] darkside_: wrong attitude, you always need a raise
[2014-05-23 04:38:43 -0400] Popsikle: incorrect sir! I could always *use* or *want* a raise. Its not that i *need* a raise
[2014-05-23 04:38:47 -0400] Popsikle: =)
[2014-05-23 04:39:03 -0400] darkside_: ok ok, ha
[2014-05-23 04:39:09 -0400] darkside_: i'm out, 'night
[2014-05-23 04:39:12 -0400] Popsikle: o7
[2014-05-23 04:44:29 -0400] juliancdunn: whenever anyone says 'raise' I always immediately think of Ruby exceptions
[2014-05-23 06:49:23 -0400] Junaid: Is it possible to set check_load of nagios based on the number of cores on a server?
[2014-05-23 06:56:17 -0400] coderanger: Junaid: ohai should detect that, so yes
[2014-05-23 07:18:19 -0400] bixu: Can someone point me at docs that explain health_check.rb in omnibus-ruby?
[2014-05-23 07:18:39 -0400] coderanger: bixu: It uses ldd to check that no dynamic links outside the target folder exist
[2014-05-23 07:20:04 -0400] bixu: Is that what is meant by an 'unsafe' dependency?
[2014-05-23 07:20:09 -0400] kitemikaze: Hello, Im trying to use kitchen-docker with chef_solo to provison mysql::server cookbook inside a docker container (host: centos6 with devicemapper backend storage and docker container is ubuntu14.04). but during the cook I got a ERROR 2002 (HY000): Can't connect to local MySQL during the execute[install-grants].  Anyone have the same issue ?
[2014-05-23 07:20:59 -0400] bixu: And what's the purpose of whitelisting libs?
[2014-05-23 07:21:56 -0400] bixu: And is there a way for me to bundle the libs that are listed as 'unsafe' from my platform into the omnibus?
[2014-05-23 07:39:06 -0400] Junaid: <@coderanger> IS there a doc somewhere I could use?
[2014-05-23 07:49:07 -0400] coderanger: Junaid: Just run `ohai` on the server, you'll see all the info available
[2014-05-23 07:49:39 -0400] coderanger: Junaid: Specifically node['cpu']['total'] is the number of cores
[2014-05-23 07:50:06 -0400] coderanger: Though I don't think that counts hyperthreading, so "core" is a bit fuzzy
[2014-05-23 08:10:59 -0400] bixu: coderanger: I was able to fix my build issue by forking omnibus-ruby and adding a bunch of libs to the libs whitelist for smartos - is this safe?
[2014-05-23 08:11:35 -0400] mattt: bixu: i had to do something similar recently too
[2014-05-23 08:13:38 -0400] mattt: bixu: but no, in theory that's not the right thing to do
[2014-05-23 08:14:19 -0400] mattt: bixu: you should be including those libs in the omnibus build itself
[2014-05-23 08:15:27 -0400] bixu: mattt: And how do I do that?
[2014-05-23 08:16:01 -0400] bixu: Add them to omnibus-software and build them from source?
[2014-05-23 08:22:14 -0400] mattt: bixu: what exactly are you building?
[2014-05-23 08:22:27 -0400] bixu: chef-client and ruby 2.1.1
[2014-05-23 08:25:13 -0400] mattt: bixu: i wonder what the external libs are that it's pulling in ?
[2014-05-23 08:25:31 -0400] mattt: bixu: i should prefix that i'm not that versed w/ omnibus, just used it mildly to rebuild another project
[2014-05-23 08:35:18 -0400] someara: kitemikaze can you file a ticket about that?
[2014-05-23 08:35:58 -0400] kitemikaze: someara: ok I will do that ! thanks
[2014-05-23 08:44:30 -0400] bixu: mattt: Here's the list of libs I had to whitelist: https://github.com/bixu/omnibus-ruby/commit/91f625511b54458107245c05fd08705e497f63ec
[2014-05-23 08:54:21 -0400] mattt: bixu: i'm not entirely sure sorry  i'm guessing the source builds are picking up things on the host which the omnibus software isn't expecting and therefore including it
[2014-05-23 08:54:27 -0400] mattt: bixu: or building in support for that stuff
[2014-05-23 08:54:37 -0400] mattt: bixu: do you have another host which you can build on which has a lot less libraries installed?
[2014-05-23 08:55:48 -0400] mattt: bixu: in my case i was building software which had a lib depend on libvirt  and i wanted to use libvirt provided by OS rather than omnibus
[2014-05-23 08:56:14 -0400] mattt: bixu: so i added the libvirt stuff to the whitelist as you mentioned, but this was intentional as anyone using that omnibus software would know to use libvirt from their distro
[2014-05-23 08:57:59 -0400] bixu: mattt: That's what I was thinking.
[2014-05-23 08:58:25 -0400] bixu: I'm more interested in protecting the OS from chef-client's needs than the other way around, if that makes sense.
[2014-05-23 09:00:39 -0400] mayur: hi I am having Openstack installed: Single Controller + N Compute A single controller with 1 or more OpenStack Compute nodes. No object storage.  I want to launch instance using chef.
[2014-05-23 09:01:01 -0400] mayur:  Which architecture should I choose? Chef client-server or solo ?
[2014-05-23 09:01:28 -0400] mayur: Please guide; I have read but unable to get exact chef component placement?
[2014-05-23 09:05:15 -0400] mattt: mayur: i'm not sure what you're asking really
[2014-05-23 09:10:48 -0400] mattt: mayur: if you want to spin up instances using chef, then you'd use knife for that  with an openstack plugin presumably
[2014-05-23 09:12:00 -0400] mayur: but knife seems to presume chef-client is installed as per given in the guide
[2014-05-23 09:12:23 -0400] mattt: mayur: you would need chef-client (which provides knife) installed somewhere, on a client machine, laptop, whatever
[2014-05-23 09:12:41 -0400] mattt: mayur: but the knife server create would install chef-client itself on the instance which it boots
[2014-05-23 09:14:20 -0400] mayur: may be I am wrong but should I need to install knife & chef-client on controller as well as compute machine so that I can Instances of image registered with openstack....!
[2014-05-23 09:14:59 -0400] mayur: so that I could launch instance of image reg with openstack!!
[2014-05-23 09:15:09 -0400] srenatus: mayur: no chef stuff needs to be installed in your openstack cloud to use knife-openstack
[2014-05-23 09:15:18 -0400] srenatus: knife-openstack is using ruby-fog to talk to the APIs only
[2014-05-23 09:15:37 -0400] mayur: means I need to install chef-server and chef-client??
[2014-05-23 09:15:45 -0400] srenatus: mayur: you need knife (i.e. the omnibus chef package) on your workstation, and the knife-openstack plugin
[2014-05-23 09:15:54 -0400] mattt: mayur: if all you are trying to do is boot instances then maybe you should use the 'nova' client instead?  :)
[2014-05-23 09:16:16 -0400] srenatus: mayur: you can use chefdk on your workstation; you can use hosted chef for first exploration of the chef world, no need to install a chefserver now (i suppose)
[2014-05-23 09:17:00 -0400] mayur: ok.... but my senior has told me to try out chef... !
[2014-05-23 09:17:09 -0400] mayur: so I am asking ...!
[2014-05-23 09:17:10 -0400] srenatus: mayur: sure, that's what you'd do ;)
[2014-05-23 09:17:54 -0400] srenatus: mayur: if you want to try out installing a chef-server, do so.  I'm just saying that trying out chef shouldn't necessarily start with setting up the chefserver -- totally depends on how _you_ are going to use chef
[2014-05-23 09:18:15 -0400] mayur: I am having 1 controller and 1 compute
[2014-05-23 09:18:17 -0400] zeroXten: is it possible to deep merge a hash into a node attributes from within an recipe? E.g. node[:x] = { :a => { :b => 1 } }... then merging with { :a => { :c => 2 } } to get node[:x] as { :a => { :b => 1, :c => 2 } }.. the hash I want to merge is stored in a variable
[2014-05-23 09:18:23 -0400] isbaran: hello all, is there a reason i can't use tagged? in an only_if statement or is it a namespace error with that resource
[2014-05-23 09:18:30 -0400] srenatus: mayur: if you want to develop cookbooks, don't start with the chef server.  if your job is to operate the chef infrastructure for your team, you might want to start with the server ;)
[2014-05-23 09:19:11 -0400] isbaran: i get the following currently: undefined method `tagged?' for Chef::Resource::Bash
[2014-05-23 09:19:34 -0400] mayur: I just need guidance which chef-component goes where in openstack; a novice question :)
[2014-05-23 09:20:05 -0400] srenatus: mayur: sure thing. the answer is none. your openstack installation doesn't need to know you're using chef at all
[2014-05-23 09:20:19 -0400] srenatus: mayur: there's no integration.  knife used the API only.
[2014-05-23 09:20:58 -0400] mattt: mayur: personally i'd play with chef outside of the context of openstack, because you're getting confused
[2014-05-23 09:21:11 -0400] mattt: mayur: and once you have a better understand of chef components, then integrate into your openstack env
[2014-05-23 09:21:19 -0400] mattt: *understanding
[2014-05-23 09:21:41 -0400] mayur: Yaa.... I know .........Newbie epic problem!! Understanding..........!
[2014-05-23 09:22:27 -0400] mayur: for Sure, I am going to use chef outside openstack for gettng detailed understanding but for now !!  Mn my installed openstack, to launch instance I have to use Knife on controller and compute?
[2014-05-23 09:22:44 -0400] mattt: you can use knife _anywhere_
[2014-05-23 09:22:51 -0400] mattt: it speaks to an API
[2014-05-23 09:24:00 -0400] mayur: Ya got it ! One more query why not I should use chef-solo instead of chef-client?
[2014-05-23 09:24:34 -0400] mattt: mayur: that's like asking why should you eat an orange instead of an apple :)
[2014-05-23 09:24:48 -0400] mayur: means both are same
[2014-05-23 09:24:53 -0400] mayur: ..........
[2014-05-23 09:25:10 -0400] mayur: plz correct if I'm wrong
[2014-05-23 09:25:13 -0400] isbaran: mayur: no
[2014-05-23 09:25:17 -0400] mattt: mayur: to be honest i don't use chef-solo, but it's my understanding that chef-solo works locally without connecting to a server
[2014-05-23 09:25:23 -0400] mattt: where-as chef-client expects to connect to a master server
[2014-05-23 09:25:48 -0400] isbaran: chef solo is without server, no search, no node state save .. etc.
[2014-05-23 09:26:14 -0400] isbaran: also harder to maintain imho
[2014-05-23 09:27:07 -0400] mayur: does knife with chef-client necessarily requires chef-server ??
[2014-05-23 09:27:23 -0400] isbaran: chef-client and knife are different things
[2014-05-23 09:27:25 -0400] isbaran: yes
[2014-05-23 09:27:42 -0400] ShayneC: Anyone been able successfully implement a custom Ohai plugin for AWS Cloudformation that loads the resource attributes into a node object when a stack is created?  For example, if I use CFN to create an ELB and an EC2 instance, I want to sent an attribute on the node object for the ARN of the ELB,  I'm using Hosted Chef.
[2014-05-23 09:30:32 -0400] ShayneC: been looking at these Ohai plugins:  https://github.com/zts/cookbook-ohai-aws/tree/master/files/default/ohai_plugins  but since I am an Ohai novice I am not really sure how to implement this, and I haven't been able to get my head around the Ohai docs
[2014-05-23 09:30:50 -0400] mayur: so I will use knife on two openstack machines to launch instances
[2014-05-23 09:31:01 -0400] mattt: mayur: why 2 ?
[2014-05-23 09:31:30 -0400] mayur: one is controller and other is compute
[2014-05-23 09:31:37 -0400] mattt: mayur: no
[2014-05-23 09:32:02 -0400] mattt: mayur: install knife somewhere out of the cluster
[2014-05-23 09:32:06 -0400] mattt: mayur: like your laptop
[2014-05-23 09:32:08 -0400] mayur: ok
[2014-05-23 09:32:11 -0400] mayur: then
[2014-05-23 09:32:16 -0400] mayur: ?
[2014-05-23 09:32:26 -0400] Praveen: Mayur:  http://docs.opscode.com/plugin_knife_openstack.html -->this is the knife plugin doc
[2014-05-23 09:32:26 -0400] mattt: mayur: then create a .chef/knife.rb with your openstack details
[2014-05-23 09:32:41 -0400] mayur: ok..then?
[2014-05-23 09:33:59 -0400] jank: exit
[2014-05-23 09:33:59 -0400] mayur: I will be able to launch instance from outside openstack, right ?
[2014-05-23 09:35:12 -0400] mayur: In simple words, instead of using Openstack CLI or Dashboard, if I want to launch instance inside of Openstack, what should I install?
[2014-05-23 09:36:48 -0400] mayur: mattt: Praveen: isbaran:  In simple words, instead of using Openstack CLI or Dashboard, if I want to launch instance inside of Openstack, what should I install?
[2014-05-23 09:37:25 -0400] mattt: mayur: i would say stick to dashboard/openstack cli unless yo have a reason to use something else
[2014-05-23 09:37:42 -0400] mattt: mayur: using knife to boot instances is pointless if you're not actually using chef cookbooks
[2014-05-23 09:38:22 -0400] mayur: is the any homework so that by doing it I can understand why I am doing rather than what ?
[2014-05-23 09:38:44 -0400] mayur: Chef seems to be complicated
[2014-05-23 09:39:06 -0400] mayur: so please show me a path...
[2014-05-23 09:39:41 -0400] mattt: mayur: http://learnchef.com/
[2014-05-23 09:41:00 -0400] mayur: Thanks mattt: Praveen: strenatus: isbaran:
[2014-05-23 09:41:29 -0400] mattt: mayur: sorry for not being more helpful, but chef is a little complicated and it helps if you have a  specific use case you're trying to solve with it
[2014-05-23 09:41:50 -0400] mattt: mayur: unfortunately i'm not really understanding your use case
[2014-05-23 09:42:33 -0400] mayur: simply I want to lauch instance. Ok . Instead of openstack tools, I want to use chef; that's all.
[2014-05-23 09:42:43 -0400] mattt: mayur: that's not a good use case to be honest
[2014-05-23 09:42:54 -0400] mattt: mayur: that is now what chef is for
[2014-05-23 09:43:08 -0400] mattt: *not what chef is for
[2014-05-23 09:43:35 -0400] mattt: mayur: one of the reasons for that statement:  the knife openstack plugin does not support all the functionality that exists in nova client or openstack cli
[2014-05-23 09:43:43 -0400] mattt: which is why you would be better off using those other clients instead
[2014-05-23 09:44:44 -0400] mayur: then a/c ur recommend, for what other tasks in Openstack, should I use chef?
[2014-05-23 09:46:08 -0400] mayur: hope this question is right...!
[2014-05-23 09:49:31 -0400] mattt: mayur: you can build a whole openstack cluster using chef
[2014-05-23 09:49:47 -0400] mattt: mayur: you can do provisioning of openstack instances using chef
[2014-05-23 09:54:04 -0400] zeroXten: so node.blah.deep_merge!() doesn't work :(
[2014-05-23 09:56:45 -0400] Junaid: <@coderanger>I have a condition that Im writing , using the node[cpu][total] is not working for me.
[2014-05-23 10:17:44 -0400] mayur: thnx mattt
[2014-05-23 11:29:27 -0400] Raboo: hi
[2014-05-23 11:29:53 -0400] Raboo: if I want to wrapp a cookbook. Is there a way to unwind a depend or include_recipe?
[2014-05-23 11:30:05 -0400] Raboo: or rewind it...
[2014-05-23 11:31:34 -0400] isbaran: Raboo: library is called rewind actually
[2014-05-23 11:31:49 -0400] isbaran: just search chef rewind
[2014-05-23 11:33:23 -0400] Raboo: isbaran yes i know about it
[2014-05-23 11:33:39 -0400] Raboo: but it doesn't say if it can remove a "depends" from metadata.rb
[2014-05-23 11:33:51 -0400] Raboo: how would i do it?
[2014-05-23 11:34:51 -0400] isbaran: hmm if you're wrapping a cookbook you wouldn't remove a dep i guess
[2014-05-23 11:35:03 -0400] Raboo: ok
[2014-05-23 11:35:13 -0400] isbaran: you need a simpler version or just to use some functions of the cookbook
[2014-05-23 11:35:17 -0400] Raboo: cause we have a nginx recipe that is built in house
[2014-05-23 11:35:34 -0400] Raboo: and this recipe that i want to wrap depends on opscode nginx cookbook
[2014-05-23 11:35:48 -0400] isbaran: you have a name clash ?
[2014-05-23 11:35:52 -0400] Raboo: yes
[2014-05-23 11:36:06 -0400] Raboo: we already have a nginx cookbook
[2014-05-23 11:36:08 -0400] isbaran: i use a prefix for our wrapped/expanded cookbooks
[2014-05-23 11:36:18 -0400] Raboo: and this new cookbook depends on opscodes nginx
[2014-05-23 11:36:29 -0400] isbaran: i think its better if you rename it
[2014-05-23 11:36:44 -0400] Raboo: yes we've started with that since i started working here
[2014-05-23 11:36:50 -0400] Raboo: but this cookbook is older..
[2014-05-23 11:37:01 -0400] Raboo: prefixing cookbooks
[2014-05-23 11:37:11 -0400] isbaran: just rename it to company-nginx
[2014-05-23 11:37:19 -0400] isbaran: shouldn't be very complicated
[2014-05-23 11:37:22 -0400] Raboo: i can't just rename it
[2014-05-23 11:37:31 -0400] Raboo: i need to find every where it's called on
[2014-05-23 11:37:45 -0400] Raboo: all roles and cookbooks
[2014-05-23 11:37:51 -0400] isbaran: yes :)
[2014-05-23 11:37:53 -0400] Raboo: all runlists on nodes
[2014-05-23 11:38:13 -0400] Raboo: it's a very spider webby setup
[2014-05-23 11:38:28 -0400] Raboo: some nodes have roles, some nodes have recipes, some nodes have recipes and roles.
[2014-05-23 11:39:10 -0400] isbaran: you'll either have to copy/duplicate the code or rename i guess
[2014-05-23 11:39:17 -0400] isbaran: i cant think of a easy fix
[2014-05-23 11:46:29 -0400] Raboo: isbaran i'll just fork the cookbook and hack it to my needs and do the whole nginx rename thing later when i got more time
[2014-05-23 11:47:14 -0400] isbaran: Raboo: good luck, it gets worse over time, i once didn't rename my cookbook and regretted :)
[2014-05-23 11:55:45 -0400] Raboo: isbaran i want to move over to have role cookbooks instead of traditional roles..
[2014-05-23 11:56:29 -0400] isbaran: i do a mix of that and traditional roles, working good so far
[2014-05-23 12:10:10 -0400] nougad: Hi, is there a way to disable specific ohai plugins during a chef solo run?
[2014-05-23 12:13:43 -0400] mmzyk: nougad Should be. This might help: http://docs.opscode.com/ohai.html#ohai-settings-in-client-rb
[2014-05-23 12:16:33 -0400] Hanmac1: hey i was wondering, about chef-server as gem, is it outdated and not wanted anymore or is there a another reason why it has older version than the deb files?
[2014-05-23 12:19:55 -0400] stormerider: hanmac: you want omnibus for a server install
[2014-05-23 12:21:10 -0400] Junaid: @coderanger, I have solved my problem. Thank you
[2014-05-23 12:21:18 -0400] Hanmac: hm ok i tryed to installed the gem versions, but got problems with it (like some parts where outdated)
[2014-05-23 12:21:29 -0400] Junaid: the info with ohai really helped
[2014-05-23 12:24:18 -0400] Hanmac: stormerider: hm ok it does provide me the two deb files, hm i would prefer if they would be come as gems (spcially when some parts of the bundled gem are outdated too)
[2014-05-23 12:26:12 -0400] stormerider: they had a lot of problems with people using the gem installs with 1.8 and such, might be why the server is no longer updated as a gem
[2014-05-23 12:27:31 -0400] mmzyk: Hanmac We dont update or maintain the gem version any more.
[2014-05-23 12:29:16 -0400] mmzyk: The problem with the gem version was that it was difficult to control dependencies - installs often ended up with various different versions of pieces of the software and it made for a nightmare to get working, even with bundler.
[2014-05-23 12:29:23 -0400] nougad: mmzyk: I tried setting `Ohai::Config[:disabled_plugins] = ['passwd']` in config.rb and using this file with `chef-solo -c config.rb` but ohai still uses passwd plugin
[2014-05-23 12:29:50 -0400] mmzyk: Its the reason omnibus came about, so that all the pieces needed by the chef server could be self contained and managed.
[2014-05-23 12:30:03 -0400] Hanmac: yeah but ruby1.8 is long dead , and even the ruby version shipped with chef itself (1.9.*) is not recent anymore (and might die shortly) ... some distries like debian might not ship such old ruby versions anymore (debian recently kicked <2.0 out of there distries)
[2014-05-23 12:31:57 -0400] mmzyk: Hanmac sure, but omnibus allows us to have tight control over all the omnibus dependencies, which is the main benefit. It gives us a central place to manage everything, from the ruby dependencies and beyond. There is also the issue that the server isnt really ruby any more. Its almost entirely erlang.
[2014-05-23 12:33:08 -0400] mmzyk: Before chef 10 the server was ruby, but that all changed with chef 11. The ruby that ships with the server is mostly used for the embedded chef client and knife tooling that is used to manage the server. Ruby isnt actually used by a running server.
[2014-05-23 12:34:47 -0400] stormerider: short version, always use omnibus :) and roll your own omnibus builds if there's something you don't like.
[2014-05-23 12:36:24 -0400] mmzyk: nougad Im no ohai expert, but it looks like you can set an attribute to disable ohai plugins: http://www.snip2code.com/Snippet/7862/Recipe-for-disabling-several-ohai-plugin I could be wrong on these points though. I dont know why chef solo didnt respect the config; there might be somethign chef solo specific at play here.
[2014-05-23 12:38:04 -0400] nougad: mmzyk: no, that can't be correct. ohai gets loaded before the cookbooks are compiled by chef solo
[2014-05-23 12:39:25 -0400] mmzyk: good point.
[2014-05-23 12:40:31 -0400] mmzyk: nougad Which version of Ohai are you running? The syntax to disable plugins changed slightly between 6 and 7
[2014-05-23 12:41:37 -0400] nougad: ohai 7.0.4 - chef 11.12.4
[2014-05-23 12:42:10 -0400] mmzyk: So it looks like you need to use a symbol to refer to the plug i then. try :passwd, instead of passwd
[2014-05-23 12:45:36 -0400] nougad: mmzyk: nope, symbol does not work as well
[2014-05-23 12:48:49 -0400] mmzyk: hmm. Im not sure then nougad.
[2014-05-23 12:49:12 -0400] nougad: mmzyk: ok, thanks anyway
[2014-05-23 12:51:35 -0400] mmzyk: nougad Ask again a bit later in the day. More of the chef west coast people will be on then and the main ohai team is based out of the west coast.
[2014-05-23 12:53:21 -0400] nougad: mmzyk: ah, good hint, thx I will try this
[2014-05-23 12:55:00 -0400] mmzyk: nougad The other option is to send your question to the mailing list.
[2014-05-23 12:58:58 -0400] nougad: mmzyk: I try it later again. If I get no response I will try the ML
[2014-05-23 13:18:48 -0400] corp: hey chefs
[2014-05-23 13:20:17 -0400] corp: anyone using the machine resource yet?
[2014-05-23 13:20:47 -0400] corp: i'm curious if it's useful when not using a cloud provider, just running chef-solo on some bare metal machines
[2014-05-23 13:20:56 -0400] corp: in that case, would its behavior be identical to roles?
[2014-05-23 13:21:50 -0400] Hanmac: stormerider: hm ok i installed chef and chef-server as dpkg (and removed all old gems) ... but how can i get the local webui running? "chef-server-ctl status" says everything is running, but how can i access it?
[2014-05-23 13:22:40 -0400] stormerider: Hanmac: in 11 it defaults to 443
[2014-05-23 13:22:51 -0400] corp: i see chef-metal-ssh may work
[2014-05-23 13:22:55 -0400] tier: i just heard of chef-metal yesterday so i haven't messed with the machine resource yet but it sounds pretty cool
[2014-05-23 13:23:32 -0400] Hanmac: hm it says unknown host ... hm
[2014-05-23 13:24:56 -0400] stormerider: Hanmac: i mean port 443
[2014-05-23 13:25:12 -0400] stormerider: so https://yourservername
[2014-05-23 13:34:03 -0400] Hanmac: stormerider: i tryed "localhost:443"
[2014-05-23 13:34:30 -0400] Hanmac: oh i forgot to say that i mean the webui
[2014-05-23 13:35:31 -0400] stormerider: Hanmac: well if you just say localhost:443 that usually will have your browser trying the http protocol
[2014-05-23 13:40:31 -0400] eherot: Does anyone know if there is an official Chef policy for getting someone else's cookbook booted off of the community repo (or at least renamed) in favor of one's own?
[2014-05-23 13:47:50 -0400] zunkree: Hi
[2014-05-23 13:48:34 -0400] zunkree: chef-client 10.26.0 not download files dir from server
[2014-05-23 13:49:19 -0400] zunkree: how I can fix this trouble?
[2014-05-23 13:49:48 -0400] eherot: zunkree: can you gist-paste the whole output from that section of the output?
[2014-05-23 13:56:54 -0400] goncalop: does remote_file have basic auth? trying to find an example
[2014-05-23 13:58:51 -0400] srenatus: goncalop: I suppose it doesn't: https://github.com/opscode/chef/blob/master/lib/chef/provider/remote_file/http.rb
[2014-05-23 14:05:41 -0400] stormerider: eherot: i dont think there is in the current community site, but i believe it's something they've addressed with the revamp that will be rolling out soon
[2014-05-23 14:05:55 -0400] eherot: oh thank god.
[2014-05-23 14:06:09 -0400] eherot: The owner of the storm cookbook like, hasn't logged in to git in 6 months.
[2014-05-23 14:07:56 -0400] stormerider: emphasis on "i believe", i may be wrong. i know about this from seeing things like placeholder cookbooks clogging up key names and such
[2014-05-23 14:09:09 -0400] eherot: kinda reminds me of ICANN
[2014-05-23 14:10:05 -0400] goncalop: thanks srenatus I'm doing it through Headers now
[2014-05-23 14:14:37 -0400] zunkree: eherot: http://pastebin.com/UQFerwq2
[2014-05-23 14:15:47 -0400] eherot: zunkree: I don't see any errors in this gist...
[2014-05-23 14:16:14 -0400] zunkree: eherot: client download only this files: http://pastebin.com/UQFerwq2, but cookbook also have files dir: http://pastebin.com/7bs9NGG9
[2014-05-23 14:16:48 -0400] zunkree: eherot: yes, output not have any errors
[2014-05-23 14:16:57 -0400] eherot: the list you're seeing here only reflects things that have changed since the last convergence.
[2014-05-23 14:17:54 -0400] zunkree: before start chef client I delete cached cookbook from client
[2014-05-23 14:19:09 -0400] eherot: have you verified (by doing knife cookbook download [VERSION]) that the files you're wondering about are actually stored on the chef server?
[2014-05-23 14:20:13 -0400] eherot: also, empty directories and unused files are not uploaded.
[2014-05-23 14:23:48 -0400] thematthewgreen: anyone been seeing issues with the berkshelf api the past two days?
[2014-05-23 14:25:57 -0400] zunkree: eherot: cookbook version is correct
[2014-05-23 14:26:25 -0400] zunkree: eherot: I receive this error while run client http://pastebin.com/J9aaYmrz
[2014-05-23 14:27:26 -0400] srenatus: zunkree: remote_directory is a loop over several cookbook_file[..] resources, i.e. the files have to be in your cookbook. they seem to be absent
[2014-05-23 14:27:55 -0400] eherot: zunkree: Can you pastebin the results of an ls -lR on your cookbook?
[2014-05-23 14:28:29 -0400] eherot: also this shouldn't matter but you should probably remove the beginning slash on line 69.
[2014-05-23 14:32:52 -0400] zunkree: eherot: > should probably remove the beginning slash on line 69.
[2014-05-23 14:32:53 -0400] zunkree: this help, thank you
[2014-05-23 14:34:37 -0400] eherot: heh, good to know
[2014-05-23 14:53:37 -0400] gyre007_: I'm trying to use guard_interpreter like this https://gist.github.com/milosgajdos83/335921dfbb2f8458d011 but chef-client run bombs out
[2014-05-23 14:53:42 -0400] gyre007_: anyone idea why ?
[2014-05-23 14:54:53 -0400] gyre007_: im running this on windows obviously
[2014-05-23 14:55:11 -0400] mmzyk: Hanmac You ever get your webui connection issues sorted out?
[2014-05-23 14:55:50 -0400] Hanmac: mmzyk: not yet, but i didnt worked on that yet ... maybe i forget something todo ...
[2014-05-23 14:56:27 -0400] mmzyk: Hanmac What are you running? the open source server 11.1? And where are you running it? ec2, locally, somewhere else?
[2014-05-23 14:56:53 -0400] Hanmac: opensource11 locally on my ubuntu pc installed
[2014-05-23 14:58:15 -0400] mmzyk: So its possible the webui wont resolve due to a rails issue depending on what your hostname is that youre accessing.  See here for notes and the setting you can set to avoid it: https://tickets.opscode.com/browse/CHEF-5301
[2014-05-23 14:58:40 -0400] gyre007_: is guard_interpreter even working as per docs ? http://docs.opscode.com/resource_common.html#guard-interpreters looks like Chef does not recignize it at all
[2014-05-23 15:01:03 -0400] Hanmac: mmzyk: curentlly i didbt set a hostname somewhere ...
[2014-05-23 15:01:47 -0400] Hanmac: i simply tried localhost
[2014-05-23 15:05:13 -0400] helfire: Can i tell berkshelf 3 to use a knife.rb not in a default location? i have multiple orgs on my jenkins server
[2014-05-23 15:05:31 -0400] helfire: couldnt find it in the docs (or i missed it) -c is a berks config file, not a knife.rb
[2014-05-23 15:19:47 -0400] helfire: ENV['KNIFE_HOME'] was the answer
[2014-05-23 15:42:12 -0400] gyre007_: anyone here can give me a hand with Windows and Chef ?
[2014-05-23 15:43:07 -0400] gyre007_: I've asked already but just in case, what on earth am I missing in the following resource that Chef is failing to converge ? https://gist.github.com/milosgajdos83/335921dfbb2f8458d011
[2014-05-23 15:44:40 -0400] gyre007_: Oh another facepalm today ...looks like PowerShell doesn't have guard_interpreter implemented ?? http://www.rubydoc.info/github/opscode/chef/master/Chef/Resource/PowershellScript
[2014-05-23 15:46:07 -0400] gyre007_: The docs are saying it should be available for all resources ? http://docs.opscode.com/resource_common.html#guard-interpreters
[2014-05-23 15:46:42 -0400] mmzyk: gyre007 No clue on the guar_interpreter thing, but I know who to ask. Ill send them your way.
[2014-05-23 15:47:06 -0400] Toger: I am trying to wrap the graphite cookbook to suppress a package installation. I have my recipe include_recipe 'graphite', then try to references resources('package[python-simplejson]') but I get an error that the resource does not exist.   In the graphite cookbook it is referenced as package 'python-simplejson'.  Any suggestions on what I am doing wrong, or how to see the full list of defined resources?
[2014-05-23 15:48:04 -0400] mmzyk: gyre007 looks like if guard_interpreter isnt implemented in powershell, that wouldj answer the question for why your resource is failing to converge, right?
[2014-05-23 15:48:26 -0400] adamedx: it's definitely implemented :)
[2014-05-23 15:48:38 -0400] adamedx: can we see the code and error?
[2014-05-23 15:48:38 -0400] gyre007_: yeah looks like it's not...I can see that in rubydoc mmzyk
[2014-05-23 15:49:01 -0400] adamedx: you're fine as long as you're running 11.12.0 or higher
[2014-05-23 15:49:02 -0400] gyre007_: the docs should be updated then ? http://docs.opscode.com/resource_common.html#guard-interpreters
[2014-05-23 15:49:05 -0400] mmzyk: gyree007 adamedx is the man to ask - hes the chef windows expert.
[2014-05-23 15:49:18 -0400] gyre007_: adamedx: https://gist.github.com/milosgajdos83/335921dfbb2f8458d011
[2014-05-23 15:49:24 -0400] adamedx: k
[2014-05-23 15:50:41 -0400] adamedx: gyree007 you have 11.12.x, right?
[2014-05-23 15:50:51 -0400] gyre007_: nope
[2014-05-23 15:51:04 -0400] gyre007_: 11.6 I THINK
[2014-05-23 15:51:09 -0400] gyre007_: Id have to check
[2014-05-23 15:51:26 -0400] gyre007_: mm
[2014-05-23 15:51:31 -0400] gyre007_: need to upgrade then I guess
[2014-05-23 15:52:12 -0400] Toger: Ah got it, the interior quotes were the issue.
[2014-05-23 15:52:44 -0400] adamedx: yes, sorry that wasn't clear gyre007
[2014-05-23 15:53:00 -0400] adamedx: I tried your code and it worked, so I think you'll be fine on 11.12.x
[2014-05-23 15:53:15 -0400] adamedx: let me figure out how we get the docs to make that clear
[2014-05-23 15:54:25 -0400] bixu: So omnibus is complaining during build of ruby211 about libssp being unsafe...
[2014-05-23 15:54:36 -0400] bixu: Anyone here with omnibus-fu?
[2014-05-23 15:54:39 -0400] gyre007_: cool
[2014-05-23 15:59:32 -0400] mmzyk: bixu Id try kallistec for that quesiton.
[2014-05-23 16:00:19 -0400] bixu: mmzyk: Doesn't appear to be online.
[2014-05-23 16:00:29 -0400] bixu: Oh - never mind.
[2014-05-23 16:01:21 -0400] gyre007_: adamedx: are you like a win/chef guy ?
[2014-05-23 16:02:14 -0400] mmzyk: grye007 He is, given he works for Chef and is the main driver behind a lot of the windows support.
[2014-05-23 16:02:16 -0400] mmzyk: :)
[2014-05-23 16:15:55 -0400] shlant: coderanger: I'm running into http://pastebin.com/BKmqLhDz
[2014-05-23 16:16:02 -0400] whiteadam: sounds like a terrible person
[2014-05-23 16:17:01 -0400] shlant: coderanger: relavent code:
[2014-05-23 16:17:05 -0400] shlant: file "#{Chef::Config[:file_cache_path]}/git_key" do
[2014-05-23 16:17:05 -0400] shlant:   content citadel('foo-keys')['git']
[2014-05-23 16:17:06 -0400] shlant:   user "nodejs"
[2014-05-23 16:17:06 -0400] shlant:   group "nodejs"
[2014-05-23 16:17:07 -0400] shlant: end
[2014-05-23 16:24:00 -0400] evvel2: window server
[2014-05-23 16:25:32 -0400] kallistec: bixu: if the health check fails, then you probably need to adjust the configure script somehow
[2014-05-23 16:25:59 -0400] kallistec: what you do specifically depends on the situation
[2014-05-23 16:26:15 -0400] kallistec: sometimes you need to disable some optional thing
[2014-05-23 16:26:35 -0400] bixu: kallistec: The configure options that are specified in, say, ruby.rb?
[2014-05-23 16:26:48 -0400] kallistec: sometimes you need to build some other library as a dependency
[2014-05-23 16:26:52 -0400] kallistec: really depends
[2014-05-23 16:27:22 -0400] kallistec: bixu: yeah, you should start by running ./configure --help
[2014-05-23 16:27:37 -0400] bixu: This is the stuff in /var/cache/omnibus/src ?
[2014-05-23 16:28:37 -0400] kallistec: yeah
[2014-05-23 16:28:44 -0400] bretep: Is there a way I can hook into updates in the chef server? I want to know when data bags are updated, for example
[2014-05-23 16:28:57 -0400] kallistec: wherever omnibus unpacks it to, I forget which dir is which
[2014-05-23 16:29:14 -0400] bixu: kallistec: Thanks.
[2014-05-23 16:29:48 -0400] bixu: So, essentially, I need to change the ruby definition file for building software X that ships in omnibus-software?
[2014-05-23 16:30:02 -0400] bixu: (once I figure out how my configure options need to change)
[2014-05-23 16:30:11 -0400] kallistec: yeah, basically
[2014-05-23 16:30:36 -0400] kallistec: the other way to go is to remove whatever thing on your system ruby is linking to
[2014-05-23 16:31:01 -0400] bixu: I don't follow...
[2014-05-23 16:32:03 -0400] kallistec: bixu: the configure script compiles (or attempts to) a bunch of small C programs to determine what libraries you have on your system
[2014-05-23 16:32:36 -0400] bixu: oh - you mean it's looking at system ruby to figure out where libs are?
[2014-05-23 16:32:39 -0400] kallistec: if you don't have a particular library, then the feature that depends on this library is usually disabled
[2014-05-23 16:33:01 -0400] kallistec: bixu: not even ruby. Stuff like openssl, compression libraries, etc. etc.
[2014-05-23 16:38:23 -0400] bixu: So I should be telling omnibus to look elsewhere for libs?  Or try to disable certain features?
[2014-05-23 16:46:16 -0400] kallistec: bixu: this has very little to do with omnibus. you have libraries installed in your default system locations (e.g., /usr, /usr/local, etc.
[2014-05-23 16:46:42 -0400] kallistec: the configure script is written to find them if they exist, and then enable optional features
[2014-05-23 16:47:15 -0400] kallistec: so then when you build ruby, it links to libraries outside of the embedded dir tree
[2014-05-23 16:47:16 -0400] bixu_: And Omnibus is warning that these optional features cause us to link against things outside of the omnibus bundle?
[2014-05-23 16:47:19 -0400] bixu_: I see.
[2014-05-23 16:47:25 -0400] bixu_: Okay - that's what I was digging for.
[2014-05-23 16:47:50 -0400] bixu_: Just trying to wrap my head around what Omnibus is expecting - and yes, I get the part about disabling additional features.
[2014-05-23 16:48:49 -0400] kallistec: bixu_: the health check part is just this: https://github.com/opscode/omnibus-ruby/blob/master/lib/omnibus/health_check.rb#L351
[2014-05-23 16:48:54 -0400] kallistec: and some regexes
[2014-05-23 16:49:18 -0400] bixu_: Makes sense.
[2014-05-23 16:49:58 -0400] bixu_: I've been adding stuff to the health check whitelist to see if the build will finish, but of course I want to minimize deps outside of the omnibus bundle dir.
[2014-05-23 17:09:48 -0400] Majost: Is there any chance the postgres cookbook maintainer could be changed?
[2014-05-23 17:10:00 -0400] Majost: It seems to have stagnated ever since it was handed off
[2014-05-23 17:10:28 -0400] bixu: Majost: Also check out the http://github.com/wanelo-chef/postgres
[2014-05-23 17:10:32 -0400] Majost: 38 open issues and 17 pull requests.
[2014-05-23 17:10:58 -0400] eherot: heh, I'm having this fight with the "maintainer" of the storm cookbook right now.
[2014-05-23 17:11:41 -0400] Majost: I would love to see Chef retake cookbooks they handed off which haven't been well maintained.
[2014-05-23 17:12:04 -0400] Dairenn: Yeah me too.
[2014-05-23 17:12:11 -0400] eherot: the community site is starting to feel a bit like the job ICANN does at domain name squattign.
[2014-05-23 17:12:22 -0400] Majost: hah
[2014-05-23 17:12:52 -0400] Dairenn: The good news is, the majority of the time, it's usually must faster and cleaner to write my own than to try and force-fit a community cookbook into our library.
[2014-05-23 17:12:59 -0400] eherot: before you know it we'll have cookbooks with names like the_postgres_cookbook
[2014-05-23 17:13:02 -0400] Majost: yes and no
[2014-05-23 17:13:19 -0400] Dairenn: It's only when there's a huge amount of foundational work I resort to a community cookbook, like the RDBMS ones.
[2014-05-23 17:13:23 -0400] eherot: Dairenn: it fragments the community
[2014-05-23 17:13:30 -0400] Majost: Dairenn, the issue is when other cookbooks depend on what previously was an opscode cookbook
[2014-05-23 17:13:33 -0400] Majost: eg: database
[2014-05-23 17:13:37 -0400] bixu: Majost: I think you'll find the Wanelo chef maintainers are quite responsive.
[2014-05-23 17:14:04 -0400] Dairenn: I know, ultimately, it's still an issue.  Nobody is going to maintain 100 of their own custom cookbooks...
[2014-05-23 17:14:09 -0400] bixu: I used to work there and I can say honestly that the postgres cookbook we wrote went through a lot of production testing ;)
[2014-05-23 17:14:42 -0400] Majost: heh
[2014-05-23 17:14:50 -0400] Dairenn: bixu: If I was still on the old team I was on, I would have liked to have seen them.  We used up a lot of time trying to get Chef to control Postgres.
[2014-05-23 17:15:20 -0400] Majost: bixu: this kind: https://imgur.com/y7Hm9
[2014-05-23 17:15:23 -0400] bixu: We ended up being pretty dogmatic about the "UNIX Model"
[2014-05-23 17:15:25 -0400] eherot: What sucks is maintaining a fork
[2014-05-23 17:15:29 -0400] Majost: ;)
[2014-05-23 17:15:34 -0400] Dairenn: yep
[2014-05-23 17:15:35 -0400] bixu: That is, cookbooks that did one thing, and one thing well.
[2014-05-23 17:16:22 -0400] gkra: Is there an easy way to get ohai to find custom ruby installs, or am I looking at writing ohai plugins?
[2014-05-23 17:16:25 -0400] bixu: That's a good one.
[2014-05-23 17:16:54 -0400] Majost: I would love to see juliancdunn's thoughts on this as he addressed some of my concerns about the handoff of cookbooks when it was happening
[2014-05-23 17:17:27 -0400] Majost: Now that time has passed, it seems like a retrospective is in order.
[2014-05-23 17:17:57 -0400] jreslock: Anyone have an example of setting node[virtualization][role] in fauxhai so my chefspec can pass?
[2014-05-23 17:18:56 -0400] Majost: jreslock: I think you can set it like the platform values in the runner options
[2014-05-23 17:21:16 -0400] Majost: jreslock: also might be able to use this: https://github.com/sethvargo/chefspec#automatic-attributes
[2014-05-23 17:21:31 -0400] Majost: Ohai is basically automatic attributes anyway
[2014-05-23 17:23:22 -0400] philmdev: hi all - i'm totally new to chef (& ruby in general) and am trying to set up an environment using vagrant & chef-solo on a windows host. I'm having a pretty hard time getting everything set up and I seem to be in an unfortunately dependency hell after referencing a couple of cookbooks (why would a debian VM have a depency on IIS and yum?!). From what I undestand, berkshelf should make my life easier - but i'm having hard tim
[2014-05-23 17:23:22 -0400] philmdev: e geting a working ruby/rubygems environment set up in cygwin and/or MS's cmd. Does anyone know of any online resources that outline how to go from zero to a fully-functional vagrant/ruby/chef-solo environment on a windows host?
[2014-05-23 17:24:08 -0400] Majost: philmdev: I strongly recommend looking into chef-dk
[2014-05-23 17:24:22 -0400] davidordave: @philmdev Mischa has a great resource here: http://misheska.com/blog/2013/12/26/set-up-a-sane-ruby-cookbook-authoring-environment-for-chef/
[2014-05-23 17:25:05 -0400] Majost: philmdev: Also this, http://www.getchef.com/downloads/chef-dk
[2014-05-23 17:25:30 -0400] davidordave: +1 to chefdk, but I don't know if they have released the windows package yet.
[2014-05-23 17:25:35 -0400] philmdev: davidordave, thanks - that looks like what I was aiming for
[2014-05-23 17:25:51 -0400] philmdev: Majost, Thanks - I stumbled across that, but there doesnt appear to be a windows version yet
[2014-05-23 17:25:52 -0400] Majost: Chef DK would install Vagrant, but it takes a lot of the headache out of the initial setup around the rest
[2014-05-23 17:26:00 -0400] Majost: oh
[2014-05-23 17:26:02 -0400] Majost: boo
[2014-05-23 17:26:03 -0400] Majost: sorry
[2014-05-23 17:26:07 -0400] philmdev: hehe no worries
[2014-05-23 17:26:16 -0400] Majost: I never clicked on the windows icon to see what it did
[2014-05-23 17:26:16 -0400] Majost: hah
[2014-05-23 17:26:27 -0400] Majost: thats deceptive
[2014-05-23 17:39:06 -0400] jreslock: @Majost - node.automatic did what I needed.  Thanks again!
[2014-05-23 17:40:53 -0400] xerox357: hey guys, quick question, i'm running chef shell in client mode
[2014-05-23 17:40:56 -0400] xerox357: how would i inspect the node?
[2014-05-23 17:41:06 -0400] xerox357: say i wanted a lit of all the node parameters
[2014-05-23 17:41:30 -0400] xerox357: i can do node[:hostname] to get the host name, but i don't know what else i have access to
[2014-05-23 17:41:43 -0400] Majost: jreslock: no problem. =)
[2014-05-23 17:41:58 -0400] jreslock: @xerox357 you could use ohai to get what you need
[2014-05-23 17:42:13 -0400] xerox357: hmm, jreslock, how would i do that?
[2014-05-23 17:45:42 -0400] Majost: xerox357: if the node has already converged against a chef server, you can also do 'knife node show mynode --long'
[2014-05-23 17:46:05 -0400] Majost: that will show you all the saved attributes
[2014-05-23 17:47:30 -0400] jreslock: In hindsight I guess I could have also set my node attributes in .kitchen.yml hah
[2014-05-23 17:48:33 -0400] xerox357: Majost: that's exactly what i needed
[2014-05-23 17:48:40 -0400] xerox357: thank you :)
[2014-05-23 17:49:14 -0400] Majost: np
[2014-05-23 18:06:58 -0400] thefun00: hello, anyone know how to put nothing in a template file if the variable is blank? currently it puts a blank line. I've tried disabling the new line, and using the .blank? method with no luck.
[2014-05-23 18:07:18 -0400] thefun00: 'template file' being the resulting file on a node
[2014-05-23 18:10:32 -0400] mmzyk: thefun00 Templates are Ruby erb files, fyi. This will likely help you: https://stackoverflow.com/questions/998979/difference-between-and-in-rails
[2014-05-23 18:11:36 -0400] thefun00: the thing is -%> still outputs the blank line
[2014-05-23 18:12:05 -0400] thefun00: should I assign the variable differently? it's :variable => nil, but I still get the blank line
[2014-05-23 18:12:48 -0400] thefun00: some hosts require there to be four extra configuration variables present but most don't, the ones that don't have four blank lines at the end of the config file
[2014-05-23 18:14:24 -0400] iamchrisf: hey all how do I turn on debug logging for chef-server?
[2014-05-23 18:14:31 -0400] segv: -l debug when you run chef-client
[2014-05-23 18:14:44 -0400] segv: or log_level :debug in the config
[2014-05-23 18:15:01 -0400] iamchrisf: segv: no the chef-client gives no useful information for Chef::Exceptions::RecipeNotFound
[2014-05-23 18:15:14 -0400] iamchrisf: segv: I need to see debug output on the chef-server side.
[2014-05-23 18:15:46 -0400] segv: you should be able to see that on client-side debug
[2014-05-23 18:16:02 -0400] segv: it will attempt to load a recipe and generally the last one it tried to load will be the missing one.
[2014-05-23 18:16:20 -0400] iamchrisf: specifically could not find recipe nginx::http_ssl_module for cookbook nginx   But that recipe exists 
[2014-05-23 18:16:23 -0400] iamchrisf: root@i-c51b1feb:/var/cache/chef/cookbooks# ls -l /var/cache/chef/cookbooks/nginx/recipes/http_ssl_module.rb
[2014-05-23 18:16:24 -0400] iamchrisf: -rw------- 1 root root 797 May 23 17:57 /var/cache/chef/cookbooks/nginx/recipes/http_ssl_module.rb
[2014-05-23 18:16:57 -0400] iamchrisf: segv so ohai::default is looking for that recipe?  seems odd.
[2014-05-23 18:17:20 -0400] bricker: In the directory resource, is 'recursive true' the same as 'rm -rf'?
[2014-05-23 18:18:47 -0400] gkra: Is there a good way to determine what the gem paths are for a given ruby install from within a Chef recipe?
[2014-05-23 18:21:16 -0400] mmzyk: gkra How many gem paths are we talking? Chef has resources to deal with the embedded ruby used by chef and then one to deal with the system ruby, but if youre talking about multiple rubys on the system, then likely no, else someone else has written something.
[2014-05-23 18:21:28 -0400] gkra: okay...
[2014-05-23 18:21:29 -0400] mmzyk: gkra Probably something you have to in a ruby block or on your own.
[2014-05-23 18:23:51 -0400] segv: hmmm
[2014-05-23 18:24:03 -0400] segv: i need to find a good method for adding/removing hosts upon creation with ldap
[2014-05-23 18:24:09 -0400] segv: dns for hosts**
[2014-05-23 18:26:25 -0400] mmzyk: iamchrisf You can look in the erchef logs on the server and see what if anything, its reporting back about depsolving for your cookbook issue. But its likely one of several things: You referenced the recipe incorrectly, you forgot to upload it, you forgot to include it in the metadata of the recipe that needs it, or you have an old version and need a newer one on the server.
[2014-05-23 18:27:30 -0400] mmzyk: chef-server-ctl tail erchef will tail just the erchef logs, fyi. Or replace with private-chef-ctl if youre using enterprise chef.
[2014-05-23 18:27:54 -0400] iamchrisf: mmzyk: thanks..  Ill run through those.  Would be nice to have a comprehenisve explanation of what cookbook/recipe is looking for that recipe rather than having to go through stack traces.
[2014-05-23 18:30:14 -0400] mmzyk: Yeah, I hear you. Im not sure where that message comes from within the system, so I dont know how easy that info is to provide. Consider opening that as a ticket so we have a reference that we should think about providing that.
[2014-05-23 18:32:17 -0400] iamchrisf: mmzyk: yes this is just really frustrating as I see the recipe in the cache which makes me wonder how its missing it.
[2014-05-23 18:33:23 -0400] gkra: mmzyk: yay, figured it out, i think...
[2014-05-23 18:35:28 -0400] gkra: gem_path = `#{ruby_bin} -e "Gem.path.each {|g| puts g if g.start_with?('#{ruby_prefix}')}"`.chomp
[2014-05-23 18:35:40 -0400] gkra: it feels horridly ugly...
[2014-05-23 18:37:04 -0400] gkra: but it works:
[2014-05-23 18:37:07 -0400] gkra: chef > gem_path = `#{ruby_bin} -e "Gem.path.each {|g| puts g if g.start_with?('#{ruby_prefix}')}"`.chomp
[2014-05-23 18:37:10 -0400] gkra:  => "/usr/local/ruby/2.1.2/lib/ruby/gems/2.1.0"
[2014-05-23 18:39:10 -0400] thematthewgreen: anyone else experiencing api issues with berkshelf?  saw some tweets about it yesterday
[2014-05-23 18:42:58 -0400] rshade98: If I have a vagrant-berkshelf question, is there a channel for that?
[2014-05-23 18:46:22 -0400] tubbo: rshade98: there's also #berkshelf, and i think #vagrant :)
[2014-05-23 18:48:53 -0400] shlant: anyone doing CI with chef and aws?
[2014-05-23 18:51:19 -0400] jidar: not really a chef problem, from what I'm aware of
[2014-05-23 18:51:24 -0400] jidar: more a jenkins problem afaik
[2014-05-23 18:55:06 -0400] mmzyk: thematthewgreen http://api.berkshelf.com/status
[2014-05-23 18:55:22 -0400] thematthewgreen: yes I've been checking that.
[2014-05-23 18:55:53 -0400] mmzyk: It seems okay now, although we (Chef) are aware that its having some stabilitiy issues. Were working with the berkshelf team to improve it, although its likely going to have issues for a bit until we can really dig in.
[2014-05-23 18:55:55 -0400] thematthewgreen: been seeing these type of responses "Unable to find a solution for demand"
[2014-05-23 18:56:31 -0400] robawt: mmzyk: thanks for the status URL
[2014-05-23 18:56:56 -0400] rshade98: Tubbo thans
[2014-05-23 18:57:08 -0400] mmzyk: Well, that response indications the depsolver couldnt resolve the cookbook dependencies it was given. I dont know the inner workings of berkshelf however, so I dont know if that could result b/c if failed to download a cookbook, but that could also be that you have cookbooks with version constraints that just dont work out.
[2014-05-23 18:57:35 -0400] thematthewgreen: yeah it's weird b/c we'll run it again and it works fine
[2014-05-23 18:58:09 -0400] mmzyk: might be due to the api then. Im not sure what berkshelf is doing under the hood.
[2014-05-23 18:58:18 -0400] mmzyk: You could ask in #berkshelf
[2014-05-23 18:58:31 -0400] tubbo: shlant: "CI"?
[2014-05-23 18:58:42 -0400] tubbo: shlant: we're planning on rolling out some chefspec tests to run our chef repo on travis-ci..
[2014-05-23 18:58:44 -0400] whiteadam: continuous integration
[2014-05-23 18:58:51 -0400] euphy: does anyone run chef client in daemon mode with grsec or selinux enabled?
[2014-05-23 18:58:55 -0400] thematthewgreen: mmzyk yeah I did :p
[2014-05-23 18:59:02 -0400] whiteadam: euphy: I do with SElinux
[2014-05-23 18:59:36 -0400] mmzyk: themattewgreen sounds like youre doing the right thing then. :)
[2014-05-23 19:01:21 -0400] shlant: basically my vision for a perfect CI solution would be a product that takes a git repo and when something gets committed to master, it spins up an ec2 instance and runs chef to configure the app and then runs tests and returns pass/failures preferably with a nice visual process representation.
[2014-05-23 19:01:29 -0400] shlant: anyone know of such a solution?
[2014-05-23 19:01:41 -0400] shlant: TeamcitY? go?
[2014-05-23 19:02:07 -0400] euphy: shlant: doesn't jenkins have the ability to do that?
[2014-05-23 19:02:38 -0400] shlant: euphy: yes but I don't want to maintain my own jenkins server
[2014-05-23 19:27:14 -0400] brint: shlant: travis is what a lot of people use for testing like that
[2014-05-23 19:27:27 -0400] eherot: shlant: travis-ci.org
[2014-05-23 19:27:34 -0400] eherot: I'm wiring it up to a cookbook right now
[2014-05-23 19:29:59 -0400] juliancdunn: euphy: I also run chef-client with SELinux enabled - works fine
[2014-05-23 19:36:06 -0400] jespada: someone else seeing problems to retrieve metadata from api.berkshelf.com ?
[2014-05-23 19:53:50 -0400] tubbo: hey all
[2014-05-23 19:54:10 -0400] tubbo: if i have my cookbooks managed with berkshelf, and one of those cookbooks has a nodes/ dir, will Chef be able to use the nodes in there?
[2014-05-23 19:54:23 -0400] tubbo: or will Chef just not know that file exists because it's not looking for it?
[2014-05-23 20:00:18 -0400] coderanger: jespada: Looks okay to me, still having issues?
[2014-05-23 20:00:34 -0400] coderanger: tubbo: No, thats not part of how cookbooks work
[2014-05-23 20:02:50 -0400] jespada: coderanger, got it working on a retry, thanks, probably was just slow at that time
[2014-05-23 20:06:36 -0400] automan_: I'm trying to use kitchen with chef zero... seems like zero is listening on port 4000, and I can telnet to it, but I can't query it. I'd like to have a look at the data on it. How can I do that?
[2014-05-23 20:07:13 -0400] coderanger: automan_: Use knife
[2014-05-23 20:07:33 -0400] coderanger: automan_: Or just look in the folder it is using if disk storage is enabled
[2014-05-23 20:07:58 -0400] automan_: coderanger: ok.. re: knife "ERROR: Connection refused connecting to http://127.0.0.1:8889/nodes, retry 1/5" etc
[2014-05-23 20:08:19 -0400] coderanger: automan_: You just said it is using port 4000 I thought
[2014-05-23 20:08:42 -0400] automan_: coderanger: apparently it's not using either :)
[2014-05-23 20:08:57 -0400] coderanger: automan_: `sudo netstat -lntp`
[2014-05-23 20:09:51 -0400] automan_: coderanger: mac... lntp options not liked... but "tcp4       0      0  10.1.10.82.4000        *.*                    LISTEN"
[2014-05-23 20:10:25 -0400] coderanger: Okay, so then make knife use port 4000, not 8889
[2014-05-23 20:10:40 -0400] automan_: coderanger: neither work
[2014-05-23 20:11:09 -0400] automan_: hang on. something weird going on
[2014-05-23 20:11:51 -0400] automan_: ok that's strange. netstat shows it's bound to ip 10.1.10.82 on port 4000 but a telnet to that hangs. Hm. ok, well if it's supposed to work I'll just debug furter. thanks
[2014-05-23 20:12:49 -0400] coderanger: automan_: Its an http service, not sure what you would expect to see via telnet
[2014-05-23 20:13:06 -0400] coderanger: automan_: You should be able to curl against it and get an auth error at least
[2014-05-23 20:15:08 -0400] coderanger: Of note: you said it is listening on a specific interface, not 0.0.0.0, so connecting to localhost wouldn't work
[2014-05-23 20:22:08 -0400] automan_: no nodes on chef-zero server. bizarre.
[2014-05-23 20:23:02 -0400] coderanger: automan_: How do you have this setup?
[2014-05-23 20:23:49 -0400] automan_: coderanger: which? got disconnected there for a moment
[2014-05-23 20:24:04 -0400] coderanger: automan_: What does your kitchen.yml look like
[2014-05-23 20:26:10 -0400] automan_: coderanger: like this...https://gist.github.com/dgarstang/3f825215d62439c6657a
[2014-05-23 20:26:15 -0400] anthonyacquanita: where should I put my spec knife-ec2 etc. etc. gems?   in /opt/chef/embedded or somewhere else?
[2014-05-23 20:26:51 -0400] tubbo: coderanger: are you referring specifically to a chef-server environment, or chef in general?
[2014-05-23 20:27:07 -0400] coderanger: anthonyacquanita: Now sure what you mean by "spec"?
[2014-05-23 20:27:28 -0400] coderanger: tubbo: In general, nodes aren't part of cookbooks
[2014-05-23 20:27:31 -0400] tubbo: yeah
[2014-05-23 20:27:34 -0400] tubbo: that's what i figured
[2014-05-23 20:29:02 -0400] automan_: hm. kitchen dianose says chef-zero is on 8889... but it seems to be on 4000. something is ... wrong.
[2014-05-23 20:29:09 -0400] anthonyacquanita: not sure how to manage gems installed after a new chef server build.
[2014-05-23 20:29:35 -0400] anthonyacquanita: at the OS ruby level, use a Gemfile, use the ruby version in embedded chef...
[2014-05-23 20:29:47 -0400] automan_: in fact, it's still running after all the suites are killed.
[2014-05-23 20:29:48 -0400] coderanger: anthonyacquanita: Chef server has nothing to do with your gems
[2014-05-23 20:30:33 -0400] tubbo: coderanger: my co-worker is trying to tell me to put nodes for each of our products and services (each product/service has its own "meta-cookbook") in each cookbook's git repo, rather than the master chef-repo.
[2014-05-23 20:30:35 -0400] tubbo: :\
[2014-05-23 20:30:42 -0400] tubbo: which seems to be wrong, but he really doesn't believe that at all.
[2014-05-23 20:30:49 -0400] coderanger: tubbo: Are you using chef-server or solo?
[2014-05-23 20:30:53 -0400] tubbo: coderanger: solo, for now.
[2014-05-23 20:30:58 -0400] coderanger: tubbo: knife-solo?
[2014-05-23 20:31:13 -0400] tubbo: coderanger: he is, i'm not.
[2014-05-23 20:31:23 -0400] tubbo: well, not yet at least.
[2014-05-23 20:31:34 -0400] coderanger: tubbo: Generally with knife-solo you would have a single central repo with your node data, bags, etc
[2014-05-23 20:31:55 -0400] coderanger: tubbo: It is possible to spread that stuff out, but it makes it an unmanagable mess
[2014-05-23 20:32:45 -0400] coderanger: automan_: Chef-zero wouldn't keep running outside of the context of the test run AFAIK
[2014-05-23 20:33:02 -0400] jkeiser: correct
[2014-05-23 20:33:17 -0400] coderanger: automan_: In fact it looks like it just uses local mode
[2014-05-23 20:33:18 -0400] automan_: coderanger: kinda what I thought
[2014-05-23 20:33:24 -0400] coderanger: and skips the actual chef-zero server entirely
[2014-05-23 20:33:32 -0400] tubbo: coderanger: yeah...my thought process was to make a single central chef-repo with nodes, roles and environments in it...then have a Berksfile that specifies each cookbook dependency.
[2014-05-23 20:33:32 -0400] coderanger: (unless you request old chef)
[2014-05-23 20:33:42 -0400] coderanger: tubbo: Yep, thats the usual way
[2014-05-23 20:33:43 -0400] automan_: coderanger: I think I installed chef-zero gem earlier. wonder if that started it
[2014-05-23 20:33:44 -0400] tubbo: coderanger: but he's trying to basically remove the need for that central repo
[2014-05-23 20:34:15 -0400] coderanger: tubbo: you can do the split thing, but its just a lot more complex and only helpful if you have a ton of churn
[2014-05-23 20:35:47 -0400] tubbo: coderanger: "split" thing? oh, like splitting each dir out to its own repo and using submodules or Google Repo to keep them together?
[2014-05-23 20:35:58 -0400] coderanger: tubbo: No, I mean having no central repo
[2014-05-23 20:36:06 -0400] coderanger: tubbo: For example, you can't use envs or data bags at all
[2014-05-23 20:36:12 -0400] coderanger: tubbo: (in favor of nothing but cookbooks)
[2014-05-23 20:36:21 -0400] automan_: well I'm confused. Where does chef-zero's local mode... throw stuff?
[2014-05-23 20:36:39 -0400] coderanger: automan_: local mode is a feature of chef-client, and it puts things nowhere
[2014-05-23 20:37:52 -0400] tubbo: coderanger: i see. but i suppose that if we had our own Chef Server running, then we could just store envs and data_bags in there
[2014-05-23 20:37:53 -0400] automan_: coderanger: maybe we're talking about different things then. my kitchen.yml has chef-zero as the provisioner, so I was expecting to see a server running. Something is emulating a chef server because my recipes use chef search and aren't croaking on me
[2014-05-23 20:38:18 -0400] jkeiser: local mode is a chef-zero that puts things on the disk
[2014-05-23 20:38:38 -0400] coderanger: tubbo: Yes, but you need some way to track them, which means a central mgmt repo again
[2014-05-23 20:38:40 -0400] jkeiser: test-kitchen is spinning up a disk data store and passing it to chef-zero
[2014-05-23 20:38:53 -0400] coderanger: jkeiser: No, I don't think it does
[2014-05-23 20:39:04 -0400] automan_: jkeiser: is there some place I can inspect this? can I do a chef search on it with knife?
[2014-05-23 20:39:09 -0400] coderanger: jkeiser: It looks like it just uses chef-client local mode directly for anyt chef-client newer than 11.0.8
[2014-05-23 20:39:28 -0400] coderanger: jkeiser: Or at least there is code to support that
[2014-05-23 20:40:05 -0400] coderanger: Meaning no, there is no actual server process at any point other than internal to chef-client while it is running
[2014-05-23 20:42:13 -0400] tubbo: coderanger: meh ;)
[2014-05-23 20:42:15 -0400] automan_: so, specifying chef zero as a provioner in kitchen doesn't actually use chef server?
[2014-05-23 20:42:31 -0400] coderanger: automan_: It does, not in the way you think it does though
[2014-05-23 20:42:54 -0400] automan_: coderanger: does it in a way that I can inspect the stuff 'on' the server?
[2014-05-23 20:43:01 -0400] coderanger: No
[2014-05-23 20:43:09 -0400] automan_: d'oh
[2014-05-23 20:43:22 -0400] jkeiser: coderanger: that is what chef client local mode does, but I wrote the code for Fletcher to do that
[2014-05-23 20:43:38 -0400] jkeiser: coderanger: also, chef-client local mode runs a server
[2014-05-23 20:43:48 -0400] automan_: but chef search still works... sort of... i mean it doesn't error out but it isn't working either, hence my reason to want to LOOK at what's on the server and debug
[2014-05-23 20:43:49 -0400] jkeiser: a chef-zero server that has been passed a disk data store
[2014-05-23 20:43:49 -0400] coderanger: jkeiser: Yeah, but it shuts down as soon as chef-client exits
[2014-05-23 20:43:54 -0400] jkeiser: yep
[2014-05-23 20:44:01 -0400] coderanger: jkeiser: Making interactive use a tad difficult :)
[2014-05-23 20:44:14 -0400] automan_: :(
[2014-05-23 20:44:17 -0400] jkeiser: Up to this point, test-kitchen has spun up its own chef-zero instance
[2014-05-23 20:44:18 -0400] shlant: coderanger: I'm running intohttp://pastebin.com/BKmqLhDz
[2014-05-23 20:44:19 -0400] jkeiser: with a data store
[2014-05-23 20:44:29 -0400] shlant: any ideas?
[2014-05-23 20:44:46 -0400] shlant: something to do with vagrant?
[2014-05-23 20:44:54 -0400] automan_: if it shuts down.... then it can't be used with chef search either...
[2014-05-23 20:44:59 -0400] coderanger: shlant: You need a newer chef
[2014-05-23 20:45:18 -0400] coderanger: shlant: Are you using vagrant-omnibus?
[2014-05-23 20:45:55 -0400] shlant: coderanger: I wasn't. I am just using a default box but I can use omnibus if need be. What is the minimum version requirement?
[2014-05-23 20:46:32 -0400] automan_: Could I... run chef zero indepedantly, and point my kitchen tests to that chef server?
[2014-05-23 20:47:24 -0400] coderanger: Yes, just use the chef-client provisioner
[2014-05-23 20:47:31 -0400] jidar: so, why wouldn't port 5984 be running on my chef server?
[2014-05-23 20:47:50 -0400] coderanger: shlant: Let me check when that was added, sec
[2014-05-23 20:48:06 -0400] automan_: coderanger: indenpendant chef zero and chef-client via kitchen I am interpreting...
[2014-05-23 20:48:28 -0400] coderanger: shlant: Looks like 11.8.0, but really I recommend latest because yoloswag :)
[2014-05-23 20:48:44 -0400] coderanger: automan_: Yes, that will be an entirely in-memory chef-server then
[2014-05-23 20:48:55 -0400] automan_: coderanger: That's ok I think
[2014-05-23 20:51:43 -0400] gkra: who do I blame for the opscode nginx cookbook? >:o
[2014-05-23 20:51:55 -0400] coderanger: gkra: someara?
[2014-05-23 20:52:30 -0400] gkra: i'm just trying to get it to build passenger (ok) and nginx with passenger support (seems broken)
[2014-05-23 20:55:05 -0400] gkra: if I include_recipe nginx::passenger first, then nginx::source, it *should* include the passenger module automatically when building nginx, right?
[2014-05-23 20:55:25 -0400] jidar: so does rabbitmq replace the couchdb stuff?
[2014-05-23 20:55:30 -0400] jidar: or is that something else
[2014-05-23 20:55:44 -0400] jidar: like, how is that stuff exposed the way that you used to be able to curl for
[2014-05-23 20:55:48 -0400] coderanger: jidar: In chef 11 server?
[2014-05-23 20:56:06 -0400] jidar: 11.4 yea
[2014-05-23 20:56:13 -0400] coderanger: jidar: Chef 11 server uses postgres as the database instead of couch
[2014-05-23 20:56:26 -0400] jidar: so is it not exposed via rest anymore? I need to reset the admin user password
[2014-05-23 20:57:34 -0400] coderanger: jidar: If you still have an admin key, you can use knife to do it
[2014-05-23 20:57:42 -0400] coderanger: jidar: Otherwise you would have to reset it in postgres
[2014-05-23 20:57:44 -0400] jidar: new to this job, and we can't login
[2014-05-23 20:57:54 -0400] jidar: I assume the admin key might be somewhere, but that guy is long gone
[2014-05-23 20:58:10 -0400] coderanger: Then yeah, easiest thing to do is go into the DB and delete the user named "admin"
[2014-05-23 20:58:19 -0400] jidar: k, let me see if I can poke around this
[2014-05-23 20:58:29 -0400] coderanger: when you restart the server it will recreate with the standard password and write the key out to /etc/chef-server/admin.pem
[2014-05-23 20:59:04 -0400] jidar: yea, all I have in chef-server is the client.pem and the validator
[2014-05-23 20:59:56 -0400] chef605: Hi, I am new to chef and have been tasked with updating the php runtime to php 5.4, my question is does this need to be a new recipe or can an update to an exisitng recipe resolve this issue. Thank you
[2014-05-23 21:00:45 -0400] coderanger: jidar: Yeah, you usually delete that admin key once you make your own users to render the
[2014-05-23 21:00:51 -0400] coderanger: the "admin" account useless
[2014-05-23 21:01:01 -0400] coderanger: chef605: Depends entirely on your recipes
[2014-05-23 21:06:01 -0400] shlant: coderanger: now I'm getting 403 Forbidden. Do I need to somehow specify the aws role in vagrant?
[2014-05-23 21:06:14 -0400] shlant: it was working with knife-ec2 when specifying the role
[2014-05-23 21:07:04 -0400] coderanger: shlant: Generally when testing you use your local admin keys via the attributes
[2014-05-23 21:07:24 -0400] coderanger: shlant: ex. https://github.com/balanced-cookbooks/balanced-ci/blob/master/.kitchen.yml#L5-L9
[2014-05-23 21:07:40 -0400] chef605: great, thank you
[2014-05-23 21:13:06 -0400] shlant: coderanger: I have the credentials set through chef.json in the Vagrantfile as per the README
[2014-05-23 21:13:38 -0400] coderanger: shlant: And those keys are admins (or otherwise have access to the S3 bucket)?
[2014-05-23 21:15:11 -0400] shlant: coderanger: ah, so should I have a chef-test user to add to bucket permissions?
[2014-05-23 21:15:22 -0400] shlant: in IAM
[2014-05-23 21:15:45 -0400] coderanger: shlant: I mean I just the key that corresponds to my own IAM user, which is an admin
[2014-05-23 21:15:52 -0400] coderanger: But that would work too
[2014-05-23 21:18:24 -0400] gkra: oh damnit
[2014-05-23 21:18:39 -0400] gkra: i was missing a path component for node['nginx']['passenger']['root']
[2014-05-23 21:20:54 -0400] _automan_: Ok, I thought this would be easy. Maybe not... kitchen... is there  chef-client provisioner?
[2014-05-23 21:25:27 -0400] jidar: so coderanger I just nuke the admin account from osc_users right?
[2014-05-23 21:25:52 -0400] coderanger: jidar: Yeah
[2014-05-23 21:25:58 -0400] jidar: gotcha
[2014-05-23 21:26:05 -0400] coderanger: jidar: And then chef-server-ctl restart
[2014-05-23 21:31:05 -0400] jespada: coderanger, i keep getting this now 3 times in a row: https://gist.github.com/jespada/346efaa27603d617366d
[2014-05-23 21:31:27 -0400] coderanger: jespada: https://api.berkshelf.com/status
[2014-05-23 21:31:33 -0400] coderanger: jespada: Wait until the cache status is "ok"
[2014-05-23 21:31:37 -0400] jespada: oh cool
[2014-05-23 21:31:46 -0400] coderanger: For whatever reason, when berks-api is refreshing, it makes things unavailable
[2014-05-23 21:31:48 -0400] jespada: coderanger, didn't know about the status tks
[2014-05-23 21:32:46 -0400] gleam: yes, the whole unavailable-while-refreshing thing is quite annoying
[2014-05-23 21:33:09 -0400] coderanger: \_()_/
[2014-05-23 21:33:57 -0400] gleam: oh i asked this earlier, but has anyone had problems with erchef being unable to verify nginx's certificate when using a non-self-signed cert? one not generated by chef-server itself
[2014-05-23 21:34:15 -0400] gleam: verifies fine w/openssl on the command line
[2014-05-23 21:35:30 -0400] coderanger: gleam: Not sure what you mean, when does erchef contact nginx?
[2014-05-23 21:35:50 -0400] gleam: it seems to when it's doing bookshelf operations
[2014-05-23 21:36:32 -0400] coderanger: Ahh yeah, that would do it
[2014-05-23 21:36:47 -0400] coderanger: I thought it just talked to bookshelf directly though
[2014-05-23 21:36:48 -0400] coderanger: hmmm
[2014-05-23 21:36:50 -0400] gleam: glad i'm not hallucinating that part at least
[2014-05-23 21:36:57 -0400] gleam: i mean, that might be the solution
[2014-05-23 21:37:20 -0400] gleam: instead of s3_url being https://chefserver have it talk to localhost:4321 or something..
[2014-05-23 21:39:09 -0400] coderanger: I don't actually know anything about how erlang does TLS so I'm afraid I can't help much beyond that
[2014-05-23 21:39:49 -0400] gleam: yeah. it's def. an erlang thing, since if i try to connect in erl it also throws an error
[2014-05-23 21:40:30 -0400] coderanger: Is it just a certificate error?
[2014-05-23 21:40:38 -0400] coderanger: Might need a new CA file/dir
[2014-05-23 21:40:54 -0400] gleam: yeah, but it's one from an actual ca
[2014-05-23 21:41:04 -0400] gleam: comodo, so i'm using "actual" loosely
[2014-05-23 21:41:05 -0400] gleam: but..
[2014-05-23 21:42:15 -0400] coderanger: gleam: Yeah, but it might just be newer than whatever is bundled in to erlang/otp, if it does that
[2014-05-23 21:42:23 -0400] gleam: oh, true
[2014-05-23 21:42:31 -0400] gleam: i'm sitting here assuming it's using the system ca certs
[2014-05-23 21:42:37 -0400] coderanger: No idea :)
[2014-05-23 21:42:50 -0400] coderanger: I know omnibus bundles the curl CA file
[2014-05-23 21:42:56 -0400] coderanger: not sure if erlang uses that though
[2014-05-23 21:43:31 -0400] shlant: coderanger: not sure what I'm doing wrong here. If I add my user as a grantee on the bucket I want to access I get 403
[2014-05-23 21:44:06 -0400] coderanger: shlant: What does the IAM policy look like?
[2014-05-23 21:44:43 -0400] shlant: coderanger: it currently references the role I was using for knife-ec2. Should I change it from role to user?
[2014-05-23 21:44:59 -0400] Majost: Does anyone know a good way to get around the woes of testing cookbooks in docker which have dependencies on OS specific packages  which use init scripts?
[2014-05-23 21:45:20 -0400] coderanger: shlant: Yes, you need a policy in place such that the key you are using has access to the bucket, how exactly you are doing is up to you
[2014-05-23 21:45:23 -0400] Majost: I keep hitting stupid issues where some init doesn't happen and stuff breaks, but its only with docker.
[2014-05-23 21:46:28 -0400] coderanger: shlant: The idea is that generally in dev you will just use a wide open policy, but in production you can limit it to just the exact stuff needed, thus providing security
[2014-05-23 21:46:38 -0400] coderanger: Majost: Are you using systemd?
[2014-05-23 21:47:41 -0400] Majost: coderanger: no, this is with ubuntu boxes -- so usually sysvinit and/or upstart
[2014-05-23 21:48:04 -0400] coderanger: Majost: I've heard of upstart having some issues, but I don't know specifics
[2014-05-23 21:49:07 -0400] gleam: what's weird is it even fails if i pass [{verify,verify_none}] in erl as the ssl options
[2014-05-23 21:49:14 -0400] gleam: like it's having trouble parsing the cert rather than verifying it
[2014-05-23 21:49:42 -0400] gleam: anyway i'll just have it talk directly to bookshelf and see if it breaks
[2014-05-23 21:50:20 -0400] coderanger: gleam: It might be a TLS version or cipher suite issue
[2014-05-23 21:51:45 -0400] shlant: coderanger: here's my policy. The keys are in the Vagrantfile using ENV: http://pastebin.com/pBfCpSM8
[2014-05-23 21:53:18 -0400] coderanger: shlant: Hmm, is git-keys really your bucket name?
[2014-05-23 21:53:44 -0400] shlant: coderanger: no. it's company-keys
[2014-05-23 21:53:59 -0400] coderanger: shlant: Then that would do it :)
[2014-05-23 21:54:11 -0400] shlant: coderanger: no I just changed it for the past haha
[2014-05-23 21:54:12 -0400] coderanger: shlant: needs to be :::bucket-name/whatever
[2014-05-23 21:54:13 -0400] shlant: paste
[2014-05-23 21:54:15 -0400] coderanger: Ahh, okay
[2014-05-23 21:54:16 -0400] coderanger: hmm
[2014-05-23 21:54:31 -0400] coderanger: That does look correct
[2014-05-23 21:54:37 -0400] shlant: as I said, it works with knife-ec2 if I have a role instead of user
[2014-05-23 21:54:38 -0400] coderanger: Does it work at all with an admin key just for testing?
[2014-05-23 21:54:46 -0400] shlant: uh
[2014-05-23 21:54:52 -0400] shlant: how would i test that
[2014-05-23 21:55:00 -0400] coderanger: Is your IAM user an admin?
[2014-05-23 21:55:25 -0400] shlant: yes
[2014-05-23 21:55:38 -0400] coderanger: Then just try it using your key/secret
[2014-05-23 21:55:49 -0400] shlant: that's what I'm using
[2014-05-23 21:56:08 -0400] coderanger: Hmm, that should already have a policy of, effectively, * on it
[2014-05-23 21:56:39 -0400] coderanger: Any chance you were setting the citadel base bucket in a role or something that isn't being applied to the vagrant box?
[2014-05-23 21:56:48 -0400] coderanger: You should be able to see what it is trying to access in the debug output
[2014-05-23 21:56:50 -0400] gleam: setting the bookshelf url manually does indeed solve my problem, so i guess there's that
[2014-05-23 21:58:20 -0400] shlant: coderanger: I'm sure. that attribute isn't being set anywhere. the code is
[2014-05-23 21:58:21 -0400] shlant: file "#{Chef::Config[:file_cache_path]}/git_key" do
[2014-05-23 21:58:21 -0400] shlant:   content citadel('git-keys')['git']
[2014-05-23 21:58:22 -0400] shlant:   user "nodejs"
[2014-05-23 21:58:22 -0400] shlant:   group "nodejs"
[2014-05-23 21:58:23 -0400] shlant: end
[2014-05-23 21:58:41 -0400] coderanger: shlant: To confirm, you changed that for the paste again?
[2014-05-23 21:58:46 -0400] shlant: indeed
[2014-05-23 21:58:51 -0400] coderanger: k :)
[2014-05-23 21:59:07 -0400] shlant: it just seems to only work for IAM roles
[2014-05-23 21:59:10 -0400] shlant: not keys
[2014-05-23 21:59:27 -0400] coderanger: shlant: Can you pastebin the vagrantfile? Maybe the keys are not being set correctly
[2014-05-23 21:59:37 -0400] coderanger: Though that should result in a different error about "I can't find keys"
[2014-05-23 21:59:54 -0400] shlant: yea
[2014-05-23 22:00:00 -0400] shlant: I tried that and got the other error
[2014-05-23 22:00:03 -0400] shlant: so I think it's right
[2014-05-23 22:00:05 -0400] shlant: one sec
[2014-05-23 22:00:24 -0400] coderanger: shlant: You can also log the actual keys being used from inside the recipe
[2014-05-23 22:01:00 -0400] coderanger: shlant: log "Key = #{citadel.access_key_id} secret = #{citadel.secret_access_key}"
[2014-05-23 22:01:11 -0400] shlant: coderanger: I don't think so because the error happens at compile, yes?
[2014-05-23 22:01:23 -0400] shlant: vagrantfile: http://pastebin.com/V1V4AKHR
[2014-05-23 22:01:38 -0400] coderanger: shlant: Use Chef::Log.debug('str') instead
[2014-05-23 22:13:43 -0400] shlant: coderanger: weird. It seems the secret is there but the key id is blank
[2014-05-23 22:13:55 -0400] shlant: haha
[2014-05-23 22:14:01 -0400] shlant: I referenced the wrong ENV name
[2014-05-23 22:14:27 -0400] coderanger: shlant: Hah, smooooth
[2014-05-23 22:14:52 -0400] shlant: yea it's clearly the friday before a long weekend
[2014-05-23 22:14:59 -0400] shlant: thanks for the help
[2014-05-23 22:16:00 -0400] shlant: I saw your chefconf poise talk btw. good stuff. What's the growth time on that beard btw? haha
[2014-05-23 22:16:04 -0400] coderanger: No problem :)
[2014-05-23 22:16:15 -0400] coderanger: shlant: Heh, it maxes out after 6-12 months
[2014-05-23 22:16:20 -0400] coderanger: but I've not shaved it since 2004
[2014-05-23 22:16:50 -0400] shlant: killer
[2014-05-23 22:17:08 -0400] shlant: do you live in San Francisco?
[2014-05-23 22:17:39 -0400] coderanger: Yeah
[2014-05-23 22:17:42 -0400] coderanger: well, the east bay
[2014-05-23 22:18:01 -0400] shlant: i probably owe you a beer for all the help you've given me. Just got here last week. Do you frequent any meetups?
[2014-05-23 22:18:25 -0400] coderanger: shlant: I go to SFPython and SFDevops with some level of regularity
[2014-05-23 22:19:04 -0400] shlant: awesome, well I'll introduce myself when I get around to going
[2014-05-23 22:34:34 -0400] fujin: bixu: https://twitter.com/bdha/status/469969199960711168
[2014-05-23 22:51:49 -0400] Majost: coderanger: I saw a post you made about using rackspace with your test kitchen configs to spin up instances for CI testing
[2014-05-23 22:52:06 -0400] coderanger: Majost: Indeed
[2014-05-23 22:52:07 -0400] Majost: coderanger: Does that work with pull requests?
[2014-05-23 22:52:21 -0400] coderanger: Majost: Yes, travis handles that
[2014-05-23 22:52:40 -0400] coderanger: Oh the ghprb plugin in jenkins if you dare
[2014-05-23 22:52:42 -0400] Majost: Are you using the travis encrypt stuff for the keys?
[2014-05-23 22:52:57 -0400] Majost: yeah, I am concerned about someone making a malicious PR
[2014-05-23 22:53:09 -0400] coderanger: Majost: Define "malicious"
[2014-05-23 22:53:18 -0400] coderanger: You mean like someone making a ton of them and costing you a lot of money?
[2014-05-23 22:53:46 -0400] Majost: No, for Jenkins it would be someone making a PR which exposes network stuff
[2014-05-23 22:54:26 -0400] coderanger: Majost: Ahh, for jenkins you can set it up to only test is an admin authorizes it via a comment in the pull req
[2014-05-23 22:54:36 -0400] Majost: hrm
[2014-05-23 22:54:42 -0400] Majost: yeah, I may have to explore that
[2014-05-23 22:54:44 -0400] coderanger: ghprb is pretty powerful, but I've found it to be finicky
[2014-05-23 22:55:05 -0400] coderanger: (thats also my general opinion on Jenkins too, so \_()_/)
[2014-05-23 22:55:19 -0400] Majost: the application I need to test uses about 2GB RAM per instance, and I need at minimum two instances to do the integration testing
[2014-05-23 22:55:33 -0400] Majost: heh
[2014-05-23 22:56:20 -0400] Majost: So do you just use the travis encrypt stuff to encrypt the keys?
[2014-05-23 22:56:32 -0400] coderanger: Yeah
[2014-05-23 22:56:45 -0400] coderanger: For rackspace I just encrypt the API key since thats small
[2014-05-23 22:56:54 -0400] coderanger: for EC2 it requires more hammering
[2014-05-23 22:57:38 -0400] coderanger: Going to try and move my stuff to kitchen-docker though, now that docker actually supports auth
[2014-05-23 22:57:52 -0400] Majost: I was looking at that myself
[2014-05-23 22:58:11 -0400] Majost: I originally tried using it with drone.io
[2014-05-23 22:58:15 -0400] coderanger: Its still pretty _ but I can at least get a better launch failure rate
[2014-05-23 22:58:43 -0400] coderanger: slow/failed launches are a huge source of false failures with public cloud backed TK
[2014-05-23 22:58:55 -0400] Majost: but I found it was impossible to bring up a docker instance within their solution. I inquired to them to see if there was a way to specify the docker image, and they responded really quickly
[2014-05-23 22:59:08 -0400] scairbus: in a recipe, is there a reason why this search won't work:  nodes = search(:node, "chef_environment:#{node.chef_environment}")
[2014-05-23 22:59:09 -0400] Majost: but they said the hosted solution doesn't user docker under the covers yet
[2014-05-23 22:59:10 -0400] gkra: crap... I just created a nice chicken/egg situation for myself. :(
[2014-05-23 22:59:17 -0400] Majost: and the OSS stuff is completely different
[2014-05-23 22:59:36 -0400] coderanger: Majost: Yeah, I'm just going to run it myself, I have a FOSS grant from Rackspace so I can just leave a big machine running anyway
[2014-05-23 22:59:47 -0400] Majost: oh, sweet
[2014-05-23 22:59:54 -0400] coderanger: scairbus: Not specifically, whats the error?
[2014-05-23 23:00:09 -0400] coderanger: gkra: Cook both
[2014-05-23 23:00:43 -0400] gkra: coderanger: on bootstrap, custom ruby doesn't exist, so code to determine gem path, which runs at compile time, gets nothing.
[2014-05-23 23:01:04 -0400] gkra: sure, my ruby cookbook runs before the nginx cookbook, but my logic is wrong.
[2014-05-23 23:01:07 -0400] coderanger: gkra: Install ruby at compile time via include_recipe_now?
[2014-05-23 23:01:10 -0400] Majost: coderanger:  let me know how drone works out for you... I want to spin it up
[2014-05-23 23:01:25 -0400] coderanger: Majost: Not using drone, just raw docker + travis
[2014-05-23 23:01:32 -0400] Majost: but the issue goes back to, how do I ensure PRs dont expose me
[2014-05-23 23:01:34 -0400] Majost: ahh
[2014-05-23 23:01:40 -0400] scairbus: I was getting nil class, as if it weren't passing the environment to the search
[2014-05-23 23:01:43 -0400] gkra: coderanger: ruby blocks are executed at convergence, not compile, right?
[2014-05-23 23:02:07 -0400] coderanger: gkra: Correct
[2014-05-23 23:02:09 -0400] gkra: maybe if I wrap some of this into a ruby block...
[2014-05-23 23:02:14 -0400] coderanger: That works too
[2014-05-23 23:02:34 -0400] coderanger: gkra: include_recipe_now from the "now" cookbook lets you force a recipe to happen at compile time
[2014-05-23 23:02:49 -0400] Majost: coderanger: it seems like a tk driver which handles the magic for connecting to a 'docker host' would be useful for this sort of situation
[2014-05-23 23:02:52 -0400] gkra: coderanger: not sure I want to go that route...
[2014-05-23 23:03:03 -0400] coderanger: Majost: kitchen-docker already does that
[2014-05-23 23:03:04 -0400] gkra: but thanks :)
[2014-05-23 23:03:09 -0400] Majost: oh
[2014-05-23 23:03:13 -0400] coderanger: Majost: I just need to add support for the new authentication stuffs
[2014-05-23 23:03:15 -0400] Majost: I didn't realize that
[2014-05-23 23:03:31 -0400] coderanger: Majost: Yeah, I helped them add support for remote docker a while ago
[2014-05-23 23:03:39 -0400] gkra: coderanger: there's no reason I can't set attributes within a ruby block, right?
[2014-05-23 23:03:39 -0400] coderanger: It just had no auth, which made use over the internet impossible
[2014-05-23 23:04:02 -0400] coderanger: gkra: Should work fine, just remember that it might affect other resources if you move that code around
[2014-05-23 23:04:20 -0400] gkra: coderanger: right
[2014-05-23 23:04:35 -0400] Majost: well, I likely wouldn't be much help in terms of coding it -- but if you need any assistance testing, I would love to help
[2014-05-23 23:04:50 -0400] coderanger: Majost: But docker added auth in a crazy-but-functional form a few months ago
[2014-05-23 23:06:13 -0400] shlant: does the chef git resource need the git package installed?
[2014-05-23 23:06:21 -0400] coderanger: shlant: Yes
[2014-05-23 23:06:35 -0400] Majost: So it just a matter of passing the TK options into the crazy-but-functional docker api?
[2014-05-23 23:06:40 -0400] coderanger: Majost: Yep
[2014-05-23 23:06:44 -0400] Majost: huh
[2014-05-23 23:06:48 -0400] coderanger: Majost: Thats my hope anyway, haven't tried it yet :)
[2014-05-23 23:07:19 -0400] coderanger: Majost: Then I need to figure out how to get the SSL key to travis, probably encrypt the file and the put the passphrase in the encrypted env vars
[2014-05-23 23:07:59 -0400] Majost: what ssl key?
[2014-05-23 23:08:10 -0400] coderanger: Docker auth uses SSL keys for mutual authentication
[2014-05-23 23:08:18 -0400] Majost: ah
[2014-05-23 23:09:35 -0400] coderanger: Majost: This is probably first on my funemployment list, since I need to take stock of the cookbooks I'm maintaining
[2014-05-23 23:10:27 -0400] Majost: that felt like a jab ;)
[2014-05-23 23:10:28 -0400] Majost: hehe
[2014-05-23 23:10:38 -0400] coderanger: ?
[2014-05-23 23:13:04 -0400] gkra: is there a clean way to aboard a recipe without killing the chef run?
[2014-05-23 23:13:17 -0400] gkra: which immediatly sounds like a bad idea now that I ask it publicly.
[2014-05-23 23:13:21 -0400] coderanger: gkra: "return"
[2014-05-23 23:13:47 -0400] coderanger: That will abort compiling the rest of the file and continue with the next one
[2014-05-23 23:14:07 -0400] gkra: what about during convergence?
[2014-05-23 23:14:30 -0400] coderanger: Technically yes, but if I tell you how it may summon cthulu
[2014-05-23 23:15:02 -0400] coderanger: So I would highly recommend not doing it :)
[2014-05-23 23:15:27 -0400] coderanger: (you have to crack open the counter in the resource_collection and advance it until you are past all resources from that file)
[2014-05-23 23:16:34 -0400] gkra: lol
[2014-05-23 23:16:40 -0400] gkra: okay, not touching that
[2014-05-23 23:17:50 -0400] coderanger: gkra: Good call :)
[2014-05-23 23:18:29 -0400] gkra: ugh.
[2014-05-23 23:18:31 -0400] coderanger: gkra: An alternative is to set all future resources from that file to action(:nothing), but thats only ~5% less terrible
[2014-05-23 23:18:50 -0400] coderanger: gkra: Hmm, thinking of other options
[2014-05-23 23:19:08 -0400] gkra: don't stress it
[2014-05-23 23:19:10 -0400] coderanger: you could use not_if and a global of some kind (node attr or run_state flag)
[2014-05-23 23:19:15 -0400] coderanger: but it would be a bit verbose
[2014-05-23 23:19:16 -0400] gkra: I'd rather solve this problem the "right" way.
[2014-05-23 23:20:15 -0400] gkra: coderanger: so, here's what I'm banging my head on: https://gist.github.com/gkra/14fc9f4fb85594a59455
[2014-05-23 23:21:08 -0400] coderanger: gkra: Yeah, this is a great example of the two-pass model breaking down
[2014-05-23 23:21:25 -0400] coderanger: gkra: Want to port everything to poise resources? ;-)
[2014-05-23 23:21:39 -0400] gkra: coderanger: uh, no?
[2014-05-23 23:21:41 -0400] gkra: :)
[2014-05-23 23:21:56 -0400] coderanger: Then yeah, include_recipe_now is your best bet
[2014-05-23 23:21:57 -0400] gkra: I'm already cursing enough, given that we were told to run on Oracle Enterprise Linux. :(
[2014-05-23 23:22:04 -0400] coderanger: force the ruby install to happen earlier
[2014-05-23 23:22:31 -0400] gkra: so no matter what I do, line 23 will execute during compile phase?
[2014-05-23 23:23:46 -0400] coderanger: No, as written that will execute at converge phase
[2014-05-23 23:23:58 -0400] coderanger: but that might be too late for the passenger builder
[2014-05-23 23:24:37 -0400] gkra: so...
[2014-05-23 23:25:04 -0400] gkra: put a conditional around my include_recipe for nginx::passenger and nginx::source?
[2014-05-23 23:25:34 -0400] gkra: I mean, I'm a lover of the "one convergence to completion" idea, but if it's not doable without violation laws of nature...
[2014-05-23 23:25:43 -0400] gkra: ^violating
[2014-05-23 23:27:10 -0400] coderanger: gkra: I keep suggesting how to do it :P
[2014-05-23 23:27:48 -0400] gkra: "now" feels like it should be an antipattern, though.
[2014-05-23 23:28:18 -0400] gkra: that would force it to execute before every other recipe, right?
[2014-05-23 23:28:35 -0400] coderanger: Yes, it is just manual control over sequencing
[2014-05-23 23:28:49 -0400] coderanger: Thats how I write all my stuff at this point, except I do it inside resources
[2014-05-23 23:31:43 -0400] gkra: got an example you can share?
[2014-05-23 23:34:00 -0400] coderanger: gkra: https://github.com/poise/rundeck/blob/master/libraries/rundeck.rb#L90-L104
[2014-05-23 23:36:56 -0400] gkra: ah... so I'd need to go beyond mere recipes and down into coding libraries...
[2014-05-23 23:37:46 -0400] coderanger: gkra: Yeah
[2014-05-23 23:37:54 -0400] gkra: okay.
[2014-05-23 23:37:59 -0400] coderanger: gkra: I mean thats probably overkill for this one problem
[2014-05-23 23:38:06 -0400] coderanger: but I've found it a better model for complex stuff
[2014-05-23 23:38:39 -0400] gkra: I think, for tonight, I'm goign to back out the ruby block, and wrap the two include_recipe calls in here with a test if gem_path is non-zero...
[2014-05-23 23:39:18 -0400] gkra: is there a "getting started" doc for writing libraries?
[2014-05-23 23:39:51 -0400] coderanger: gkra: Not like the ones I linked if thats what you mean, except for the video of my chefconf talk
[2014-05-23 23:40:18 -0400] gkra: heh, the chefconf videos are definitely on my to-do list
[2014-05-23 23:40:34 -0400] gkra: i meant more generally
[2014-05-23 23:42:12 -0400] coderanger: Not really, I'm still trying to figure out how to do this stuff right O:-)
[2014-05-23 23:42:29 -0400] coderanger: gkra: But if you want to hire me to come a give training at your company, you should email me ;-)
[2014-05-23 23:43:11 -0400] gkra: lol
[2014-05-23 23:43:17 -0400] gkra: i'll pass that on to someone with a budget :)
[2014-05-23 23:43:29 -0400] gkra: i'm a lowly engineer here :D
