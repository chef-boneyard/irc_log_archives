[2014-05-06 08:00:17 -0400] domad: Are node files for both chef-solo and chef-client/server identical in layout and configuration?
[2014-05-06 08:19:36 -0400] jhsubscribe: morning.  Anyone got any tips on debugging  ERROR: 413 "Request Entity Too Large" apart from wiresharking and trying to disect the http post for which node data is too big.  I've already disabled ohai passwd plugin.
[2014-05-06 08:20:04 -0400] jhsubscribe: (this error is at the end of the chef run when it tries to post back to the chef server0
[2014-05-06 09:01:29 -0400] TheSerapher: hey everyone
[2014-05-06 09:02:24 -0400] TheSerapher: I am unable to install a debian package using the package resource and specifying a source file, it comes back with "No version specified, and no candidate version available for lumberjack" even though the debian package supplied installs this.
[2014-05-06 09:03:52 -0400] TheSerapher: god ... and as I am writing this, an hour long looking for the cause I have an epiphany ... Using the proper provider helps :-/
[2014-05-06 09:47:22 -0400] luddite: anyone in melbourne looking for a chef job?
[2014-05-06 10:04:46 -0400] BryanWB: anyne around that knows much about chef-vault?
[2014-05-06 10:05:39 -0400] BryanWB: in the readme, " encrypt a Chef Data Bag Item using the public keys of a list of chef nodes", but how does that work in a dynamic env like AWS?
[2014-05-06 10:06:30 -0400] BryanWB: hmm, i don't think it will support my use case
[2014-05-06 11:49:09 -0400] DocWilco: \o
[2014-05-06 11:49:20 -0400] DocWilco: is the hosted Chef server extremely slow right now?
[2014-05-06 11:53:47 -0400] DocWilco: btm: coderanger jkeiser jtimberman juliancdunn kallistec schisamo: ping
[2014-05-06 12:00:01 -0400] bottkv488: Hi!
[2014-05-06 12:00:40 -0400] bottkv488: I hope that I'm allowed to ask questions here ;-)?
[2014-05-06 12:02:18 -0400] bottkv488: I'm looking for a way to check, if chef-client runs with chef-admin rights (opensource chef) from within a recipe, any hints
[2014-05-06 12:02:20 -0400] masterkorp: hello
[2014-05-06 12:02:22 -0400] bottkv488: I'm looking for a way to check, if chef-client runs with chef-admin rights (opensource chef) from within a recipe, any hints?
[2014-05-06 12:02:44 -0400] masterkorp: chef-solo 10.8 does not support the role option -o ? right ?
[2014-05-06 12:24:58 -0400] srenatus: bottkv488: any ruby should do, e.g. require 'etc'; Etc.getpwent['uid'] == 0
[2014-05-06 13:01:46 -0400] bottkv488: srenatus: thx for replying, but I want to get the client attribute "admin": false/true, not the local user permissions
[2014-05-06 13:05:13 -0400] srenatus: bottkv488: I don't get it.  ah, you want to have ohai figure it out?
[2014-05-06 13:05:36 -0400] srenatus: bottkv488: node['current_user'] ?
[2014-05-06 13:05:49 -0400] srenatus: bottkv488: just tried running "ohai | less" and had a closer look
[2014-05-06 13:13:24 -0400] bottkv488: srenatus: I have to write a data_bag from within a recipe. For that you need admin rights (knife client edit hostname). And these settings I want to check, can't find them via ohai, as info there is node related (please correct me)?
[2014-05-06 13:15:48 -0400] srenatus: bottkv488: ah, this kind of admin ;)
[2014-05-06 13:16:21 -0400] srenatus: uhm no idea, sorry.  I'd rather not have admin right given to ordinary node clients...
[2014-05-06 13:17:04 -0400] srenatus: bottkv488: do you really have to edit a data bag item?  most of the times, saving some attribute in the node object (that will be search'able from other nodes) is quite sufficient
[2014-05-06 13:17:11 -0400] bottkv488: true, that's why I want to keep the admin rights disabled and catch the exeption ;)
[2014-05-06 13:17:37 -0400] bottkv488: just enable them manually once while bootstrapping
[2014-05-06 13:17:49 -0400] bottkv488: thx anyway :)
[2014-05-06 13:17:54 -0400] srenatus: :)
[2014-05-06 14:39:03 -0400] double_p: undefined method `[]' for nil:NilClass ... and i guess this needs different quoting/escaping then?: variables {:qfilter=>"mailLocalAddress=%s", :subbase=>"ou=mail", :rformat=>"smtp:[%s]", :scope=>"one"}
[2014-05-06 14:39:16 -0400] double_p: might be whatever, but this did work previously.. hmm
[2014-05-06 15:01:10 -0400] freezey_: is there anyway to search in the attributes file?
[2014-05-06 15:06:13 -0400] robbkidd: freezey_: Can you provide more details about the context in which you want to run the search and what you would be searching for?
[2014-05-06 15:14:20 -0400] b-dean: is it expected that native gems won't compile on the opscode-centos-6.5 bento box?
[2014-05-06 15:14:45 -0400] b-dean: it seems to be missing a bunch of build tools that were in opscode-centos-6.4
[2014-05-06 15:16:05 -0400] freezey_: robbkidd: say your just searching for an ipaddress from another node
[2014-05-06 15:16:16 -0400] freezey_: robbkidd: just wondering if you can execute a search from within an attributes file
[2014-05-06 15:17:54 -0400] robbkidd: A your_awesome_component/attributes/default.rb attributes file? No. You should put a sensible default in there. Generally search occurs in the recipe and passed into a template for writing out to a config file from there.
[2014-05-06 15:21:45 -0400] freezey_: robbkidd: yeah figured as much.. problem is if you do a search in a recipe like node_var = search(:node, "something") and in your template assign node_var as a variable. test-kitchen doesn't seem to like that very much
[2014-05-06 15:22:21 -0400] robbkidd: Hmm. I did not know that.
[2014-05-06 15:22:46 -0400] freezey_: yeah it comes back with undefined method
[2014-05-06 15:23:20 -0400] robbkidd: I must admit to ignorance with test kitchen. Are there ways to stub out the search?
[2014-05-06 15:23:46 -0400] freezey_: robbkidd: not sure its what i am trying to find out now
[2014-05-06 15:23:46 -0400] freezey_: heh
[2014-05-06 15:24:27 -0400] srenatus: freezey_: test-kitchen works with search iff you use chef-zero or chef-solo-search
[2014-05-06 15:24:45 -0400] srenatus: freezey_: but it's not TK's fault but a limitation of chef-solo (its default provisioner setting)
[2014-05-06 15:24:46 -0400] robbkidd: I could see if you are searching for "something", passing the results into the template as @node_var and trying to access @node_var[:or_other] ... the [] call on the nil @node_var would cause that error.
[2014-05-06 15:25:04 -0400] freezey_: srenatus: yeah using chef-zerpo
[2014-05-06 15:26:51 -0400] robbkidd: Googled 'chef test-kitchen stub searches' ... oh god oh god ... No! Chef! Not chefs!
[2014-05-06 15:26:55 -0400] freezey_: lol
[2014-05-06 15:27:58 -0400] robbkidd: Corretion: I binged it and got food sites. Google knows me better and returned Opscode-y results.
[2014-05-06 15:28:19 -0400] robbkidd: Bing: no cookie for you.
[2014-05-06 15:29:57 -0400] robbkidd: Speaking of cookies, a bunch of smart cookies talking about chef testing here http://foodfightshow.org/2013/05/testing-in-practice.html . Outline mentions stubbing search calls with chefspec.
[2014-05-06 15:31:06 -0400] robbkidd: I live in a slightly sad chef-solo world with manual testing, so I've only got Google Fu to help here.
[2014-05-06 15:50:28 -0400] cwj: robbkidd: https://github.com/sethvargo/chefspec/blob/master/examples/stub_search/spec/default_spec.rb ?
[2014-05-06 15:51:06 -0400] robbkidd: And there it is! Too bad freezy left.
[2014-05-06 15:51:26 -0400] cwj: i think freezy will have to provide node json fixtures for his search to work in test-kitchen
[2014-05-06 15:51:42 -0400] cwj: i talked to him about it a little bit in #kitchenci
[2014-05-06 15:51:47 -0400] robbkidd: Bueno.
[2014-05-06 15:54:10 -0400] robbkidd: cwj: Thanks!
[2014-05-06 16:39:32 -0400] mallu: good mornig... Hope someone can help me with this... we are trying to resolve ssl cert verification alert we get when running chef-client 11.12.2. I have copied certs over and knife ssl chek -c /etc/chef/client.rb is working now. However when running chefc-lient we are getting "OpenSSL::SSL::SSLError: hostname does not match the server certificate"
[2014-05-06 16:39:53 -0400] mallu: the host name and common name are different
[2014-05-06 16:40:15 -0400] mallu: anyone knows how to fix this ?
[2014-05-06 16:44:12 -0400] mallu: Is there anyway we can disable hostname verification in chef client?
[2014-05-06 16:49:15 -0400] mallu: anyone?
[2014-05-06 16:51:48 -0400] jchauncey: jkeiser: so there is mention in some chefconf docs about metal login and metal execute
[2014-05-06 16:51:57 -0400] jchauncey: jkeiser: are those actually available?
[2014-05-06 16:52:17 -0400] jkeiser: jchauncey: they exist, but only work with some provisioners right now. I'm working that out
[2014-05-06 16:52:21 -0400] jchauncey: k
[2014-05-06 16:52:40 -0400] jchauncey: we dont see them if we do a metal --help
[2014-05-06 16:53:15 -0400] jkeiser: jchauncey: not sure if the help text shows everything it does right now, it's in pretty alpha shape
[2014-05-06 16:53:24 -0400] jchauncey: k
[2014-05-06 16:55:53 -0400] mallu: hi, anyone seen this ? OpenSSL::SSL::SSLError: hostname does not match the server certificate
[2014-05-06 17:02:27 -0400] xmltok_: mallu: i just started to get that
[2014-05-06 17:03:19 -0400] BobW_: Hi - New to Chef stuff. I was wondering if Chef can be used to deploy OS's to physical servers?
[2014-05-06 17:03:48 -0400] jchauncey: BobW_: no
[2014-05-06 17:04:01 -0400] sauraus: https://github.com/opscode/chef-metal
[2014-05-06 17:04:16 -0400] sauraus: @ BobW_ https://github.com/opscode/chef-metal :)
[2014-05-06 17:04:39 -0400] bmhatfield: BobW_: Yes and no. Deploying an OS to a physical server in an automated fashion is usually done via pxe and kickstart (or alternatives), which you can use chef to configure. You can also use Chef to pick up where those tools left off to get you the rest of the way.
[2014-05-06 17:05:02 -0400] jchauncey: sauraus: but there is no pxe support so you can only use ssh for physical machines which means it already needs an OS
[2014-05-06 17:06:01 -0400] mmzyk: What jchauncey said.
[2014-05-06 17:06:04 -0400] BobW_: Thanks guys. We're moving towards automating with Chef, but I wasn't sure if I needed to keep what I have currently for the bare metal stuff.
[2014-05-06 17:06:14 -0400] BobW_: Sauraus: Thanks, I'll take a look at that chef-metal
[2014-05-06 17:06:17 -0400] mmzyk: Metal allows hte spinning up of machines, but it cant do bare metal.
[2014-05-06 17:06:21 -0400] sauraus: fork and extend chef-metal to support PXE :)
[2014-05-06 17:06:47 -0400] jchauncey: word of advice is automate as much as possible the kickstart/pxe stuff
[2014-05-06 17:06:49 -0400] mmzyk: BobW_ You might check out foreman. I know theyve recently added chef support.
[2014-05-06 17:06:49 -0400] jkeiser: Or write a provisioner :)
[2014-05-06 17:06:58 -0400] gleam: or opencrowbar
[2014-05-06 17:07:00 -0400] jchauncey: yeah we are starting to use foreman here at rally
[2014-05-06 17:07:02 -0400] jkeiser: Metal will support it through a provisioner
[2014-05-06 17:07:26 -0400] gyre007____: guys, anyone here uses chefdk ?
[2014-05-06 17:07:52 -0400] gyre007____: I just installed it and im wondering how safe it is to install knife plugins using chef gem install etc...
[2014-05-06 17:19:22 -0400] brian_dupras: @jkeiser (working with chauncey) getting a stack trace on running metal commands that interact with vagrant vms.  can you look at https://gist.github.com/jchauncey/f3eaa5ef2ee97f67cd03 ?
[2014-05-06 17:25:11 -0400] lrr: i'm having issues with data bags. when i knife data bag list, it shows the bags i want. and I have uploaded entried to those bags. but when i try to edit the data bag, i get a "not found" error
[2014-05-06 17:26:23 -0400] lrr: derp, i was usingthe wrong command
[2014-05-06 17:32:28 -0400] sauraus: @jtimberman where is the source code for DMG 2.2.0 cookbook?
[2014-05-06 17:33:46 -0400] sauraus: I only see the 2.1.5 on GitHub but site :opscode delivers 2.2.0
[2014-05-06 17:40:17 -0400] mdsteveb: This seems like an obvious issue but is anybody else having trouble running chef client (installed via knife bootstrap) from an open source chef-server on Ubuntu trusty 14.04?  I'm just getting started with chef but some basic operations break, e.g. creating a file from a template if it doesn't exist previously.  Same recipe worked fine on 12.04 hosts.  Several other issues cropped up too.
[2014-05-06 17:42:17 -0400] SFLimey_: I'm wondering if anyone has had any luck getting AWS Cloudformation working with a CentOS image. I can get them to spin up fine but can not get chef to deploy.
[2014-05-06 18:03:05 -0400] jperry: hi all, I have some nodes suffering from an empty run_list on the chef server
[2014-05-06 18:03:20 -0400] jperry: the first bootstrap run with chef works and has a correct run_list but is never recorded back to the chef server
[2014-05-06 18:03:32 -0400] jperry: the chef server is chef10.28.2 and the clients are 11.12.2
[2014-05-06 18:03:36 -0400] jperry: any ever experience this before?
[2014-05-06 18:04:29 -0400] mallu: xmltok_: any idea how to fix it?
[2014-05-06 18:04:37 -0400] xmltok_: mine worked on a rerun
[2014-05-06 18:05:28 -0400] mallu: I'm keep getting it... wondering why is chef-client checking hostnames?
[2014-05-06 18:08:29 -0400] Illusioneer: So looking at the Yum cookbook, there doesn't appear to be some recipe for running the yum update command
[2014-05-06 18:08:34 -0400] jbz: jperry: I was told a while back not to run 10 server with 11 clients - the other way was possible, but there would be problems with that mix
[2014-05-06 18:08:38 -0400] Illusioneer: Is that handled by some other cookbook?
[2014-05-06 18:08:46 -0400] jbz: jperry: but I can't give you specific references to incompatibilities. :-/
[2014-05-06 18:08:57 -0400] mallu: my host name is different than the common name on the SSL cert...
[2014-05-06 18:09:12 -0400] jperry: jbz: we have been running with this mix for awhile now and it has been fine
[2014-05-06 18:09:32 -0400] jperry: I have heard of it being a problem the other way around
[2014-05-06 18:10:19 -0400] jbz: jperry: Ah, ok.  The docs say they specifically worked to make server 11 api-compatible with 10. But there's nothing about the other way.
[2014-05-06 18:26:55 -0400] jtimberman: sauraus: https://github.com/opscode-cookbooks/dmg
[2014-05-06 18:26:59 -0400] jtimberman: shows 2.2.0
[2014-05-06 18:36:47 -0400] mallu: has anyone seen this? OpenSSL::SSL::SSLError: hostname does not match the server certificate
[2014-05-06 18:37:37 -0400] Majost: Does test kitchen not execute converge runs as root or via sudo??
[2014-05-06 18:41:07 -0400] vegardx: mallu: Using knife?
[2014-05-06 18:41:35 -0400] mallu: vegardx: no when running chef-client
[2014-05-06 18:41:55 -0400] mallu: chef-client ver 11.12.2
[2014-05-06 18:43:16 -0400] mallu: knife ssl check -c /etc/chef/client.rb is working fine so not sure why chef-client is giving this error
[2014-05-06 18:45:55 -0400] vegardx: Are you using Apache or Nginx to terminate SSL to the chef-server?
[2014-05-06 18:48:22 -0400] NukePuppy: does anyone have an article anywhere that compares various chef credential management options?
[2014-05-06 18:49:59 -0400] mallu: vegardx: I'm using nginx
[2014-05-06 18:50:14 -0400] vegardx: With SSL?
[2014-05-06 18:50:24 -0400] mallu: yes
[2014-05-06 18:50:35 -0400] vegardx: Then I'm pretty sure that your problem is there. Is the certificate self-signed?
[2014-05-06 18:50:41 -0400] mallu: so the issue is my host name is different than the common name on the cert
[2014-05-06 18:50:57 -0400] vegardx: Exactly.
[2014-05-06 18:51:05 -0400] mallu: we have our own CA
[2014-05-06 18:51:11 -0400] vegardx: You could go the easy way, and just not verify it, but that would be dumb.
[2014-05-06 18:51:12 -0400] vegardx: ssl_verify_mode    :verify_none
[2014-05-06 18:51:33 -0400] mallu: I've copied the CA cert to /etc/chef/trusted_certs
[2014-05-06 18:51:49 -0400] mallu: knife ssl check -c /etc/chef/client.rb is working fine
[2014-05-06 18:52:11 -0400] mallu: so not sure why chef-client is giving this error
[2014-05-06 18:52:27 -0400] vegardx: I'm not sure how Chef does it, but I'd think that you'd want to install it on your system properly.
[2014-05-06 18:52:35 -0400] vegardx: Are you using Debian or Ubuntu-derivate?
[2014-05-06 18:52:46 -0400] mallu: RHEL
[2014-05-06 18:52:50 -0400] mallu: centos
[2014-05-06 18:53:05 -0400] vegardx: Aha, then find the docs on how to install a CA on the system. In Debian you use the ca-certificates package.
[2014-05-06 18:53:27 -0400] vegardx: Ie. do it the right way, not the Chef-only way. I'm pretty sure OpenSSL only looks where it's supposed to look.
[2014-05-06 18:53:36 -0400] mallu: I thought chef comes with its own version of openSSL
[2014-05-06 18:53:46 -0400] vegardx: God, I hope not.
[2014-05-06 18:54:30 -0400] vegardx: Wouldn't surprise me though. :p
[2014-05-06 18:55:08 -0400] mallu: i see it here /opt/chef/embeded/ssl
[2014-05-06 18:55:49 -0400] vegardx: Try installing the CA properly, and see.
[2014-05-06 19:27:37 -0400] spheromak: anyone able to get chefspec/rspec to run right from chefdk ?
[2014-05-06 19:33:06 -0400] spheromak: guess ill wait for the next release of chefdk with chef exec
[2014-05-06 19:33:11 -0400] spheromak: or just setup the shell by hand
[2014-05-06 19:35:14 -0400] petracvv: hello, If i'm defining an attribute in terms of another attribute (for example,  default[:test] = {:hello => node[:other]} ) in one recipe and I override node[:other] in another cookbook that I add to the run_list, does node[:test] use the overriden attribute?
[2014-05-06 19:39:32 -0400] rpetty: anyone around, not seeing chat, using colloguy for first time
[2014-05-06 19:39:44 -0400] robbkidd: Here.
[2014-05-06 19:39:58 -0400] rpetty: danke
[2014-05-06 19:40:01 -0400] robbkidd: bitte
[2014-05-06 19:53:59 -0400] joco: I'm having a problem with getting execute and bash resource running as the user.  I've read issue chef-2288. and have ran the command using su -l which works on command line but hangs when ran from chef
[2014-05-06 19:54:29 -0400] joco: any ideas?
[2014-05-06 19:56:50 -0400] robbkidd: Not from me.
[2014-05-06 19:56:55 -0400] robbkidd: :(
[2014-05-06 19:57:10 -0400] thrain:  /msg thrainn_thrainn
[2014-05-06 20:10:22 -0400] joco: robbkidd - thanks anyway
[2014-05-06 20:22:35 -0400] davidordave: does anyone know of a community tool to proxy the cookbooks on a chef server and serve them up for berkshelf without requiring the client to have credentials for the chef server? I know supermarket is in the works, but I didn't know if this was a common enough use case that some already solved it (I feel like I saw something on the mailing list a while back, but I can't find it)
[2014-05-06 20:26:01 -0400] eratosthene: can anyone help me with knife-ec2 and VPC? i can't get it to work. every time i get this error: ERROR: Fog::Compute::AWS::NotFound: The subnet ID 'subnet-9fa885d9' does not exist
[2014-05-06 20:47:57 -0400] CPS: is it possible to create an encrypted data bag using only a password? or do you need a secretfile?
[2014-05-06 21:03:30 -0400] jscholl: I've got an odd issue I'm hoping someone can help with
[2014-05-06 21:04:59 -0400] jscholl: occasionally when a cookbook will try to send an action to a resource it will send it to the wrong resource, and sometimes it will even send it to the wrong resource type
[2014-05-06 21:07:46 -0400] jscholl: the most recent example I have is the community apt cookbook trying run 'apt-get update' via the 'apt-get-update' resource, but instead it hit a template
[2014-05-06 21:07:51 -0400] jscholl: [2014-05-06T20:37:54+00:00] INFO: package[update-notifier-common] sending run action to template[dpkg_autostart_file] (immediate)
[2014-05-06 21:22:03 -0400] martinisoft: Anyone around familiar with Mixlib::Cli?
[2014-05-06 21:24:53 -0400] sethvargo: @martinisoft ish. Whats up?
[2014-05-06 21:25:54 -0400] martinisoft: sethvargo: Doing something crazy with chef-dk :D Pushing up a PR now so you get some context.
[2014-05-06 21:26:42 -0400] martinisoft: sethvargo: https://github.com/opscode/chef-dk/pull/40
[2014-05-06 21:27:14 -0400] martinisoft: Very naiive set of changes since I am very unfamiliar with the wrapping of optparse.
[2014-05-06 21:28:11 -0400] martinisoft: The spec can use a cleanup too, but I cant even get it to recognize the option yet.
[2014-05-06 21:49:27 -0400] jeremyolliver: Has anyone been using buildilng omnibus projects on OS X with latest Xcode?
[2014-05-06 22:12:08 -0400] maplebed: If I set a node attribute to Ruby's boolean (true or false), can I find that node using chef search("node", "my_attr_tree:true") or will it bail because that expects the string 'true' rather than the boolean value true?
[2014-05-06 22:13:20 -0400] coderanger: It works fine
[2014-05-06 22:13:39 -0400] coderanger: true.to_s == 'true'
[2014-05-06 22:13:51 -0400] maplebed: \o/
[2014-05-06 22:13:56 -0400] maplebed: thanks.
[2014-05-06 22:53:52 -0400] coderanger: mmzyk: Now would be a good time to start rolling a chef-server release :)
[2014-05-06 22:58:36 -0400] rayrod2030: esolving opscode.com (opscode.com)... 184.106.28.82
[2014-05-06 22:58:37 -0400] rayrod2030: Connecting to opscode.com (opscode.com)|184.106.28.82|:80... failed: Connection timed out.
[2014-05-06 22:58:37 -0400] rayrod2030: Retrying.
[2014-05-06 22:58:39 -0400] rayrod2030: anybody seeing this?
[2014-05-06 22:58:56 -0400] digitalchild: works for me
[2014-05-06 23:14:53 -0400] AusChefNoob: Hello, having some problems getting my first ever chef install working properly
[2014-05-06 23:15:48 -0400] AusChefNoob: I have my server running, but my workbench knife install isn't playing with my chef server... nor can i bootstrap a windows node i have when i use knife locally on the chef server
[2014-05-06 23:15:56 -0400] gyre007____: ah didnt know Chef DK's chef gem installs gems into $HOME/.chefdk
[2014-05-06 23:16:09 -0400] AusChefNoob: unix admin here, new to administering windows environments
[2014-05-06 23:17:28 -0400] AusChefNoob: any help on trouble shooting this would be fantastic
[2014-05-06 23:17:52 -0400] AusChefNoob: im not using hosted chef... using stand alone chef-server on an RHL box
[2014-05-06 23:18:56 -0400] dtrott: AusChefNoob: I have never done an chef install on windows, but I might recommend trying to work through the chef tutorial on a Unix box first to find your way around,  if you have never done chef before.
[2014-05-06 23:19:13 -0400] AusChefNoob: well this is the thing
[2014-05-06 23:19:22 -0400] AusChefNoob: the tutorials don't cover RHL
[2014-05-06 23:19:49 -0400] AusChefNoob: i have managed to get the server running but its getting the chef client and knife to talk to the server and visa versa
[2014-05-06 23:21:02 -0400] dtrott: Again I would start simple and work up, I believe you can get a free chef enterprise account for up to 5 nodes so I would start there, once you can setup a client talking to their service migrate to your own, then migrate your client to windows (in short small baby steps to get to a working solution).
[2014-05-06 23:22:09 -0400] mee: anyone got advice on where to draw the line between provisioning and configuring? e.g. is it best practice to have chef do things like format and mount disks, or leave that to tools like cloud formation templates
[2014-05-06 23:22:09 -0400] AusChefNoob: kind of dont have time to.. ersh never mind
[2014-05-06 23:28:25 -0400] gyre007____: stupid question...knife ec2 create bootstraps OMNIBUS chef ?
[2014-05-06 23:28:39 -0400] gyre007____: *(apart from other things the command does)
[2014-05-06 23:29:05 -0400] doomviki1g: yeah
[2014-05-06 23:30:08 -0400] gyre007____: doomviking: that was and answer to my q ?
[2014-05-06 23:30:14 -0400] doomviking: yep
[2014-05-06 23:30:19 -0400] gyre007____: sweet!
[2014-05-06 23:30:36 -0400] gyre007____: one more stupid q
[2014-05-06 23:30:41 -0400] gyre007____: last one :-)
[2014-05-06 23:30:42 -0400] doomviking: it'll install the client version that you use
[2014-05-06 23:30:50 -0400] doomviking: locally
[2014-05-06 23:31:05 -0400] gyre007____: is there any way to specify a version ?
[2014-05-06 23:31:06 -0400] juliancdunn: mee: cloudformation will do things once, it won't keep them in that state, so if you care about that, Chef is a better option
[2014-05-06 23:31:23 -0400] juliancdunn: e.g. if you dismount a disk, CF won't know or care since it's long gone by then
[2014-05-06 23:31:31 -0400] gyre007____: im guessing I need omnibus.erb or something like that ?
[2014-05-06 23:31:56 -0400] gyre007____: in .chef/bootstrap ?
[2014-05-06 23:32:10 -0400] doomviking: theres probably a way to specify a version but I'm not sure
[2014-05-06 23:32:59 -0400] juliancdunn: you can specify bootstrap_version in your knife.rb
[2014-05-06 23:33:06 -0400] gyre007____: ah yeah
[2014-05-06 23:33:11 -0400] gyre007____: was just about to say that..
[2014-05-06 23:33:30 -0400] juliancdunn: or pass --bootstrap-version
[2014-05-06 23:33:32 -0400] juliancdunn: http://docs.opscode.com/knife_bootstrap.html
[2014-05-06 23:33:40 -0400] gyre007____: last q about ec2 plugin....
[2014-05-06 23:33:43 -0400] xmltok_: can i make search not break my test kitchen runs? things like the haproxy cookbook use them when i am working on a wrapper cookbook that uses app_lb
[2014-05-06 23:34:08 -0400] gyre007____: :aws_ssh_key_id and --identity-file specify the same thing ?
[2014-05-06 23:34:21 -0400] juliancdunn: xmltok_: what do you mean "break"
[2014-05-06 23:34:22 -0400] gyoza: no
[2014-05-06 23:34:40 -0400] gyre007____: xmltok_:
[2014-05-06 23:34:48 -0400] gyre007____: you running chef_solo ?
[2014-05-06 23:34:52 -0400] xmltok_: juliancdunn: http://pastebin.com/gnjBV9fb
[2014-05-06 23:35:03 -0400] xmltok_: yeah, chef_solo
[2014-05-06 23:35:10 -0400] xmltok_: should i switch the provisioner to zero?
[2014-05-06 23:35:16 -0400] juliancdunn: switch it to zero
[2014-05-06 23:35:20 -0400] gyre007____: defo!
[2014-05-06 23:35:29 -0400] xmltok_: thx
[2014-05-06 23:35:31 -0400] juliancdunn: there won't be any search results, but you don't care, it'll just converge
[2014-05-06 23:35:43 -0400] xmltok_: yep thats all i want, im not writing any dependencies on search results
[2014-05-06 23:35:57 -0400] gyre007____: now, I'm lazy to check the code..so
[2014-05-06 23:36:04 -0400] gyre007____: back to my question :-)
[2014-05-06 23:36:12 -0400] juliancdunn: (you could stub it with faked nodes passed to the chef-zero instance, if you really need results)
[2014-05-06 23:36:13 -0400] gyre007____: :aws_ssh_key_id and --identity-file specify the same thing ?
[2014-05-06 23:36:23 -0400] mee: juliancdunn: thanks, that's a useful heuristic.
[2014-05-06 23:36:35 -0400] juliancdunn: gyre007____: no, the former is the string that AWS knows your key as, and the latter is the SSH key pe
[2014-05-06 23:36:38 -0400] juliancdunn: pem
[2014-05-06 23:36:47 -0400] xmltok_: ok, a different converge error, this looks like ruby errors: http://pastebin.com/8LrK6PXb
[2014-05-06 23:37:36 -0400] gyre007____: juliancdunn: I thought the plugin looks for it in ~/.ssh/
[2014-05-06 23:37:40 -0400] gyre007____: given the string
[2014-05-06 23:37:59 -0400] juliancdunn: gyre007____: no, it's not that smart
[2014-05-06 23:38:17 -0400] gyre007____: so basically....key_id is just a string...not sure where is it used...but the identity-file is path to my keypair...
[2014-05-06 23:38:20 -0400] juliancdunn: xmltok_: that looks like... something is messed with the filesystem. maybe tear down the VM and start again?
[2014-05-06 23:38:25 -0400] xmltok_: will do
[2014-05-06 23:38:50 -0400] juliancdunn: gyre007____: key_id is the name of your key as known to Amazon
[2014-05-06 23:38:58 -0400] juliancdunn: e.g. for me, "us-east1-jdunn", whatever you called it in the console
[2014-05-06 23:39:32 -0400] juliancdunn: *maybe* identity-file now tries to find one's pem, I'm not sure, because I use ssh-agent to avoid that nonsense
[2014-05-06 23:39:49 -0400] gyre007____: i see
[2014-05-06 23:47:01 -0400] jscholl: has anyone seen issues where a resource that tries to notify another will send the notification to the wrong resource?  i.e. the community apt cookbook trying to execute the 'apt-get-update' resource ends up trying to send the 'run' action to a template with a totally different name instead.
[2014-05-06 23:53:09 -0400] martinisoft: Could use some help on this PR in Chef DK if you have any knowledge of Mixlib::CLI https://github.com/opscode/chef-dk/pull/40
