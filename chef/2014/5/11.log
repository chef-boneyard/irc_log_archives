[2014-05-11 05:01:30 -0400] Senjai: Hello, I'm looking to learn how to use chef solo to set up a single vps. Documents on chef solo seem scarece though, does anyone have any recommendations?
[2014-05-11 05:29:30 -0400] juergenb: anybody here aware of any issues with installing rubinius through the rbenv cookbook on an ubuntu machine? can't seem to install any gems...
[2014-05-11 05:51:34 -0400] Senjai: When I use pass in action :delete! (originally I thought it was remove) I get an error saying its invalid. How do I get the functionality of remove for the chef recipe? See https://gist.github.com/Senjai/745ac940684d6d629801
[2014-05-11 05:52:39 -0400] double_p: Senjai: remove the '!' :}
[2014-05-11 05:54:20 -0400] Senjai: double_p: derp. The error message lead me to believe it was a ! at the end
[2014-05-11 05:54:24 -0400] Senjai: double_p: Thank you
[2014-05-11 05:54:50 -0400] Senjai: I'm also using knife solo, for personal projects, is there any reason to use the server/client model? Or is it considered okay if you're going to have just one or two servers for an app
[2014-05-11 05:56:39 -0400] double_p: chef-solo was made for that.. some complex cookbooks might not work (or only with workaround), but to start the journey it's ok
[2014-05-11 06:00:12 -0400] Senjai: Cool stuff
[2014-05-11 07:09:18 -0400] kisoku: double_p: you do chef stuffz now ?
[2014-05-11 07:09:25 -0400] kisoku: <- msf
[2014-05-11 07:10:32 -0400] double_p: kisoku: hey.. well, using it at work
[2014-05-11 07:21:09 -0400] bricker`LA: I'm setting a default attribute on a node A from node B. When chef-client is run on node A, that attribute is removed. Why is this happening?
[2014-05-11 07:23:50 -0400] kisoku: bricker`LA: uh. how are you getting the data for node A ?
[2014-05-11 07:24:00 -0400] kisoku: a search ?
[2014-05-11 07:24:03 -0400] bricker`LA: kisoku: via search
[2014-05-11 07:24:05 -0400] bricker`LA: yeah
[2014-05-11 07:24:19 -0400] kisoku: and the object you wind up with is a Chef::Node ?
[2014-05-11 07:24:24 -0400] bricker`LA: and then `n.default['attribute'] = "value"; n.save`
[2014-05-11 07:24:41 -0400] kisoku: so yeah. node b has an admin client ?
[2014-05-11 07:24:43 -0400] bricker`LA: kisoku: yeah. It saves the attribute fine, but when chef-client is then run on that node, it disappears
[2014-05-11 07:25:08 -0400] kisoku: that doesn't surprise me at all
[2014-05-11 07:25:21 -0400] kisoku: some other cookbook is probably setting the defaul
[2014-05-11 07:25:43 -0400] bricker`LA: The attribute is "private_ipaddress" in case that's relevant
[2014-05-11 07:25:44 -0400] kisoku: you should probably set it to normal or an override
[2014-05-11 07:26:25 -0400] kisoku: the whole thing sounds pretty fugly if you ask me :)
[2014-05-11 07:26:31 -0400] bricker`LA: kisoku: tell me about it :(
[2014-05-11 07:26:40 -0400] bricker`LA: kisoku: trying to setup DHCP hosts for a VPN gateway
[2014-05-11 07:26:41 -0400] kisoku: but that's just my opinion
[2014-05-11 07:26:49 -0400] bricker`LA: kisoku: it's a messy situation
[2014-05-11 07:29:52 -0400] kisoku: yeah. don't use default
[2014-05-11 07:30:38 -0400] double_p: http://docs.opscode.com/chef_overview_attributes.html#attribute-precedence
[2014-05-11 07:32:24 -0400] bricker`LA: There is this sort-of chicken/egg situation... The VPN needs the node's mac address and private IP to setup a DHCP host for the VM. But the node won't have the mac address attribute until it's been turned on and "chef-client" has been run.
[2014-05-11 07:33:19 -0400] bricker`LA: Ideally I want to be able to just set a "private_ip" attribute on a node, then boot up the VM and have it be added to the VPN's dhcp hosts
[2014-05-11 07:34:14 -0400] bricker`LA: Before we were using a databag to store the mac/IP information, but that was annoying because the mac address had to be manually typed in for every VM
[2014-05-11 07:44:13 -0400] Malkav: Hi everyone.
[2014-05-11 07:44:40 -0400] Malkav: I'm using knife solo to configure my node
[2014-05-11 07:45:55 -0400] Malkav: But when I run knife solo prepare root@server I get this: https://gist.github.com/anonymous/03fb44dd144f9dac3c32
[2014-05-11 09:09:39 -0400] juergenb: anybody here aware of any issues with installing rubinius through the rbenv cookbook on an ubuntu machine? can't seem to install any gems...
[2014-05-11 14:07:12 -0400] brauliobo_: i finally quit apache because of this cookbook issue and a long desire to go to nginx
[2014-05-11 14:07:17 -0400] brauliobo_: the time has come
[2014-05-11 14:09:16 -0400] brauliobo_: someara:
[2014-05-11 15:09:59 -0400] AlephBeth: wesome
[2014-05-11 16:09:42 -0400] bashel: I am trying to set up a nodejs box using vagrant/chef/librarian and would like to install a few npm modules globally when the box spins up. Is the best way to do this to create my own cookbook that uses 'execute' to run the installs or is there a preferable way of doing this?
[2014-05-11 17:41:41 -0400] gyre007_: anyone here uses guard with ChefDK ?
[2014-05-11 18:03:03 -0400] _jab_: amazing many people in here..wow
[2014-05-11 18:04:07 -0400] _jab_: Got a concept question, did see the two hangouts and tutorial modules, but still am not sure if what I try to do is really that new.
[2014-05-11 18:05:56 -0400] _jab_: I have four mashines that can be used for test1 and test2. The two tests are exclusive (managed to create a cookbook to check that). I want to give the users 5 commands (setup_env_forTest1, setup_env_forTest2, stopTest1, stopTest2, shutdownServers).
[2014-05-11 18:06:43 -0400] _jab_: My initial idea was to make each test setup an environment, but didn't find a way to set roles to nodes from the environment description.
[2014-05-11 18:07:53 -0400] _jab_: I saw to make roles environment dependent, but dislike to have the two test groups "sharing a roles file" (or databag) - as they should not see each others configuration.
[2014-05-11 18:08:20 -0400] _jab_: What am I missing ? Or did I misunderstand (environment, roles and data bags) ?
