[2012-11-29 00:30:04 -0500] paigeat: I did the pull request in a pretty retarded way but: https://github.com/paigeadele/php-cloudfiles/commit/ac2e0ebb98258be72badeb5b804633ce0803501e#commitcomment-2223391 at least they know about it
[2012-11-29 00:33:17 -0500] paigeat: there is this http://www.rackspace.com/knowledge_center/comment/46492#comment-46492 but who knows when thats gonna be or if they'll even get it right
[2012-11-29 01:09:04 -0500] zuhaib: Hey anyone around with Chef 11 knowledge?  For client will ruby 1.8 still be supported
[2012-11-29 01:11:04 -0500] miah: what benefit do you get from running it on ruby 1.8?
[2012-11-29 01:15:32 -0500] rafaelmagu: How do chefs here prefer to format a drive within a recipe?
[2012-11-29 01:15:35 -0500] rafaelmagu: Bash block?
[2012-11-29 01:15:40 -0500] rafaelmagu: Or is there a recipe for it?
[2012-11-29 01:15:52 -0500] miah: i started building chef_mkfs.. didn't finish it =)
[2012-11-29 01:15:59 -0500] rafaelmagu: Ah
[2012-11-29 01:16:04 -0500] rafaelmagu: That would have come in handy
[2012-11-29 01:16:19 -0500] rafaelmagu: I want to attach an EBS volume and format it
[2012-11-29 01:16:31 -0500] rafaelmagu: The attaching is easy, with the aws recipe
[2012-11-29 01:17:13 -0500] miah: ya. i hate script resources though. so i would try to avoid them.
[2012-11-29 01:17:54 -0500] rafaelmagu: Finish your cookbook, then
[2012-11-29 01:17:55 -0500] rafaelmagu: :P
[2012-11-29 01:18:10 -0500] miah: i have over 9000 things to do today.
[2012-11-29 01:18:16 -0500] miah: maybe. depends on how late i stay up.
[2012-11-29 01:18:28 -0500] zuhaib: miah: no benefit but understanding whats the lowest common denominator
[2012-11-29 01:19:13 -0500] miah: zuhaib: ah. i suspect they'll support 1.8 a while longer but will prefer you to be using omnibus.
[2012-11-29 01:19:59 -0500] zuhaib: hum ok looks like I need to invest some time in getting our bootstrap script to support the new omnibus installer
[2012-11-29 01:30:22 -0500] zuhaib: thanks for the help
[2012-11-29 01:45:42 -0500] tolland: probably lots of  old centos 5.x floating about
[2012-11-29 01:47:25 -0500] l1x: hey
[2012-11-29 01:47:34 -0500] l1x: have you seen this issue with openssh yet? https://gist.github.com/4166227
[2012-11-29 01:47:43 -0500] l1x: i included the code which throws is at the top
[2012-11-29 01:50:00 -0500] Majost: How do I correctly call 'users_manage' in a recipe, right now I get the following error: Chef::Exceptions::RecipeNotFound: could not find recipe default for cookbook users
[2012-11-29 01:50:32 -0500] Majost: should I be augmenting the users cookbook with the recipe I require?
[2012-11-29 02:35:08 -0500] sunil_: when using application_ruby cookbook..it seems like lwrp rails or ruby isn't working..anyone know if its changed?
[2012-11-29 02:35:21 -0500] sunil_: getting this error.  cannot find a resource for rails
[2012-11-29 02:36:31 -0500] sunil_: I am including application and application_ruby in the metadata and app is cloning from github..anyone seen this behavior?
[2012-11-29 03:28:26 -0500] rafaelmagu: What is the proper way of detecting if a node is running in ec2 or not?
[2012-11-29 03:28:34 -0500] rafaelmagu: node["ec2"] doesn't return anything
[2012-11-29 03:33:14 -0500] LanyonM_: rafaelmagu: node["ec2"]["instance_id"] would return a value if the node is running in ec2, but I dono if that's the right way
[2012-11-29 03:33:48 -0500] rafaelmagu: LanyonM_: it isn't returning for me in shef -z
[2012-11-29 03:33:53 -0500] rafaelmagu: This is a new instance
[2012-11-29 03:33:58 -0500] rafaelmagu: node["ec2"] is blank
[2012-11-29 03:34:09 -0500] rafaelmagu: It's a VPC instance, but I don't think there's any difference in that regard
[2012-11-29 03:34:24 -0500] LanyonM_: there's also node["cloud"]["provider"], but I'm unsure if that would be set until the initial run saves node data
[2012-11-29 03:35:16 -0500] rafaelmagu: Hmm
[2012-11-29 03:35:20 -0500] rafaelmagu: That's probably why it's missing
[2012-11-29 03:35:29 -0500] rafaelmagu: I'm trying to bootstrap it
[2012-11-29 03:35:34 -0500] rafaelmagu: So no node data saved yet
[2012-11-29 03:36:38 -0500] rafaelmagu: does node["ec2"] only become available if I have the ec2 cookbook in the runlist?
[2012-11-29 03:37:46 -0500] LanyonM_: it should appear without the ec2 cookbook, yes
[2012-11-29 03:38:07 -0500] rafaelmagu: strange, then
[2012-11-29 03:38:22 -0500] rafaelmagu: not showing up for me
[2012-11-29 03:38:53 -0500] LanyonM_: for context, I'm reviewing my node attributes via Hosted Chef for nodes running in ec2
[2012-11-29 03:39:31 -0500] LanyonM_: I haven't used shef much yet
[2012-11-29 03:40:16 -0500] rafaelmagu: just an irb shell with chef extensions loaded, really
[2012-11-29 03:40:25 -0500] rafaelmagu: ohai should be setting up node["ec2"]
[2012-11-29 03:46:52 -0500] rafaelmagu: yeah, node["ec2"] is definitely nil on all my VPC instances
[2012-11-29 03:48:56 -0500] rafaelmagu: guess I'll have to use the dirty method of checking node['virtualization']['system'] for 'xen'
[2012-11-29 04:05:04 -0500] juliancdunn: afaik, there's some Ohai bug that prevents population of that attribute
[2012-11-29 04:05:13 -0500] rafaelmagu: Yeah
[2012-11-29 04:05:15 -0500] rafaelmagu: Seems to be
[2012-11-29 04:05:25 -0500] juliancdunn: we have found the need to create an ohai hints file on EC2 boxes
[2012-11-29 04:05:25 -0500] rafaelmagu: Resorted to using the node['virtualization'] for now
[2012-11-29 04:05:39 -0500] rafaelmagu: juliancdunn: got examples?
[2012-11-29 04:06:01 -0500] juliancdunn: yeah, I create an empty JSON document ("{}") in /etc/chef/ohai/hints/ec2.json
[2012-11-29 04:06:31 -0500] juliancdunn: then if you run Ohai, it'll force node['ec2'] to be populated, and also all the wacky internal/external AWS IP address fields
[2012-11-29 04:09:12 -0500] rafaelmagu: juliancdunn: interesting
[2012-11-29 04:09:40 -0500] rafaelmagu: juliancdunn: but ohai gets called at the start of a chef run, right? So I won't be able to drop the file then access the attributes in the same run
[2012-11-29 04:11:33 -0500] juliancdunn: no
[2012-11-29 04:11:43 -0500] juliancdunn: what I do is create the file on node bootstrap
[2012-11-29 04:11:53 -0500] rafaelmagu: Ah, right
[2012-11-29 04:15:40 -0500] rafaelmagu: Brilliant!
[2012-11-29 04:15:49 -0500] rafaelmagu: bloody ohai, messing with my plans
[2012-11-29 04:15:50 -0500] rafaelmagu: :D
[2012-11-29 04:16:03 -0500] rafaelmagu: Added this hint to my bootstrap code, thanks@!
[2012-11-29 04:19:11 -0500] martinisoft: Anyone know if I have my ticket in the right state to get reviewed? http://tickets.opscode.com/browse/OHAI-418
[2012-11-29 04:19:49 -0500] spox: martinisoft: yep :)
[2012-11-29 04:20:02 -0500] martinisoft: cool, just checking
[2012-11-29 05:59:10 -0500] nautical9: anyone know the best way to have 'knife ssh' run in batches?
[2012-11-29 05:59:39 -0500] nautical9: There's a knife-batch plugin, but it looks old and won't even 'gem install' for me
[2012-11-29 06:00:36 -0500] nautical9: before I dig in to see if it's salvageable, but wanted to check if there's a better way
[2012-11-29 06:10:20 -0500] nautical9: or, I could just read the freakin' docs and finally notice the -C flag to knife ssh that limits concurrent connections.
[2012-11-29 06:39:24 -0500] dkannan: i am using http://berkshelf.com/ and it installs the cookbooks with a version number. ie. http://pastie.org/private/3liqykwatp8wnfg7pmwmig
[2012-11-29 06:39:43 -0500] dkannan: how do i specify the cookbook_paths after running "berks install"
[2012-11-29 07:08:38 -0500] dkannan: got it, BERKSHELF_PATH=vendor bundle exec berks install --path vendor/cookbooks
[2012-11-29 07:09:15 -0500] dkannan: created a wiki at https://github.com/RiotGames/berkshelf/wiki/vendorizing-cookbooks
[2012-11-29 08:19:12 -0500] mio: I have modified my override_attributes in a role but when chef_client runs the nodes attributes are not being update. I tried to remove the node and bootstrap it again but i keep getting the old attributes. what am i missing?
[2012-11-29 08:58:36 -0500] aruntomar: mio: paste the code
[2012-11-29 09:00:35 -0500] mio: cookbooks code (jenkins cookbook):
[2012-11-29 09:00:42 -0500] mio: node[:jenkins][:server][:plugins].each do |name|   remote_file "#{node[:jenkins][:server][:home]}/plugins/#{name}.hpi" do     source "#{node[:jenkins][:mirror]}/plugins/#{name}/latest/#{name}.hpi"     backup false         owner node[:jenkins][:server][:user]     group node[:jenkins][:server][:group]     action :create_if_missing   end                end
[2012-11-29 09:01:36 -0500] mio: role code:
[2012-11-29 09:02:22 -0500] mio: override_attributes "jenkins" => { "server" => {"home" => "/xxx/xxxx",              "user" => "xxxxx",              "group" => "xxxxx",              "plugins" => [                     "ant",                     "subversion", ...]
[2012-11-29 09:02:48 -0500] z: mio: gist.github.com
[2012-11-29 09:02:59 -0500] z: mio: because IRC sucks for pasting stuff in :-)
[2012-11-29 09:08:57 -0500] aruntomar: mio: you should be pasting the code to either gist or pastebin.
[2012-11-29 09:10:25 -0500] aruntomar: mio: can you paste it to gist or pastebin and provide the link, text is converted here to smiley etc
[2012-11-29 09:13:29 -0500] mio: gist: 4167739
[2012-11-29 09:15:11 -0500] mio: I use the jenkins cookbook. looking for the github link, sec
[2012-11-29 09:15:50 -0500] aruntomar: mio: dear mio, plz paste the http link that's on the browser after you've pasted the code there.
[2012-11-29 09:16:07 -0500] mio: recipe: https://github.com/heavywater/chef-jenkins/blob/develop/recipes/default.rb
[2012-11-29 09:16:21 -0500] mio: https://gist.github.com/4167739
[2012-11-29 09:16:47 -0500] aruntomar: mio: thank u, will look at the code and try to help u out
[2012-11-29 09:16:55 -0500] mio: 10x
[2012-11-29 09:23:43 -0500] aruntomar: mio: although it's a partial code, looks like code is fine. run "chef-client -l debug" and see what's happening
[2012-11-29 09:24:17 -0500] aruntomar: mio: also i assume that you've put the jenkins cookbook in the run_list
[2012-11-29 09:28:22 -0500] mio: I tried the debug. got some errors on loading ohai plugins. is this related? rest of the log looks fine. i cant find out where the node attributes are being built.
[2012-11-29 09:30:19 -0500] mio: I verified via the webui that the updated role is in the server and in the nodes runlist.
[2012-11-29 09:37:27 -0500] aruntomar: mio: knife node edit <node_name> -e vim , run this command from a workstation and see check the values of attributes
[2012-11-29 09:40:16 -0500] mio: I get no attributes. only the runlist.
[2012-11-29 09:40:54 -0500] mio: I did checked the attribute in the webui. the node got the wrong attribute. the one before the update
[2012-11-29 09:43:17 -0500] mio: Some more info: this attribute used to be default_attributes in the role. I changed it to be override_attributes some time ago.
[2012-11-29 09:44:20 -0500] mio: is there a way to reset node attribute? to make sure i start with "clean" node?
[2012-11-29 09:55:40 -0500] dkannan: hi. i cannot get 'only_if' to work with attributes
[2012-11-29 09:56:08 -0500] dkannan: in http://pastie.org/private/pxr4r9efu5jzypw6w1qxrg line 29 does not work but 58 works
[2012-11-29 09:59:09 -0500] dkannan: can someone explain what is happening. chef log says that the value is true but chef still ignores it. log is at http://pastie.org/private/rhsht9ft4g8ulao78q
[2012-11-29 10:04:52 -0500] erikh: dkannan: what does node['users']['names'] look like, and what version of ruby?
[2012-11-29 10:12:04 -0500] AikiLinux: are variables defined within a search loop can be used outside the scope of that loop ?
[2012-11-29 10:12:54 -0500] dkannan: erikh: http://pastie.org/private/by04rfozfo1awuqpbvlxtq
[2012-11-29 10:13:24 -0500] dkannan: erikh: the node.users.name is as on the pastie
[2012-11-29 10:13:30 -0500] erikh: yeah
[2012-11-29 10:13:37 -0500] erikh: let me look at it again; that should work
[2012-11-29 10:13:46 -0500] dkannan: ruby version is 1.9.3p327
[2012-11-29 10:14:11 -0500] erikh: ah yep
[2012-11-29 10:14:15 -0500] erikh: try conf[:sudo]
[2012-11-29 10:14:30 -0500] erikh: shouldn't matter, but give it a shot anyway
[2012-11-29 10:15:15 -0500] erikh: oh, nevermind. you checked that already
[2012-11-29 10:15:27 -0500] erikh: that really should work.
[2012-11-29 10:16:48 -0500] erikh: I'm going to guess something else is going on here -- can you just try putting a literal true in there and seeing if it does what you expect it to?
[2012-11-29 10:17:40 -0500] dkannan: erikh: ah. ok
[2012-11-29 10:18:23 -0500] dkannan: erikh: literal true worked
[2012-11-29 10:18:36 -0500] dkannan: i am using chef-solo. will that make a difference ?
[2012-11-29 10:20:17 -0500] shraddha: hi der
[2012-11-29 10:20:39 -0500] shraddha: is der any way in chef to copy or replace existing folder??
[2012-11-29 10:20:45 -0500] shraddha: any receipe...
[2012-11-29 10:21:02 -0500] shraddha: i found onle for create and delete
[2012-11-29 10:21:04 -0500] shraddha: :(
[2012-11-29 10:21:18 -0500] erikh: dkannan: shouldn't, unless the node meta is being changed during the run
[2012-11-29 10:21:40 -0500] erikh: then it might get, eh, weird.
[2012-11-29 10:29:37 -0500] dkannan: erikh: thanks. will create a bug
[2012-11-29 10:33:23 -0500] shraddha: is der any way in chef to copy or replace existing folder??
[2012-11-29 10:34:59 -0500] dkannan: shraddha: there is http://wiki.opscode.com/display/chef/Resources#Resources-RemoteDirectory
[2012-11-29 10:35:16 -0500] dkannan: shraddha: and http://wiki.opscode.com/display/chef/Resources#Resources-CookbookFile
[2012-11-29 10:36:17 -0500] dkannan: shraddha: to run an adhoc command can use. http://wiki.opscode.com/display/chef/Resources#Resources-Execute
[2012-11-29 10:38:28 -0500] dkannan: directory supporting only supporting create and delete seem to be by design. why not move or delete ?
[2012-11-29 10:40:48 -0500] shraddha: no actualy i want to keep original docs
[2012-11-29 10:40:54 -0500] shraddha: datsy cant do move
[2012-11-29 11:00:40 -0500] dkannan: this time i put the log inside the only_if block. And it is weird
[2012-11-29 11:00:42 -0500] dkannan: http://pastie.org/private/ukor4unim8nrveiemtatcw
[2012-11-29 11:01:18 -0500] dkannan: line 25-26 and 29-30. what am i doing wrong ?
[2012-11-29 11:37:39 -0500] lsolesen: When trying this recipe: https://github.com/lsolesen/boa-vagrant/blob/master/cookbooks/barracuda/recipes/default.rb, I get the following error: https://github.com/lsolesen/boa-vagrant/issues/1. It seems that the #{boa_user} is not substituted correctly.
[2012-11-29 11:37:44 -0500] lsolesen: What am I doing wrong?
[2012-11-29 11:38:28 -0500] dkannan: got it. had to define a resource per user. http://pastie.org/private/drhvywws8mimu7ljnpdu1g
[2012-11-29 11:41:02 -0500] mattp: lsolesen: your command string needs to be quoted with "" not '' else it won't interpolate
[2012-11-29 11:43:21 -0500] lsolesen: mattp: I tried that earlier, but will try it again.
[2012-11-29 12:20:46 -0500] railsraider: i have a normal attribute set on all nodes, how can i pull and merge all into one array?
[2012-11-29 12:21:12 -0500] railsraider: "icinga":{ "host_groups":["base", "app-server", "pre-production"]}
[2012-11-29 12:21:25 -0500] railsraider: on a nother node there will be other groups
[2012-11-29 12:24:32 -0500] kraM: Hey guys, assumption: Installed the chef-server-webui and started it with defaults (web_ui_admin_user_name and web_ui_admin_default_password). Changed those settings in the server config file, restarted the webui, still defaults work, new settings not. How to fix that? It feels like "configured users when initialy starting the service persist".
[2012-11-29 12:29:19 -0500] kraM: railsraider: Your command in line 39 is encapsulated in single quotes which disables variable expansion.
[2012-11-29 12:30:15 -0500] kraM: Should be: command "ssh-keygen -b 4096 -t rsa -N '' -f /path/to/o#{boa_user}/.ssh/id_rsa"
[2012-11-29 12:30:44 -0500] kraM: Eh.
[2012-11-29 12:30:55 -0500] kraM: lsolesen: Meant you. Not railsraider. srz
[2012-11-29 12:31:35 -0500] kraM: Whatever. Any hints to the web_ui_admin_user_name/web_ui_admin_default_password- thingy?
[2012-11-29 12:33:06 -0500] lsolesen: kraM: I fixed this here https://github.com/lsolesen/boa-vagrant/commit/c112a172ded55fbbc713a620de68b762710b6ae8. And right now I am rerunning, but I also had the problem before. I will let you know as soon as it build the server.
[2012-11-29 12:33:34 -0500] kraM: Ya, should do it.
[2012-11-29 12:44:16 -0500] lsolesen: kraM: I seemed to work. How can one alter the /etc/hosts file using chef, so I can get aegir.local to resolve?
[2012-11-29 13:03:42 -0500] maddoc: Sorry for asking a stupid question, but what is the fastest way to spin up a chef-server on centos? I know about the chef-server cookbook, but would be awesome with just a bunch of commands to run from a clean default installation of centos (including getting chef-solo installed, cloning repos etc).
[2012-11-29 13:05:59 -0500] lsolesen: Is there a way to change user on a mounted share?
[2012-11-29 13:06:38 -0500] lsolesen: Or how will I make sure that my user has write permissions to the folder, when using other users than vagrant:vagrant
[2012-11-29 13:14:43 -0500] maddoc: Found http://jtimberman.housepub.org/blog/2012/11/17/install-chef-10-server-on-centos/ so nvm.
[2012-11-29 13:40:15 -0500] masterkorp: hello chefs
[2012-11-29 13:51:10 -0500] jflowers: hello
[2012-11-29 13:51:33 -0500] jflowers: I need to install 7zip on some Centos boxes
[2012-11-29 13:51:50 -0500] jflowers: to do that I need to configure a new yum repo
[2012-11-29 13:52:17 -0500] jflowers: I have found instruction on how to do this from the shell: http://tosbourn.com/2011/02/linux/yum-not-installing-7zip/
[2012-11-29 13:53:04 -0500] jflowers: I am not sure how to translate these into yum resources
[2012-11-29 13:53:21 -0500] jflowers: can anyone point me in the right direction?
[2012-11-29 13:54:20 -0500] Afterglow: jflowers: http://community.opscode.com/cookbooks/yum specifically the repository lwrp
[2012-11-29 13:54:57 -0500] masterkorp: jflowers: after that you should just use package "7zip" and magic
[2012-11-29 14:10:20 -0500] dkannan: how do i contribute to http://docs.opscode.com/ ?
[2012-11-29 14:11:41 -0500] dkannan: wanted to edit the docs for git. http://docs.opscode.com/chef/resources.html#id94
[2012-11-29 14:24:01 -0500] masterkorp: Is possible to have a required field not be mandatory if the other field is supplied instead on a LWRP ?
[2012-11-29 14:25:58 -0500] jflowers: so I am still trying to get this yum repo added
[2012-11-29 14:26:31 -0500] jflowers: the manual instructions have you download an rpm and install it to configure yum
[2012-11-29 14:27:02 -0500] jflowers: I am not sure how to translate that in the yum_repository url field
[2012-11-29 14:28:04 -0500] jflowers: this is for the repo rpmforge
[2012-11-29 14:28:22 -0500] jflowers: anyone know the url and key for that repo?
[2012-11-29 14:29:47 -0500] jtimberman: maddoc: that post is essentially reposting the minimal set of commands from the wiki :)
[2012-11-29 14:29:58 -0500] masterkorp: jflowers: http://wiki.opscode.com/display/chef/Resources#Resources-RemoteFile
[2012-11-29 14:30:22 -0500] jtimberman: next version of Chef (11) the server is going to be much more simple to install (single package, unified configuration)
[2012-11-29 14:30:48 -0500] masterkorp: jflowers: the use package "7zip" do source "where_you_downloaded_the_rpm" end
[2012-11-29 14:32:56 -0500] masterkorp: jtimberman: hey, do you have online available yard doc of chef ?
[2012-11-29 14:33:07 -0500] masterkorp: nvm i will generate it myself
[2012-11-29 14:45:05 -0500] meineerde: masterkorp: just use rubydoc.info, as for any ruby source available on github.
[2012-11-29 14:45:10 -0500] meineerde: masterkorp: in this case http://rubydoc.info/github/opscode/chef/master/frames
[2012-11-29 14:45:56 -0500] masterkorp: meineerde: that is sweet
[2012-11-29 14:46:19 -0500] masterkorp: Can a LWRP be child of another LWRP ?
[2012-11-29 14:46:40 -0500] masterkorp: Can i set it using the abstart LWRP definition method ?
[2012-11-29 14:48:26 -0500] jespada: is there  a resource/lwrp for managing ftp connections ? like remote_file ?
[2012-11-29 14:49:45 -0500] masterkorp: Well i guess i need to convert this to a library
[2012-11-29 14:51:01 -0500] meineerde: jespada: you can use remote_file to retrieve files from an ftp server
[2012-11-29 14:52:43 -0500] jespada: meineerde, tried that.. but got an error.. (had an error: Net::HTTPBadResponse: wrong status line: "220-Bienvenue,"...) need to dig a bit more on that
[2012-11-29 14:53:39 -0500] meineerde: jespada: well, you need to specify an ftp url of course, not an http one...
[2012-11-29 14:54:02 -0500] meineerde: something like ftp://user:password@server/file/to/download
[2012-11-29 14:54:12 -0500] jespada: meineerde, yup.. did that exactly like that
[2012-11-29 14:55:27 -0500] jespada: meineerde, tks anyway
[2012-11-29 14:55:38 -0500] meineerde: meh, okay iirc it used to use ruby's open-uri but aparently chef switched to something http only
[2012-11-29 14:55:49 -0500] meineerde: i.e. Chef::REST
[2012-11-29 14:57:34 -0500] jespada: meineerde, gotcha thanks :) will work around that..
[2012-11-29 14:57:42 -0500] meineerde: jespada: hmmm, seems I am mistaken there too. it always used Chef::REST. and there is even a ticket for that. http://tickets.opscode.com/browse/CHEF-1031
[2012-11-29 14:59:29 -0500] jespada: meineerde, seems like I can help there.. will what can I do.. in the meanwhile I need to gtd with this "issue" so probably end up using execute or something like that..:(
[2012-11-29 15:05:17 -0500] cassianoleal: hi! is there any way to make a Vagrant VM self-delete from the Chef server when it terminates?
[2012-11-29 15:12:23 -0500] m4rcu5: wow, it never occoured to me that you cant upload a cookbook without dependencies 0_0
[2012-11-29 15:16:23 -0500] jtimberman: masterkorp: you *can* have "sub-resources", or LWRPs in LWRPs. That is what the application, application_ruby et al do.
[2012-11-29 15:18:08 -0500] masterkorp: jtimberman: https://github.com/opscode-cookbooks/application_ruby/blob/master/resources/rails.rb#L21
[2012-11-29 15:18:12 -0500] masterkorp: this ?
[2012-11-29 15:19:07 -0500] nautical9: is it possible to create an identical client on one chef server from another?
[2012-11-29 15:19:57 -0500] nautical9: something like "knife client show username -Fj > username.json" to grab the name & pubkey
[2012-11-29 15:20:26 -0500] nautical9: and then "knife client create from file username.json" - but it appears knife client doesn't have the "from file" functionality
[2012-11-29 15:20:51 -0500] nautical9: and I don't see any options to set the pub key - it always regenerates a new one
[2012-11-29 15:22:06 -0500] yfeldblum: nautical9, possible, by messing around with couchdb and solr; but there's no api for it
[2012-11-29 15:22:23 -0500] jtimberman: masterkorp: thats part of it.
[2012-11-29 15:22:38 -0500] jtimberman: masterkorp: note that i didn't write any of that so i'm not familiar with the code base or how it works :)
[2012-11-29 15:22:58 -0500] masterkorp: i am kinda confused
[2012-11-29 15:23:17 -0500] jtimberman: server error!
[2012-11-29 15:23:27 -0500] nautical9: yfeldblum: bummer, but thanks. I'm using v11 so I know I could mess with the clients table in the DB backend, but that just sounds gross
[2012-11-29 15:24:11 -0500] jtimberman: masterkorp: that comes from application/libraries/default.rb, line 44
[2012-11-29 15:24:53 -0500] jtimberman: oops, line 46, my local clone was stale :)
[2012-11-29 15:35:09 -0500] Guest87255: Why I keep getting this error when I run chef in amazon linux
[2012-11-29 15:37:25 -0500] nautical9: yfeldblum: I wonder if there's a hacky way to do it through "knife client edit", which does seem to allow you to modify the pub key - the trick would be using "ed" or something with the proper commands to automatically change it (ugh).
[2012-11-29 15:38:11 -0500] meineerde: Guest87255: Solar flares, definitely.
[2012-11-29 15:38:13 -0500] nautical9: I'm probably barking up the wrong tree and should just figure out a cleaner way to easily switch between different configs and keys
[2012-11-29 15:39:12 -0500] yfeldblum: nautical9, no that just lets you ask for a new keypair from the server (it generates a new keypair), not assign a new pubkey
[2012-11-29 15:40:22 -0500] yfeldblum: nautical9, sounds like an XY Problem (http://meta.stackoverflow.com/questions/66377/what-is-the-xy-problem)
[2012-11-29 15:40:42 -0500] nautical9: oh - strange - it does let me edit the pub key in the raw json - and appears to "save" the user, but the old key still works.
[2012-11-29 15:42:02 -0500] nautical9: yfeldblum: ha - fair enough - I'm trying to run multiple chef servers for dev, staging, prod (for several reasons I've found the environments in chef to be lacking)
[2012-11-29 15:43:04 -0500] nautical9: yfeldblum: and I want to be able to have admin clients and nodes to flip between servers very easily - using just the -s URL flag, for example.
[2012-11-29 15:44:24 -0500] nautical9: it's probably not much harder to manage multiple knife.rb configs the same way, so maybe it's not a big deal - that's the road I'll go down next.  just wanted to make sure the key route wasn't easier.
[2012-11-29 15:45:43 -0500] nautical9: yfeldblum: thanks for your help - greatly appreciated
[2012-11-29 15:47:03 -0500] F: I'm having this error for days : /usr/lib64/ruby/gems/1.8/gems/dep_selector-0.0.8/lib/dep_gecode.so: libgecodeminimodel.so
[2012-11-29 15:47:37 -0500] Guest42800: I have no idea why its complaining about this file /usr/lib64/ruby/gems/1.8/gems/dep_selector-0.0.8/lib/dep_gecode.so: libgecodeminimodel.so
[2012-11-29 15:47:53 -0500] Guest42800: anyone know what might could be the issue
[2012-11-29 15:49:14 -0500] laurent\: is there a way to buy opscode/chef posters and t-shirts  ? :)
[2012-11-29 15:49:54 -0500] m4rcu5: laurent\: +1, looking forward to trigger a chef vs puppet vs cf engine war over here! :)
[2012-11-29 15:51:14 -0500] programmerq: is there a recommended method for dealing with ssl certificates using chef? say I have a bunch of apache servers that are running ssl and they all need the same cert. is there a supported "secure" way to get those out using chef?
[2012-11-29 15:52:53 -0500] Guest42800: I'm having this error for days : /usr/lib64/ruby/gems/1.8/gems/dep_selector-0.0.8/lib/dep_gecode.so: libgecodeminimodel.so
[2012-11-29 15:53:13 -0500] Guest42800: anyone know what might be the issue
[2012-11-29 15:53:24 -0500] spox: missing gecode dev package?
[2012-11-29 15:55:32 -0500] Guest42800: its there
[2012-11-29 15:55:41 -0500] WPsites: I have a problem with an rsync cookbook. It enables the service then when it starts the service it just hangs on "Processing service[rsync] action start.."
[2012-11-29 15:56:05 -0500] WPsites: when I cancel the run and look on the server the service has started?
[2012-11-29 15:56:23 -0500] Guest42800: @spox how could I make sure its instaled or not
[2012-11-29 15:56:30 -0500] tolland: programmerq: I am doing something similar with tomcat
[2012-11-29 15:56:32 -0500] programmerq: WPsites: I'd try running chef-client in verbose mode and see if that gives you anymore clues as to what's happening under the hood.
[2012-11-29 15:56:52 -0500] tolland: encrypted data bags to pass the passphrase for the keystore
[2012-11-29 15:57:07 -0500] WPsites: how do I enable verbose mode? just -V ??
[2012-11-29 15:57:39 -0500] programmerq: encrypted data bags, hmmm.
[2012-11-29 15:58:14 -0500] programmerq: I've only read about data bags, let alone use the encrypted version.
[2012-11-29 15:58:20 -0500] programmerq: will look into that more.
[2012-11-29 15:59:16 -0500] programmerq: it looks like I'd have to pass out a shared secret to the clients for them to be able to use the encrypted data bags
[2012-11-29 16:00:24 -0500] programmerq: I guess I'm not sure what the encryption at the data bag level gets me. hmmm.
[2012-11-29 16:00:25 -0500] kryptek: programmerq,  edit your knife.rb file and reference the path to your `encrypted_data_bag_secret` key file.
[2012-11-29 16:00:42 -0500] kryptek: when you bootstrap a box it'll copy the key to /etc for you on that host
[2012-11-29 16:01:00 -0500] programmerq: ah
[2012-11-29 16:01:10 -0500] programmerq: that makes sense.
[2012-11-29 16:01:13 -0500] kryptek: Encryption at the data bag level will keep you from having to store sensitive data on your local or in plain text, in your templates/attributes
[2012-11-29 16:01:36 -0500] programmerq: that also makes sense
[2012-11-29 16:01:49 -0500] Guest42800: I'm having this error for days : /usr/lib64/ruby/gems/1.8/gems/dep_selector-0.0.8/lib/dep_gecode.so: libgecodeminimodel.so
[2012-11-29 16:01:57 -0500] Guest42800: anyone know what might be the issue
[2012-11-29 16:02:05 -0500] kryptek: Guest42800,  That doesn't really say much.. can you provide a stacktrace?
[2012-11-29 16:02:53 -0500] programmerq: Guest42800: you've posted that question several times already. It would be helpful if you restated it or provided more info instead.
[2012-11-29 16:04:07 -0500] Guest42800: this is the trace /usr/lib64/ruby/gems/1.8/gems/dep_selector-0.0.8/lib/dep_gecode.so: libgecodeminimodel.so.27: cannot open shared object file: No such file or directory - /usr/lib64/ruby/gems/1.8/gems/dep_selector-0.0.8/lib/dep_gecode.so (LoadError)
[2012-11-29 16:04:41 -0500] Guest42800: kryptek: do you need more info ?
[2012-11-29 16:06:05 -0500] kryptek: Guest42800,  Yeah man.  Use www.pastebin.com and paste us the entire stacktrace from chef;  this way we can help you diagnose the issue
[2012-11-29 16:06:19 -0500] gswallow: Can someone tell me what this is?  https://github.com/opscode/private-chef-administration
[2012-11-29 16:06:50 -0500] gswallow: I've been lamenting how we have outgrown our internal chef server for a while now and this documentation seems really useful.
[2012-11-29 16:07:08 -0500] Guest42800: kryptek, Sure here's the full error http://pastebin.com/rP32hLtL
[2012-11-29 16:09:32 -0500] kryptek: Guest42800 : Thanks; looking now
[2012-11-29 16:10:08 -0500] gswallow: oh that's for the commercial product
[2012-11-29 16:10:11 -0500] gswallow: hrm
[2012-11-29 16:10:14 -0500] Guest42800: kryptek: great, really appreciated
[2012-11-29 16:12:30 -0500] kryptek: Guest42800 : What version of ruby are you using ?
[2012-11-29 16:12:46 -0500] intinig: in a recipe of mine I use gem_package 'foo'
[2012-11-29 16:12:54 -0500] yfeldblum: nautical9, in my .chef/knife.rb, i look at the env var KNIFE_ENV; if it's "staging", then i do `from_file "/path/to/chef-repo/.chef/environments/staging/knife.rb"`, and so on
[2012-11-29 16:12:55 -0500] intinig: without specifying which version of foo I'm going to use.
[2012-11-29 16:13:08 -0500] intinig: is there some attribute I can reference to get the version of foo I installed?
[2012-11-29 16:13:14 -0500] Guest42800: kryptek: ruby 1.8.7 (2012-10-12 patchlevel 371) [x86_64-linux]
[2012-11-29 16:13:49 -0500] yfeldblum: nautical9, the things that stay the same no matter which chef-server i need to talk to go into .chef/knife.rb; but the things that are specific to the staging chef-server go into .chef/environments/staging/knife.rb
[2012-11-29 16:15:32 -0500] nautical9: yfeldblum: ah, interesting - I'm still working through full workflow issues - using a simple env var sounds good
[2012-11-29 16:16:02 -0500] kryptek: Guest42800,  Maybe you should upgrade to ruby 1.9.2 ?
[2012-11-29 16:16:55 -0500] Guest42800: kryptek: I'll give it a try right now
[2012-11-29 16:17:18 -0500] nautical9: yfeldblum: how about nodes? I'd like to be able to flip a node between servers painlessly
[2012-11-29 16:17:30 -0500] yfeldblum: nautical9, i'll also put my client key for my staging admin client in .chef/environments/staging/me.pem and the validation key in .chef/environments/staging/validation.pem, and the .chef/environments/staging/knife.rb will load those keys
[2012-11-29 16:17:40 -0500] yfeldblum: nautical9, why?
[2012-11-29 16:19:26 -0500] nautical9: yfeldblum: mainly for dev work - flip one of the boxes to talk to dev server, start working on cookbooks/data_bags, so if you break something only that one box could possibly be affected - then once happy with the changes, promote it to staging.
[2012-11-29 16:20:58 -0500] nautical9: maybe a bad idea too - just bouncing it around in my head - we do have dedicated infra for staging, but I'm trying to figure out the best way to work on base-image type recipes that affect every instance.  I want those types of changes to 'bake' for a while on canaries in prod
[2012-11-29 16:22:49 -0500] nautical9: yfeldblum: I'm shying away from chef's environments for a few reasons - data-bags are unversioned, so can't be tested - and it's too easy to change a cookbook and forgetting to bump the version before uploading
[2012-11-29 16:23:19 -0500] yfeldblum: nautical9, and environments don't actually offer any isolation anyway; with you on that
[2012-11-29 16:24:26 -0500] nautical9: yfeldblum: yeah, it's too bad - I hope opscode makes it more robust - that's actually a reason to avoid their hosted chef service
[2012-11-29 16:25:23 -0500] yfeldblum: nautical9, i mean isolation has always been per-chef-server or per-hosted-tenant; environments are good for other things
[2012-11-29 16:27:18 -0500] nautical9: yfeldblum: yeah, no doubt - I may still use them for config differences between environments.
[2012-11-29 16:28:16 -0500] nautical9: yfeldblum: one reason to want to flip nodes between servers is we have a couple non-cloud environments where provisioning machines is a major pain (and out of our control, sadly) - so being able to flip environments on an existing host temporarily could be useful.
[2012-11-29 16:29:49 -0500] yfeldblum: nautical9, it seems to me that flipping like that would end up causing more problems than it would solve
[2012-11-29 16:31:20 -0500] nautical9: yfeldblum: it may indeed - I can see a in-dev recipe that breaks something, gets fixed, but leaves some artifacts around that no other prod box has could bite us down the road.
[2012-11-29 16:32:32 -0500] nautical9: yfeldblum: alright, if it's a Really Dumb Idea, then we'll just dedicate specific nodes in each machine type to always be dev, staging, canary, prod.  Thanks for your input
[2012-11-29 16:35:37 -0500] yfeldblum: nautical9, cheers
[2012-11-29 16:36:32 -0500] Guest42800: kryptek: I still see the error even after the upgrade
[2012-11-29 16:44:51 -0500] mattupstate: can anyone happen to point me to some reading on good role definition strategies?
[2012-11-29 16:53:16 -0500] wassy121: Hey chefs.  So, I'm trying to hook up a mysql ndb cluster (mgmt, data, and sql nodes).  The SQL nodes needs to know where the mgmt node for its cluster is, and the mgmt node needs to know all the SQL nodes in its cluster.  If they all reside on the same machine, I can't do a "search (:role...)", as the role isn't found until after the chef run completes.
[2012-11-29 16:54:16 -0500] wassy121: so I can't apply "role[sql-mgmt],role[sql-data],role[sql-sql]" to the same node, since they don't know about each other until after a run completes.  Am I just doing it wrong?
[2012-11-29 16:58:34 -0500] yfeldblum: wassy121, search for other nodes and add the current node to the search results manually if needed
[2012-11-29 16:59:40 -0500] wassy121: yfeldblum, Can I tell if a recipe is going to be applied to the current node, before it is actually applied?  Here is the search I am currently doing:
[2012-11-29 16:59:44 -0500] wassy121: data_nodes = search(:node, "role:cluster\-data AND clusterdb_clustername:#{node['clusterdb']['clustername']}")
[2012-11-29 17:01:36 -0500] wassy121: This needs to account for multiple clusters, hence the clustername.  Also, there will be larger clusters where the data, sql, and mgmt nodes will be separate (hence the search).
[2012-11-29 17:02:02 -0500] yfeldblum: wassy121, data_nodes.reject!{|n| n.name == node.name} ; data_nodes << node if node.role?("cluster-data")
[2012-11-29 17:02:30 -0500] wassy121: pondering ...
[2012-11-29 17:06:20 -0500] wassy121: That seems like it will work.  Let me put it through the testing stuff.  Thanks a bunch
[2012-11-29 17:06:26 -0500] julian_: hey guys, I was looking at the chef_handler LWRP and was wondering where I should put my email handler?  Should I put it in the cookbook itself or lay it down onto the filesystem (through my bootstrap script provided to ec2_run_instances)?
[2012-11-29 17:43:04 -0500] julian_: Another question I have is is it normal that my chef master is not aware that it is a node?
[2012-11-29 18:00:08 -0500] maddoc: jtimberman: Yeah. Found the wiki a bit confusing (and scary with all those warnings about centos ;-)) when just rushing through it though, but that probably says more about me than the wiki. :-) Managed to get it up and running, so all good anyway.
[2012-11-29 18:00:53 -0500] jtimberman: maddoc: yeah. lots of the issues around centos are because version 5 ships with $old_busted_ruby_noone_should_use
[2012-11-29 18:02:57 -0500] maddoc: jtimberman: Ah, ok. Was fortunate enough to get to use centos 6 at least. ;-/
[2012-11-29 18:03:09 -0500] julian_: Anyone using handlers?
[2012-11-29 18:05:27 -0500] Twirrim: ruby on centos 5 makes baby jesus cry :(
[2012-11-29 18:08:10 -0500] ed1: Question on the opscode application cookbook. I'm deploying a java application, how can I get it to work with http auth (https) or ftp ??
[2012-11-29 18:09:28 -0500] ed1: both require a login
[2012-11-29 18:09:56 -0500] yfeldblum: ed1, wouldn't auth be part of the application?
[2012-11-29 18:10:04 -0500] c_t: will http://foo:bar@your.host.com work?
[2012-11-29 18:10:25 -0500] ed1: the url would be like https://example.com/mywar.war
[2012-11-29 18:10:41 -0500] ed1: I get 401 unauthorized if I use https://foo:bar@.....
[2012-11-29 18:11:09 -0500] ed1: to be clear - this is for downloading the war, and installing, with application cookbook
[2012-11-29 18:12:53 -0500] ci_: pretty easy question but #noob
[2012-11-29 18:13:19 -0500] ci_: how do I add 1 linux command to a server config?
[2012-11-29 18:13:45 -0500] ci_: for example, everytime a server is created run sudo apt-get install php5-curl
[2012-11-29 18:13:55 -0500] ci_: followed by sudo /etc/init.d/apache2 restart
[2012-11-29 18:15:39 -0500] julian_: Hey question about handlers.  I was reading the documentation and I am not sure where I am supposed to put the error handler.  Do I put it in the chef_handler LWRP file area or should I back it in to my bootstrap script provided at launch time via ec2-run-instances to be laid down in /var/handlers/<whatever>
[2012-11-29 18:16:39 -0500] yfeldblum: julian_, either one is OK
[2012-11-29 18:17:15 -0500] julian_: Is one preferable?
[2012-11-29 18:17:25 -0500] julian_: or standard practice?
[2012-11-29 18:17:43 -0500] c_t: ci_: I'd make a recipe that installs php5-curl with the package provider, then use notify to tell apache2 to restart
[2012-11-29 18:22:09 -0500] erikh: jtimberman: is that the ruby that dumps core on everything unless you compile it with -g ?
[2012-11-29 18:22:55 -0500] yfeldblum: julian_, no
[2012-11-29 18:24:35 -0500] julian_: yfeldblum: Thanks mate.
[2012-11-29 18:25:17 -0500] yfeldblum: julian_, the difference lies in whether you want to get your handlers there up-front during bootstrap, or whether you want to get your handlers there during a chef run
[2012-11-29 18:37:55 -0500] jtimberman: erikh: dunno, i don't use that version of ruby
[2012-11-29 18:40:46 -0500] ed1: Rephrasing my earlier question in hopes of making it clear:
[2012-11-29 18:40:46 -0500] ed1: I'm using the opscode application cookbook, trying to deploy a war package. The package is behind a secure ftp server, and also available at an encrypted https address. Both of these locations require the user to be authenticated. How can I do this with the application cookbook? Ideally there would be a "username" and "password" attribute I could set. The below is what I'm looking to achieve, I've stuck in non working code snippets showing the use of non existent 
[2012-11-29 18:40:46 -0500] ed1: application "myapp" do
[2012-11-29 18:40:47 -0500] ed1:   path "/usr/local/myapp"
[2012-11-29 18:40:47 -0500] ed1:   repository "https://example.com/artifactory/libs-snapshot-local/com/dashboard.war"
[2012-11-29 18:40:47 -0500] ed1:   username "foo"  # not supported by this LWRP
[2012-11-29 18:40:47 -0500] ed1:   password "bad" # not supported by this LWRP
[2012-11-29 18:40:48 -0500] ed1:   java_webapp do
[2012-11-29 18:40:49 -0500] ed1:       .
[2012-11-29 18:40:49 -0500] ed1:       .
[2012-11-29 18:47:19 -0500] macros: ed1: You could try repository "https://user@pass:example.com/artifactory/libs-snapshot-local/com/dashboard.war"
[2012-11-29 18:48:47 -0500] yfeldblum: ed1, a .war isn't a svn or git repository
[2012-11-29 18:48:50 -0500] ed1: marcos: If I try that using wget command, it gives me Connecting to example.com 172.17.29.66|:443... connected.
[2012-11-29 18:48:50 -0500] ed1: HTTP request sent, awaiting response... 401 Unauthorized
[2012-11-29 18:49:19 -0500] ed1: yfeldblum: so application is for svn or git repo's only?
[2012-11-29 18:50:52 -0500] yfeldblum: ed1, that's how it's implemented, SFAIK
[2012-11-29 18:51:25 -0500] ed1: yfeldblum: Thanks, I'll need to figure out another way then
[2012-11-29 18:51:33 -0500] yfeldblum: ed1, remote_file ?
[2012-11-29 18:52:10 -0500] ed1: yfeldblum: remote_file, correct. It does not support ftp I know for sure.
[2012-11-29 18:52:29 -0500] yfeldblum: ed1, but you can use https + auth
[2012-11-29 18:52:48 -0500] ed1: yfeldblum: I can? How ?!?!
[2012-11-29 18:54:24 -0500] yfeldblum: ed1, well maybe, you can try putting the credentials into the url
[2012-11-29 18:54:24 -0500] jblaine: This old PR can be closed: https://github.com/opscode-cookbooks/windows/pull/1 (COOK-1181 is a duplicate of COOK-1033 (Closed and released)
[2012-11-29 18:55:08 -0500] yfeldblum: ed1, but just with remote_file, not with the application cookbook
[2012-11-29 18:56:29 -0500] ed1: yfeldblum: Ah ok - let me investigate that option. Thanks!
[2012-11-29 19:16:42 -0500] Majost: Does the chef node data contain the list of active users on a system?
[2012-11-29 19:17:25 -0500] maruq: hey guys
[2012-11-29 19:17:54 -0500] maruq: trying to load a data bag in chef solo (under vagrant) & getting a "Chef::Exceptions::PrivateKeyMissing: I cannot read /etc/chef/client.pem"
[2012-11-29 19:19:03 -0500] yfeldblum: maruq, using data_bag("bag_name") or using search("bag_name", "some-query")?
[2012-11-29 19:19:32 -0500] maruq: yfeldblum. hey again. using data_bag_item('app_configs', "my_item")
[2012-11-29 19:21:16 -0500] maruq: yeah, I know I'm abusing quotes in that example
[2012-11-29 19:21:19 -0500] jtimberman: Majost: as in logged in users? no.
[2012-11-29 19:23:15 -0500] yfeldblum: maruq, what version of chef-solo?
[2012-11-29 19:23:59 -0500] maruq: yfledblum: apparently it's 0.10.10
[2012-11-29 19:25:42 -0500] maruq: yfeldblum: according to the wiki, it works from 0.10.4+
[2012-11-29 19:26:12 -0500] dyer: Hey jtimberman , question for you w/ the mysql cookbook ( 2.0.2 ).  I noticed your enabling the service ( http://bit.ly/X5f9Av ), which as I understand it will simply add it to chkconfig, but not actually start the service.  Then you try to user the mysql client to load the grants.sql file ( http://bit.ly/X5fqDr ), but the service isnt started yet Thats failing on my install ( rhel 6 ) ---> ( http://bit.ly/X5fy5W ).   Is this an issue w/ the cookbook  ?
[2012-11-29 19:27:13 -0500] maruq: yfeldblum: as far as I can tell, I've specified data bag dir correctly to vagrant. Chef should then be able to load the .json file by id right?
[2012-11-29 19:29:52 -0500] jtimberman: dyer: The assumption is that the my.cnf template would have triggered a restart, i believe.
[2012-11-29 19:30:25 -0500] dyer: oh
[2012-11-29 19:30:29 -0500] dyer: hrm, then I think I know what happened
[2012-11-29 19:32:20 -0500] maruq: yfeldblum: It seems to be finding the data bag okay - if I throw in fake names it throws back error. If I give it the real name, it says it can't find my client key
[2012-11-29 19:34:07 -0500] jtimberman: dyer: whether that assumption is the "right thing to do" is another matter, perhaps :)
[2012-11-29 19:34:24 -0500] jtimberman: i'd really like to have the windows and os x stuff split out of that recipe too
[2012-11-29 19:34:38 -0500] jtimberman: at least, enough of it that it isn't a pile of conditionals
[2012-11-29 19:36:12 -0500] mobilemike: Got a question on attribute arrays and replacement.
[2012-11-29 19:36:13 -0500] maruq: yfeldblum: looks like pebcak. I had a search in the recipe running under solo. error should probably be a bit more descriptive though ;)
[2012-11-29 19:37:07 -0500] mobilemike: If a recipe has existing values in an array, is the only way to replace all of them by using the !merge: syntax repeatedly?
[2012-11-29 19:37:26 -0500] yfeldblum: maruq, ^_^
[2012-11-29 19:37:40 -0500] yfeldblum: mobilemike, no, just use normal ruby
[2012-11-29 19:37:49 -0500] mobilemike: e.g [!merge:1], [!merge:2].
[2012-11-29 19:38:14 -0500] yfeldblum: mobilemike, node.default["my-cookbook"]["some-array-valued-key"].delete("some-key-i-don't-want")
[2012-11-29 19:39:24 -0500] jwcarman: How do folks typically organize their chef "tests"?  Do you have one monolithic Vagrantfile that installs everything or do you have a bunch of smaller ones that only install the specific recipe you're working on?
[2012-11-29 19:39:34 -0500] jtimberman: jwcarman: i use test-kitchen :)
[2012-11-29 19:40:32 -0500] mobilemike: So, in context:
[2012-11-29 19:40:35 -0500] mobilemike: node.default['ntp'].delete('server')
[2012-11-29 19:40:35 -0500] mobilemike: node.default(
[2012-11-29 19:40:35 -0500] mobilemike:   ntp: {
[2012-11-29 19:40:35 -0500] mobilemike:     servers: ['0.us.pool.ntp.org', '1.us.pool.ntp.org', '2.us.pool.ntp.org', '3.us.pool.ntp.org']
[2012-11-29 19:40:36 -0500] mobilemike:   }
[2012-11-29 19:40:36 -0500] mobilemike: )
[2012-11-29 19:41:04 -0500] jwcarman: @jtimberman: looking...
[2012-11-29 19:41:29 -0500] jwcarman: @jtimberman: are there any docs?
[2012-11-29 19:43:35 -0500] jwcarman: @jtimberman: how does it know which VM to provision?  Do I need a vagrantfile in my directory?
[2012-11-29 19:46:15 -0500] jtimberman: jwcarman: the only documentation right now is, unfortunately, just the very long README.
[2012-11-29 19:46:41 -0500] jtimberman: jwcarman: it handles the vagrantfile for you, though you can control which box to use by specifying the platform information in your "Kitchenfile"
[2012-11-29 19:46:49 -0500] jtimberman: thats all explained in the readme though
[2012-11-29 19:46:55 -0500] jwcarman: @jtimberman: is there an example usage somewhere that I can run by checking it out and playing around?
[2012-11-29 19:48:59 -0500] jtimberman: jwcarman: github.com/opscode-cookbooks/zsh
[2012-11-29 19:49:08 -0500] jtimberman: has the 'test' directory
[2012-11-29 19:49:15 -0500] jtimberman: with the kitchenfile, and a test cookbook
[2012-11-29 19:49:48 -0500] rafaelmagu: Is there a way to tell Ohai to reload attributes during a Chef run?
[2012-11-29 19:49:51 -0500] jtimberman: other examples in: postgresql, nginx, apt, cron, application cookbooks in our org, with varying degrees of coverage and complexity
[2012-11-29 19:50:00 -0500] jtimberman: rafaelmagu: there's an 'ohai' resource
[2012-11-29 19:50:10 -0500] rafaelmagu: jtimberman: I'll check it out
[2012-11-29 19:50:17 -0500] jtimberman: http://docs.opscode.com/resource_ohai.html
[2012-11-29 19:52:36 -0500] rafaelmagu: jtimberman: excellent! That's exactly what I needed
[2012-11-29 19:52:37 -0500] rafaelmagu: :)
[2012-11-29 19:52:40 -0500] rafaelmagu: +1 beer
[2012-11-29 19:53:48 -0500] dougireton: Any issues with using Berkshelf and test-kitchen in the same cookbook?
[2012-11-29 20:02:24 -0500] msg: I upgard ruby and when I try to do knife in the shell I get Could not find chef (>= 0) amongst [bundler-1.2.2, rake-10.0.2, rubygems-bundler-1.1.0, rvm-1.11.3.5] (Gem::LoadError)
[2012-11-29 20:02:47 -0500] jtimberman: dougireton: Dunno, I don't think so. Test Kitchen doesn't do anything with berkshelf (yet? there's a ticket :)).
[2012-11-29 20:07:24 -0500] dyer: jtimberman, strange,  shouldnt this ( http://bit.ly/TwrsT7 ) be node.platform == "ubuntu" && node.platform_version.to_f >= 10.04
[2012-11-29 20:07:34 -0500] dougireton: msg: have you gem installed chef yet?
[2012-11-29 20:08:14 -0500] msg: I used solo to download chef
[2012-11-29 20:08:30 -0500] dyer: platform?("ubuntu") seems to just return the argument ( node.platform?("foo") # => foo )
[2012-11-29 20:08:33 -0500] msg: dougireton: and its already installed
[2012-11-29 20:08:55 -0500] msg: dougireton: chef server is installed and running web ui
[2012-11-29 20:13:31 -0500] dyer: jtimberman, sent a pull request w/ a fix ( http://tickets.opscode.com/browse/COOK-1669 )
[2012-11-29 20:28:18 -0500] jwcarman: when using test-kitchen, do folks typically just set it up at the cookbook level?
[2012-11-29 20:28:30 -0500] jwcarman: just test everything in a cookbook together?
[2012-11-29 20:30:00 -0500] jwcarman: What I'm looking for is a best practices guide which includes testing, development, etc.
[2012-11-29 20:31:48 -0500] julian_: Hey guys, I notice that the cookbook has file "Gemfile." Inside it says source :rubygems and then gem 'test-kitchen'.  I am setting up a handler (from the documentation) that requires gem pony.  Would I make a similar Gemfile in the chef_handler cookbook?
[2012-11-29 20:31:59 -0500] julian_: nagios cookbook that is.
[2012-11-29 20:33:22 -0500] jtimberman: dyer: k, thanks.
[2012-11-29 20:33:46 -0500] jtimberman: julian_: No, you'd install the gem in a recipe
[2012-11-29 20:34:04 -0500] jtimberman: julian_: when you see gemfiles in cookbooks, those are usually required for doing development on that cookbook.
[2012-11-29 20:34:22 -0500] jtimberman: like, test-kitchen is what we use to do integration testing of cookbooks
[2012-11-29 20:34:48 -0500] Majost: jtimberman: Sorry for the delayed response -- regarding users; not logged in users -- users which are managed or installed via the users cookbook
[2012-11-29 20:34:58 -0500] fujin: handlers usually are contained within gems, which would be where the dependency on pony would be
[2012-11-29 20:35:12 -0500] fujin: you'd install it with the chef_handler lwrp (generally)
[2012-11-29 20:36:46 -0500] fujin: julian_: recipe: https://github.com/btm/minitest-handler-cookbook/blob/master/recipes/default.rb#L7
[2012-11-29 20:36:54 -0500] fujin: julian_: gem itself (gemspec): https://github.com/calavera/minitest-chef-handler/blob/master/minitest-chef-handler.gemspec#L16-L18
[2012-11-29 20:36:55 -0500] fujin: hth
[2012-11-29 20:38:07 -0500] gma: anybody got any tips on how to get a password entered mid way through a chef run? I don't want to put it in the code, and will only need to do it once when the machine is installed
[2012-11-29 20:38:28 -0500] gma: I haven't managed to get the execute resource to prompt me for user input; seems as though stdin gets closed
[2012-11-29 20:43:21 -0500] dougireton: gma: Have you thought about storing the password in an encrypted databag, or is that not secure enough?
[2012-11-29 20:43:57 -0500] gma: dougireton: oh maybe it is. haven't used them; will have a read. how secure is the crypto?
[2012-11-29 20:44:26 -0500] dougireton: gma: not sure on that
[2012-11-29 20:44:57 -0500] gma: dougireton: if I put it in a data bag, how easily will I be able to interact with a program that prompts for the password? I suppose I could use expect as normal, just from within chef...
[2012-11-29 20:45:10 -0500] jtimberman: Majost: users that are managed by the users cookbook through use of the LWRP are going to be in your data bag.
[2012-11-29 20:45:28 -0500] jtimberman: Majost: though ohai does gather users and groups from /etc/passwd, /etc/group
[2012-11-29 20:45:45 -0500] jtimberman: the toplevel attribute for that is node['etc']
[2012-11-29 20:45:53 -0500] Majost: ah, thanks! =)
[2012-11-29 20:47:18 -0500] jwcarman: Are there any good blogs, sites, etc. out there that give a good overview of chef best practices?  I need to understand how to organize our project.  Do folks typically just have one repo with a bunch of cookbooks in it?
[2012-11-29 20:47:27 -0500] jwcarman: Or, do they do cookbook-per-repo?
[2012-11-29 20:47:53 -0500] jtimberman: jwcarman: there isn't a "set best practice" because the way that every team works together and collaborates is different.
[2012-11-29 20:47:54 -0500] miah: cookbook per repo. managed with berkshelf.
[2012-11-29 20:48:44 -0500] jwcarman: @jtimberman: I realize that there usually isn't "one way" to do things.  Is there at least some guide which says "here is what we've done on successful projects and this is why it worked well"?
[2012-11-29 20:49:24 -0500] jwcarman: @jtimberman: I'm just trying to get an idea of how we should be doing things.  Apparently, miah thinks cookbook per repo is a good way to go.
[2012-11-29 20:49:52 -0500] jwcarman: I am very new to all of this, so I really don't have an opinion.  I just don't want to go through the headaches of doing it wrong if I don't have to :)
[2012-11-29 20:50:04 -0500] dougireton: jwcarman: I would avoid keeping cookbooks in your chef-repo. At Nordstrom, we use one repo per cookbook
[2012-11-29 20:50:20 -0500] jwcarman: We are using SVN, so that may make a difference, perhaps?
[2012-11-29 20:50:51 -0500] jtimberman: http://wiki.opscode.com/display/chef/Cookbook+Workflows
[2012-11-29 20:50:56 -0500] jtimberman: describes some workflows
[2012-11-29 20:51:14 -0500] fujin: could be worth learning Git sometime this milennia too
[2012-11-29 20:51:29 -0500] fujin: :p
[2012-11-29 20:51:32 -0500] mattray: fujin: be nice ;)
[2012-11-29 20:51:33 -0500] jtimberman: I wrote about my use of berkshelf for personal systems here: http:bit.ly/WfYEfO
[2012-11-29 20:51:37 -0500] jtimberman: http://bit.ly/WfYEfO
[2012-11-29 20:52:02 -0500] erikh: I just wrapped everything in rake tasks.
[2012-11-29 20:52:08 -0500] jtimberman: erikh: you're weird thoguh
[2012-11-29 20:52:10 -0500] jtimberman: :)
[2012-11-29 20:52:21 -0500] fujin: http://foodfightshow.org/2012/08/jamie-winsor-and-michael-ivey-skool-us-on-berkshelf.html
[2012-11-29 20:52:33 -0500] erikh: jtimberman: yeah, I'd hate to develop software like a software developer
[2012-11-29 20:52:35 -0500] erikh: :P
[2012-11-29 20:52:36 -0500] jwcarman: @fujin: I know Git.  Heck, my client knows Git.  However, the corporate "standard" is SVN :(
[2012-11-29 20:52:38 -0500] mattray: and I tend to avoid rake
[2012-11-29 20:52:45 -0500] jtimberman: erikh: ;)
[2012-11-29 20:52:49 -0500] fujin: jwcarman: just messing around :p
[2012-11-29 20:52:51 -0500] mattray: git2svn
[2012-11-29 20:52:57 -0500] jtimberman: jwcarman: thats unfortunate!
[2012-11-29 20:53:03 -0500] fujin: jwcarman: most of the workflow stuff generally interacts with git
[2012-11-29 20:53:28 -0500] jwcarman: @fujin: that's what I'm seeing as I read stuff.  It really seems like we'd be better of using Git.
[2012-11-29 20:53:32 -0500] fujin: I haven't seen anything that works with svn, but I guess you could monkey around with github and have svn pretending to be git, or something.
[2012-11-29 20:59:51 -0500] jwcarman: is there a compare/contrast out there for Librarian vs. Berkshelf?
[2012-11-29 21:00:04 -0500] jtimberman: dyer: don't forget to mark tickets "Fix Provided" so they get reviewed :)
[2012-11-29 21:00:26 -0500] jtimberman: jwcarman: only one i know is http://christian-trabold.de/librarian-chef-vs-berkshelf
[2012-11-29 21:02:47 -0500] jwcarman: @jtimberman: looks like berkshelf is the way to go.
[2012-11-29 21:03:24 -0500] jwcarman: @jtimberman: but, that guy said something about "those cookbooks shouldn't change."  But, cookbooks *do* change.  Am I misunderstanding the intent there?
[2012-11-29 21:08:40 -0500] miah: erikh: i think the problem is that many of us don't come from a software development background though.
[2012-11-29 21:09:36 -0500] mobilemike: Despite thinking that Berkshelf is the way to go, I've actually started with librarina
[2012-11-29 21:09:41 -0500] miah: same
[2012-11-29 21:09:51 -0500] mobilemike: It seemed conceptually simpler to me
[2012-11-29 21:10:22 -0500] miah: there were a few issues with librarian that kept coming up that really bothered me (mainly with issues resolving named branches/tags and having to constantly reference a specific sha for a repo)
[2012-11-29 21:10:23 -0500] mattray: heh, for a second there I thought there was yet another tool "librarina"
[2012-11-29 21:10:45 -0500] mattray: yay!
[2012-11-29 21:10:50 -0500] mobilemike: With that said, I'm quickly coming around to be one of those "role haters" that puts everything into wrapping cookbooks.
[2012-11-29 21:11:24 -0500] mobilemike: And I understand that is part of the workflow that the Berkshelf guys use
[2012-11-29 21:11:40 -0500] miah: guh. wtf isn't my attribute being set.
[2012-11-29 21:11:43 -0500] cwj: i took my first stab at avoiding a role with a wrapper cookbook this past week, so far i like it
[2012-11-29 21:11:48 -0500] ivey: roles bad. grar.
[2012-11-29 21:12:02 -0500] miah: roles are good
[2012-11-29 21:12:14 -0500] mobilemike: The Gangham style post helped me with that a bit
[2012-11-29 21:13:53 -0500] cwj: is that a separate style, more like gingham than gangnam?
[2012-11-29 21:13:55 -0500] cwj: ;)
[2012-11-29 21:14:02 -0500] cwj: i too found that blog post helpful
[2012-11-29 21:14:09 -0500] cwj: +1 to bryanwb
[2012-11-29 21:16:17 -0500] KarlFreeman: Is there a way to run recipes within a deploy_revision's before_restart for example?
[2012-11-29 21:18:27 -0500] erikh: miah: I don't have a lot of tolerance for that I guess. You're writing software, you need to start treating it like software development.
[2012-11-29 21:20:04 -0500] jtimberman: roles are just fine
[2012-11-29 21:20:47 -0500] ivey: grar
[2012-11-29 21:20:49 -0500] miah: erikh: i agree
[2012-11-29 21:20:52 -0500] jtimberman: :)
[2012-11-29 21:20:59 -0500] miah: its just that 'software development' is a very broad subject
[2012-11-29 21:21:04 -0500] jtimberman: i was going to write a blog post about why i don't think roles are bad.
[2012-11-29 21:21:15 -0500] jtimberman: but adam's comment on bryan's post summed it up sufficiently
[2012-11-29 21:21:16 -0500] miah: and for those of us who didn't grow up in it, its much to learn
[2012-11-29 21:21:19 -0500] erikh: jtimberman: the underlying problem is that best practices typically aren't
[2012-11-29 21:21:26 -0500] erikh: but I don't think this rant is appropriate for #chef
[2012-11-29 21:21:32 -0500] jtimberman: erikh: ha
[2012-11-29 21:21:36 -0500] jtimberman: erikh: i agree about best practices.
[2012-11-29 21:21:39 -0500] miah: thats true for many things
[2012-11-29 21:21:45 -0500] jtimberman: i am very careful to avoid applying that phrase to anything.
[2012-11-29 21:22:02 -0500] ivey: Best Practices are neither best, nor practices. Discuss.
[2012-11-29 21:22:37 -0500] jtimberman: People who want to use opinionated software can have best practices. Chef is pretty unopinionated on a lot of things.
[2012-11-29 21:22:39 -0500] qhartman: The only true sentence involving "best practice": "If you want to get better, you'd best practice."
[2012-11-29 21:23:04 -0500] erikh: jtimberman: it's just lazy.
[2012-11-29 21:23:13 -0500] erikh: anyhow. I better find some work to do before I start.
[2012-11-29 21:23:19 -0500] ivey: For the record, I don't think roles are bad per se. I think roles are incompatible with a continuous delivery style system because they cannot be versioned, and cookbooks provide everything you need from roles, and can be.
[2012-11-29 21:23:42 -0500] spox: Fog::Service::NotFound - anyone seen that when attempting to create a RS node?
[2012-11-29 21:24:12 -0500] jtnz: Hi, I just updated a linux chef client. It appeared to be installed via omnibus (/usr/bin/chef-client was a link to /opt/opscode/bin) so I re ran the omnibus installer. /opt/opscode is now gone and I now have /opt/chef, but there is no path set so chef-client isn't found. Should I just manually add the bin dir's to path to fix?
[2012-11-29 21:24:16 -0500] jtimberman: ivey: that's a much better explanation than "roles are bad" :)
[2012-11-29 21:24:32 -0500] ivey: grar
[2012-11-29 21:24:53 -0500] jtimberman: jtnz: do you have the symlinks in /usr/bin? the binaries are ohai chef-client chef-solo knife shef
[2012-11-29 21:24:58 -0500] ivey: if i still posted on my blog, "roles are the devil" would get more clicks though
[2012-11-29 21:25:10 -0500] jtimberman: hah
[2012-11-29 21:25:39 -0500] jtnz: jtimberman, no, no symlinks...
[2012-11-29 21:26:06 -0500] jtnz: jtimberman, just recreate the symlinks?
[2012-11-29 21:27:10 -0500] pattersonc: using the application cookbook, any suggestions on pulling the contents of a git repo into an application folder?
[2012-11-29 21:28:09 -0500] jtnz: jtimberman, does make me a little concerned because I'd like to upgrade all my linux nodes...
[2012-11-29 21:28:18 -0500] jtimberman: jtnz: yeah, the package should create the symlinks
[2012-11-29 21:28:50 -0500] erikh: I've honestly never been a big fan of letting the chef server handle versioning. I have a revision control system for that
[2012-11-29 21:29:08 -0500] jtnz: jtimberman, well, I could either add the lines in a custom bootstrap template to ensure they are there, or do you have another suggestion?
[2012-11-29 21:29:42 -0500] erikh: it does a better job too.
[2012-11-29 21:29:48 -0500] erikh: (sorry)
[2012-11-29 21:34:07 -0500] Jmickle: quick question regarding how others manage their cookbooks
[2012-11-29 21:34:14 -0500] Jmickle: if anyone is available
[2012-11-29 21:35:04 -0500] Jmickle: basically curious how others are doing knife uploads with using something like github to track your changes on your cookbooks
[2012-11-29 21:35:17 -0500] programmerq: jtimberman: it looks like the pull request you merged today (right after the 2.0.2 tag) on the mysql cookbook is causing issues for us on centos 6.3. It's complaining about binlog format options. I don't have the exact error anymore.
[2012-11-29 21:35:26 -0500] programmerq: I can try to repro and get you the details if needed
[2012-11-29 21:35:40 -0500] programmerq: but I won't worry about it if you don't need me to.
[2012-11-29 21:36:02 -0500] programmerq: we're trying the 2.0.2 tag now.
[2012-11-29 21:36:44 -0500] jwcarman: Jmickle: I'm curious about the same thing.  Do you "tag" the repo at certain times and only upload the tagged versions?
[2012-11-29 21:37:18 -0500] Jmickle: not sure right now I am using a non git managed repo and we have people stepping on each other on the knife uploads
[2012-11-29 21:37:22 -0500] Jmickle: and downloads
[2012-11-29 21:37:44 -0500] Jmickle: There doesn't seem to be a "best practice" or anything anywhere on it so was really curious how others are doing it
[2012-11-29 21:37:52 -0500] jwcarman: Jmickle: I wouldn't have folks uploading to a "central" chef server during development
[2012-11-29 21:38:37 -0500] Jmickle: We are working on getting vagrant setup for our testing
[2012-11-29 21:38:47 -0500] jwcarman: Jmickle: I would use chef-solo locally while you work on stuff, but use a CI server to publish the stuff once it's checked in to SCM.
[2012-11-29 21:38:53 -0500] Jmickle: but that still leaves the "I'm finished with a cookbook i need to upload" situation right
[2012-11-29 21:39:01 -0500] jtimberman: programmerq: Don't use cookbooks (ours or anyone elses) directly off their master branch.
[2012-11-29 21:39:14 -0500] jwcarman: Jmickle: You're not using version control at all?
[2012-11-29 21:39:22 -0500] jtimberman: I recommend downloading cookbooks that are released on the community site from the community site.
[2012-11-29 21:39:23 -0500] Jmickle: not currently for the cookbooks
[2012-11-29 21:39:23 -0500] programmerq: jtimberman: yeah, we stopped doing that. :)
[2012-11-29 21:39:31 -0500] jtimberman: All of opscode-cookbooks are released there.
[2012-11-29 21:39:33 -0500] jtimberman: :)
[2012-11-29 21:39:34 -0500] Jmickle: we have a small environment though
[2012-11-29 21:39:38 -0500] programmerq: jtimberman: we've had problems using ones on the community site
[2012-11-29 21:39:41 -0500] programmerq: I don't remember which ones.
[2012-11-29 21:39:49 -0500] programmerq: I think it was an opscode one though
[2012-11-29 21:40:20 -0500] jwcarman: Jmickle: I would suggest you do that.  The chef-server isn't really meant to be a version control system
[2012-11-29 21:40:41 -0500] Jmickle: jwcarman: ok so how do you currently solve the when to push to chef?
[2012-11-29 21:40:54 -0500] Jmickle: do you just trigger like jenkins to do a git pull and then upload?
[2012-11-29 21:41:27 -0500] jwcarman: Jmickle: I would use some sort of CI server to do so.  Only the CI server is allowed to push to chef-server.  It would do it periodically when stuff is checked in (polling the SCM system).
[2012-11-29 21:42:00 -0500] jwcarman: Jmickle: exactly what I'd do.
[2012-11-29 21:42:14 -0500] Jmickle: ok thats what we were essentially thinking as well, i just can't help but think about those "what if the upload fails"
[2012-11-29 21:43:16 -0500] Jmickle: do you work out of master or do you have everyone do pull requests?
[2012-11-29 21:44:51 -0500] jwcarman: Jmickle: we're using SVN
[2012-11-29 21:44:56 -0500] jwcarman: so, trunk
[2012-11-29 21:45:00 -0500] Jmickle: ok
[2012-11-29 21:45:20 -0500] Jmickle: jwcarman: thank you so much for the help
[2012-11-29 21:45:54 -0500] jwcarman: Hey, I'm new here, so I'm just glad to be able to help someone.  Hopefully if I'm steering you wrong, someone will smack me down :)
[2012-11-29 21:46:05 -0500] Jmickle: hahaha no worries
[2012-11-29 22:01:44 -0500] mobilemike: How do you debug 403 errors? I'm getting in on a bootstrapped EC2 instance.
[2012-11-29 22:02:33 -0500] mobilemike: My validator looks like its fine.
[2012-11-29 22:03:12 -0500] silentrob: mobilemike with hosted chef?
[2012-11-29 22:03:17 -0500] mobilemike: Yup
[2012-11-29 22:03:29 -0500] silentrob: I need to up the premissions in the console
[2012-11-29 22:03:59 -0500] silentrob: I hit that last week
[2012-11-29 22:04:09 -0500] mobilemike: wait, no, I think I found it in the debug output
[2012-11-29 22:04:57 -0500] mobilemike: Yup. Bad environment name
[2012-11-29 22:05:16 -0500] silentrob: Is anyone using chef with Linode? Nothing seems to be working :)
[2012-11-29 22:05:27 -0500] mobilemike: _serious_ lack of helpful output on that one :)
[2012-11-29 22:06:33 -0500] silentrob: knife-linode (0.2.0) linode flavor list -- Exception: NoMethodError: undefined method `each_with_object' for #<Hash:0x110aac358>
[2012-11-29 22:10:46 -0500] spox: silentrob: what version of ruby are you using?
[2012-11-29 22:12:41 -0500] silentrob: spox, I added it to my old ruby 1.8.7
[2012-11-29 22:12:45 -0500] silentrob: I can try 1.9.3
[2012-11-29 22:13:02 -0500] spox: silentrob: yeah, try it there
[2012-11-29 22:22:50 -0500] julian_: Hey guys I am running into an issue with ubuntu 11.10 and chef 10.16.2-1.  I am trying to setup an error handler but am having issues with NameErrors and wrong number of arguments.  I am using the chef_handler doc as well as the exceptions and handlers doc.
[2012-11-29 22:23:41 -0500] julian_: Anyone dealt with issues like this?  From the doc it looks like the lwrp is expecting a list but when I provide a list argument to my handler it gives me problems .
[2012-11-29 22:51:21 -0500] silentrob: spox, that works now.. sorry for the delay, I needed to re-setup rvm ARGG
[2012-11-29 22:51:36 -0500] silentrob: thanks
[2012-11-29 22:52:54 -0500] spox: silentrob: sure :)
[2012-11-29 23:26:55 -0500] newb: ohai chefs
[2012-11-29 23:27:03 -0500] newb: could anyone of you review: https://github.com/infochimps-labs/ironfan-pantry/blob/master/cookbooks/flume/recipes/install_from_git.rb
[2012-11-29 23:27:34 -0500] newb: I think https://github.com/infochimps-labs/ironfan-pantry/blob/master/cookbooks/flume/recipes/install_from_git.rb#L56 conflicts with https://github.com/infochimps-labs/ironfan-pantry/blob/master/cookbooks/flume/recipes/install_from_git.rb#L65
[2012-11-29 23:28:30 -0500] newb: L65 will fail if L56 executed succesfully
[2012-11-29 23:28:34 -0500] newb: ?
[2012-11-29 23:49:19 -0500] newb: no love?
[2012-11-29 23:49:40 -0500] miah: i dont use ironfan, sorry.
[2012-11-29 23:50:54 -0500] newb: miah, that's fine, but if you have a look, you will notice it's "regular" chef stuff and should follow that behaviour
[2012-11-29 23:52:23 -0500] miah: i have a hard time calling ironfan anything similar to 'regular' it used to be fairly tightly coupled to its framework
[2012-11-29 23:53:33 -0500] tolland: I'd like to compare a file to its remote version before i clobber it
[2012-11-29 23:53:50 -0500] tolland: so i can clearly pull the checksum and check that it has changed
[2012-11-29 23:54:03 -0500] tolland: but to diff out, I need a local copy
[2012-11-29 23:55:07 -0500] tolland: so am I going to end up with my own local file cache to compare against, or am I missing something
[2012-11-29 23:55:23 -0500] newb: @miah, I agree but this particular file: https://github.com/infochimps-labs/ironfan-pantry/blob/master/cookbooks/flume/recipes/install_from_git.rb#L65 does not seem to have much of the magic except the standard_dirs part
[2012-11-29 23:56:48 -0500] newb: hmm, mrflip - what is his handle here?
[2012-11-29 23:57:56 -0500] cwj: tolland: if your origin server supports If-Modified-Since header, you can make use of that to prevent needless downloads. but thats just masking the symptom
[2012-11-29 23:58:52 -0500] erikh: you could probably use content-length if you don't need a proper sum
[2012-11-29 23:59:07 -0500] tolland: cwj: so would that not be for checking agains the github, or whatever?
[2012-11-29 23:59:18 -0500] erikh: there are a lot of good reasons to use a sum, but it's cheap and easy
[2012-11-29 23:59:32 -0500] tolland: I am thinking about before I put up to the chef-server, if someone else has modified the cookbooks
