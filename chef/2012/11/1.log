[2012-11-01 00:00:03 -0400] gyre008: no ?
[2012-11-01 00:00:19 -0400] gyre008: mm should that be mixed into Provider then ?
[2012-11-01 00:00:27 -0400] gyre008: Class Chef, Class Provider...
[2012-11-01 00:00:31 -0400] gyre008: ?
[2012-11-01 00:00:33 -0400] yfeldblum: gyre008, the LW resource file? that's just evaluated as the body of a class which inherits Chef::Resource
[2012-11-01 00:00:48 -0400] yfeldblum: gyre008, likewise the LW provider file is just evaluated as the body of a class which inherits Chef::Provider
[2012-11-01 00:01:29 -0400] gyre008: so there is no way to use that method as a cookbook library ?
[2012-11-01 00:01:33 -0400] yfeldblum: gyre008, you don't need to do anything special; methods you define will just be instance methods on that provider class like normal; the `action` method actually just creates methods: `action :create do ...` makes a method named `action_create`
[2012-11-01 00:02:39 -0400] yfeldblum: gyre008, you can make a module in your libraries with recipe_eval as an instance method in the module, and then you can include that module in your LW provider
[2012-11-01 00:03:05 -0400] gyre008: I thought libraries and modules are automatically included ? http://wiki.opscode.com/display/chef/Libraries
[2012-11-01 00:03:38 -0400] yfeldblum: gyre008, kind of, in a limited way, but don't abuse it
[2012-11-01 00:03:56 -0400] yfeldblum: gyre008, and i don't think it would work very well in this case to rely on that
[2012-11-01 00:04:35 -0400] gyre008: so I shouldnt use it in the library file then and duplicate its definition across all LWRPs in the cookbook ?
[2012-11-01 00:05:17 -0400] jaygen: anyone know of a reason why knife would miss half the settings in a ~/.chef/knife.rb ?
[2012-11-01 00:05:35 -0400] hoover_damm: jaygen, it's loading chef-repo/.chef/knife.rb instead
[2012-11-01 00:05:42 -0400] jaygen: oh really
[2012-11-01 00:05:54 -0400] jaygen: how do you prevent that from happening
[2012-11-01 00:06:24 -0400] yfeldblum: gyre008, check my gist again: https://gist.github.com/d85be145f3ff824ccc07
[2012-11-01 00:06:28 -0400] hoover_damm: basically knife looks for a .chef/knife.rb in ~ and in the 'chef-repo' like path... so if your in cookbooks/bob in chef-repo
[2012-11-01 00:06:37 -0400] hoover_damm: it will find ../../../.chef/knife.rb and use it
[2012-11-01 00:06:55 -0400] hoover_damm: you can specify which configuration file you use on the command line
[2012-11-01 00:07:14 -0400] hoover_damm: but this is a convenience factor for those of us who work for multiple $clients who provide a knife.rb with their settings for us
[2012-11-01 00:07:33 -0400] jaygen: I'm running knife ec2 server create -r 'role[development]' --config="~/.chef/knife.rb" -V
[2012-11-01 00:07:38 -0400] hoover_damm: I have a lot of stuff in my knife.rb already
[2012-11-01 00:07:54 -0400] hoover_damm: should just be -c
[2012-11-01 00:07:58 -0400] hoover_damm: but yer
[2012-11-01 00:08:01 -0400] jaygen: and yet it is still being overridden by something
[2012-11-01 00:08:11 -0400] yfeldblum: gyre008, files labeled library.rb and provider3.rb
[2012-11-01 00:08:25 -0400] gyre008: let me see
[2012-11-01 00:11:19 -0400] gyre008: I seemmill be testing this tomorrow.so I'll see how it will work
[2012-11-01 00:11:27 -0400] gyre008: brilliantthanks again
[2012-11-01 00:53:52 -0400] jaygen: any reason why knife would not pick up on knife[:identity_file] = "~/.ssh/key.pem"
[2012-11-01 00:54:07 -0400] jaygen: I'm using the knife-ec2 gem
[2012-11-01 00:55:30 -0400] jaygen: it seems like the stuff I set in knife.rb is being overridden by something else, yet I am using -c and verifying that the correct config file is being run.
[2012-11-01 00:59:08 -0400] itwasntandy: if you ssh -i ~/.ssh/key.pem <host> does that work?
[2012-11-01 00:59:35 -0400] itwasntandy: i.e. areyou sure the key is what you think it is
[2012-11-01 01:07:04 -0400] hoover_damm: jaygen, net-ssh does honor .ssh/config
[2012-11-01 01:07:17 -0400] hoover_damm: is there anything in there?
[2012-11-01 01:07:30 -0400] jaygen: yeah, I can do -i and it works
[2012-11-01 01:07:43 -0400] jaygen: itwasntandy: but it doesn't work if I just have it set in knife.rb
[2012-11-01 01:08:06 -0400] hoover_damm: generally i rely on ssh-agent for that
[2012-11-01 01:08:20 -0400] hoover_damm: i realize having 4 keys is bad... so I keep less than that :)
[2012-11-01 01:09:25 -0400] jaygen: basically my problem is, why do I have to set everything via -i and -f, when it is in the knife file?
[2012-11-01 01:09:57 -0400] miah: where is your knife.rb?
[2012-11-01 01:10:47 -0400] jaygen: ~/.chef/
[2012-11-01 01:11:18 -0400] jaygen: knife[:flavor]                = "m1.large"    in ~/.chef/knife.rb is completely ignored
[2012-11-01 01:12:52 -0400] vegardx: Is chef client 0.9x compatible with chef-server 10.x?
[2012-11-01 01:13:32 -0400] vegardx: I have to upgrade the chef-server in order to use a newer client for Debian Wheezy, but I don't want to have to upgrade all the old clients at the same time.
[2012-11-01 01:13:56 -0400] bluepojo: vegardx: yes
[2012-11-01 01:14:03 -0400] bluepojo: we ran 9 clients on 10 server for a while
[2012-11-01 01:14:07 -0400] bluepojo: during the upgrade
[2012-11-01 01:14:11 -0400] vegardx: Cool, had any issues?
[2012-11-01 01:14:16 -0400] bluepojo: not that I remember
[2012-11-01 01:14:26 -0400] bluepojo: I believe the chef server is specificially backwards compatible
[2012-11-01 01:14:31 -0400] miah: you can do c < s, but not c > s
[2012-11-01 01:14:36 -0400] bluepojo: right
[2012-11-01 01:14:45 -0400] bluepojo: 10 clients won't work on 9 server
[2012-11-01 01:15:02 -0400] vegardx: Hehe, i found out that, the hard way :3
[2012-11-01 01:19:50 -0400] vegardx: I wish the opscode cookbooks had more commenting in the code.
[2012-11-01 01:41:21 -0400] hoover_damm: vegardx, just chef_environment will always be _
[2012-11-01 01:41:26 -0400] hoover_damm: that's the main qualm
[2012-11-01 01:41:32 -0400] hoover_damm: as 9 didn't support envs
[2012-11-01 02:12:03 -0400] j-v-e: howdy gentlemen
[2012-11-01 02:13:07 -0400] j-v-e: my hike is ohai failed. I was looking for the date of the last successful chef run of a node, as display by knife status, but couldn't find it.
[2012-11-01 02:13:15 -0400] j-v-e: anyone knows where that is ?
[2012-11-01 02:17:03 -0400] bluepojo: hummm nodes check in after a run, so that data is definitely available
[2012-11-01 02:17:05 -0400] bluepojo: I forget where tho
[2012-11-01 02:26:35 -0400] j-v-e: found it !
[2012-11-01 02:26:37 -0400] j-v-e: ohai_time
[2012-11-01 02:26:48 -0400] j-v-e: in the source code of knife status :p
[2012-11-01 08:58:46 -0400] specialsauce: I'm getting "FATAL: EOFError: end of file reached" on every chef-client run from a particular client. Could really do with some help getting to the bottom of this please.
[2012-11-01 08:59:30 -0400] royh: specialsauce: i used to have that issue too. never found a resolution for it unfortunately :(
[2012-11-01 08:59:43 -0400] royh: specialsauce: might be that somebody else has more insight though. :)
[2012-11-01 09:02:06 -0400] coderanger: specialsauce: Turn on debug logging
[2012-11-01 09:05:41 -0400] specialsauce: royh: did you manage to get round it by rebuilding or anything? i mean how did you get the node working eventually?
[2012-11-01 09:05:52 -0400] specialsauce: coderanger: i'll pastebin a stacktrace/debug output
[2012-11-01 09:07:14 -0400] specialsauce: coderanger: let me know if this is enough info: http://pastebin.com/QfFwJqAT
[2012-11-01 09:07:16 -0400] royh: specialsauce: yeah. complete reinstall of the server fixed it eventually. we might not have the same problem though
[2012-11-01 09:08:30 -0400] coderanger: specialsauce: Is this your own chef-server or hosted chef?
[2012-11-01 09:09:52 -0400] specialsauce: coderanger: private chef server
[2012-11-01 09:09:59 -0400] specialsauce: royh: eugh, ok, hope i don't need to do that
[2012-11-01 09:10:18 -0400] coderanger: specialsauce: as in OPC?
[2012-11-01 09:10:39 -0400] coderanger: You probably just have a file upload that got interrupted or otherwise Very Grumpy
[2012-11-01 09:10:44 -0400] coderanger: for OPC just put in a ticket
[2012-11-01 09:10:52 -0400] coderanger: Your account admin should have the details
[2012-11-01 09:15:40 -0400] specialsauce: i've tried re-uploading the cookbook in question, but it looks fine, don't think its the cookbook itself that is the issue
[2012-11-01 09:15:56 -0400] specialsauce: we're on the open source product so at the mercy of IRC and our own pokings of the server
[2012-11-01 09:16:07 -0400] royh: specialsauce: can you download the cookbook?
[2012-11-01 09:16:14 -0400] royh: specialsauce: knife cookbook download <cookbookname>
[2012-11-01 09:16:45 -0400] specialsauce: on another host completely:
[2012-11-01 09:16:46 -0400] specialsauce: Downloading common-libidn cookbook version 0.0.2
[2012-11-01 09:16:47 -0400] specialsauce: Downloading resources
[2012-11-01 09:16:47 -0400] specialsauce: Downloading providers
[2012-11-01 09:16:47 -0400] specialsauce: Downloading recipes
[2012-11-01 09:16:47 -0400] specialsauce: ERROR: EOFError: end of file reached
[2012-11-01 09:16:54 -0400] specialsauce: so no royh, doesn't look like i can
[2012-11-01 09:17:03 -0400] coderanger: specialsauce: Ahh, OSC != OPC :)
[2012-11-01 09:17:20 -0400] royh: specialsauce: that's the same issue i had :(
[2012-11-01 09:17:27 -0400] coderanger: specialsauce: You probably need to nuke the checksum entry from councdb
[2012-11-01 09:17:30 -0400] coderanger: er, couchdb
[2012-11-01 09:18:03 -0400] coderanger: However I am very tired, and I think successfully walking anyone through Futon maintenance is beyond my abilities right now
[2012-11-01 09:18:15 -0400] specialsauce: heh, ok coderanger, ta, i'll take a loko at couch
[2012-11-01 09:18:27 -0400] coderanger: If you open futon and poke the sandbox checksums view you can try and find the relevant file
[2012-11-01 09:18:36 -0400] coderanger: nuke it from couch and reupload
[2012-11-01 09:19:10 -0400] royh: Futon is about as helpful as a brick...
[2012-11-01 09:19:19 -0400] coderanger: Just one more feature
[2012-11-01 09:19:27 -0400] coderanger: royh: s/Futon/Couch/
[2012-11-01 09:30:43 -0400] royh: coderanger: haha, right ;)
[2012-11-01 09:31:01 -0400] royh: are there any good interfaces to couch?
[2012-11-01 09:31:31 -0400] royh: admin/util interfaces i mean
[2012-11-01 09:32:32 -0400] coderanger: royh: Certainly, flamethrower and/or surface-to-air missile
[2012-11-01 09:33:11 -0400] coderanger: (reminder: we stop using Couch as of Chef 11 which is soon)
[2012-11-01 09:33:50 -0400] royh: mysql was the replacement iirc?
[2012-11-01 09:34:42 -0400] coderanger: postgres, though I think we are supporting mysql in OSC for at least some period of time, I don't know what happened with that
[2012-11-01 09:35:06 -0400] royh: ah ok. i'm looking forward to it :)
[2012-11-01 10:03:19 -0400] sKAApGIF: hi, I cloned the getting started git repo and want to install cookbooks into it... running "knife cookbook site install apache" however tries to install the cookbook to /var/chef/cookbooks
[2012-11-01 10:03:40 -0400] sKAApGIF: From all the docs it seems like it should install it into my local repo?
[2012-11-01 10:11:52 -0400] AikiLinux: morning , is it possible to define a subscribe on a directory , that in case the content changes the service should be reloaded ?
[2012-11-01 10:15:17 -0400] BryanWB: anybody got an haproxy recipe w/ support for gracefully restarting haproxy?
[2012-11-01 10:16:01 -0400] BryanWB: AikiLinux, i think there is an lwrp for that but there isn't built-in support
[2012-11-01 10:19:15 -0400] AikiLinux: ok thanks
[2012-11-01 12:01:09 -0400] zeroXten: if an environment is set in client.rb does that override anything changed through knife between chef-client runs?
[2012-11-01 13:15:00 -0400] BryanWB: coderanger, around?
[2012-11-01 13:26:35 -0400] BryanWB: miah, awake? i got a crazy idea
[2012-11-01 13:32:43 -0400] eugenmayer: guys, how do you solve this: you want a service to be running ( daemon ). But when it is already running, you want to initscript refresh ist, rather then start it. Any ideas how this would be done?
[2012-11-01 13:34:01 -0400] BryanWB: any ark users around?
[2012-11-01 13:37:43 -0400] erikh: BryanWB: I'll see miah later today, want me to tell her you're looking for her?
[2012-11-01 13:38:07 -0400] BryanWB: erikh, y, and if u wouldn't mind checking out a proposal i have for ark :) https://gist.github.com/3993645
[2012-11-01 13:38:51 -0400] BryanWB: erikh, this shud help w/ some issues she has w/ ark, if I can get it to work
[2012-11-01 13:39:21 -0400] erikh: hm, is the goal here to be able to build software with ark?
[2012-11-01 13:39:26 -0400] erikh: (I haven't used ark much; sorry)
[2012-11-01 13:39:37 -0400] BryanWB: the download, unpack, configure, make, install dance
[2012-11-01 13:39:43 -0400] erikh: hm
[2012-11-01 13:39:55 -0400] erikh: and then ark builds a package out of it?
[2012-11-01 13:40:00 -0400] BryanWB: no package
[2012-11-01 13:40:07 -0400] erikh: different cookbook
[2012-11-01 13:40:10 -0400] BryanWB: installs locally
[2012-11-01 13:40:14 -0400] BryanWB: not different cookbook
[2012-11-01 13:40:23 -0400] erikh: right, i'm saying it should be
[2012-11-01 13:40:31 -0400] BryanWB: erikh, correct
[2012-11-01 13:40:40 -0400] BryanWB: a different cookbook will use the ark lwrp
[2012-11-01 13:40:49 -0400] erikh: right, but ark is doing the dance
[2012-11-01 13:40:51 -0400] BryanWB: y
[2012-11-01 13:41:04 -0400] erikh: I'm saying that ark solves a problem dealing with archives; not with building software
[2012-11-01 13:41:20 -0400] erikh: maybe that new cookbook *uses* ark, but builds the software after ark's done with it
[2012-11-01 13:41:30 -0400] erikh: separation of concerns. at least, that's how I feel about it.
[2012-11-01 13:41:55 -0400] BryanWB: i guess the concerns aren't very separated
[2012-11-01 13:44:12 -0400] erikh: BryanWB: I mean, this new "build" cookbook could also deal with the differences between the autoconf dance and the cmake dance, etc.
[2012-11-01 13:44:25 -0400] erikh: there's a lot of flexibility that could be leveraged just by splitting the concerns up
[2012-11-01 13:44:36 -0400] zeroXten: if an environment is set in client.rb does that override anything changed through knife between chef-client runs?
[2012-11-01 13:44:36 -0400] erikh: anyhow, I don't want to cram it down your throat, it's your code. I just think it's a good idea.
[2012-11-01 13:45:01 -0400] BryanWB: erikh, sure, i guess ark is this thing that i add incremental features to as I need them
[2012-11-01 13:45:14 -0400] BryanWB: but that doesn't mean it couldn't be better designed
[2012-11-01 13:45:32 -0400] BryanWB: or part of it extracted to a separate cookbook
[2012-11-01 13:45:51 -0400] erikh: disk space is cheap :P
[2012-11-01 13:46:35 -0400] BryanWB: i just haven't thot about how to do it better :p
[2012-11-01 13:48:20 -0400] BryanWB: i guess there are two parts   1) download, unpack, and optionally link files to /usr/**/bin     2) [configure, make, install] , [ "setup.py foo", "setup.py bar" ]
[2012-11-01 13:49:59 -0400] BryanWB: erikh, perhaps part 2 could be separated into a build cookbook
[2012-11-01 13:53:03 -0400] erikh: sounds good
[2012-11-01 13:54:31 -0400] BryanWB: erikh, then in would look like this https://gist.github.com/3993645
[2012-11-01 13:55:19 -0400] erikh: sec
[2012-11-01 13:56:27 -0400] erikh: https://gist.github.com/3993757
[2012-11-01 13:56:56 -0400] erikh: then the build cookbook would work against remote_file, etc
[2012-11-01 13:57:16 -0400] erikh: even better, source could take a directory
[2012-11-01 13:57:25 -0400] erikh: anyhow, I think you get where my brain is taking this
[2012-11-01 13:57:38 -0400] BryanWB: erikh, y, tks a lot
[2012-11-01 14:00:00 -0400] geekbri: Is there a way to use normal chef searching with knife status?
[2012-11-01 14:00:09 -0400] geekbri: so that you could say, only pull the status for nodes in a particular environment?
[2012-11-01 14:02:44 -0400] erikh: knife status "chef_environment:foo" ?
[2012-11-01 14:03:06 -0400] erikh: seems to work here.
[2012-11-01 14:03:37 -0400] gyre008: I'm using the same command as erikhworks for me
[2012-11-01 14:04:17 -0400] erikh: 'chef_environment' is a top-level node attribute on all nodes, and is what -E and friends use
[2012-11-01 14:08:09 -0400] geekbri: I guess I should have just tried appending a serach query to the end :)
[2012-11-01 14:08:13 -0400] geekbri: or looked at the code.
[2012-11-01 14:13:37 -0400] BryanWB: hatofmonkeys, hey buddy!
[2012-11-01 14:16:20 -0400] whyohwhy: Hi all!
[2012-11-01 14:16:37 -0400] hatofmonkeys: Hi BryanWB
[2012-11-01 14:16:52 -0400] hatofmonkeys: how's life?
[2012-11-01 14:17:39 -0400] BryanWB: hatofmonkeys, sorry, I can't understand you, that cockney of yours is so thick
[2012-11-01 14:17:44 -0400] BryanWB: hatofmonkeys, haha, jk
[2012-11-01 14:17:50 -0400] BryanWB: hatofmonkeys, doing fine
[2012-11-01 14:18:36 -0400] hatofmonkeys: :)
[2012-11-01 14:19:54 -0400] whyohwhy: can someone tell me how can this bee: i'm building a new server with chef, and although it says : "Installation of rvm_ruby[ree-1.8.7-2012.02] was successful." after that it fails on "Ruby ree-1.8.7-2012.02 is not installed.". how can it be?! the worst thing is that I haven't changed anything, it worked 4 days ago and suddenly not. It's so frustrating...
[2012-11-01 14:22:28 -0400] kechagia: Is it "bad style" to use notifies/subscribes in providers? It doesn't seem to work as expected. I'm also confused when I should use "r = file with action :nothing" plus "r.run_action(:create)" instead of "file() action :create"
[2012-11-01 14:22:51 -0400] kechagia: is there documentation concerning this topic? i didn't find any
[2012-11-01 14:24:46 -0400] drrk: Muitnep1
[2012-11-01 14:25:18 -0400] drrk: please someoen invent focus follows brain
[2012-11-01 14:27:19 -0400] zeroXten: ah, the classic wrong window
[2012-11-01 14:27:54 -0400] kryptek: Hey all, good mornin'
[2012-11-01 14:28:55 -0400] specialsauce: time nazi, its clearly afternoon
[2012-11-01 14:29:36 -0400] kryptek: lol
[2012-11-01 14:29:39 -0400] kryptek: In my world it's morning bro
[2012-11-01 14:29:52 -0400] specialsauce: :-P
[2012-11-01 14:31:20 -0400] kryptek: Good #{Time.now.hour < 12 ? "morning" : "afternoon"}, #chef :P
[2012-11-01 14:31:26 -0400] kryptek: How's that? lol
[2012-11-01 14:32:03 -0400] kechagia: Is it possible, that one cannot use notifies/subscribes in providers?
[2012-11-01 14:56:34 -0400] Pushnell_: jtimberman: any interest in a sendmail cookbook?  I'm thinking of writing one.
[2012-11-01 15:02:45 -0400] newb: Hey.
[2012-11-01 15:09:52 -0400] newb: If I can run a knife command straight on the Chef-server command line it means that port 4000 is listening correctly, right?
[2012-11-01 15:14:43 -0400] gyre008: newb, depends on your knife.rb configuration...
[2012-11-01 15:15:00 -0400] gyre008: Pushnell_, sendmail is so 90s :)
[2012-11-01 15:15:16 -0400] newb: I'm using port 4000 in knife.rb
[2012-11-01 15:15:22 -0400] Pushnell_: gyre008: I know :)  But I'm stuck on systems which are stuck in the 90s
[2012-11-01 15:16:05 -0400] Pushnell_: gyre008: I'm moving our bash scripts to chef.  maybe I can convince the powers that be to go with postfix instead somewhere down the line
[2012-11-01 15:17:04 -0400] specialsauce: sendmail is 80s, exim was 90s :-P
[2012-11-01 15:19:37 -0400] teukka_: well, the sendmail recipe could be something like `package "sendmail" { action :purge }` :-P
[2012-11-01 15:20:52 -0400] leifmadsen: :)
[2012-11-01 15:21:10 -0400] newb: Terabase is using my port 4000. Is this something used by Chef-server?
[2012-11-01 15:28:21 -0400] Zenigor: what is a good SOP for moving recipes from dev to production which changes the entire base infrastructure while keeping the current one up? essentially building a second, replacement infrastructure while keeping the current one live. just comment out the cron task for chef-client and upload all recipes and then build / deploy the new servers?
[2012-11-01 15:32:09 -0400] awgross: Zenigor: not really not that I know of. a few options.  Could create a new environment and upload the new changes there, roll out new infra with that that env
[2012-11-01 15:32:14 -0400] awgross: then depricate the old one
[2012-11-01 15:32:20 -0400] awgross: keep it running if you need to
[2012-11-01 15:32:25 -0400] awgross: that way you can fail back easily
[2012-11-01 15:33:39 -0400] rtacconi: I am using vagrant with chef server but I get 401 when booting the instance and the instance tries to register
[2012-11-01 15:33:49 -0400] rtacconi: http://serverfault.com/questions/444407/vagrant-using-chef-server-401-error
[2012-11-01 15:35:33 -0400] Zenigor: awgross: a new env meaning another full chef env or as in environments/ ?
[2012-11-01 15:35:42 -0400] karwash: @rtacconi sounds like a validation key issue
[2012-11-01 15:35:50 -0400] rtacconi: anyone?
[2012-11-01 15:36:01 -0400] awgross: Zenigor: i mean a full new chef env, aka prod-v1, prod-v1.1 etc
[2012-11-01 15:36:12 -0400] awgross: awgross: if the changes aren't backwards compatible at least
[2012-11-01 15:36:32 -0400] awgross: Zenigor: the solution of turning off chef client also works, just trickier and prone to issues
[2012-11-01 15:37:07 -0400] karwash: @rtacconi are you sure you have the right validation key?
[2012-11-01 15:37:34 -0400] rtacconi: I downloaded the key from the server
[2012-11-01 15:37:55 -0400] Zenigor: awgross:  thanks for the help
[2012-11-01 15:39:42 -0400] jaypipes: anybody have any clue why I'm getting this error when trying to spiceweasel|bash? http://paste.openstack.org/show/23478/ mattray?
[2012-11-01 15:40:22 -0400] mattray: jaypipes: is there an ack cookbook in your cookbooks/ directory?
[2012-11-01 15:40:34 -0400] jaypipes: mattray: see the paste...
[2012-11-01 15:41:08 -0400] mattray: hrmm.. maybe try spiceweasel debug?
[2012-11-01 15:41:21 -0400] mattray: something weird about that cookbook?
[2012-11-01 15:41:36 -0400] jaypipes: mattray: no, it shows that error for every single cookbook.
[2012-11-01 15:42:40 -0400] mattray: jaypipes: if you say 'knife cookbook upload ack', does that work?
[2012-11-01 15:43:00 -0400] mattray: if not, then it's a knife issue
[2012-11-01 15:43:08 -0400] karwash: rtacconi: have you seen this: http://bitly.com/PJtYqh
[2012-11-01 15:43:10 -0400] rtacconi: double cheched validation.pem is correct
[2012-11-01 15:43:49 -0400] rtacconi: karwash: a while ago I am having a look again now thanks
[2012-11-01 15:43:51 -0400] jaypipes: mattray: same error.
[2012-11-01 15:44:40 -0400] mattray: jaypipes: hrm try 'knife cookbook upload ack -VV', perhaps gist that?
[2012-11-01 15:44:58 -0400] luckymike: AM y'all
[2012-11-01 15:45:47 -0400] jaypipes: mattray: http://paste.openstack.org/show/23479/
[2012-11-01 15:46:32 -0400] mattray: jaypipes: how's the metadata.rb for the ack cookbook?
[2012-11-01 15:47:00 -0400] jaypipes: mattray: http://paste.openstack.org/show/23480/
[2012-11-01 15:47:32 -0400] mattray: jaypipes: can you upload other cookbooks?
[2012-11-01 15:47:49 -0400] karwash: rtacconi: cool... sounds like something silly with the validation key... hope that helps...
[2012-11-01 15:47:51 -0400] jaypipes: mattray: nope. every cookbook results in same message about could not find cookbook
[2012-11-01 15:47:56 -0400] jaypipes: every upload...
[2012-11-01 15:48:23 -0400] mattray: jaypipes: thinking
[2012-11-01 15:52:28 -0400] mattray: jaypipes: got it
[2012-11-01 15:52:32 -0400] mattray: in your knife.rb
[2012-11-01 15:52:42 -0400] mattray: it should be
[2012-11-01 15:52:43 -0400] mattray: cookbook_path            ["#{current_dir}/../cookbooks"]
[2012-11-01 15:52:45 -0400] mattray: not
[2012-11-01 15:52:52 -0400] awgross: anybody created a custom vagrant provisioner to run strace around chef-solo?
[2012-11-01 15:52:55 -0400] mattray: cookbook_path = ["#{current_dir}/../cookbooks"]
[2012-11-01 15:53:27 -0400] mattray: jaypipes: extraneous '='
[2012-11-01 15:54:02 -0400] jaypipes: mattray: gah. thx. /me hates ruby.
[2012-11-01 15:55:26 -0400] mattray: jaypipes: I sometimes agree
[2012-11-01 15:55:31 -0400] jaypipes: mattray: maybe just a ruby n00b question, so please forgive in advance, but why can I use an equals for current_dir = File.blah... but not use an equals sign for cookbook_path = []?
[2012-11-01 15:58:32 -0400] kallistec: jaypipes: local variable assignment and setter methods with an implicit `self` as the reciever would be ambiguous if ruby's parser didn't pick one of them as a "winner". For better or worse, local variable assignment wins
[2012-11-01 15:58:55 -0400] mattray: jaypipes: what he said
[2012-11-01 15:59:12 -0400] jaypipes: kallistec: sorry I have no idea what you just said.
[2012-11-01 15:59:18 -0400] jaypipes: what is a self receiver?
[2012-11-01 15:59:54 -0400] kallistec: jaypipes: every "function" in ruby is a method call on an object, and the object you're calling the method on is the reciever
[2012-11-01 15:59:56 -0400] kryptek: jaypipes, the invoking object calling the class method
[2012-11-01 16:00:13 -0400] jaypipes: kallistec: are you saying that the cookbook_path = [] made a local variable called cookbook_path instead of making cookbook_path part of some object?
[2012-11-01 16:00:24 -0400] kallistec: jaypipes: yes
[2012-11-01 16:00:29 -0400] jaypipes: ah, ok.
[2012-11-01 16:00:39 -0400] jaypipes: is this just ruby or the Chef Ruby DSL?
[2012-11-01 16:00:40 -0400] mattray: jaypipes: note how cookbook_path is used in other variables
[2012-11-01 16:00:41 -0400] behemphi: @mattray I just update knife-rackspace to latest gem, but when I list images with racksapce-version v2 on the CLI, I get the v1 list
[2012-11-01 16:00:55 -0400] behemphi: Is there undocumented dark magic to get this to work?
[2012-11-01 16:01:03 -0400] mattray: behemphi: make sure you remove the old knife-rackspace
[2012-11-01 16:01:05 -0400] mattray: gem
[2012-11-01 16:01:21 -0400] mattray: seen some weirdness where the old gem was still used
[2012-11-01 16:01:23 -0400] kallistec: jaypipes: generally chef tries to hide this from you by having assignment like `user("root")` (e.g. in the file resource)
[2012-11-01 16:02:09 -0400] kallistec: jaypipes: which removes the ambiguity. (which is at the ruby syntax level)
[2012-11-01 16:02:32 -0400] jaypipes: kallistec: k, thx
[2012-11-01 16:02:44 -0400] behemphi: @mattray that did the trick, thx~
[2012-11-01 16:03:02 -0400] mattray: behemphi: cool
[2012-11-01 16:03:37 -0400] jaypipes: kallistec, mattray: thx much to both for your help. much appreciated!
[2012-11-01 16:03:58 -0400] mattray: jaypipes: been hit by that before myself
[2012-11-01 16:04:43 -0400] kallistec: jaypipes: yeah, unfortunate edge case of ruby's syntax being easier for the 80% case
[2012-11-01 16:05:24 -0400] bluenemo: hi guys, i'm new to chef and i'm wondering how to get this work: http://pastebin.com/8KGFpGT1 i want to test if a package is not installed and if so, use debconf-set-selections to preseed and then install it.
[2012-11-01 16:06:04 -0400] BryanWB: kallistec, got a couple mins, could really use ur feedback on this api i have dreamt up to replace ark https://gist.github.com/3993645
[2012-11-01 16:06:28 -0400] rtacconi: silly me Vagrantfile was using port 4040 not 4000
[2012-11-01 16:06:32 -0400] rtacconi: not I have FATAL: Net::HTTPServerException: 412 "Precondition Failed"
[2012-11-01 16:08:45 -0400] rtacconi: never mind it is working thanks
[2012-11-01 16:09:14 -0400] kallistec: BryanWB: was gonna comment on ML. Generally looks good. For stuff like your carbon example, would `creates_command "carbon-cache"` be valuable in case of differently configured python?
[2012-11-01 16:09:56 -0400] BryanWB: kallistec, dunno
[2012-11-01 16:10:19 -0400] BryanWB: u mean if the command is linked int site_python/bin ?
[2012-11-01 16:11:14 -0400] kallistec: BryanWB: yep. Becoming more common these days with stuff like SmartOS making most of the FS read-only
[2012-11-01 16:12:11 -0400] BryanWB: possibly but that would require the build resource to know something about your python setup or at least have a way to query it
[2012-11-01 16:12:39 -0400] BryanWB: however i imagine that is possible, just like one can find root of ruby gems w/ `gem environment`
[2012-11-01 16:13:00 -0400] kallistec: BryanWB: what I was thinking with creates_command is you can just roll through the PATH and look for it or run `which` or whatever
[2012-11-01 16:13:15 -0400] BryanWB: kallistec, ooh that would be neat
[2012-11-01 16:19:00 -0400] matti: What would be the equivalent of Puppet node file (node definition) if Chef?
[2012-11-01 16:19:07 -0400] matti: Silly question, I know.
[2012-11-01 16:26:07 -0400] jodell_: is it true that a custom service resource requires an init script now (centOS)?
[2012-11-01 16:30:32 -0400] cheeseplus: matti: that would be the node metadata (knife node edit nodename) in conjunction with role metadata
[2012-11-01 16:31:09 -0400] AntonZ: hello, can someone tell me if i can specify GID during user creation/or in user block ?
[2012-11-01 16:31:26 -0400] matti: cheeseplus: Does this apply to Chef Solo too?
[2012-11-01 16:31:51 -0400] cheeseplus: AntonZ: yes you can
[2012-11-01 16:31:57 -0400] AntonZ: thank you
[2012-11-01 16:32:20 -0400] cheeseplus: there is an example block on this page: http://wiki.opscode.com/display/chef/Resources
[2012-11-01 16:32:29 -0400] cheeseplus: I'd gist it but it's already there ;)
[2012-11-01 16:32:49 -0400] cheeseplus: matti: you can mock up the attributes with json files
[2012-11-01 16:33:09 -0400] cheeseplus: so it's not reading it from chef-server but from a static file (but it looks pretty much the same)
[2012-11-01 16:33:19 -0400] BryanWB: kallistec, shud i make it a gem or a cookbook?
[2012-11-01 16:33:31 -0400] BryanWB: hey cheeseplus!
[2012-11-01 16:33:40 -0400] cheeseplus: hallo!
[2012-11-01 16:38:45 -0400] kallistec: BryanWB: not sure? Cookbooks are easier for people to install and ship around, but not structured for easy testing. A gem with a shim cookbook that does chef_gem could be attractive but every layer of complexity is something new that can fail
[2012-11-01 16:50:04 -0400] newb: I have a problem with my Chef-server machine.
[2012-11-01 16:50:32 -0400] newb: I set it up and I can see via netstat -npl that it is listening on ports 4000 and 4040..
[2012-11-01 16:51:09 -0400] newb: But using a tool like tcping tells me that ports 4000 and 4040 are not connected. Would this mean that it's a firewall problem?
[2012-11-01 16:53:25 -0400] c_t: ohai chefs
[2012-11-01 16:54:55 -0400] yfeldblum: BryanWB, no reason to gemify it as opposed to keeping it a cookbook, but i'd drop the reliance on the sub-resources ... e.g. just use FileUtils.ln_s instead of https://github.com/bryanwb/chef-ark/blob/master/libraries/provider_ark.rb#L143-147
[2012-11-01 16:55:31 -0400] BryanWB: yfeldblum, gud point
[2012-11-01 16:55:59 -0400] yfeldblum: BryanWB, and you can move https://github.com/bryanwb/chef-ark/blob/master/libraries/provider_ark.rb#L193 to the top since it's a stdlib
[2012-11-01 16:56:28 -0400] BryanWB: yfeldblum, why?
[2012-11-01 16:56:38 -0400] BryanWB: by loading it for all there is no cost?
[2012-11-01 16:57:11 -0400] yfeldblum: BryanWB, if you requiring it once at the top you don't have to require it in every method that uses it
[2012-11-01 16:57:24 -0400] BryanWB: yfeldblum, but many methods don't use it
[2012-11-01 16:57:50 -0400] yfeldblum: BryanWB, e.g. here, https://github.com/bryanwb/chef-ark/blob/master/libraries/provider_ark.rb#L300 ... you don't require it but there's a method that does use it
[2012-11-01 16:58:29 -0400] erkules: moin Im having a look @chef. Used to puppet I wonder if there is an overview about the differences and similrities? So Im wondering if there is something like the class-collisions (names) in puppet
[2012-11-01 16:58:34 -0400] yfeldblum: BryanWB, in general the convention in ruby is to require the libraries that a particular class may use at the top of the file because it keeps the internals of the class much simpler than they would otherwise need to be
[2012-11-01 16:58:45 -0400] BryanWB: yfeldblum, gr8 idea, tks
[2012-11-01 16:59:04 -0400] yfeldblum: BryanWB, same with https://github.com/bryanwb/chef-ark/blob/master/libraries/provider_ark.rb#L302 since tmpdir is also a stdlib
[2012-11-01 16:59:38 -0400] BryanWB: erkules, puppet is very easy to get started w/ but soon becomes very constraining
[2012-11-01 17:00:10 -0400] BryanWB: erkules, chef can have a bit of a learning curve but won't limit u over in medium to long-run
[2012-11-01 17:00:11 -0400] yfeldblum: BryanWB, https://github.com/bryanwb/chef-ark/blob/master/libraries/provider_ark.rb#L389-394 can be turned into a combination of FileUtils.mkpath (or FileUtils.mkdir_p, which is an alias) and then FileUtils.chmod_R
[2012-11-01 17:00:33 -0400] BryanWB: erkules, for example after 2 months w/ puppet spent much of my time fighting the dsl
[2012-11-01 17:00:47 -0400] leifmadsen: I started with puppet then switched to chef when I got a new job...
[2012-11-01 17:00:50 -0400] BryanWB: erkules, after 1 year w/ chef, still don't feel limited by it
[2012-11-01 17:01:00 -0400] leifmadsen: didn't do any production stuff with puppet, but found the transition to chef fairly straight forward
[2012-11-01 17:01:16 -0400] leifmadsen: I think I do like that it's just ruby straight up
[2012-11-01 17:01:39 -0400] BryanWB: erkules, also chef tooling, cookbooks, and ecosystem is many times better imho
[2012-11-01 17:01:50 -0400] leifmadsen: one issue I can see is that the dsl in puppet can kind of help you build things more neatly, as with ruby you can tend to get a little too crazy at times
[2012-11-01 17:02:08 -0400] yfeldblum: BryanWB, you could also use sub-resources since they are inherently idempotent and you may want to exploit that, but then you want to test whether they are actually #updated? and if they are, then be sure to mark #new_resource.updated_by_last_action(true)
[2012-11-01 17:02:22 -0400] leifmadsen: as to the original question, I'm not aware of any pages that compare the too -- should be easy enough to search google for people who compare the two in blog posts though
[2012-11-01 17:02:38 -0400] BryanWB: yfeldblum, should i do new_resource.updated_by_last_action(false) as well  if not updated?
[2012-11-01 17:03:16 -0400] yfeldblum: BryanWB, no i think you should never run that method with false, only with true
[2012-11-01 17:03:35 -0400] BryanWB: leifmadsen, erkules  http://devopsanywhere.blogspot.com/2011/10/puppet-vs-chef-fight.html
[2012-11-01 17:03:40 -0400] erkules: BryanWB: looks like matter of taste. So trying to taste chef I would like to understand the diffs. As a fact i.e. I like this PrimaryKeys of the Names in puppet. So I wonder if chef has something similar :)
[2012-11-01 17:03:47 -0400] erkules: BryanWB: thx
[2012-11-01 17:04:09 -0400] leifmadsen: erkules: if I knew puppet well enough I would tell you :)
[2012-11-01 17:04:12 -0400] yfeldblum: BryanWB, evaling strings is frowned upon unless really necessary - https://github.com/bryanwb/chef-ark/blob/master/libraries/provider_ark.rb#L178 ... much better to do ` send "#{cmd}_dump" ` instead
[2012-11-01 17:04:36 -0400] BryanWB: yfeldblum, gr8 idea, didn't know about send when I wrote ark :p
[2012-11-01 17:05:04 -0400] yfeldblum: BryanWB, ruby is all about the send! ... calling all methods everywhere everytime is a send!
[2012-11-01 17:05:27 -0400] BryanWB: yfeldblum, true, true
[2012-11-01 17:06:10 -0400] yfeldblum: BryanWB, anyway just trolling through the code as a rubyist ... but i don't think it needs to be a gem unless you have a particular desire to use it from a non-chef context
[2012-11-01 17:07:12 -0400] erkules: leifmadsen: thx :)
[2012-11-01 17:08:08 -0400] yfeldblum: BryanWB, a common pattern for this: https://github.com/bryanwb/chef-ark/blob/master/libraries/provider_ark.rb#L303-313 ... is `Dir.mktmpdir do ; ... ; end` ... don't need to explicitly rm_rf the tmpdir when you're done since that's what the block does
[2012-11-01 17:08:24 -0400] BryanWB: yfeldblum, tks
[2012-11-01 17:19:52 -0400] AntonZ: does this look right to ya'll ?
[2012-11-01 17:20:00 -0400] AntonZ: user "test" do
[2012-11-01 17:20:01 -0400] AntonZ:   comment "SPS"
[2012-11-01 17:20:01 -0400] AntonZ:   shell "/bin/bash"
[2012-11-01 17:20:01 -0400] AntonZ:   home "/home/test"
[2012-11-01 17:20:01 -0400] AntonZ:   uid "1000"
[2012-11-01 17:20:02 -0400] AntonZ:   gid "1000"
[2012-11-01 17:20:02 -0400] AntonZ: end
[2012-11-01 17:21:32 -0400] AntonZ: becasue i got message saying group doesnt exist and run failed
[2012-11-01 17:21:35 -0400] cheeseplus: AntonZ: it does but I'd recommend using gists instead of pasting in channel ;)
[2012-11-01 17:22:04 -0400] jaygen: jtimberman: your shell script fixed my pg
[2012-11-01 17:22:11 -0400] AntonZ: it's just a few strings, i typically use gist
[2012-11-01 17:22:17 -0400] uncommitted: AntonZ: I had this exact issue a few days ago
[2012-11-01 17:22:19 -0400] cheeseplus: AntonZ: well is there a group with that gid?
[2012-11-01 17:22:45 -0400] uncommitted: I don't know why, but a new cookbook I was creating had caused the issu
[2012-11-01 17:22:49 -0400] AntonZ: there is no group with taht gid, im creating a new user with the specified uid and gid
[2012-11-01 17:23:04 -0400] AntonZ: i hoped it would create group for me
[2012-11-01 17:23:21 -0400] uncommitted: try removing all run_lists and add only that one user recipe and see if it works?
[2012-11-01 17:23:42 -0400] AntonZ: hmm
[2012-11-01 17:24:09 -0400] AntonZ: how would that help creating that group :) ?
[2012-11-01 17:24:18 -0400] cheeseplus: AntonZ: just add a group resource block and that would solve it
[2012-11-01 17:24:36 -0400] uncommitted: I had a cookbook that was interfering last week, this is how I found the issue...
[2012-11-01 17:25:29 -0400] AntonZ: thats an idea, let me look up group block
[2012-11-01 17:25:52 -0400] cheeseplus: AntonZ: in most cookbooks there is a group line/block right before the user block
[2012-11-01 17:27:00 -0400] cheeseplus: AntonZ: example (although not setting the gid) - https://github.com/basho/riak-chef-cookbook/blob/master/recipes/default.rb#L58-66
[2012-11-01 17:27:41 -0400] AntonZ: oh so you just say group "test" and it creates that group ?
[2012-11-01 17:27:55 -0400] cheeseplus: yep, if you want more then use the block
[2012-11-01 17:27:58 -0400] cheeseplus: er more options
[2012-11-01 17:28:09 -0400] cheeseplus: http://wiki.opscode.com/display/chef/Resources#Resources-Group
[2012-11-01 17:28:13 -0400] AntonZ: i just need that group
[2012-11-01 17:28:19 -0400] AntonZ: ah last link thats what i was looking for
[2012-11-01 17:28:21 -0400] AntonZ: thank you
[2012-11-01 17:28:23 -0400] uncommitted: oh, i thought you were using the users cookbook i r dumb
[2012-11-01 17:29:03 -0400] AntonZ: i dont recall what cookbook im using, ive modified it long long ago :)
[2012-11-01 17:30:59 -0400] cheeseplus: you can use the user resource in any recipe
[2012-11-01 17:34:57 -0400] msdavis: HI guys, can anyone point me to a way to dynamically load a role when a server is kickstarted?
[2012-11-01 17:36:42 -0400] jtimberman: jaygen: cool :-).
[2012-11-01 17:37:08 -0400] Majost: Do new environments inherit all the cookbooks from _default, if they are not pinned in the environment specification?
[2012-11-01 17:37:34 -0400] jtimberman: Majost: no, there's no inheritance in environments.
[2012-11-01 17:37:55 -0400] Majost: ah
[2012-11-01 17:39:24 -0400] luckymike: well _default is no environment pinning, so in that sense, a new environment would behave the same as _default, or am I not understanding the question?
[2012-11-01 17:39:44 -0400] Majost: that basically is the question
[2012-11-01 17:40:23 -0400] Majost: I created my first environment, but chef is giving me FATAL: Net::HTTPServerException: 412 "Precondition Failed"
[2012-11-01 17:40:45 -0400] jtimberman: The _default environment only exists so if you didn't create one, your nodes would have an environment.
[2012-11-01 17:40:50 -0400] Majost: looking at the error in detail, it looks like it is unable to find cookbooks which I have defined in _default
[2012-11-01 17:41:01 -0400] jtimberman: because that was a breaking change in the API from .9 -> .10
[2012-11-01 17:41:06 -0400] Majost: ah
[2012-11-01 17:41:46 -0400] jtimberman: http://wiki.opscode.com/display/chef/Environments#Environments-The%5CdefaultEnvironment
[2012-11-01 17:43:19 -0400] Majost: jtimberman: yeah -- I have been going through the doc -- there just some edge stuff is a little fuzzy.. eg: getting cookbooks from _default into the new environment in bulk
[2012-11-01 17:43:46 -0400] Majost: I think this is where spiceweasle will become handy though
[2012-11-01 17:49:03 -0400] awgross: Majost: knife cookbook upload all -c path/to/knife.rb -E new_env
[2012-11-01 17:49:21 -0400] awgross: Majost: if you still have a local copy
[2012-11-01 17:51:55 -0400] Majost: ah, that makes sense. hah
[2012-11-01 18:03:13 -0400] drewww: for version controlling cookbooks that deploy your own stuff, do you put those in the repo with the main code or in a separate cookbook repo?
[2012-11-01 18:03:19 -0400] drewww: just curious about best practices
[2012-11-01 18:07:32 -0400] jaimeg5002: ah just battling with devs about this
[2012-11-01 18:07:48 -0400] jaimeg5002: I'm for separating config from source code
[2012-11-01 18:08:02 -0400] awgross: drewww: i currently keep them in 1 big repo, finding more and more reasons to put them in separate repos
[2012-11-01 18:08:20 -0400] drewww: hmm okay
[2012-11-01 18:08:40 -0400] jaimeg5002: my reasoning is that Config and Source code do not evolve together as the 2 wheels of the same bike
[2012-11-01 18:08:53 -0400] jaimeg5002: on the contrary they're quite independant
[2012-11-01 18:08:53 -0400] drewww: yeah, but they're not totally disconnected, either
[2012-11-01 18:09:02 -0400] cheeseplus: drewww: I keep our cookbooks in a separate repo and updated in step with the software
[2012-11-01 18:09:07 -0400] drewww: easy to imagine having a branch on the source that change dependencies or config requirements or someting
[2012-11-01 18:09:07 -0400] jaimeg5002: no they're related but indenpedent
[2012-11-01 18:09:09 -0400] yfeldblum: drewww, create an explicit mandatory interface between applications and platform, and then neither side has to care
[2012-11-01 18:09:15 -0400] yfeldblum: drewww, like heroku
[2012-11-01 18:09:18 -0400] yfeldblum: :D
[2012-11-01 18:09:43 -0400] drewww: ah, well, we wouldn't all be here if we were completely happy with heroku-like setups, huh? :D
[2012-11-01 18:10:56 -0400] drewww: but yeah I think i'll go with separate repos for config and try to lock-step branch names with the source as they evolve
[2012-11-01 18:11:13 -0400] yfeldblum: drewww, no, i mean the simplicity and clarity of the mandatory interface between an app and the platform it runs on: http://www.12factor.net/
[2012-11-01 18:11:16 -0400] jaimeg5002: Basically configuration and code should live in 2 separate places for the same reason deployment and configuration are 2 different processes both responsible for the good functioning of the application.
[2012-11-01 18:11:47 -0400] drewww: the 12 factor stuff is great but I'm not really in a position to have all that from day 1
[2012-11-01 18:12:20 -0400] jaimeg5002: drewww yeah pick your battles...
[2012-11-01 18:12:27 -0400] drewww: and things like stateless processes are great but not viable in many situations
[2012-11-01 18:12:45 -0400] drewww: we're not all building request/response apis
[2012-11-01 18:13:08 -0400] jaimeg5002: yup
[2012-11-01 18:13:28 -0400] drewww: do people do deploy with chef too? I have it sort of working with my recipe but it feels dirty
[2012-11-01 18:13:40 -0400] drewww: but I also don't really want to have a separate thing for deploy when I'm still moving quickly
[2012-11-01 18:13:52 -0400] jaimeg5002: I go with rpm for the install "logic"
[2012-11-01 18:14:22 -0400] jaimeg5002: it's what the OS think is yummy
[2012-11-01 18:14:43 -0400] jaimeg5002: it wants packages
[2012-11-01 18:15:13 -0400] yfeldblum: drewww, the point isn't "replicate 12factor exactly regardless of your environment"
[2012-11-01 18:15:35 -0400] yfeldblum: drewww, the point is "come up with a simple mandatory interface between apps and platform that works for your environment"
[2012-11-01 18:15:49 -0400] drewww: yeah, it's definitely a worthwhile aspiration
[2012-11-01 18:16:42 -0400] yfeldblum: drewww, 12factor works for many people, so you can use that as a jumping-off point, but the idea is it significantly reduces the number of different things your chef stuff needs to do differently per app
[2012-11-01 18:17:18 -0400] drewww: well, I'm just dipping my toe into this for the first time after years of never moving outside prototypes and not having to care
[2012-11-01 18:17:23 -0400] drewww: so it's a lot to absorb all at once :D
[2012-11-01 18:17:42 -0400] drewww: but yes trying to aim for infrastructure like that eventually
[2012-11-01 18:17:45 -0400] thehar: Opinion time: When ChefSpecing bash resources.. best practice to use bash or execute?
[2012-11-01 18:18:50 -0400] awgross: thehar: assuming your linting doesn't care, go for bash if you know you will be using bash, it will limit people accidentally running it in the default shell which could have side effects or failures
[2012-11-01 18:19:41 -0400] thehar: ChefSpec doesn't su pport script resources, afaik.
[2012-11-01 18:19:45 -0400] thehar: You'd have to test on a template.
[2012-11-01 18:23:52 -0400] Majost: yeah -- that is a good question... I know we have been using Jenkins to push the cookbooks on checkin... but we have been doing it on a per cookbook basis, which doesn't work well with multiple environments imho.
[2012-11-01 18:28:21 -0400] awgross: did LWRP get some overhaul in 10.14.*?  having issues vs 10.10/12
[2012-11-01 18:31:06 -0400] jensofsweden: Anyone an expert on databags + bash scrips in recipes? =)
[2012-11-01 18:32:34 -0400] bngreer: I thought convention was to not use bash scripts in recipes
[2012-11-01 18:33:21 -0400] awgross: can you explain what you are trying to do a bit more jensofsweden
[2012-11-01 18:33:25 -0400] jensofsweden: Perhaps there is an another way to do it, but I just started using chef 2-3 days ago =)
[2012-11-01 18:33:30 -0400] yfeldblum: jensofsweden, don't stick bash scripts in data bags?
[2012-11-01 18:33:48 -0400] yfeldblum: awgross, what kind of issues?
[2012-11-01 18:34:00 -0400] jensofsweden: No, its not bashscrips in the databag.  Ill explain
[2012-11-01 18:35:07 -0400] awgross: yfeldblum: seeing weird stuff where it says "invalid action" when passing :create to my LWRP.  :create is a defined action and it is failing inside of it on a cookbook_file
[2012-11-01 18:35:12 -0400] awgross: ill pst a gist
[2012-11-01 18:36:48 -0400] awgross: yfeldblum: https://gist.github.com/510e95e961095fdc5696
[2012-11-01 18:37:04 -0400] awgross: works fine in 10.10, no luck in 10.14.4
[2012-11-01 18:37:12 -0400] jensofsweden: I use RHN Satellite to manage servers as far as patching and kickstarting goes. But then I want to use chef to handle the application stack. So my first recipe is install apache on a machine, deploy config. Works awesome. But in the end i want to use a unix command rhn-tool to make the server add itself to the right group in the Satellite, and it requires username and password. When i do the bash snippet in cleartext it works grea
[2012-11-01 18:37:12 -0400] jensofsweden: t, but i want to use a encrypted databag to provide the password and username for the snippet. I can get it to work if i use it outside of the bash snippet but not inside.
[2012-11-01 18:37:23 -0400] jensofsweden: Understand what im trying to accomplish?
[2012-11-01 18:37:27 -0400] awgross: yfeldblum: still eliminating bits to see if I can narrow it down
[2012-11-01 18:37:34 -0400] mattupstate: can you load a databag in a role definition?
[2012-11-01 18:37:59 -0400] yfeldblum: awgross, does the resource declare the create action?
[2012-11-01 18:38:19 -0400] awgross: yes, ill psot the resource provider/resource code
[2012-11-01 18:38:57 -0400] jensofsweden: mattupstate: sorry for not understanding, but what do you meen? 2-3 days of chef experience =) I did a test and made it a variable and put it inside a test file on the system and then i saw the values, so the databag works =)
[2012-11-01 18:39:53 -0400] awgross: yfeldblum: https://gist.github.com/7a0a7a4f0ac1234b58f9
[2012-11-01 18:40:48 -0400] jensofsweden: or is there a better way then using a bash snippet to accomplish what im trying to do? /usr/local/bin/rhn-tool -s <srv> -l <usr> -p <pwd> -g Apache is the command im running in the bash snippet, or is there a way to better chefify it?
[2012-11-01 18:40:59 -0400] awgross: yfeldblum: and here is how I am calling it https://gist.github.com/8331b387874079a9ed0a
[2012-11-01 18:44:02 -0400] awgross: yfeldblum: I have no issues directly calling cookbook file (with the same file) instead of calling the LWRP
[2012-11-01 18:46:29 -0400] awgross: yfeldblum: unfortunately I have to run to an appointment, ill try to stop by later for updates.  Last bits of info, ubuntu 12.04.1 on VirtualBox using Vagrant w/ Chef Solo
[2012-11-01 18:47:21 -0400] mattupstate: jensofsweden: i'm trying to determine how best to set my root password for mysql
[2012-11-01 18:47:59 -0400] mattupstate: if i place it in a databag i was curious if i could get the value of it form within a role definition
[2012-11-01 18:48:03 -0400] yfeldblum: mattupstate, no you cannot load a data-bag item in a role!
[2012-11-01 18:48:14 -0400] yfeldblum: mattupstate, because roles are static JSON data
[2012-11-01 18:48:16 -0400] mattupstate: yfeldblum: thanks
[2012-11-01 18:48:17 -0400] mattupstate: right
[2012-11-01 18:48:29 -0400] blake_: hey
[2012-11-01 18:48:33 -0400] mattupstate: just wanted to make sure there wasn't some special way to do it
[2012-11-01 18:49:05 -0400] blake_: does anyone know why i would be seeing "chpst: fatal: unable to run: bundle: file does not exist" when sv is trying to ./run unicorn
[2012-11-01 18:49:16 -0400] blake_: ./run works if i execute it directly
[2012-11-01 18:49:20 -0400] blake_: but the service is failing with that error
[2012-11-01 18:53:43 -0400] yfeldblum: blake_, if you're making a runit script, you may want to set and export the PATH variable in the runit script early o
[2012-11-01 18:54:04 -0400] blake_: the runit script is being generated by the application & application_ruby cookbook
[2012-11-01 18:54:15 -0400] blake_: how do i go about patching that process to include a custom path?
[2012-11-01 19:00:13 -0400] behemphi: @mattray  Another knife-rackspace question (checking the doc) :  For the V2 cloud, if I issue `knife rackspace server delete fooutil -P` I expect the server `fooutil` to be deleted by name, however it is not found.  I can clearly see it in the list.  Is there deep magic here for delete by name to work?
[2012-11-01 19:01:59 -0400] mattray: behemphi: I believe it's deleting by the id?
[2012-11-01 19:02:39 -0400] mattray: behemphi: since that's how it works with v1. I think it should support both eventually
[2012-11-01 19:02:52 -0400] behemphi: crap, I misread the last sentence, sorry 'bout that
[2012-11-01 19:13:50 -0400] Urocyon: There is something Berkshelf doesn't like about uploading chef-client.  It always fails when uploading it.  No error. it just doesn't upload any more cookbooks.
[2012-11-01 19:17:23 -0400] Urocyon: Maybe it's something wrong with my version, 0.6.0.beta2
[2012-11-01 19:19:25 -0400] nevans: I'd like to somehow get the public instance address or hostname from `knife ec2 create ...`, but I can't find any mechanism for doing so (other than copy/paste).
[2012-11-01 19:20:29 -0400] nevans: specifically, so I can use it with chef-solo: push vs. pull... I need the public IP to push chef-solo.  If I were using chef-client, it would pull its config from chef-server and everything would be fine.
[2012-11-01 19:23:09 -0400] Urocyon: same problem with berks 0.6.0.beta4
[2012-11-01 19:25:57 -0400] JustinCampbell: Urocyon: which problem?
[2012-11-01 19:26:22 -0400] Urocyon: berks upload stops uploading cookbooks after it has uploaded chef-client.
[2012-11-01 19:26:34 -0400] Urocyon: Wherever I put chef-client in my Berksfile, that's where it stops.
[2012-11-01 19:27:16 -0400] JustinCampbell: Urocyon: berks upload stops uploading cookbooks after it has uploaded chef-client.
[2012-11-01 19:27:17 -0400] JustinCampbell: Urocyon:
[2012-11-01 19:27:17 -0400] JustinCampbell: Wherever I put chef-client in my Berksfile, that's where it stops.
[2012-11-01 19:27:20 -0400] JustinCampbell: reset: ^^
[2012-11-01 19:28:07 -0400] reset: what version of Berkshelf
[2012-11-01 19:28:26 -0400] Urocyon: 0.6.0.beta4 currently, also beta2
[2012-11-01 19:28:43 -0400] Urocyon: And what do you mean by reset?
[2012-11-01 19:29:21 -0400] JustinCampbell: its his name :p
[2012-11-01 19:29:27 -0400] JustinCampbell: gotta go have fun you 2
[2012-11-01 19:29:58 -0400] Urocyon: ah..
[2012-11-01 19:30:08 -0400] Urocyon: somehow I missed that.  lol
[2012-11-01 19:32:36 -0400] Urocyon: any ideas, reset?
[2012-11-01 19:40:21 -0400] reset: Urocyon: can you gist me your Berksfile and metadata.rb of the cookbook you're working with?
[2012-11-01 19:42:26 -0400] Urocyon: reset: https://gist.github.com/b8e469cb06e9ab25925c
[2012-11-01 19:42:33 -0400] Urocyon: I recently sorted that file.
[2012-11-01 19:42:54 -0400] reset: let me try it out
[2012-11-01 19:43:20 -0400] Urocyon: the code.cete.us repos are private
[2012-11-01 19:45:37 -0400] Urocyon: If I remove chef-client it will upload everything else if I put chef-client at the end it seems to work.
[2012-11-01 19:45:50 -0400] reset: so wierd
[2012-11-01 19:45:54 -0400] Urocyon: This is just running "berks upload"
[2012-11-01 19:46:02 -0400] reset: yeah I can't repo  it because the repos are private to me
[2012-11-01 19:46:08 -0400] reset: repro*
[2012-11-01 19:46:24 -0400] Urocyon: Tried looking at the server log, but didn't see any errors pop out.
[2012-11-01 19:46:31 -0400] erikh: is the cookbook frozen?
[2012-11-01 19:46:33 -0400] reset: what does the output look like?
[2012-11-01 19:48:04 -0400] Urocyon: output looks normal it says it is uploading each cookbook then says it's uploading chef-client, then it returns to the prompt.
[2012-11-01 19:48:17 -0400] Urocyon: no error
[2012-11-01 19:50:05 -0400] PRK_nz: Hi, using 'include_recipe' within another recipe (say default for example), will that actually make that recipe run? The wiki seems to suggest that ("4. Recipes from other Cookbooks can be included with include_recipe."), but then goes on to say "The included recipe's resources will be inserted in order, at the point where include_recipe was called.". To me, that sounds like it won't actually run it, just load the resources (which, I also thou
[2012-11-01 19:50:07 -0400] PRK_nz: gh would be linked with the cookbook, not a recipe within a cookbook). Thanks.
[2012-11-01 19:50:40 -0400] bougyman: it will run them
[2012-11-01 19:50:44 -0400] bougyman: I do this in a cookbook.
[2012-11-01 19:50:47 -0400] bougyman: er in a recipe
[2012-11-01 19:50:54 -0400] Urocyon: reset: further troubleshooting I linked it into my chef cookbooks directory and used knife to upload.  I got an error.
[2012-11-01 19:51:13 -0400] reset: Urocyon: you got an error uploading the chef-client cookbook with Knife?
[2012-11-01 19:51:20 -0400] reset: what was the error?
[2012-11-01 19:51:37 -0400] Urocyon: https://gist.github.com/9b5f812dea91095e0544
[2012-11-01 19:51:55 -0400] reset: ok
[2012-11-01 19:52:10 -0400] reset: I need to stop eating the error then
[2012-11-01 19:52:13 -0400] reset: and raise out
[2012-11-01 19:52:20 -0400] reset: good find
[2012-11-01 19:52:32 -0400] reset: did you put a big file in your chef-client cookbook
[2012-11-01 19:54:01 -0400] Urocyon: I didn't put anything in there.  It should be the plain opscode chef-client cookbook.
[2012-11-01 19:55:53 -0400] reset: your Chef Server is rejecting the package
[2012-11-01 19:55:55 -0400] Urocyon: I'm trying moving that cookbook out of .berkshelf/cookbooks and reinstalling.
[2012-11-01 19:55:57 -0400] reset: it thinks it's too big
[2012-11-01 19:56:09 -0400] Urocyon: yep, pretty strange.
[2012-11-01 19:56:17 -0400] reset: can you figure out if there ssomething unusual in there?
[2012-11-01 19:56:23 -0400] reset: maybe a link to some big directory or something
[2012-11-01 19:58:09 -0400] Urocyon: yep, I found some miscellaneous file tucked in there.
[2012-11-01 19:58:32 -0400] Urocyon: Not sure how it got there, but it didn't belong.
[2012-11-01 19:58:44 -0400] reset: ok
[2012-11-01 19:58:49 -0400] reset: I'll improve the error messaging there
[2012-11-01 19:58:53 -0400] reset: sorry for the issue
[2012-11-01 19:58:55 -0400] btm: dschultz: http://tickets.opscode.com/browse/COOK-1737
[2012-11-01 19:59:14 -0400] Urocyon: Once we tracked down the error message it wasn't so bad.
[2012-11-01 19:59:33 -0400] btm: dschultz: take a look at how chef-solo is handled there due to the node.save related to a password generation with the openssl cookbook.
[2012-11-01 20:00:09 -0400] Urocyon: oh on berkshelf what would be the syntax for just uploading one cookbook, instead of all cookbooks?
[2012-11-01 20:00:15 -0400] dschultz: btm: Thank you. That's exactly what I needed :)
[2012-11-01 20:00:22 -0400] reset: Urocyon: doesn't exist yet
[2012-11-01 20:00:34 -0400] reset: but it can
[2012-11-01 20:00:46 -0400] reset: do you want it?
[2012-11-01 20:01:31 -0400] Urocyon: The other problem I run into is wanting to update my Berksfile.lock to pick up one cookbook I changed, but since I don't have everything locked down in my berksfile I get things updated when I maybe didn't want them to update.
[2012-11-01 20:01:45 -0400] Urocyon: Is there a good way to update a single cookbook?
[2012-11-01 20:02:10 -0400] Urocyon: Maybe just alter the lock file directly?
[2012-11-01 20:02:41 -0400] reset: the lockfile is actually a problem right now
[2012-11-01 20:02:49 -0400] reset: it was added into the mix too soon
[2012-11-01 20:02:52 -0400] reset: and has been neglected
[2012-11-01 20:03:02 -0400] reset: that is another command that needs to be added
[2012-11-01 20:03:09 -0400] reset: to mimic Bundler's behavior
[2012-11-01 20:03:13 -0400] reset: of allowing you to update a single cookbook
[2012-11-01 20:03:57 -0400] btm: is mike fiedler in here?
[2012-11-01 20:04:15 -0400] blake_: the solution to "chpst: fatal: unable to run: bundle: file does not exist" is to ensure that the PATH is written to the run file
[2012-11-01 20:04:18 -0400] blake_: for those that follow
[2012-11-01 20:05:22 -0400] reset: Urocyon: https://github.com/RiotGames/berkshelf/issues/190 https://github.com/RiotGames/berkshelf/issues/189 https://github.com/RiotGames/berkshelf/issues/191
[2012-11-01 20:06:37 -0400] Urocyon: cool.
[2012-11-01 20:15:05 -0400] davidmz: I have deleted my validation.pem file by mistake from my /etc/chef folder how do I re-create it
[2012-11-01 20:16:13 -0400] siezer: davidmz is there a client.pem?
[2012-11-01 20:16:27 -0400] davidmz: yes
[2012-11-01 20:16:57 -0400] Urocyon: reset: is there a good way to handle stubbing of cookbooks now?  I haven't run into too many problems with not having them, but spice weasel, for example, wants to check that all my cookbooks are there and can't.  There are probably other knife tools that expect them to be there.
[2012-11-01 20:16:59 -0400] siezer: then you're good. The only thing the validation.pem is ever used for is to register the node and get that client.pem
[2012-11-01 20:17:15 -0400] siezer: as a matter of fact, you should delete the validation.pem from your machines early in your run_list
[2012-11-01 20:17:51 -0400] siezer: https://github.com/opscode-cookbooks/chef-client/blob/master/recipes/delete_validation.rb
[2012-11-01 20:18:25 -0400] davidmz: I want to use it to register nodes
[2012-11-01 20:18:27 -0400] reset: Urocyon: what do you mean by stubbing? Like installing them to a specific directory?
[2012-11-01 20:18:45 -0400] davidmz: I want to bootstrap nodes using knife so I need the file
[2012-11-01 20:19:02 -0400] siezer: is it not still on your workstation?
[2012-11-01 20:19:22 -0400] Urocyon: in older versions of berkshelf you could have it put symlinks into your cookbooks directory linking to wherever you had berkshelf keeping them.
[2012-11-01 20:19:25 -0400] davidmz: ok I have solved the issue using a restart
[2012-11-01 20:19:41 -0400] siezer: if not, you can regenerate it on the server (which will invalidate the old one)
[2012-11-01 20:19:42 -0400] reset: Urocyon: berks install --path /where/to/go
[2012-11-01 20:19:50 -0400] reset: --shims was replaced with the --path flag
[2012-11-01 20:20:18 -0400] Urocyon: does that create symlinks the way berks --shims did?
[2012-11-01 20:20:33 -0400] reset: no it doesn't create links, it creates real files
[2012-11-01 20:20:40 -0400] jhunter: q: how to cookbook_file in a file that lives in a different cookbook?
[2012-11-01 20:21:16 -0400] reset: the problem we had is that those were hardlinks and not symlinks
[2012-11-01 20:21:30 -0400] reset: and it was a stop gap until the vagrant plugin was done
[2012-11-01 20:21:52 -0400] Urocyon: reset: but then your cookbooks would be in folders like chef-client-1.2.0 or something, where your other tools would expect them to not have the version number as a part of their directory name, no?
[2012-11-01 20:22:09 -0400] reset: no, when you use the path command it "vendors" the cookbooks
[2012-11-01 20:22:18 -0400] reset: and it installs them in the way you expect
[2012-11-01 20:22:24 -0400] reset: chef-client, nginx, apache, etc etc
[2012-11-01 20:22:42 -0400] Urocyon: ah.  I made an assumption that it just changed the location of the cookbooks.
[2012-11-01 20:23:11 -0400] Urocyon: So never tried it.  Since I don't have a problem with them being outside my chef repository.  I actually preferred that.
[2012-11-01 20:23:57 -0400] Urocyon: I suppose I can still do that, just use a conf setting to specify the location of my cookbooks.
[2012-11-01 20:23:59 -0400] reset: yeah the --path option is there for people who aren't ready to make a jump to throwing away the idea of "the Chef Repo"
[2012-11-01 20:44:53 -0400] awgross: yfeldblum: back, any ideas what might be going on, or should I just submit a bug report
[2012-11-01 20:53:48 -0400] dyer: Ohai :)
[2012-11-01 21:00:40 -0400] qhartman: quick nerd quiz: What's your favorite IRC Client?
[2012-11-01 21:00:46 -0400] kryptek: BitchX
[2012-11-01 21:01:01 -0400] kryptek: linux!3.0.4-linode38 bitchx-1.1-final! - prevail[0123a] (wired)
[2012-11-01 21:01:02 -0400] kryptek: :-D
[2012-11-01 21:01:18 -0400] qhartman: heh
[2012-11-01 21:01:54 -0400] dschultz: XChat
[2012-11-01 21:02:08 -0400] laurent\: hmm grapevine or amirc
[2012-11-01 21:02:12 -0400] qhartman: I use XChat typically, but recently things seem kinda broken with it, which is why I ask
[2012-11-01 21:04:32 -0400] mattray: qhartman: for osx? Adium
[2012-11-01 21:05:48 -0400] bluepojo: I use adium as well not cause it's the best irc client but cause it's the lowest friction
[2012-11-01 21:09:30 -0400] Urocyon: textual has worked well for me
[2012-11-01 21:09:43 -0400] qhartman: yeah, the Mac users in my office tend to use textual
[2012-11-01 21:09:48 -0400] laurent\: i've never tried erc
[2012-11-01 21:10:08 -0400] qhartman: and the really militant Linux nerds use some lightweight console app that I can't recall the name of
[2012-11-01 21:10:12 -0400] juliancdunn: it even has a Twitter client extension, twirssi :)
[2012-11-01 21:12:06 -0400] thom: irssi
[2012-11-01 21:12:31 -0400] Urocyon: I love the Numb3rs video on irssi's site.
[2012-11-01 21:12:57 -0400] mattray: Currently use Adium for IRC, HipChat, GTalk, Jabber
[2012-11-01 21:15:58 -0400] wickett: if I need to one time disk operations like setting up a file system, what is the recommended way
[2012-11-01 21:16:02 -0400] wickett: ?
[2012-11-01 21:16:33 -0400] wickett: was working on the chef mount resource
[2012-11-01 21:20:30 -0400] rhodee: running Chef 10.6.2 on Ubuntu 12.04 VM and ran into an issue with 'json_class' . Stack trace says a missing method 'delete'. anyone with experience have any insight? http://stackoverflow.com/questions/13181226/chef-solo-run-list-error-with-json
[2012-11-01 21:22:02 -0400] mattray: wickett: the safest way is to set an attribute like ['configured'] = true
[2012-11-01 21:22:22 -0400] mattray: wickett: specific to your particular cookbook, rather than monkey around with the run list
[2012-11-01 21:22:31 -0400] mattray: drbd cookbook behaves that way
[2012-11-01 21:22:45 -0400] wickett: ok
[2012-11-01 21:22:59 -0400] mattray: use the attribute to not do destructive stuff again :)
[2012-11-01 21:23:31 -0400] wickett: yeah
[2012-11-01 21:23:39 -0400] wickett: I was trying to figure that out
[2012-11-01 21:23:49 -0400] wickett: what is the chef resource you would use
[2012-11-01 21:23:56 -0400] wickett: generic script?
[2012-11-01 21:24:17 -0400] juliancdunn: damn, virtualbox.org is down
[2012-11-01 21:24:22 -0400] wickett: mattray: do you have a link for the drdb cookbook?
[2012-11-01 21:24:34 -0400] juliancdunn: anyone have a copy of the virtualbox installer for OS X?
[2012-11-01 21:24:36 -0400] wickett: I dont see it in the community
[2012-11-01 21:25:09 -0400] wickett: mattray: or any example of using that attr
[2012-11-01 21:25:10 -0400] mattray: wickett: https://github.com/opscode-cookbooks/drbd/blob/master/recipes/pair.rb#L60
[2012-11-01 21:26:06 -0400] wickett: mattray: sweet
[2012-11-01 21:26:12 -0400] wickett: that is what I was looking for
[2012-11-01 21:26:25 -0400] mattray: cool, good luck
[2012-11-01 21:27:35 -0400] wickett: oh, where does the node['drdb']['configured'] get set to true?
[2012-11-01 21:27:59 -0400] mattray: wickett: line 87
[2012-11-01 21:27:59 -0400] mattray: https://github.com/opscode-cookbooks/drbd/blob/master/recipes/pair.rb#L87
[2012-11-01 21:28:34 -0400] mattray: the ruby block is used so it can subscribe to the mkfs
[2012-11-01 21:29:54 -0400] wickett: mattray: ok
[2012-11-01 21:30:21 -0400] wickett: mattray: I think I am going to try and rig this up
[2012-11-01 21:45:40 -0400] mchan-citytech: question - i was running chef-client cookbook 1.1.2 on all of our instances.  just downloaded the latest chef-client 1.2 cookbook, modified appropriate attributes, then ran chef-client to upgrade to the new cookbook.   Now I have problems with "Error Syncing Cookbooks" and "DEBUG: Re-raising exception: Net::HTTPServerException - 404 "Not Found""
[2012-11-01 21:45:43 -0400] mchan-citytech: Any suggestions?
[2012-11-01 21:46:09 -0400] mchan-citytech: the new chef-client cookbook basically breaks chef runs on all our instances (20-30 now cannot run chef-client anymore)
[2012-11-01 21:54:08 -0400] pulsejc: does hosted chef have an event log that can be easily viewed or hooks that could be used to send changes to something like loggly?
[2012-11-01 21:56:04 -0400] pulsejc: trying to find a way to have a record of when an attribute is changed or a node to help debug production issues
[2012-11-01 21:56:31 -0400] pulsejc: s/or a node/or a node is created/
[2012-11-01 22:06:43 -0400] uncommitted: has anyone written a more advanced "how to use data bags in templates" tutorial? I'm trying to use something like this: http://pastebin.com/tfaeGTiW and having a difficult time figuring it out
[2012-11-01 22:20:11 -0400] KevMo: Hey guys, quick question.  I need an earlier version of Chef than what I am getting by adding Opscode APT Repository with echo "deb http://apt.opscode.com/ `lsb_release -cs`-0.10 main" | sudo tee /etc/apt/sources.list.d/opscode.list  How can I get an earlier version, specifically 10.12.0-1
[2012-11-01 22:26:37 -0400] yfeldblum: jtimberman, doing dependency resolution on the server: oops!
[2012-11-01 22:26:53 -0400] yfeldblum: jtimberman, better idea: chef-client does dependency resolution?
[2012-11-01 22:33:33 -0400] thehar: where is that cheet sheet someone at opscode was working on at the chef summit?
[2012-11-01 22:34:30 -0400] miah: herp to the derp
[2012-11-01 22:34:38 -0400] thehar: i want to print it
[2012-11-01 22:34:41 -0400] thehar: and give to all the peoples
[2012-11-01 22:36:20 -0400] lflux: is there a script to update the omnibus client to a newer version? or do people just update the packages
[2012-11-01 22:36:55 -0400] kyleb: lflux: check out http://community.opscode.com/cookbooks/omnibus_updater
[2012-11-01 22:38:12 -0400] lflux: kyleb: very handy, thanks
[2012-11-01 22:40:29 -0400] PRK_nz: bougyman: Thanks for earlier
[2012-11-01 22:41:58 -0400] mattray: thehar: I don't know what doc it was, but http://docs.opscode.com/ should have it soon
[2012-11-01 22:43:53 -0400] c_t: http://docs.opscode.com/ works, but I am disappoint that http://whatsup.opscode.com/ does not
[2012-11-01 22:47:23 -0400] miah: http://status.opscode.com/
[2012-11-01 22:47:23 -0400] miah: ?
[2012-11-01 22:47:32 -0400] thehar: mattray: awesome
[2012-11-01 22:47:44 -0400] miah: neer heard of 'whatsup...'
[2012-11-01 22:47:54 -0400] miah: though it would be nice if status wasn't a tumblr..
[2012-11-01 22:48:13 -0400] mattray: miah: yeah, they had a concurrent outage with us last week
[2012-11-01 22:48:21 -0400] erikh: it just need to be <h1>Nothin' Holmes</h1> centered on the screen
[2012-11-01 22:48:25 -0400] mattray: postmortem is still being written
[2012-11-01 22:48:35 -0400] PRK_nz: Shef on Windows, backspace doesn't work, is that normal? (if you make a type, you have to C-c and start again)
[2012-11-01 22:48:48 -0400] PRK_nz: typo*
[2012-11-01 22:49:00 -0400] mattray: later alls
[2012-11-01 22:49:32 -0400] miah: PRK_nz: try Control-H
[2012-11-01 22:49:52 -0400] PRK_nz: miah: nope, no deal :(
[2012-11-01 22:49:56 -0400] miah: doh :/
[2012-11-01 22:50:00 -0400] miah: file a bug please =)
[2012-11-01 22:50:34 -0400] PRK_nz: I'll just confirm on another RDP client (although backspace works elsewhere in mine)
[2012-11-01 22:52:18 -0400] PRK_nz: confirmed on MS RDP client too
[2012-11-01 22:53:12 -0400] PRK_nz: Does Shef fall under Chef project?
[2012-11-01 22:53:58 -0400] miah: ya
[2012-11-01 22:54:03 -0400] PRK_nz: ta
[2012-11-01 22:54:26 -0400] PRK_nz: Ah, components ;)
[2012-11-01 22:55:57 -0400] PRK_nz: ah CHEF-3284
[2012-11-01 23:00:29 -0400] PJPJC: Hi guys
[2012-11-01 23:00:48 -0400] PJPJC: Struggling with remote_directory. Was wondering if someone could help...
[2012-11-01 23:01:53 -0400] PJPJC: Basically I just want to copy a directory which is in files/default
[2012-11-01 23:02:04 -0400] PJPJC: and I get an error that I don't undertsand:
[2012-11-01 23:02:06 -0400] PJPJC: ERROR: remote_directory[/data/checker/test2] (/usr/local/ey_resin/ruby/lib/ruby/gems/1.8/gems/chef-0.6.0.2/lib/chef/recipe.rb line 187) had an error:
[2012-11-01 23:02:14 -0400] PJPJC: Address family not supported by protocol - socket(2)
[2012-11-01 23:02:46 -0400] PJPJC: Does it make sense to someone?
[2012-11-01 23:07:06 -0400] jtimberman: yfeldblum: hmm? I can't really speak to the design of the dependency resolver, but if you have ideas/suggestions please post to the chef-dev list.
[2012-11-01 23:07:50 -0400] jtimberman: KevMo: "You can't" - older versions of the debs aren't available because of the way the repo manager, reprepro works.
[2012-11-01 23:09:38 -0400] jtimberman: PJPJC: Looks like Engine Yard? You'll probably need to ask them, as Chef 0.6.0 is over 3 years old now, or what the recipe you're using might be doing.
[2012-11-01 23:09:59 -0400] PJPJC: Oh.... OK
[2012-11-01 23:10:01 -0400] PJPJC: yes, Engine Yard
[2012-11-01 23:10:15 -0400] PJPJC: thing is though
[2012-11-01 23:10:25 -0400] PJPJC: I tested an almost empty receipe
[2012-11-01 23:10:50 -0400] PJPJC: that does nothing but tries to copy the content of a folder that sits in files/default
[2012-11-01 23:11:41 -0400] PJPJC: Acutally if I may ask: how do one simply copy all the content of files/default?
[2012-11-01 23:12:01 -0400] PJPJC: Maybe I simply should not use remote_directory?
[2012-11-01 23:21:20 -0400] yfeldblum: jtimberman, just (1) that dependency resolution, whatever the design of the resolver, can take a long time i pathological cases and (2) that the chef-client can do the resolution itself and there's no need to have the chef-server do that (and risk long-running resolves)
[2012-11-01 23:32:07 -0400] heidi644: I am trying to modify a 3rd party cookbook to set up postgres, and it is referencing "postgresql_database_user" provider(?) which cannot be found.  Best I can tell I need the "database" cookbook.  If this is true how do I include the postgresql_database_user resource/provider in my recipe?
[2012-11-01 23:50:19 -0400] beandip: Has anyone had success with the knife rackspace plugin on next-gen cloud servers?
[2012-11-01 23:50:22 -0400] beandip: I get this:
[2012-11-01 23:50:24 -0400] beandip: http://pastebin.com/RYH0rduF
[2012-11-01 23:50:46 -0400] beandip: ERROR: Fog::Compute::RackspaceV2::BadRequest: Fog::Compute::RackspaceV2::BadRequest
[2012-11-01 23:52:32 -0400] JasonF: beandip: I'm pretty sure there's a separate plugin for
[2012-11-01 23:52:40 -0400] JasonF: *Nova stuff. Lemme see.
[2012-11-01 23:53:06 -0400] JasonF: beandip: http://www.opscode.com/blog/2012/06/27/chef-for-openstack/ I think knife-openstack might be what you need
[2012-11-01 23:54:12 -0400] JasonF: beandip: I usually use nova CLI or mycloud.rackspace.com to build my machines before bootstrapping them, so I'm not sure. Let me know if that was the right answer though.
[2012-11-01 23:55:38 -0400] jtimberman: heidi644: put depends "database" in your cookbook's metadata.rb
