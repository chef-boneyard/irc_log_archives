[2012-11-18 01:17:46 -0500] darthdeus: where should i install ruby in a rails app if i need a specific version? should the app have it's own cookbook?
[2012-11-18 01:19:25 -0500] darthdeus: btw i found that after clean install, i have to do sudo apt-get update before any "package 'foo'" will run without failing ... is there a way to force that in chef?
[2012-11-18 01:33:08 -0500] allane: hi.  i'm trying run 'kitchen test --platform ubuntu-12.04' from a newly created cookbook via "knife cookbok create _name_".  but i get this error from chef_gem upon cookbook compilation:
[2012-11-18 01:33:38 -0500] allane: [2012-11-18T10:24:17+09:00] FATAL: NoMethodError: chef_gem[minitest] (minitest-handler::default line 2) had an error: NoMethodError: undefined method `full_name' for nil:NilClass
[2012-11-18 02:04:11 -0500] darthdeus: any idea why my newly created user isn't loading /etc/profile.d/* ?
[2012-11-18 04:09:32 -0500] plethora: i booted arch linux install cd on my 2011 macbook pro, and i was just given a grub prompt
[2012-11-18 04:09:36 -0500] plethora: anyone know what to do
[2012-11-18 04:09:52 -0500] plethora: wrong channel sorry guys
[2012-11-18 04:31:23 -0500] zts: RJ2: is the "Advanced Library Usage" example on http://wiki.opscode.com/display/chef/Libraries the sort of thing you have in mind?
[2012-11-18 04:31:52 -0500] zts: RJ2: you are correct that the open source chef server only permits admin clients to update data bag items
[2012-11-18 07:03:50 -0500] bmcgee: Hey guys
[2012-11-18 07:05:26 -0500] bmcgee: Got a bit of a weird problem. I'm using the application_ruby cookbook. When I add 'environment :PATH => "$RBENV_ROOT/bin:$RBENV_ROOT/shims:$PATH"' i get "Cannot find a resource for apt_repository on ubuntu version 12.04"
[2012-11-18 07:05:44 -0500] bmcgee: I remove it and the error goes away
[2012-11-18 07:06:07 -0500] bmcgee: I'm not doing anything out of the ordinary looking at the examples for setting the environment for the application cookbook
[2012-11-18 07:13:04 -0500] bmcgee: I'm also finding that provisioning a new vm is getting progressively slower
[2012-11-18 07:13:23 -0500] bmcgee: when I'm not really changing much
[2012-11-18 07:14:00 -0500] bmcgee: ah wait, ignore that. Still experiencing the weird environment issue though
[2012-11-18 07:24:59 -0500] bmcgee: figured out the env issue. False assumption. Turns out the nodes::install_from_package was the cause. Having to change to install from source
[2012-11-18 07:25:13 -0500] bmcgee: *nodejs::install_from_package
[2012-11-18 08:56:39 -0500] mat__: Hey guys,
[2012-11-18 08:57:22 -0500] Guest80170: i am trying to use knife bootstrap
[2012-11-18 08:58:01 -0500] Guest80170: could any one suggest me some answers i need
[2012-11-18 08:58:38 -0500] Guest80170: ??
[2012-11-18 09:00:56 -0500] Guest80170: hi cbalan
[2012-11-18 09:08:43 -0500] Guest80170: i guess i'll be out for now and will join u guys later
[2012-11-18 09:18:41 -0500] coderanger: Guest36705: After all that, you didn't actually ask your question
[2012-11-18 09:18:57 -0500] coderanger: Don't wait for someone to be around, just ask
[2012-11-18 09:19:06 -0500] coderanger: That way when someone comes by later they can see it
[2012-11-18 10:51:41 -0500] iverson0881: hey was wondering what's the best way to force a bootstrap to use a particular node's ip address for IP in the knife node $fqdn show command
[2012-11-18 10:52:03 -0500] iverson0881: is it possible to do with by using --hint ipaddress["$ip"] ?
[2012-11-18 11:15:33 -0500] jensofsw_: Heyas, i have a little tricky question i need answering if its possible to do.
[2012-11-18 11:34:14 -0500] jensofsw_: Is there a way to send for example a username and password to a crappy written proprietary unix application wrapped in a bash script?
[2012-11-18 11:34:38 -0500] jensofsw_: Before chef I used a expect script to send the variables to the input call
[2012-11-18 11:43:29 -0500] iverson0881: how would one use knife bootstrap hint ?
[2012-11-18 11:43:53 -0500] iverson0881: i'd like to specify a different ipaddress for bootstrap but I haven't found a way to do so, is --hint what i'm looking for?
[2012-11-18 12:19:19 -0500] railsraider: hi i have ran chef-client with override run list, at the end of the run the automatic attributes have been set and thus removed a lot of the attributes that were supposed to be saved with the node
[2012-11-18 12:19:31 -0500] railsraider: how can run only the the attribute update?
[2012-11-18 12:19:47 -0500] railsraider: back to the normal state of the node?
[2012-11-18 12:22:04 -0500] railsraider: my problem is that i am doing a search now on nodes and i only get the role["base"] in my node.roles where the run_list clearly shows the "production" role
[2012-11-18 16:08:27 -0500] gchristensen: so for the ubuntu folks: do you all still stick with long-term-support releases? Or do you find Chef has liberated you from that, allowing you to upgrade more frequently?
[2012-11-18 16:11:17 -0500] solarce: gchristensen: stick with lts, if you need a new package, grab it and deps from newer repo and put in your own repo or roll your own
[2012-11-18 16:13:34 -0500] gchristensen: solarce: what advantage do you find it gives you? I understand why its important when its difficult / costly to upgrade or cycle out a server
[2012-11-18 16:18:09 -0500] solarce: gchristensen: it gives you a consistent base, it's pretty rare that I am needing something drastically newer than what the most recent lts provides
[2012-11-18 16:18:43 -0500] gchristensen: okay
[2012-11-18 16:18:59 -0500] gchristensen: I'll buy that
[2012-11-18 17:42:37 -0500] JasonBox: Is the service resource supposed to recognize my start_command? Can I give it a different name for the init file?
[2012-11-18 18:42:29 -0500] Franklin2: Any suggestions on finding the IP address of the instance currently running a recipe?
[2012-11-18 18:43:03 -0500] cwj: Franklin2: knife search node 'recipes:foo' -a ipaddress
[2012-11-18 18:43:24 -0500] cwj: assuming the ip address you are looking for is also the node's default gateway
[2012-11-18 18:43:37 -0500] gyre008: what do you mean by currently running recipe ?
[2012-11-18 18:43:37 -0500] cwj: if you have multiple interfaces configured then it becomes more complex
[2012-11-18 18:43:41 -0500] Franklin2: I'm trying to do a two part search: first, get my_ipaddress, then I can generate a list of clients who have that IP set as an attribute
[2012-11-18 18:43:46 -0500] Franklin2: gyre: correct
[2012-11-18 18:44:06 -0500] gyre008: hm ?
[2012-11-18 18:44:07 -0500] cwj: gyre008: i assume they mean "in the node's run list"
[2012-11-18 18:44:17 -0500] gyre008: ah
[2012-11-18 18:44:17 -0500] gyre008: ok
[2012-11-18 18:44:50 -0500] Franklin2: let's say node1 is one of many running recipe ABC. Client1 has an attribute set with Node1's IP address Client 2 has an attribute with Node2's IP address
[2012-11-18 18:45:19 -0500] Franklin2: recipe ABC, when run on node1 should search all clients who have it's IP address set
[2012-11-18 18:45:30 -0500] Franklin2: (does that make sense?)
[2012-11-18 18:46:53 -0500] cwj: makes some sense to me but why store the ip addresses of other nodes as attributes instead of using search directly?
[2012-11-18 18:51:18 -0500] Franklin2: 3-4 nodes are running ABC, but I have hundreds of clients, and not many clear ways to assign them to a particular node
[2012-11-18 18:52:28 -0500] Franklin2: I use search directly to generate the list of clients, but I don't know how to get information about node1
[2012-11-18 18:53:27 -0500] cwj: we run a service that sounds similar to what you are describing, i set a list of partners assigned to the node as an array
[2012-11-18 18:53:43 -0500] cwj: then i can search for 'recipe:foo AND partners:bar'
[2012-11-18 18:53:59 -0500] cwj: or 'recipe:foo AND partners:bar AND chef_environment:baz'
[2012-11-18 18:54:25 -0500] cwj: http://community.opscode.com/cookbooks/discovery
[2012-11-18 18:54:26 -0500] Franklin2: yes, I originally did something similar with chef_environment, until I realized I had several environments
[2012-11-18 18:54:48 -0500] cwj: i use this discovery cookbook for a lot of node discovery tasks, might be relevant to your interests
[2012-11-18 18:55:11 -0500] Franklin2: and I either had to duplicate lots of code (recipe ABC AND chef_env:1 || recipe ABC AND chef_env:2 || ...)
[2012-11-18 18:56:04 -0500] Franklin2: I thought with a node attribute I could easily set that and override as necessary
[2012-11-18 18:58:12 -0500] cwj: yeah maybe what i am suggesting is not right for your case, but i personally have an aversion to depending on a node attribute for something like an IP address that is (usually) easily searchable
[2012-11-18 18:58:26 -0500] cwj: just doesn't feel right to me, but that doesn't make it wrong for you
[2012-11-18 18:58:59 -0500] Franklin2: IP address might be a misnomer here -- let's call it a string
[2012-11-18 18:59:50 -0500] Franklin2: but I understand what you're saying
[2012-11-18 19:03:48 -0500] cwj: so do you have a recipe or role you can search for to identify clients?
[2012-11-18 19:04:19 -0500] cwj: if so, it seems to me that recipe running on the server can search based on that and the IP address in one go
[2012-11-18 19:04:34 -0500] Franklin2: yes, that's the easy part :)
[2012-11-18 19:05:32 -0500] Franklin2: but I'm not sure how to identify which node gets which clients except by: generating a bunch of different recipes for each type of client; having multiple recipes for each server, or lots if if /else
[2012-11-18 19:06:27 -0500] Franklin2: http://support.scalarium.com/kb/custom-instance-setup/how-find-out-the-ip-addresses-of-other-instances-in-a-chef-recipe  has something that would be useful  search(:instance)
[2012-11-18 19:06:54 -0500] cwj: that discovery cookbook i linked provides similar capability
[2012-11-18 19:07:41 -0500] cwj: at least if finding the ipaddresses of other instances is your aim
[2012-11-18 19:07:44 -0500] cwj: that is what i use it for
[2012-11-18 19:08:25 -0500] Franklin2: I think i'm more interested in finding some information about the current instance
[2012-11-18 19:08:39 -0500] Franklin2: I've not used Discovery, so I'm still looking at it
[2012-11-18 19:09:24 -0500] mat__: Hi,
[2012-11-18 19:10:30 -0500] Guest19183: i've installed Chef server and trying to use web ui
[2012-11-18 19:10:41 -0500] Guest19183: but i'm not getting that
[2012-11-18 19:11:25 -0500] Guest19183: i've changed the localhost to my ip address and using port 4000 still not workinng
[2012-11-18 19:12:04 -0500] Guest19183: which is the reason while bootstraping fro chef server not able to communicate with chef server as well
[2012-11-18 19:12:13 -0500] Guest19183: could any one Help ?
[2012-11-18 19:12:21 -0500] Franklin2: did you start the chef-server webui?
[2012-11-18 19:12:31 -0500] Franklin2: it's on port 4040
[2012-11-18 19:12:37 -0500] Guest19183: no
[2012-11-18 19:12:52 -0500] Guest19183: i tried 4040 as well
[2012-11-18 19:13:24 -0500] Franklin2: netstat -an |grep 4040  if you're trying to get to the webui, grep 4000 if you're trying to get to the REST component
[2012-11-18 19:13:40 -0500] gyre008: would be handy if you could gist outpud of sudo netstat -ntlp and ps -ef |grep chef
[2012-11-18 19:16:15 -0500] Guest19183: could you provide me the link to paste bin so that i can paste my output there
[2012-11-18 19:17:00 -0500] Franklin2: http://pastebin.com ?
[2012-11-18 19:18:32 -0500] Guest19183: here's the output for this http://pastebin.com/VxjGgBnN
[2012-11-18 19:19:41 -0500] Guest19183: does this give any idea for entry there in server.rb and webui.rb file ?
[2012-11-18 19:20:14 -0500] Guest19183: As i am relatively very new to chef
[2012-11-18 19:20:23 -0500] Guest19183: please assist me
[2012-11-18 19:20:37 -0500] Franklin2: what happens when you go to your_server_ip:4000?
[2012-11-18 19:20:44 -0500] Franklin2: via a http browser
[2012-11-18 19:21:31 -0500] Guest19183: it doesn't return any thing and page not found error will display
[2012-11-18 19:22:11 -0500] Franklin2: can you use curl from the server?
[2012-11-18 19:22:27 -0500] Guest19183: yes i can
[2012-11-18 19:22:41 -0500] Franklin2: if it returns correct, you may have a routing or firewall issue
[2012-11-18 19:23:25 -0500] Guest19183: will disabling the firewall can resolve it
[2012-11-18 19:23:51 -0500] Franklin2: if you're on the same internal network, you could try disabling the firewall with something like service iptables stop
[2012-11-18 19:24:50 -0500] Guest19183: and for which files i have to edit to change ip addres fileld
[2012-11-18 19:25:05 -0500] Franklin2: hrm?
[2012-11-18 19:25:08 -0500] Guest19183: i am editing server.rb and webui.rb
[2012-11-18 19:25:22 -0500] Guest19183: where it show localhost
[2012-11-18 19:26:41 -0500] Franklin2: I'm not sure you need to change those since your pastebin shows the app is running on all IP addresses
[2012-11-18 19:27:54 -0500] Guest19183: so localhost entry shouldn't be changed ?
[2012-11-18 19:29:55 -0500] Franklin2: I don't think so
[2012-11-18 19:30:10 -0500] Franklin2: or "doesn't have to be changed to fix your problem"
[2012-11-18 19:30:23 -0500] Guest19183: i am pasting these if it can give you some idea
[2012-11-18 19:30:25 -0500] Guest19183: http://pastebin.com/gLb5JcFF
[2012-11-18 19:31:54 -0500] Franklin2: looks fine, Chef thinks so too because it's started. You can get to the page from the local machine but not your remote environment.
[2012-11-18 19:34:00 -0500] Guest19183: why is it so ?
[2012-11-18 19:35:10 -0500] Franklin2: firewall or routing issues -- but since you can SSh to it, probably firewall issues. try turning off the firewall on the chef server or creating a rule to allow incoming 4040 or 4000 requests
[2012-11-18 19:35:27 -0500] Franklin2: if you are not on the same network, you might need to add nat translation rules too
[2012-11-18 19:45:55 -0500] Guest19183: Franklin , my only concern here is
[2012-11-18 19:46:26 -0500] Guest19183: while using knife bootstrap it goes to the target server
[2012-11-18 19:46:58 -0500] Guest19183: but errors out like this 10.190.201.39 [2012-11-18T13:40:57-06:00] ERROR: Connection refused connecting to localhost:4000 for /clients, retry 1/5
[2012-11-18 19:47:14 -0500] Guest19183: not sure how to resolve it
[2012-11-18 19:47:36 -0500] Guest19183: if disable firewall as well
[2012-11-18 19:48:07 -0500] Guest19183: sorry i've disabled firewall as well
[2012-11-18 19:57:13 -0500] Houdini: deploy_revision ignores callbacks. Why?
[2012-11-18 20:04:14 -0500] julian__: Newb question: how do i get a list of all node attributes? Is it the "knife search node" command?
[2012-11-18 20:40:20 -0500] emmasteimann: So I getting Permission Denied everywhere after creating a new organization on hosted chef. Anybody ever experience this?
[2012-11-18 20:42:31 -0500] emmasteimann: I keep getting errors like - Permission denied. You do not have permission to read the permissions on the clients collection in this organization. (Error 22023)
[2012-11-18 21:04:50 -0500] z: emmasteimann: I've seen that before when something was FUBAR on their end, drop Support a note?
[2012-11-18 21:05:52 -0500] emmasteimann: Yeah, suppose I could its been happening a ton over the past couple days, I feel like I'm progressively getting locked out of everything. Might just create a new user
[2012-11-18 21:06:12 -0500] z: emmasteimann: Took them one e-mail and 30 seconds to fix it for me
[2012-11-18 21:12:09 -0500] emmasteimann: member:z: thanks!
[2012-11-18 21:33:43 -0500] ssd7: Ohai Chefs!
[2012-11-18 21:37:36 -0500] rafaelmagu: Gaaaaaah!
[2012-11-18 21:37:48 -0500] rafaelmagu: I can't for the life of me understand why rbenv no longer builds
[2012-11-18 21:37:54 -0500] rafaelmagu: Using the rbenv recipe
[2012-11-18 21:38:08 -0500] rafaelmagu: Getting "checksum mismatch: yaml-0.1.4.tar.gz (file is corrupt)"
[2012-11-18 21:38:15 -0500] rafaelmagu: "expected 36c852831d02cf90508c29852361d01b, got (stdin)= 36c852831d02cf90508c29852361d01b"
[2012-11-18 21:38:22 -0500] rafaelmagu: :/
[2012-11-18 23:44:25 -0500] chefologist: hi when uploading: knife cookbook upload redis: I get this error: Uploading redis          [3.0.4] ERROR: Cookbook redis depends on cookbook install_from version >= 0.0.0, ERROR: which is not currently being uploaded and cannot be found on the server.
[2012-11-18 23:44:30 -0500] chefologist: any assistance would be great
[2012-11-18 23:48:18 -0500] z: chefologist: That looks fairly straightforward, you're trying to upload a cookbook and aren't satisfying its dependencies?
[2012-11-18 23:48:46 -0500] chefologist: ok so how I go about uploading the dependencies first? regards
[2012-11-18 23:49:18 -0500] z: chefologist: To be honest it looks like that cookbook is just a little screwy, http://community.opscode.com/cookbooks/redis/comments
[2012-11-18 23:49:46 -0500] z: chefologist: http://community.opscode.com/cookbooks/install_from << this may be what you're looking for though ..
[2012-11-18 23:50:19 -0500] chefologist: z: thanks a mil
[2012-11-18 23:51:12 -0500] z: I dunno if Jamie still maintains this but..
[2012-11-18 23:51:13 -0500] z: https://github.com/RiotGames/redis-cookbook/blob/master/recipes/default.rb
[2012-11-18 23:51:20 -0500] z: That looks a lot less "weird" than the one on the Community site
[2012-11-18 23:54:28 -0500] chefologist: Z: now attempting to upload metachef (3.0.4) receiving this error: Uploading metachef       [3.0.4] FATAL: Cookbook file libraries/component.rb has a ruby syntax error: FATAL: /home/administrator/.chef/cookbooks/metachef/libraries/component.rb:106: syntax error, unexpected '=', expecting '|' FATAL:       define_method(klass.handle) do |name, val=nil, &block| FATAL:                                                 ^ FATAL: /home/admi
[2012-11-18 23:54:52 -0500] jtimberman: z: chefologist: general consensus is that miah's redis cookbook is really good
[2012-11-18 23:55:03 -0500] jtimberman: https://github.com/miah/chef-redis
[2012-11-18 23:55:22 -0500] chefologist: so I download it the same way and upload the same way?
[2012-11-18 23:56:45 -0500] chefologist: @jtimberman: I am using hosted-chef
[2012-11-18 23:58:49 -0500] chefologist: @jtimberman: I don't see miah on hosted-chef as a maintainer
[2012-11-18 23:59:40 -0500] chefologist: assistance would be great
