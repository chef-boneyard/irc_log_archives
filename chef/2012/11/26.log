[2012-11-26 00:32:13 -0500] rafaelmagu: hey @jtimberman: shouldn't the dynect cookbook be updated to use chef_gem instead of gem_package?
[2012-11-26 00:53:54 -0500] jtimberman: heyyyyyy, how about test-kitchen in the chef-server cookbook? https://github.com/opscode-cookbooks/chef-server/commit/a32ecfd8f048562a618d1288a4e4a7bc217b40ae
[2012-11-26 00:53:58 -0500] jtimberman: rafaelmagu: probably
[2012-11-26 00:54:12 -0500] jtimberman: rafaelmagu: there's a number of cookbooks that could benefit from chef_gem, but we just haven't changed yet
[2012-11-26 00:54:30 -0500] rafaelmagu: jtimberman: yeah, forked and changed it, just reading on the steps to submit a PR
[2012-11-26 00:55:53 -0500] jtimberman: Yup - :) http://wiki.opscode.com/display/chef/How+to+Contribute+to+Opscode+Cookbooks
[2012-11-26 01:00:52 -0500] rafaelmagu: PR submitted, ticket logged
[2012-11-26 01:02:11 -0500] jtimberman: cheers :)
[2012-11-26 01:25:58 -0500] rafaelmagu: Need some help with this line:
[2012-11-26 01:26:00 -0500] rafaelmagu: node.set[:sensu][:rabbitmq][:host] = rabbitmq_server.first.fqdn || 'localhost'
[2012-11-26 01:26:26 -0500] rafaelmagu: It's failing with 'undefined method `fqdn` for nil:NilClass'
[2012-11-26 01:26:40 -0500] makmanalp: Hey, could anyone tell me if I'm correct in thinking that the openssh package here: https://github.com/opscode-cookbooks/openssh can only be configured through json and has no ruby dsl style config?
[2012-11-26 01:26:42 -0500] rafaelmagu: What's the correct way to assign that 'localhost' if the first doesn't return?
[2012-11-26 01:37:25 -0500] makmanalp: if I want to programatically change config options for a recipe I'm loading, is the proper way to set the attributes in a previous recipe and then run the recipe itself?
[2012-11-26 01:39:33 -0500] makmanalp: I see a chicken and egg problem in that because running the recipe creates the config files and runs the program, any attribute change you make after is moot - you have to restart the program and regen the configs again
[2012-11-26 01:40:03 -0500] redgetan: im having trouble installing mysql-client using chef - http://pastie.org/5434043
[2012-11-26 01:40:20 -0500] yfeldblum: rafaelmagu, with normal ruby code ...
[2012-11-26 01:40:54 -0500] redgetan: my json attribs file is http://pastie.org/5434045
[2012-11-26 01:40:57 -0500] rafaelmagu: yfeldblum: how so?
[2012-11-26 01:43:26 -0500] makmanalp: redgetan: ssh into the machine and try runnign the command manually
[2012-11-26 01:43:38 -0500] makmanalp: "apt-get -q -y install mysql-client=5.1.63-0ubuntu0.10.04.1"
[2012-11-26 01:44:02 -0500] makmanalp: it should tell you what's wrong - possibly a conflict or something
[2012-11-26 01:44:18 -0500] makmanalp: it's a bit stupid that chef doesn't capture stdout
[2012-11-26 01:44:43 -0500] redgetan: http://pastie.org/5434060
[2012-11-26 01:44:48 -0500] redgetan: 404 not found weird
[2012-11-26 01:44:56 -0500] makmanalp: oh yeah i've been getting that too
[2012-11-26 01:45:01 -0500] makmanalp: sudo apt-get update fixes it
[2012-11-26 01:45:23 -0500] makmanalp: but if you want to fix it in the recipe, just add "recipe[apt]" to your run list
[2012-11-26 01:45:45 -0500] makmanalp: that way it actually will do an update
[2012-11-26 01:45:45 -0500] redgetan: adding that recipe will run apt-get update everytime?
[2012-11-26 01:45:50 -0500] makmanalp: yeah
[2012-11-26 01:45:58 -0500] makmanalp: that was 1 hour of may day today
[2012-11-26 01:46:02 -0500] makmanalp: :)
[2012-11-26 01:46:06 -0500] redgetan: haha ic
[2012-11-26 01:47:00 -0500] yfeldblum: rafaelmagu, http://pastie.org/private/nyj3dhbw2vcobloc9evwwa
[2012-11-26 01:47:54 -0500] rafaelmagu: yfeldblum: got it
[2012-11-26 01:48:05 -0500] rafaelmagu: Friend also recommended the use of .try(:first)
[2012-11-26 01:48:07 -0500] rafaelmagu: Gonna give it a shot
[2012-11-26 01:49:02 -0500] redgetan: makmanalp: yay working now thnx a lot!
[2012-11-26 01:49:11 -0500] yfeldblum: rafaelmagu, that recommendation sounds wrong for multiple reasons
[2012-11-26 01:50:02 -0500] rafaelmagu: yfeldblum: yeah, friend said it's a hack
[2012-11-26 01:50:25 -0500] yfeldblum: rafaelmagu, also, it's not a hack
[2012-11-26 01:50:26 -0500] makmanalp: redgetan: cheers
[2012-11-26 01:50:57 -0500] rafaelmagu: well, try didn't work anyway
[2012-11-26 01:50:57 -0500] rafaelmagu: :D
[2012-11-26 01:51:01 -0500] yfeldblum: rafaelmagu, it's just that Object#try comes from activesupport, and you already know that the array is an array and not nil
[2012-11-26 01:51:14 -0500] rafaelmagu: Well, it is nil sometimes
[2012-11-26 01:51:21 -0500] rafaelmagu: And that's what's causing my issues
[2012-11-26 01:51:41 -0500] yfeldblum: rafaelmagu, no, it may be empty sometimes, and Array#first returns nil if the array in question is empty
[2012-11-26 01:51:59 -0500] yfeldblum: rafaelmagu, an empty array is an array; it is not nil
[2012-11-26 01:52:01 -0500] rafaelmagu: yeah
[2012-11-26 01:52:14 -0500] rafaelmagu: I get nil on the method
[2012-11-26 05:38:46 -0500] khimera: has anyone worked w/ opscode nginx recipe. I am trying to install a different version by overriding the version & checksum in my role, but for some reason its not working.
[2012-11-26 05:40:32 -0500] aruntomar: khimera: for debugging you can either use "chef-client -l debug "
[2012-11-26 05:40:42 -0500] aruntomar: khimera: or use shef
[2012-11-26 05:41:07 -0500] khimera: okay, i am using chef-solo right now. I'll take a look @ shef
[2012-11-26 05:42:43 -0500] aruntomar: khimera: i've not used chef-solo much, but i find shef very handy, like irb
[2012-11-26 05:44:10 -0500] khimera: aruntomar: I checked out shed, I am using vagrant. I am in debug mode, but can't seem to see anything that maybe wrong.
[2012-11-26 05:44:15 -0500] khimera: shef*
[2012-11-26 05:53:39 -0500] aruntomar: in shef, you'll have to create the recipe and then fire it
[2012-11-26 07:04:52 -0500] jtimberman: khimera: you may need to set the node['nginx']['source']['url'] attribute too
[2012-11-26 07:11:27 -0500] c00p: dam slow vps sucks at compiling
[2012-11-26 07:37:12 -0500] BryanWB_: ohai chefs!
[2012-11-26 07:41:57 -0500] c00p: howdy
[2012-11-26 07:50:25 -0500] alclonky: is there any chance updating to chef-server 10.16 on centos 6? i am unsing chef 10.6 RPM from the frameos Repo which wasn't updated for a long time
[2012-11-26 08:23:53 -0500] roderik_: Say I want to use the definitions from https://github.com/opscode-cookbooks/munin and a modified version of the client.rb recipe, what is the best way to do this? Create a new cookbook and copy paste the pieces i need, or is it possible to "extend" or override recipes from other cookbooks?
[2012-11-26 09:24:34 -0500] Grainger: 'morning all!
[2012-11-26 09:29:34 -0500] bmcgee: Hey guys, when I specify multiple roles for a new node does chef do any dependency resolution between them to determine the order in which they are applied or does it apply the roles in order?
[2012-11-26 09:30:20 -0500] bmcgee: I have a base role and a db role, and when i specify them as 'role[base],role[db]' it is running the recipes from db first and blowing up cos build-essential etc is installed by base
[2012-11-26 09:32:58 -0500] bmcgee: when i look at the expanded run list it shows all the recipes in order of which they should be applied, but then it jumps ahead to installing mysql
[2012-11-26 10:06:58 -0500] bmcgee: So it seems the mysql::ruby recipe (which I can't remember why it was there but I'm sure I'll realise later) is an insidious little s**t that somehow gets itself to the front of the queue. I'd like to understand better how chef determines the order in which recipes are applied
[2012-11-26 10:12:05 -0500] alclonky: is there any chance updating to chef-server 10.16 on centos 6? i am unsing chef 10.6 RPM from the frameos Repo which wasn't updated for a long time
[2012-11-26 10:12:11 -0500] booski: I have some bunch of code that apeared often in my recipe. I wanna define that as a function, but where should I put that function?
[2012-11-26 10:16:42 -0500] cpasmoi: booski, in librairies ?
[2012-11-26 10:29:40 -0500] Grainger: Hi bmcgee... maybe this helps? -> http://wiki.opscode.com/display/chef/Anatomy+of+a+Chef+Run
[2012-11-26 10:30:19 -0500] Grainger: And why you need mysql::ruby: I need it for the MySQL recipes from the database cookbook.
[2012-11-26 10:32:54 -0500] masterkorp: hello
[2012-11-26 10:36:09 -0500] bmcgee: Grainger: thanks for reminding me, forgot why it was there
[2012-11-26 10:36:20 -0500] bmcgee: still can't figure out how it jumps to the front of the run list
[2012-11-26 10:36:32 -0500] bmcgee: gets in front of build-essential which is the problem
[2012-11-26 10:40:06 -0500] BryanWB_: anyone know a good graphite cookbook w/ example how to configure carbon-relay?
[2012-11-26 10:42:08 -0500] Grainger: bmcgee ;-) - that's as far as I can help for the moment. FWIW, it works for me. I've experienced something similar once. What I did was to remove the offending recipe for one chef run and then add it back. Because build-essentials had already run once (in the previous chef run), it worked since. I guess a more detailed investigation would have revealed that it's not the *recipe* from mysql::ruby
[2012-11-26 10:42:09 -0500] Grainger: but maybe one of libraries, attributes or definitions, but after having run build-essentials one, I couldn't easily reproduce the situation :-)
[2012-11-26 10:43:21 -0500] gyre007: im wondering...can role have the same name as a recipe from some cookbook ? I reckon yes because the recipes are in a different namespace ?
[2012-11-26 10:49:08 -0500] m4rcu5: hhmm, im looking at the wiki to proxy chef with apache, but im woundering, why is the user interface at :444 and the api at :443 not the other way around?
[2012-11-26 10:51:07 -0500] BryanWB_: m4rcu5: then u can just put  https://chef.example.com  in your /etc/chef/client.rb
[2012-11-26 10:51:18 -0500] BryanWB_: m4rcu5: i wrote that patch btw :p
[2012-11-26 10:51:32 -0500] BryanWB_: gyre007: y
[2012-11-26 10:53:02 -0500] m4rcu5: BryanWB_: but the user must access it with :444, the script isnt really typing :) but what patch? i already patched that wiki p[age once to work with the latest chef
[2012-11-26 10:53:09 -0500] bmcgee: Grainger: do you know of any logging i can turn on to see how it's determining the order for running things?
[2012-11-26 10:53:25 -0500] BryanWB_: m4rcu5: type http://chef.example.com and it redirects to https and 444
[2012-11-26 10:53:57 -0500] m4rcu5: BryanWB_: i was thinking about the same thing
[2012-11-26 10:54:32 -0500] bmcgee: nvm found the flag
[2012-11-26 11:12:56 -0500] kraM: Hey guys, need some help, don't get it... I've cookbook abc/{recipes/def.rb,resources/def.rb,providers/def.rb}. recipes/def.rb calls abc_def "name_attr" do args end, resource and provider looks like in other cookbooks which work well and chef-client tells me as compile error an ArgumentError: You must supply a name when declaring a user resource
[2012-11-26 11:17:34 -0500] a_a_g: kraM: can you share the resources/def.rb?
[2012-11-26 11:17:51 -0500] kraM: One sec.
[2012-11-26 11:20:07 -0500] kraM: http://paste.xinu.at/uayB9/
[2012-11-26 11:23:23 -0500] kraM: http://paste.xinu.at/aPVLFk/ -- This is roughly what I do there.
[2012-11-26 11:29:37 -0500] a_a_g: and you get the error on the code at line 31?
[2012-11-26 11:37:43 -0500] kraM: Okay, got it. Stupid me.
[2012-11-26 11:38:08 -0500] kraM: Compile error; I generate the name attribute based on node attributes which are not set at that time and currently my default is nil.
[2012-11-26 11:46:21 -0500] kraM: Okay, fixed. Thanks a_a_g.
[2012-11-26 12:26:38 -0500] gyre007: is there any way how I can find out easily what cookbooks will particular node download ?
[2012-11-26 12:29:41 -0500] Leitz: Is there a good tutorial for having chef gracefully fail when a recipe bombs?
[2012-11-26 13:02:31 -0500] Grainger: bmcgee: you can run chef client manually with "-l debug" to turn on logging, or you can set the logging in the client.rb (it's usually the first line). From what I saw, the order is primarily determined by the phases, then by the run list.
[2012-11-26 13:02:47 -0500] bmcgee: Grainger: yeah that's what I've been doing
[2012-11-26 13:03:04 -0500] Grainger: bmcgee: what did you find?
[2012-11-26 13:03:14 -0500] bmcgee: i forked the mysql cookbook and removed the first bit where it makes a call to apt to update and that seems to have resolved it
[2012-11-26 13:03:35 -0500] bmcgee: don't fully understand it tbh
[2012-11-26 13:04:09 -0500] mikeywaites: hey guys is it possible to run knife command on multiple nodes at the same time IE; knife ssh [nodes]  "sudo chef-client" ?
[2012-11-26 13:04:20 -0500] Grainger: cool... thanks for the insight!
[2012-11-26 13:04:57 -0500] bmcgee: mikeywaites: yup. knife ssh "roles:base" "uptime" for example
[2012-11-26 13:05:33 -0500] mikeywaites: bmcgee:  :) man chef has stopped blowing my socks off for the past two days (ex puppet)
[2012-11-26 13:05:39 -0500] bmcgee: knife ssh "roles:base" "uptime" -a ipaddress -i ~/.ssh/id_chef is a better example
[2012-11-26 13:06:04 -0500] bmcgee: uses the ipaddress attribute from the nodes returned in the search query to connect to and then the -i uses a custom key
[2012-11-26 13:06:46 -0500] mikeywaites: thanks alot!!
[2012-11-26 13:06:49 -0500] bmcgee: mikeywaites: :) i've only been using it for a few weeks and I'm quite happy with it. Though my mysql issue in the last few days has nearly driven me to violence
[2012-11-26 13:07:23 -0500] bmcgee: mikeywaites: also worth noting the search query "roles:base" can take wildcards, and isn't just restricted to roles. I think you can search by name etc
[2012-11-26 13:07:38 -0500] mikeywaites: Amazing!
[2012-11-26 13:09:02 -0500] daften: short question: is it common practice to store the validation.pem en USERNAME.pem in the chef-repo?
[2012-11-26 13:09:06 -0500] daften: http://wiki.opscode.com/display/chef/Creating+a+Chef+Repository
[2012-11-26 13:09:09 -0500] daften: this page made me think so
[2012-11-26 13:11:29 -0500] bmcgee: daften: I put mine in ~/.chef and keep it out of the repo. Feels like a security risk tbh
[2012-11-26 13:12:06 -0500] daften: had the same feeling (security wise). but is it still possible to use the amazon knife plugin if the validation.pem is not in the repo?
[2012-11-26 13:14:55 -0500] mikeywaites: bmcgee:  hmmmm roless:appserver  is not finding any results. both nodes have role[appserver] in the runlist. do i need to apply the role to nodes in a diff way to get search to work?
[2012-11-26 13:15:01 -0500] bmcgee: daften: i have my pems and knife.rb in ~/.chef, i think that's common practice. Here's my knife.rb with relevant info redacted https://gist.github.com/4148131
[2012-11-26 13:15:21 -0500] bmcgee: mikeywaites: roless?
[2012-11-26 13:15:42 -0500] mikeywaites: typo
[2012-11-26 13:15:44 -0500] mikeywaites: soz
[2012-11-26 13:15:55 -0500] mikeywaites: knife ssh "roles:appserver" ....
[2012-11-26 13:16:20 -0500] mikeywaites: oh is it role:appserver
[2012-11-26 13:16:27 -0500] daften: bmcgee: thanks! I'm guessing the knife-ec2 command will send the validator.pem file when needed :)
[2012-11-26 13:16:47 -0500] bmcgee: daften: np
[2012-11-26 13:16:57 -0500] masterkorp: ec2 is soo expensive
[2012-11-26 13:17:05 -0500] bmcgee: mikeywaites: i'm pretty sure it's roles, let me double check
[2012-11-26 13:17:46 -0500] mikeywaites: hmmm role seems to be doing something, though it maybe just hanging
[2012-11-26 13:17:55 -0500] bmcgee: masterkorp: I second that, using rackspace
[2012-11-26 13:18:10 -0500] bmcgee: mikeywaites: are you using -a ipaddress?
[2012-11-26 13:18:17 -0500] mikeywaites: yeh!
[2012-11-26 13:18:26 -0500] masterkorp: bmcgee: the only cloud service that is somewhat sensible
[2012-11-26 13:18:43 -0500] mikeywaites: knife ssh "role:appserver" "sudo chef-client" -x myuser -a ipaddress -i ~/.ssh/mypem.pem
[2012-11-26 13:19:18 -0500] mikeywaites: chef timed out on both connections to the appservers
[2012-11-26 13:20:03 -0500] erikh: ipaddress is the default
[2012-11-26 13:20:26 -0500] bmcgee: erikh: good to know
[2012-11-26 13:20:29 -0500] masterkorp: i think it isn't
[2012-11-26 13:20:50 -0500] bmcgee: mikeywaites: I'm just spinning up a server to try this out
[2012-11-26 13:21:31 -0500] bmcgee: I could swear it's roles not role in the search query
[2012-11-26 13:21:44 -0500] erikh: it is roles
[2012-11-26 13:22:17 -0500] erikh: if you knife node edit <name> -a, it'll be obvious why
[2012-11-26 13:23:11 -0500] masterkorp: bmcgee: that role/roles thing is annoyingh
[2012-11-26 13:23:25 -0500] masterkorp: bmcgee: tip: always use role*:appserver
[2012-11-26 13:23:38 -0500] jforest: ick, work after a olong weekend?
[2012-11-26 13:23:40 -0500] jforest: no fun!
[2012-11-26 13:25:33 -0500] bmcgee: masterkorp: I'll tell you what's annoying, ruby! Nice language, everything else is just annoying. Been faffing around for a week so moving from rbenv, to rvm, to plain ruby and so on. Settled on plain ruby install as rvm chef seems to have bad interactions and i have to specify rvm exec everywhere. But trying to set the environment correctly for application_ruby is doing my head in. **rant over**
[2012-11-26 13:26:03 -0500] masterkorp: bmcgee: i totally agree i hate those
[2012-11-26 13:26:11 -0500] masterkorp: bmcgee: i use archlinux and package all the gems
[2012-11-26 13:26:26 -0500] masterkorp: packaging on arch is super quick
[2012-11-26 13:26:32 -0500] bmcgee: As a long time java developer i find this thoroughly distasteful
[2012-11-26 13:26:41 -0500] masterkorp: so i dont use any rvm/rbenv crap
[2012-11-26 13:26:56 -0500] masterkorp: bmcgee: wait until you see bundler
[2012-11-26 13:27:11 -0500] masterkorp: bmcgee: that will become in dependency hell
[2012-11-26 13:27:23 -0500] bmcgee: One fricking dependency, called a jvm, done! FFS, only went with rails cos it gives me a lot up front. Regretting everything else
[2012-11-26 13:27:23 -0500] masterkorp: people that enforce outdated gems
[2012-11-26 13:27:39 -0500] bmcgee: As soon as i find time i'll be recoding in Play
[2012-11-26 13:28:04 -0500] masterkorp: Play ?
[2012-11-26 13:28:13 -0500] cassianoleal: masterkorp: yeah, I find that *very* annoying, outdated gems that's not ruby's or bundler's fault, though...
[2012-11-26 13:28:44 -0500] bmcgee: masterkorp: Play is scala based
[2012-11-26 13:29:24 -0500] bmcgee: I think the ruby language has got it's benefits, but christ did they not half ass everything else
[2012-11-26 13:29:48 -0500] masterkorp: cassianoleal: indeed, but having bundler let's devs to rely on those numbers, because ruby gems like to break compatibility, others devs never update and so on... But that's another story
[2012-11-26 13:30:29 -0500] daften: masterkorp: our bill for ec2 lies below 300$/month and we have about 5 (small i think) servers running
[2012-11-26 13:30:40 -0500] masterkorp: daften: 2k a month here
[2012-11-26 13:30:51 -0500] daften: they are on-demand servers and sometimes the performance isn't optimal
[2012-11-26 13:30:54 -0500] cassianoleal: masterkorp: agree, sometimes I wish bundler didn't let people specify max versions. that would probably cause all sorts of other problems, I suppose
[2012-11-26 13:31:00 -0500] daften: but it's cheaper than rackspace for us i think
[2012-11-26 13:31:08 -0500] daften: am checking the rackspace pricing now :)
[2012-11-26 13:31:10 -0500] masterkorp: daften: i use real machine
[2012-11-26 13:31:23 -0500] bmcgee: i worked out 2 small servers for 30 a month
[2012-11-26 13:31:25 -0500] masterkorp: daften: i only use cloud for staging and quick scaling
[2012-11-26 13:31:42 -0500] bmcgee: haven't been using it for a month yet :)
[2012-11-26 13:31:58 -0500] daften: bmcgee: on rackspace?
[2012-11-26 13:31:59 -0500] masterkorp: for a ongoing business cloud is like 3x more expensive
[2012-11-26 13:32:05 -0500] bmcgee: daften: yup
[2012-11-26 13:32:11 -0500] daften: http://www.rackspace.com/cloud/public/sites/pricing/
[2012-11-26 13:32:25 -0500] daften: their cloud basic plan, starts at 150$/month, how did you do that?
[2012-11-26 13:32:26 -0500] daften: :D
[2012-11-26 13:32:39 -0500] daften: masterkorp: compared to private (in-house) hosting?
[2012-11-26 13:32:54 -0500] masterkorp: daften: yeah
[2012-11-26 13:33:02 -0500] bmcgee: i'm not using cloud hosting
[2012-11-26 13:33:03 -0500] bmcgee: just their cloud machines
[2012-11-26 13:33:12 -0500] masterkorp: daften: and their hicups are annoying
[2012-11-26 13:33:21 -0500] masterkorp: s3 is getting way fuck expensice
[2012-11-26 13:33:31 -0500] masterkorp: i need to get more disks
[2012-11-26 13:34:06 -0500] daften: bmcgee: http://www.rackspace.com/cloud/public/servers/pricing/
[2012-11-26 13:34:11 -0500] daften: the smallest instances?
[2012-11-26 13:34:33 -0500] daften: masterkorp: yes, s3 is expensive
[2012-11-26 13:34:51 -0500] bmcgee: daften: yeah that's it, small is like $16
[2012-11-26 13:34:52 -0500] masterkorp: but rackspace actually perfoms
[2012-11-26 13:34:53 -0500] daften: oh well, the servers are for my job, so i don't have to pay, and it's a nice playground for me atm to get to know chef and knife and so on :D
[2012-11-26 13:35:00 -0500] masterkorp: ec2 servers are slow as hell
[2012-11-26 13:35:19 -0500] masterkorp: mostly because they have so much clients that can barely give them product
[2012-11-26 13:35:23 -0500] daften: that's perfect, excellent, i'm looking at own servers too, and this seems like a good deal. atm was going to do staging with chef-solo and vagrant
[2012-11-26 13:35:57 -0500] masterkorp: daften: chef-server is easy to install from the repos
[2012-11-26 13:36:34 -0500] masterkorp: daften: also, knife-block, knife-essentials. and knife-github are handy
[2012-11-26 13:36:52 -0500] bmcgee: i'm using hosted chef with the free 5 nodes at the min
[2012-11-26 13:37:06 -0500] daften: jup, have installed chef-server on an amazon ec2 instance (for the project, we're stuck there it seems, partner constraints), that was pretty easy
[2012-11-26 13:37:18 -0500] daften: am now looking at nagios-cookbook for a monitoring server we need
[2012-11-26 13:37:39 -0500] masterkorp: daften: i am making an icinga cookbook :)
[2012-11-26 13:38:42 -0500] bmcgee: icinga looks interesting
[2012-11-26 13:38:59 -0500] masterkorp: yeah icinga-web is nice
[2012-11-26 13:39:10 -0500] masterkorp: and can collect perfomance data too
[2012-11-26 13:40:28 -0500] Leitz:  Is there a good tutorial for having chef gracefully fail when a recipe bombs?
[2012-11-26 13:40:50 -0500] daften: masterkorp: knife-block: cool, was looking for something like this
[2012-11-26 13:41:58 -0500] masterkorp: daften: simple yet powerfull
[2012-11-26 13:42:11 -0500] masterkorp: i use between my personal chef server and work
[2012-11-26 13:42:13 -0500] bmcgee: masterkorp: what is knife-block?
[2012-11-26 13:42:21 -0500] daften: allows you to have multiple chef servers
[2012-11-26 13:42:27 -0500] bmcgee: ah cool
[2012-11-26 13:42:33 -0500] daften: https://github.com/greenandsecure/knife-block
[2012-11-26 13:42:38 -0500] masterkorp: bmcgee: its a simple symlink maker to switch between servers
[2012-11-26 13:43:00 -0500] daften: icinga: don't know that one
[2012-11-26 13:43:08 -0500] daften: so it's a fork of nagios, is it actually better
[2012-11-26 13:43:18 -0500] masterkorp: the config is the same
[2012-11-26 13:43:19 -0500] daften: because nagios seems like the industry standard atm
[2012-11-26 13:44:24 -0500] daften: i looked at different monitoring tools and it's like with so many systems, there are dozens out there, all with their own (dis)advantages, i just picked nagios since it seemed so popular (other options for me were zabbix and cacti)
[2012-11-26 13:44:56 -0500] masterkorp: cacti is not really an option
[2012-11-26 13:48:19 -0500] daften: masterkorp: why not? haven't used it before, but a  contact of mine says it works pretty good
[2012-11-26 13:48:32 -0500] daften: and have you seen this: http://community.opscode.com/cookbooks/icinga (not under active development it seems, link to github is dead)
[2012-11-26 13:49:00 -0500] masterkorp: daften: yes i saw
[2012-11-26 13:49:13 -0500] masterkorp: daften: a good option to cacti is munin
[2012-11-26 13:50:00 -0500] masterkorp: cacti/munin is more for perfomance data collection
[2012-11-26 13:50:06 -0500] masterkorp: nagios is for service status
[2012-11-26 13:50:13 -0500] masterkorp: icinga can do both
[2012-11-26 13:53:41 -0500] bmcgee: does anyone know how to get the application_ruby cookbook to use the ruby version i install with the ruby cookbook in a simple manner without doing any wrapping of bundle commands or anything?
[2012-11-26 13:54:07 -0500] bmcgee: keeps using 1.8 which i'm assuming is the ruby that came with the vm or chef install
[2012-11-26 13:55:07 -0500] daften: masterkorp: seems like icinga has a better roadmap and more active community atm, but only read some basic stuff
[2012-11-26 13:55:19 -0500] daften: how long till your cookbook is publishable/ready for basic use?
[2012-11-26 13:56:00 -0500] masterkorp: i does basic use already
[2012-11-26 13:56:08 -0500] masterkorp: i plan to get it finished this week
[2012-11-26 13:56:20 -0500] masterkorp: daften: https://github.com/masterkorp/icinga-cookbook
[2012-11-26 13:56:29 -0500] masterkorp: client and server work already
[2012-11-26 13:56:48 -0500] masterkorp: install icinga classic interface for now
[2012-11-26 13:57:02 -0500] daften: new web interface doesn't work yet ? :)
[2012-11-26 13:57:25 -0500] masterkorp: no, will add after i convert everything definition into an LWRP
[2012-11-26 13:57:56 -0500] masterkorp: i dont recomend you to use it already
[2012-11-26 13:58:20 -0500] masterkorp: its not tested properly yet
[2012-11-26 13:59:35 -0500] masterkorp: just wait some days :)
[2012-11-26 13:59:37 -0500] daften: ah, ok, do you mind if i contact you via email later to check if it's ready? would love to help, but won't have the time i'm afraid
[2012-11-26 14:00:05 -0500] masterkorp: sure :)
[2012-11-26 14:01:14 -0500] masterkorp: or just follow the project on github :)
[2012-11-26 14:01:26 -0500] daften: already did ;)
[2012-11-26 14:01:51 -0500] daften: have to go (meetings), thx masterkorp and bmcgee for the help, much appreciated
[2012-11-26 14:01:53 -0500] daften: have a good day!
[2012-11-26 14:02:06 -0500] masterkorp: you too :)
[2012-11-26 14:02:17 -0500] bmcgee: daften: np
[2012-11-26 14:12:40 -0500] geekbri: jtimberman: Is there a particuarly reason you use | instead of || in the nginx cookbook when doing assignments?  E.G. https://github.com/opscode-cookbooks/nginx/blob/master/recipes/http_gzip_static_module.rb#L22-L23
[2012-11-26 14:13:17 -0500] geekbri: oh hah, nevermind.
[2012-11-26 14:25:20 -0500] intinig: is there a way to set per environment attributes in a role file?
[2012-11-26 14:27:44 -0500] matschaffer: intinig: couldn't you set those in an environment?
[2012-11-26 14:28:47 -0500] intinig: matschaffer: I use the same environments for every role (staging, production) but different roles need different attributes per environment.
[2012-11-26 14:29:53 -0500] matschaffer: why do the different roles need different attributes?
[2012-11-26 14:31:16 -0500] matschaffer: intinig: usually I specify attributes in the cookbook, then override them from the environment
[2012-11-26 14:33:59 -0500] intinig: my use case is this
[2012-11-26 14:34:08 -0500] intinig: I have a role: foo-mail-server
[2012-11-26 14:34:24 -0500] intinig: this role uses postfix in production and in staging uses mailcatcher.
[2012-11-26 14:34:32 -0500] intinig: mailcatcher needs a php override
[2012-11-26 14:34:39 -0500] intinig: but only in staging
[2012-11-26 14:34:46 -0500] intinig: since I use env_run_list
[2012-11-26 14:34:50 -0500] intinig: for the recipe
[2012-11-26 14:35:00 -0500] intinig: I expected something like that for the attribute :-/
[2012-11-26 14:35:50 -0500] erikh: use multiple roles
[2012-11-26 14:36:09 -0500] erikh: have your abstract role reference your specialized roles in your run lists
[2012-11-26 14:36:36 -0500] intinig: erikh: that is the only solution I can come up with but it's the opposite of what I do with the rest of my roles and it feels awkward :)
[2012-11-26 14:36:45 -0500] intinig: my roles are all like this
[2012-11-26 14:36:53 -0500] intinig: webserver, dbserver, xxxserver
[2012-11-26 14:36:55 -0500] intinig: and then
[2012-11-26 14:37:12 -0500] intinig: application-server -> referencing webserver
[2012-11-26 14:37:14 -0500] intinig: and so on
[2012-11-26 14:37:23 -0500] intinig: where application is the name of the various apps
[2012-11-26 14:37:31 -0500] erikh: sure.
[2012-11-26 14:38:02 -0500] erikh: if I were doing this, I would work harder to keep staging and production equivalent
[2012-11-26 14:38:21 -0500] erikh: but given your current situation I'm not sure there's a better solution.
[2012-11-26 14:44:27 -0500] intinig: erikh: I agree regarding keeping staging and production similar
[2012-11-26 14:44:53 -0500] erikh: aye, not criticizing, more of a "if you've gotta do it that way, this is probably the best way to deal with it"
[2012-11-26 14:45:02 -0500] erikh: shit happens
[2012-11-26 14:58:50 -0500] booski: How could I add multiple roles to run_list in role?
[2012-11-26 14:59:14 -0500] booski: Unable to create Chef::RunList::RunListItem from String:"role[X], role[Y]": must be recipe[] or role[]
[2012-11-26 15:01:23 -0500] booski: Should I write run_list( "role[X]", "role[Y]" ) ?
[2012-11-26 15:02:10 -0500] intinig: yes
[2012-11-26 15:02:12 -0500] intinig: booski:
[2012-11-26 15:03:06 -0500] kryptek: good morning all
[2012-11-26 15:06:01 -0500] intinig: hi
[2012-11-26 15:11:38 -0500] dmerrick: morning
[2012-11-26 15:14:52 -0500] intinig: hmmmmmmmmmmmmmm
[2012-11-26 15:14:59 -0500] intinig: I might have found a solution to one of my problems
[2012-11-26 15:15:03 -0500] intinig: not all of them
[2012-11-26 15:15:18 -0500] intinig: but at least one :)
[2012-11-26 15:35:29 -0500] admin_247: Hello
[2012-11-26 15:35:58 -0500] z: ohai
[2012-11-26 15:36:28 -0500] intinig: regarding the postfix cookbook
[2012-11-26 15:36:30 -0500] intinig:     "mail_relay_networks" => "10.3.3.0/24",
[2012-11-26 15:36:44 -0500] intinig: is used to approve certain hosts for mail
[2012-11-26 15:37:05 -0500] intinig: is there a way to render that attribute dynamic
[2012-11-26 15:37:18 -0500] admin_247: Had a query Would appreciate any help. when running bootstraping where does the first-boot.json come in from . I have copied it the default directory in /etc/chef but that file is not getting picked up
[2012-11-26 15:37:21 -0500] intinig: so it queries chef for a list of nodes that should be allowed to relay mail on the relay host?
[2012-11-26 15:37:55 -0500] kryptek: intinig,  Data bags, perhaps?
[2012-11-26 15:38:03 -0500] z: intinig: mynetworks = <%= node['postfix']['mail_relay_networks'] %>
[2012-11-26 15:38:13 -0500] z: intinig: its already dynamic, just set mail_relay_networks to whatever you want
[2012-11-26 15:38:42 -0500] kryptek: z:  I think he's saying he wants to retrieve instances from chef that should be allowed
[2012-11-26 15:38:47 -0500] z: admin_247: you have to invoice with ISTR '-j /path/to/first-boot.json'
[2012-11-26 15:39:17 -0500] z: kryptek: depends how dynamic you need it I guess
[2012-11-26 15:39:34 -0500] intinig: z: kryptek got what I wanted :)
[2012-11-26 15:40:54 -0500] intinig: kryptek: ideally I would query for all the servers with a certain role
[2012-11-26 15:40:55 -0500] intinig: get their ip
[2012-11-26 15:40:58 -0500] intinig: and add it
[2012-11-26 15:43:32 -0500] kryptek: intinig,  You could write a library function for it.  Do a chef search for nodes matching environment/role, loop over the array and retrieve the public ip's
[2012-11-26 15:43:33 -0500] erikh: you could use search, but using search to set a node attribute is ehhh
[2012-11-26 15:43:48 -0500] erikh: basically aiming the gun at your foot
[2012-11-26 15:44:16 -0500] erikh: really, forking the cookbook is probably your safest bet
[2012-11-26 15:44:45 -0500] kryptek: intinig,  I agree with erikh.  You're gonna need to hack up the code a little bit for your use case.
[2012-11-26 15:45:21 -0500] admin_247: I dint get that
[2012-11-26 15:46:59 -0500] admin_247: The ISTR section that is
[2012-11-26 15:47:28 -0500] intinig: well I could add some recipe that sets those attributes no problem, but why do you think doing a chef search just for setting the attributes would be bad?
[2012-11-26 15:50:56 -0500] kryptek: I don't really think it's a bad thing to do.. it's just another way of solving the problem
[2012-11-26 15:51:53 -0500] Afterglow: anyone have any suggestions on causes or fixes for this fpm error trying to build omnibus-chef https://gist.github.com/4142046 ?
[2012-11-26 15:58:12 -0500] intinig: kryptek: I edited the recipe slightly. Now if the node has a certain attributes it builds a list of nodes using search and passes it to the template otherwise it passes the original attribute to the template
[2012-11-26 15:58:26 -0500] intinig: a 2 liner solution that is much cleaner than my previous idea :)
[2012-11-26 15:59:54 -0500] kryptek: nice, bro
[2012-11-26 16:02:02 -0500] intinig: thx
[2012-11-26 16:15:43 -0500] kraM: How does Chef determine where files are stored like cookbook_file /path/to/whatever do source "source.file.name" ... end; how does Chef verify that the file exists in $COOKBOOK/files ? I would need such a thing for a resource. Any hint where to look up how Chef does it?
[2012-11-26 16:34:04 -0500] jtimberman: kraM: http://docs.opscode.com/essentials_cookbook_files_specificity.html
[2012-11-26 16:40:28 -0500] kraM: jtimberman: Thanks!
[2012-11-26 16:43:07 -0500] kraM: So in general Chef performs a lookup versus the local cache path where the cookbooks are getting stored, uses new_resource.cookbook (or whatever it is called) and concatenates it to a string like /var/cache/chef/cookbooks/cookbook/files/specificity, right?
[2012-11-26 16:47:41 -0500] coderanger: kraM: The raw file data ends up with names like /var/cache/chef/.../[hex fingerprint]
[2012-11-26 16:47:58 -0500] coderanger: They are stored in a filename based on a hash of the contents, not the original filename in the cookbook
[2012-11-26 16:48:35 -0500] coderanger: The mapping of filename -> hash exists in the cookbook data stored in the chef DB during file upload
[2012-11-26 16:48:48 -0500] coderanger: better answer, it is an internal implementation detail and you should never depend on it
[2012-11-26 16:49:35 -0500] jtimberman: coderanger: thats the Chef server side though.
[2012-11-26 16:49:39 -0500] rava: what could cause a client run to load a cookbook, not puke, but not actually run through the recipe?
[2012-11-26 16:50:43 -0500] ssd7: rava: Probably best to post a log of what you are talking about to gist/pastebin
[2012-11-26 16:50:57 -0500] spox: hrm, so you can make an attribute "required" easily within an LWRP. how does one do it in a heavy weight resource?
[2012-11-26 16:51:15 -0500] coderanger: jtimberman: Ahh yes, I parsed as far as "files are stored" and my brain assumes server :)
[2012-11-26 16:51:39 -0500] rava: ssd7: aye, though picking this issue back up this morning, i think i may have spotted the failure
[2012-11-26 16:51:56 -0500] coderanger: Though I would consider even the client side structures in /var/chef/cache/cookbooks to be subject to change
[2012-11-26 16:52:45 -0500] jtimberman: spox: a "heavyweight" resource is just the normal way with all the ruby class scaffolding and whatnot.
[2012-11-26 16:52:58 -0500] jtimberman: spox: usually written in a file in the "libraries" directory of a cookbook.
[2012-11-26 16:54:15 -0500] spox: jtimberman: yeah. i was looking if there was an easy way in a heavy weight resource to basically do what's done in an lwrp: attribute :fubar, :required => true
[2012-11-26 16:54:18 -0500] spox: that required part
[2012-11-26 16:54:35 -0500] coderanger: spox: It would be a param in the #get_or_set_attribute call
[2012-11-26 16:54:42 -0500] coderanger: which all #attribute does
[2012-11-26 16:54:51 -0500] spox: coderanger: ah, okay. thanks!
[2012-11-26 16:55:18 -0500] coderanger: spox: https://github.com/opscode/chef/blob/master/lib/chef/resource.rb#L667
[2012-11-26 16:56:05 -0500] thehar: rawr!
[2012-11-26 16:56:13 -0500] kraM: coderanger: I want to implement such a thing myself to build a patch resource.
[2012-11-26 16:56:56 -0500] kraM: That's the reason why I'm interested in how Chef internally checks for files/contents/hashes when using resources like cookbook_file.
[2012-11-26 16:57:05 -0500] coderanger: kraM: Subclass the File resource/provider
[2012-11-26 16:57:14 -0500] kraM: Good idea!
[2012-11-26 16:57:16 -0500] coderanger: if you look at template, thats how it works internally
[2012-11-26 16:57:30 -0500] kraM: Okay, thanks again :)
[2012-11-26 16:57:33 -0500] coderanger: https://github.com/opscode/chef/blob/master/lib/chef/resource/template.rb#L27
[2012-11-26 16:57:46 -0500] coderanger: Warning, not easy, you are better off writing an LWRP most likely
[2012-11-26 16:59:09 -0500] coderanger: (mostly because cross-platform file security sucks)
[2012-11-26 17:00:01 -0500] kraM: Yes, this is an internal thing and not intended to work on other platforms than *nix, because - right now I believe - it will execute a *nix- only bin.
[2012-11-26 17:00:05 -0500] kraM: I'll see.
[2012-11-26 17:01:01 -0500] coderanger: kraM: patch is available for other platforms, so not sure which binary you mean
[2012-11-26 17:03:19 -0500] kraM: Hm, probably ;)
[2012-11-26 17:31:45 -0500] dysinger: do people really use site-cookbooks (or multiple cookbook dirs) ?  I never have.
[2012-11-26 17:32:03 -0500] c_t: I thought site-cookbooks was hella deprecated or something
[2012-11-26 17:32:16 -0500] dysinger: me too
[2012-11-26 17:32:35 -0500] dysinger: yet my team decided it was a good idea
[2012-11-26 17:32:51 -0500] c_t: ah
[2012-11-26 17:33:10 -0500] dysinger: seems arbitrary to me
[2012-11-26 17:34:35 -0500] btm: multiple cookbook directories are fine, cookbook shadowing is deprecated. That's where you put a cookbook in your cookbooks directory, but then put changes to it under the site-cookbooks directory, and chef magically pieces them together.
[2012-11-26 17:34:47 -0500] btm: http://tickets.opscode.com/browse/CHEF-2308
[2012-11-26 17:34:51 -0500] blongden: I use cookbooks with librarian-chef and site-cookbooks for custom stuff. Only reason is that it means I can ignore the cookbooks directory in version control and keep site cookbooks separate
[2012-11-26 17:51:23 -0500] qhartman: Hello Chefs. Hope everyone in the US had a good Thanksgiving holiday.
[2012-11-26 18:04:44 -0500] yfeldblum: ...
[2012-11-26 18:05:05 -0500] yfeldblum: there is a difference between "using ABC for XYZ is deprecated" and "ABC is deprecated"
[2012-11-26 18:08:21 -0500] wickett: $ knife cookbook upload chef-client
[2012-11-26 18:08:21 -0500] wickett: Uploading chef-client    [2.0.0]
[2012-11-26 18:08:21 -0500] wickett: FATAL: Cookbook file recipes/service.rb has a ruby syntax error:
[2012-11-26 18:08:22 -0500] wickett: FATAL: /home/wickett/comma/chef-repo/.chef/../cookbooks/chef-client/recipes/service.rb:87: syntax error, unexpected ')'
[2012-11-26 18:08:36 -0500] wickett: Is this a known issue?
[2012-11-26 18:14:40 -0500] jtimberman: wickett: couldn't reproduce, did someone modify the cookbook you have? https://gist.github.com/4149738
[2012-11-26 18:16:28 -0500] jtimberman: wickett: or, what version of ruby are you using?
[2012-11-26 18:18:22 -0500] juliancdunn: jtimberman: there seems to be an extra comma at the end of line 86
[2012-11-26 18:18:28 -0500] juliancdunn: maybe earlier rubies barf on that
[2012-11-26 18:18:35 -0500] jtimberman: juliancdunn: indeed
[2012-11-26 18:19:05 -0500] jtimberman: i hate commas. https://twitter.com/jtimberman/status/272439576033906688
[2012-11-26 18:20:06 -0500] juliancdunn: you and Vampire Weekend
[2012-11-26 18:21:51 -0500] mofabo: is there anyway in a recipie to have it running on a node. but run a command on the local chef server?
[2012-11-26 18:21:58 -0500] yfeldblum: ruby-1.9 adds support for extra commas because they can make diffs cleaner
[2012-11-26 18:22:15 -0500] yfeldblum: mofabo, no ... and why?
[2012-11-26 18:24:45 -0500] jtimberman: wickett: k, released v2.0.2, removing that comma :)
[2012-11-26 18:30:19 -0500] Urocyon: I haven't figured out what triggers this yet, but sometimes my chef-validator key just stops working with chef-server.  If I reregister chef-validator and use the new key, everything works fine again. until the next time it stops working anyway.
[2012-11-26 18:30:26 -0500] Urocyon: So what causes that?
[2012-11-26 18:30:31 -0500] julian: Hey guys, what is the correct way to change permission on a directory?  I am looking through resources and I see "directory" but it looks like it does not support modify (with regard to perms)
[2012-11-26 18:30:37 -0500] Urocyon: Is it a bug, or a feature?
[2012-11-26 18:34:11 -0500] julian: Looks like "Execute": http://comments.gmane.org/gmane.comp.sysutils.chef.user/2950
[2012-11-26 18:48:02 -0500] Urocyon: julian, that's what I did recently when I needed to change permissions on a directory.
[2012-11-26 18:49:41 -0500] qhartman: Urocyon, without more information it's hard to say with any confidence without more information. My first WAG would be that something is changing your key. Next time it happens, check to see if the contents of the key is different, and also record when it happens and see if you can find patterns or correlate it to other events
[2012-11-26 18:50:56 -0500] julian: Urocyon, it would be nice if the resource supported directory modification. Seems simple to implement no?
[2012-11-26 18:50:59 -0500] Urocyon: This is about the 5th time it's happened to me over the last year or so.  It's happened on different versions of 10.x.
[2012-11-26 18:51:20 -0500] Urocyon: still looking for a pattern, qhartman
[2012-11-26 18:51:50 -0500] Urocyon: qhartman: only thing notable this time was my chef server had crashed recently and the system was restarted.
[2012-11-26 18:52:03 -0500] Urocyon: It could have been something about the crash or restart.
[2012-11-26 18:52:53 -0500] qhartman: Urocyon, hmm. Could be. I don't think I have any other insight for you. I've been running an isntallation for the better part of a year and never run into what you describe. Never run into a crash or restart either though.
[2012-11-26 18:53:06 -0500] qhartman: The only time my chef server has been stopped is when I upgraded it to 10.12.
[2012-11-26 18:53:53 -0500] jstarcher: I'm trying to recreate an existing node but under a different name. I get an error: Your validation client is not authorized to create the client for this node (HTTP 403).
[2012-11-26 18:53:57 -0500] Urocyon: qhartman: I'll keep an eye on it.  Just wondered if others had encountered same or if it was some security feature I didn't know about to update the validation key
[2012-11-26 18:54:05 -0500] jstarcher: can I remove everythign in /var/chef/cache?
[2012-11-26 18:54:42 -0500] qhartman: jstarcher, yes, you can.
[2012-11-26 18:55:18 -0500] jstarcher: qhartman: great, thank you.
[2012-11-26 18:55:31 -0500] qhartman: jstarcher, but your problem is probably not there. Your probably getting a collision with the name or key as configured in the /etc/chef direcotry
[2012-11-26 18:55:53 -0500] qhartman: jstarcher, search for the process of renaming a chef node, it will give you some useful info
[2012-11-26 18:56:25 -0500] btm: Chef code review beginning shortly, join: https://plus.google.com/hangouts/_/4e44feb5a2444b5202371800b5f8053f51d51935?authuser=1&hl=en watch: http://youtu.be/Rc8EALBn6rk
[2012-11-26 18:56:28 -0500] qhartman: Urocyon, AFAIK there is nothing like that  built into chef.
[2012-11-26 18:56:52 -0500] julian: Anyone have a suggestion on updating the /etc/shadow file with an encrypted password?  This is a one off hack but I need to provide limited login access for one user and I have his shadow file entry to work with..
[2012-11-26 18:57:30 -0500] qhartman: julian, you probably would want to write a bash script to do the lifting and call it with either a script or execute resource
[2012-11-26 18:58:27 -0500] jstarcher: qhartman: still giving the same error. Any other caches that may need cleared?
[2012-11-26 18:58:33 -0500] julian: jstarcher: Yah.  I was thinking of using an encrypted databag for the shadow entry and then writing a recipe to add the user.
[2012-11-26 18:58:58 -0500] Urocyon: julian: the users cookbook will manipulate passwords for users it uses a shadow gem to do so.  You might want to take a look at how it does it.
[2012-11-26 18:59:38 -0500] qhartman: jstarcher, yeah, like I said the collision is probably not in the cache directory, it's almost certainly something in your /etc/chef directory. I've run into that problem when a configured name collides.
[2012-11-26 19:11:37 -0500] wickett: jtimberman: chef-client 2.0.0 didnt work
[2012-11-26 19:11:45 -0500] garrettux: hi guys
[2012-11-26 19:12:17 -0500] wickett: jtimberman: just did a librarian-chef update and got 2.0.2
[2012-11-26 19:12:24 -0500] wickett: it was able to upload just fine
[2012-11-26 19:12:45 -0500] wickett: I am using ruby 1.8.7
[2012-11-26 19:17:19 -0500] bhenerey: does using the option --override-runlist prevent the cache from being cleared when running chef-client?
[2012-11-26 19:20:46 -0500] jflowers: hello
[2012-11-26 19:21:05 -0500] jflowers: I am trying to us the apache2 cookbook with mod_ssl
[2012-11-26 19:21:39 -0500] jflowers: I have included the port 442 in the listen_ports attribute
[2012-11-26 19:22:09 -0500] jflowers: it looks like it did what it was supposed to when I examine the apache config
[2012-11-26 19:22:23 -0500] jflowers: yet when I go to the site on https I get this error:
[2012-11-26 19:22:47 -0500] jflowers: SSL connection error
[2012-11-26 19:22:47 -0500] jflowers: Unable to make a secure connection to the server. This may be a problem with the server, or it may be requiring a client authentication certificate that you don't have.
[2012-11-26 19:22:48 -0500] jflowers: Error 107 (net::ERR_SSL_PROTOCOL_ERROR): SSL protocol error.
[2012-11-26 19:23:28 -0500] jflowers: did I miss something I needed ot set in the attributes?
[2012-11-26 19:24:08 -0500] jflowers: also can I specify a cert to use?
[2012-11-26 19:24:12 -0500] rafaelmagu: jflowers: did you mean port 443?
[2012-11-26 19:24:19 -0500] jflowers: I did not see how to specify a cert...
[2012-11-26 19:24:28 -0500] jflowers: yep 443
[2012-11-26 19:24:56 -0500] jflowers: both 443 and 80
[2012-11-26 19:26:11 -0500] rafaelmagu: Hmm, no clue
[2012-11-26 19:26:23 -0500] rafaelmagu: Not using apache for SSL
[2012-11-26 19:28:24 -0500] tolland: is there a cache of the sandbox files on the workstation?
[2012-11-26 19:28:45 -0500] tolland: i mean if i have the checksum, can i check first somewhere before pulling the server copy?
[2012-11-26 19:30:52 -0500] jtnz: Hi, which logs can I check on an open source Chef server when the api isn't working properly?
[2012-11-26 19:31:26 -0500] ranjibd: jflowers, which browser you are using to hit apache? chorme? IE?
[2012-11-26 19:31:48 -0500] ranjibd: jtimberman, /var/log/chef/server-api.loh
[2012-11-26 19:32:08 -0500] ranjibd: jtimberman, sorry that was for jtnz
[2012-11-26 19:32:24 -0500] ranjibd: jtnz, ^^^
[2012-11-26 19:32:57 -0500] jtnz: ranjibd, I don't have a server-api.log, but I have a server.log, same thing?
[2012-11-26 19:33:20 -0500] barnacles: maybe this is more of a vagrant question but can I remove the node/client from my chef-server when I do a vagrant destroy?
[2012-11-26 19:33:33 -0500] barnacles: Automatically of course
[2012-11-26 19:34:31 -0500] brutang: woops got disconnected.
[2012-11-26 19:37:24 -0500] wassy121: brutang, you were barnacles, right?  Asking about how to decommission a chef node/client post-teardown?
[2012-11-26 19:37:33 -0500] brutang: Oh yah, sorry haha
[2012-11-26 19:37:59 -0500] jflowers: I am using Chrome
[2012-11-26 19:38:03 -0500] kyleb: brutang: https://gist.github.com/4150140
[2012-11-26 19:38:07 -0500] wassy121: Make the teardown a rake task, and just have it run a knife node/client delete in that task
[2012-11-26 19:38:26 -0500] kyleb: You can just include that block in your Vagrantfile
[2012-11-26 19:38:42 -0500] wassy121: Or kyleb seems to have a reasonable solution as well :)
[2012-11-26 19:38:47 -0500] brutang: kyleb: thanks mate
[2012-11-26 19:38:50 -0500] rafaelmagu: barnacles: Interesting
[2012-11-26 19:39:00 -0500] rafaelmagu: How's the block-in-Vagrantfile thing?
[2012-11-26 19:39:34 -0500] rafaelmagu: As simple as putting that Gist into my Vagrantfile?
[2012-11-26 19:39:35 -0500] kyleb: Mine is just at the bottom after the Vagrant::Config block
[2012-11-26 19:39:41 -0500] rafaelmagu: Cool
[2012-11-26 19:40:06 -0500] red5|ryan: same thing with a twist: https://gist.github.com/1010660
[2012-11-26 19:40:43 -0500] brutang: Yah it's awesome
[2012-11-26 19:55:45 -0500] cwj: can i play too? here's my version https://gist.github.com/4150249
[2012-11-26 19:57:24 -0500] wassy121: cwj's version seems "better" imo, since it doesn't rely on exec'ing a call to knife directly.  You might even get to pass the knife config file as a variable, in case of multiple chefmasters :)
[2012-11-26 19:58:04 -0500] cwj: wassy121: i end up stuffing that into every Vagrantfile so maybe it would be even more better if it became a middleware
[2012-11-26 19:58:17 -0500] brutang: cwj: wassy121 Thanks for the input :)
[2012-11-26 19:58:42 -0500] cwj: np :)
[2012-11-26 20:06:18 -0500] jtnz: If I have log_location STDOUT in my server.rb config file, will that mean it doesn't output to /var/log/chef/server.log?
[2012-11-26 20:08:11 -0500] wassy121: No, it still puts stuff in server.log
[2012-11-26 20:08:17 -0500] mobilemike: I have a service problem. It seems like the Chef run thinks it's running, when it's not.
[2012-11-26 20:08:23 -0500] mobilemike: [2012-11-26T19:55:39+00:00] DEBUG: service[redis6379] you have specified a status command, running..
[2012-11-26 20:08:23 -0500] mobilemike: 23462 sh -c pgrep -lf 'redis.*6379'
[2012-11-26 20:08:24 -0500] mobilemike: [2012-11-26T19:55:39+00:00] DEBUG: service[redis6379] is running
[2012-11-26 20:08:42 -0500] btm: live cookbook review starting shortly. join: https://plus.google.com/hangouts/_/e76f8178aa5fd8ac1f1dc0a267a69a81c541b764?authuser=1&hl=en, watch: http://youtu.be/NbIX8wKyVMk
[2012-11-26 20:11:36 -0500] ranjibd: mobilemike, the status command returns 0?
[2012-11-26 20:12:09 -0500] mobilemike: I don't actually get the result from the debug output. But, I _know_ it's not running.
[2012-11-26 20:13:52 -0500] mobilemike: And, (this is crazy), when I run it myself it does get a match. It's matches it's own command!
[2012-11-26 20:14:04 -0500] mobilemike: So, how would that ever work?
[2012-11-26 20:16:29 -0500] ranjibd: mobilemike, is the status command return 0.. chef will think that the service is running
[2012-11-26 20:26:58 -0500] rafaelmagu: I'm trying to set version constraints on my environment using knife-spork, but it expects the environment files to be in json format
[2012-11-26 20:27:01 -0500] rafaelmagu: I only have .rb format
[2012-11-26 20:27:20 -0500] rafaelmagu: How do I generate them? Or is there a way to download the json ones from Chef server using knife?
[2012-11-26 20:27:38 -0500] rafaelmagu: knife-essentials download doesn't seem to understand environments
[2012-11-26 20:29:58 -0500] wassy121: knife environment show _default -Fj
[2012-11-26 20:33:08 -0500] rafaelmagu: wassy121: rinse and repeat for every env, then?
[2012-11-26 20:33:23 -0500] rafaelmagu: And save those to .json files inside chef-repo/environments, I assume
[2012-11-26 20:33:32 -0500] wassy121: knife environment list | xargs
[2012-11-26 20:34:29 -0500] wassy121: but my xargs-fu is weak.  I would just write for i in $(knife environment list); do ... loop , and fail to read any more man pages :)
[2012-11-26 20:38:53 -0500] rafaelmagu: wassy121: same
[2012-11-26 20:40:27 -0500] Babar: knife environment list | xargs -l knife environment show {} -Fj
[2012-11-26 20:40:44 -0500] wassy121: Lookout, we got a badass over here :)
[2012-11-26 20:41:09 -0500] rafaelmagu: hahaha
[2012-11-26 20:41:16 -0500] rafaelmagu: Yeah, my xargs is crap
[2012-11-26 20:41:54 -0500] Babar: sorry, forgot -i
[2012-11-26 20:42:04 -0500] rafaelmagu: hmm
[2012-11-26 20:42:07 -0500] Babar: stupid xargs.
[2012-11-26 20:42:10 -0500] rafaelmagu: -l doesn't exist on the Mac
[2012-11-26 20:42:16 -0500] rafaelmagu: I'll figure it out
[2012-11-26 20:42:19 -0500] Babar: ok, so -L1 -I{}
[2012-11-26 20:42:26 -0500] Babar: -l and -i are not POSIX
[2012-11-26 20:42:36 -0500] rafaelmagu: hmm
[2012-11-26 20:43:40 -0500] wassy121: for i in $(knife environment list); do knife environment show $i -Fj; done
[2012-11-26 20:44:08 -0500] wassy121: for i in $(knife environment list); do knife environment show ${i} -Fj > environments/${i}.json; done
[2012-11-26 20:44:32 -0500] rafaelmagu: Heh
[2012-11-26 20:44:35 -0500] rafaelmagu: That's what I got as well
[2012-11-26 20:47:38 -0500] Babar: yeah, you cannot use xargs if you want to redirect the output
[2012-11-26 21:07:37 -0500] yfeldblum: write a knife plugin ...
[2012-11-26 21:08:07 -0500] yfeldblum: everybody, it's ok to write knife plugins instead of trying to automate knife from a bash script
[2012-11-26 21:08:56 -0500] kryptek: yfeldblum,  Are you sure it's okay?
[2012-11-26 21:09:34 -0500] miah: what if i write a wrapper script in tcl that calls a expect script that calls knife?
[2012-11-26 21:09:40 -0500] kryptek: I like that idea best
[2012-11-26 21:09:55 -0500] kryptek: Hook the TCL script up to an eggdrop bot and execute it from a dcc chat client
[2012-11-26 21:10:01 -0500] miah: yes
[2012-11-26 21:10:11 -0500] miah: hubot? whoneedsit.
[2012-11-26 21:10:17 -0500] yfeldblum: miah, somebody's done that, i bet
[2012-11-26 21:10:38 -0500] miah: yfeldblum: =)
[2012-11-26 21:19:25 -0500] lsolesen: trying to setup a local environment based on some pear packages with vagrant and chef. However, getting this error: http://pastie.org/5439348when trying to provision with this chef recipe https://github.com/intraface/vagrant/blob/master/cookbooks/intraface/recipes/default.rb
[2012-11-26 21:21:11 -0500] mattray: behemphi: ping
[2012-11-26 21:21:57 -0500] behemphi: hey Matt
[2012-11-26 21:23:04 -0500] mattray: behemphi: I've got a fix for knife-181
[2012-11-26 21:23:33 -0500] mattray: behemphi: could you test https://github.com/mattray/knife-rackspace/tree/knife-181 ?
[2012-11-26 21:23:52 -0500] mattray: we were mixing use of rackspace_api_auth_url and rackspace_auth_url
[2012-11-26 21:23:58 -0500] behemphi: I am in middle of a "crisis" here but yes, as soo as that is resolved
[2012-11-26 21:24:09 -0500] mattray: only 1 of those is real, rackspace_auth_url
[2012-11-26 21:24:17 -0500] behemphi: glad I was not chicken little :-)
[2012-11-26 21:24:40 -0500] mattray: when you get a chance, run it with -VV and let me know if that fixes it for you. Then we'll rev a new knife-rackspace
[2012-11-26 21:24:51 -0500] mattray: I also updated the debug logging
[2012-11-26 21:26:42 -0500] behemphi: thx man
[2012-11-26 21:26:46 -0500] behemphi: asap
[2012-11-26 21:26:56 -0500] behemphi: Hey you still good for Devops Austin in DEC
[2012-11-26 21:26:56 -0500] behemphi: ?
[2012-11-26 21:29:33 -0500] mattray: Yup, still planning on it
[2012-11-26 21:30:08 -0500] mattray: I'm doing Austin OpenStack on Thursday the 6th and the DevOps meetup on the 10th
[2012-11-26 21:30:40 -0500] dysinger: win. just convinced the team today that chef server/platform is better than chef + _______ [insert Greenspuns 10th rule of Chef Server replacements]
[2012-11-26 21:36:40 -0500] miah: =)
[2012-11-26 21:38:25 -0500] lsolesen: till_: Just read your talk: https://s3.amazonaws.com/chef-talk/chef-talk.html
[2012-11-26 21:39:27 -0500] rava: lsolesen: nice, i was just considering moving a stack i've been hacking on to all chef_solo
[2012-11-26 21:40:27 -0500] lsolesen: rava: ok. I think till_ has made a good presentation.
[2012-11-26 21:41:13 -0500] lsolesen: rava: Have you tried installing pear stuff with vagrant and chef?
[2012-11-26 21:41:38 -0500] rava: lsolesen: nay, i don't do any php work
[2012-11-26 21:41:46 -0500] lsolesen: rava: Allright.
[2012-11-26 21:42:34 -0500] miah: iirc, the php cookbook has a pear lwrp
[2012-11-26 21:45:59 -0500] jodell__: chef best practice: are people storing nodes in source control?
[2012-11-26 21:46:12 -0500] miah: no. i dont care about nodes.
[2012-11-26 21:46:22 -0500] miah: i should be able to blow away a server at just about any time
[2012-11-26 21:46:37 -0500] siezer: jodell__ nope
[2012-11-26 21:46:55 -0500] jodell__: so for a service, you're creating more specific roles?
[2012-11-26 21:46:58 -0500] yfeldblum: jodell__, nodes are data, not code
[2012-11-26 21:47:18 -0500] yfeldblum: jodell__, you don't store the data for your php, java, or rails app in source control
[2012-11-26 21:49:07 -0500] lsolesen: miah: I will look more into the pear cookbook. However, it is not pear that I am having problems installing. It is pear packages. I get the following: http://pastie.org/5439348 when trying to use. https://github.com/intraface/vagrant/blob/master/cookbooks/intraface/recipes/default.rb
[2012-11-26 21:49:32 -0500] jodell__: so you guys are relying on some state being stored solely within the chef server instance?
[2012-11-26 21:49:59 -0500] lsolesen: miah: Ah I should use another syntax.
[2012-11-26 21:50:00 -0500] julian: Hey guys, can I access a template from another cookbook by using "include <cookbook>"?
[2012-11-26 21:50:01 -0500] lsolesen: I will try that.
[2012-11-26 21:50:06 -0500] miah: right. the cookbook doesn't just install pear. it allows you to install pear packages.
[2012-11-26 21:50:09 -0500] yfeldblum: jodell__, git may be Truth for the infra codebase; but it's not Truth for the infra database
[2012-11-26 21:50:28 -0500] yfeldblum: jodell__, many people use a chef-server as their Data Truth
[2012-11-26 21:50:33 -0500] jodell__: yfeldblum: what if i want the infra database to be disposable?
[2012-11-26 21:50:44 -0500] yfeldblum: jodell__, then i'd ask you why
[2012-11-26 21:50:55 -0500] julian: I am trying to use a template but it is not found even though the external cookbook is included in the recipe.
[2012-11-26 21:51:38 -0500] yfeldblum: julian, no, but you can by declaring a dependency on that other cookbook and then setting the "cookbook" attribute of your template resource
[2012-11-26 21:52:05 -0500] jodell__: yfeldblum: the same reason i want to use chef at all, i'd prefer code/config to live under source control
[2012-11-26 21:52:24 -0500] yfeldblum: jodell__, the infra database is not code or code-type config; it's data or data-type config
[2012-11-26 21:52:28 -0500] jodell__: yfeldblum: here's a concrete example, maybe i'm missing the right approach
[2012-11-26 21:52:47 -0500] yfeldblum: jodell__, the typical approach is to take periodic backups
[2012-11-26 21:53:22 -0500] jodell__: then why have `knife node from file ...`?
[2012-11-26 21:53:27 -0500] yfeldblum: jodell__, well, typical for database-backed applications
[2012-11-26 21:53:56 -0500] yfeldblum: jodell__, why not have it?
[2012-11-26 21:54:22 -0500] jodell__: why not use it as implied then, and store nodes entirely?
[2012-11-26 21:54:28 -0500] jodell__: here's my example:
[2012-11-26 21:54:29 -0500] yfeldblum: jodell__, just because it exists doesn't mean you should use it
[2012-11-26 21:54:36 -0500] jodell__: lol, okay?
[2012-11-26 21:54:47 -0500] yfeldblum: jodell__, you decide to use things based on whether they serve an overriding purpose well, not based on whether they exist :D
[2012-11-26 21:55:05 -0500] jodell__: yeah, i mentioned a reason, i'll give you a concrete example and perhaps you'll show me a better way
[2012-11-26 21:55:07 -0500] yfeldblum: jodell__, there are some use-cases for it
[2012-11-26 21:55:16 -0500] yfeldblum: jodell__, sure
[2012-11-26 21:56:28 -0500] jodell__: let's say i have 10 simple webservers to set up, static content but with a custom webserver or similar recipe, a git deploy strategy
[2012-11-26 21:56:51 -0500] jtimberman: storing nodes in version control is low value. storing run lists of particular kinds of nodes you need in order to run your infra is somewhat higher value. i posit that a runbook (e.g., a README? or a wiki page, whatever your team's favorite thing is) is more valuable.
[2012-11-26 21:56:51 -0500] dysinger: this has to be a solved thing: cleaning up chef nodes in platform after they disappear from ec2 in a dynamic environment.
[2012-11-26 21:57:08 -0500] jodell__: dysinger: exactly
[2012-11-26 21:57:10 -0500] jtimberman: dysinger: after they disappear? not automatically.
[2012-11-26 21:57:23 -0500] dysinger: could have been reaped by autoscale
[2012-11-26 21:57:23 -0500] jtimberman: dysinger: you can "purge" a node/client pair for an instance with knife ec2 server delete
[2012-11-26 21:57:46 -0500] yfeldblum: dysinger, write a script to GC your infra and cron it with chef
[2012-11-26 21:58:03 -0500] jodell__: example con't: they only differ by a few node attribute overrides --wouldn't storing that as node json data be preferable?
[2012-11-26 21:58:07 -0500] dysinger: could have been culled by aws too.  lots of reasons nodes disappear
[2012-11-26 21:58:11 -0500] jodell__: under source control
[2012-11-26 21:58:16 -0500] jsh: jtimberman: heh, yep.  until I discovered the --pruge flag, I had tons of clients piling up on the chef server :)
[2012-11-26 21:58:36 -0500] jtimberman: jodell__: i would advise against making node specific modifications directly on the node itself. it leads to snowflakes and nonreproducibility
[2012-11-26 21:58:42 -0500] jtimberman: jsh: :)
[2012-11-26 21:58:43 -0500] yfeldblum: jodell__, better to do it as roles in source control, or as roles outside of source control, or as node attributes outside of source control
[2012-11-26 21:59:05 -0500] jtimberman: jsh: i had a test org on hosted chef that had 40 stale node objects at one point.
[2012-11-26 22:00:59 -0500] yfeldblum: jodell__, then document in a wiki how many nodes of each role are needed, and write a knife plugin to show how many nodes of each role exist
[2012-11-26 22:01:21 -0500] jsh: jtimberman: hmm, makes me thing a little extension to knife-ec2 to query the chef server for nodes that think they're on EC2, then query AWS API to see if they exist, and report the diff might be handy
[2012-11-26 22:05:22 -0500] jsh: jodell__: if your goal is to be able to repeatably generate these 10 nodes that are all variations on a simple theme, you might look at spiceweasel as an easy way to document *and* re-create them. you'd still probably want to define them as 10 different roles
[2012-11-26 22:06:08 -0500] jodell__: organizing at the role level works (and that's my current approach) but it seemed like i was underutilizing the node overrides or even chef itself
[2012-11-26 22:06:14 -0500] jsh: or, if you're one of the role-haters...10 different "application recipes" in one cookbook
[2012-11-26 22:06:54 -0500] jodell__: roles and composition are crucial
[2012-11-26 22:08:52 -0500] yfeldblum: jodell__, you may want a set of top-level roles, where nodes must have a run-list composed of only one of these top-level roles and no node-specific data
[2012-11-26 22:13:46 -0500] jodell__: jsh: spiceweasel is sort of what i had in mind, thanks
[2012-11-26 22:15:37 -0500] jsh: jodell__: np, I'm not using it myself, but I'm considering it.  current tool is a bunch of shell scripts that call knife and some AWS API command line tools
[2012-11-26 22:16:46 -0500] jsh: I'm looking for something like spiceweasel that would let me define all of the chef stuff, and also converge the config of i.e. ELB, RDS, Route53
[2012-11-26 22:20:53 -0500] behemphi: @mattray
[2012-11-26 22:21:06 -0500] behemphi: How do I get your branch in omnibus?
[2012-11-26 22:21:15 -0500] behemphi: to knife-rackspace I mean
[2012-11-26 22:22:26 -0500] mattray: behemphi: git clone https://github.com/mattray/knife-rackspace.git
[2012-11-26 22:22:32 -0500] mattray: cd knife-rackspace
[2012-11-26 22:22:45 -0500] mattray: oh wait, lemme make it easier
[2012-11-26 22:22:51 -0500] behemphi: no
[2012-11-26 22:22:54 -0500] behemphi: not necessary
[2012-11-26 22:23:04 -0500] behemphi: I thought I would have to locate it within opt/chef
[2012-11-26 22:23:08 -0500] mattray: nope
[2012-11-26 22:23:28 -0500] mattray: you can use /opt/chef/embedded/bin/gem install knife-rackspace-0.6.3.gem
[2012-11-26 22:23:49 -0500] mattray: once you've built the gem
[2012-11-26 22:26:14 -0500] jodell__: jtimberman: yfeldblum thanks for the feedback
[2012-11-26 22:26:33 -0500] yfeldblum: jodell__, sure
[2012-11-26 22:33:38 -0500] jstarcher: I want to run a command if a file *does* exist
[2012-11-26 22:33:52 -0500] jstarcher: is there a way to negate the creates attribute?
[2012-11-26 22:35:16 -0500] behemphi: OK Matt, that was my first time to build and install a gem, so sorry for the wait
[2012-11-26 22:35:20 -0500] behemphi: First it works
[2012-11-26 22:35:24 -0500] behemphi: second
[2012-11-26 22:35:54 -0500] behemphi: in -VV mode it is some sort of loop and spits things out 8 times (idenitical)
[2012-11-26 22:35:57 -0500] jtimberman: jstarcher: jstarcher https://gist.github.com/4151120
[2012-11-26 22:35:59 -0500] jtimberman: something like that
[2012-11-26 22:36:10 -0500] behemphi: arg  @mattray see above
[2012-11-26 22:36:17 -0500] mattray: behemphi: gist?
[2012-11-26 22:36:25 -0500] behemphi: sorry, bad irc habbit
[2012-11-26 22:36:30 -0500] jstarcher: @jtimberman: thank you!
[2012-11-26 22:36:40 -0500] behemphi: sec I will need to scrub since it has <secret> info
[2012-11-26 22:37:07 -0500] mattray: behemphi: you can do a private gist and dm it to me
[2012-11-26 22:37:25 -0500] yfeldblum: mattray, won't stop the hackers :D
[2012-11-26 22:37:43 -0500] mattray: yfeldblum: I just meant to get it out of the channel
[2012-11-26 22:38:34 -0500] behemphi: @mattray https://gist.github.com/4151127
[2012-11-26 22:39:59 -0500] mattray: behemphi: weird.
[2012-11-26 22:40:55 -0500] behemphi: yes @mattray yes I am
[2012-11-26 22:41:05 -0500] behemphi: but what's your point? :-)
[2012-11-26 22:42:20 -0500] mattray: behemphi: I can't figure a reason for what you're seeing. I mean, I didn't change any code that would loop like that
[2012-11-26 22:43:04 -0500] mattray: behemphi: as long as the rackspace_auth_url stuff is working, I'm gonna chalk it up to gem weirdness
[2012-11-26 22:44:21 -0500] behemphi: Sounds good to me
[2012-11-26 22:44:38 -0500] behemphi: One more question/comment  I submitted a pull request
[2012-11-26 22:44:39 -0500] jstarcher: I'm trying to deploy php.ini via template, however, the file never gets updated. Here is my recipe code and output from a run: https://gist.github.com/23164adba7d89ecf3cb5
[2012-11-26 22:44:47 -0500] mattray: maybe uninstall any other knife-rackspace gems?
[2012-11-26 22:44:49 -0500] behemphi: it was to fix an ambiguity in the doc
[2012-11-26 22:44:55 -0500] behemphi: I had to do that
[2012-11-26 22:45:02 -0500] behemphi: and I don't see my commit in the git log
[2012-11-26 22:45:21 -0500] behemphi: Want to know what I did wrong
[2012-11-26 22:45:38 -0500] behemphi: 'cuz this was my way of "dipping my toe" on contributing
[2012-11-26 22:46:33 -0500] behemphi: I ask b/c the e.g. in the docs for the auth_url is this:
[2012-11-26 22:46:40 -0500] behemphi: knife[:rackspace_api_auth_url] = "lon.auth.api.rackspacecloud.com"
[2012-11-26 22:46:45 -0500] behemphi: which is a bit misleading
[2012-11-26 22:46:58 -0500] behemphi: b/c mine is auth.api.rackspacecloud.com
[2012-11-26 22:47:08 -0500] jstarcher: any reason why the file hasn't been updated?
[2012-11-26 22:47:14 -0500] behemphi: so I wanted to make that more explicit for dense folks like me
[2012-11-26 22:58:18 -0500] mattray: behemphi: that works for London?
[2012-11-26 23:00:07 -0500] behemphi: n, but I would say something like for US use ...
[2012-11-26 23:00:10 -0500] behemphi: below
[2012-11-26 23:00:50 -0500] behemphi: b/c otherwise based on EG below it looks like it might be dft.http://auth.api.rackspacecloud.com/
[2012-11-26 23:01:11 -0500] behemphi: sorry, that was wrong  dfw.auth.api.rackspacecloud.com
[2012-11-26 23:02:30 -0500] behemphi: However, my real question is why the pull request I submitted was not accepted.  And again, I am asking to ensure I am following process.
[2012-11-26 23:02:40 -0500] behemphi: not challenging you on the veracity of the fix
[2012-11-26 23:12:15 -0500] joshhertz: Is there any way to view an output of the saved node attributes? I have a system that fails it's chef run with a error that suggests that the attributes file is too large. I'm on Hosted Chef so I cannot adjust the max upload size.
[2012-11-26 23:17:50 -0500] yfeldblum: joshhertz, Chef::Log.info("\n#{JSON.pretty_generate(:default => node.default.to_hash, :normal => node.normal.to_hash, :override => node.override.to_hash, :automatic => node.automatic.to_hash)}")
[2012-11-26 23:22:10 -0500] khimera: has anyone used the opscode chef php recipe, and used source as the install_method? When set to "source" it looks like php configurations are completely different. I am having issue where the ext dir is incorrect during source compilation
[2012-11-26 23:26:02 -0500] joshhertz: will that dump my node info, or do something else?
[2012-11-26 23:28:11 -0500] yfeldblum: joshhertz, it will print the node data to the log
[2012-11-26 23:28:25 -0500] joshhertz: cool. I'll try it out, thank you.
[2012-11-26 23:46:55 -0500] dysinger: hrm getting "organization not found" (Error 32033) trying to regenerate the validation key for knewton.  am I doing it wrong? that should just work.
