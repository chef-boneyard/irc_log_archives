[2012-11-06 00:03:33 -0500] yfeldblum: addisonj, weird ... at first pass through the code, only possible explanation seems to be this line failing: https://github.com/opscode/mixlib-shellout/blob/1.1.0/lib/mixlib/shellout/unix.rb#L119
[2012-11-06 00:04:08 -0500] addisonj: so, when I look at my /var/log/apt logs, it looks like it completes just fine as well...
[2012-11-06 00:04:18 -0500] addisonj: and its only these few hosts I have the issues
[2012-11-06 00:16:15 -0500] sethvargo: reset: I have a Q for you if you're free
[2012-11-06 00:19:42 -0500] reset: whats up setient
[2012-11-06 00:19:43 -0500] reset: sethvargo
[2012-11-06 00:20:22 -0500] sethvargo: using Vagrant with Berkshelf when your Vagrantfile lies outside of the repo where your Berskfile is
[2012-11-06 00:21:39 -0500] reset: that should work just fine - there's a configuration value for the Berksfile location
[2012-11-06 00:21:40 -0500] reset: did it not work?
[2012-11-06 00:22:49 -0500] sethvargo: it's not an issue with finding the Berksfile. One second, let me get you the exact error
[2012-11-06 00:23:40 -0500] reset: ok
[2012-11-06 00:23:40 -0500] sethvargo: "/Users/svargo/.rvm/gems/ruby-1.9.3-p286/gems/berkshelf-0.6.0.beta2/lib/berkshelf.rb:107:in `rescue in load_config': Attempted to load configuration from: '/Users/svargo/.chef/knife.rb' but not found. (Berkshelf::KnifeConfigNotFound)"
[2012-11-06 00:23:57 -0500] bluepojo: touch ~/.chef/knife.rb
[2012-11-06 00:23:58 -0500] bluepojo: for now
[2012-11-06 00:24:03 -0500] bluepojo: what version of Berkshelf are you using?
[2012-11-06 00:24:06 -0500] bluepojo: 0.5.0?
[2012-11-06 00:24:16 -0500] sethvargo: but I want it to use the knife.rb in my repo, not my root knife.rb
[2012-11-06 00:24:21 -0500] sethvargo: 0.6.0.beta2
[2012-11-06 00:24:25 -0500] sethvargo: or beta1, not sure
[2012-11-06 00:24:31 -0500] bluepojo: Hm. Try bumping to 1.0.0.rc1
[2012-11-06 00:24:45 -0500] sethvargo: ok. i'll try that and let you know what I discover
[2012-11-06 00:24:48 -0500] bluepojo: 0.6.0 turned into 1.0.0, they're not actually different releases
[2012-11-06 00:24:51 -0500] bluepojo: but it might have that fix
[2012-11-06 00:24:52 -0500] addisonj: yfeldblum: I opened up a support ticket (i am on hosted chef) but another thing, my failed-run-data was like 3.3 MB, does that seem slightly larger than it should?
[2012-11-06 00:26:26 -0500] yfeldblum: addisonj, probably
[2012-11-06 00:26:31 -0500] reset: sethvargo: if you want to use a different knife file you have to specify it in the Vagrantfile. This stuff goes away with 1.0.0, though
[2012-11-06 00:26:32 -0500] yfeldblum: addisonj, what are you storing in your nodes?
[2012-11-06 00:26:36 -0500] reset: Berkshelf has it's own configuration file in 1.0
[2012-11-06 00:26:54 -0500] sethvargo: I'm upgrading to 1.0.0 now. My internet connection is being quite a little jerk about it though
[2012-11-06 00:27:02 -0500] hoover_damm: addisonj, what version of the apt cookbook?
[2012-11-06 00:27:10 -0500] reset: berkshelf.com has the updated docs on the configuration stuff
[2012-11-06 00:27:12 -0500] thehar: INTERNETS
[2012-11-06 00:28:19 -0500] hoover_damm: addisonj, looks like your apt cookbook is old and the current version doesn't seem to match closely to your stack trace
[2012-11-06 00:28:21 -0500] addisonj: yfeldblum: nothign special, just an ec2 box with a single app deploy
[2012-11-06 00:28:25 -0500] addisonj: 1.4.8
[2012-11-06 00:28:28 -0500] addisonj: is what I am running
[2012-11-06 00:28:38 -0500] sethvargo: reset: still no luck it's looking for a Berksfile at the root where my VM's Vagrantfile exists, not where my cookbooks are
[2012-11-06 00:28:41 -0500] hoover_damm: 1.5.0 is the current
[2012-11-06 00:29:01 -0500] addisonj: okay, just updated, hope that fixes it
[2012-11-06 00:29:05 -0500] sethvargo: setting config.berkshelf.path doesnt seem to work
[2012-11-06 00:29:21 -0500] hoover_damm: addisonj, also that may require a version of chef that supports whyrun
[2012-11-06 00:29:21 -0500] addisonj: hoover_damm: I didn't see any open issues though...
[2012-11-06 00:29:28 -0500] addisonj: I am on 10.14
[2012-11-06 00:29:32 -0500] hoover_damm: addisonj, as apt cookbook recently added whyrun
[2012-11-06 00:30:00 -0500] reset: sethvargo: a bit ago I mentioned that in 1.0 this stuff goes away
[2012-11-06 00:30:04 -0500] reset: and is replaced by a configuration file
[2012-11-06 00:30:29 -0500] sethvargo: sorry, musta missed that. where are the docs for the config file
[2012-11-06 00:30:39 -0500] reset: instead of using a knife config you specify the things in a Berkshelf config file
[2012-11-06 00:30:44 -0500] reset: they are on berkshelf.com
[2012-11-06 00:30:54 -0500] reset: scroll down to "Configuring Berkshelf"
[2012-11-06 00:31:24 -0500] bluepojo: config is pretty new, so most people probably haven't noticed the feature yet
[2012-11-06 00:31:24 -0500] reset: if you don't generate a configuration file, one will automatically be filled in for you
[2012-11-06 00:31:30 -0500] reset: and it'll use your Knife config by default
[2012-11-06 00:31:34 -0500] reset: to fill out the parts it can
[2012-11-06 00:31:43 -0500] sethvargo: ooo ok
[2012-11-06 00:31:50 -0500] sethvargo: thx!
[2012-11-06 00:31:53 -0500] reset: no problem man
[2012-11-06 00:32:33 -0500] sethvargo: hmmm. wait im still confused. sorry
[2012-11-06 00:32:58 -0500] sethvargo: I don't want a root level config file - I want repo-level configs. I have multiple repos, some that use chef-hosted, some private chef, and some chef-solo
[2012-11-06 00:33:30 -0500] reset: you can still have that
[2012-11-06 00:33:35 -0500] reset: you just need to pass the -c flag
[2012-11-06 00:33:40 -0500] reset: with the repo's configuration file
[2012-11-06 00:34:07 -0500] reset: just like you would with a knife file
[2012-11-06 00:34:45 -0500] sethvargo: im getting these errors when running "vagrant up"
[2012-11-06 00:34:58 -0500] reset: what error
[2012-11-06 00:35:16 -0500] sethvargo: all I'm trying to do is point my vagrant VM at a chef repo that uses berkshelf
[2012-11-06 00:35:24 -0500] sethvargo: Can't find the Berksfile, cant file knife.rb, etc
[2012-11-06 00:35:55 -0500] reset: you really need to show me the stacktrace so I can try and weed out your problem
[2012-11-06 00:36:27 -0500] reset: 1.0 is a release candidate with a lot of new functionality
[2012-11-06 00:36:42 -0500] reset: it's documented but we need to make sure it's easy for people to understand
[2012-11-06 00:36:44 -0500] sethvargo: do you wanna stay in IRC or jump on skype?
[2012-11-06 00:36:45 -0500] reset: and it sounds like it isn't
[2012-11-06 00:37:06 -0500] bluepojo: can throw a stacktrace in a gist
[2012-11-06 00:37:09 -0500] bluepojo: maybe that'll help
[2012-11-06 00:37:20 -0500] sethvargo: ok. gimme like 5 mins to throw everything together
[2012-11-06 00:38:47 -0500] reset: ok great
[2012-11-06 00:38:51 -0500] reset: thanks man
[2012-11-06 00:43:51 -0500] sethvargo: https://gist.github.com/4021619
[2012-11-06 00:43:55 -0500] sethvargo: @reset^
[2012-11-06 00:46:16 -0500] reset: sethvargo: ok so you need to point Vagrant to your Berksfile
[2012-11-06 00:46:19 -0500] reset: you can do that with this configuration option
[2012-11-06 00:46:22 -0500] reset: berksfile_path
[2012-11-06 00:46:31 -0500] sethvargo: wait, not done yet. I have another scenario for you
[2012-11-06 00:46:35 -0500] reset: Vagrant::Config.run do |config|
[2012-11-06 00:46:35 -0500] reset:   config.berkshelf.berksfile_path = "/Users/reset/code/my_face/Berksfile"
[2012-11-06 00:46:35 -0500] reset: end
[2012-11-06 00:46:55 -0500] reset: there's a section on the berkshelf.com page labelled "Setting a Berksfile location"
[2012-11-06 00:47:02 -0500] reset: kk what else
[2012-11-06 00:47:07 -0500] sethvargo: (making another gist)
[2012-11-06 00:48:49 -0500] sethvargo: https://gist.github.com/4021643
[2012-11-06 00:49:12 -0500] bluepojo: cookbooks_path is an array
[2012-11-06 00:49:14 -0500] bluepojo: or is supposed to be
[2012-11-06 00:49:18 -0500] bluepojo: wrap it in []
[2012-11-06 00:49:44 -0500] sethvargo: bluepojo: okay, but I don't think that's going to make a difference. running `vagrant up` now to verify
[2012-11-06 00:49:47 -0500] reset: exactly
[2012-11-06 00:49:53 -0500] reset: no, that' is correct
[2012-11-06 00:50:08 -0500] reset: I should maybe add a validation or a coercion
[2012-11-06 00:50:09 -0500] bluepojo: #unshift is an array method
[2012-11-06 00:50:23 -0500] bluepojo: it inserts in the front of the array
[2012-11-06 00:50:27 -0500] bluepojo: like the opposite of push
[2012-11-06 00:50:30 -0500] bluepojo: for insert pethods
[2012-11-06 00:50:32 -0500] bluepojo: methods
[2012-11-06 00:50:36 -0500] reset: i'll make a ticket for that
[2012-11-06 00:51:02 -0500] sethvargo: right, but I only get that issue when the Vagrantfile is at the root of my chef repo, which isn't what I want, it was just an experiment
[2012-11-06 00:51:07 -0500] sethvargo: thanks reset for making the ticket
[2012-11-06 00:51:40 -0500] reset: https://github.com/RiotGames/berkshelf/issues/194
[2012-11-06 00:51:45 -0500] bluepojo: one of the problems is that Berkshelf was designed with current chef best practices in mind, which means not using a chef-repo as the storage method for your cookbooks.
[2012-11-06 00:51:53 -0500] sethvargo: reset: it looks like the berkshelf_path worked. I only had config.berkshelf.path instead of config.berkshelf.berkshelf_path :(
[2012-11-06 00:51:56 -0500] bluepojo: so you're encountering issues trying to coerce berkshelf into that style of development
[2012-11-06 00:52:09 -0500] sethvargo: right
[2012-11-06 00:52:24 -0500] bluepojo: not that the issues can't be solved
[2012-11-06 00:52:28 -0500] bluepojo: just saying why it feels a bit odd
[2012-11-06 00:52:35 -0500] reset: sethvargo: yeah we'll take care of any issues that people run into
[2012-11-06 00:52:43 -0500] reset: it's just not our #1 priority to support that style
[2012-11-06 00:52:51 -0500] reset: thanks for letting us know man
[2012-11-06 00:53:07 -0500] reset: is it all working now?
[2012-11-06 00:53:24 -0500] sethvargo: would you be opposed to a PR where berkshelf attempts to find its Berksfile kinda "up-the-stack"? Like, look at the current directory where the Vagrantfile is, then look in the cookbooks_path directory, so that you don't have to specify the config file unless you're doing something super super crazy?
[2012-11-06 00:53:44 -0500] reset: no, i'm not opposed to that at all
[2012-11-06 00:54:11 -0500] sethvargo: and I'm attempting to provision now :()
[2012-11-06 00:54:16 -0500] sethvargo: whoops. wrong face :)**
[2012-11-06 00:55:20 -0500] sethvargo: reset: I also need to set some time aside to chat about integrating Berkshelf with strainer, but we can do that some other time
[2012-11-06 00:55:44 -0500] reset: do you have a link to the strainer github project
[2012-11-06 00:56:25 -0500] sethvargo: https://github.com/customink/strainer
[2012-11-06 00:56:51 -0500] sethvargo: the shortest way I can put it is: I need to by able to find the location
[2012-11-06 00:57:08 -0500] sethvargo: of any cookbook, by name, for the current Berksfile
[2012-11-06 00:57:18 -0500] sethvargo: and I just don't know how
[2012-11-06 00:57:37 -0500] sethvargo: I can get the path to the cookbooks, but I don't know how to match the corresponding versions with what is in the Berksfile, etc
[2012-11-06 00:57:52 -0500] sethvargo: basically I want to do my own selective berks install path whatever
[2012-11-06 00:58:40 -0500] reset: you can use Berkshelf's internals to accomplish that
[2012-11-06 00:58:46 -0500] sethvargo: I figured. I just don't know how
[2012-11-06 00:58:46 -0500] reset: I could also create a command that output's it
[2012-11-06 00:59:01 -0500] reset: kinda like bundle show
[2012-11-06 00:59:32 -0500] reset: the Berkshelf code should be well documented especially around the area that you're going down
[2012-11-06 01:01:02 -0500] patjenk: I'm having trouble understanding where actions are defined in recipes. I see things like install, enable, and start but to me it's unclear what they're doing or how to debug them if they cause an error. Can someone recommend a good resource for me to read or a better google search than "chef recipe actions"?
[2012-11-06 01:01:20 -0500] patjenk: btw, if it wasn't obvious from my question im new to chef.
[2012-11-06 01:01:57 -0500] sethvargo: reset: yea, I've played around in the source. I ran into a bunch of problems though. I just don't remember what they were ff the top of my head :
[2012-11-06 01:02:30 -0500] reset: the class you are about is the "CookbookStore"
[2012-11-06 01:02:41 -0500] reset: it contains the listing of all cookbooks and versions
[2012-11-06 01:02:45 -0500] reset: and returns a filepath for you
[2012-11-06 01:03:10 -0500] sethvargo: right, but I have to search by cookbook_name and version if I recall
[2012-11-06 01:03:14 -0500] sethvargo: and I don't know the version
[2012-11-06 01:03:44 -0500] sethvargo: like, if I have a cookbook that I'm straining. I need to load that cookbook, and any dependencies together in memory
[2012-11-06 01:04:15 -0500] rava: what else might cause a role definition done in json and pushed to the chef server to show up with an empty run list? i'm running chef server 10.16.0-r1 and i ahve _default declared with an empt list in the env_run_lists hash
[2012-11-06 01:06:05 -0500] reset: sethvargo: yeah you would need to be more familiar with the Berkshelf and Solve classes to accomplish that
[2012-11-06 01:06:08 -0500] rava: i also have nothing listed for the run_list hash, as i don't have any default recipes i want to run outside of the environments
[2012-11-06 01:06:10 -0500] reset: but all of the primitives are there
[2012-11-06 01:06:28 -0500] reset: we can sync up about strainer later on
[2012-11-06 01:06:29 -0500] sethvargo: yea. I just need to find a few hours of my life to sitdown and do it
[2012-11-06 01:06:33 -0500] sethvargo: sounds like a plan
[2012-11-06 01:12:49 -0500] rava: the answer to my question is "you're own inability to spell variable names properly and chef not yelling at you about it"
[2012-11-06 01:20:29 -0500] Glace_: Anyone had some success with Cloudformation/Chef/Windows?
[2012-11-06 01:21:04 -0500] Glace_: With the computername reboot needed problem.. I am having a lot of issues bootstrapping chef
[2012-11-06 03:06:47 -0500] josanabr: hi again
[2012-11-06 03:07:02 -0500] josanabr: ["slave01", "slave02"].each do |slave|
[2012-11-06 03:07:02 -0500] josanabr:   execute "enable ssh access" do
[2012-11-06 03:07:02 -0500] josanabr:     user "hduser"
[2012-11-06 03:07:03 -0500] josanabr:     group "hadoop"
[2012-11-06 03:07:03 -0500] josanabr:     cwd "/home/hduser"
[2012-11-06 03:07:03 -0500] josanabr:     command "./ssh-copy-id.ext "
[2012-11-06 03:07:05 -0500] josanabr:     action :run
[2012-11-06 03:07:07 -0500] josanabr:   end
[2012-11-06 03:07:09 -0500] josanabr: end
[2012-11-06 03:07:23 -0500] josanabr: I want that that command line
[2012-11-06 03:07:34 -0500] josanabr: include the slave variable
[2012-11-06 03:07:40 -0500] josanabr: but I don't know how to do that
[2012-11-06 03:07:45 -0500] josanabr: I'm not a Ruby guy
[2012-11-06 03:08:04 -0500] josanabr: the command line should be executed something like that
[2012-11-06 03:08:05 -0500] yfeldblum: josanabr, command "./ssh-copy-id.ext #{slave}"
[2012-11-06 03:08:10 -0500] josanabr: cool :D
[2012-11-06 03:08:15 -0500] josanabr: thanks a lot ;)
[2012-11-06 03:08:26 -0500] yfeldblum: yep
[2012-11-06 03:10:17 -0500] PRK_nz: Hi, how safe is it (if at all) to use a newer Chef client than Chef server? e.g. client 10.16.2, server 0.10.8.
[2012-11-06 03:12:54 -0500] bluepojo: it's safe
[2012-11-06 03:12:58 -0500] bluepojo: oh
[2012-11-06 03:12:58 -0500] bluepojo: no
[2012-11-06 03:13:01 -0500] bluepojo: in reverse
[2012-11-06 03:13:02 -0500] bluepojo: it's safe
[2012-11-06 03:13:07 -0500] bluepojo: can't use a newer client than the server
[2012-11-06 03:13:11 -0500] bluepojo: can use a newer server than the client
[2012-11-06 03:13:20 -0500] bluepojo: sorry, misread on the first pass
[2012-11-06 03:13:31 -0500] bluepojo: do not upgrade your clients before your server
[2012-11-06 03:15:21 -0500] PRK_nz: bluepojo: cheers, that's what I thought :(
[2012-11-06 03:16:20 -0500] PRK_nz: What if you're not really using any server side stuff from the client (e.g. searches), could that be ok?
[2012-11-06 03:16:31 -0500] bluepojo: ehhhhh I don't think so
[2012-11-06 03:16:35 -0500] bluepojo: what are you trying to do?
[2012-11-06 03:16:53 -0500] bluepojo: do you just want the better error output or what?
[2012-11-06 03:17:07 -0500] PRK_nz: mainly yes
[2012-11-06 03:17:10 -0500] bluepojo: gotcha
[2012-11-06 03:17:17 -0500] bluepojo: yeah I think you're stuck till you can upgrade the server
[2012-11-06 03:17:55 -0500] PRK_nz: On that notion, is there any way to test an upgraded server is working correctly?
[2012-11-06 03:20:16 -0500] PRK_nz: I'm asking because I've got two servers (don't even ask why), and I upgrade one (the less important one) to 10.12 at the time, and now the searches page on the webui doesn't work (and I've never been able to work out why).
[2012-11-06 03:23:57 -0500] josanabr: I'm using this command to provision a virtual machine "knife cook vagrant@10.0.1.2"
[2012-11-06 03:24:31 -0500] josanabr: and that command runs the 10.0.1.2.json file which contains these lines
[2012-11-06 03:24:39 -0500] josanabr: {
[2012-11-06 03:24:40 -0500] josanabr: "run_list": ["recipe[hostconf]","recipe[jdk]","recipe[hduser]","recipe[ipv6]","recipe[hadoop]","recipe[hdfs]"]
[2012-11-06 03:24:40 -0500] josanabr: }
[2012-11-06 03:25:08 -0500] josanabr: now I need to pass a parameter when the runlist runs
[2012-11-06 03:25:26 -0500] josanabr: how to define a variable inside the brackets
[2012-11-06 03:25:55 -0500] josanabr: a nameserver for instance
[2012-11-06 03:26:08 -0500] gchristensen: you would have to do that with something like a node's attributes
[2012-11-06 03:26:27 -0500] josanabr: yes, I followed examples to run with Vagrant
[2012-11-06 03:26:43 -0500] gchristensen: you can't really pass a variable in the brackets
[2012-11-06 03:27:05 -0500] josanabr: ok,
[2012-11-06 03:27:48 -0500] gchristensen: you could set an attribute on the node though :)
[2012-11-06 03:28:27 -0500] josanabr: hmmm!!! some url where to find more about this
[2012-11-06 03:28:46 -0500] gchristensen: look up node attributes
[2012-11-06 03:29:49 -0500] josanabr: thank you, I will check it and I will let you know if I get stuck :)
[2012-11-06 03:31:04 -0500] julian_: Anyone using chef with spot instances?
[2012-11-06 03:37:22 -0500] schuckles: can you call a cookbook from a bootstrap template?
[2012-11-06 03:38:17 -0500] gchristensen: no, julian_, but its on my list  of things to do :)
[2012-11-06 03:49:52 -0500] yfeldblum: schuckles, nope
[2012-11-06 03:50:17 -0500] schuckles: rats
[2012-11-06 03:50:54 -0500] yfeldblum: schuckles, or the other reaction: "whew, abstractions are solid and aren't leaking all over each other"
[2012-11-06 03:51:18 -0500] hoover_damm: nothing like creating resources in erb templates to make you shudder
[2012-11-06 03:51:49 -0500] yfeldblum: hoover_damm, that's going to be my new favorite "gotcha!" technique
[2012-11-06 03:52:09 -0500] hoover_damm: yfeldblum, god yes
[2012-11-06 03:52:25 -0500] hoover_damm: yfeldblum, or loading encrypted databags inside an erb template
[2012-11-06 03:52:31 -0500] hoover_damm: always freaks me out
[2012-11-06 03:53:18 -0500] yfeldblum: hoover_damm, given that a bootstrap template is an ERB template, and the first chef-client run is kicked off inside it, and resources are declared and encrypted data-bags are loaded inside that first chef-client run, i believe we're already guilty of all that
[2012-11-06 03:53:55 -0500] yfeldblum: hoover_damm, :D
[2012-11-06 03:54:37 -0500] hoover_damm: yfeldblum, ghe logic in the erb template doesn't make you scream HOLY CRAP MY PANTS ARE ON FIRE
[2012-11-06 03:54:40 -0500] hoover_damm: the*
[2012-11-06 03:54:52 -0500] hoover_damm: yfeldblum, it's fairly straight forward, and direct
[2012-11-06 03:55:16 -0500] hoover_damm: yfeldblum, have you ever run into people who code their recipes in their templates?
[2012-11-06 03:55:50 -0500] yfeldblum: hoover_damm, only with a car, and only as just and rightful retribution?
[2012-11-06 03:56:02 -0500] hoover_damm: yfeldblum, your lucky
[2012-11-06 03:56:33 -0500] hoover_damm: yfeldblum, default/recipe.rb calls template "somethingtodo" do end and inside the actual template had all the package statements, and cron calls
[2012-11-06 03:56:43 -0500] hoover_damm: yfeldblum, just to hide it
[2012-11-06 03:56:47 -0500] hoover_damm: no valid reason
[2012-11-06 03:57:04 -0500] yfeldblum: hoover_damm, odd ...
[2012-11-06 03:58:59 -0500] hoover_damm: yfeldblum, at first it was to see if he could... then it was a secret line of job security
[2012-11-06 04:02:29 -0500] gchristensen: the first week at my current job, hoover_damm, one of the "senior" devs showed off the project he just spent 2mo on
[2012-11-06 04:02:54 -0500] gchristensen: turns out it was so laden with job security... I pointed it out on the conference call, and the guy got fired the next day
[2012-11-06 04:03:02 -0500] gchristensen: I've been cleaning up his mess ever since :(
[2012-11-06 04:03:50 -0500] hoover_damm: gchristensen, ouch...
[2012-11-06 04:04:19 -0500] gchristensen: going on 2.5 years here
[2012-11-06 04:05:52 -0500] yfeldblum: hoover_damm, gchristensen, doesn't sound like that job-security proved to be very secure ...
[2012-11-06 04:06:14 -0500] gchristensen: yfeldblum: it was for a long time, until they hired me, and I hired my team
[2012-11-06 04:06:30 -0500] gchristensen: yfeldblum: now my job security, and my employee's job security is they're *really good* and *add value*
[2012-11-06 04:07:05 -0500] yfeldblum: gchristensen, that sounds more secure to me
[2012-11-06 04:07:11 -0500] gchristensen: yep
[2012-11-06 04:07:27 -0500] bluepojo: gchristensen: wow, props to management for that move at least
[2012-11-06 04:07:32 -0500] gchristensen: and less frustrating :( it sucks doing your job poorly
[2012-11-06 04:08:14 -0500] gchristensen: bluepojo: it took a lot of time, but it wasn't hard demonstrating their intentional destruction
[2012-11-06 04:09:53 -0500] yfeldblum: gchristensen, like http://www.noulakaz.net/weblog/2007/03/18/a-regular-expression-to-check-for-prime-numbers/ ?
[2012-11-06 04:10:51 -0500] gchristensen: oy! that stuff makes my head hurt :)
[2012-11-06 04:11:46 -0500] gchristensen: I can make sense of a regex here and there, but goodness
[2012-11-06 04:12:19 -0500] jtimberman: wow thats awesome
[2012-11-06 04:12:40 -0500] yfeldblum: gchristensen, well if you all-of-a-sudden start sucking and need some extra security, there you go
[2012-11-06 04:12:43 -0500] gchristensen: I saw that one as a vim-golf example
[2012-11-06 04:12:57 -0500] gchristensen: yfeldblum: I'll stick that away somewhere, just in case :)
[2012-11-06 04:13:06 -0500] jtimberman: don't pick too large a number :)
[2012-11-06 04:13:26 -0500] yfeldblum: jtimberman, or, make sure your computer has enough memory
[2012-11-06 04:13:50 -0500] gchristensen: that'll be my trick to speed up the system... "After many hours, I tracked it all down to a few minor optimizations. Also, I need a 15% raise."
[2012-11-06 04:14:42 -0500] yfeldblum: "regexp based prime factorization is too slow; i need a budget to buy some quantum computers"
[2012-11-06 04:15:26 -0500] jtimberman: yfeldblum: clearly
[2012-11-06 04:15:26 -0500] hoover_damm: i think that's one of the things i can't get... how people would harm the company paying their paycheck
[2012-11-06 04:15:31 -0500] hoover_damm: for job security
[2012-11-06 04:15:33 -0500] hoover_damm: or otherwise
[2012-11-06 04:15:39 -0500] gchristensen: hoover_damm: no kidding
[2012-11-06 04:16:06 -0500] gchristensen: at least in smaller companies. I could imagine it could be easy to get lost in the size of some companies
[2012-11-06 04:16:13 -0500] gchristensen: but I dunno, I much prefer smaller companies :)
[2012-11-06 04:16:27 -0500] hoover_damm: size is not the point to me
[2012-11-06 04:16:41 -0500] gchristensen: oh sure, not saying a large company would make me do it
[2012-11-06 04:16:43 -0500] hoover_damm: most of us are either developers or operations... we provide a service to our company or client
[2012-11-06 04:16:52 -0500] hoover_damm: doing our job well
[2012-11-06 04:16:56 -0500] hoover_damm: is it's own job security
[2012-11-06 04:16:58 -0500] gchristensen: yes
[2012-11-06 04:17:18 -0500] gchristensen: unless you're too good and they think they can fire half the team :P
[2012-11-06 04:17:53 -0500] hoover_damm: that does not work
[2012-11-06 04:18:08 -0500] gchristensen: it only happens at companies you shouldn't be at anyway
[2012-11-06 04:18:27 -0500] hoover_damm: indeed
[2012-11-06 04:22:16 -0500] hoover_damm: my current short-term to long term goals are to find a company where I am no longer the black sheep and I don't have to deal with idiots and jerks being offensive / rude and / malicious
[2012-11-06 04:22:23 -0500] hoover_damm: and having them defend their behavior as 'okay'
[2012-11-06 04:23:05 -0500] hoover_damm: might end up still contracting and just start my own company and stay my own boss
[2012-11-06 04:23:12 -0500] hoover_damm: and deal with less people and charge more
[2012-11-06 04:23:32 -0500] gchristensen: in what ways are you the black sheep?
[2012-11-06 04:24:12 -0500] hoover_damm: usually its $editors and then $configurationmanagement
[2012-11-06 04:24:33 -0500] hoover_damm: i've run into a lot of companies where the $editor wars is very hostile
[2012-11-06 04:24:34 -0500] hoover_damm: and ugly
[2012-11-06 04:24:36 -0500] gchristensen: wow
[2012-11-06 04:24:41 -0500] hoover_damm: stupid huh
[2012-11-06 04:25:05 -0500] gchristensen: yeah
[2012-11-06 04:25:07 -0500] gchristensen: live and let live
[2012-11-06 04:25:10 -0500] hoover_damm: i remember asking in an interview about 6months ago if running emacs was going to start the jokes
[2012-11-06 04:25:17 -0500] hoover_damm: well when you don't have people work with you
[2012-11-06 04:25:19 -0500] hoover_damm: push more work on you
[2012-11-06 04:25:30 -0500] hoover_damm: it's not really cool
[2012-11-06 04:26:00 -0500] gchristensen: as long as $EDITOR doesn't muck up the line endings and trailing whitespace and all that jazz... I don't care if you use Nano :)
[2012-11-06 04:26:28 -0500] hoover_damm: pairing with nano users is fun as an emacs user...
[2012-11-06 04:26:34 -0500] hoover_damm: easier then pairing with a vim user
[2012-11-06 04:26:49 -0500] hoover_damm: vim users who haven't read any emacs manual conjure up great keystrokes by accident
[2012-11-06 04:27:37 -0500] gchristensen: hah
[2012-11-06 04:27:41 -0500] yfeldblum: who cares what editor anyone uses?
[2012-11-06 04:27:55 -0500] hoover_damm: yfeldblum, i asked myself that a long time ago
[2012-11-06 04:27:57 -0500] hoover_damm: i stopped asking
[2012-11-06 04:27:58 -0500] hoover_damm: no answer
[2012-11-06 04:28:25 -0500] hoover_damm: yfeldblum, it shouldn't matter... but when you are an emacs user and commonly the butt of emacs jokes non-stop
[2012-11-06 04:28:41 -0500] hoover_damm: yfeldblum, you start to think of yourself as a minority
[2012-11-06 04:31:10 -0500] gchristensen: hoover_damm: how do you take C-x M-c M-butterfly?
[2012-11-06 04:31:34 -0500] ssd7: Ohai Chefs
[2012-11-06 04:31:36 -0500] gchristensen: (I think that's the only thing I ever say about Emacs.)
[2012-11-06 04:32:05 -0500] gchristensen: (re: http://xkcd.com/378/)
[2012-11-06 04:32:41 -0500] hoover_damm: gchristensen, yeah emacs is insteresting
[2012-11-06 04:32:55 -0500] hoover_damm: gchristensen, recently found myself using wanderlust (emacsen mail app)
[2012-11-06 04:33:05 -0500] gchristensen: nice
[2012-11-06 04:33:58 -0500] gchristensen: I used to be an emacs user, but I lost the configuration once and ended up switching to Netbeans, until I saw the light again and moved back to a CLI editor
[2012-11-06 04:34:46 -0500] hoover_damm: that was one of the problems I have with learning everything... there is the pattern to take it from someone else
[2012-11-06 04:34:54 -0500] hoover_damm: or learn it yourself
[2012-11-06 04:35:02 -0500] gchristensen: yeah
[2012-11-06 04:35:20 -0500] hoover_damm: still too much of the latter
[2012-11-06 04:36:11 -0500] hoover_damm: so ubuntu doesn't seem to like doing gpt partitions over pxe
[2012-11-06 04:38:12 -0500] hoover_damm: reading dmesg over 9600 baud
[2012-11-06 04:45:51 -0500] sascha_d: ohey @ssd7
[2012-11-06 04:46:00 -0500] sascha_d: question4you on knife-openstack?
[2012-11-06 04:48:32 -0500] sascha_d:  @ssd7 since I know you were active in developing the plugin, I've been looking at merging some custom knife-openstack code into canon knife-openstack. The only part I'm having a problem with is where the server object is returning addresses{"nova_fixed"...} instead of addresses{"public_address"} or something similar
[2012-11-06 04:49:05 -0500] sascha_d: I'm trying to figure out what is returning that value and haven't been smart enough to find it yet. I really know almost nothing about fog/openstack
[2012-11-06 04:54:34 -0500] ssd7: sascha_d: So the server object is coming directly from fog basically
[2012-11-06 04:55:46 -0500] ssd7: sascha_d: What version of fog are you using?  I'd welcome any patch to make us more compatible with all possible setups.  We basically only get to test on our own internal cluster.
[2012-11-06 04:56:35 -0500] sascha_d: you mean which gem?
[2012-11-06 04:57:43 -0500] sascha_d: the openstack plugin the guys developed was written in May and the gemspec pegged it to fog 1.5 although I've tested that the custom code works with 1.6
[2012-11-06 04:59:16 -0500] sascha_d: @ssd7 the trick is, the custom code sets ip = server.addresses['nova_fixed'][0]['addr']
[2012-11-06 04:59:53 -0500] sascha_d: and I was trying to bring it back in line with the existing openstack plugin that uses server.addresses['public_ip'] or whatever it is
[2012-11-06 05:00:30 -0500] sascha_d: but I can't figure out where the disconnect in the addresses array occurs
[2012-11-06 05:11:44 -0500] ssd7: sascha_d: So, my hunch is that fog doesn't actually do /that/ much with whatever is coming back from the api request to openstack
[2012-11-06 05:12:13 -0500] sascha_d: I wondered if it was something to do with our openstack install
[2012-11-06 05:12:25 -0500] ssd7: sascha_d: Are you on Essex?
[2012-11-06 05:12:25 -0500] sascha_d: We are running Essex and it's almost unaltered
[2012-11-06 05:12:53 -0500] sascha_d: we maintain a set of chef solo items that we execute on top of the essex/crowbar'd install
[2012-11-06 05:13:12 -0500] sascha_d: this was all implemented long before I arrived so I'm a little bit of a detective in all this
[2012-11-06 05:14:39 -0500] sascha_d: almost the only internet page I turned up on this subject was this: http://community.opscode.com/chat/chef/2012-03-15
[2012-11-06 05:15:15 -0500] ssd7: So, I think that the "addresses" is basically a hash of "network_name" [ {"addr" => IPADDRESS, "version" => 4(or 6)}, ..]
[2012-11-06 05:15:42 -0500] ssd7: "public" and "private" tend just to be conventional network names, but I think the names are pretty arbitary actually
[2012-11-06 05:16:09 -0500] ssd7: so if you have one called 'nova_fixed' that is what is going to be in the hash
[2012-11-06 05:17:42 -0500] sascha_d: interesting
[2012-11-06 05:17:51 -0500] sascha_d: I'm perusing the API doc for the compute api
[2012-11-06 05:18:02 -0500] sascha_d: I didn't realize that was a "label"
[2012-11-06 05:18:14 -0500] ssd7: sascha_d: If you run, `nova network-list` you should be able to see what your networks are labeled
[2012-11-06 05:18:36 -0500] ssd7: I'd be +1 on a feature that made the network label we look for configurable
[2012-11-06 05:18:37 -0500] sascha_d: I will try to remember that for tomorrow. I'm on the wrong laptop for that tonight.
[2012-11-06 05:19:00 -0500] sascha_d: We currently have at least one thing maybe two that they added into the plugin earlier this year
[2012-11-06 05:19:47 -0500] sascha_d: we have the plugin cause the server to write out a "server.properties" file when it builds because we do a lot of launches with jenkins;  Jenkins can read the file and know the server IP and some other attributes
[2012-11-06 05:20:50 -0500] ssd7: Ahh, cool.  Yeah the openstack support in test-kitchen basically just records in the instance id and then asks for server details on the next run, I should probably change it to store more properties so it doesn't have to hit the API again
[2012-11-06 05:21:14 -0500] sascha_d: so this is why I'm even looking at this
[2012-11-06 05:21:27 -0500] sascha_d: considering moving some of our clunky jenkins process out into test kitchen
[2012-11-06 05:21:33 -0500] sascha_d: so that jenkins is just the orchestrator
[2012-11-06 05:21:56 -0500] sascha_d: we do a lot of what test kitchen does, but it's spread out over several jobs and the job flow is difficult to eyeball
[2012-11-06 05:23:07 -0500] sascha_d: Sleeping now. Thanks for the ideas Mister.
[2012-11-06 05:24:21 -0500] ssd7: Have a nice night!
[2012-11-06 06:14:35 -0500] Aparna_: I am using chef 10.14.4 and using powershell resource in one of the recipies
[2012-11-06 06:14:51 -0500] Aparna_: but I m getting error "Cannot find a resource for powershell on windows version 6.1.7600"
[2012-11-06 06:15:38 -0500] Aparna_: can any body help why this error?
[2012-11-06 06:16:55 -0500] ssd7: Hrmm
[2012-11-06 06:19:16 -0500] Aparna_: ??
[2012-11-06 06:19:49 -0500] ssd7: Are you including the powershell cookbook in the dependnecies of your cookbook
[2012-11-06 06:20:12 -0500] Aparna_: I guess no
[2012-11-06 06:20:21 -0500] Aparna_: How to do that? do I need to update the metadata?
[2012-11-06 06:20:33 -0500] ssd7: in metadata.rb put: depends "powershell"
[2012-11-06 06:20:42 -0500] Aparna_: ok thanks
[2012-11-06 06:20:47 -0500] BryanWB_: ohai chefs!
[2012-11-06 06:23:22 -0500] ssd7: BryanWB_: Heya
[2012-11-06 06:23:49 -0500] BryanWB_: ssd7: hey dude, just watching fnichol's hilarious code review interrupting cat
[2012-11-06 06:23:54 -0500] Aparna_: ssd7: I added depends "powershell" to the metadata.rb of my cookbook byt still its giving the same error
[2012-11-06 06:24:38 -0500] ssd7: Aparna_: One sec, I'll take a look
[2012-11-06 06:26:13 -0500] ssd7: BryanWB_: :) yeah, that was funny.  I'm really likely the public code reviews
[2012-11-06 06:26:24 -0500] BryanWB_: ssd7: r u getting good participation?
[2012-11-06 06:27:24 -0500] ssd7: BryanWB_: Indeed, a few people showing up to each COOK review
[2012-11-06 06:27:27 -0500] ssd7: Less for CHEF
[2012-11-06 06:27:51 -0500] BryanWB_: kewl,  that's to be expected, just wait, more will come :)
[2012-11-06 06:30:28 -0500] Aparna_: ssd7: did u get any other solution?
[2012-11-06 06:32:16 -0500] ssd7: Aparna_: Just to be sure, can you put include_recipe "powershell" at the top of your recipe?
[2012-11-06 06:32:39 -0500] ssd7: Also, can you gist/pastebin the full output you are getting
[2012-11-06 06:32:54 -0500] Aparna_: i will try that and get back.. giv me a moment
[2012-11-06 06:34:49 -0500] Aparna_: ssd7: I tried the include_recipe "powershell" at ythe top of my recipe
[2012-11-06 06:34:59 -0500] Aparna_: and then it gave error
[2012-11-06 06:35:40 -0500] Aparna_: "FATAL: Chef::Exceptions::CookbookNotFound: Cookbook powershell not found. If you're loading powershell from another cookbook, make sure you configure the dependency in your metadata"
[2012-11-06 06:36:12 -0500] Aparna_: @ this time i also have depends "powershell" in metadata.rb
[2012-11-06 06:36:26 -0500] Aparna_: So is it that the powershell cook book is missing ?
[2012-11-06 06:36:40 -0500] ssd7: It looks like it
[2012-11-06 06:37:07 -0500] ssd7: And you definitely have uploaded the updated cookbook to your chef server?
[2012-11-06 06:37:20 -0500] Aparna_: I am using chef-solo
[2012-11-06 06:39:07 -0500] Aparna_: SO thr is no server  in picture with chef-solo
[2012-11-06 06:39:41 -0500] ssd7: Ahh, so have you downloaded the powershell cookbook and put it in your cookbook path?
[2012-11-06 06:40:29 -0500] Aparna_: nope.. I did nt have the idea that it is required to download
[2012-11-06 06:40:46 -0500] Aparna_: Can u please help me with the link frm where to download
[2012-11-06 06:41:03 -0500] Aparna_: and i need tojust place it in the ccokbook path specified in solo.rb right?
[2012-11-06 06:41:12 -0500] ssd7_: Sorry my connection dropped.  So, you'll need to get the powershell cookbook from the community site.  The easiest way is knife cookbook site download powershell
[2012-11-06 06:41:42 -0500] Aparna_: do u have the link or chall I search in Opscode?
[2012-11-06 06:43:25 -0500] ssd7_: http://community.opscode.com/cookbooks/powershell
[2012-11-06 06:43:46 -0500] ssd7_: Although running `knife cookbook site donwload powershell` from your chef-repo should download the same thing
[2012-11-06 06:44:24 -0500] Aparna_: yeagh
[2012-11-06 06:44:27 -0500] Aparna_: yeah..
[2012-11-06 06:44:28 -0500] Aparna_: I got it
[2012-11-06 06:44:44 -0500] Aparna_: I am getting it as powershell-master zip file, I downloaded it from opscode
[2012-11-06 06:45:00 -0500] Aparna_: I need to rename it to only Powershell right?
[2012-11-06 06:45:19 -0500] ssd7_: yes, rename to powershell and move it into your cookbook_path
[2012-11-06 06:45:38 -0500] Aparna_: and after placing this in the cookbook path, do still  need to have depends "powershell' in metadata.rb?
[2012-11-06 06:45:43 -0500] Aparna_: just asking to be confirm
[2012-11-06 06:46:12 -0500] ssd7_: So, I think technically no, but it doesn't hurt anything and it is a nice way to be explicit about your dependencies
[2012-11-06 06:46:29 -0500] Aparna_: ok.. thanks a lot ssd7 for all the help
[2012-11-06 06:46:35 -0500] ssd7_: No problem
[2012-11-06 07:21:13 -0500] shamaz: when i try to run ' gem install yard-chef' I get this Error: Could not find a valid gem 'yard-chef' (>= 0) in any repository
[2012-11-06 07:21:35 -0500] shamaz: what do i wrong?
[2012-11-06 08:08:40 -0500] zts: shamaz: I've never heard of yard-chef - are you following some instructions which tell you to run that command?
[2012-11-06 08:12:13 -0500] shamaz: zts: yard-chef is actual a discussion in the chef mailinglist. In one mail was the link: https://github.com/leftathome/yard-chef
[2012-11-06 08:13:08 -0500] shamaz: basicly yard is a tool to generate ruby documentation like javadoc see: http://yardoc.org/index.html
[2012-11-06 08:13:55 -0500] zts: shamaz: aha, thankyou.  Well, that gem doesn't exist on rubygems.org, so I think that readme is incorrect
[2012-11-06 08:15:01 -0500] shamaz: zts: when I download it from github, can I install it from the local directory?
[2012-11-06 08:15:06 -0500] zts: shamaz: you could try cloning the repository and using "rake install"
[2012-11-06 08:21:30 -0500] shamaz: when I'm in the downloaded dir and make 'rake install ' I get: rake aborted!, no such file to load -- bundler
[2012-11-06 09:09:32 -0500] gkarekinian: shamaz: Install bundler with `gem install bundler`, see http://gembundler.com for more info
[2012-11-06 09:31:22 -0500] Mithrandir: hmm
[2012-11-06 09:31:23 -0500] Mithrandir: [2012-11-06T09:31:01+00:00] INFO: Processing package[
[2012-11-06 09:31:23 -0500] Mithrandir: ] action remove (base::default line 118)
[2012-11-06 09:31:25 -0500] Mithrandir: that looks odd
[2012-11-06 09:31:34 -0500] Mithrandir: I don't think I have a package called "\n"
[2012-11-06 09:34:06 -0500] gkarekinian: What's on line 118 of your base::defaut recipe?
[2012-11-06 09:35:10 -0500] shamaz: gkarekinian: ok, I've done it and get a new Error with an eqal content. So I try to install 'ripper' because I have installed ruby 1.8.7. Then the command 'gem install ripper' faild again with checking for bison... no; *** extconf.rb failed ***
[2012-11-06 09:36:34 -0500] Mithrandir: gkarekinian: a typo. :-P
[2012-11-06 09:36:39 -0500] gkarekinian: :D
[2012-11-06 09:37:11 -0500] shraddha: can anyone tell me about ::Chef::Recipe.send(:include, Opscode::OpenSSL::Password)...?
[2012-11-06 09:37:16 -0500] Mithrandir: I was doing: %{p1\np2\n}.each , which shouldn't have worked at all.
[2012-11-06 09:37:17 -0500] shamaz: So I installed 'bison' with 'yum install bison' and then I try again ripper. But there was a new Error. The help says to run 'bundle install' and after that the 'gem install ripper' goes right.
[2012-11-06 09:37:28 -0500] Mithrandir: I meant to do %w{p1\np2}
[2012-11-06 09:37:48 -0500] shamaz: and after all I can run 'rake install' in the yard-chef dir.
[2012-11-06 09:38:25 -0500] shraddha: ::Chef::Recipe.send(:include, Opscode::OpenSSL::Password) what it does actuallly?.. i have seachd abt it , bt dint found mch abt that
[2012-11-06 09:38:59 -0500] shraddha: ?
[2012-11-06 10:54:15 -0500] TheSerapher: ah there we go :)
[2012-11-06 10:54:16 -0500] TheSerapher: hey all
[2012-11-06 10:54:41 -0500] TheSerapher: So I am trying to add a library to my chef cookbook but apparently it doesn't work as described in http://wiki.opscode.com/display/chef/Libraries
[2012-11-06 10:55:18 -0500] TheSerapher: according to the Wiki I am to extend the chef::recipe with my own function and then I have direct access to it (since Chef::Recipe is the namespace run in)
[2012-11-06 10:55:41 -0500] TheSerapher: My library is rather simple:
[2012-11-06 10:55:42 -0500] TheSerapher: class Chef
[2012-11-06 10:55:42 -0500] TheSerapher:   class Recipe
[2012-11-06 10:55:42 -0500] TheSerapher:     def pick_random_line(file)
[2012-11-06 10:55:42 -0500] TheSerapher:       File.readlines(file).sample
[2012-11-06 10:55:43 -0500] TheSerapher:     end
[2012-11-06 10:55:43 -0500] TheSerapher:   end
[2012-11-06 10:55:43 -0500] TheSerapher: end
[2012-11-06 10:55:57 -0500] TheSerapher: my call in the recipe is pick_random_file("/tmp/test.txt")
[2012-11-06 10:56:01 -0500] TheSerapher: file indeed exists
[2012-11-06 10:56:11 -0500] TheSerapher: [Tue, 06 Nov 2012 11:52:35 +0100] FATAL: NameError: Cannot find a resource for pick_randon_line on debian version 6.0.5
[2012-11-06 10:56:16 -0500] TheSerapher: chef bails though :(
[2012-11-06 10:56:55 -0500] gkarekinian: Typo? s/randon/random/
[2012-11-06 10:57:12 -0500] slava_dp: or s/line/file ?
[2012-11-06 10:57:34 -0500] gkarekinian: Oh that too
[2012-11-06 11:01:54 -0500] TheSerapher: sec
[2012-11-06 11:02:02 -0500] TheSerapher: OMG
[2012-11-06 11:02:26 -0500] TheSerapher: awww man
[2012-11-06 11:02:52 -0500] TheSerapher: that file typo was typo fail when entering in IRC :P
[2012-11-06 11:02:59 -0500] TheSerapher: that randon though is fail on my part
[2012-11-06 11:03:01 -0500] TheSerapher: sorry guys :(
[2012-11-06 11:03:08 -0500] gkarekinian: No problem, shit happens
[2012-11-06 11:03:40 -0500] TheSerapher: now, second issue :D
[2012-11-06 11:04:20 -0500] TheSerapher: when I run my recipe, it creates a file using cookbook_file, that file is not available though when I call the library after cookbook_file is called, probably because pick_random_line is called at runtime?
[2012-11-06 11:06:43 -0500] cpasmoi: Hi ! I'd like to source the default files if the #{template_prefix}/file.erb doesn't exist on a recipe, with the same variables. Is it easily possible ?
[2012-11-06 11:08:26 -0500] cpasmoi: something like  template node[:iptables][:cfg_file] do if exists?("file.erb") source "file.erb" else source "#{template_prefix}/file.erb" owner ... group ... mode .... variables (....) end
[2012-11-06 11:08:29 -0500] masterkorp: cpasmoi: what are you trying to do ?
[2012-11-06 11:09:13 -0500] cpasmoi: masterkorp, for the moment we have as many conf file as stage/constellation
[2012-11-06 11:09:39 -0500] masterkorp: my approach would create a template with all the logic
[2012-11-06 11:09:45 -0500] cpasmoi: I want a generic conf file that can be used, and if a specific one exists well, using it instead of the default one
[2012-11-06 11:10:29 -0500] cpasmoi: the conf file is in template/default/$stage/$constellation/
[2012-11-06 11:10:40 -0500] slava_dp: related to the above: how to read current recipe name inside a template?
[2012-11-06 11:10:49 -0500] cpasmoi: $stage and $constellation are variables set in the role
[2012-11-06 11:11:29 -0500] cpasmoi: Hum perhaps I lack information on how to use templates...
[2012-11-06 11:13:31 -0500] flashingpumpkin: hey guys. is there a way to save the knife ssh -x user and -i identity file in the knife.rb configuration file?
[2012-11-06 11:24:32 -0500] TheSerapher: Got another question: Can I access files that I copy using cookbook_file without actually copying them to the system? Those files are not really needed in the system because I just need to access some data in them for the recipe run ... no need to copy and delete every run.
[2012-11-06 11:25:33 -0500] gchristensen: TheSerapher: you could stick them in a /tmp directory and not delete them (the kernel will periodically delete those files)
[2012-11-06 11:26:01 -0500] TheSerapher: That's what I am doing right now. But no way to access them directly from within the recipe?
[2012-11-06 11:26:11 -0500] gchristensen: I dunno
[2012-11-06 11:26:14 -0500] TheSerapher: would save on the copy call if I could access those files directly :)
[2012-11-06 11:26:26 -0500] TheSerapher: hmm okay gonna keep looking then
[2012-11-06 11:26:30 -0500] aruntomar: TheSerapher:  you should use databag
[2012-11-06 11:27:00 -0500] gchristensen: aruntomar: out of curiosity, why do you say that?
[2012-11-06 11:28:48 -0500] aruntomar: gchristensen: recipe can search and access data from the databag.
[2012-11-06 11:29:15 -0500] masterkorp: flashingpumpkin: i am interested on that too
[2012-11-06 11:29:41 -0500] shraddha: can anyone giud me for this...-    ::Chef::Recipe.send(:include, Opscode::OpenSSL::Password)
[2012-11-06 11:30:03 -0500] shraddha: how this works/
[2012-11-06 11:30:46 -0500] gchristensen: shraddha: have you tried reading the source?
[2012-11-06 11:31:00 -0500] cpasmoi: masterkorp, i'd like something like this : http://paste.debian.net/hidden/e75fb219/
[2012-11-06 11:31:11 -0500] shraddha: ya searchd abt it on net
[2012-11-06 11:31:12 -0500] cpasmoi: still, "exists?" method does not... exist
[2012-11-06 11:31:17 -0500] TheSerapher: aruntomar: Yeah I was hoping to get around that, its simple flat files with 13000 lines each :D
[2012-11-06 11:31:28 -0500] cpasmoi: (it's a ruby method for File class)
[2012-11-06 11:31:28 -0500] shraddha: and found that its used to set secure password
[2012-11-06 11:31:35 -0500] gchristensen: TheSerapher: what kind of data is in this template / why do you have to write it out?
[2012-11-06 11:31:51 -0500] aruntomar: flashingpumpkin: masterkorp: it may not be possible to do that using knife.rb but you could use a config file for ssh. location ~/.ssh/config
[2012-11-06 11:32:24 -0500] aruntomar: TheSerapher: you could parse the files and convert them into json
[2012-11-06 11:32:45 -0500] TheSerapher: yep that was my last option
[2012-11-06 11:32:50 -0500] TheSerapher: but I think I found a way, gotta try it ou
[2012-11-06 11:32:54 -0500] flashingpumpkin: aruntomar, difficult when handling dozens of servers which constantly come and go depending on demand
[2012-11-06 11:33:29 -0500] aruntomar: TheSerapher: another thought, put those files at some web accessible location and access them/parse them at runtime
[2012-11-06 11:33:35 -0500] cpasmoi: In fact I'd like to use a generic conf file in the template, rather than as many generic file as stage (prep / prod) and constellation (set per role)
[2012-11-06 11:33:50 -0500] gchristensen: flashingpumpkin: I generally take a command with that many arguments and create a small script that does it for me, I end up with several scripts like bootstrap-database.sh, bootstrap-foobar.sh etc.
[2012-11-06 11:33:53 -0500] TheSerapher: Chef::Config[:cookbook_path]
[2012-11-06 11:34:03 -0500] masterkorp: aruntomar: yeah, for every machine ?
[2012-11-06 11:34:08 -0500] TheSerapher: maybe with that I can get to the "files" location and parse them directly
[2012-11-06 11:34:12 -0500] masterkorp: i do use ssh/config
[2012-11-06 11:35:33 -0500] flashingpumpkin: gchristensen, I do have a cli wrapper around things like bootstrapping, deploying etc - but sometimes I just want to tail the logs across some servers and I'm getting tired of -x and -i - might wrap that in my own wrapper too then
[2012-11-06 11:35:45 -0500] gchristensen: TheSerapher: where is this data coming from?
[2012-11-06 11:35:59 -0500] TheSerapher: cookbook/<name>/files/default/<filename>
[2012-11-06 11:37:05 -0500] gchristensen: flashingpumpkin: you could create a script that runs `knife -x foo -i bar.pem $@` - this will add the arguments, but pass along whatever you're passing
[2012-11-06 11:37:14 -0500] flashingpumpkin: gchristensen, yep
[2012-11-06 11:37:23 -0500] flashingpumpkin: gchristensen, gonna do that
[2012-11-06 11:37:40 -0500] TheSerapher: or set an alias
[2012-11-06 11:38:24 -0500] flashingpumpkin: TheSerapher, probably script - I can check that into the repo as I'm not always on the same workstation
[2012-11-06 11:38:39 -0500] aruntomar: masterkorp: well, this is what i've done. i created a base role, which basically creates a user and copies my public key to that node. my private key is added using the ssh-add to the ssh-agent. I've then implemented that role to all the servers attached to my chef server. i fire this role while creating a new ec2 server etc also.
[2012-11-06 11:39:25 -0500] TheSerapher: This works: path = Chef::Config[:cookbook_path].to_s + "/" + Chef::Config[:cookbook_name].to_s + "/files/default"
[2012-11-06 11:39:27 -0500] masterkorp: aruntomar: yeah, but i am meaning on the workstation
[2012-11-06 11:39:35 -0500] TheSerapher: awesome
[2012-11-06 11:39:39 -0500] TheSerapher: thanks for the ideas guys :)
[2012-11-06 11:44:08 -0500] aruntomar: masterkorp: another thought is that we might have to extend knife, so that when we create or bootstrap the server, it add's those server entries automatically to your ssh/config file
[2012-11-06 11:45:24 -0500] masterkorp: a knife plugin would be nice
[2012-11-06 11:47:47 -0500] TheSerapher: hum
[2012-11-06 11:48:51 -0500] gchristensen: masterkorp: I use this (gen-ssh.sh and ssh_config.awk) to create a ssh/config entry for each of my servers, and then generate.sh runs it, puts it into ~/.ssh/cfg/ and then aggregates all those ssh/cfg files into m y primary ssh_config
[2012-11-06 11:48:59 -0500] jensofsweden: Btw, are there any swedish chef users here?
[2012-11-06 11:49:16 -0500] gchristensen: running as a cronjob - that's why it sends the notification
[2012-11-06 11:49:25 -0500] masterkorp: gchristensen: but using knife from your workstation
[2012-11-06 11:49:52 -0500] gchristensen: yes?
[2012-11-06 11:50:31 -0500] masterkorp: its just to complex for such a simple solution o using -x
[2012-11-06 11:51:07 -0500] gchristensen: I don't have this to not have to do -x
[2012-11-06 11:51:39 -0500] gchristensen: I do this so I can run `ssh awnca-db07-s4` and be in that particular box. the side effect is you won't have to pass -x
[2012-11-06 12:02:40 -0500] slava_dp: I am deleting and recreating a directory, and it does not get created. can someone please look? https://gist.github.com/4024264
[2012-11-06 12:03:12 -0500] TheSerapher: okay Chef::Config["cookbook_name"] does not exist - going to look for another way to find the current cookbook name
[2012-11-06 12:05:09 -0500] masterkorp: Not using any version control on my personal chef-repo is handy
[2012-11-06 12:05:14 -0500] masterkorp: for testing
[2012-11-06 12:05:41 -0500] moleculezz: Hello
[2012-11-06 12:05:50 -0500] gchristensen: slava_dp: can you provide the output from a chef run?
[2012-11-06 12:06:01 -0500] gchristensen: slava_dp: maybe even with debug enabled, -l debug
[2012-11-06 12:06:30 -0500] gchristensen: masterkorp: what do you gain by not having version control
[2012-11-06 12:07:01 -0500] moleculezz: I've been trying out chef for the first time.. and I had a question about json attributes. I thought I had to add cookbook specific attributes in the "override_attributes"
[2012-11-06 12:07:10 -0500] masterkorp: gchristensen: personally, i can mess with other repos in it and move stuff around
[2012-11-06 12:07:26 -0500] moleculezz: Turns out it had to be in the root json. Is this how it should work?
[2012-11-06 12:07:38 -0500] masterkorp: makes testing uncommited stuff quick
[2012-11-06 12:08:42 -0500] moleculezz: What's the point of the override_attributes then?
[2012-11-06 12:09:05 -0500] gchristensen: masterkorp: you can't do that with version control?
[2012-11-06 12:11:44 -0500] slava_dp: gchristensen: chef run: https://gist.github.com/4024301
[2012-11-06 12:13:28 -0500] gchristensen: slava_dp: what is your intent of deleting this directory each time?
[2012-11-06 12:13:43 -0500] slava_dp: gchristensen: if I remove the block that deletes the dir, then all works
[2012-11-06 12:14:00 -0500] gchristensen: slava_dp: can you run that again, but with -l debug at the end?
[2012-11-06 12:14:02 -0500] slava_dp: gchristensen: to clean up the stuff inside
[2012-11-06 12:14:31 -0500] gchristensen: what is inside it?
[2012-11-06 12:14:41 -0500] gchristensen: I know what APC is
[2012-11-06 12:16:08 -0500] slava_dp: inside is a single file apc.php. but if I decide to upgrade the version later, I want the dir to be cleaned up, so that's what I'm doing
[2012-11-06 12:16:46 -0500] gchristensen: okay
[2012-11-06 12:16:53 -0500] gchristensen: can you re-run chef-client with -l debug?
[2012-11-06 12:17:43 -0500] slava_dp: gchristensen: https://gist.github.com/4024316
[2012-11-06 12:19:26 -0500] slava_dp: I guess I should append "only_if true" ? :)
[2012-11-06 12:19:36 -0500] gchristensen: you don't need only_if there at all
[2012-11-06 12:20:59 -0500] slava_dp: gchristensen: oh, totally true. I thought chef would barf if the dir hadn't existed.
[2012-11-06 12:24:12 -0500] gchristensen: so idealy this is all setup to be indempotent - if you run this recipe twice, both times it will delete and create the directory
[2012-11-06 12:24:22 -0500] gchristensen: which probably isn't what you want
[2012-11-06 13:09:54 -0500] slava_dp: gchristensen: it really was what I wanted though. to delete and recreate the dir. so all is fine now :)
[2012-11-06 13:10:33 -0500] slava_dp: gchristensen: do you by any chance know how to find out recipe file name inside the recipe? is it stored in some variable?
[2012-11-06 13:18:59 -0500] PDani: hi
[2012-11-06 13:19:23 -0500] PDani: in a recipe: node.set[:zabbix_chef][:hostdata][:interfaces] = [], after this, how can i append a new element to this array?
[2012-11-06 13:19:48 -0500] PDani: .push and << doesn't work for some reason
[2012-11-06 13:29:10 -0500] masterkorp: i feel like doing some burnouts
[2012-11-06 13:31:02 -0500] TheSerapher: woohoo!
[2012-11-06 13:31:12 -0500] TheSerapher: my qmailtoaster package runs through!
[2012-11-06 13:31:35 -0500] TheSerapher: wups cookbook
[2012-11-06 13:33:05 -0500] rocket: Does anyone have a document on the workflow for updating a site cookbook in the hopes to push it upstream?
[2012-11-06 13:33:06 -0500] TheSerapher: and I think I found a strange race condition ...
[2012-11-06 13:33:09 -0500] TheSerapher: [2012-11-06T14:32:24+01:00] FATAL: Chef::Exceptions::GroupIDNotFound: directory[/etc/mysql/conf.d] (mysql::server line 85) had an error: Chef::Exceptions::GroupIDNotFound: cannot determine group id for 'mysql', does the group exist on this system?
[2012-11-06 13:33:09 -0500] TheSerapher: Chef never successfully completed! Any errors should be visible in the
[2012-11-06 13:33:09 -0500] TheSerapher: output above. Please fix your recipes so that they properly complete.
[2012-11-06 13:33:10 -0500] TheSerapher: sebgrewe@t-510:~/Workspace/chef-repo/vagrant/qmailtoaster$ vagrant ssh
[2012-11-06 13:33:10 -0500] TheSerapher: grep Last login: Tue Sep 25 10:21:22 2012 from 10.0.2.2
[2012-11-06 13:33:10 -0500] TheSerapher: grep [vagrant@vagrant-01 ~]$ grep mysql /etc/passwd ; grep mysql /etc/group
[2012-11-06 13:33:11 -0500] TheSerapher: mysql:x:27:27:MySQL Server:/var/lib/mysql:/bin/bash
[2012-11-06 13:33:11 -0500] TheSerapher: mysql:x:27:
[2012-11-06 13:33:11 -0500] TheSerapher: [vagrant@vagrant-01 ~]$
[2012-11-06 13:33:26 -0500] TheSerapher: apparently the cookbook can't find the groupID but it does exist when I checked
[2012-11-06 13:33:50 -0500] TheSerapher: running vagrant provision after it failed and it runs fine
[2012-11-06 13:33:53 -0500] TheSerapher: had the same with NTP
[2012-11-06 13:34:01 -0500] TheSerapher: now that I removed NTP it happens in mysql instead, lol
[2012-11-06 13:34:12 -0500] slava_dp: does chef-solo cache service reload requests? the cookbook run reloaded nginx for me 1st time, but starting from 2nd it does not.
[2012-11-06 13:43:08 -0500] masterkorp: rocket: hmm, i fork the repo
[2012-11-06 13:48:01 -0500] rocket: masterkorp: you do not use the knife cookbook site commands at that point?
[2012-11-06 13:49:03 -0500] masterkorp: rocket: i use https://github.com/websterclay/knife-github-cookbooks
[2012-11-06 13:49:19 -0500] masterkorp: wich imports the commits to my repo
[2012-11-06 13:50:00 -0500] masterkorp: but if i want to push to upstream, i fork, i cherry pick my commits to that fork, and add a pull request
[2012-11-06 13:51:11 -0500] rocket: does knife github support pushing back to your forked repo?  or are you just using plain git to do that?
[2012-11-06 13:51:43 -0500] masterkorp: no, i commit on my forked repo
[2012-11-06 13:52:08 -0500] masterkorp: yeah its conterproductive, but its the less painful way i found
[2012-11-06 13:52:15 -0500] rocket: ok .. sounds good .. thanks
[2012-11-06 13:52:16 -0500] masterkorp: i am all ears too
[2012-11-06 13:52:34 -0500] masterkorp: if you find anything that suits, please share
[2012-11-06 13:52:55 -0500] rocket: I guess I still need to exactly figure out what knife tools are doing since things do not appear to be submodules etc ..
[2012-11-06 13:53:17 -0500] rocket: thats my current mental block I think .. :/
[2012-11-06 13:53:27 -0500] masterkorp: i used submodules before
[2012-11-06 13:53:40 -0500] masterkorp: but its hard to keep them syncer between a team
[2012-11-06 14:00:25 -0500] rocket: masterkorp: so you just have a whole cookbook repo that your managing ... is that correct?
[2012-11-06 14:00:49 -0500] masterkorp: yes
[2012-11-06 14:01:36 -0500] masterkorp: and them merge it into the global chef-repo with https://github.com/websterclay/knife-github-cookbooks
[2012-11-06 14:02:22 -0500] lynxman_: Hi guys o/ I have a cookbook (runs nrpe) with some definitions added to gather checks from other cookbooks and write individual files, since I upgraded to 10.16.2 these file templates always evaluate to true and restart nrpe every single time, does somebody know if this is a new bug introduced by 10.16.2?
[2012-11-06 14:32:10 -0500] markfoodyburton1: Hi, is there a good way of "asking the user" for info. I'm using chef within a vagrant environment, when the machine is being provisioned, I want to display some info to the user and aks some questions (like if they agree to license terms etc) - is there a 'good' way of doing that?
[2012-11-06 14:39:37 -0500] atomic-penguin: markfoodyburton1, license terms of what?
[2012-11-06 14:41:43 -0500] markfoodyburton1: atomic-penguin: for instance, if I set up a cookbook to install something that has a license associated - or it could be a configuration option on an install package - whatever...
[2012-11-06 14:44:22 -0500] maruq: markfoodyburton1: I missed the start of the conversation, but I know the Java cookbook used to use a seed file to agree to terms
[2012-11-06 14:48:00 -0500] markfoodyburton1: maruq: thanks !
[2012-11-06 14:48:14 -0500] markfoodyburton1: Actually, looking into the java cookbook, I can't see anything obvious....
[2012-11-06 14:48:23 -0500] markfoodyburton1: Any hint appreciated, but I'll keep digging.
[2012-11-06 14:48:29 -0500] markfoodyburton1: One other thing - that it reminded me -
[2012-11-06 14:49:01 -0500] markfoodyburton1: I have a HUGE looooooong compile step in one of my cookbooks. like - it takes about an hour to compile this bit of software (no, it's not gcc, but :-)) )
[2012-11-06 14:49:35 -0500] markfoodyburton1: Right now, chef seems to 'swallow' all of the output from that compile step - is there any way of easily making that go to the user?
[2012-11-06 14:49:53 -0500] slava_dp: can I find out the machine hostname from chef? (to use it in templates)
[2012-11-06 14:50:35 -0500] atomic-penguin: markfoodyburton1, well you could do something like read STDIN with Ruby.  I wouldn't recommend that as a way to write Chef recipes.
[2012-11-06 14:51:01 -0500] markfoodyburton1: atomic-penguin: yeah - I was looking for a 'good' way :-)))
[2012-11-06 14:51:08 -0500] atomic-penguin: markfoodyburton1, the way BryanWB approached Java and its TOU, was to set it as an attribute
[2012-11-06 14:51:45 -0500] atomic-penguin: markfoodyburton1, default the value to false, and let it fail unless the end-user overrides it to true
[2012-11-06 14:52:20 -0500] markfoodyburton1: Ahh - cool
[2012-11-06 14:52:31 -0500] markfoodyburton1: is that shown to the end-user in a 'nice' way?
[2012-11-06 14:52:47 -0500] maruq: markfoodyburton1: check v.0.9.2 of java_sun, it passes in a response_file to the package block
[2012-11-06 14:52:48 -0500] atomic-penguin: markfoodyburton1, you'd have to note it in the README
[2012-11-06 14:52:50 -0500] markfoodyburton1: or does the end user have to edit the cookbook file, and edit that attribute?
[2012-11-06 14:53:22 -0500] masterkorp: chef-client is not designed to be interactive nor should be
[2012-11-06 14:53:39 -0500] atomic-penguin: https://github.com/opscode-cookbooks/java#override-the-accept_oracle_download_terms
[2012-11-06 14:54:52 -0500] atomic-penguin: markfoodyburton1, you wouldn't want the end-user to have to modify the recipe code.  The end-user can override an attribute quite easily in a role, however.
[2012-11-06 14:55:34 -0500] markfoodyburton1: ok - haven't learnt about 'roles' yet :-)
[2012-11-06 14:55:43 -0500] atomic-penguin: roles?
[2012-11-06 14:55:50 -0500] markfoodyburton1: But you've given me some nice pointers - thanks
[2012-11-06 14:55:58 -0500] atomic-penguin: Is bawt dead?
[2012-11-06 14:56:19 -0500] markfoodyburton1: atomic-penguin: "The end-user can override an attribute quite easily in a role"
[2012-11-06 14:56:31 -0500] markfoodyburton1: role - roles - who's counting?
[2012-11-06 14:57:00 -0500] atomic-penguin: I was expecting bawt to return, http://wiki.opscode.com/display/chef/Roles.  Apparently he is dead though
[2012-11-06 14:57:54 -0500] markfoodyburton1: role?
[2012-11-06 14:57:56 -0500] markfoodyburton1: naa
[2012-11-06 14:58:01 -0500] markfoodyburton1: he's dead :-)
[2012-11-06 14:58:05 -0500] markfoodyburton1: ok - thanks !
[2012-11-06 14:59:33 -0500] slava_dp: does ohai get run with chef-solo?
[2012-11-06 15:01:24 -0500] StormSilver: What IRC client do the cool kids use on Windows?
[2012-11-06 15:03:39 -0500] masterkorp: StormSilver: kitty ssh'ing to linux server, runing tmux with weechat
[2012-11-06 15:04:06 -0500] StormSilver: masterkorp: Well.
[2012-11-06 15:04:11 -0500] StormSilver: masterkorp: I mean. Sure.
[2012-11-06 15:04:32 -0500] StormSilver: How about the slightly-less-cool-than-that kids?
[2012-11-06 15:04:34 -0500] BryanWB: slava_dp, yes
[2012-11-06 15:05:22 -0500] BryanWB: roles are baddd
[2012-11-06 15:05:34 -0500] meineerde:  StormSilver: those people get a Mac :)
[2012-11-06 15:05:34 -0500] atomic-penguin: BryanWB, is confuseddd
[2012-11-06 15:05:42 -0500] StormSilver: meineerde: Haha
[2012-11-06 15:05:48 -0500] BryanWB: atomic-penguin, i have never been clearerrrrr :)
[2012-11-06 15:06:15 -0500] BryanWB: gkarekinian,
[2012-11-06 15:06:20 -0500] BryanWB: gkarekinian, \o
[2012-11-06 15:06:38 -0500] atomic-penguin: BryanWB, even if you're using recipes as roles, you're still using roles.  It is, in fact, still role-based configuration management.
[2012-11-06 15:06:52 -0500] BryanWB: atomic-penguin, except that cookbook have versions
[2012-11-06 15:07:02 -0500] atomic-penguin: BryanWB, woosh, missing the point
[2012-11-06 15:07:22 -0500] gchristensen: StormSilver: sshing into a linux server and running screen with weechat :)
[2012-11-06 15:07:25 -0500] BryanWB: atomic-penguin, they are similar but roles have deficiencies that make them baddd
[2012-11-06 15:08:04 -0500] meineerde: BryanWB: examples?
[2012-11-06 15:08:25 -0500] BryanWB: they work for a "basic" set of attributes but fall apart completely when u use them w/ a larger team
[2012-11-06 15:08:38 -0500] BryanWB: wish i cud explain more but gtg sorry
[2012-11-06 15:08:48 -0500] meineerde: :(
[2012-11-06 15:09:12 -0500] meineerde: I personally found them rather useful. But I tend to use many roles and nest them.
[2012-11-06 15:09:37 -0500] meineerde: (but I have not yet worked with a large team on a single chef repo)
[2012-11-06 15:09:40 -0500] atomic-penguin: meineerde, that is how most people probably use them.
[2012-11-06 15:10:59 -0500] atomic-penguin: meineerde, not that there is anything wrong with that.  BryanWB has been recently brainwashed, though
[2012-11-06 15:11:38 -0500] StormSilver: My brain gets dirty easily and often needs washing.
[2012-11-06 15:12:31 -0500] maruq: atomic-penguin BryanWB: roles are also uploaded as JSON, so there's no conditional stuff in them
[2012-11-06 15:13:01 -0500] maruq: e.g. if(node['environment'] == "production")....
[2012-11-06 15:13:10 -0500] meineerde: atomic-penguin: hmmm okay, then the only remaining question is: what kind of knowledge was washed from his brain?
[2012-11-06 15:13:24 -0500] atomic-penguin: meineerde, that was a joke
[2012-11-06 15:13:44 -0500] meineerde: atomic-penguin: I know, I tried to be funny and obviously failed :/
[2012-11-06 15:14:35 -0500] meineerde: maruq: wouldn't you use environments directly for that? or at least environment-specific roles?
[2012-11-06 15:15:32 -0500] ssd7: Ohai Chefs!
[2012-11-06 15:16:25 -0500] maruq: meineerde: I guess you could. but what if you wanted to do a search for something. eg. give me the hostnames of servers running cookbook x
[2012-11-06 15:16:46 -0500] atomic-penguin: The discussion of roles came up in the first Office Hours meeting last week, http://www.youtube.com/watch?v=3Y-lpMyG3jA
[2012-11-06 15:17:15 -0500] maruq: meineerde: I'm currently using roles myself and starting to see the limitations
[2012-11-06 15:17:52 -0500] specialsauce: i have a bunch of old attributes previously set on node and now pulling through as #<Chef::Node::Attribute:0x2b7ca1ccd208>
[2012-11-06 15:17:52 -0500] meineerde: atomic-penguin: know a rough timespan?
[2012-11-06 15:18:01 -0500] specialsauce: any way to clear the cache/couchdb store of these?
[2012-11-06 15:18:16 -0500] specialsauce: "knife index rebuild" leaves them in place
[2012-11-06 15:27:56 -0500] specialsauce: any way just to clear down all attributes cache?
[2012-11-06 15:28:07 -0500] atomic-penguin: meineerde, http://www.youtube.com/watch?v=3Y-lpMyG3jA#t=5m56s 5:56
[2012-11-06 15:28:37 -0500] meineerde: atomic-penguin: okay, thanks I'm at 9:22 currently :)
[2012-11-06 15:35:03 -0500] slava_dp: don't chef recipes have namespaces? I've assigned same-name variables in two cookbooks in the runlist, and the first cookbook fails, because the variables use the values from the second cookbook. *sad*
[2012-11-06 15:38:13 -0500] slava_dp: chef should parse code block by block, am I correct?
[2012-11-06 15:38:31 -0500] slava_dp: then why do I get variable assignments from the second recipe, when I run the first?
[2012-11-06 15:39:07 -0500] slava_dp: recipes are tools::apc, tools::mem
[2012-11-06 15:39:19 -0500] JasonF: slava_dp: they have namespaces in the sense that two cookbooks should be in different places in the node hash. for example node['cookbookA']['setting1'] instead of node['setting1']. The node object is shared across all the recipes (which is a good thing; because there are times when you *want* the cookbooks to interact that way.
[2012-11-06 15:41:01 -0500] slava_dp: JasonF: ok, for attributes, I use the same scheme. but at the start of a recipe, I assign a variable, like this: dir = node[:dir]
[2012-11-06 15:41:12 -0500] slava_dp: JasonF: same in the first and second recipe
[2012-11-06 15:41:31 -0500] slava_dp: and the first recipe uses the incorrect value (from the second one) why?
[2012-11-06 15:42:12 -0500] JasonF: node[:dir] is going to be the exact same thing across all your chef recipes during the same chef run (unless you change it by doing node[:dir] = blah somewhere in a recipe)
[2012-11-06 15:42:32 -0500] slava_dp: wait, no. bad example. let's have this as the example: url = node[:apc][:url];   url = node[:phpmemcacheadmin][:url]
[2012-11-06 15:42:55 -0500] slava_dp: and the first recipe gets value from node[:phpmemcacheadmin][:url]
[2012-11-06 15:43:21 -0500] slava_dp: recipes are tools::apc, tools::mem
[2012-11-06 15:43:32 -0500] spox: i would inspect the node attribute contents to see what it shows. also, check for any overrides you may be doing via the environment or roles
[2012-11-06 15:43:38 -0500] spox: it sounds like you have something misassigned
[2012-11-06 15:44:24 -0500] slava_dp: hmm. can I post the whole recipe, please?
[2012-11-06 15:44:41 -0500] spox: sure, but my point will likely still stand
[2012-11-06 15:44:44 -0500] spox: use a pastebin though
[2012-11-06 15:44:48 -0500] spox: gist/or what ever
[2012-11-06 15:46:04 -0500] slava_dp: both recipes: https://gist.github.com/4025533
[2012-11-06 15:46:35 -0500] spox: oh
[2012-11-06 15:46:43 -0500] spox: is it the ENV stuff you are talking about?
[2012-11-06 15:46:55 -0500] spox: because that's not how you want to define it
[2012-11-06 15:47:22 -0500] slava_dp: yes, I get problems inside the bash script
[2012-11-06 15:47:27 -0500] specialsauce: any way to clear all a node's attributes please?
[2012-11-06 15:47:29 -0500] spox: the execute resource provides an environment attribute that you feed a hash of key/value pairs you want set in the env when the script executes
[2012-11-06 15:48:02 -0500] spox: slava_dp: http://wiki.opscode.com/display/chef/Resources#Resources-Execute
[2012-11-06 15:48:09 -0500] spox: see the `environment` attribute
[2012-11-06 15:48:23 -0500] spox: the first example show it in use
[2012-11-06 15:49:23 -0500] slava_dp: spox: ok, how do I provide an inline script then? or do I have to have it in a file?
[2012-11-06 15:49:57 -0500] slava_dp: also, why does ENV not work?
[2012-11-06 15:51:48 -0500] spox: slava_dp: because chef compiles all resources, then executes them. you are setting the ENV variables during the compile phase, so the last value set is what both script resources will see during the execution phase
[2012-11-06 15:52:09 -0500] spox: the script resource has all the attributes execute does, so it includes the environment attribute
[2012-11-06 15:52:20 -0500] spox: "Includes all actions/attributes available to Execute resources."
[2012-11-06 15:52:47 -0500] slava_dp: spox: awesome, will try the environment attribute. thanks!
[2012-11-06 15:52:52 -0500] spox: slava_dp: sure :)
[2012-11-06 16:05:35 -0500] flowersj: hello
[2012-11-06 16:05:49 -0500] flowersj: I am new to Chef on OSx
[2012-11-06 16:06:08 -0500] flowersj: where do I find the knife.rb file to configure
[2012-11-06 16:06:32 -0500] flowersj: on Windows it was expecting it in C:\etc\chef\knife.rb
[2012-11-06 16:06:51 -0500] flowersj: so I was expecting the same on OSx
[2012-11-06 16:06:52 -0500] masterkorp: follow the wiki
[2012-11-06 16:07:18 -0500] flowersj: I was trying to, just not sure I understand it
[2012-11-06 16:07:38 -0500] flowersj: seems like it is looking for it here: ~/chef-repo/.chef/knife.rb
[2012-11-06 16:08:01 -0500] flowersj: did I infer that location correctly?
[2012-11-06 16:08:57 -0500] masterkorp: it looks at your home dir
[2012-11-06 16:09:07 -0500] masterkorp: ~/.chef/knife.rn
[2012-11-06 16:09:50 -0500] flowersj: ahh
[2012-11-06 16:10:00 -0500] flowersj: thanks I thought I was wrong
[2012-11-06 16:19:44 -0500] LostBear: Hi all! Just started learning to use Chef. I have setup a vm lab environment, successfully bootstrapped a node and got it registered on chef-server. Now I'm looking to start applying roles to the node.
[2012-11-06 16:22:06 -0500] LostBear: So i'm looking at Nginx, especially to compile from source. And I've ran into this little problem. While running nginx::source, chef tells me that "Parent dir /etc/nginx" doesn't exist. I've opted to use the default-attribute for that ['dir']. And I'm wondering why chef isn't creating that directory or am I missing sth?
[2012-11-06 16:22:15 -0500] LostBear: sorry if this is quite confusing.
[2012-11-06 16:22:52 -0500] maruq: LostBear: there's kind of 2 schools of thought there orthodox - use roles, as per the docs. unorthodox - use cookbooks that call other cookbooks as then it's versionable & you get more dynamic stuff
[2012-11-06 16:23:44 -0500] kyleb: Is there a good way for an LWRP to provide a default template but then possibly override in the cookbook using the LWRP?
[2012-11-06 16:23:45 -0500] awgross: LostBear: re Nginx, check out the cookbook and see if it should be creating it
[2012-11-06 16:23:52 -0500] LostBear: maruq: Yeah. I'm interested to use roles. As I see my needs will be addressed well with Roles.
[2012-11-06 16:23:57 -0500] awgross: LostBear: should just be a block similar to
[2012-11-06 16:23:58 -0500] LostBear: Okie. Will do.
[2012-11-06 16:24:07 -0500] awgross: directory node['nginx']['dir'] do
[2012-11-06 16:24:12 -0500] awgross: owner "root"
[2012-11-06 16:24:18 -0500] awgross: group "root"
[2012-11-06 16:24:22 -0500] awgross: end
[2012-11-06 16:24:49 -0500] LostBear: it's coming from a template called from nginx::source so I suppose I'll have to track that down first.
[2012-11-06 16:25:03 -0500] meineerde: kyleb: add a cookbook and template argument to the resource and set defaults.
[2012-11-06 16:25:03 -0500] LostBear: Never used ruby dsl before.
[2012-11-06 16:25:10 -0500] LostBear: thanks will get back soon.
[2012-11-06 16:25:34 -0500] awgross: LostBear: ok, that is specifying a recipe, should be in nginx/recipes/source.rb
[2012-11-06 16:25:36 -0500] kyleb: meineerde: Thanks, that was my thought but this is my first LWRP
[2012-11-06 16:29:04 -0500] LostBear: awgross: seems like I'll need to add that block in authorize_ip.rb
[2012-11-06 16:29:15 -0500] LostBear: this is the output after i ran chef-client: http://pastebin.com/t58gJ2MN
[2012-11-06 16:29:56 -0500] awgross: LostBear: my guess is that it believes it should have been created before
[2012-11-06 16:30:12 -0500] awgross: putting it inside authorized_ip.rb, while solving the problem, is a messy solution
[2012-11-06 16:30:20 -0500] LostBear: yeah. it seems pretty fundamental and quite impossible to be left out.
[2012-11-06 16:30:23 -0500] awgross: is this the latest nginx cookbook from the opcode sources?
[2012-11-06 16:30:35 -0500] LostBear: yup. Downloaded like an hour ago.
[2012-11-06 16:30:39 -0500] awgross: ok
[2012-11-06 16:30:43 -0500] awgross: let me check it out
[2012-11-06 16:30:50 -0500] LostBear: Thanks mate.
[2012-11-06 16:30:59 -0500] awgross: https://github.com/opscode-cookbooks/nginx
[2012-11-06 16:31:05 -0500] awgross: is this where you got it from?
[2012-11-06 16:31:28 -0500] awgross: or from something more like http://community.opscode.com/cookbooks/nginx
[2012-11-06 16:32:07 -0500] jtimberman: there's a number of tickets and pull requests for the nginx cookbook that need to be handled, and we'll get a new release out, seems like it would be good to have this week :-)
[2012-11-06 16:32:29 -0500] LostBear: i used knife cookbook install
[2012-11-06 16:32:45 -0500] LostBear: so i suppose it was from community.opscode.com?
[2012-11-06 16:32:49 -0500] awgross: LostBear: ok, thats the one it should have
[2012-11-06 16:33:15 -0500] awgross: and how are you including the nginx cookbook, just adding nginx::source to the run list?
[2012-11-06 16:33:26 -0500] LostBear: this is the role json: http://pastebin.com/FY8a9Gas
[2012-11-06 16:33:39 -0500] LostBear: maybe my attribute config is wrong
[2012-11-06 16:34:07 -0500] jtimberman: http://tickets.opscode.com/secure/IssueNavigator.jspa?requestId=11471
[2012-11-06 16:34:14 -0500] awgross: ideally the defaults will at least work, and you can juyst modify the ones you need
[2012-11-06 16:34:22 -0500] jtimberman: LostBear: knife cookbook site install will get you the cookbook from the community site.
[2012-11-06 16:34:26 -0500] awgross: hehe may be in there too
[2012-11-06 16:34:45 -0500] jtimberman: wow, 27 pull requests opened :/
[2012-11-06 16:34:45 -0500] LostBear: hah. quite a few tickets. =D
[2012-11-06 16:34:48 -0500] jtimberman: yeah
[2012-11-06 16:34:53 -0500] jtimberman: there's definitely some overlap
[2012-11-06 16:35:09 -0500] jtimberman: between pull requests, tickets, and duplication.
[2012-11-06 16:35:31 -0500] awgross: odd
[2012-11-06 16:35:48 -0500] awgross: there is definiately a call to nginx::commons_dir, which has the appropriate directory block
[2012-11-06 16:36:11 -0500] c_t: ohai chefs
[2012-11-06 16:36:19 -0500] awgross: LostBear: this is on some variant of *Nix I am assuming? Not Windows?
[2012-11-06 16:36:25 -0500] LostBear: awgross: yup. was just reading that commn_dir
[2012-11-06 16:36:38 -0500] LostBear: ubuntu precise 12.04
[2012-11-06 16:36:44 -0500] LostBear: should I spin up sth else and try?
[2012-11-06 16:38:15 -0500] awgross: LostBear: can you look at nginx/README.md and see what version is has declared?
[2012-11-06 16:38:36 -0500] awgross: LostBear: looking at your stack trace it is referencing line #s that dont line up with the Github source I am looking at now
[2012-11-06 16:38:49 -0500] awgross: LostBear: so maybe there is a bug fix already in place
[2012-11-06 16:39:05 -0500] kyleb: LostBear: awgross: commons isn't split up they in the community release, this will match the released code https://github.com/opscode-cookbooks/nginx/tree/b990e5775e7425ddecbb53a9c3438d5141feb93b/recipes
[2012-11-06 16:39:17 -0500] kyleb: seems to be related to http://tickets.opscode.com/browse/COOK-1515
[2012-11-06 16:39:39 -0500] awgross: thanks kyleb
[2012-11-06 16:40:58 -0500] LostBear: awgross: version as in?
[2012-11-06 16:41:13 -0500] awgross: LostBear: cookbooks can have declared versions so you can lock on to those
[2012-11-06 16:41:27 -0500] awgross: LostBear: either way, kyleb was correct that the version you DL'd is not the same as the one I was looking at
[2012-11-06 16:41:39 -0500] awgross: LostBear: you can probably fix your issue by adding nginx::commons
[2012-11-06 16:41:47 -0500] awgross: LostBear: put it in the run list before nginx::source
[2012-11-06 16:41:51 -0500] LostBear: ah. alright.
[2012-11-06 16:48:29 -0500] LostBear: Getting a recipe compile error at commons.rb. Upon checking, my files aren't the same as those on github. zzz
[2012-11-06 16:48:38 -0500] LostBear: gotta try and update those i suppose
[2012-11-06 16:49:06 -0500] TheSerapher: aw man
[2012-11-06 16:49:24 -0500] TheSerapher: wups misstell
[2012-11-06 16:49:31 -0500] LostBear: I added nginx::commons like this in role :   "run_list": [     "recipe[nginx::commons]",     "recipe[nginx::source]"   ],
[2012-11-06 16:49:41 -0500] LostBear: that should do it. yeah?
[2012-11-06 16:49:58 -0500] awgross: LostBear: it should
[2012-11-06 16:50:06 -0500] awgross: LostBear: whats the error?
[2012-11-06 16:51:12 -0500] LostBear: awgross: this is the last one. http://pastebin.com/KeN77FPk
[2012-11-06 16:51:32 -0500] LostBear: since my files doesn't seem to be the lastest (somehow) i gotta update the cookbooks i guess
[2012-11-06 16:51:40 -0500] awgross: gah ok, looks like it is a bit more tangled than i thought
[2012-11-06 16:52:14 -0500] awgross: LostBear:  All you should need is the first block inside commons.rb which does the directory create
[2012-11-06 16:52:19 -0500] LostBear: Is there a way to update cookbooks through knife?
[2012-11-06 16:52:54 -0500] awgross: LostBear: yes, you can update your copy on your chef-server by using    knife cookbook upload "cookbook_name"
[2012-11-06 16:53:33 -0500] CharlieSu: Has anyone created a cookbook for setting up smartmontools and configuring smartd?
[2012-11-06 16:53:50 -0500] LostBear: Oh. I do have a workstation setup. So I was thinking i gotta update that cookbooks on that workstation (from the opscode server) then upload to chef-server
[2012-11-06 16:55:15 -0500] kyleb: LostBear: The problem is the version with you fixes you need is only on Github, and not yet released to the community site. So you need some other tool to pull it through git. Checkout Berkshelf, LibrarianChef or knife-github-cookbooks
[2012-11-06 16:56:01 -0500] specialsauce: LostBear: nice handle. that is all.
[2012-11-06 16:56:38 -0500] LostBear: Thanks you kind souls: awgross, kyleb and specialsauce
[2012-11-06 16:56:51 -0500] LostBear: kyleb: i'll try knife-github-cookbooks.
[2012-11-06 16:56:59 -0500] LostBear: assuming that's a new gem i need to install
[2012-11-06 16:58:10 -0500] awgross: kyleb: LostBear you can also just clone the github repo if you really want to sicne you just need the files to upload to the Chef Server, but that can cause other issues since it will have its own little .git folder
[2012-11-06 16:59:09 -0500] kyleb: awgross: Yes I end up doing that all the time, but still use LibrarianChef to pull git repos of cookbooks down to my workstation and into my chef-repo
[2012-11-06 16:59:22 -0500] LostBear: awgross: I see. I'll try the knife-github-cookbook route first.
[2012-11-06 16:59:47 -0500] LostBear: if anything, I can wipe everything and start over. LOL
[2012-11-06 17:01:51 -0500] keves: hello
[2012-11-06 17:01:56 -0500] keves: i started getting these warnings: WARN: Setting attributes without specifying a precedence is deprecated and will be
[2012-11-06 17:01:56 -0500] keves: removed in Chef 11.0. To set attributes at normal precedence, change code like:
[2012-11-06 17:02:15 -0500] keves: however I have no idea what causes them.. -l debug didn't provide any useful info about the source of this
[2012-11-06 17:02:18 -0500] keves: any idea? :(
[2012-11-06 17:02:31 -0500] jtimberman: keves: it should indicate a recipe or attributes file location in the output.
[2012-11-06 17:02:55 -0500] specialsauce: keves: are you using "set" ? you can use "default", "override" etc instead, that's probably the issue
[2012-11-06 17:03:20 -0500] keves: jtimberman i dont see it indicating any recipe names or anything, one sec ill pastebin
[2012-11-06 17:03:35 -0500] keves: specialsauce who knows, i got around 15 cookbooks :(
[2012-11-06 17:03:38 -0500] specialsauce: just grep for "set["
[2012-11-06 17:03:49 -0500] keves: yep
[2012-11-06 17:03:54 -0500] specialsauce: 15? lucky man :-)
[2012-11-06 17:03:56 -0500] keves: got a bunch of those
[2012-11-06 17:04:08 -0500] specialsauce: unless someone corrects, i believe it is those
[2012-11-06 17:04:27 -0500] keves: but why wont it point me to the relevant file
[2012-11-06 17:05:02 -0500] specialsauce: pastebin for debug run?
[2012-11-06 17:05:23 -0500] keves: http://pastebin.com/q3a4kycD
[2012-11-06 17:05:25 -0500] keves: this is not for debug
[2012-11-06 17:05:29 -0500] keves: i'll run debug, one sec
[2012-11-06 17:05:44 -0500] TheSerapher: Errno::ENAMETOOLONG:
[2012-11-06 17:05:53 -0500] TheSerapher: cant upload cookbook because a checksum file name is too long?!
[2012-11-06 17:06:28 -0500] chip-: keves: "statsd/attributes/default.rb" seems a likely culprit.
[2012-11-06 17:06:38 -0500] keves: nah, i just updated it before this run
[2012-11-06 17:06:57 -0500] keves: but debug does seem to point towards files that has this set
[2012-11-06 17:07:03 -0500] keves: so, s/set[/default[/?
[2012-11-06 17:07:13 -0500] specialsauce: keves: not necessarily no
[2012-11-06 17:07:35 -0500] specialsauce: are you setting attrs in envs, roles, nodes etc?
[2012-11-06 17:07:44 -0500] specialsauce: you need to bear in mind attribute inheritance
[2012-11-06 17:08:10 -0500] keves: i am
[2012-11-06 17:08:21 -0500] jtimberman: keves: so the message you're seeing is only a warning, because that behavior is going to change in Chef 11.
[2012-11-06 17:08:28 -0500] jtimberman: it's noisy because it could be a breaking change :)
[2012-11-06 17:08:35 -0500] jtimberman: best to fix it now
[2012-11-06 17:08:37 -0500] keves: yes, but i rather take care of it before it becomes an error :)
[2012-11-06 17:08:41 -0500] jtimberman: totally :)
[2012-11-06 17:09:01 -0500] jtimberman: so the thing to look for is in your attributes files, are you doing something like node['thing'] = 'other thing'
[2012-11-06 17:09:16 -0500] keves: that i dont have
[2012-11-06 17:09:28 -0500] jtimberman: specialsauce: set is ok
[2012-11-06 17:09:30 -0500] keves: i do have set[] inside a mysql cookbook attributes file
[2012-11-06 17:09:40 -0500] jtimberman: specialsauce: its the lack of a precedence method that is the problem.
[2012-11-06 17:09:45 -0500] specialsauce: ah ok cool
[2012-11-06 17:09:49 -0500] jtimberman: node['dontdothis'] = ''
[2012-11-06 17:09:55 -0500] jtimberman: node.set['dothis'] = ''
[2012-11-06 17:09:57 -0500] keves: i dont have those, i grepped :(
[2012-11-06 17:10:06 -0500] jtimberman: node.default['dothis'] = ''
[2012-11-06 17:10:07 -0500] jtimberman: etc
[2012-11-06 17:11:01 -0500] keves: this doesnt make any sense
[2012-11-06 17:11:04 -0500] keves: for example, i'm seeing:
[2012-11-06 17:11:04 -0500] keves: [Tue, 06 Nov 2012 17:05:37 +0000] DEBUG: Node vm1.defaultdomain loading cookbook mysql's attribute file /var/chef/cache/cookbooks/mysql/attributes/client.rb
[2012-11-06 17:11:05 -0500] keves: [Tue, 06 Nov 2012 17:05:37 +0000] WARN: Setting attributes without specifying a precedence is deprecated and will be
[2012-11-06 17:11:05 -0500] keves: removed in Chef 11.0. To set attributes at normal precedence, change code like:
[2012-11-06 17:11:13 -0500] keves: however when i look at client.rb, nothing there violates this pattern
[2012-11-06 17:11:30 -0500] keves: ill paste client.rb
[2012-11-06 17:11:54 -0500] keves: http://pastebin.com/Gzft8iKL
[2012-11-06 17:12:08 -0500] Virunga: Sorry why node['dontdothis'] = '' isn't good?
[2012-11-06 17:13:22 -0500] Virunga: Compatibility issue?
[2012-11-06 17:15:26 -0500] cwj: Virunga: future versions of chef will not support it
[2012-11-06 17:15:39 -0500] Virunga: Oh!
[2012-11-06 17:15:45 -0500] Virunga: cwj: thanks.
[2012-11-06 17:15:53 -0500] cwj: which is why the latest versions are warning about it going away
[2012-11-06 17:16:14 -0500] keves: am i missing something in client.rb?
[2012-11-06 17:16:15 -0500] Virunga: I forget it then. :P
[2012-11-06 17:16:28 -0500] Virunga: forgot
[2012-11-06 17:16:59 -0500] LostBear: It's all fine now.
[2012-11-06 17:17:07 -0500] LostBear: compiled successfully.
[2012-11-06 17:17:35 -0500] keves: maybe the if sentence is messing things up?
[2012-11-06 17:18:24 -0500] jtimberman: keves: you're getting it on the mysql attributes?
[2012-11-06 17:18:25 -0500] jtimberman: hmm
[2012-11-06 17:18:33 -0500] keves: i dont know
[2012-11-06 17:18:45 -0500] keves: i do see it mentioned 1 line before the warning
[2012-11-06 17:18:50 -0500] keves: but no idea if it has anything to do with it
[2012-11-06 17:19:03 -0500] keves: thats why i wondering how to see which file is actually causing this error
[2012-11-06 17:19:09 -0500] keves: and preferably which line :)
[2012-11-06 17:19:13 -0500] LostBear: Just curious is there anyway to undo/uninstall whatever a recipe has done on a node?
[2012-11-06 17:19:52 -0500] jtimberman: LostBear: not automaticaly, you'd have to determine what resources are configured and then write a "contra" recipe
[2012-11-06 17:19:56 -0500] cwj: LostBear: not without writing a recipe to handle it for you
[2012-11-06 17:22:11 -0500] jtimberman: keves: i'm not seeing any errors in chef 11 on that attributes file
[2012-11-06 17:22:40 -0500] keves: so maybe its not related to this file, but then how do i tell to which it is related? maybe i can make the warning print that by editing some chef file?
[2012-11-06 17:23:03 -0500] LostBear: Got it. That's reserved for another day in paradise.
[2012-11-06 17:23:39 -0500] jtimberman: keves: debug log output will show the most information about whats going on from the chef perspective.
[2012-11-06 17:24:01 -0500] keves: but as i pasted above, the warning comes right after a print with client.rb
[2012-11-06 17:24:16 -0500] jtimberman: keves: did you paste your statsd file?
[2012-11-06 17:24:23 -0500] jtimberman: statsd cookbook's attributes
[2012-11-06 17:25:01 -0500] keves: it contains only default["statsd"].. lines
[2012-11-06 17:25:05 -0500] keves: nothing fancy
[2012-11-06 17:25:06 -0500] jtimberman: huh
[2012-11-06 17:25:11 -0500] jtimberman: so a way to debug this further
[2012-11-06 17:25:18 -0500] jtimberman: and its not super awesome, but might help :)
[2012-11-06 17:25:28 -0500] jtimberman: is to run 'shef', and enter attributes mode
[2012-11-06 17:25:45 -0500] keves: ive never used shef, managed to avoid it so far :\
[2012-11-06 17:25:49 -0500] jtimberman: awww
[2012-11-06 17:25:51 -0500] jtimberman: its good fun!
[2012-11-06 17:25:53 -0500] jtimberman: https://gist.github.com/9a8d5db8ae34e979315d
[2012-11-06 17:26:03 -0500] c_t: hmm
[2012-11-06 17:26:31 -0500] c_t: I can do a little in shef, but it never seems to actually have the same node attributes that a standard shef run does
[2012-11-06 17:27:18 -0500] c_t: also, since proper unicode support is pretty widespread now, you could totally rename it ef
[2012-11-06 17:27:30 -0500] keves: oh boy
[2012-11-06 17:27:32 -0500] keves: platform?("debian") is what breaks it
[2012-11-06 17:28:07 -0500] jtimberman: oh
[2012-11-06 17:28:12 -0500] jtimberman: yes indeed
[2012-11-06 17:28:15 -0500] jtimberman: is that in the mysql one?
[2012-11-06 17:28:18 -0500] sethvargo: IMHO, `chef` should be the executable, which shells out to other things like `chef client` or `chef console`
[2012-11-06 17:28:19 -0500] keves: yep
[2012-11-06 17:28:22 -0500] keves: ints helpers.rb
[2012-11-06 17:28:30 -0500] keves: its in *
[2012-11-06 17:28:38 -0500] jtimberman: sethvargo: chef-shell is the name in chef 11 :)
[2012-11-06 17:29:07 -0500] jtimberman: keves: yeahhhhhh. so, chef 11 will fix *that* actually.
[2012-11-06 17:29:11 -0500] sethvargo: jtimberman: I know. But that only makes me 50% happy. Why does chef need three DIFFERENT executables?
[2012-11-06 17:29:15 -0500] yfeldblum: sethvargo, why?
[2012-11-06 17:29:18 -0500] sethvargo: it just pollutes my bin dir
[2012-11-06 17:29:18 -0500] jtimberman: which is why i didn't see it in my chef 11 test :)
[2012-11-06 17:29:24 -0500] keves: so i can safely ignore?
[2012-11-06 17:29:27 -0500] jtimberman: sethvargo: because reasons
[2012-11-06 17:29:36 -0500] thehar: jtimberman: lol
[2012-11-06 17:29:36 -0500] jtimberman: keves: "safely" yes.
[2012-11-06 17:29:39 -0500] cwj: heheh
[2012-11-06 17:29:47 -0500] c_t: sethvargo: also, it would conflict with chef the programming language's interpreter, chef
[2012-11-06 17:29:48 -0500] jtimberman: keves: i don't remember if it makes a node['platform?'] attribute
[2012-11-06 17:29:49 -0500] sethvargo: jtimberman: thats such a dad answer :-p (because I said so)
[2012-11-06 17:29:58 -0500] jtimberman: sethvargo: I'm a dad!
[2012-11-06 17:30:00 -0500] yfeldblum: sethvargo, proposition P ought to be true because otherwise it's displeasing to your sense of aesthetics? PD
[2012-11-06 17:30:01 -0500] yfeldblum: :D
[2012-11-06 17:30:02 -0500] jtimberman: bahahahaha
[2012-11-06 17:30:34 -0500] jtimberman: but a change of all the executables to be sub commands of "chef" isn't a thing that would happen in the chef 11 release. it's pretty far along.
[2012-11-06 17:30:37 -0500] sethvargo: c_t: how many people use chef-client versus chef (the language)?
[2012-11-06 17:30:38 -0500] jtimberman: Chef 12!
[2012-11-06 17:31:01 -0500] c_t: yfeldblum: heh, I've been doing the politics too long. When you said "Proposition P", I thought "Jesus, what's that proposition? Don't think I've heard about that one."
[2012-11-06 17:31:02 -0500] sethvargo: lol and I know. I'm just playing devils advocate
[2012-11-06 17:31:07 -0500] cwj: c_t: lol
[2012-11-06 17:31:11 -0500] c_t: sethvargo: I'm sure almost none
[2012-11-06 17:31:46 -0500] cwj: if your biggest problem in life is how many files in your bin dir, i am mad jelly
[2012-11-06 17:31:59 -0500] keves: thanks for your time helping with this
[2012-11-06 17:32:02 -0500] sethvargo: c_t: so then, counter-argument. It makes more sense to rename chef (the language) to shef or something else, to avoid said conflicts, since the population is far fewer + probably involves some pretty savvy programmers instead of new guys
[2012-11-06 17:32:10 -0500] c_t: "Proposition P: To legalize hugs between devops"
[2012-11-06 17:32:27 -0500] sethvargo: I just have mad #ocd. Ask jtimberman or nathenharvey
[2012-11-06 17:32:31 -0500] specialsauce: hugs and high fives are the only way to roll
[2012-11-06 17:32:37 -0500] thehar: c_t: i am so twittering that hahahahahaha
[2012-11-06 17:33:50 -0500] thehar: io_syl: hi
[2012-11-06 17:34:03 -0500] io_syl: thehar: hey
[2012-11-06 17:34:06 -0500] theRawr: long time no see bud
[2012-11-06 17:34:14 -0500] io_syl: i know, hows it going?
[2012-11-06 17:34:32 -0500] theRawr: good, good. 2600hz still treating you well?  Lookout needs Ops people ;)
[2012-11-06 17:34:39 -0500] jtimberman: sethvargo: so i think that having a 'chef' binary that dispatches to sub commands could be cool, and i encourage you to open a ticket, post a feature request on the wiki and discuss on the chef-dev mailing list :)
[2012-11-06 17:34:46 -0500] c_t: sethvargo: it does occur to me, though; bringing chef-client and chef-solo together's probably not that bad
[2012-11-06 17:35:01 -0500] c_t: but I haz a feeling bringing chef-server in's a bad idea
[2012-11-06 17:35:27 -0500] sethvargo: jtimberman: i may even submit a PR for it :-p
[2012-11-06 17:36:08 -0500] sethvargo: c_t: my "model" (and i hate to say this) is rails rails used to be script/console, script/rails, script/blah now it's just rails COMMAND. And i feel like chef is at that same point
[2012-11-06 17:36:29 -0500] jtimberman: https://gist.github.com/4c505db210632dc815be
[2012-11-06 17:36:57 -0500] jtimberman: sethvargo: see the commit that i made for shef -> chef-shell for an idea of how many places you have to touch to do it though :)
[2012-11-06 17:36:58 -0500] julian_: anyone bootstrapping chef sans knife in ec2?
[2012-11-06 17:37:17 -0500] sethvargo: what's the sha?
[2012-11-06 17:37:23 -0500] jtimberman: https://github.com/opscode/chef/pull/389
[2012-11-06 17:37:28 -0500] c_t: nice!
[2012-11-06 17:37:37 -0500] c_t: unexpected halloween candy in my coat pocket
[2012-11-06 17:37:58 -0500] jtimberman: c_t: winning
[2012-11-06 17:38:23 -0500] c_t: I've been having some winnign so far today
[2012-11-06 17:38:25 -0500] sethvargo: jtimberman: Command + Shift + F. Done lololol just kidding
[2012-11-06 17:38:31 -0500] LostBear: I'm sure there're many ways to do this. But how do you guys generate self-signed SSLs on a node? Through any cookbook?
[2012-11-06 17:38:35 -0500] c_t: my morning has been delightfully boring so far
[2012-11-06 17:38:38 -0500] c_t: I hope this continues
[2012-11-06 17:39:15 -0500] jtimberman: sethvargo: indeed ;)
[2012-11-06 17:39:35 -0500] yfeldblum: LostBear, `openssl req -x509` ?
[2012-11-06 17:39:53 -0500] sethvargo: also, jtimberman, the first opscast will be coming next week :)
[2012-11-06 17:41:12 -0500] martinisoft: whats up sethvargo :D
[2012-11-06 17:41:28 -0500] LostBear: yfeldblum: so that's done using "execute" in a recipe, yeah?
[2012-11-06 17:41:50 -0500] yfeldblum: LostBear, you could do it that way, but that's not necessarily the only way
[2012-11-06 17:42:15 -0500] LostBear: Say if I want that SSL creation to be part of a Role
[2012-11-06 17:42:23 -0500] sethvargo: hey martinisoft :)
[2012-11-06 17:42:38 -0500] LostBear: I'm reading through the documentation just haven't seem to spot it yet
[2012-11-06 17:43:25 -0500] sethvargo: jtimberman: thx! (for mergin' my PR)
[2012-11-06 17:44:19 -0500] timsmith: any chance we could get some merge love on the IIS cookbook too...
[2012-11-06 17:44:56 -0500] martinisoft: :D
[2012-11-06 17:45:04 -0500] yfeldblum: LostBear, roles are purely and only data, not code
[2012-11-06 17:45:16 -0500] yfeldblum: LostBear, so if you want chef to run some of your code, put it in a cookbook
[2012-11-06 17:46:25 -0500] LostBear: I see. So create my own cookbook. Write recipe to run certain shell stuff like generating ssl cert. Then just throw that recipe in the run_list for the Role
[2012-11-06 17:47:05 -0500] yfeldblum: LostBear, right
[2012-11-06 17:48:17 -0500] LostBear: Thanks yfeldblum. Onwards to writing my own cookbook then.
[2012-11-06 17:49:25 -0500] sethvargo: LostBear: Here's a BP i wrote: http://technology.customink.com/blog/2012/07/30/provision-your-laptop-with-chef-part-2/ about writing your own first cb
[2012-11-06 17:49:27 -0500] sethvargo: might be helpful
[2012-11-06 17:50:15 -0500] LostBear: Thanks sethvargo. ;)
[2012-11-06 17:51:36 -0500] LostBear: Sorry. It's gonna be slightly off topic. But if any of you are US citizens (I'm not), pls go vote. The rest of us around the world are looking forward to it. And I should add that I'm pretty nervous about the results.
[2012-11-06 17:54:03 -0500] cwj: feels good man
[2012-11-06 18:01:21 -0500] yfeldblum: LostBear, nervous? what for?
[2012-11-06 18:01:50 -0500] sunil__: anyone know why some node level attributes get rendered as apache2 but others as apache?  It seems like apache2 works for listen_ports but doesn't work for user/group/worker parameters.
[2012-11-06 18:08:12 -0500] LostBear: yfeldblum: It just seems that Romney winning this election is quite a possibility. Just a preference thing for most of my colleagues and me. From what i've been seeing/reading online, he just doesn't seem right to me. Not that I have a say in any of this of course.
[2012-11-06 18:08:26 -0500] angrybit: Does notify "immediately" actually run the specified action RIGHT THEN or does it wait until the end of the block that the "notifies" statement is in?  The behavior I'm seeing in my recipe seems to be the latter.
[2012-11-06 18:08:46 -0500] cwj: sunil__: the opscode apache2 cookbook seems to use only the 'apache' name space https://github.com/opscode-cookbooks/apache2/blob/master/attributes/default.rb ; https://github.com/opscode-cookbooks/apache2/blob/master/recipes/default.rb#L186
[2012-11-06 18:09:10 -0500] yfeldblum: LostBear, why would the alternative be any better?
[2012-11-06 18:09:23 -0500] cwj: maybe you are using a modified copy, or an older version where that inconsistency exists
[2012-11-06 18:09:44 -0500] LostBear: Maybe I should just say lesser of the two evils?
[2012-11-06 18:10:05 -0500] sunil__: cwj yeah I am using that cookbook and it looks like its recommended to use apache..but for some reason using apache2 also works for listen_ports..I need to dig deeper.
[2012-11-06 18:10:09 -0500] LostBear: yfeldblum: of course, I don't know/feel/experience the full extent of whatever the effects the results will have. =)
[2012-11-06 18:10:46 -0500] LostBear: After all, I'm just a keyboard warrior hidden behind an irc handle. haha.
[2012-11-06 18:10:51 -0500] sunil__: good point on the version @cwj
[2012-11-06 18:11:02 -0500] yfeldblum: LostBear, it's two idiots in suits, at least as far as economics, defense, and foreign-policy go
[2012-11-06 18:11:09 -0500] cwj: LostBear: i would rather that we had more than two evils to choose from, and that the way in which the outcome was determined felt more like it reflected what "most people" really care about
[2012-11-06 18:11:32 -0500] cwj: no matter which idiot in a suit is elected, our democracy remains in peril
[2012-11-06 18:11:42 -0500] cwj: imo
[2012-11-06 18:13:29 -0500] LostBear: cwj, yfeldblum : it's such a sad thing that it all comes down to choosing one out of "only two" people. =/
[2012-11-06 18:14:05 -0500] plethora: am i in the wrong channel
[2012-11-06 18:14:07 -0500] c_t: (I was focusing on #chef figuring it'd be a break from politics)
[2012-11-06 18:14:26 -0500] c_t: not that I mind, just that I really can't get awy from it all
[2012-11-06 18:14:42 -0500] LostBear: Well, I'm Burmese. So I suppose for me accepting one out of two gives me the illusion of freedom which I didn't have while under military rule. :)
[2012-11-06 18:14:54 -0500] LostBear: sorry guys. =)
[2012-11-06 18:15:09 -0500] LostBear: I'm back to reading about cookbooks as well.
[2012-11-06 18:15:26 -0500] c_t: LostBear: heh, I work in the political media sphere is all
[2012-11-06 18:15:34 -0500] c_t: so I'm around it All. The. Time.
[2012-11-06 18:15:42 -0500] cwj: oh boy
[2012-11-06 18:16:11 -0500] c_t: thought you knew, cwj
[2012-11-06 18:16:59 -0500] cwj: cant say i do
[2012-11-06 18:17:01 -0500] cwj: i know someone doing webdev for obama, i cant imagine how bad that would be
[2012-11-06 18:17:21 -0500] c_t: I'm not doing that
[2012-11-06 18:17:24 -0500] cwj: obama for america that is
[2012-11-06 18:17:47 -0500] c_t: I'm just (one of, now, rather than the only) tech folks at Daily Kos
[2012-11-06 18:17:54 -0500] cwj: ah
[2012-11-06 18:18:02 -0500] c_t: as you can imagine, it's a Big Day today
[2012-11-06 18:18:07 -0500] cwj: yeah no doubt
[2012-11-06 18:18:09 -0500] c_t: currently boring though
[2012-11-06 18:18:28 -0500] cwj: using aws autoscaling?
[2012-11-06 18:19:09 -0500] LostBear: Yeah. I'd love to hear about scaling on such a day, if you can spare some time of course.
[2012-11-06 18:19:11 -0500] c_t: nerp, lots of hand scaling
[2012-11-06 18:19:27 -0500] c_t: been beefing up and optimizing for quite a while
[2012-11-06 18:19:42 -0500] c_t: brought various infrastructure bits online recently
[2012-11-06 18:19:59 -0500] c_t: the storm threw a bit of a wrench into the mix, since most of our servers are in NYC
[2012-11-06 18:20:18 -0500] c_t: cwj: currently we're a mix of mod_perl and rails stuff
[2012-11-06 18:20:23 -0500] heathsnow: Okay, I moved my knife.rb on a Windows machine to C:\chef\ and I'd like it to recognize plugins from C:\chef\plugins.....however it insists on only recognizing plugins from the old ~/chef-repo/.chef/ directory.....anyone know how I can do this?
[2012-11-06 18:20:27 -0500] c_t: only half of that would work well with aws autoscaling
[2012-11-06 18:20:34 -0500] cwj: sure
[2012-11-06 18:21:14 -0500] c_t: also, we're still able to use some of the heavy lifting I did in 2008
[2012-11-06 18:22:21 -0500] c_t: still, looking forward to getting some time to rest after this is done
[2012-11-06 18:22:55 -0500] LostBear: c_t: ah! the storm. I just left a project where my client's major servers are in NYC (and NJ also I think). One of the last things I did before leaving was to migrate half of them to west coast and half to EU.
[2012-11-06 18:23:35 -0500] c_t: LostBear: we had been prepping to move to Singapore if need be ahead of time
[2012-11-06 18:23:39 -0500] c_t: and were doing quite well
[2012-11-06 18:23:51 -0500] LostBear: I see.
[2012-11-06 18:24:10 -0500] c_t: then a set of data centers failed, and it turned out that there was a single point of failure for provisioning, DNS management, etc.
[2012-11-06 18:24:18 -0500] c_t: That was a bit of a shock
[2012-11-06 18:24:20 -0500] LostBear: It was kinda exciting for me coz it was really the first time for us where we did live migration of almost everything from east coast
[2012-11-06 18:24:34 -0500] c_t: but, they got said data centers back up on generator power by the morning
[2012-11-06 18:24:57 -0500] LostBear: luckily they weren't flooded
[2012-11-06 18:25:12 -0500] c_t: some of our NYC servers stayed up too, but not all
[2012-11-06 18:25:34 -0500] c_t: on the plus side, our various chef cookbooks are now even more robust
[2012-11-06 18:25:59 -0500] LostBear: Went thru a real life test, yeah?
[2012-11-06 18:26:18 -0500] c_t: (a couple of weeks before the storm I made a bunch of .debs out of the CPAN modules we need, which simplified things greatly)
[2012-11-06 18:26:21 -0500] c_t: indeed
[2012-11-06 18:26:45 -0500] c_t: got sick of installing all the CPAN modules taking for fucking ever
[2012-11-06 18:27:00 -0500] c_t: and occasionally shit breaking because something on CPAN decided to up and change
[2012-11-06 18:27:54 -0500] cwj: i have just started doing that with python modules using pennyworth
[2012-11-06 18:28:31 -0500] c_t: CPAN's great and all, but when it sucks, it *sucks*
[2012-11-06 18:28:31 -0500] cwj: which reminds me, i should release my pypi-server cookbook
[2012-11-06 18:29:06 -0500] c_t: admittedly we engage in some pretty serious CPAN abuse
[2012-11-06 18:49:48 -0500] flagg0204: this may seem like an odd question.  has anyone done any work regarding caching chef search reulsts?
[2012-11-06 18:50:20 -0500] flagg0204: could using some cache meachanism other than BasicFile in your knife config help with this?  Use redis or something
[2012-11-06 19:17:02 -0500] julian_: Hey guys, have some questions on bootstrapping and registering with chef client.
[2012-11-06 19:17:31 -0500] julian_: Is there a parameter in client.rb that tells the server to register as a new server?
[2012-11-06 19:17:58 -0500] julian_: I don't want to define the node name because it has yet to be configured but I need a generic client.rb to be used by all server.
[2012-11-06 19:40:03 -0500] terbeaux: hello everybody
[2012-11-06 19:40:23 -0500] AntonZ: hello
[2012-11-06 19:41:08 -0500] terbeaux: i am creating a recipe for icinga server on ubuntu using formorer's PPA. i have not been able to successfully seed dbconfig-common to create the databases with individual usernames.
[2012-11-06 19:41:52 -0500] terbeaux: i looked at the mysql recipe and it appears to use grants.sql for this. is there a way to preseed aptitude to create the users and the databases as it would on the command line?
[2012-11-06 19:42:32 -0500] terbeaux: or should i just manually add the users using sql and import the sql files included with the package?
[2012-11-06 19:43:54 -0500] bluepojo: Hey dudes. I'm seeing a situation that, when I ssh out to 200+ boxes and run chef-client, the output will halt at some point along the way and not resume for another hour.  I can't replicate this doing anything but chef-client. Any ideas?
[2012-11-06 19:44:03 -0500] bluepojo: oddly, the chef-client run will complete
[2012-11-06 19:44:18 -0500] bluepojo: but the output gets bottled up and not returned
[2012-11-06 19:44:29 -0500] bluepojo: so I end up just killing the job and forgetting about it
[2012-11-06 19:44:51 -0500] terbeaux: bluepojo: are you using the openssh command line client or Net::SSH?
[2012-11-06 19:45:20 -0500] bluepojo: I believe it's net::ssh under the hood
[2012-11-06 19:45:25 -0500] bluepojo: I'd have to look
[2012-11-06 19:45:41 -0500] terbeaux: how are you invoking it? using knife?
[2012-11-06 19:46:01 -0500] bluepojo: this sounds strange, but this system uses capistrano.
[2012-11-06 19:46:06 -0500] bluepojo: running via knife ssh works fine
[2012-11-06 19:46:27 -0500] bluepojo: I'm in the process of rewriting their entire deployment system, but I have to support the existing system for now
[2012-11-06 19:46:52 -0500] terbeaux: so capistrano connects to the hosts and executes chef-client before deploying?
[2012-11-06 19:46:57 -0500] bluepojo: oddly, I can't replicate the problem running anything but chef-client
[2012-11-06 19:47:01 -0500] masterkorp: http://www.youtube.com/watch?v=pOKdguuXl2g
[2012-11-06 19:47:08 -0500] bluepojo: I tried catting a log file on all the boxes
[2012-11-06 19:47:09 -0500] bluepojo: works fine
[2012-11-06 19:47:10 -0500] masterkorp: OMG
[2012-11-06 19:47:20 -0500] bluepojo: I tried calculating PI on all the boxes
[2012-11-06 19:47:21 -0500] bluepojo: works fine
[2012-11-06 19:47:30 -0500] bluepojo: only chef-client halts output
[2012-11-06 19:48:29 -0500] terbeaux: do you receive timeout errors?
[2012-11-06 19:48:46 -0500] terbeaux: or does it just hang for an hour?
[2012-11-06 19:49:38 -0500] terbeaux: does it always hang on the same host?
[2012-11-06 19:49:43 -0500] terbeaux: on the same command?
[2012-11-06 19:49:57 -0500] terbeaux: is there a chance that capistrano is not sending you STDERR?
[2012-11-06 19:50:28 -0500] terbeaux: could one of the hosts be missing an ssh key which causes a password prompt to be displayed?
[2012-11-06 19:51:49 -0500] bluepojo: terbeaux: it doesn't seem to follow a pattern
[2012-11-06 19:52:01 -0500] bluepojo: and no hosts seem to fail
[2012-11-06 19:52:12 -0500] bluepojo: it is an interesting thought that perhaps a host is missing a key
[2012-11-06 19:52:23 -0500] bluepojo: and yeah
[2012-11-06 19:52:26 -0500] bluepojo: it just hangs for an hour or more
[2012-11-06 19:52:28 -0500] bluepojo: sometimes up to 2 hours
[2012-11-06 19:52:36 -0500] bluepojo: even though the run takes less than 15mins
[2012-11-06 19:52:55 -0500] bluepojo: and no timeout errors...
[2012-11-06 19:52:58 -0500] bluepojo: eventually it completes
[2012-11-06 19:53:17 -0500] bluepojo: thanks for talking through this with me, I've been utterly baffled for a few days now
[2012-11-06 19:53:47 -0500] bluepojo: well, if a host was missing a key, catting the log file would have failed the same way
[2012-11-06 19:53:50 -0500] miah: moin
[2012-11-06 19:56:35 -0500] terbeaux: bluepojo: have you tried redirecting the output to a tmp file?
[2012-11-06 19:56:51 -0500] terbeaux: i know that nohup has some weird IO requirements
[2012-11-06 19:57:24 -0500] terbeaux: these are all just shots in the dark. i'm not sure how things are being launched
[2012-11-06 20:07:06 -0500] chip-: Anybody have a moment to help me muddle through what's going on when I try to call the LWRP from the 'maven' community cookbook? https://github.com/opscode-cookbooks/maven / http://community.opscode.com/cookbooks/maven/source
[2012-11-06 20:07:39 -0500] chip-: I've depended the cookbook in my own cookbook, and then tried to define a maven resource that matches the documentation, but it keeps throwing "FATAL: ArgumentError: You must supply a name when declaring a maven resource"
[2012-11-06 20:08:14 -0500] awgross: missing attribute passed to the LWRP it looks like chip-
[2012-11-06 20:08:21 -0500] awgross: dont have experience with the actual cookbook
[2012-11-06 20:08:31 -0500] awgross: check the maven/resources/maven.rb definitions
[2012-11-06 20:14:16 -0500] bluepojo: terbeaux: I'll give that a shot
[2012-11-06 20:14:20 -0500] bluepojo: redirecting to a file
[2012-11-06 20:29:49 -0500] jblaine: Chances of a small patch being accepted (via ticket, etc) to report "INFO: Gathering node information" just before Ohai runs, and "INFO: Finished gathering node information" when it finishes?
[2012-11-06 20:30:09 -0500] jblaine: seems wrong that there is this unknown many-second nothingness when running chef-client
[2012-11-06 20:31:49 -0500] emourant: Hi Guys
[2012-11-06 20:32:01 -0500] emourant: Anyone ever had any problems with apache2::mod_php5 on precise?
[2012-11-06 20:32:37 -0500] jaimef: can ohai plugins ever overwrite a node[] value defined in a recipe? is Ohai done before LDRADR?
[2012-11-06 20:34:40 -0500] chip-: awgross: Found it. No name attribute specified in the resource definition.
[2012-11-06 20:38:17 -0500] emourant: [2012-11-06T20:36:37+00:00] FATAL: Chef::Exceptions::Exec: package[libapache2-mod-php5] (apache2::mod_php5 line 23) had an error: Chef::Exceptions::Exec: apt-get -q -y install libapache2-mod-php5=5.3.10-1ubuntu3.3 returned 100, expected 0
[2012-11-06 20:48:16 -0500] mattupstate: wondering if anyone could take a look at this recipe and maybe quickly see if I'm doing something wrong
[2012-11-06 20:48:19 -0500] mattupstate: http://pastebin.com/1DKeAzX6
[2012-11-06 20:48:50 -0500] mattupstate: i can't connect to mysql with the user i specified either remotely or locally
[2012-11-06 20:49:05 -0500] kallistec: emourant: the apt cookbook from opscode will run apt-get update every few days
[2012-11-06 20:49:14 -0500] mattupstate: i can only connect to mysql locally with the root user
[2012-11-06 20:51:22 -0500] willejs: does anyone use the nagios cookbook with nagios_unmanagedhosts
[2012-11-06 20:51:23 -0500] willejs: ?
[2012-11-06 20:51:57 -0500] willejs: because I've populated the data bag correctly, but nothing happens, the info error isn't present when i run chef-client
[2012-11-06 20:52:05 -0500] willejs: so it finds the databag
[2012-11-06 20:52:07 -0500] emourant: Great, thanks that has fixed it. I thought I had included the apt cookbook but wasn't doing it correctly.
[2012-11-06 20:57:30 -0500] willejs: no one use the nagios cookbook? :(
[2012-11-06 21:00:06 -0500] mattupstate: willejs: its a little quiet today
[2012-11-06 21:00:28 -0500] willejs: yeah, seems like it, normally theres a few more people active
[2012-11-06 21:00:48 -0500] willejs: even the puppet irc is more active than this, but i suppose they've got more problems ;)
[2012-11-06 21:04:40 -0500] behemphi1: So in using the opscode cookbooks, I have a requirement (via the erlang cookbook) to use the yum cookbook.  The "problem" is that I am all on ubuntu.  Am I wrong to have the gut reaction, "don't want no stinkin' yum on my ubuntu?"
[2012-11-06 21:05:28 -0500] cheeseplus: the reaction may not be wrong but I've just uploaded it regardless
[2012-11-06 21:06:24 -0500] _rc: dependencies are static, even though at runtime you might not use them.  you'll wind up with the windows cookbook eventually too
[2012-11-06 21:06:28 -0500] behemphi1: OK, I feel a bit better about the reaction and my behavior following (i.e. 'shrug')
[2012-11-06 21:08:08 -0500] behemphi1: So how "bad" is my desire to simply comment out the yum dependency in my version of the cookbook?   Am I shooting myself in the foot?
[2012-11-06 21:08:21 -0500] thom: behemphi1: note that it's just a cookbook, it won't do anything on a platform that it's not designed for
[2012-11-06 21:08:37 -0500] yfeldblum: behemphi1, the dependency doesn't actually do anything
[2012-11-06 21:08:50 -0500] thom: (although i did have the same reaction for a while, and it still irritates me that one can't do platform specific dependencies)
[2012-11-06 21:08:50 -0500] behemphi1: Thx thom, I know that.  I think OCD is just winning in my little world right  now :-)
[2012-11-06 21:21:44 -0500] emourant: Should apt-get update run the first time that chef is run on a server? when the apt cookbook is included
[2012-11-06 21:22:27 -0500] emourant: my apt cookbook is failing to run successfully because apt-get update has not run
[2012-11-06 21:23:41 -0500] emourant: [2012-11-06T21:18:56+00:00] FATAL: Chef::Exceptions::Exec: package[update-notifier-common] (apt::default line 30) had an error: Chef::Exceptions::Exec: apt-get -q -y install update-notifier-common=0.119ubuntu8.5 returned 100, expected 0
[2012-11-06 21:23:57 -0500] spox: are you using the latest version of the apt cookbook?
[2012-11-06 21:26:10 -0500] emourant: It is the latest version from git
[2012-11-06 21:26:13 -0500] rafaelmagu: What's the recommended procedure for upgrading chef-client on Ubuntu nodes?
[2012-11-06 21:26:24 -0500] rafaelmagu: apt-get upgrade?
[2012-11-06 21:26:28 -0500] emourant: presumably master :S
[2012-11-06 21:28:46 -0500] spox: emourant: it should but perhaps the update stamp file was already created prior to the chef run?
[2012-11-06 21:28:58 -0500] spox: rafaelmagu: how did you install it?
[2012-11-06 21:29:28 -0500] rafaelmagu: spox: Chef boostrapping
[2012-11-06 21:29:43 -0500] spox: is it an omnibus install?
[2012-11-06 21:31:43 -0500] spox: rafaelmagu: anyway, give this a look: http://community.opscode.com/cookbooks/omnibus_updater
[2012-11-06 21:33:07 -0500] rafaelmagu: spox: I believe so
[2012-11-06 21:33:13 -0500] rafaelmagu: spox: cool, will check it out
[2012-11-06 21:34:35 -0500] emourant: I am using vagrant and I have destroyed and recreated the server
[2012-11-06 21:34:44 -0500] emourant: so It should be a fresh run.
[2012-11-06 21:36:17 -0500] mbaxa: is there shef magic I'm missing? I'm trying to follow http://stevendanna.github.com/blog/2012/01/28/shef-debugging-tips-1/ and I get errors about a cookbook not being found when it clearly is in cookbooks/
[2012-11-06 21:36:22 -0500] mbaxa: https://gist.github.com/4027756
[2012-11-06 21:38:27 -0500] cheeseplus: mbaxa: is cookbook_path set in knife.rb?
[2012-11-06 21:38:50 -0500] mbaxa: yes
[2012-11-06 21:40:11 -0500] rafaelmagu: spox: is the version attribute meant to be '10.12.0.rc.1' and not '0.10.12.0.rc.1'?
[2012-11-06 21:40:29 -0500] rafaelmagu: (ignore the .rc.1 part, I'm taking that out)
[2012-11-06 21:40:34 -0500] emourant: Presumably if the file /var/lib/apt/periodic/update-success-stamp does not exist then apt-get update should run right?
[2012-11-06 21:40:42 -0500] spox: you'll want to peg it to the version you want
[2012-11-06 21:40:47 -0500] spox: likely: 10.16.2-1
[2012-11-06 21:40:51 -0500] cmceldowney: Question: I want to notify a service from within other recipes (not in that cookbook). having sequencing issues, but can't find the right language for google query to make sure I'm running the service restart command at run-time, not compile time, and that the service I'm referring to actually exists
[2012-11-06 21:41:16 -0500] rafaelmagu: spox: cool, will do a trial run.
[2012-11-06 21:42:31 -0500] jblaine: behemphi1: Ideally the erlang cookbook would not include the yum cookbook unless needed based on node['platform'] or similar.
[2012-11-06 21:45:48 -0500] behemphi1: @jblaine Y, I just need to suck it up an get yum as well :-)
[2012-11-06 21:46:36 -0500] jblaine: yeah, just saying that's lame though
[2012-11-06 21:47:29 -0500] jblaine: behemphi1: I don't see the requirement: https://github.com/opscode-cookbooks/erlang/blob/master/recipes/default.rb
[2012-11-06 21:48:08 -0500] jblaine: it requires yum::epel if platform is redhat
[2012-11-06 21:49:01 -0500] behemphi1: @jblaine here is where the info is:
[2012-11-06 21:49:01 -0500] behemphi1: https://github.com/opscode-cookbooks/erlang/blob/master/metadata.rb
[2012-11-06 21:49:08 -0500] behemphi1: note "depends"
[2012-11-06 21:49:37 -0500] jblaine: behemphi1: Ahhh. Right. Hm.
[2012-11-06 21:49:40 -0500] behemphi1: I get the barf on knife-cookbook upload, so there is no way for the process to be platform aware yet
[2012-11-06 21:49:50 -0500] jtimberman: behemphi1: the thing is, chef's dependency resolver doesn't support platform-specific dependencies.
[2012-11-06 21:49:53 -0500] jtimberman: its all or none
[2012-11-06 21:49:59 -0500] jtimberman: so to be safe, the dependency was created
[2012-11-06 21:50:10 -0500] jtimberman: but the yum recipe(s) shouildn't be used on irrelevant platforms.
[2012-11-06 21:50:32 -0500] jtimberman: https://github.com/opscode-cookbooks/erlang/blob/master/recipes/default.rb#L30-32
[2012-11-06 21:50:43 -0500] jblaine: jtimberman: Not possible to case the depends in metadata.rb ?
[2012-11-06 21:50:47 -0500] jtimberman: jblaine: no
[2012-11-06 21:50:48 -0500] behemphi1: @jtimberman I did not mean to start trouble.  I pledged (among other things) to use more commuity cookbooks and contrib to them.  So this is me asking a naive questions
[2012-11-06 21:50:50 -0500] jblaine: doodie
[2012-11-06 21:50:58 -0500] jtimberman: jblaine: the metadata is translated to json when the cookbook is uploaded to the server.
[2012-11-06 21:51:04 -0500] jtimberman: its just data
[2012-11-06 21:51:11 -0500] jtimberman: behemphi1: :-)
[2012-11-06 21:51:15 -0500] jtimberman: behemphi1: no worries :)
[2012-11-06 21:51:25 -0500] jblaine: behemphi1: I was the one that dragged it back up :)
[2012-11-06 21:51:33 -0500] jtimberman: jblaine: troublemaker!
[2012-11-06 21:51:34 -0500] jtimberman: :D
[2012-11-06 21:51:40 -0500] behemphi1: lol
[2012-11-06 21:51:48 -0500] jblaine: clearly
[2012-11-06 21:51:51 -0500] jtimberman: <3
[2012-11-06 21:54:07 -0500] chip-: I have had this question answered before and I'm trying to remember now: How do I get to File.read inside a provider without colliding with Chef's File?
[2012-11-06 21:56:31 -0500] gkarekinian: ::File
[2012-11-06 21:57:15 -0500] behemphi1: @gyre007 are you the wonderful guy who gave me the hack for knife-ssh and rackspace?
[2012-11-06 21:59:00 -0500] chip-: gkarekinian: Thanks!
[2012-11-06 21:59:46 -0500] willejs: can anyone help me with an issue I'm having with the nagios cookbook, i have populated the nagios_unmanagedhosts data bag with the relevant values however when i run chef-client, it does not populate the hosts.cfg config
[2012-11-06 21:59:55 -0500] willejs: and does not error that the data bag does not exist
[2012-11-06 22:00:15 -0500] willejs: I've tried to debug it but i can't see any evidence that it isn't fetching the attributes...
[2012-11-06 22:00:52 -0500] mobilemike: I've got a beginner question about librarian-chef and workflow. This might sound silly, but I'm not really clear on where to put _my_ cookbooks.
[2012-11-06 22:01:22 -0500] flaccid: git is good
[2012-11-06 22:01:28 -0500] willejs: jtimberman: i saw you were one of the authors of the nagios cookbook (along with pads of the others) any ideas?
[2012-11-06 22:01:30 -0500] cmceldowney: cmceldowney: just to complete the loop: use the string notation for service restart, e.g. notifies :restart, "service[#{service_to_restart}]", :delayed vs. notifies :restart, resources(:service => ["#{service_to_restart}"]), :delayed
[2012-11-06 22:02:14 -0500] mobilemike: @flaccid: was that to me? Do you mean github?
[2012-11-06 22:03:53 -0500] chip-: What's the best way to log / dump variables inside a provider?
[2012-11-06 22:03:58 -0500] flaccid: mobilemike: yeah any remote git is fine
[2012-11-06 22:05:20 -0500] willejs: can anyone please help me with this nagios cookbook issue please?
[2012-11-06 22:05:27 -0500] mobilemike: Okay, but I'm cookbooks being? Private github repos aren't unlimited and I'm not sure i want my company specific configuration recipes available to everyone.
[2012-11-06 22:05:36 -0500] mobilemike: So, I was wondering how most people get around that.
[2012-11-06 22:05:54 -0500] flaccid: mobilemike: by not being a tight ass :)
[2012-11-06 22:06:02 -0500] flaccid: bitbucket has more free priv repos iirc
[2012-11-06 22:06:43 -0500] mobilemike: Seriously, though, od most people just have a good number of private repos?
[2012-11-06 22:06:58 -0500] mobilemike: Like I said, I'm new to this.
[2012-11-06 22:07:29 -0500] mbaxa: yes
[2012-11-06 22:07:33 -0500] flaccid: it'll vary. some people do everything open and public. you may only need 1 private repos for your private stuff. thats only $7 bux a month at github.
[2012-11-06 22:08:35 -0500] mobilemike: Yea, we already have a private account, which is where i put the overall chef-repo. I'm just starting to realize now that, if I foliow the libarian-chef workflow, I'll need many more.
[2012-11-06 22:08:47 -0500] mobilemike: THought maybe I was missing something.
[2012-11-06 22:09:56 -0500] flaccid: not sure why you would need more, 1 would be enough for priv
[2012-11-06 22:10:17 -0500] yfeldblum: mobilemike, you put your cookbooks in some other directory besides `cookbooks` and you add that directory to your .chef/knife.rb
[2012-11-06 22:10:47 -0500] yfeldblum: mobilemike, the convention is to put them in `site-cookbooks`
[2012-11-06 22:11:21 -0500] jblaine: willejs: Add some Chef::Log.info() debugging calls?
[2012-11-06 22:11:43 -0500] jblaine: willejs: To spit out the data that is supposedly fetched from the databag?
[2012-11-06 22:11:46 -0500] jtimberman: willejs: do you have debug log of chef running?
[2012-11-06 22:11:51 -0500] willejs: jblaine: cheers but i just realised that somehow i have a completely different cookbook to what i thought i had
[2012-11-06 22:12:06 -0500] mobilemike: Right, I understood all of that, but got the impression that if I used libraian chef, I should be using an entirely different workflow that only requires cookbooks from the community site or github repos. Kinda like a Gemfile in a Rails app.
[2012-11-06 22:12:11 -0500] willejs: i downloaded the cookbook using knife
[2012-11-06 22:12:29 -0500] willejs: and it grabbed some outdated version which doesn't have the unmanaged hosts functionality in atall
[2012-11-06 22:12:30 -0500] flaccid: mobilemike: you configure your Cheffile however you want to use for sources
[2012-11-06 22:13:13 -0500] flaccid: mobilemike: you can see i use a variety of ones here https://github.com/rightscale-blueprints/linux_server/blob/master/Cheffile
[2012-11-06 22:13:14 -0500] jtimberman: willejs: yeah there's a numbe rof changes in the cookbook that need to be released.
[2012-11-06 22:13:21 -0500] jtimberman: timsmith keeps opening more pull requests! :)
[2012-11-06 22:13:36 -0500] yfeldblum: mobilemike, you put your app code in app/ ... and you put your cookbooks in site-cookbooks/ ...
[2012-11-06 22:13:38 -0500] jblaine: It's appearing as though I will need to cut my LWRP teeth to be able to work with nss "compat" additions to /etc/passwd and /etc/shadow as users.
[2012-11-06 22:13:47 -0500] willejs: jtimerman: agh I'm aware of it now will be more careful next time
[2012-11-06 22:14:06 -0500] willejs: really couldn't understand what was going on, was looking at the code on github and not on my workstation that i uploaded. stupid
[2012-11-06 22:14:11 -0500] mobilemike: Okay, so a mix of publicly sourced cookbooks and locally sourced cookbooks within the Cheffile is a reasonable workflow?
[2012-11-06 22:14:37 -0500] timsmith: jtimberman: I do what I can
[2012-11-06 22:14:43 -0500] timsmith: jtimberman:  Keeping you guys busy
[2012-11-06 22:15:10 -0500] willejs: how can i combine the cookbook on github with the cookbooks I'm downloading and installing using knife?
[2012-11-06 22:15:17 -0500] willejs: knife will complain if i just clone it no?
[2012-11-06 22:15:47 -0500] jblaine: no, it will not complain
[2012-11-06 22:15:47 -0500] flaccid: mobilemike: definititely
[2012-11-06 22:15:59 -0500] willejs: okay cheers
[2012-11-06 22:16:01 -0500] jblaine: just snarf it down via git and rename it something
[2012-11-06 22:16:18 -0500] jblaine: if you want both at the same time to mess around with
[2012-11-06 22:16:19 -0500] mobilemike: Okay, I think i got the wrong impression that it was one way or the other. Thanks for the help!
[2012-11-06 22:16:33 -0500] flaccid: sweet as mobilemike
[2012-11-06 22:17:07 -0500] jtimberman: timsmith: :-)
[2012-11-06 22:17:19 -0500] yfeldblum: mobilemike, no need to put your own cookbooks from your repo (in site-cookbooks) in the Cheffile
[2012-11-06 22:17:31 -0500] yfeldblum: mobilemike, just add the to your knife config file in .chef/knife.rb
[2012-11-06 22:18:09 -0500] mobilemike: I'm trying to do as much as I can that will "just work" when the next dev needs to check out the chef-repo and start using it.
[2012-11-06 22:18:09 -0500] flaccid: yeah it kind of depends what you are doing with librarian and if you are doing chef solo or not
[2012-11-06 22:18:37 -0500] behemphi1: @mobilemike the way I landed on is that I get the stuff I need for my stack installed (mysql, apache, python, rabbitmq) from the community cookbooks
[2012-11-06 22:18:49 -0500] behemphi1: then I write a cookbook to install my app.  In that I do the "private stuff"
[2012-11-06 22:19:10 -0500] flaccid: i don't see an issue with adding a private git repos to Cheffile
[2012-11-06 22:19:12 -0500] mobilemike: Hosted chef, and I started with librarian because it made sense to me as a rails dev (Used to a Gemfile and Gemfile.lock workflow)
[2012-11-06 22:19:37 -0500] Litex_: Berkshelf is also worthy of investigation.
[2012-11-06 22:20:14 -0500] mobilemike: Yea, berkshelf got a bit confusing. Seemed more about helping with cookbook creation than management, but I could have missed something in there.
[2012-11-06 22:20:43 -0500] mobilemike: Thanks for all the help guys!
[2012-11-06 22:20:50 -0500] flaccid: you prolly just want knife unless you are doing local dev/test mobilemike
[2012-11-06 22:21:46 -0500] mobilemike: Well, I am testing using vagrant, just because it's cheaper than testing in EC2 (although, EC2 is pretty cheap)
[2012-11-06 22:22:18 -0500] flaccid: mobilemike: if you have a look at the README.md of that link i gave you this is exactly what i do
[2012-11-06 22:22:31 -0500] Litex: Berkshelf does have a very nice Vagrant-friendly workflow.  I can't speak to Librarian on that front.
[2012-11-06 22:23:07 -0500] flaccid: i guess this somewhat outlines my workflow with librarian and vagrant https://github.com/rightscale-blueprints/linux_server
[2012-11-06 22:23:13 -0500] mobilemike: @flaccid, thanks I'll check that out.
[2012-11-06 22:23:18 -0500] Litex: Makes dependent cookbook gathering and chef-solo testing quick and easy.
[2012-11-06 22:23:32 -0500] flaccid: i heart librarian
[2012-11-06 22:24:22 -0500] Litex: mobilemike: As an alternate data point from the Berkshelf side.  http://vialstudios.com/guide-authoring-cookbooks.html
[2012-11-06 22:25:22 -0500] mobilemike: Seen that, was a bit much for me right now. I'm really just doing: community cookbooks + necessary customizations right now.
[2012-11-06 23:08:18 -0500] c_t: oof
[2012-11-06 23:08:22 -0500] c_t: Obama posted again on reddit
[2012-11-06 23:08:56 -0500] JasonF: c_t: link?
[2012-11-06 23:09:23 -0500] c_t: http://www.reddit.com/r/politics/comments/12r7yb/reddit_this_is_important/
[2012-11-06 23:14:59 -0500] jtimberman: c_t: lmao: I'm British so obviously can't vote. Although if Romney wins rest assured we'll send redcoats.
[2012-11-06 23:15:11 -0500] jtimberman: We know what happened last time they did that! ;)
[2012-11-06 23:16:12 -0500] flaccid: hehe
[2012-11-06 23:16:57 -0500] erikh: jtimberman: what?!
[2012-11-06 23:17:43 -0500] erikh: if you're a brit I'm an arab
[2012-11-06 23:18:22 -0500] miah: i'm a brat and you're drab
[2012-11-06 23:18:27 -0500] Babar: erikh: he was quoting the first comment of the Reddit post
[2012-11-06 23:18:41 -0500] erikh: oh
[2012-11-06 23:18:43 -0500] erikh: ha
[2012-11-06 23:18:46 -0500] jtimberman: erikh: it was a comment.
[2012-11-06 23:18:46 -0500] erikh: that's what I get for not reading the scrollback
[2012-11-06 23:18:50 -0500] jtimberman: haha
[2012-11-06 23:19:01 -0500] flaccid: britain is a contry arabia is not
[2012-11-06 23:19:09 -0500] flaccid: *country
[2012-11-06 23:19:11 -0500] c_t: jtimberman: they burned down the White House, remember?
[2012-11-06 23:19:19 -0500] jtimberman: c_t: I don't remember. I wasn't there.
[2012-11-06 23:19:47 -0500] c_t: "How many War of 1812 veterans does it take to screw in a lightbulb?"
[2012-11-06 23:19:57 -0500] otterley: anyone know why "shef -z" doesn't seem to correctly populate a host's node object?
[2012-11-06 23:20:07 -0500] c_t: "YOU'LL NEVER KNOW! YOU WEREN'T THERE!!!"
[2012-11-06 23:20:24 -0500] otterley: chef-client --why-run works fine...
[2012-11-06 23:21:01 -0500] otterley: in the node object the recipe's defaults seem to be there, but none of the default_attributes declared in the host's roles
[2012-11-06 23:21:09 -0500] otterley: (or the roles they include)
[2012-11-06 23:21:51 -0500] Babar: flaccid: technically, Britain is not a country.
[2012-11-06 23:22:00 -0500] c_t: yeah
[2012-11-06 23:22:09 -0500] c_t: over there, they call it "chips"
[2012-11-06 23:22:11 -0500] otterley: one thing I see is:
[2012-11-06 23:22:26 -0500] flaccid: Babar: good point. i guess i meant nationality as opposed to race?
[2012-11-06 23:22:31 -0500] Babar: it's a state, made of 4 countres.
[2012-11-06 23:22:31 -0500] yfeldblum: Arabia is a country ... currently named Sa'udi Arabia because the current tyrant in power is named Sa'ud
[2012-11-06 23:22:39 -0500] Babar: *countries.
[2012-11-06 23:22:50 -0500] flaccid: but its not a true continent
[2012-11-06 23:23:02 -0500] flaccid: i stand corrected here, but hopefully someone got my point
[2012-11-06 23:23:07 -0500] c_t: Babar: then there's weird things like Man and the Channel Islands
[2012-11-06 23:23:09 -0500] yfeldblum: Babar, then the US is a state made of 50 countries?
[2012-11-06 23:23:12 -0500] otterley: INFO: Run List expands to [x, y] where x and y are cookbooks but not the other roles that are included by the node's run list
[2012-11-06 23:23:21 -0500] c_t: and, one of my personal favorites, Berwick-upon-Tweed
[2012-11-06 23:23:40 -0500] Babar: yfeldblum: no, it's a country made of 50 states :)
[2012-11-06 23:24:13 -0500] flaccid: i believe a common umbrella term is mincronations
[2012-11-06 23:24:15 -0500] flaccid: err *micronations
[2012-11-06 23:24:27 -0500] flaccid: i'm a bit behind with my geography,histroy and current affairs :)
[2012-11-06 23:24:28 -0500] c_t: Micronations refers to stuff like Sealand
[2012-11-06 23:24:45 -0500] c_t: or even less legit outfits like the Republic of Melchizedek
[2012-11-06 23:24:53 -0500] Babar: I would more use Monaco, Luxembourg, Andorra and San Marino for micro nations, but ok
[2012-11-06 23:24:55 -0500] flaccid: there is also things like independent states within a country
[2012-11-06 23:25:43 -0500] Babar: hum... this Luxembourg was supposed to be Liechtenstein, my bad
[2012-11-06 23:26:19 -0500] flaccid: well at least your country didn't waste $40M to go on the UN sec council
[2012-11-06 23:26:22 -0500] Babar: waiting for the election polls to show up... I thought there were supposed to start coming in at 11pm
[2012-11-06 23:28:26 -0500] JasonF: Babar: the first polls in US close in 30m, if my timezone math is correct.
[2012-11-06 23:28:56 -0500] Babar: and they do not disclose polls beforehand?
[2012-11-06 23:29:01 -0500] Babar: not even in Canada or something?
[2012-11-06 23:31:20 -0500] JasonF: Babar: They have statistical polling results, but there are 0 actual election results released for a given state until that state's polls are closed
[2012-11-06 23:32:38 -0500] Babar: yes, but normally you get polling results at the exit of the ballots, which gives a much better estimate
[2012-11-06 23:32:41 -0500] Babar: and I haven't seen any of those
[2012-11-06 23:32:49 -0500] Babar: (haven't looked much I have to say)
[2012-11-06 23:36:50 -0500] Babar: JasonF: a friend on the East coast says 1.5h
[2012-11-06 23:37:04 -0500] Babar: so... I'll get the results tomorrow (as that means I should fetch my charger, and I cba)
[2012-11-06 23:37:49 -0500] JasonF: Babar: on MSNBC they've been saying over and over that polls for VA close at 7pm EST. It's 3:30-ish PST... so it's only 30m away. Not all states in the US have the same voting laws, so it's very possible (and very likely) that there are east coast states that have 1.5 or even 2.5 hours left.
[2012-11-06 23:38:20 -0500] miah: ya. we won't have a really good answer until ~9pm PST or later.
[2012-11-06 23:38:38 -0500] Babar: ah, and VA is a swing state :)
[2012-11-06 23:39:01 -0500] miah: fwiw. http://election.princeton.edu/ not to derail from #chef too much
[2012-11-06 23:39:43 -0500] gchristensen: also everyone in line gets to cast their vote
[2012-11-06 23:41:35 -0500] c_t: miah: Uh, making it relate to chef some, I've made lots of use of chef to ride through the election
[2012-11-06 23:41:40 -0500] c_t: that's sort of on-topic
[2012-11-06 23:42:55 -0500] miah: hah
[2012-11-06 23:44:35 -0500] jtimberman: c_t: which is awesome
