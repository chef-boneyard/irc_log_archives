[2012-09-15 00:01:15 -0400] Pushnell: paulmooring: I was wrong, I accidentally grokked FC016 backwards.  However, there's no mention of default_action at http://wiki.opscode.com/display/chef/Lightweight+Resources+and+Providers+%28LWRP%29#LightweightResourcesandProviders%28LWRP%29-DefaultAction
[2012-09-15 00:01:40 -0400] paulmooring: Pushnell: thanks I'll update the wiki :)
[2012-09-15 00:02:13 -0400] Pushnell: paulmooring: nice.  would you generally be the correct person to whine to in IRC about the wiki? ;)
[2012-09-15 00:02:46 -0400] paulmooring: well I work for Opscode on the support team so I'm certainly one of the appropriate people
[2012-09-15 00:04:05 -0400] Pushnell: ah, ok.  well, thanks for updating that.  I'll mention your nick if I find anything else.
[2012-09-15 00:04:16 -0400] paulmooring: sure anytime
[2012-09-15 00:04:38 -0400] Pushnell: whine-o ?
[2012-09-15 00:04:42 -0400] paulmooring: you could op me and people would likely whine to me more often
[2012-09-15 00:05:58 -0400] ssd7: Maybe I can op you
[2012-09-15 00:17:28 -0400] paulmooring: http://wiki.opscode.com/display/chef/Lightweight+Resources+and+Providers+%28LWRP%29#LightweightResourcesandProviders%28LWRP%29-DefaultAction
[2012-09-15 00:17:35 -0400] paulmooring: Pushnell: ^
[2012-09-15 00:18:52 -0400] Pushnell: paulmooring: danke
[2012-09-15 00:20:13 -0400] paulmooring: bitte
[2012-09-15 00:58:54 -0400] hoover_damm: Pushnell, also be aware that you can edit pages if you sign up for confluence
[2012-09-15 00:59:01 -0400] hoover_damm: so you can help keep the wiki up to date
[2012-09-15 01:00:17 -0400] paulmooring: hoover_damm: big +1 on that
[2012-09-15 01:15:04 -0400] Pushnell: hoover_damm: thanks, I'll get into that if I find more corrections
[2012-09-15 01:44:17 -0400] Axsuul: How do you guys log something to output?
[2012-09-15 01:45:26 -0400] Axsuul: I see `log` and I see `Chef::Log.info` for example
[2012-09-15 01:48:19 -0400] Pushnell: log "hey, you should #{node['action']}"
[2012-09-15 01:49:15 -0400] Axsuul: Pushnell: is that debug by default? how do you change the level
[2012-09-15 01:50:03 -0400] Pushnell: http://wiki.opscode.com/display/chef/Resources#Resources-Log
[2012-09-15 01:50:29 -0400] Pushnell: log("Nickleback!") { level :fatal }
[2012-09-15 01:50:50 -0400] Pushnell: default is info
[2012-09-15 01:51:03 -0400] Axsuul: Pushnell: thanks
[2012-09-15 01:51:21 -0400] Axsuul: Pushnell: Hmm also, do you happen to know why build-essential refers to node['platform_family'] ?
[2012-09-15 01:51:27 -0400] Axsuul: https://github.com/someara/build-essential-cookbook/blob/master/recipes/default.rb#L29
[2012-09-15 01:51:47 -0400] Axsuul: I do not see it in my node, I only see node['platform']
[2012-09-15 01:51:58 -0400] Pushnell: hrm.  to my knowledge, that attribute is set by ohai
[2012-09-15 01:52:19 -0400] Pushnell: so for example, centos and amazon would both come up as platform_family rhel
[2012-09-15 01:52:28 -0400] Pushnell: but I'm not much less noob than you
[2012-09-15 01:53:20 -0400] Axsuul: Pushnell: thanks, for some reason I don't see that here though, http://wiki.opscode.com/display/chef/Automatic+Attributes
[2012-09-15 01:53:52 -0400] Pushnell: rule #1: never trust the wiki
[2012-09-15 01:54:14 -0400] Pushnell: instead, learn how to debug.  (shef is a good starting point)
[2012-09-15 01:55:30 -0400] Pushnell: if you can get into shef you can do something like 'pp node.to_hash' which should print all node attributes
[2012-09-15 01:55:33 -0400] Axsuul: Pushnell: alright thanks
[2012-09-15 01:55:42 -0400] Axsuul: Pushnell: ya I did that already
[2012-09-15 01:56:19 -0400] Axsuul: Pushnell: The attributes I get coincides with taht wiki
[2012-09-15 01:56:25 -0400] Axsuul: Pushnell: and no platform_family.. weird
[2012-09-15 01:57:39 -0400] Pushnell: I'm not sure.  all of my chef experience is with chef-solo under vagrant, which might not match a "normal" environment.
[2012-09-15 01:57:53 -0400] Axsuul: Pushnell: taht's actually the same environment as mine :)
[2012-09-15 01:58:06 -0400] Axsuul: Pushnell: are you using littlechef or knife-solo to  proivision production stuff?
[2012-09-15 02:03:31 -0400] Pushnell: config.vm.provision :chef_solo do |chef|
[2012-09-15 02:16:32 -0400] Axsuul: Pushnell: when you provision, does it say INFO: *** Chef 0.X.X ***
[2012-09-15 02:18:43 -0400] Axsuul: NM
[2012-09-15 02:20:23 -0400] Pushnell: INFO: *** Chef 10.12.0 ***
[2012-09-15 02:26:56 -0400] Axsuul: Pushnell: having trouble upgrading that version vagrant uses.. mine is @ Chef 10.8.0...
[2012-09-15 02:31:10 -0400] Pushnell: http://downloads.vagrantup.com/tags/v1.0.4 comes with 10.12
[2012-09-15 02:31:31 -0400] Axsuul: Pushnell: it depends on what box you're usign I think
[2012-09-15 02:32:10 -0400] Axsuul: Screw it, I'm gonna create a new box
[2012-09-15 02:32:28 -0400] Pushnell: I suggest http://www.vagrantbox.es/
[2012-09-15 02:32:43 -0400] Pushnell: I'm using the cent 6.3 min box
[2012-09-15 02:42:49 -0400] Axsuul: thanks
[2012-09-15 03:27:21 -0400] makerbreaker: is there a disk usage recipe out there?
[2012-09-15 03:30:46 -0400] makerbreaker: nm
[2012-09-15 03:39:44 -0400] v1n3: Goood evening all.
[2012-09-15 03:40:04 -0400] v1n3: I'm looking for a working example of bluepill in the wild
[2012-09-15 03:41:24 -0400] v1n3: I'm stumped as to how to do a nice clean install of bluepill using http://community.opscode.com/cookbooks/bluepill and what it means under Usage.. "If the default directory locations"
[2012-09-15 03:41:40 -0400] v1n3: any help would be apprecaited
[2012-09-15 03:41:50 -0400] v1n3: or appreciated
[2012-09-15 03:48:35 -0400] hoover_damm: v1n3, is there a reason you don't want the defaults?
[2012-09-15 03:49:43 -0400] v1n3: I guess I'm not sure what the defaults are, I have this fancy ruby block with checks etc. But I'm not sure where that fits in.
[2012-09-15 03:50:20 -0400] v1n3: I'm also not seeing ubuntu under https://github.com/opscode-cookbooks/bluepill/tree/master/templates
[2012-09-15 03:50:46 -0400] hoover_damm: v1n3, https://github.com/opscode-cookbooks/bluepill/blob/master/attributes/default.rb#L32-L33
[2012-09-15 03:51:21 -0400] hoover_damm: lol yeah i know that always ..
[2012-09-15 03:51:27 -0400] hoover_damm: makes me put bluepill under runit
[2012-09-15 03:51:28 -0400] hoover_damm: tbh
[2012-09-15 03:51:52 -0400] hoover_damm: but i think the pattern is without those you just run bluepill?
[2012-09-15 03:52:01 -0400] hoover_damm: bluepill and loading pills is kind of weird anywho
[2012-09-15 03:52:22 -0400] v1n3: I want to keep a sinatra app running, what do you suggest?
[2012-09-15 03:52:26 -0400] hoover_damm: god is kind of similar but usually you see people dir.glob and load up the godfiles in a config file
[2012-09-15 03:52:40 -0400] v1n3: I was tempted away from god towards bluepill
[2012-09-15 03:52:42 -0400] hoover_damm: i would do bluepill but just start it under runit
[2012-09-15 03:52:53 -0400] hoover_damm: heh you can waffle for eons on that kinda stuff
[2012-09-15 03:53:16 -0400] v1n3: mmmm.. waffles
[2012-09-15 03:55:32 -0400] hoover_damm: when i was digging into nodejs when i worked at engine yard i got into forever
[2012-09-15 03:55:51 -0400] hoover_damm: too bad i couldn't make it do what i wanted
[2012-09-15 03:56:28 -0400] hoover_damm: monit, god and bluepill are the major users lately... runit, s6, systemd
[2012-09-15 03:56:29 -0400] hoover_damm: upstart
[2012-09-15 03:56:33 -0400] hoover_damm: are all other ways to keep it up
[2012-09-15 03:56:36 -0400] v1n3: ow
[2012-09-15 03:56:59 -0400] v1n3: daemontools was my old fav, any reason not to use that?
[2012-09-15 03:57:00 -0400] hoover_damm: there's nothing technically wrong with god
[2012-09-15 03:57:10 -0400] hoover_damm: runit or s6 pretty much take up it's spot
[2012-09-15 03:57:21 -0400] hoover_damm: runit's very similar (if not a mirror image in womeways)
[2012-09-15 03:57:33 -0400] hoover_damm: someways*
[2012-09-15 04:00:39 -0400] v1n3: err.. gentoo? https://github.com/opscode-cookbooks/runit/tree/master/templates
[2012-09-15 04:01:31 -0400] hoover_damm: v1n3, lol
[2012-09-15 04:01:36 -0400] hoover_damm: that's an awesome find i forgot about that
[2012-09-15 04:01:42 -0400] hoover_damm: v1n3, as a gentoo user I never use that init
[2012-09-15 04:02:32 -0400] hoover_damm: v1n3, fwiw that init is also provided by gentoo
[2012-09-15 04:02:36 -0400] hoover_damm: to make that pure irony
[2012-09-15 04:03:01 -0400] v1n3: I'm new to chef and to runit/god/bluepill
[2012-09-15 04:03:29 -0400] hoover_damm: v1n3, welcome to chef.  Most Opscode-cookbooks are a good example, but sometimes lack the fine refinement of practices we would want in hosting
[2012-09-15 04:03:38 -0400] v1n3: I don't care to be an *expert* on any one of these things, I just need a sinatra script to run and resume nicely
[2012-09-15 04:03:54 -0400] hoover_damm: v1n3, you will find search on github and the community site to be very useful.
[2012-09-15 04:04:40 -0400] v1n3: what should I be searching for? everything I've found to date is half baked implementations without context.
[2012-09-15 04:04:54 -0400] hoover_damm: you run into that a lot unfortunately
[2012-09-15 04:05:35 -0400] hoover_damm: v1n3, fwiw this is the most recent lwrp conversion of the runit cookbook i'm aware of https://github.com/jtimberman/cookbooks/tree/CHEF-154/runit
[2012-09-15 04:05:58 -0400] hoover_damm: v1n3, for ubuntu you don't need to worry about the templates/ directory
[2012-09-15 04:06:04 -0400] hoover_damm: it just works
[2012-09-15 04:06:51 -0400] v1n3: what does the example under usage even do?
[2012-09-15 04:07:05 -0400] v1n3: is chef-client a command in the path?
[2012-09-15 04:07:30 -0400] v1n3: or is it a label, or a file pointer?
[2012-09-15 04:07:31 -0400] hoover_damm: should be in /usr/bin
[2012-09-15 04:07:35 -0400] hoover_damm: so it should be in the path
[2012-09-15 04:07:56 -0400] v1n3: so I could replace that with "/bin/redis-cli /etc/redis.conf"
[2012-09-15 04:08:05 -0400] hoover_damm: v1n3, https://github.com/damm/graphite/tree/master/templates/default
[2012-09-15 04:08:18 -0400] hoover_damm: v1n3, my graphite cookbook uses runit so you can see my examples there
[2012-09-15 04:08:46 -0400] hoover_damm: runit_service "carbon-cache"
[2012-09-15 04:08:56 -0400] hoover_damm: then it looks for the templates called sv-carbon-cache
[2012-09-15 04:09:24 -0400] hoover_damm: https://github.com/damm/graphite/blob/master/templates/default/sv-carbon-cache-run.erb is for running https://github.com/damm/graphite/blob/master/templates/default/sv-graphite-log-run.erb
[2012-09-15 04:09:45 -0400] v1n3: ya, i didn't follow that naming convention until now
[2012-09-15 04:10:02 -0400] v1n3: this explanation really helps
[2012-09-15 04:10:04 -0400] hoover_damm: v1n3, the definition version basically is a slapshot to looking for templates
[2012-09-15 04:10:08 -0400] hoover_damm: v1n3, in your cookbook
[2012-09-15 04:10:17 -0400] hoover_damm: v1n3, i assume the lwrp works similar (haven't used it yet)
[2012-09-15 04:10:37 -0400] hoover_damm: lwrp is worth it if you want to actually notify the runit service (so you can restart via chef)
[2012-09-15 04:10:56 -0400] v1n3: so.. if I'm using redisio https://github.com/brianbianco/redisio/tree/master/templates/default
[2012-09-15 04:11:09 -0400] v1n3: there is no file here
[2012-09-15 04:11:20 -0400] hoover_damm: yep
[2012-09-15 04:11:26 -0400] v1n3: do I add one procedurally from my default cookbook?
[2012-09-15 04:11:33 -0400] v1n3: .. aka.. is that kosher?
[2012-09-15 04:11:35 -0400] hoover_damm: you'd need sv-redis-server.erb and sv-redis-server-log.erb
[2012-09-15 04:12:02 -0400] hoover_damm: if you use librarian this is where site-cookbooks comes in...
[2012-09-15 04:12:14 -0400] hoover_damm: because you really don't want to submodule it with your changes
[2012-09-15 04:12:15 -0400] hoover_damm: on top
[2012-09-15 04:12:50 -0400] hoover_damm: that is more personal and i'll leave that up to your imagination on how you want to fork and own the changes
[2012-09-15 04:13:31 -0400] hoover_damm: on that note i'm gonna take a walk... good luck v1n3
[2012-09-15 04:13:38 -0400] v1n3: https://github.com/applicationsonline/librarian = head goes boom
[2012-09-15 04:13:55 -0400] v1n3: thanks hoover, i'll be here when you get back
[2012-09-15 04:14:16 -0400] v1n3: maybe I can entice you with gifts from amazon for more specific recommendations
[2012-09-15 05:42:24 -0400] j|: ping
[2012-09-15 09:44:21 -0400] psykidellic: I am trying to install postgres with the opscode cookbook and I keep getting: uninitialized constant Chef::Recipe::Opscode - is it not supported on Ubuntu 12.04?
[2012-09-15 10:21:43 -0400] meineerde: psykidellic: you need to have the openssl cookbook available
[2012-09-15 11:06:50 -0400] specialsauce: ohai chefs
[2012-09-15 12:35:13 -0400] ukandrewtaylor: Hi all, is this a good place for hosted opscode chef questions?
[2012-09-15 12:37:37 -0400] specialsauce: hi. it is but very quiet today/out of office hours
[2012-09-15 12:38:31 -0400] ukandrewtaylor: okay great, thanks very much
[2012-09-15 12:45:27 -0400] v1n3: anyone out there interested in a paid training engagement?
[2012-09-15 12:45:46 -0400] ukandrewtaylor: receiving or delivering?
[2012-09-15 12:46:17 -0400] v1n3: clarification, I'm willing to pay someone to help me understand chef in light of my current requirements.
[2012-09-15 12:46:24 -0400] v1n3: Code review + architecture advisement.
[2012-09-15 12:46:54 -0400] ukandrewtaylor: ah, sorry, i thought you were offering training
[2012-09-15 12:47:28 -0400] v1n3: ukandrewtaylor are you in the same boat?
[2012-09-15 12:48:07 -0400] ukandrewtaylor: somewhat; I do believe I would benefit from some practical training, i'm just getting started really
[2012-09-15 12:53:22 -0400] ukandrewtaylor: i'm at the point where  i can get the basics working, but, I *think* i'm dealing with a bug in the opscode recipes and I need to work out how to troubleshoot / workaround etc
[2012-09-15 12:54:52 -0400] specialsauce: v1n3 - you can probably get a lot of help for free by just reading and posting on the mailing list etc. i think opscode might do consultancy and training too but no idea on rates
[2012-09-15 12:55:00 -0400] specialsauce: what are the issues you are both facing?
[2012-09-15 12:56:29 -0400] ukandrewtaylor: my specific problem is that apache2::mod_security seems broken; I can live with problems I just need to understand the problem of working out why it would be broken, how to raise a fix, where to find other people who will be using this recipe and having problems with. I can't even find the files on github at the moment
[2012-09-15 12:59:28 -0400] v1n3: What i've been cooking over the past few days leaves a bitter (brittle) taste in my mouth. I need an experienced cook to taste it and tell me what I'm missing.
[2012-09-15 13:02:09 -0400] specialsauce: v1n3: i guess you are unlucky enough to be working solo. i agree chef is so flexible that you can pickup bad usage patterns (or miss out on better ones) and that its hard to see what other chef users are doing
[2012-09-15 13:02:59 -0400] v1n3: I'm more than willing to compensate that cook for their time if they are willing to make biased and specific recommendations. :)
[2012-09-15 13:03:01 -0400] specialsauce: ukandrewtaylor: how new are you to chef and ruby? it should be relatively easy to fix a given cookbook or roll your own to perform the same tasks
[2012-09-15 13:03:59 -0400] ukandrewtaylor: I'm very new to both; i understand the principle, and, I can certainly write some bad ruby to install some packages / create some files etc. However there seems be a large gap between the basics, and, understanding the ospcode provided cookbooks.
[2012-09-15 13:04:37 -0400] specialsauce: v1n3: the most helpful answers I have seen on here have been from zts, BryanWB and yfeldblum historically. I'm not sure whether they would have time and inclination to undertake paid consultancy or not
[2012-09-15 13:41:56 -0400] mcgin|2: Anyone here able to help with a problem I have with the application/application_ruby cookbook?
[2012-09-15 13:42:30 -0400] mcgin|2: Getting this error -> [Sat, 15 Sep 2012 13:10:03 +0000] FATAL: Chef::Exceptions::FileNotFound: deploy_revision[basic-rails] (/vagrant/cookbooks/application/providers/default.rb line 122) had an error: Chef::Exceptions::FileNotFound: Cannot symlink /vagrant/rails2/shared/database.yml to /vagrant/rails2/releases/1364a4002a48ab1db68de96060b113e9c7395498/config/database.yml before migrate: Read-only f
[2012-09-15 13:43:26 -0400] mcgin|2: gist of my recipe -> https://gist.github.com/3727954
[2012-09-15 13:44:15 -0400] specialsauce: mcgin|2, i think that last bit of your paste says "read only filesystem"
[2012-09-15 13:44:42 -0400] mcgin|2: yes it does, but the destination is not read only
[2012-09-15 13:45:43 -0400] mcgin|2: chef has created that directory so should have access to it
[2012-09-15 13:47:34 -0400] mcgin|2: Looking over the detailed logs, I can see it pulls the app from git into the cached-copy directory, and it supposedly successfully copies it into the release directory, but I don't see anying in there
[2012-09-15 13:47:55 -0400] mcgin|2: just an empty directory
[2012-09-15 13:55:40 -0400] mcgin|2: Here's a full dump of the logfile -> https://gist.github.com/3728048
[2012-09-15 14:19:05 -0400] v1n3: given I'm trying to setup god via https://github.com/opscode-cookbooks/god
[2012-09-15 14:19:17 -0400] v1n3: Where do I put the god files?
[2012-09-15 14:19:39 -0400] v1n3: in the example, where is "myproj.god.erb"
[2012-09-15 14:21:06 -0400] v1n3: do I copy them to /etc/god/ earlier in my script?
[2012-09-15 14:24:34 -0400] specialsauce: v1n3: erb files are template files. i'm not familiar with god at all, but unless its a ruby project of some sort, chances are the erb file is a chef erb template file that goes in the templates dir in your cookbook
[2012-09-15 14:26:41 -0400] v1n3: So this template directory, is irrelevant https://github.com/opscode-cookbooks/god/tree/master/templates
[2012-09-15 14:27:50 -0400] v1n3: you may have just cleared my mental block...
[2012-09-15 14:54:49 -0400] ukandrewtaylor: Does anyone here build big infrastructure with chef? I'm currently building Ruby using RVM and it's taking ~25 minutes to provision a bare node. Just wondering how people got around this?
[2012-09-15 14:55:46 -0400] ukandrewtaylor: I say big infrastructure because if it was a one off I wouldn't mind so much, but, if I wanted to dynamically scale these nodes up and down dependent on resource requirements, I'll have to factor a 30 minute run-time to add a node.
[2012-09-15 15:17:53 -0400] countdigi: ive used the pattern of building out a custom ruby in /opt/ruby-{version} for a particular platform w/ necessary gems - then just tarball it and deploy on others - primitive but one way to do it
[2012-09-15 15:24:51 -0400] specialsauce: ukandrewtaylor: can't offer any advice i'm afraid, we use rpms and gems in a pretty big infra to get ruby on there, and our initial spin-up time is maybe 10 minutes including package installation, but we use local repos rather than calling out across the wobblewobblenet
[2012-09-15 15:25:35 -0400] ukandrewtaylor: yup, that's what I was thinking, you build an RPM of what you need then just package :install from your local repo
[2012-09-15 15:25:56 -0400] ukandrewtaylor: we're currently baking the version of ruby in to the base image
[2012-09-15 16:23:07 -0400] mcgin|2: Is there any reason why deploy_revision would not copy files from the cached_copy dir to the releases directory even though the logs indicate it has copied successfully?
[2012-09-15 17:15:03 -0400] mcgin|2: mmm, must have been a bug in chef 10.10, just upgraded to 10.14 and it's copying ocrrectly
[2012-09-15 18:33:34 -0400] mcgin|2: So the previous problem is resolved, but I'm now getting a wrong number of arguements error
[2012-09-15 18:33:45 -0400] mcgin|2: Anyone able to make any sense from this log file.... https://gist.github.com/84c50cc8721fbef158ae
[2012-09-15 18:37:26 -0400] mcgin|2: sorry that was a private gist.  Try this one -> https://gist.github.com/3729220
[2012-09-15 18:38:11 -0400] erikh: mcgin|2: you need to find line 138 in the resource deploy provider
[2012-09-15 18:38:22 -0400] erikh: and then walk backwards to your cookbook
[2012-09-15 18:38:39 -0400] erikh: in short: you probably exposed a bug but I don't have the time to research it all for you :)
[2012-09-15 18:39:06 -0400] mcgin|2: okay, let me see if I can find out anything
[2012-09-15 18:39:30 -0400] erikh: 'cause it's saturday, aka beer, pretzels, and whiskey day
[2012-09-15 18:42:04 -0400] mcgin|2: Line 138 -> deploy_provider = Chef::Platform.provider_for_resource(@deploy_resource)
[2012-09-15 18:42:16 -0400] mcgin|2: I'm guessing provider_for_resource needs some additional args
[2012-09-15 18:44:34 -0400] mcgin|2: Yep - def provider_for_resource(resource, action)
[2012-09-15 18:44:41 -0400] mcgin|2: now to figure out what the action arg is
[2012-09-15 19:30:13 -0400] addisonj: anyone point me in the direction of a tomcat7 cookbook?
[2012-09-15 19:31:53 -0400] bradgignac: you should be able to fork the opscode tomcat cookbook pretty easily
[2012-09-15 19:32:03 -0400] bradgignac: assuming there are newer packages available
[2012-09-15 19:33:02 -0400] bradgignac: probably not what you wanted to hear
[2012-09-15 19:33:04 -0400] bradgignac: addisonj: ^^
[2012-09-15 19:33:19 -0400] addisonj: yeah... i figured, was just hoping for one already prepared :)
[2012-09-15 21:18:03 -0400] mrafa: Hi, how do I call "knife node delete" plugin from another plugin ?
[2012-09-15 21:18:27 -0400] mrafa: I've followed the example that is given around defining name_args
[2012-09-15 23:35:49 -0400] manuel__: hello gentlemen
[2012-09-15 23:36:18 -0400] manuel__: my modifications to the run list of a node are not being picked up by chef-expander.  when I search for the node that has that particular role, i get nothing back.
[2012-09-15 23:36:31 -0400] manuel__: any pointers?  I checked chef expander and the clouster, they seem to be running fine
[2012-09-15 23:36:35 -0400] manuel__: and the log files don't tell me much
