[2012-01-23 10:58:00 -0500] nacer: ohai
[2012-01-23 10:59:00 -0500] matti: Ohai
[2012-01-23 11:09:00 -0500] lflux: ohai
[2012-01-23 12:15:00 -0500] BryanWB: Christoph Krybus around?
[2012-01-23 12:25:00 -0500] chaosdonkey: Hello
[2012-01-23 12:29:00 -0500] chaosdonkey: does anyone know if resources are executed in parallel in a recipe, or always sequentially?
[2012-01-23 12:38:00 -0500] BryanWB: chaosdonkey: sequentially
[2012-01-23 12:39:00 -0500] chaosdonkey: ok
[2012-01-23 12:40:00 -0500] BryanWB: but remember, all ruby code not in a resource is run before all the resources, unless u put inside a ruby_block resource
[2012-01-23 13:20:00 -0500] `brendan: morning
[2012-01-23 14:46:00 -0500] BryanWB: atomic-penguin: good morning!  I am trying to add a recipe for postgresql91 repo to your yumrepo
[2012-01-23 14:46:00 -0500] BryanWB: atomic-penguin: I am following those instructions u sent me months ago
[2012-01-23 14:46:00 -0500] atomic-penguin: BryanWB, I don't use pg, nDuff added that in there
[2012-01-23 14:46:00 -0500] BryanWB: atomic-penguin: my Q is unrelated to pg
[2012-01-23 14:46:00 -0500] atomic-penguin: 'k
[2012-01-23 14:47:00 -0500] BryanWB: atomic-penguin: thru the github ui, i can only send pull request to opscode afacit
[2012-01-23 14:47:00 -0500] BryanWB: cuz i forked from tehm
[2012-01-23 14:47:00 -0500] atomic-penguin: Right
[2012-01-23 14:48:00 -0500] atomic-penguin: I didn't send you instructions for development through the github ui
[2012-01-23 14:48:00 -0500] BryanWB: trying to figure out how to push to u
[2012-01-23 14:48:00 -0500] atomic-penguin: 1) set up a remote pointing at my branch
[2012-01-23 14:48:00 -0500] BryanWB: did those steps, but then got to "At which point you can proceed to do a pull request through the github Web UI."
[2012-01-23 14:48:00 -0500] atomic-penguin: 2) set up a tracking branch for my repo/remote
[2012-01-23 14:49:00 -0500] atomic-penguin: Oh
[2012-01-23 14:49:00 -0500] atomic-penguin: Okay, so you just push a new branch to your repo
[2012-01-23 14:49:00 -0500] BryanWB: done, now can't figure out how to push to u instead of opscode
[2012-01-23 14:51:00 -0500] atomic-penguin: Perhaps I'm incorrect
[2012-01-23 14:51:00 -0500] atomic-penguin: I can still merge a commit that you've pushed however
[2012-01-23 14:51:00 -0500] BryanWB: yes, u can add me as a remote
[2012-01-23 14:52:00 -0500] atomic-penguin: Guess I made an assumption
[2012-01-23 14:53:00 -0500] BryanWB: atomic-penguin: np,  u were great on the podcast btw, sorry i forgot to cut out that one section
[2012-01-23 14:53:00 -0500] atomic-penguin: BryanWB, so when you do a pull request on that branch, it goes to opscode?
[2012-01-23 14:53:00 -0500] BryanWB: yup
[2012-01-23 14:54:00 -0500] atomic-penguin: BryanWB, I don't like listening to myself, still haven't listened to it.  Afraid I stunk it up so bad even though that probably isn't true.
[2012-01-23 14:54:00 -0500] BryanWB: atomic-penguin: not true at all
[2012-01-23 14:54:00 -0500] hcastro: na, podcast was good -- i enjoyed it
[2012-01-23 14:54:00 -0500] BryanWB: hcastro: tks!
[2012-01-23 15:24:00 -0500] atomic-penguin: BryanWB, you could have just set an override for node["repo"]["postgresql"]["url"] = "http://yum.pgrpms.org/9.1/redhat/rhel-$releasever-$basearch" and used postgresql9
[2012-01-23 15:26:00 -0500] BryanWB: maybe it is stupid of me, but I find it easier just to use a different recipe, esp, since I will be using 9.0 on some servers and 9.1 on others
[2012-01-23 15:26:00 -0500] atomic-penguin: BryanWB, right on, I'll parameterize it into attributes and push it
[2012-01-23 15:26:00 -0500] BryanWB: tks
[2012-01-23 15:40:00 -0500] atomic-penguin: BryanWB, https://github.com/atomic-penguin/cookbooks/commit/c3b813d27be311353f790a3003cd3005775817e9
[2012-01-23 15:40:00 -0500] BryanWB: atomic-penguin: perfect , tks
[2012-01-23 15:42:00 -0500] yfeldblum: does yum do the $variable interpolation in the url?
[2012-01-23 15:44:00 -0500] atomic-penguin: yfeldblum, yar
[2012-01-23 15:44:00 -0500] atomic-penguin: yfeldblum, for like $basearch and such
[2012-01-23 15:55:00 -0500] moos3: i have a question does anyone have a example of deploying code from svn to server using a role ?
[2012-01-23 15:55:00 -0500] atomic-penguin: deploy?
[2012-01-23 15:55:00 -0500] bawt: deploy is http://wiki.opscode.com/display/chef/Deploy+Resource
[2012-01-23 15:57:00 -0500] moos3: i have been looking at that but i'm trying to figure out how a set the svn_username svn_password when i execute my knife command to do the role
[2012-01-23 16:01:00 -0500] lflux: shot in the dark but what about svn://user:password@host/path/to/repo /
[2012-01-23 16:01:00 -0500] lflux: ?
[2012-01-23 16:02:00 -0500] moos3: yeah i just dont want to code that user:pass hard into the recipe
[2012-01-23 16:04:00 -0500] lflux: Set it in a databag or node property maybe?
[2012-01-23 16:05:00 -0500] lflux: that's the way the postgresql recipe does for the database passwsord
[2012-01-23 16:05:00 -0500] yfeldblum: there are many places to set it - you can set it directly on the node using `EDITOR=vim knife node edit NODE`, you can set it on an environment (the _default environment by default), you can use data bags
[2012-01-23 16:08:00 -0500] moos3: k
[2012-01-23 16:45:00 -0500] mostlygeek: hi
[2012-01-23 16:45:00 -0500] mostlygeek: has anybody ever used the chef app deployment stuff?
[2012-01-23 16:45:00 -0500] jtimberman: mostlygeek: I have :)
[2012-01-23 16:46:00 -0500] jtimberman: Whats up?
[2012-01-23 16:46:00 -0500] ranjibd: jtimberman?
[2012-01-23 16:46:00 -0500] bawt: jtimberman is an Opscode employee, likes cookbooks and Chef training, and long walks on the beach.
[2012-01-23 16:46:00 -0500] mostlygeek: i use it as part of a role, and when i want to update my app, it runs through all the recipes, including those that restart services (conf creation)
[2012-01-23 16:46:00 -0500] mostlygeek: from templates, was wondering if i could just run it by itself, that seems to make more sense
[2012-01-23 16:47:00 -0500] mostlygeek: what is the design philosophy behind it? is that how it is supposed to be used?
[2012-01-23 16:47:00 -0500] mostlygeek: bawt: thanks :D
[2012-01-23 16:47:00 -0500] jtimberman: mostlygeek: to confirm, you're talking about our application cookbook? ckbk.it/application
[2012-01-23 16:48:00 -0500] mostlygeek: jtimberman: the deploy resource
[2012-01-23 16:48:00 -0500] mostlygeek: http://wiki.opscode.com/display/chef/Deploy+Resource
[2012-01-23 16:48:00 -0500] jtimberman: ah
[2012-01-23 16:48:00 -0500] mostlygeek: maybe the same thing?
[2012-01-23 16:48:00 -0500] jtimberman: i didn't write *that* part :). but i've used it.
[2012-01-23 16:50:00 -0500] jtimberman: the application cookbook makes use of the deploy resource in order to do the application deployment for rails and django apps (since they are deployed similarly)
[2012-01-23 16:50:00 -0500] jtimberman: either way, the intention is that you're managing the application deployment tightly with the rest of the system configuration; the system end state is it should be serving the application.
[2012-01-23 16:51:00 -0500] mostlygeek: ok, so the intention is to just run chef-client and let it do it's thing?
[2012-01-23 16:52:00 -0500] jtimberman: Yes :)
[2012-01-23 16:52:00 -0500] mostlygeek: cool thanks
[2012-01-23 17:10:00 -0500] l1x: morning
[2012-01-23 17:17:00 -0500] brett_h: is it possible to do a compound search, like an AND, in a chef recipe? e.g. search for nodes that are this role AND in this availability zone
[2012-01-23 17:18:00 -0500] bourke: Can I use attributes as values for other attributes in attribute files?
[2012-01-23 17:20:00 -0500] jchome: inception?
[2012-01-23 17:21:00 -0500] l1x: i am getting this error on centos 6.1  FATAL: Chef::Exceptions::CookbookNotFound: Cookbook yum not found. If you're loading yum from another cookbook, make sure you configure the dependency in your metadata
[2012-01-23 17:21:00 -0500] l1x: chef (0.10.8)
[2012-01-23 17:21:00 -0500] bourke: jchome: :)
[2012-01-23 17:21:00 -0500] mleinart: l1x: make sure you have the dependenc on the yum cookbook in your metadata.rb 'depends yum'
[2012-01-23 17:22:00 -0500] bourke: basically I want to have something like default[:foo] = node[:bar]
[2012-01-23 17:22:00 -0500] l1x: this is during the bootstrap
[2012-01-23 17:22:00 -0500] bourke: but node[:bar] is show up as #<Chef::Node::Attribute:0x7f1cc9422d08> in templates..
[2012-01-23 17:22:00 -0500] mleinart: l1x: oh hm, sorry not familiar with the redhat bootstraps..
[2012-01-23 17:22:00 -0500] l1x:  rvmsudo chef-solo -c /etc/chef/solo.rb -j ~/chef.json -r http://s3.amazonaws.com/chef-solo/bootstrap-test-20120113.tar.gz
[2012-01-23 17:23:00 -0500] jchome: bourke: makes not much sense
[2012-01-23 17:26:00 -0500] jtimberman: bourke: use include_attribute
[2012-01-23 17:26:00 -0500] bourke: jtimberman: can I do that in an attribute file though? Or does it have to be initialised in a recipe then..
[2012-01-23 17:26:00 -0500] jtimberman: l1x: note that bootstrap is still testing and not fully released.
[2012-01-23 17:26:00 -0500] jtimberman: bourke: include_attribute is used in attributes files.
[2012-01-23 17:26:00 -0500] jtimberman: by the time you're in a recipe all the attributes are loaded.
[2012-01-23 17:26:00 -0500] l1x: jtimberman: what should i use instead?
[2012-01-23 17:27:00 -0500] mconigliaro: hey guys, if i have a bunch of "notifies" attributes in a resource, are those guaranteed to always be executed in the same order?
[2012-01-23 17:27:00 -0500] jtimberman: bourke: all the attributes files are loaded when Chef runs, but they're loaded in alphabetical order by cookbook name.
[2012-01-23 17:27:00 -0500] jtimberman: mconigliaro: they'll be executed in the order they were notified.
[2012-01-23 17:28:00 -0500] mconigliaro: jtimberman: cool, thanks
[2012-01-23 17:28:00 -0500] jtimberman: mconigliaro: if not, that's a bug :)
[2012-01-23 17:28:00 -0500] rog_: Hi, can anyone tell me what might cause my chef server to return a 406 Not Accepted to a knife command?
[2012-01-23 17:28:00 -0500] mconigliaro: i figured thats how it would work. i just wanted to make sure
[2012-01-23 17:28:00 -0500] jtimberman: rog_: you can run knife with -VV to get debug level output
[2012-01-23 17:29:00 -0500] jtimberman: l1x: the 'bootstrap-latest' one is the last that was widely tested, but there have been updates to the cookbooks used since the last time it was released, and we haven't done a full round of testing yet. the bootstrap-test-20120113 one might work fine :)
[2012-01-23 17:30:00 -0500] l1x: :)
[2012-01-23 17:30:00 -0500] jtimberman: and by widely tested, i mean by us :D
[2012-01-23 17:31:00 -0500] l1x: alright, thanks
[2012-01-23 17:32:00 -0500] rog_: jtimberman - thanks, my error is not a 401 which seems more sensible but doesn't get me working :-(
[2012-01-23 17:32:00 -0500] rog_: *now* a 401
[2012-01-23 17:33:00 -0500] c_t: does the 401 say anything interesting?
[2012-01-23 17:33:00 -0500] jtimberman: Either the client name or key is incorrect :)
[2012-01-23 17:33:00 -0500] c_t: can't the time thing also cause that?
[2012-01-23 17:34:00 -0500] jtimberman: That too
[2012-01-23 17:34:00 -0500] c_t: the clock's the first place I look
[2012-01-23 17:34:00 -0500] rog_: I'm synced to time.apple.com and a colleague who is synced to same time server can access the server.
[2012-01-23 17:34:00 -0500] rog_: we regenerated the key...
[2012-01-23 17:34:00 -0500] rog_: Does this only use my rog.pem key specified in the knife.rb file or should I look at other keys?
[2012-01-23 17:35:00 -0500] jtimberman: what knife command are you using?
[2012-01-23 17:35:00 -0500] rog_: knife  client list -VV
[2012-01-23 17:35:00 -0500] rog_: but the error is reproducible across all commands
[2012-01-23 17:36:00 -0500] jtimberman: sure
[2012-01-23 17:36:00 -0500] jtimberman: the only command that uses a different .pem is 'bootstrap', which copies the validation key over to the target node.
[2012-01-23 17:52:00 -0500] bourke: jtimberman: having a little trouble getting it to work.. say you have an attribute called default[:a][:b] = "hello" and you want to use that in another attribute file.. what would the syntax be?
[2012-01-23 17:52:00 -0500] jtimberman: node[:a][:b]
[2012-01-23 17:53:00 -0500] bourke: so include_attribute node[:a][:b] ?
[2012-01-23 17:53:00 -0500] jtimberman: no
[2012-01-23 17:53:00 -0500] jtimberman: include_attribute "cookbook_that_attribute_is_in"
[2012-01-23 17:56:00 -0500] bourke: no matter what combination I try Im still getting #<Chef::Node::Attribute:0x7fcf7155e180> output as the value
[2012-01-23 18:00:00 -0500] rog_: Thanks for the time guys. I guess I'll recreate my env from scratch and check again.
[2012-01-23 18:03:00 -0500] bourke: jtimberman: does it make a difference if I mention the attribute im trying to load is in the same cookbook as the one Im working in?
[2012-01-23 18:03:00 -0500] bourke: so if I say include_attribute "glance" from the glance cookbook, its only including the ones its read up until that point?
[2012-01-23 18:03:00 -0500] chaosdonkey: Hi, is it possible to know in a recipe whether I'm running chef-client or chef-solo?
[2012-01-23 18:07:00 -0500] jtimberman: chaosdonkey: Chef::Config[:solo] will be true only if you're running chef-solo
[2012-01-23 18:07:00 -0500] jtimberman: bourke: then you don't need include_attribute, i thoguht you were referring to an attribute in another cookbook.
[2012-01-23 18:08:00 -0500] chaosdonkey: ah nice
[2012-01-23 18:08:00 -0500] chaosdonkey: I wrote an adaptation of application cookbook for chef-solo
[2012-01-23 18:08:00 -0500] chaosdonkey: and I wanted to execute one or another according to chef-solo or chef-client
[2012-01-23 18:09:00 -0500] chaosdonkey: so that it's compatible with both
[2012-01-23 18:09:00 -0500] bourke: jtimberman: so then in an attribute file, should the following work? default[:glance][:api][:auth_host] = node[:glance][:auth_host]
[2012-01-23 18:10:00 -0500] jtimberman: bourke: as long as node[:glance][:auth_host] was defined first.
[2012-01-23 18:10:00 -0500] bourke: jtimberman: ok, it is definied in another attributes file, in the same cookbook
[2012-01-23 18:12:00 -0500] jtimberman: ah
[2012-01-23 18:12:00 -0500] jtimberman: well then.
[2012-01-23 18:12:00 -0500] jtimberman: what are the file names?
[2012-01-23 18:13:00 -0500] jtimberman: because those are loaded in alphabetical order.
[2012-01-23 18:13:00 -0500] bourke: aha!
[2012-01-23 18:13:00 -0500] bourke: the one im trying to access is in defaults.rb
[2012-01-23 18:13:00 -0500] jtimberman: they *all* get loaded
[2012-01-23 18:13:00 -0500] bourke: and the one where Im trying to access it is api.rb
[2012-01-23 18:13:00 -0500] jtimberman: so it doesn't really matter to put them in separate files.
[2012-01-23 18:13:00 -0500] bourke: so api.rb must be getting loaded before default?
[2012-01-23 18:13:00 -0500] jtimberman: yes
[2012-01-23 18:16:00 -0500] bourke: jtimberman: finally working
[2012-01-23 18:16:00 -0500] bourke: thanks a million
[2012-01-23 18:20:00 -0500] bourke: actually, for some reason its working in the api.rb file, but another file, registry.rb it's showing up blank, even though api.rb should have already been loaded with the value
[2012-01-23 18:23:00 -0500] jtimberman: honestly i'd put em all in one file. :)
[2012-01-23 18:26:00 -0500] dwhsix: any way to get the output of a script resource's execution?  I added 'flags "-v"' (it's bash) but didn't help...
[2012-01-23 18:29:00 -0500] JasonBox: hrm, I notice solo can take a url for its json_attribs; Is it one shot, or does it try to download it each time solo is run?
[2012-01-23 18:38:00 -0500] jtimberman: JasonBox: each time solo runs
[2012-01-23 18:38:00 -0500] jtimberman: JasonBox: if you configure that in /etc/chef/solo.rb
[2012-01-23 18:45:00 -0500] hcastro: does anyone know if a ohai elastic ip detection plugin exists?
[2012-01-23 18:45:00 -0500] JasonBox: jtimberman: where 'that' would be json_attribs in my solo.rb, yes?
[2012-01-23 18:46:00 -0500] jtimberman: JasonBox: yes
[2012-01-23 18:47:00 -0500] JasonBox: jtimberman: cool, thanks!
[2012-01-23 18:48:00 -0500] dwhsix: does chef-client clean up after itself in case of error?  weird logs say a remote_file is being downloaded correctly, but after chef-client runs, the file's not there...
[2012-01-23 18:48:00 -0500] dwhsix: yes, there is an error in a later step
[2012-01-23 18:48:00 -0500] dwhsix: but unrelated error so I'm sorta baffled
[2012-01-23 18:49:00 -0500] dwhsix: argh never mind
[2012-01-23 18:49:00 -0500] dwhsix: just realized what's happening; my error
[2012-01-23 18:52:00 -0500] jtimberman: dwhsix: you can write into your recipe some kind of cleanup based on an error happening, but chef doesn't do that automatically
[2012-01-23 18:53:00 -0500] dwhsix: jtimberman: thanks as you saw, it turned out to be user error...
[2012-01-23 18:53:00 -0500] jtimberman: sure :)
[2012-01-23 18:58:00 -0500] JasonBox: hrm, is there a yum install @package-group for package resource?
[2012-01-23 19:01:00 -0500] vluther: so i'm trying to run knife bootstrap ipaddress -xroot -psupersecrer -c .chef/bootstrap.rb --template-file .chef/bootstrap/centos6-gems.rb  .. when i execute that, i get an error about not finding a boostrap definition for ubuntu10.04gems
[2012-01-23 19:11:00 -0500] hcastro: vluther: try --distro centos6-gems
[2012-01-23 19:12:00 -0500] hcastro: vluther: also i think you want centos6-gems.erb not rb
[2012-01-23 19:13:00 -0500] vluther: checking
[2012-01-23 19:13:00 -0500] vluther: ahh it needed the .erb
[2012-01-23 19:14:00 -0500] vluther: i had the filename wrong
[2012-01-23 19:14:00 -0500] dwhsix: I assume running chef-client as root is is a best practice, yes?  or should I not?
[2012-01-23 19:15:00 -0500] jbz: dwhsix: Best practice.  It needs to be root to do its magic.
[2012-01-23 19:15:00 -0500] dwhsix: yeah, figured.  just checking.  thx
[2012-01-23 19:15:00 -0500] jbz: (or at least have root privs, but things are much much less complex if it runs as a root service.)
[2012-01-23 19:44:00 -0500] damienj: hello!
[2012-01-23 19:44:00 -0500] jbz: Greetings.
[2012-01-23 19:45:00 -0500] damienj: Man, totally just hosed up my system by accident trying to port an old recipe which ran "gem update --system" unintentionally... oridnarly I would wipe machine and rebuild, but I am pressed for time today, wondering if there is something I can do to revert back?
[2012-01-23 19:45:00 -0500] damienj: Getting "Could not find chef (>= 0) amongst [] (Gem::LoadError)"
[2012-01-23 19:45:00 -0500] damienj: now :(
[2012-01-23 19:45:00 -0500] damienj: on trying to run knife
[2012-01-23 19:54:00 -0500] ranjibd: damienj, try gem install chef
[2012-01-23 19:56:00 -0500] ranjibd: damienj, you can also try "gem install rubygems-update" -v <version you want to revert back to>
[2012-01-23 19:56:00 -0500] damienj: ranjibd, ty I will give that try :)
[2012-01-23 19:56:00 -0500] ranjibd: and then invoke update_rubygems
[2012-01-23 19:56:00 -0500] ranjibd: http://docs.rubygems.org/read/chapter/3#page14
[2012-01-23 19:57:00 -0500] damienj: ranjibd, again much thanks
[2012-01-23 20:02:00 -0500] damienj: ranjibd, thank you so much: doing " sudo gem install chef" fixed me up :)
[2012-01-23 20:03:00 -0500] ranjibd: damienj, welcome.
[2012-01-23 21:10:00 -0500] moos3: anyone have a good article for bootstraping a chef-server ?
[2012-01-23 21:12:00 -0500] jtimberman: moos3: http://wiki.opscode.com/display/chef/Installing+Chef+Server
[2012-01-23 21:13:00 -0500] moos3: i take no one uses rhel in the chef world
[2012-01-23 21:13:00 -0500] damienj: moos3: i just went through setting up chef on rhel5.x
[2012-01-23 21:13:00 -0500] jtimberman: loads of folks use rhel
[2012-01-23 21:14:00 -0500] moos3: damienj I'm moving my servers from physical to ec2 so i'm trying to plan out my arch and trying to automate as much as i can with chef
[2012-01-23 21:14:00 -0500] statix: Is it possible to conditionally require_recipe in a recipe, eg. require a recipe is an specific attribute is set?
[2012-01-23 21:15:00 -0500] damienj: moos3, I think the shortcut is to just install rbel5 "sudo rpm -Uvh http://rbel.frameos.org/rbel5"  and then you can pretty much do a "sudo yum install rubygem-chef-server"
[2012-01-23 21:15:00 -0500] jtimberman: statix: certainly
[2012-01-23 21:15:00 -0500] damienj: moos3, that's funny I just converted away from EC2 back to physical ;) ships passing in the night....
[2012-01-23 21:16:00 -0500] jtimberman: statix: include_recipe "mything" if node['mything'] == "include the recipe please"
[2012-01-23 21:16:00 -0500] jtimberman: or something
[2012-01-23 21:16:00 -0500] damienj: moos3, not my choice of course I am sure you understand, "ours is to do an die, not to wonder why"
[2012-01-23 21:16:00 -0500] damienj: :)
[2012-01-23 21:16:00 -0500] statix: jtimberman: Thanks, that's nice :)
[2012-01-23 21:16:00 -0500] jtimberman: statix: thats the single line convention used by many rubyists.
[2012-01-23 21:16:00 -0500] yfeldblum: damienj, nevertheless, i am wondering why
[2012-01-23 21:17:00 -0500] yfeldblum: jtimberman, it is certainly cleaner than CPM + JNZ
[2012-01-23 21:17:00 -0500] yfeldblum: CMP + JNZ
[2012-01-23 21:17:00 -0500] fujin: *always* wonder why
[2012-01-23 21:17:00 -0500] moos3: damienj yea i know the feeling, we have a custom php build, and what not so now to figure out the nicest and cleanest way to handle ec2
[2012-01-23 21:18:00 -0500] jtimberman: yfeldblum: O.o
[2012-01-23 21:19:00 -0500] fujin: so CMP and JNZ walk into a bar
[2012-01-23 21:19:00 -0500] fujin: MOV is just sitting there, getting hammered
[2012-01-23 21:19:00 -0500] fujin: I forget the rest
[2012-01-23 21:21:00 -0500] moos3: can i pass role vars to a recipe ?
[2012-01-23 21:22:00 -0500] swill: I am setting up a recipe on one of my nodes and I get the following when I try to do chef-client.  How do I resolve this as I never call 'execute[slapadd]'?
[2012-01-23 21:22:00 -0500] swill: FATAL: Chef::Exceptions::ResourceNotFound: Cannot find a resource matching execute[slapadd] (did you define it first?)
[2012-01-23 21:23:00 -0500] statix: I think I'll be uploading this GlusterFS cookbook to the community site once it's polished ... working good and no others on the site
[2012-01-23 21:23:00 -0500] moos3: by chance does anyone have a elastic search recipe ?
[2012-01-23 21:24:00 -0500] damienj: yfeldblum, company I am working with has a large legacy global colo setup, guess the want to justify expense of running all of those machines and not want to keep sending Amazon $? who knows
[2012-01-23 21:24:00 -0500] swill: does anyone know why execute[slapadd] is being run when my recipe runs?  i do no such thing in my recipe.
[2012-01-23 21:26:00 -0500] tim1: question on data bags.  In Chef .9 I created a databag called authorization and then tried to load an item from a file via knife.  That item has the ID of ondemand
[2012-01-23 21:26:00 -0500] mostlygeek: has anybody ever used this S3 resource: https://gist.github.com/1351043, how would I install that into my local chef?
[2012-01-23 21:26:00 -0500] mostlygeek: or into my repo?
[2012-01-23 21:26:00 -0500] tim1: when I run knife data bag from file authorization DO.json I get the following error: ERROR: Server returned error for http://chef.devops.dmz:4000/data/authorization/ondemand, retrying 1/5 in 4s
[2012-01-23 21:27:00 -0500] jbz: swill:  If you look in /var/chef/cache/stacktrace.out (or something like that) on the node, it should give you a full stack trace for that error, including which file/cookbook called it.
[2012-01-23 21:29:00 -0500] swill: jbz: there is no reference to my recipe: http://pastebin.com/44i2UpHk
[2012-01-23 21:29:00 -0500] mostlygeek: oh nm: rtfm http://wiki.opscode.com/display/chef/Lightweight+Resources+and+Providers+%28LWRP%29
[2012-01-23 21:30:00 -0500] jbz: swill:  It looks like chef-client::default, on line 26, is calling swift-proxy-node::default?
[2012-01-23 21:30:00 -0500] jbz: Or something that chef-client is doing on line 26 is causing that call.
[2012-01-23 21:30:00 -0500] swill: jbz: yes, sorry that is being called.  i will check line 26.
[2012-01-23 21:31:00 -0500] jbz: Looks like it's line 22 of swift-proxy-node that's calling the eventual problem execute
[2012-01-23 21:31:00 -0500] jbz: (at least, seems to be to me, don't quote me on that :-) )
[2012-01-23 21:31:00 -0500] swill: jbz: thanks...
[2012-01-23 21:31:00 -0500] jbz: yw
[2012-01-23 21:38:00 -0500] swill: is it possible to make the following execute as soon as the current execute right away after the current execute is done?
[2012-01-23 21:38:00 -0500] swill: notifies :run, resources(:execute => "apt-update")
[2012-01-23 21:38:00 -0500] tpot:  add :immediately
[2012-01-23 21:38:00 -0500] tpot: notifies :run, resources(:execute => "apt-update"), :immediately
[2012-01-23 21:38:00 -0500] tpot: should do it
[2012-01-23 21:38:00 -0500] swill: :immediately => true?
[2012-01-23 21:38:00 -0500] swill: ok thanks
[2012-01-23 21:39:00 -0500] tpot: not sure about the => true part, i'd leave it off anyway
[2012-01-23 21:41:00 -0500] swill: tpot: what you put worked perfectly...  thanks.
[2012-01-23 21:42:00 -0500] tpot: np - it's a good trick to know
[2012-01-23 21:42:00 -0500] JasonBox: Indeed it is!
[2012-01-23 21:43:00 -0500] tpot: occasionally service restarts need to be run :immediately, but not often
[2012-01-23 21:44:00 -0500] paulw__: has anyone tried to install chef after installing RVM?
[2012-01-23 21:45:00 -0500] fujin: Yes.
[2012-01-23 21:45:00 -0500] fujin: try would imply varying degrees of success: i can assure you, there was no variance
[2012-01-23 21:45:00 -0500] paulw__: i dont know if im being an idiot but installed it as sudo on a new Linode instance
[2012-01-23 21:46:00 -0500] paulw__: added my user and root to rvm group
[2012-01-23 21:46:00 -0500] paulw__: am i missing something?
[2012-01-23 21:46:00 -0500] paulw__: havent needed to install rvm in awhile
[2012-01-23 21:46:00 -0500] paulw__: but i guess I dont need it come to think of it...
[2012-01-23 21:46:00 -0500] fujin: it sure does sound like you are missing something
[2012-01-23 21:47:00 -0500] fujin: try the chef full installer
[2012-01-23 21:47:00 -0500] fujin: it includes ruby and other stuff you probably don't understand
[2012-01-23 21:47:00 -0500] fujin: ready to go!
[2012-01-23 21:48:00 -0500] paulw__: sounds about right. the more i learn the less i understand
[2012-01-23 21:49:00 -0500] fujin: https://github.com/opscode/chef/blob/master/chef/lib/chef/knife/bootstrap/chef-full.erb
[2012-01-23 21:49:00 -0500] fujin: if you do something like
[2012-01-23 21:49:00 -0500] fujin: knife bootstrap -d chef-full <hostname>
[2012-01-23 21:49:00 -0500] fujin: I think that will work (I don't use it myself)
[2012-01-23 21:49:00 -0500] paulw__: does chef still use 1.8.7 instead of 1.9?
[2012-01-23 21:49:00 -0500] fujin: It will work on both.
[2012-01-23 21:49:00 -0500] fujin: either? both.
[2012-01-23 21:49:00 -0500] fujin: all of the rubies
[2012-01-23 21:49:00 -0500] fujin: many of the rubies?
[2012-01-23 21:50:00 -0500] paulw__: ha ok thanks.
[2012-01-23 21:50:00 -0500] fujin: I am not certain of any problems with rbx or jruby or anything like that
[2012-01-23 21:50:00 -0500] fujin: paulw__: the chef-full installer includes ruby, all the dependencies, blah blah
[2012-01-23 21:50:00 -0500] fujin: http://opscode.com/chef/install.sh
[2012-01-23 21:51:00 -0500] fujin: https://github.com/opscode/omnibus
[2012-01-23 21:52:00 -0500] paulw__: that is a crazy bash script
[2012-01-23 21:53:00 -0500] paulw__: fujin: Thanks for all the links
[2012-01-23 22:04:00 -0500] veghead: Strange problem trying to install Chef on a new EC2 instance using chef-solo.
[2012-01-23 22:05:00 -0500] veghead: chef-solo -c /etc/chef/solo.rb -j ~/chef.json -r https://s3.amazonaws.com/chef-solo/bootstrap-test-20120113.tar.gz
[2012-01-23 22:05:00 -0500] veghead: FATAL: Chef::Exceptions::CookbookNotFound: Cookbook yum not found. If you're loading yum from another cookbook, make sure you configure the dependency in your metadata
[2012-01-23 22:05:00 -0500] veghead: Any suggestions?
[2012-01-23 22:08:00 -0500] JasonBox: hrm, so I am using some additional repos on SL; I can't decide if I should grab the repo provided RPM file or make it a template and store the GPG key for it myself
[2012-01-23 22:11:00 -0500] savant: hi all
[2012-01-23 22:11:00 -0500] savant: I'm getting the following error on re-running chef
[2012-01-23 22:11:00 -0500] savant: sudo: no tty present and no askpass program specified
[2012-01-23 22:11:00 -0500] savant: any ideas as to what might be occuring?
[2012-01-23 22:12:00 -0500] ssd7: veghead: What platform are you on?
[2012-01-23 22:12:00 -0500] jbz: savant:  It sounds like something in your runlist is trying to perform a client app or to run an installer or other app which requires interaction
[2012-01-23 22:12:00 -0500] veghead: ssd7: CentOS 6.2 x86_64
[2012-01-23 22:12:00 -0500] jbz: savant: but that's a guess
[2012-01-23 22:12:00 -0500] savant: hmmm
[2012-01-23 22:13:00 -0500] jbz: savant:  Can you pastebin or gist the whole error stack?
[2012-01-23 22:13:00 -0500] ssd7: veghead: Hmm.  So someone recently updated that page to point at that particular bootstrap tarbar.  Usually we recommend using bootstrap-latest.tar.gz, however, I think you might run into a few problems on CentOS, check the bottom of the pages for some tips if you do.
[2012-01-23 22:13:00 -0500] savant: its kind of not getting to the part where it ssh's onto the box
[2012-01-23 22:13:00 -0500] savant: this is weird
[2012-01-23 22:14:00 -0500] savant: basically running this line https://github.com/michaeldauria/chef-solo-flight/blob/master/scripts/update#L19
[2012-01-23 22:14:00 -0500] savant: and then getting my error
[2012-01-23 22:15:00 -0500] jbz: savant: Oh, chef-solosorry, not very experienced with chef-solo.
[2012-01-23 22:15:00 -0500] brandoma: when you ssh it is not allocating a TTY and sudo requires it
[2012-01-23 22:15:00 -0500] savant: brandoma: it was allocating a TTY before
[2012-01-23 22:15:00 -0500] veghead: ssd7: Ahhh. Thanks. I'll give "latest" a shot. :)
[2012-01-23 22:15:00 -0500] savant: i've run this several times today against this instance, which is a fresh one
[2012-01-23 22:15:00 -0500] jbz: savant: Oh wait
[2012-01-23 22:15:00 -0500] jbz: savant: is the account running it not in sudoers?  Might sudo be asking for a password?
[2012-01-23 22:15:00 -0500] jbz: (or trying)?
[2012-01-23 22:16:00 -0500] brandoma: so you either need to specify NOPASSWD in the sudoers file on the remote server or run ssh -t to force tty allocation
[2012-01-23 22:16:00 -0500] brandoma: (and it will attempt to get a passwd)
[2012-01-23 22:16:00 -0500] jbz: ah, what brandoma said.
[2012-01-23 22:16:00 -0500] savant: ah
[2012-01-23 22:16:00 -0500] savant: hey i get whats happening!
[2012-01-23 22:16:00 -0500] savant: heh
[2012-01-23 22:16:00 -0500] savant: the initial setup was completed
[2012-01-23 22:17:00 -0500] savant: then a "sudo" recipe I have runs, which sets the root user password
[2012-01-23 22:17:00 -0500] savant: so now I need to kill the entry for this in my .ssh/config
[2012-01-23 22:17:00 -0500] savant: woops
[2012-01-23 22:19:00 -0500] mostlygeek: how do I get chef to output debug text, so I can see what my recipe is doing, is it Chef::Log.info("")
[2012-01-23 22:20:00 -0500] jbz: mostlygeek: yep, that'll work.  Remember that depending on whether that's inside a resource or not, it may log at COMPILE time rather than execute time.
[2012-01-23 22:20:00 -0500] jbz: er, backward.  If it's in a resource, execute, if not, compile.
[2012-01-23 22:21:00 -0500] veghead: ssd7: Working like a champ. Thanks!
[2012-01-23 22:25:00 -0500] mostlygeek: jbz: oh right, it does run at compile time, how do i make it log at execute time
[2012-01-23 22:25:00 -0500] jbz: mostlygeek:  Put the log statement inside a resource block, I think.
[2012-01-23 22:25:00 -0500] mostlygeek: ahh. thanks! :)
[2012-01-23 22:25:00 -0500] jbz: yw
[2012-01-23 22:44:00 -0500] mgolisch: can i use windows paths to specify the cookbookpath in chef-solo on windows?
[2012-01-23 22:45:00 -0500] mgolisch: i i put something like cookbook_path ["c:\somewhere"] in the config file it fails horribly
[2012-01-23 22:46:00 -0500] tpot: hmm - you might need to use c:\\somewhere to escape the backslash properly
[2012-01-23 22:46:00 -0500] dkingofpa: Trying to run the apache2 cookbook on CentOS-5.7-x86_64 but it errors out with a permission problem.  STDERR: httpd: Could not open configuration file /etc/httpd/conf/httpd.conf: Permission denied
[2012-01-23 22:47:00 -0500] dkingofpa: Full debug output with stacktrace:  https://gist.github.com/1665923
[2012-01-23 22:47:00 -0500] JasonBox: hrm, is there such thing as --enablerepo=blah for installing a single package?
[2012-01-23 22:47:00 -0500] cwj: anyone tried managing python on mac_os_x boxes with chef and the opscode python cookbook?
[2012-01-23 22:48:00 -0500] mgolisch: tpot: yeah your right it works when i do that thx
[2012-01-23 22:48:00 -0500] mgolisch: :)
[2012-01-23 22:49:00 -0500] jnials: Something wrong with opscode?  I can't get to status.opscode.com and chef install is failing at the very beginning of first run.
[2012-01-23 22:54:00 -0500] miah: jnials: i can get there fine
[2012-01-23 22:54:00 -0500] jtimberman: worksonmymachine
[2012-01-23 22:55:00 -0500] jtimberman: and i don't mean that by "i have a development environment of our system running", I mean api.opscode.com :)
[2012-01-23 22:56:00 -0500] jnials: miah: and it just came back up. :)
[2012-01-23 23:06:00 -0500] l1x: jnials: same here conn reset from status.opscode
[2012-01-23 23:06:00 -0500] l1x: veghead> FATAL: Chef::Exceptions::CookbookNotFound: Cookbook yum not found. If you're loading yum from another cookbook, make sure you configure the dependency in your metadata
[2012-01-23 23:06:00 -0500] l1x: veghead: very same problem here
[2012-01-23 23:10:00 -0500] veghead: l1x: The problem lies with that specific bootstrap image. Try using the "latest" instead:
[2012-01-23 23:11:00 -0500] veghead: l1x: chef-solo -c /etc/chef/solo.rb -j ~/chef.json -r https://s3.amazonaws.com/chef-solo/bootstrap-latest.tar.gz
[2012-01-23 23:32:00 -0500] JasonBox: Anything for managing /etc/fstab?
[2012-01-23 23:34:00 -0500] JasonBox: oh, that's what mount is for
[2012-01-23 23:45:00 -0500] l1x: veghead: thx
