[2012-07-23 01:50:04 -0400] countdigi: is there a way to set a default mode for a directory provider? i could wrap it as a def but curious if there is another way
[2012-07-23 01:52:23 -0400] hoover_damm: countdigi, man umask
[2012-07-23 01:52:29 -0400] countdigi: heh
[2012-07-23 01:52:33 -0400] hoover_damm: countdigi, the default mode i believe should be specified by umask
[2012-07-23 01:53:01 -0400] hoover_damm: and it's possible to monkeypatch the provider easily with libraries (but not endorsed)
[2012-07-23 01:53:12 -0400] hoover_damm: it's ruby fairly easy to monkey :)
[2012-07-23 01:53:16 -0400] countdigi: yeah umask is what it says in docs
[2012-07-23 01:53:39 -0400] countdigi: right its not a big deal but i was used to in puppet (forgive me) being able to easily set defaults at top of manifest
[2012-07-23 01:53:44 -0400] countdigi: its cool not a big deal
[2012-07-23 01:54:18 -0400] hoover_damm: nothing wrong with monkey patching that in really
[2012-07-23 01:54:24 -0400] hoover_damm: but I understand where your coming from
[2012-07-23 01:54:47 -0400] countdigi: yeah i might do it in like a site cookbook and include that in the other recipes - with a little convenience syntax helpers :-)
[2012-07-23 01:54:56 -0400] countdigi: but i know that stuff can get out of hand if u aren't careful
[2012-07-23 01:55:14 -0400] countdigi: looking in 3 files to find the damn mode of a dir :-)
[2012-07-23 01:55:43 -0400] hoover_damm: I would say it's part of the differences of puppet and chef
[2012-07-23 01:55:56 -0400] hoover_damm: as there are many
[2012-07-23 01:57:58 -0400] hoover_damm: can't be that hard
[2012-07-23 01:58:04 -0400] hoover_damm: ;)
[2012-07-23 01:59:49 -0400] hoover_damm: countdigi, and drop your patch in a library and have it depended upon so it's loaded
[2012-07-23 01:59:52 -0400] hoover_damm: ;)
[2012-07-23 02:13:30 -0400] Majost_: Is it possible to do the following in an erb: <%  require 'uuid'; uuid = UUID.generate; puts uuid -%>
[2012-07-23 02:13:48 -0400] Majost_: I tried this; but it didn't seem to do what I was hoping
[2012-07-23 02:14:09 -0400] Majost_: Is there a different syntax I should use?
[2012-07-23 02:15:10 -0400] countdigi: u need <%= UUID.generate %> i believe
[2012-07-23 02:15:56 -0400] countdigi: that runs the code and replace return value inline
[2012-07-23 02:22:03 -0400] Majost_: ah
[2012-07-23 02:22:30 -0400] Majost_: Let me give that a shot
[2012-07-23 02:24:12 -0400] countdigi: real quick syntax overview is here: http://en.wikipedia.org/wiki/ERuby
[2012-07-23 02:33:04 -0400] Majost_: countdigi, thanks for the eruby link -- I didn't realize what .erb was until now honestly. heh
[2012-07-23 02:33:13 -0400] Majost_: countdigi, your suggestion worked too. =)
[2012-07-23 02:33:19 -0400] countdigi: cool
[2012-07-23 04:22:24 -0400] hoover_damm: Majost_, wrong pattern
[2012-07-23 04:22:43 -0400] hoover_damm: Majost_, require uuid in your recipe and then use variables( :uuid => UUID.generate )
[2012-07-23 04:22:55 -0400] hoover_damm: wrap the require in a ruby block of course
[2012-07-23 04:23:42 -0400] hoover_damm: avoid using logic in templates completely
[2012-07-23 04:23:53 -0400] hoover_damm: easier to manipulate in a recipe then in a template
[2012-07-23 05:57:17 -0400] stormerider: is there a good tutorial on JSON for chef? never really dealt with JSON much before
[2012-07-23 06:01:56 -0400] BryanWB_: ohai chefs!
[2012-07-23 06:41:42 -0400] jondot1: hi guys. im trying to figure out a workflow with librarian and a hosted chef for managing cookbooks
[2012-07-23 06:42:09 -0400] jondot1: with chef-solo its clear to me, but with hosted chef there seem to be many redundant steps
[2012-07-23 06:42:34 -0400] jondot1: i.e. add cookbook to cheffile, install, commit the resulting update to source control, upload cookbooks to hosted chef
[2012-07-23 06:42:48 -0400] jondot1: and then i may want to have many different cheffiles
[2012-07-23 08:26:25 -0400] jerem`: when i'm using knife command, I get "ERROR: Server returned error for http://blabla.." but the command is executed right
[2012-07-23 09:35:51 -0400] Guest4420: hi, is there a way to set a ruby variable (in a recipe) to the output of a linux command? like in linux: lines=$(cat file.txt | wc -l)
[2012-07-23 09:37:48 -0400] Mithrandir: foo = `command`?
[2012-07-23 09:47:12 -0400] Guest4420: thank you, works great
[2012-07-23 09:53:06 -0400] BryanWB_: damnit, my chef-server doesn't recognize any client keys anymore
[2012-07-23 09:54:06 -0400] BryanWB_: every client including my own admin client gets 401 unauthorized
[2012-07-23 10:01:31 -0400] gale: BryanWB_: that happened to me a few days ago - turned out to be a couchdb issue underneath
[2012-07-23 10:02:10 -0400] BryanWB_: gale: yeah, it turns couchdb had died
[2012-07-23 10:02:13 -0400] BryanWB_: now everything ok
[2012-07-23 10:02:14 -0400] gale: had to recover the couchdb
[2012-07-23 10:02:19 -0400] gale: yup
[2012-07-23 10:07:12 -0400] cpasmoi: Hi !
[2012-07-23 10:22:03 -0400] cnf: pompom
[2012-07-23 10:24:14 -0400] cnf: anyone here using chef to configure jenkins?
[2012-07-23 10:25:16 -0400] gale: there's a cookbook on the community site, haven't used it though but intend to
[2012-07-23 10:25:17 -0400] masterkorp: just ask
[2012-07-23 10:25:38 -0400] cnf: gale: i am using the cookbook, it just installs jenkins
[2012-07-23 10:25:54 -0400] gale: cnf: well that's a start :)
[2012-07-23 10:26:25 -0400] cnf: a start, yes
[2012-07-23 10:27:53 -0400] cnf: doesn't seem like you can do any actual configuration with it, though
[2012-07-23 10:29:11 -0400] gale: you can manage jobs and nodes and what-have-you
[2012-07-23 10:29:30 -0400] gale: beyond that your jenkins setup is likely to be quite custom though I would have thought?
[2012-07-23 10:29:51 -0400] cnf: i don't know, i have never used jenkins before
[2012-07-23 10:30:03 -0400] gale: there's your problem
[2012-07-23 10:30:06 -0400] cnf: it seems unaware of my java and maven installs
[2012-07-23 10:30:18 -0400] cnf: and wants me to set that up through the web interface
[2012-07-23 10:30:41 -0400] cnf: now isn't that just the bit i want to automate :P
[2012-07-23 10:30:47 -0400] gale: haha
[2012-07-23 10:31:11 -0400] gale: well set them up through the web interface and see if it writes any config would be my next step
[2012-07-23 10:35:29 -0400] cnf: hmz
[2012-07-23 11:17:51 -0400] Prateek: hello everyone
[2012-07-23 11:18:03 -0400] Prateek: m new to chef
[2012-07-23 11:24:35 -0400] SuburbaSs: Hi guys... Is possible put an IF after    "notifies :restart, "service[myservice]""   I would execute the notifie only if the IF statement return true
[2012-07-23 11:27:46 -0400] Prateek: anyone tell me about how to create custom cookbbos
[2012-07-23 11:27:53 -0400] Prateek: cookbooks
[2012-07-23 11:47:27 -0400] railsraider: i can't get chef-server to start i try bootstrapping again and i get Error: unable to connect to node 'rabbit@chef-server': nodedown
[2012-07-23 11:48:02 -0400] railsraider: rabbitmq is running rabbitmq  1814  0.0  0.0  10712   420 ?        S    10:29   0:00 /usr/lib/erlang/erts-5.7.4/bin/epmd -daemon
[2012-07-23 11:48:18 -0400] railsraider: ani idea?
[2012-07-23 11:52:10 -0400] mayank1: Hi, any ideas how can I make use of not_if and only_if together within a single resource in a chef recipe ?
[2012-07-23 11:53:15 -0400] cpasmoi: I'm on a new server, I've installed like advised by my compagny rubygems-1.3.7 , installed chef-client 0.9.16  (chef server 0.9.12), created /etc/chef/client.rb, filled client.pem with the correct key but still, when running 'chef-client' I got the "Can not find config file: /etc/chef/client.rb, using defaults." I'm running on CentOS
[2012-07-23 11:53:49 -0400] cpasmoi: I've seen the FAQ about it but chef-client -c /etc/chef/client.rb won't deal with this issue
[2012-07-23 11:54:16 -0400] mayank1: cpasmoi: so chef-client -c /etc/chef/client.rb doesn't work either ?
[2012-07-23 11:54:31 -0400] railsraider: cpasmoi: are you running chef-client as root?
[2012-07-23 11:54:51 -0400] cpasmoi: yep, and yes
[2012-07-23 11:55:04 -0400] cpasmoi: in fact
[2012-07-23 11:55:12 -0400] cpasmoi: i do have at the end "Report handlers complete"
[2012-07-23 11:55:19 -0400] cpasmoi: but the warning remains
[2012-07-23 11:55:47 -0400] railsraider: that's normal, for a new machine that can't find client.pem and register
[2012-07-23 11:56:13 -0400] railsraider: it's just telling you i can't find client.pem (On the remote node)
[2012-07-23 11:56:13 -0400] cpasmoi: client.pem exists, I created the node on chef server before
[2012-07-23 11:56:23 -0400] railsraider: client.pem exist on your end
[2012-07-23 11:56:26 -0400] cpasmoi: on the server ?
[2012-07-23 11:56:45 -0400] railsraider: you are trying to run chef-client on what?
[2012-07-23 11:56:50 -0400] railsraider: on the server?
[2012-07-23 11:57:05 -0400] cpasmoi: on the client
[2012-07-23 11:57:10 -0400] cpasmoi: a new machine
[2012-07-23 11:57:13 -0400] railsraider: then again
[2012-07-23 11:57:52 -0400] mayank1: railsraider: cpasmoi has mentioned error as "Can not find config file: /etc/chef/client.rb" ... this seems to be different from warning about missing client.pem ... no ?
[2012-07-23 11:58:02 -0400] railsraider: your new machine is virgin, it does not have a client pem, being you are using knife to bootstrap the new node, there isn't any client.pem
[2012-07-23 11:58:13 -0400] railsraider: so it's registering the new node on the server
[2012-07-23 11:58:29 -0400] railsraider: passing on client.pem from the server to the new node
[2012-07-23 11:58:59 -0400] railsraider: i think it says unable to find /etc/chef/client.pem
[2012-07-23 11:59:33 -0400] mayank1: ok
[2012-07-23 11:59:57 -0400] cpasmoi: oh, in fact in my company internal doc, it says to add the node on chef server web interface, to copy/paste the private key on client.pem
[2012-07-23 12:00:39 -0400] cpasmoi: I also have a client.rb given by the internal doc, which I pasted, so the two files exist
[2012-07-23 12:01:01 -0400] railsraider: cpasmoi: don't really have to, if you bootstrap a new node it will register automatically with the client.pem from the server
[2012-07-23 12:01:20 -0400] railsraider: it's fine that's not a problem
[2012-07-23 12:01:26 -0400] workmad3: railsraider: unless the chef server has been configured to not allow automatic registration
[2012-07-23 12:01:35 -0400] railsraider: workmad3: true
[2012-07-23 12:01:44 -0400] railsraider: by default it is
[2012-07-23 12:02:15 -0400] workmad3: yes, but a company that has internal documentation about setting up nodes is more likely than most to have messed around with defaults :)
[2012-07-23 12:03:24 -0400] railsraider: agreed, however chef-run completed so auto reg is enabled
[2012-07-23 12:04:06 -0400] workmad3: he said he had created the client.pem file
[2012-07-23 12:04:30 -0400] workmad3: it's just the warning 'can not find config file, using defaults' that seems to be an oddity...
[2012-07-23 12:12:05 -0400] railsraider: can't get chef-server-webui to start
[2012-07-23 12:15:01 -0400] railsraider: STDERR: Error: unable to connect to node 'rabbit@chef-server': nodedown
[2012-07-23 12:19:54 -0400] mayank1: guys any ideas how can I use not_if and only_if together ?
[2012-07-23 12:23:14 -0400] cpasmoi: workmad3, railsraider thank you, indeed I had to put a role on my new node, to see changes. As far as I understand, the warn message isn't a big issue and disapear at the second chef-client.
[2012-07-23 12:37:58 -0400] geekbri: Has anybody gotten any strange ArgumentError: invalid byte sequence in UTF-8 errors from chef-client before?
[2012-07-23 12:38:42 -0400] railsraider: geekbri: i believe i have seen that before, but not on chef, it is related to ruby 1.9
[2012-07-23 12:39:22 -0400] geekbri: railsraider: What I find completely strange about it, is that its being thrown in a recipe that hasn't changed in 2 months (but is actively used)
[2012-07-23 12:40:01 -0400] railsraider: what recipe?
[2012-07-23 12:40:12 -0400] geekbri: custom one.
[2012-07-23 12:40:13 -0400] geekbri: :)
[2012-07-23 12:40:32 -0400] geekbri: I'm poking around I suspect maybe something in a cache is corrupted, deleting things.  thanks for the tip
[2012-07-23 12:40:38 -0400] geekbri: ill poke around more on google if this doesnt work
[2012-07-23 12:41:53 -0400] mayank1: I am trying to use both only_if and not_if within a single resource ... Hope it works ! isn't there logical operators like 'and', 'or' available ?
[2012-07-23 12:43:01 -0400] railsraider: mayank1:  why not use a simple ruby_block resource for that
[2012-07-23 12:43:14 -0400] railsraider: geekbri: what r u trying to install?
[2012-07-23 12:43:52 -0400] geekbri: railsraider: not trying to install anything, we have a flume cookbook for a bunch of our flume related stuff.  Looks like chef-client suddenly started failing.  nothing in the system changed
[2012-07-23 12:43:54 -0400] mayank1: since cron was already a resource meant for setting up cron jobs so I found tht to be more useful ...
[2012-07-23 12:44:39 -0400] railsraider: mayank1: still can use back ticks with ruby for any bash related stuff
[2012-07-23 12:44:53 -0400] mayank1: aah .. ok
[2012-07-23 12:45:10 -0400] railsraider: geekbri: chef-client -v ?
[2012-07-23 12:45:17 -0400] mayank1: lemme see if tht works
[2012-07-23 12:45:30 -0400] railsraider: pastie
[2012-07-23 12:45:37 -0400] geekbri: railsraider: i'm on 0.10.8
[2012-07-23 12:46:12 -0400] jondot1: im having trouble with AWS knife ec2 and keypairs.
[2012-07-23 12:46:38 -0400] jondot1: looks like even though i created a keypair in AWS, i'm getting "The key pair '..' does not exist" from my knife ec2
[2012-07-23 12:46:44 -0400] jondot1: anyone, any idea?
[2012-07-23 12:46:54 -0400] railsraider: geekbri: try upgrading chef-client to latest
[2012-07-23 12:48:11 -0400] railsraider: jondot1: you need the name for the key pair not the path , set it in your knife.rb knife[:aws_ssh_key_id]  = 'key pair name'
[2012-07-23 12:48:21 -0400] geekbri: railsraider: I can't yet, We have a cookbook that higher than chef 0.10.8 breaks, I haven' thad time yet to dig into that bug though
[2012-07-23 12:48:27 -0400] jondot1: railsraider, thanks thats what i did though.
[2012-07-23 12:48:35 -0400] jondot1: does it have anything to do with the AWS zone?
[2012-07-23 12:48:46 -0400] railsraider: nopw
[2012-07-23 12:48:49 -0400] geekbri: railsraider: however, there are other servers using this same cookbook that is throwing the invalid byte sequence error and they are not experiencing the same issue.
[2012-07-23 12:51:03 -0400] railsraider: geekbri: sounds like you're using ruby 1.9 with a string that is not compatibly encoded with 1.9  maybe this will help, http://blog.grayproductions.net/articles/ruby_19s_string
[2012-07-23 12:52:48 -0400] railsraider: geekbri: what i mean is maybe you are using gems that are not the right version for the ruby you are running
[2012-07-23 12:53:03 -0400] railsraider: you can test the machine with rvm
[2012-07-23 12:53:50 -0400] jondot1: railsraider, is it possible that because none of these keypairs were used to make new instances yet, it cant find them?
[2012-07-23 12:54:58 -0400] railsraider: jondot1:  chef-client is looking at your knife.rb and checking for that name of key pair on your ec2, did you create the key pair on a VPC rather on the EC2?
[2012-07-23 12:55:15 -0400] jondot1: railsraider, i think it has to do with the region
[2012-07-23 12:55:54 -0400] railsraider: if theres a separate key per region
[2012-07-23 12:56:05 -0400] railsraider: geekbri: try adding this to the recipe Setting Encoding.default_external = Encoding::UTF_8 if RUBY_VERSION > "1.9" on the recipe
[2012-07-23 12:56:07 -0400] jondot1: looks like it.
[2012-07-23 12:56:48 -0400] railsraider: jondot1: sorry didn't have so much experience with regions and the way keys are
[2012-07-23 12:57:11 -0400] railsraider: geekbri: this looks like a template issue - http://tickets.opscode.com/browse/CHEF-3304?page=com.atlassian.jira.plugin.system.issuetabpanels%3Aall-tabpanel
[2012-07-23 12:57:26 -0400] jondot1: railsraider, its ok im still trying to figure out.. will update when resolved
[2012-07-23 13:00:21 -0400] railsraider: p.s the problem i had with the rabbitmq not running was resolved by removing rabbitmq and re-apply bootstrap to the chef-server
[2012-07-23 13:00:42 -0400] railsraider: for the error of: STDERR: Error: unable to connect to node 'rabbit@chef-server': nodedown
[2012-07-23 13:01:03 -0400] geekbri: railsraider: Thanks for that link.  What is strange about it though is that the template hasn't changed for 2 months (according to our git history) and it is running fine on other servers.  Very strange.
[2012-07-23 13:02:51 -0400] railsraider: geekbri: only thing i can think of is the bootstrap, sometimes the bootstrap runs a different template then you're usually use (from diff computers) this will install a diff version of ruby which will break your recipe
[2012-07-23 13:03:14 -0400] railsraider: anyone knows what the hell is going on: ERROR: Connection refused connecting to chef-server:4000 for /clients, retry 1/5
[2012-07-23 13:03:17 -0400] geekbri: railsraider: nah, they were all run with the same bootstrap, We are using ruby 1.9.2 on all our machines as the system ruby.
[2012-07-23 13:03:58 -0400] railsraider: then one of the gems is broken and does not run on 1.9
[2012-07-23 13:04:36 -0400] geekbri: railsraider: but I have the exact same cookbook running on an identical server, and it doesn't throw the encoding error.  I tried deleting chefs cache and running again, same error.  It's very strange.
[2012-07-23 13:05:31 -0400] jondot1: railsraider, yep. looks like AWS separates regions with their keypairs.
[2012-07-23 13:05:45 -0400] railsraider: jondot1: thanks good to know
[2012-07-23 13:06:20 -0400] jondot1: railsraider, and since knife defaults to us-east and zones us-east-1b, things seem to be confusing
[2012-07-23 13:06:48 -0400] railsraider: i can' t get any client to talk to chef server!
[2012-07-23 13:07:09 -0400] jondot1: now what i'm getting is "Failed to authenticate root - trying password auth" although i have 'ssh_user' set to 'ubuntu' anyone?
[2012-07-23 13:17:53 -0400] railsraider: could that be the problem? tcp        0      0 0.0.0.0:4000            0.0.0.0:*               LISTEN      15542/merb : chef-s
[2012-07-23 13:18:10 -0400] railsraider: i can't connect from any client to chef-server
[2012-07-23 13:21:00 -0400] railsraider: i figured out the problem
[2012-07-23 13:21:04 -0400] railsraider: firewall
[2012-07-23 14:30:33 -0400] geekbri: ssd7: Any idea when you'll start merging changes into knife-ec2 :)
[2012-07-23 14:35:53 -0400] ssd7: geekbri: :) Basically I only have 1 more to do and then a release will be coming unless something important makes it in quickly.  Any in particular you have a concern about?
[2012-07-23 14:36:19 -0400] ssd7: geekbri: Apologies for the delay, I had schedule to do this last week but various other projects took priority unfortunately
[2012-07-23 14:36:36 -0400] geekbri: ssd7: Oh, no apologies necessary, I do not envy what you had to do :)
[2012-07-23 14:37:00 -0400] geekbri: ssd7: it was purely self serving, because I am so lazy and want to be able to knife instead of bundle exec knife ;)
[2012-07-23 14:43:44 -0400] ssd7: :)  Indeed, I know that feeling.
[2012-07-23 14:49:05 -0400] geekbri: ssd7: rebasing now ;)
[2012-07-23 14:51:03 -0400] ssd7: geekbri: Great, thanks!
[2012-07-23 15:24:07 -0400] jondot1: trying to use https://github.com/edelight/chef-mongodb results in a 'no version specified' when going for the 10gen repo recipe.. anyone have an idea why?
[2012-07-23 15:24:41 -0400] ashb: jondot1: have you customized the code at all? and what is the full output log?
[2012-07-23 15:24:56 -0400] jondot1: ashb not at all. let me gist the output 1 sec
[2012-07-23 15:26:05 -0400] jondot1: ashb, https://gist.github.com/3164228
[2012-07-23 15:28:55 -0400] ashb: hrm
[2012-07-23 15:31:20 -0400] ashb: jondot1: oh it seems that the notifies :run, "execute[apt-get update]", :immediately isn't working right
[2012-07-23 15:31:27 -0400] ashb: so it's added the repo but not done an apt-get update
[2012-07-23 15:31:41 -0400] jondot1: yea i was looking at that, assumed its working right though =\
[2012-07-23 15:32:40 -0400] ashb: i think the problem is that there is already an `apt-get update` resource that has run once that run
[2012-07-23 15:32:43 -0400] ashb: so it doesn't happen again
[2012-07-23 15:33:55 -0400] jondot1: ashb, any good way to work around that?
[2012-07-23 15:34:10 -0400] ashb: try changing the name on line 28 and 39 of https://github.com/edelight/chef-mongodb/blob/master/recipes/10gen_repo.rb
[2012-07-23 15:34:23 -0400] ashb: and add a command 'apt-get update' inside the execute block
[2012-07-23 15:35:10 -0400] jondot1: do i even need the initial apt-get update?
[2012-07-23 15:44:48 -0400] ashb: jondot1: on line 28?
[2012-07-23 15:45:30 -0400] jondot1: yes
[2012-07-23 15:46:07 -0400] ashb: yeah - thats what is notified
[2012-07-23 15:46:22 -0400] ashb: you will also need to remove the /etc/apt/sources.d file to get it to run/fail in the same way
[2012-07-23 15:47:08 -0400] jondot1: i see.. let me try that
[2012-07-23 15:47:10 -0400] afterglow: does anyone use chef-jenkins to sync their server and repo?
[2012-07-23 15:49:19 -0400] jondot1: ashb, not sure i'm getting why execute apt-get update is even needed
[2012-07-23 15:49:45 -0400] ashb: you just added a new custom repo to apt - it hasn't yet queried it to see what packages are available in it
[2012-07-23 15:50:02 -0400] ashb: apt-get install just looks at what is in the locally cached list of packages
[2012-07-23 15:50:28 -0400] jondot1: ctrl-w'd the wrong window :)
[2012-07-23 15:50:40 -0400] erratic: lawl
[2012-07-23 15:50:51 -0400] jondot1: well i thought apt_repository would refresh the cache for me
[2012-07-23 15:50:52 -0400] chiel: that's why you run irssi in a screen :p
[2012-07-23 15:51:09 -0400] erratic: I have a tablet dedicated to irc
[2012-07-23 15:51:14 -0400] erratic: and hten I have my other tablet that I never use
[2012-07-23 15:51:23 -0400] erratic: and my 900$ phone, it makes good phone calls
[2012-07-23 15:54:49 -0400] jondot1: ashb, tried the renaming trick, doesn't seem to work properly
[2012-07-23 15:56:00 -0400] ashb: gist the new log and the new recipe
[2012-07-23 15:58:08 -0400] jondot1: looks like the same log
[2012-07-23 15:58:31 -0400] jondot1: however, i can now be almost certain apt_repository will call apt-get update on itself
[2012-07-23 16:00:17 -0400] jondot1: looks like running apt-get update manually makes everything work.. crap =\
[2012-07-23 16:01:08 -0400] jondot1: thank god for vagrant.
[2012-07-23 16:01:46 -0400] erratic: "Be nice. :-) Use Pastie for good, not evil. "
[2012-07-23 16:01:55 -0400] erratic: how the hell would I use something for pasting for evil
[2012-07-23 16:02:05 -0400] erratic: bunch of crack smokers
[2012-07-23 16:06:58 -0400] erratic: http://www.securixlive.com/barnyard2/ guess what the name of this project reminds me of
[2012-07-23 16:12:24 -0400] __sjh: lo all, just started to look at chef .. i'm managing multiple projects for multiple clients at an agency and trying to figure out if chef would be a good fit, are there any guides/docs that deal with chef usage in an agency environment, thinking about isolation between groups of servers & projects
[2012-07-23 16:13:21 -0400] geekbri: __sjh: as in you will be responsible for hosting their chef-server for them?
[2012-07-23 16:13:53 -0400] erratic: geekbri better question would be are you willing to pay for cloud chef or will you be running your own chef-server
[2012-07-23 16:14:08 -0400] __sjh: geekbri, that's what i'm thinking atm, i'd prefer to have one server, but it would seem like a chef server per project (could be 5-20 servers per project) would seem to be the way to do it
[2012-07-23 16:14:11 -0400] erratic: I think there's chef solo too but I'd never suggest that to anybody
[2012-07-23 16:14:22 -0400] geekbri: erratic: Yes well that was my lead in.  I would provide the client the option.
[2012-07-23 16:14:41 -0400] __sjh: using chef solo seems to have the worst of both worlds ;)
[2012-07-23 16:14:43 -0400] geekbri: __sjh: if you are hosting it yourself FOR them, I would give them each their own chef server.
[2012-07-23 16:15:29 -0400] __sjh: which would leave me having a chef server for the configuring the chef servers...
[2012-07-23 16:15:39 -0400] geekbri: __sjh: alteratinvely, you could pay opscode to host it, and give them each their own account
[2012-07-23 16:15:49 -0400] geekbri: __sjh: where they pay the billing, or maybe you do
[2012-07-23 16:16:29 -0400] __sjh: geekbri, that is tempting, just exploring the problem space atm
[2012-07-23 16:16:49 -0400] geekbri: __sjh: it certainly will make your life easier, then you won't have to worry about backing up / hosting a ton of chef-servers
[2012-07-23 16:17:19 -0400] geekbri: But then your client might ask... hey if we are paying somebody else to host this... what are we paying these darn consultants for :-P
[2012-07-23 16:18:36 -0400] jondot1: ashb, this related? http://tickets.opscode.com/browse/COOK-1372?page=com.atlassian.jira.plugin.system.issuetabpanels%3Achangehistory-tabpanel
[2012-07-23 16:18:50 -0400] ashb: jondot1: yes
[2012-07-23 16:18:55 -0400] jondot1: dang!
[2012-07-23 16:18:56 -0400] ashb: or it looks like it mightb e
[2012-07-23 16:19:35 -0400] ashb: jondot1: though only superficially
[2012-07-23 16:19:46 -0400] ashb: the notifes command in that cookbook is meant to deal with it
[2012-07-23 16:19:49 -0400] ashb: but its obviously not
[2012-07-23 16:19:51 -0400] geekbri: ssd7: just FYI, I rebased my pull request against master.  Should merge easy peasy now
[2012-07-23 16:20:31 -0400] jondot1: ashb looks like my installed version is also chef 10.10
[2012-07-23 16:31:42 -0400] jondot1: ashb, looks like, if i move the execute apt-get update downwards, and do 'action :run' everything works
[2012-07-23 16:32:00 -0400] ashb: it would yes - it would also needlessly run apt-get update every time chef runs
[2012-07-23 16:32:07 -0400] ashb: its up to you if that is a problem or not
[2012-07-23 16:32:30 -0400] jondot1: so what was the purpose of the 'nothing' action?
[2012-07-23 16:32:38 -0400] ashb: did you ever post the version of the receipe you tried with changing the names?
[2012-07-23 16:32:46 -0400] _rc: so you can desclare it and then send it notifies
[2012-07-23 16:32:48 -0400] ashb: nothing says don't run anything unless you get signalled to
[2012-07-23 16:33:02 -0400] jondot1: ashb, no, it had the same log output really
[2012-07-23 16:33:24 -0400] ashb: its possible it is related to the issue you linked then
[2012-07-23 16:33:37 -0400] jondot1: i see, so those guys wanted to disable the auto update run that was supposed to run as part of the apt_repository LWRP
[2012-07-23 16:34:13 -0400] jondot1: but then explicitly signaling it didn't work either
[2012-07-23 16:38:20 -0400] jondot1: well looks like someone just updated this http://tickets.opscode.com/browse/COOK-1372 a minute ago
[2012-07-23 16:38:32 -0400] jondot1: pointing to another bug.. i hope to update to 10.12
[2012-07-23 16:53:55 -0400] erratic: I came into work to find one of the servers I was benchmarking with sql-bench in the mysql distribution with a cpu load of 2000.0
[2012-07-23 16:54:08 -0400] erratic: was like really
[2012-07-23 16:54:36 -0400] doomviking: heh
[2012-07-23 16:58:09 -0400] miah: imagine that..
[2012-07-23 17:08:11 -0400] erratic: miah it ran for two days
[2012-07-23 17:08:17 -0400] erratic: probably just like that
[2012-07-23 17:08:21 -0400] erratic: never checked it over the weekend
[2012-07-23 17:14:28 -0400] timsmith: Has there been any talk of another Chef Summit up in Seattle?
[2012-07-23 17:20:32 -0400] Zenigor: When I spinup and deploy a new server, and then doing a cap deploy:setup it fails on "Host key verification failed." when trying to clone my repo to the server. If I ssh into the server and do "ssh github.com" then accept the host, cap deploy:setup works just fine. My question is, is there a good way to add github.com as a known host using chef? this manual step of intervention seems unnecessary
[2012-07-23 17:22:39 -0400] erratic: can you just add the public key to the known hosts file on every machine you want to ssh from?
[2012-07-23 17:23:49 -0400] armarco: question: does anyone have a way of getting replication going using couchDB between different instances?
[2012-07-23 17:23:54 -0400] spox: Zenigor: yeah, you can have chef manage the known hosts file, or you can setup agent forwarding in your cap settings
[2012-07-23 17:24:31 -0400] armarco: ok, how does that work?
[2012-07-23 17:26:41 -0400] armarco: I don't actually want to pay for a service, but it seems like there's a command for couchDB that does replication, I'm just having trouble with getting the curl command right
[2012-07-23 17:26:47 -0400] armarco: if anyone has tried that
[2012-07-23 17:31:00 -0400] jackl0phty: zenigor: sshkey gem can also help.  have a look at gitlab::default on community site for an example.
[2012-07-23 17:51:03 -0400] erratic: one more hour
[2012-07-23 17:51:06 -0400] erratic: then its lunch time
[2012-07-23 17:51:09 -0400] erratic: http://chzlolcats.files.wordpress.com/2012/07/funny-cat-pictures-i-must-be-in-soviet-rushya.jpg
[2012-07-23 17:51:45 -0400] newb: hi chefs
[2012-07-23 17:52:46 -0400] erratic: ohai2u
[2012-07-23 17:53:10 -0400] newb: :-)
[2012-07-23 17:53:11 -0400] newb: what info does chef tracks via AMQP?
[2012-07-23 17:53:43 -0400] mattray: the queue of stuff to be indexed by solr
[2012-07-23 17:53:59 -0400] mattray: not very fancy
[2012-07-23 17:56:17 -0400] yfeldblum: newb, every time you save a node, role, environment, client, cookbook-metadata, or data-bag item to the chef-server, the chef-server will save that item to couchdb and also put the item onto the queue to be indexed by chef-solr and chef-solr-expander
[2012-07-23 17:56:30 -0400] erratic: thats whats I thought too
[2012-07-23 17:57:39 -0400] erratic: anyone ever started rabbit mq from command line
[2012-07-23 17:57:40 -0400] yfeldblum: newb, that way, after a few seconds normally, you can ask the chef-server to run a search (as opposed to a direct fetch by id) for any of those items, and chef-server can just go to chef-solr to do a search against the search index
[2012-07-23 17:57:49 -0400] erratic: it barfs out this disgustingly ugly looking ascii rabbit
[2012-07-23 17:58:05 -0400] newb: yfeldblum, in other words, the queue could have been in redis as well?
[2012-07-23 17:58:10 -0400] mattray: erratic: gist?
[2012-07-23 17:58:16 -0400] erratic: mattray lol one sec
[2012-07-23 17:58:29 -0400] mattray: newb: yes. At some point, it may go away completely
[2012-07-23 17:58:29 -0400] erratic: this is such a waste of time but for this I'll make an exception
[2012-07-23 17:58:44 -0400] mattray: erratic: emacs user? gist-mode is the bomb
[2012-07-23 17:58:54 -0400] erratic: oo
[2012-07-23 17:59:03 -0400] erratic: yeah I donno everytime someone mentions emacs to me I like it more
[2012-07-23 17:59:06 -0400] erratic: I'm a vi users
[2012-07-23 17:59:07 -0400] erratic: user*
[2012-07-23 17:59:48 -0400] mattray: I run my shell inside of emacs, so I can highlight anything, gist it and the url gets sent to my copy/paste
[2012-07-23 18:00:08 -0400] erratic: https://gist.github.com/3165032
[2012-07-23 18:00:10 -0400] newb: @mattray, I am working with spiceweasel atm, and noticed that there seems to be no way to pass some knife options, for example "-o" : do you have something planned?
[2012-07-23 18:00:21 -0400] newb: essentially I want some more stuff in options['knife_options']
[2012-07-23 18:00:29 -0400] mattray: erratic: I was hoping for something more Donnie-Darkoesque
[2012-07-23 18:00:30 -0400] newb: so, that this:
[2012-07-23 18:00:31 -0400] newb: @create += "knife cookbook#{options['knife_options']} upload #{cb}\n"
[2012-07-23 18:00:36 -0400] newb: reads like this:
[2012-07-23 18:01:06 -0400] erratic: mattray my profile pic on g+ and fb was set to that creepy bunny mask for the longest time
[2012-07-23 18:01:09 -0400] newb: options['knife_options'] -> all passthrough options to knife
[2012-07-23 18:01:17 -0400] erratic: I want a mask like that
[2012-07-23 18:01:19 -0400] erratic: I love masks
[2012-07-23 18:02:03 -0400] erratic: I guess what I dont understand is whats the difference between expander and solr
[2012-07-23 18:02:05 -0400] yfeldblum: newb, depends on what redis supports
[2012-07-23 18:02:35 -0400] mattray: newb: what options do you want knife cookbook to use?
[2012-07-23 18:02:48 -0400] mattray: newb: I guess I could add support for more stuff
[2012-07-23 18:03:10 -0400] yfeldblum: erratic, chef-expander is what reads the newly-saved object from couchdb (based on the id sent in the queue message) and "expands" it into a flat document that lucene can then be indexed, and it is that flat document that is indeed then indexed
[2012-07-23 18:03:42 -0400] newb: @mattray, how much work would it take for options['knife_options'] to passthrough options to knife?
[2012-07-23 18:03:52 -0400] yfeldblum: erratic, chef-expander takes {"key1": {"key2": "value2"}} and turns it into {"key1_key2": "value2"} and passes that to the index
[2012-07-23 18:04:06 -0400] newb: you can assert that the yaml/json have validly formatted passthrough option strings
[2012-07-23 18:04:23 -0400] yfeldblum: erratic, so that you can then run a search, in knife or in your recipe, for "key1_key2:value2" and find that object
[2012-07-23 18:04:37 -0400] erratic: gotcha
[2012-07-23 18:05:02 -0400] newb: yfeldblum, erratic: my idea was that redis displaces both rabbit and couch
[2012-07-23 18:05:18 -0400] newb: but perhaps couch + ruby already displaces
[2012-07-23 18:05:19 -0400] yfeldblum: newb, why?
[2012-07-23 18:05:21 -0400] erratic: interesting
[2012-07-23 18:05:26 -0400] mattray: newb: that's what knife-config is for, you want to pass them from the CLI instead of a file?
[2012-07-23 18:05:47 -0400] mattray: newb: couch is gone in Chef 11
[2012-07-23 18:06:02 -0400] newb: @mattray, exactly -  right now I am having to write a knife.rb and pass it through knife-config
[2012-07-23 18:06:07 -0400] mattray: as are the ruby API endpoints
[2012-07-23 18:06:18 -0400] newb: it would be "easier to pass it via cl? what do you think?"
[2012-07-23 18:06:44 -0400] mattray: I'd probably take the patch if it's documented. knife-config was a patch I accepted as well
[2012-07-23 18:06:52 -0400] geekbri: mattray: I'm guessing that a chef-client upgrade will be necessary to interact with the new backend?
[2012-07-23 18:06:57 -0400] mattray: no
[2012-07-23 18:07:00 -0400] mattray: geekbri: no
[2012-07-23 18:07:04 -0400] geekbri: oh well, excellent.
[2012-07-23 18:07:08 -0400] mattray: chef-client stays the same, talks to APIs
[2012-07-23 18:07:12 -0400] newb: @mattray: rabbit - don't you guys think it is a bit more high maintenance than say redis for what we use it for?
[2012-07-23 18:07:17 -0400] mattray: APIs stay the same, just different back-end
[2012-07-23 18:07:19 -0400] geekbri: Yeah i've noticed it has a lot of couchdb references in it.
[2012-07-23 18:07:26 -0400] geekbri: So that was my concern
[2012-07-23 18:07:44 -0400] mattray: newb: redis is used in Hosted/Private Chef for caching
[2012-07-23 18:07:53 -0400] mattray: I don't know if that's a long-term thing
[2012-07-23 18:08:10 -0400] newb: you guys have all the good stuff in the Hosted/Private Chef x-(
[2012-07-23 18:08:18 -0400] mattray: newb: it's open sourcing in Chef 11
[2012-07-23 18:08:22 -0400] newb: aha
[2012-07-23 18:08:27 -0400] newb: when does it come out?
[2012-07-23 18:08:35 -0400] mattray: at least, the erlang/sql replacement of ruby/couch
[2012-07-23 18:08:41 -0400] mattray: "soon"
[2012-07-23 18:08:45 -0400] newb: ha ha
[2012-07-23 18:09:01 -0400] mattray: I'm not in the loop, being a remote non-dev and all
[2012-07-23 18:09:07 -0400] mattray: but I'd say this year
[2012-07-23 18:09:26 -0400] newb: @mattray: what do you think about the options['knife_options'] passthrough? or would the best way out be to specifiy a custom knife.rb?
[2012-07-23 18:09:41 -0400] mattray: well the custom knife.rb already works
[2012-07-23 18:09:48 -0400] newb: that 's some good tool right there you wrote
[2012-07-23 18:09:54 -0400] newb: hh
[2012-07-23 18:09:56 -0400] newb: hhm
[2012-07-23 18:10:02 -0400] newb: ah ok
[2012-07-23 18:10:03 -0400] mattray: so passing additional stuff from the cli seems extraneous
[2012-07-23 18:10:34 -0400] mattray: at some point spiceweasel needs to become a knife plugin
[2012-07-23 18:10:40 -0400] newb: I agree
[2012-07-23 18:10:42 -0400] mattray: and then you'd get it all for free
[2012-07-23 18:10:52 -0400] geekbri: I basically wrote my own knife plugin that does a lot of the same stuff as spiceweasel for us here
[2012-07-23 18:10:54 -0400] newb: would you have time to code it?
[2012-07-23 18:11:04 -0400] newb: geekbri: gimme a URI
[2012-07-23 18:11:08 -0400] mattray: newb: not for awhile
[2012-07-23 18:11:18 -0400] newb: * looking at geekbri
[2012-07-23 18:11:24 -0400] geekbri: newb: ok, but its probably going to need major modification to suit your needs.
[2012-07-23 18:11:33 -0400] newb: lemme check  it out
[2012-07-23 18:11:33 -0400] geekbri: newb: I haven't had enough time to enhance and build the rest of it, like I had planned
[2012-07-23 18:11:46 -0400] newb: <happens to all of us> :-D
[2012-07-23 18:11:53 -0400] geekbri: newb: https://github.com/brianbianco/knife-nodefu
[2012-07-23 18:12:05 -0400] geekbri: it is very rough right now, although we currently use it to launch a lot of instances.
[2012-07-23 18:12:18 -0400] geekbri: Dev time will be dedicated to it eventually.  We just have other more pressing issues.
[2012-07-23 18:13:35 -0400] geekbri: It's a little too tailored to a lot of our specific conventions at the moment.  Like I said, if you want it to work for you, you will have to fork and modify heavily.
[2012-07-23 18:14:26 -0400] geekbri: It needs some refactoring and reorg, and things pulled out and made nicer, so I make no promises about the current code quality :)
[2012-07-23 18:28:10 -0400] newb: I saw a git plugin, but I forget where, but it allowed me to fetch cookbooks from a git repo and then upload them to the chef server etc
[2012-07-23 18:28:22 -0400] newb: *knife plugin
[2012-07-23 18:28:38 -0400] newb: not this one: https://github.com/websterclay/knife-github-cookbooks
[2012-07-23 18:28:44 -0400] miah: librarian
[2012-07-23 18:28:48 -0400] miah: berkshelf
[2012-07-23 18:28:55 -0400] miah: look that way. knife-github == pain
[2012-07-23 18:32:34 -0400] geekbri: both of those are good
[2012-07-23 18:33:36 -0400] newb: miah, thanks, heard a lot about librarian
[2012-07-23 18:44:22 -0400] knuckolls: i realize the answer is probably zookeeper or it's brethren, but is anyone out there dealing with needing to wait for things to happen on a group of nodes before doing something else in the architecture. i need like a distributed lock or something adequate.
[2012-07-23 18:44:57 -0400] knuckolls: i'm assuming this should happen within the context of the chef-run, but i'll rip it out if necessary. just adds more complexity.
[2012-07-23 18:45:16 -0400] grantr: knuckolls, that's a common need but there's no turnkey solution. one attempt was https://github.com/lusis/noah
[2012-07-23 18:45:40 -0400] knuckolls: i haven't looked at noah since lusis was building it and talking about it often
[2012-07-23 18:45:43 -0400] knuckolls: it's a SPOF right?
[2012-07-23 18:45:51 -0400] knuckolls: just a registry a-la zk?
[2012-07-23 18:45:52 -0400] grantr: yes i dont think its actively developed
[2012-07-23 18:46:01 -0400] grantr: zookeeper would be a more stable choice
[2012-07-23 18:46:11 -0400] grantr: i suspect you could take noah's lock and barrier resources and rewrite them for zk
[2012-07-23 18:46:24 -0400] grantr: then share them because i need them too :)
[2012-07-23 18:46:31 -0400] knuckolls: i may. i'd be surprised if someone out there hasn't encountered this yet and build that for zk
[2012-07-23 18:46:34 -0400] knuckolls: haha i see ;)
[2012-07-23 18:46:41 -0400] atomic-penguin: knife-github worked for me, its less of a pain than git submodules
[2012-07-23 18:47:07 -0400] knuckolls: grantr: so i guess what i'm hearing from you is, doesn't exist: build it.
[2012-07-23 18:47:13 -0400] knuckolls: which you know, i kind of knew to be true
[2012-07-23 18:47:38 -0400] grantr: knuckolls, yes :)
[2012-07-23 18:47:38 -0400] yfeldblum: knuckolls, is there some way you could write the recipe such that you can be tolerant of edge cases?
[2012-07-23 18:48:02 -0400] knuckolls: yfeldblum: i'd likely have to do some heavier design work before i could answer that question ;)
[2012-07-23 18:48:13 -0400] knuckolls: but maybe, i kind of need it. so i'll have time to think about tit.
[2012-07-23 18:48:14 -0400] knuckolls: it.
[2012-07-23 18:48:27 -0400] yfeldblum: knuckolls, even just failing the chef-client run early?
[2012-07-23 18:49:45 -0400] knuckolls: earlier i was convinced that wouldn't work
[2012-07-23 18:49:50 -0400] knuckolls: but let me chew on it for a second.
[2012-07-23 18:52:36 -0400] doomviking: so glad my previous boss decided it was a good idea to outsource dns services.
[2012-07-23 18:53:45 -0400] yfeldblum: doomviking, ?
[2012-07-23 18:53:47 -0400] doomviking: ah. DDOS.
[2012-07-23 18:53:54 -0400] doomviking: DDOS against zerigo.com
[2012-07-23 18:54:08 -0400] doomviking: just bitching. carry on.
[2012-07-23 19:05:31 -0400] miah: smart admins host primary, secondary, and tertiary dns name servers on different providers..
[2012-07-23 19:06:24 -0400] jeffg: i kind of get the impression that it's considered poor form to create a new top-level databag for an application, that chefs should nest their apps' data under a key in the top-level 'apps' bag instead.  is this accurate?
[2012-07-23 19:08:28 -0400] doomviking: miah: smart? whats that?
[2012-07-23 19:09:02 -0400] doomviking: this isn't prodction, anyway. annoying.
[2012-07-23 19:09:29 -0400] hoover_damm: teritary dns used more often now?
[2012-07-23 19:09:43 -0400] hoover_damm: doubt it
[2012-07-23 19:09:50 -0400] hoover_damm: gotta havethe glue set right now no?
[2012-07-23 19:10:17 -0400] yfeldblum: jeffg, what gave you that impression?
[2012-07-23 19:10:26 -0400] doomviking: pretty rare to see a tertiary
[2012-07-23 19:11:34 -0400] jeffg: yfeldblum, looking at the radiant recipe from the hosted quickstart, along with enough programming experience to have developed an allergy to doing things that risk polluting a namespace
[2012-07-23 19:13:09 -0400] yfeldblum: jeffg, i think of data bags as if they were mysql tables, and data bag items as if they were rows in a table, and the id field (or filename) of the data bag item as if they were the primary key values of those rows
[2012-07-23 19:13:35 -0400] jeffg: you lost me at "mysql" ;)
[2012-07-23 19:13:42 -0400] yfeldblum: jeffg, postgres?
[2012-07-23 19:13:48 -0400] jeffg: that's better :)
[2012-07-23 19:13:48 -0400] yfeldblum: jeffg, mssql? oracle?
[2012-07-23 19:13:57 -0400] yfeldblum: jeffg, text file?
[2012-07-23 19:14:29 -0400] yfeldblum: jeffg, does that way of looking at it help?
[2012-07-23 19:14:40 -0400] jeffg: your analogy makes sense, i'm just a DB snob and a smartass
[2012-07-23 19:15:36 -0400] jeffg: yfeldblum, thanks!
[2012-07-23 19:16:06 -0400] yfeldblum: jeffg, right there with you on the preference for postgres
[2012-07-23 19:16:36 -0400] yfeldblum: jeffg, however i find that the dev-null db system is much faster for writes
[2012-07-23 19:18:00 -0400] jeffg: yfeldblum, what is dev-null?  does it have btrees?!?  are there many examples for its use on stackoverflow.com?
[2012-07-23 19:19:19 -0400] yfeldblum: jeffg, it's kind of like redis, but more ephemeral
[2012-07-23 19:19:33 -0400] jeffg: badass, i know where i'm putting all my data from now on
[2012-07-23 19:19:58 -0400] geekbri: dev-null is so fast for reads and writes, even faster than mongodb! Same data resiliency.
[2012-07-23 19:20:06 -0400] geekbri: ;)
[2012-07-23 19:20:17 -0400] yfeldblum: geekbri, turn on --journal in mongo then?
[2012-07-23 19:20:44 -0400] geekbri: yfeldblum: Wait you mean I have to examine what I want from a product the configure it?
[2012-07-23 19:20:50 -0400] geekbri: I can't do that sorry.
[2012-07-23 19:20:56 -0400] yfeldblum: geekbri, do writes with safe mode?
[2012-07-23 19:21:01 -0400] jeffg: geekbri, then you should just put everything in The Cloud.
[2012-07-23 19:21:03 -0400] yfeldblum: geekbri, indeed!
[2012-07-23 19:21:25 -0400] geekbri: If I put everything in the cloud it will reside in the same general vicinity as my head.
[2012-07-23 19:21:42 -0400] yfeldblum: jeffg, dev-null is a true cloud db, because it is made of gaseous dihidrogen-monoxide formations
[2012-07-23 19:21:53 -0400] geekbri: I don't store my data in databases, I just remember it all.  It's faster that way.
[2012-07-23 19:21:58 -0400] jeffg: <isaacwang> jeffg, mysql is a network-attached spreadsheet used by pr0n sites and other dodgy entities across the Internet.
[2012-07-23 19:22:02 -0400] geekbri: i _AM_ the endpoint to the APIs
[2012-07-23 19:23:12 -0400] jeffg: yfeldblum, ooh, i've heard about this dHmO thing.  it's the new GaAs.
[2012-07-23 19:23:43 -0400] newb: https://twitter.com/devops_borat new tweet needs to be "dev-null is so fast for reads and writes, even faster than mongodb! Same data resiliency"
[2012-07-23 19:23:56 -0400] jeffg: +1
[2012-07-23 19:24:02 -0400] geekbri: oh devops borat, how he captures my heart.
[2012-07-23 19:24:14 -0400] newb: he captures the truth
[2012-07-23 19:24:17 -0400] newb: lol
[2012-07-23 19:24:40 -0400] geekbri: Eventually consistent is not say when eventually is.
[2012-07-23 19:25:18 -0400] jeffg: lulz
[2012-07-23 19:25:36 -0400] yfeldblum: geekbri, sometime after the partition has been fixed?
[2012-07-23 19:25:47 -0400] geekbri: yfeldblum: Or sometime after the partition is destroyed!
[2012-07-23 19:26:39 -0400] newb: I play kraftwerk's boing boom tschak everytime new tweet from devops_borat
[2012-07-23 19:26:56 -0400] geekbri: I want to know who the man behind the curtain is
[2012-07-23 19:27:00 -0400] geekbri: man/woman
[2012-07-23 19:27:01 -0400] yfeldblum: geekbri, dev-null is a linearly scalable high-throughput low-latency immediately-consistent always-available partition-tolerant distributed database
[2012-07-23 19:27:04 -0400] geekbri: because he/she is very funny
[2012-07-23 19:27:21 -0400] geekbri: yfeldblum: That had enough buzzwords to sell me, who do I pay to implement it???
[2012-07-23 19:27:43 -0400] yfeldblum: geekbri, 10gen
[2012-07-23 19:28:47 -0400] jeffg: might be too many buzzwords for a single tweet
[2012-07-23 19:29:28 -0400] atomic-penguin: 140 chars, its legit, can't tag it with OH though
[2012-07-23 19:29:31 -0400] jeffg: yow!  echo 'dev-null is a linearly scalable high-throughput low-latency immediately-consistent always-available partition-tolerant distributed database' | wc -m
[2012-07-23 19:29:34 -0400] jeffg: 140
[2012-07-23 19:29:35 -0400] yfeldblum: "I beat CAP with dev-null!" is short enough to fit on a t-shirt
[2012-07-23 19:30:03 -0400] atomic-penguin: jeffg, I did the same thing
[2012-07-23 19:30:24 -0400] yfeldblum: https://twitter.com/yfeldblum/status/227485722209292288
[2012-07-23 19:33:49 -0400] newb: +1
[2012-07-23 19:36:07 -0400] geekbri: damnit well now I can't retweet it bryanwb already did ;)
[2012-07-23 19:36:33 -0400] geekbri: only one bwb is allowed to retweet at a time
[2012-07-23 19:38:32 -0400] miah: heh
[2012-07-23 19:40:32 -0400] geekbri: yfeldblum: I beg you to change your twitter avatar off that horrid blue egg :)
[2012-07-23 19:41:28 -0400] newb: hoi bryanwb, where the fresh logstash content on showz
[2012-07-23 19:41:59 -0400] geekbri: I'm not foodfights bryanwb, I'm just normal existence Brianwb
[2012-07-23 19:42:02 -0400] miah: when people don't change the default icon it always irks me
[2012-07-23 19:42:11 -0400] geekbri: I especially just hate that icon.
[2012-07-23 19:42:25 -0400] miah: default icon = probably a spammer
[2012-07-23 19:42:28 -0400] geekbri: I dont know what it is about it, maybe some suppressed traumatic childhood memory.
[2012-07-23 19:42:33 -0400] miah: icon of some hot chic = probabl a spammer
[2012-07-23 19:42:34 -0400] geekbri: hah, maybe thats it.
[2012-07-23 19:48:41 -0400] bytheway: Has there been an omnibus sever 10.10 release for redhat yet?
[2012-07-23 19:49:21 -0400] bytheway: Looking at the s3 repo, not seeing it, just making sure I'm looking at the right place
[2012-07-23 19:51:01 -0400] newb: bytheway, there's a knife server plugin
[2012-07-23 19:52:32 -0400] bytheway: That only works for Debian/Ubuntu, does it not?
[2012-07-23 19:55:55 -0400] mattray: bytheway: probably not until Chef 11
[2012-07-23 19:57:04 -0400] bytheway: Ok, from the chefconf intro I thought it was going to be earlier than that
[2012-07-23 19:58:13 -0400] mattray: I don't think there's a lot more 10.x releases planned
[2012-07-23 19:58:29 -0400] mattray: 10.14 has why-run and logging enhancements
[2012-07-23 19:58:32 -0400] jtimberman: 10.14 is beta!
[2012-07-23 19:58:35 -0400] jtimberman: try it
[2012-07-23 19:58:39 -0400] mattray: it's super-dope!
[2012-07-23 19:59:31 -0400] bytheway: Yeah, if I'm going to have to brute force install it, I'll go for the latest
[2012-07-23 19:59:59 -0400] erratic: http://sphotos-b.xx.fbcdn.net/hphotos-ash4/376310_332272673527109_563587752_n.jpg
[2012-07-23 20:01:22 -0400] bytheway: Wish I didn't have to use redhat, dang large corporations
[2012-07-23 20:02:02 -0400] anthroprose: truth to that
[2012-07-23 20:08:14 -0400] ssd7: hrmm.  I can see that someone in this room pinged me, but can't find it for some reason
[2012-07-23 20:08:39 -0400] geekbri: ssd7: It was just me :)
[2012-07-23 20:08:47 -0400] geekbri: ssd7: I was just letting you know that i rebased
[2012-07-23 20:12:00 -0400] erratic: dude redhat is ghetto
[2012-07-23 20:12:02 -0400] erratic: why the fuck
[2012-07-23 20:12:06 -0400] erratic: would anybody want to use it
[2012-07-23 20:12:07 -0400] erratic: I dont get it
[2012-07-23 20:12:44 -0400] bytheway: Because some bean counter won't let us run anything that we can't buy support for.
[2012-07-23 20:12:44 -0400] erratic: saying you use it because you're a large corporation is like saying you want aids just because you dont want to have to worry about whether or not you'll ever get aids....
[2012-07-23 20:12:56 -0400] erratic: ohhh support
[2012-07-23 20:13:02 -0400] erratic: well then why not just use microsoft then
[2012-07-23 20:13:04 -0400] bytheway: I don't make the call, unfortunately
[2012-07-23 20:13:07 -0400] erratic: lol
[2012-07-23 20:13:17 -0400] bytheway: Hey, don't give them any ideas
[2012-07-23 20:13:40 -0400] bytheway: We actually do have a lo
[2012-07-23 20:13:41 -0400] erratic: no I get that
[2012-07-23 20:13:46 -0400] bytheway: A lot of MS
[2012-07-23 20:13:50 -0400] erratic: support makes sense
[2012-07-23 20:14:12 -0400] bytheway: It would make more sense if we actually used it...
[2012-07-23 20:14:24 -0400] erratic: yeah I mean
[2012-07-23 20:14:29 -0400] erratic: thats the second half of that
[2012-07-23 20:14:46 -0400] erratic: who can't support linux on their own
[2012-07-23 20:14:52 -0400] erratic: besides people who don't know what they're doing
[2012-07-23 20:15:07 -0400] erratic: what a waste of money to hire people who do know what theyre doing and pay for support
[2012-07-23 20:17:43 -0400] yfeldblum: erratic, paying insurance premiums =/= wasting money
[2012-07-23 20:18:41 -0400] yfeldblum: erratic, but of course a policy that says you have to buy an insurance premium for every pencil, desk, and ceiling tile that you buy ... is madness
[2012-07-23 20:19:18 -0400] erratic: yfeldblum are we talking about like
[2012-07-23 20:19:21 -0400] erratic: um
[2012-07-23 20:19:25 -0400] ssd7: geekbri: cool, thanks :)
[2012-07-23 20:19:25 -0400] erratic: compliance bs
[2012-07-23 20:19:34 -0400] geekbri: ssd7: no no no, thank YOU
[2012-07-23 20:19:38 -0400] erratic: because I dont know anything about compliance :(
[2012-07-23 20:20:06 -0400] yfeldblum: erratic, bytheway saying "some bean counter won't let us run anything that we can't buy support for"
[2012-07-23 20:20:39 -0400] erratic: yeah but does this have to do with like pci dss compliance or something.
[2012-07-23 20:20:48 -0400] erratic: is that why you buy support?
[2012-07-23 20:20:48 -0400] cheeseplus: bytheway: I feel for you on that one, we had to go RHEL at the University I was working at for similar reasons
[2012-07-23 20:21:00 -0400] bytheway: I'm at a healthcare company
[2012-07-23 20:21:15 -0400] bytheway: Compliance is everything
[2012-07-23 20:21:46 -0400] cheeseplus: on my side it was meeting FERPA compliance which is exactly although not quite as bad as healthcare compliance issues
[2012-07-23 20:21:48 -0400] cheeseplus: close though
[2012-07-23 20:22:40 -0400] erratic: HIPAA too I know a little tiny bit about it
[2012-07-23 20:22:52 -0400] geekbri: a healthcare company???
[2012-07-23 20:23:02 -0400] erratic: logistical nightmare
[2012-07-23 20:23:06 -0400] geekbri: quick, somebody start an angry mob!
[2012-07-23 20:23:10 -0400] bytheway: Lol
[2012-07-23 20:23:13 -0400] erratic: I second that
[2012-07-23 20:23:19 -0400] erratic: pitchforks out
[2012-07-23 20:23:32 -0400] anthroprose: haha... I used to work in insurance leadgen <shudders>.... All the same exact private health information.. but none of the regulation!
[2012-07-23 20:24:01 -0400] bytheway: It's a pretty good place overall, can't complain too much
[2012-07-23 20:24:02 -0400] geekbri: Sweet, so that is how the world knows about my count choculitis
[2012-07-23 20:24:11 -0400] anthroprose: attorney general of mass decided we didn't fall under hipaa
[2012-07-23 20:25:26 -0400] cheeseplus: erratic: when HIPAA and FERPA meet it's frigging terrifying
[2012-07-23 20:25:36 -0400] anthroprose: I filled out a mortage refi info request at a local credit union... then went the drivethrough at my big bank and they asked me why I wasn't looking to refi with them... that was my latest one
[2012-07-23 20:25:58 -0400] cheeseplus: we _had_ to use Oracle for a long time just to meet certain compliance standards
[2012-07-23 20:26:05 -0400] cheeseplus: it took like 3 years to get MySQL certified
[2012-07-23 20:32:07 -0400] erratic: anthroprose lol
[2012-07-23 20:39:46 -0400] Majost: How does one define an order of operations for a recipe?
[2012-07-23 20:40:44 -0400] chip-: Top-to-bottom
[2012-07-23 20:41:01 -0400] Majost: chip-:  Thats not working in this case
[2012-07-23 20:41:22 -0400] chip-: Some things get queued until the end (service actions, for instance)
[2012-07-23 20:41:22 -0400] Majost: some actions happen before others in the sequence no matter where they are, which is breaking my cookbook
[2012-07-23 20:41:55 -0400] geekbri: Majost: can you gist it for us?  Are they resources that are firing out of order, or is it some ruby code being evaluated before you want it to be
[2012-07-23 20:41:59 -0400] Majost: eg: rabbitmq is installing before the application rabbitmq uses is installed, no matter where I place it in the recipe.
[2012-07-23 20:43:15 -0400] miah: Majost: make your cookbook smarter
[2012-07-23 20:43:33 -0400] newb: if I do a "knife role from file base.rb", then update the .rb and do "knife role from file base.rb" again, will uploading the same role overwrite the old role?
[2012-07-23 20:43:48 -0400] miah: newb: yes
[2012-07-23 20:44:00 -0400] Majost: miah: https://gist.github.com/3166106
[2012-07-23 20:44:13 -0400] miah: not reading gists today
[2012-07-23 20:44:57 -0400] geekbri: Majost: keep in mind that include_recipe actually runs the recipe you pass it.
[2012-07-23 20:45:10 -0400] benblack: #lazyweb: what version of chef-client is currently in the ubuntu 12.04 apr repo?
[2012-07-23 20:45:17 -0400] benblack: apt
[2012-07-23 20:46:01 -0400] benblack: jtimberman: ^^
[2012-07-23 20:46:20 -0400] miah: seems like you could just query the repo and find the answer rather than bothering people
[2012-07-23 20:46:51 -0400] benblack: oh, i'm sorry, miah, i thought this was the #chef channel where you asked questions about chef.
[2012-07-23 20:46:54 -0400] Majost:  /topic
[2012-07-23 20:46:55 -0400] Majost: heh
[2012-07-23 20:47:06 -0400] benblack: i didn't realize i had joined #butthurt
[2012-07-23 20:47:12 -0400] doomviking: oh dear
[2012-07-23 20:47:38 -0400] miah: sure ask chef questions, but asking something that would literally take you <5seconds to figure out on your own is really frustrating
[2012-07-23 20:47:46 -0400] benblack: you poor thing.
[2012-07-23 20:47:53 -0400] erratic: come on yall
[2012-07-23 20:47:55 -0400] benblack: i encourage you to avail yourself of /ignore
[2012-07-23 20:48:09 -0400] benblack: then you needn't concern yourself with my questions at all.
[2012-07-23 20:48:27 -0400] miah: ok. i gladly wont. but i wonder if i'll see you asking the same question in an hour
[2012-07-23 20:48:40 -0400] benblack: you're precious.
[2012-07-23 20:48:44 -0400] miah: <3
[2012-07-23 20:48:47 -0400] anthroprose: ben: I would avail yourself of installing from gems instead of the ubuntu repo... ruby dependency nightmare sometimes
[2012-07-23 20:48:48 -0400] geekbri: My mellow is being harshed so hard right now.
[2012-07-23 20:48:58 -0400] anthroprose: geekbri: more coffee
[2012-07-23 20:49:08 -0400] benblack: anthroprose: ok, thank you, was debating the various options and there was no clear right answer.
[2012-07-23 20:49:23 -0400] geekbri: anthroprose: I do not consume caffeinated beverages!
[2012-07-23 20:49:25 -0400] anthroprose: ben: I don't know if there is... I've just had issues in the past
[2012-07-23 20:49:27 -0400] behemphi: *erratic I am sorry to be somewhat off topic, but could you explain how /ignore works.  This is my first foray into IRC
[2012-07-23 20:49:32 -0400] benblack: i have, too
[2012-07-23 20:49:46 -0400] miah: benblack: /ignore <person> is pretty much all you need to know
[2012-07-23 20:49:55 -0400] miah: er, behemphi
[2012-07-23 20:50:01 -0400] miah: yay tab complete fail =)
[2012-07-23 20:50:06 -0400] behemphi: ah, thx miah
[2012-07-23 20:50:12 -0400] anthroprose: ubuntu 12.04 wasnt/isnt in the platform list from the repo... but the gems have always worked 100% for me
[2012-07-23 20:50:39 -0400] yfeldblum: miah, i believe the term is "gistignore"
[2012-07-23 20:50:51 -0400] benblack: just assembling a little script and didn't know whether it would be simpler to install ruby and then chef-client via gems or just chef-client from repo
[2012-07-23 20:50:55 -0400] geekbri: wouldn't it be I'm gistnoring ?
[2012-07-23 20:51:14 -0400] miah: generally when i want to ignore irc, i just detach my tmux session
[2012-07-23 20:51:15 -0400] benblack: ruby and chef-client it is, thanks for the help
[2012-07-23 20:51:22 -0400] behemphi: *benblack  I have tried the apt install on 12.04 once (about 2 months ago) and it was dodgy  (there were two gems I had to go find).  I have did not have a problem with "gem install", "knife bootstrap" or "knife rackspace server create ..."
[2012-07-23 20:51:28 -0400] anthroprose: if its on a newly minted server, I would suggest bootstrapping...
[2012-07-23 20:51:36 -0400] miah: omnibus installer ftw.
[2012-07-23 20:51:37 -0400] behemphi: So I second the "better to install from gems anyway"
[2012-07-23 20:51:59 -0400] benblack: is there knife gce server create yet?
[2012-07-23 20:52:02 -0400] evilantnie: is there an easy way to check within a recipe which type of chef client is currently running, specifically solo vs server?
[2012-07-23 20:52:21 -0400] behemphi: @anthroprose that begs a question for my not-so-sysadmin self.
[2012-07-23 20:52:32 -0400] behemphi: If I have existing infrastruction and want to roll out chef
[2012-07-23 20:52:44 -0400] yfeldblum: benblack, gce?
[2012-07-23 20:52:46 -0400] behemphi: do I just insure I have it right through copious testing then roll it over the existing stuff?
[2012-07-23 20:52:48 -0400] miah: evilantnie: Chef::Config[:solo]
[2012-07-23 20:52:56 -0400] evilantnie: thanks miah
[2012-07-23 20:52:58 -0400] benblack: yfeldblum: google compute engine
[2012-07-23 20:53:01 -0400] behemphi: (I get there are alot of ways to approach, and I am asking in general)
[2012-07-23 20:53:45 -0400] anthroprose: behemphi: I am fortunate enough to be completely greenfield... however when back-applying I have a tendency to pre-create all my creds and then just dump the .pem and update the client.rb on the clients/nodes
[2012-07-23 20:54:21 -0400] anthroprose: not that that addresses your running infrastructure new code in existing prod issue
[2012-07-23 20:54:48 -0400] behemphi: That does, however help me start thinking about the problem some
[2012-07-23 20:54:52 -0400] behemphi: I was greenfield too
[2012-07-23 20:55:07 -0400] anthroprose: I will be at the meetup thursday...
[2012-07-23 20:55:18 -0400] behemphi: hey, what is your @ctual name?
[2012-07-23 20:55:34 -0400] anthroprose: Alex Corley... we met at the mysql meetup... talked for a bit out front
[2012-07-23 20:55:41 -0400] anthroprose: you find a python guy yet?
[2012-07-23 20:55:43 -0400] behemphi: yep, I remember
[2012-07-23 20:56:57 -0400] geekbri: Boston?
[2012-07-23 20:56:57 -0400] bawt_: Boston is naughty
[2012-07-23 20:57:02 -0400] geekbri: haha
[2012-07-23 20:57:08 -0400] geekbri: I didn't expect that.
[2012-07-23 20:57:34 -0400] behemphi: @anthroprose, not yet.  We are delaying that in the face of a couple other opportunities.  Ah  startup life :-)
[2012-07-23 20:57:54 -0400] geekbri: behemphi, anthroprose: are you both boston based?
[2012-07-23 20:58:01 -0400] anthroprose: geekbri: Austin
[2012-07-23 20:58:09 -0400] anthroprose: Austin Massachusetts..
[2012-07-23 20:58:11 -0400] behemphi: yep, ATX man
[2012-07-23 20:58:19 -0400] geekbri: I suspected as much!
[2012-07-23 20:58:26 -0400] geekbri: perhaps ill see you guys at a meetup
[2012-07-23 20:58:27 -0400] behemphi: not as smart as boston but we got groovy :)
[2012-07-23 20:58:35 -0400] geekbri: Grails 4 life ?
[2012-07-23 20:58:42 -0400] behemphi: what is your @actual name then?
[2012-07-23 20:59:11 -0400] geekbri: @brianwbianco
[2012-07-23 20:59:18 -0400] geekbri: just like my twitter claims!
[2012-07-23 20:59:29 -0400] behemphi: great, see you Thursday.
[2012-07-23 20:59:45 -0400] geekbri: There is a meetup on thursday?
[2012-07-23 20:59:47 -0400] behemphi: behemphi is a play on my name
[2012-07-23 20:59:50 -0400] geekbri: tis not on me calendar.
[2012-07-23 20:59:55 -0400] behemphi: sec, I will get you a link
[2012-07-23 21:00:19 -0400] behemphi: http://www.meetup.com/Austin-DevOps/
[2012-07-23 21:00:25 -0400] behemphi: we are just getting started
[2012-07-23 21:00:34 -0400] freerobby: I'm able to deploy fine when logged into a box, but when I run "knife ssh" as the same user I get "ec2-23-20-158-139.compute-1.amazonaws.com [Mon, 23 Jul 2012 20:58:47 +0000] DEBUG: STDERR: Bundler::GemNotFound: Could not find rake-0.9.2.2 in any of the sources". Any thoughts on what else could cause this discrepancy?
[2012-07-23 21:00:35 -0400] anthroprose: hows parking down there?
[2012-07-23 21:00:42 -0400] behemphi: I am hoping to attract studs like Matt Ray
[2012-07-23 21:00:50 -0400] behemphi: ON a thurs night it should be good
[2012-07-23 21:01:01 -0400] behemphi: that early anyway :-)
[2012-07-23 21:01:16 -0400] behemphi: but the attraction part comes after we are established
[2012-07-23 21:01:20 -0400] anthroprose: cool... wasnt sure if there was a garage or something
[2012-07-23 21:01:23 -0400] freerobby: Here's my knife command (i login as "ubuntu"): "knife ssh "role:rails_app_server" "sudo chef-client" -x ubuntu -a ec2.public_hostname -C 1"
[2012-07-23 21:01:35 -0400] cheeseplus: behemphi: fyi, there is probably a bit of overlap with the Austin Web Arch meetup
[2012-07-23 21:01:54 -0400] cheeseplus: which is poorly named since we end up talking infrastructure and devops more often
[2012-07-23 21:02:27 -0400] behemphi: thx @cheeseplus that is part of the "agenda" this week is to pick the right night.  That is hard.  Maybe we need to get the groups combined?  This is not specifically Chef (also Puppet, CFEngine and self rolled)
[2012-07-23 21:03:03 -0400] behemphi: I have no skin in "hosting" this thing just filling a percieved need
[2012-07-23 21:03:07 -0400] cheeseplus: It may be beneficial, web arch is still small and I know the guys already running it
[2012-07-23 21:03:28 -0400] brandonvalentine: google and the chef docs seem to be failing me, but does anyone know of a way i can get the path of the currently executing cookbook from inside a recipe? i have a file that's part of the cookbook i need to read into a ruby object, and i'd rather not have to install it somewhere first using cookbook_file or the like
[2012-07-23 21:03:29 -0400] cheeseplus: there are other devops meetups but they are up northwest
[2012-07-23 21:04:42 -0400] behemphi: <consternated> hmm, need to do better research then and work to consolidate </consternated>
[2012-07-23 21:04:54 -0400] cheeseplus: behemphi: I'll sign up and hopefully make it, my impression is that there is plenty of interest
[2012-07-23 21:04:58 -0400] mattray: behemphi: at some point you'll probably be double-booked against ACUG and OpenStack Austin, both on Thursdays
[2012-07-23 21:05:00 -0400] cheeseplus: it's just getting the word out that is the hard part
[2012-07-23 21:05:02 -0400] behemphi: If location is the only issue, Jason Cohen has offered the wpengine offices as a bigger venue
[2012-07-23 21:05:19 -0400] anthroprose: cheese: I'm NW
[2012-07-23 21:05:24 -0400] anthroprose: and would prefer to stay here ;)
[2012-07-23 21:05:28 -0400] behemphi: I am Pflugerville
[2012-07-23 21:05:34 -0400] freerobby: Has anybody else seen inconsistency between ssh vs "knife ssh" environments? Does knife do anything funk with the environment that I should be aware of?
[2012-07-23 21:05:41 -0400] anthroprose: anderson mill here..
[2012-07-23 21:05:46 -0400] mattray: behemphi: I'm doing the Agile Austin DevOps SIG Wednesday at lunch
[2012-07-23 21:05:47 -0400] cheeseplus: so Canada
[2012-07-23 21:05:52 -0400] anthroprose: South Dallas
[2012-07-23 21:06:09 -0400] anthroprose: or as the classic FB map coined us ^^ "Who Cares" ^^
[2012-07-23 21:06:15 -0400] mattray: and tomorrow's Agile Austin Architecture SIGN is DevOps-related too
[2012-07-23 21:06:23 -0400] mattray: (also at lunch time)
[2012-07-23 21:06:40 -0400] cheeseplus: I had a friend do some great meetup research that seems to prove out downtown being better for meetups generally
[2012-07-23 21:06:46 -0400] anthroprose: mattray: are the lunchtime meepups worth it?
[2012-07-23 21:06:55 -0400] mattray: anthroprose: free lunch ;)
[2012-07-23 21:06:58 -0400] anthroprose: haha
[2012-07-23 21:07:09 -0400] anthroprose: im down near bazzarvoice, so I was going to do the velocity one
[2012-07-23 21:07:16 -0400] mattray: yeah, I'll be there
[2012-07-23 21:07:18 -0400] behemphi: My experinence is that the room makes the meetup if it is to be more than a social.
[2012-07-23 21:07:34 -0400] mattray: yup
[2012-07-23 21:07:37 -0400] behemphi: So I am inclined to go with the facility
[2012-07-23 21:08:01 -0400] behemphi: So let me ask this question then b/c Matt gets me thinking
[2012-07-23 21:08:02 -0400] mattray: behemphi: you want it downtown?
[2012-07-23 21:08:29 -0400] behemphi: is there really a need to have a dedicated Devops meetup?
[2012-07-23 21:08:44 -0400] behemphi: if there are a number of groups focusing on it under differentt titles?
[2012-07-23 21:08:49 -0400] mattray: behemphi: I don't know. The lunch ones get 20ish people
[2012-07-23 21:09:00 -0400] cheeseplus: web arch is about the same number
[2012-07-23 21:09:10 -0400] mattray: OpenStack is 30-50
[2012-07-23 21:09:16 -0400] behemphi: @mattray I don't really care personally.  MySQL is getting 10 to 13 consistently but the space at Pervasive is great for presentations
[2012-07-23 21:09:45 -0400] mattray: the Linux meetups seem to be getting anemic
[2012-07-23 21:09:48 -0400] behemphi: I have preferences for the facility and consistency (same time/place each month)
[2012-07-23 21:10:07 -0400] erikh: add more iron to the food?
[2012-07-23 21:10:12 -0400] mattray: too many of them
[2012-07-23 21:10:16 -0400] behemphi: I should say if you don't know Pervasive is NW out by Apply
[2012-07-23 21:10:24 -0400] behemphi: s/Apply/Apple
[2012-07-23 21:10:29 -0400] mattray: yeah, I've been there
[2012-07-23 21:11:01 -0400] mattray: I'd probably make about half of them, same as the OpenStack meetups
[2012-07-23 21:11:15 -0400] mattray: between travel and needing to be home with my kids, nights are hard
[2012-07-23 21:11:17 -0400] btm: benblack: https://github.com/opscode/knife-google
[2012-07-23 21:11:21 -0400] behemphi: Well the goal is to shake all this out Thursday night.  Lunch seems a great suggestion
[2012-07-23 21:11:32 -0400] mattray: lunch I would make a point to make
[2012-07-23 21:11:35 -0400] mattray: much easier
[2012-07-23 21:11:48 -0400] behemphi: I will be sure to bring it up!
[2012-07-23 21:11:49 -0400] mattray: (and I gotta eat anyway)
[2012-07-23 21:11:52 -0400] benblack: btm: thanks!
[2012-07-23 21:15:28 -0400] btm: benblack: btw, from what I've heard, you probably won't like the gce 'api'
[2012-07-23 21:17:56 -0400] benblack: btm: don't know why that is in quotes, it's a really clean REST api and i like it a lot
[2012-07-23 21:20:06 -0400] btm: benblack: maybe things have gotten significantly better and all is good then. I haven't looked at it since before launch.
[2012-07-23 21:20:16 -0400] benblack: before the private beta?
[2012-07-23 21:20:39 -0400] benblack: https://developers.google.com/compute/docs/reference/v1beta12/
[2012-07-23 21:21:29 -0400] btm: benblack: when I looked at it last we had to download a cli tool and wrap it because the API wasn't stable. I'd have to search my email to recall how long ago that was.
[2012-07-23 21:21:46 -0400] benblack: that is still the case, but the api is nice
[2012-07-23 21:22:14 -0400] benblack: i'm using gcutil for everything, though
[2012-07-23 21:22:20 -0400] freerobby: Is anybody who works on the knife core utility around by chance?
[2012-07-23 21:24:53 -0400] btm: freerobby: yes, there are knife developers around.
[2012-07-23 21:25:48 -0400] btm: benblack: glad you think so. I anxiously await the future where we use it directly/via fog.
[2012-07-23 21:27:24 -0400] freerobby: btm: I'm trying to figure out why a "knife ssh" command runs with a different environment than the same ssh command on the box.
[2012-07-23 21:27:45 -0400] freerobby: wasn't sure if this was the best place
[2012-07-23 21:28:04 -0400] anthroprose: define different environment.... chef environment, console environment?
[2012-07-23 21:28:19 -0400] freerobby: anthroprose: shell environment
[2012-07-23 21:28:21 -0400] freerobby: for instance
[2012-07-23 21:28:30 -0400] freerobby: on box i'm able to see "JBOSS_HOME=/opt/torquebox/current/jboss"
[2012-07-23 21:28:38 -0400] freerobby: but that whole variable is missing when run through knife ssh
[2012-07-23 21:28:47 -0400] benblack: is knife ssh running as the same user?
[2012-07-23 21:28:49 -0400] freerobby: both running bash shell for same user
[2012-07-23 21:28:50 -0400] freerobby: yes.
[2012-07-23 21:30:13 -0400] btm: freerobby: what script defines JBOSS_HOME?
[2012-07-23 21:30:14 -0400] freerobby: benblack: the only variable showing in both that is different (besides ssh ports) is TERM
[2012-07-23 21:30:19 -0400] anthroprose: free: possibly source your .bashrc or whatever is populating the environment variables from the knife ssh run?
[2012-07-23 21:30:32 -0400] paulmooring: freerobby: where is JBOSS_HOME set?
[2012-07-23 21:30:56 -0400] benblack: freerobby: that's a pretty good hint at the problem
[2012-07-23 21:31:46 -0400] freerobby: btm: paulmooring: It's set in a torquebox init script. I'm just trying to figure out why one new ssh session would have it and a knife session wouldn't, and if it implies anything about the environment that knife creates.
[2012-07-23 21:34:04 -0400] workmad3: freerobby: knife ssh would be the equivalent of doing ssh with a command, which doesn't do a login shell
[2012-07-23 21:34:24 -0400] benblack: ding
[2012-07-23 21:35:16 -0400] btm: freerobby: something else is going to be executing that script when you login, anthroprose offered bashrc. you'll need to source the same login scripts if you want those variables set (or just set them as part of the command)
[2012-07-23 21:37:03 -0400] freerobby: btm: I was assuming that knife ran a standard bash session in interactive mode. Is that errant?
[2012-07-23 21:37:39 -0400] freerobby: workmad3: Just saw that, thanks.
[2012-07-23 21:42:59 -0400] leifmadsen: not sure if this is a silly question, but is there a way to tell chef-client to attempt to connect to the chef server via a specific interface?
[2012-07-23 21:43:08 -0400] cakehero: anyone know why this role wouldn't be recognized: http://cl.ly/image/040N3X151r09
[2012-07-23 21:43:24 -0400] btm: freerobby: knife ssh uses net::ssh, which does not provide a login shell. it's very low level. you could use the screen or tmux options to run a login shell if you wanted.
[2012-07-23 21:43:26 -0400] cakehero: i have the 'name' attribute set in the roles/<role_name>.rb file ('api_server')
[2012-07-23 21:43:35 -0400] behemphi: @cakehero
[2012-07-23 21:43:37 -0400] behemphi: check the case
[2012-07-23 21:43:38 -0400] cakehero: sup
[2012-07-23 21:43:40 -0400] behemphi: roles are case sensitive
[2012-07-23 21:43:46 -0400] cakehero: all lower all the time
[2012-07-23 21:43:56 -0400] behemphi: well damn  that was supposed to be easy!
[2012-07-23 21:43:58 -0400] freerobby: btm: I will look into that, thank you.
[2012-07-23 21:44:13 -0400] cakehero: could i be overwriting the name somehow on accident?
[2012-07-23 21:44:22 -0400] cakehero: I'm a r00bie newbie
[2012-07-23 21:44:24 -0400] btm: freerobby: if you need an env via knife ssh I would do something like 'knife ssh foo:bar JBOSS_HOME=/dev/null /opt/jboss/start_something'
[2012-07-23 21:44:51 -0400] behemphi: my other suggestion would be to insure you have uploaded it to the server if it is a new role
[2012-07-23 21:44:58 -0400] cakehero: behemphi chef solo
[2012-07-23 21:45:03 -0400] cakehero: behemphi no server
[2012-07-23 21:45:18 -0400] behemphi: I am not a hero and will not be having cake tonight #sad
[2012-07-23 21:45:22 -0400] cakehero: I put an "exit" int he roles file and it didn't exit, perhaps it's not being read?
[2012-07-23 21:45:24 -0400] behemphi: sorry man
[2012-07-23 21:45:42 -0400] cakehero: any intricacies w/the roles_path?
[2012-07-23 21:46:02 -0400] behemphi: I don't use files for my roles yet (#shame) so I am not versed there
[2012-07-23 21:46:08 -0400] behemphi: will have to defer to the chef gods
[2012-07-23 21:46:38 -0400] cakehero: any way to debug the roles path to make sure it's being set properly?
[2012-07-23 21:46:48 -0400] workmad3: cakehero: can you pastie the roles file too pls?
[2012-07-23 21:46:54 -0400] cakehero: workmad3 sure
[2012-07-23 21:49:30 -0400] cakehero: workmad3 https://gist.github.com/c086230aeb2278fb6be0
[2012-07-23 21:50:18 -0400] cakehero: thanks
[2012-07-23 21:50:42 -0400] cakehero: workmad3 behemphi  maybe something to do w/ruby versions or chef versions?
[2012-07-23 21:51:03 -0400] workmad3: cakehero: hmm... actually, it could be because you're doing ~/chef/roles as your roles path...
[2012-07-23 21:51:25 -0400] cakehero: I used to have it as 'roles' then './roles' and then '~/chef/roles'
[2012-07-23 21:51:28 -0400] cakehero: I tried all three
[2012-07-23 21:51:37 -0400] cakehero: but i'll try a different one if you think I should
[2012-07-23 21:51:58 -0400] workmad3: cakehero: try File.expand_path("~/chef/roles")
[2012-07-23 21:52:05 -0400] behemphi: I guess my only input is that the hard code just "feels" wrong
[2012-07-23 21:52:15 -0400] cakehero: workmad3 ok that makes it absolute?
[2012-07-23 21:52:20 -0400] behemphi: maybe shoudl say "absolute path"
[2012-07-23 21:52:22 -0400] cakehero: behemphi whats hard code? heh
[2012-07-23 21:53:18 -0400] workmad3: behemphi: it's a config file
[2012-07-23 21:53:50 -0400] workmad3: behemphi: once you're into config files, you tend to need to push in absolute paths :)
[2012-07-23 21:54:19 -0400] cakehero: so I'm czeching out chef/role.rb
[2012-07-23 21:54:23 -0400] cakehero: and it looks kosher
[2012-07-23 21:54:54 -0400] cakehero: workmad3 I will try the absolute
[2012-07-23 21:56:04 -0400] cakehero: workmad3 nice - it thinks the file doesn't exist, I bet your solution is right
[2012-07-23 22:11:50 -0400] newb: @mattray: https://github.com/mattray/spiceweasel/blob/master/lib/spiceweasel/cookbook_list.rb#L72
[2012-07-23 22:12:17 -0400] newb: will this turn "depends 'apt'" into a dependency called '' instead of 'apt'?
[2012-07-23 22:14:50 -0400] btm: freerobby: please remember to follow up with the mailing list thread you created as to what you learn.
[2012-07-23 22:18:40 -0400] freerobby: btm: Will do. Still trying to figure out exactly what's different.
[2012-07-23 22:20:04 -0400] erratic: https://github.com/opscode-cookbooks/application_php is this getting rewritten?
[2012-07-23 22:21:17 -0400] flaccid_: i hope not coz i'm using it atm
[2012-07-23 22:21:22 -0400] flaccid_: erratic: where did you hear that?
[2012-07-23 22:22:25 -0400] erratic: flaccid_I heard something about an application cookbook being rewritten at the first 206 devops meetup I went to a few months ago
[2012-07-23 22:22:33 -0400] erratic: I don't remember exactly how long ago it was
[2012-07-23 22:23:00 -0400] erratic: I seem to want to remember that this application cookbook was a unified cookbook and now its several different application cookbooks but I could just be smokin crack
[2012-07-23 22:23:55 -0400] erratic: 4 months seems too long ago though
[2012-07-23 22:24:18 -0400] erratic: so I thought I might check
[2012-07-23 22:24:27 -0400] erratic: flaccid_ also don't worry too much about whether or not it does
[2012-07-23 22:24:41 -0400] erratic: all that amtters is that what you have suits your purpose *shrug*
[2012-07-23 22:24:50 -0400] erratic: I'm not in a hurry to start a cookbook like this tbqh
[2012-07-23 22:24:53 -0400] erratic: but it couldn't hurt
[2012-07-23 22:25:50 -0400] erratic: you know what would help me alot is to find out if there's anything going on with this mysql cookbook for ubuntu 12.04
[2012-07-23 22:26:04 -0400] erratic: I looked into it today and it seems like the last one they had support for was 10.0
[2012-07-23 22:26:20 -0400] erratic: so I'm wondering if I should hold off for someone else to work on that or if I should wait
[2012-07-23 22:26:27 -0400] erratic: or if I should just do it myself
[2012-07-23 22:35:26 -0400] erratic: so
[2012-07-23 22:35:33 -0400] erratic: are there any good opscode chef books yet
[2012-07-23 22:36:23 -0400] rava: erratic: the wiki's pretty good. from there i just look through community cookbooks
[2012-07-23 22:36:58 -0400] anthroprose: erratic: dont bother with the test driven infrastructure book
[2012-07-23 22:37:05 -0400] anthroprose: its like f'n 70 pages or something
[2012-07-23 22:37:24 -0400] rava: anyone using the users community cookbook?
[2012-07-23 22:37:40 -0400] rava: i'm trying to figure out how to tell it to skip users that are logged in so it doesn't puke half way through a run
[2012-07-23 22:45:35 -0400] erratic: anthroprose I seem to remember I had a pirated copy of the test driven book
[2012-07-23 22:45:50 -0400] erratic: and that it was just a bunch of pseudo intellectual nonsense about agile this and that
[2012-07-23 22:46:04 -0400] erratic: and not much about what I needed to do to get the shit working
[2012-07-23 22:46:10 -0400] erratic: I could just be smoking crack though
[2012-07-23 22:46:27 -0400] anthroprose: sounds about right
[2012-07-23 22:46:51 -0400] anthroprose: how about we publish the chat logs & make a killing?
[2012-07-23 22:47:10 -0400] erratic: hehe
[2012-07-23 22:47:22 -0400] anthroprose: there has to be some sort of form you can fill out that produces an oreilly book
[2012-07-23 22:48:10 -0400] yfeldblum: it's also a very early work whose purpose was to introduce the idea into the minds of people who have never heard of it and to propose the way forward
[2012-07-23 22:48:14 -0400] erratic: I was thinking about that a second ago and I decided not to say anything in favor of my own motivation but I'll bet you anything they're picky about what they'll take and who they will take it from
[2012-07-23 22:48:35 -0400] yfeldblum: one usually does not see the comprehensive treatise on a subject until that subject has been somewhat developed
[2012-07-23 22:48:48 -0400] anthroprose: yfeld: its just frustrating to people looking for something substantive... and that little tomb is literrally the only volume on the market
[2012-07-23 22:49:45 -0400] yfeldblum: anthroprose, indeed; newton had the same complaint on the subjects of the derivative calculus and the phenomenon of gravitation
[2012-07-23 22:50:14 -0400] erratic: lol
[2012-07-23 22:50:22 -0400] erratic: gettin nerdy up in here
[2012-07-23 22:50:27 -0400] anthroprose: and look where it got us.... we're still living in a newtonian driven understanding way past its time...
[2012-07-23 22:51:07 -0400] yfeldblum: anthroprose, to begin getting technical, newton has not been superceded; he has only been extended
[2012-07-23 22:51:22 -0400] anthroprose: teehee
[2012-07-23 22:51:31 -0400] anthroprose: agreed... just frustrated at my public schooling
[2012-07-23 22:52:01 -0400] anthroprose: I was taught atomic theory as marbles wizzing around a globe ya know...
[2012-07-23 22:52:28 -0400] anthroprose: at least we talked about location probability...
[2012-07-23 22:54:08 -0400] yfeldblum: anthroprose, that's what amazon is for
[2012-07-23 22:54:20 -0400] yfeldblum: anthroprose, and here we thought that amazon was for hosting websites ...
[2012-07-23 22:54:24 -0400] anthroprose: and thats how I ended up with test driven infrastructure :(
[2012-07-23 22:54:28 -0400] anthroprose: hehehe
[2012-07-23 22:55:07 -0400] anthroprose: I find short format presentation is better for us ADAHAD whatever kinda people
[2012-07-23 22:55:48 -0400] anthroprose: so I tend to do most of my learning through forum/blog discussions that include references
[2012-07-23 22:55:53 -0400] anthroprose: metafilter is good for such things
[2012-07-23 22:57:14 -0400] rava: anyone know how i can check if a user is logged in in a provider?
[2012-07-23 22:57:55 -0400] yfeldblum: rava, how would you do it from the shell?
[2012-07-23 22:58:52 -0400] rava: basically: $(ps -ef | grep USER | grep -v grep | wc -l) > 0 && skip_this_user
[2012-07-23 22:59:34 -0400] rava: using the users cookbook, but the recipes puke half way through if a user's logged in
[2012-07-23 22:59:54 -0400] yfeldblum: rava, you can use that same technique in a provider then
[2012-07-23 23:00:30 -0400] yfeldblum: rava, the basic ruby technique for shelling out is `` ... e.g.: result_from_stdout = `ls -A`
[2012-07-23 23:00:33 -0400] rava: yfeldblum: right, i was looking to see if there was a method in the User lwrp that users uses, but it doesn't seem to be the case
[2012-07-23 23:01:26 -0400] yfeldblum: rava, but using the method `shell_out`, which should be available in provider instances, is often more preferable
[2012-07-23 23:01:58 -0400] rava: yfeldblum: oh? interesting. i'd think one would want to grab from the lwrp methods first before hitting the shell
[2012-07-23 23:17:48 -0400] rava: yfeldblum: Chef::ShellOut.new() is the method you were talking about?
[2012-07-23 23:18:50 -0400] newb: is there a tool that given a cookbook name, will output a complete, recursive list of dependencies?
[2012-07-23 23:18:55 -0400] newb: I am using Berkshelf, but when I want to upload a cookbook to a remote server, I am getting dependency errors as my "knife upload" commands are out of order
[2012-07-23 23:20:36 -0400] newb: or is it possible to ask Berkshelf create such a list
[2012-07-23 23:31:57 -0400] newb: .
[2012-07-23 23:45:59 -0400] stormerider: so im a little confused about one thing. im using the user cookbook and i have data bags for the user-specific data (like uid, etc). some of the folks have left since i started taking this over. so i put in "action": "remove" for those users, but when i did a chef-client run, it didn't actually remove those users.
[2012-07-23 23:46:56 -0400] rava: so if you look at the data bag with knife show users username, the remove action is there?
[2012-07-23 23:47:57 -0400] erratic: http://wiki.basho.com/Concepts.html
[2012-07-23 23:47:59 -0400] erratic: so awesome
[2012-07-23 23:48:17 -0400] stormerider: if i do "knife data bag show users <username>", yes, it's listed there.
[2012-07-23 23:48:30 -0400] rava: hrm, and no errors spit by the client run?
[2012-07-23 23:48:51 -0400] stormerider: no, it actually updated the SSH keys for the user in question, heh.
[2012-07-23 23:48:52 -0400] rava: and 'recipe[users]' is in the node's run list?
[2012-07-23 23:49:29 -0400] anthroprose: erratic: there is a youtube video where they talk about the algorithm implementation....
[2012-07-23 23:49:48 -0400] rava: anthroprose: want
[2012-07-23 23:49:52 -0400] stormerider: the node list has a role which includes 'role[server]' which has 'recipe[users]'
[2012-07-23 23:50:49 -0400] rava: those are the 2 things that buggered my use of that cookbook
[2012-07-23 23:52:47 -0400] stormerider: rava: didnt quite follow that, could you elaborate?
[2012-07-23 23:55:05 -0400] rava: stormerider: meant that those were the 2 gotchas i ran into. first, i don't know why the data bag didn't update when i ran "from file". secondly, having 'recipe[users]' in the run list, since when i first used it i had made a few other recipes that i had in my run_lists without the default recipe.
[2012-07-23 23:55:24 -0400] rava: stormerider: try running a search for "action:remove" and see if you get the users you want deleted in the list
[2012-07-23 23:56:10 -0400] rava: then make sure that the :remove action is using the right field (u['id'] on mine. which is the user's username. userdel (what the lwrp uses) won't work against the uid if that's what is being returned by the u['id'])
[2012-07-23 23:58:25 -0400] stormerider: bit of a chef newbie, what's the easiest way to run that search?
