[2012-03-01 08:29:00 -0500] BryanWB: anyone know the emacs trick to nicely line up the attribute names and values in my resources?
[2012-03-01 08:50:00 -0500] jtimberman: BryanWB: yes
[2012-03-01 08:51:00 -0500] BryanWB: timberlake, go to sleep! way past your bedtime
[2012-03-01 08:51:00 -0500] jtimberman: BryanWB: i had a defun in my helpers from another repo but hadn't tracked down the correct fix
[2012-03-01 08:51:00 -0500] jtimberman: please stop saying timberlake
[2012-03-01 08:51:00 -0500] BryanWB: jtimberman: ok ;)
[2012-03-01 08:51:00 -0500] jtimberman: https://github.com/jtimberman/.emacs.d/blob/master/helpers.el#L64-70
[2012-03-01 08:52:00 -0500] jtimberman: I bind that to C-M-=
[2012-03-01 08:52:00 -0500] jtimberman: M-x align-regexp RET = RET
[2012-03-01 08:52:00 -0500] jtimberman: works too
[2012-03-01 08:52:00 -0500] jtimberman: don't forget to select the region
[2012-03-01 08:53:00 -0500] BryanWB: jtimberman: tks
[2012-03-01 08:53:00 -0500] jtimberman: and *now* i sleep :)
[2012-03-01 09:29:00 -0500] lflux_: ohai
[2012-03-01 09:38:00 -0500] RoboTeddy: can anyone tell why a ruby_block is used instead of a file resource here?: https://github.com/opscode/cookbooks/blob/master/application/recipes/php.rb#L69
[2012-03-01 09:40:00 -0500] RoboTeddy: it seems like a file resource with content = app["deploy_key"] would work
[2012-03-01 09:40:00 -0500] RoboTeddy: I'm rather scared to do it a different way in my own application though since for some reason opscode did it this way
[2012-03-01 10:18:00 -0500] iroller: Ohai Chefs. Is there a way to check the status of last chef-run on all nodes with knife?
[2012-03-01 10:19:00 -0500] iroller: I mean failed or success
[2012-03-01 10:20:00 -0500] BryanWB: iroller: i think there is but can't remember, nico has a nagios plugin that does it
[2012-03-01 10:20:00 -0500] jonlives: iroller: a guy I work with wrote this too: https://github.com/jgoulah/knife-lastrun
[2012-03-01 10:22:00 -0500] iroller: jonlives: there should be some way without editing 'client.rb' ...
[2012-03-01 10:22:00 -0500] jonlives: i'm sure there is :)
[2012-03-01 10:29:00 -0500] spheromak: check out the chef_handler cookbook for how you can setup handlers without editing the client.conf
[2012-03-01 10:29:00 -0500] spheromak: er client.rb
[2012-03-01 10:29:00 -0500] spheromak: :)
[2012-03-01 11:32:00 -0500] bluenemo: is there a common good way to get like node variables    ( node['foo']['bar'] ) into a shell variable ( $foo ) and the other way around? i'm using lots of bash in my recipe and want it to be able to work with the chef internal stuff
[2012-03-01 11:34:00 -0500] spheromak: would look at why you have so much bash :|
[2012-03-01 11:36:00 -0500] bluenemo: well idk :) i could do it in ruby but it seems faster that way.. found the answer however: http://wiki.opscode.com/display/chef/Unix+Environment+Variables+and+Chef+Recipes
[2012-03-01 11:37:00 -0500] bluenemo: but i'm making good use of the functions chef provides
[2012-03-01 11:57:00 -0500] proffalken: Anyone got an example of searching through multiple databags and flattening them into a single MASH?
[2012-03-01 11:58:00 -0500] proffalken: I'm working on a backup solution that will backup based on configuration set by the resposible team in a databag
[2012-03-01 11:58:00 -0500] proffalken: and I need to iterate over all of the bags collecting the job configs and then push those into a template as a single Mash...
[2012-03-01 12:00:00 -0500] BryanWB: proffalken: hmm. there is a .flatten  method for mash's
[2012-03-01 12:00:00 -0500] BryanWB: but u probably already knew that
[2012-03-01 12:01:00 -0500] BryanWB: my_data_bags.each { |d| big_mash << d.flatten }  , just a guess
[2012-03-01 12:02:00 -0500] proffalken: BryanWB: ok, thanks, I didn't know about .flatten, I keep leaping in the deepend... I'll take a look... :)
[2012-03-01 12:02:00 -0500] BryanWB: ruby has every goddamn method on the planet, problem is just finding them ;)
[2012-03-01 12:02:00 -0500] BryanWB: the opposite of python in that respect
[2012-03-01 12:48:00 -0500] spheromak: just use seach on your bags ?
[2012-03-01 12:48:00 -0500] spheromak: also you might want to just merge them all if there is hiarchy
[2012-03-01 12:49:00 -0500] spheromak:  Chef::Mixin::DeepMerge.merge  can be verry handy
[2012-03-01 12:58:00 -0500] BryanWB: that sounds dirty
[2012-03-01 13:00:00 -0500] bluenemo: hi guys, i'm trying to get variables from chef to bash and back.. how do i make this work?   ENV['sql_username'] => node['wordpress']['db']['user']      i basicly want every script ressource to be able to echo $sql_username  which should be ['foo']['bar'] from the attributes file (or somewhere in the recipe itself)
[2012-03-01 13:06:00 -0500] sivy: I'm trying to figure out the best way to get my ssl cert onto a new production server via chef; I believe I need to use encrypted data bags, anyone got a link that describes using EDB for ssl certs?
[2012-03-01 13:08:00 -0500] lflux: can I have multiple notifies in a resource?
[2012-03-01 13:10:00 -0500] proffalken: spheromak: can I search across multiple bags?
[2012-03-01 13:11:00 -0500] proffalken: BryanWB, spheromak: I really need to be able to do search(:alldatabags, "backupjob:*").each do | job |...
[2012-03-01 13:11:00 -0500] proffalken: is that possible?
[2012-03-01 13:11:00 -0500] BryanWB: proffalken: close
[2012-03-01 13:11:00 -0500] `brendan: morning
[2012-03-01 13:12:00 -0500] spheromak: you can't as far as i know search across databags they are in different solr indexes
[2012-03-01 13:12:00 -0500] spheromak: i could be wrong tho
[2012-03-01 13:13:00 -0500] proffalken: spheromak: so I need to search each databag individually? :(
[2012-03-01 13:13:00 -0500] BryanWB: %w{ datbag1 databag2 databag3}.each { |d|  my_big_mash << search(<search_using_databag_name>).raw_data.flatten }  but that's a guess
[2012-03-01 13:13:00 -0500] proffalken: BryanWB: cool, I'll give it a go
[2012-03-01 13:13:00 -0500] BryanWB: proffalken: u should work it out using shef
[2012-03-01 13:14:00 -0500] proffalken: ah, ok.
[2012-03-01 13:14:00 -0500] BryanWB: and use    require 'irb/completion'    for tab-completion
[2012-03-01 13:14:00 -0500] proffalken: BryanWB: cool! Can I stick that in my shef.rb file?
[2012-03-01 13:14:00 -0500] BryanWB: proffalken: whenever u have a problem, i always reach for shef first
[2012-03-01 13:14:00 -0500] BryanWB: put it iin   .irbrc
[2012-03-01 13:15:00 -0500] BryanWB: don't know about shef.rb
[2012-03-01 13:15:00 -0500] proffalken: ah, ok, so shef is a wrapper around irb?
[2012-03-01 13:15:00 -0500] nico: shef is joy
[2012-03-01 13:15:00 -0500] BryanWB: yes
[2012-03-01 13:15:00 -0500] nico: hi (s|c)heffers
[2012-03-01 13:15:00 -0500] BryanWB: proffalken: which is why it is joy  as the great nico points out ;)
[2012-03-01 13:16:00 -0500] proffalken: lol - using it now (And listening to FoodFight from episode one - new listener here!)
[2012-03-01 13:16:00 -0500] BryanWB: proffalken: awesome ;)
[2012-03-01 13:16:00 -0500] BryanWB: the audio quality gets a lot better , i swear
[2012-03-01 13:16:00 -0500] proffalken: lol
[2012-03-01 13:16:00 -0500] BryanWB: #4 is the best episode
[2012-03-01 13:16:00 -0500] nico: http://pastie.org/private/dtznkfdugtkafxjlfk7uqq
[2012-03-01 13:16:00 -0500] nico: my .irbrc
[2012-03-01 13:17:00 -0500] proffalken: nico: you are a legend. thank you :)
[2012-03-01 13:17:00 -0500] nico: proffalken: err, not exactly :) but you're welcome :)
[2012-03-01 13:17:00 -0500] proffalken: lol
[2012-03-01 13:17:00 -0500] BryanWB: nico: dude, u r a legend
[2012-03-01 13:19:00 -0500] spheromak:   /irb/pry/
[2012-03-01 13:19:00 -0500] spheromak: :D
[2012-03-01 13:20:00 -0500] nico: spheromak: didn't try it yet, any getting started link ?
[2012-03-01 13:20:00 -0500] nico: just heard about it
[2012-03-01 13:21:00 -0500] spheromak: eh theres some good screencasts
[2012-03-01 13:22:00 -0500] BryanWB: nico: pry is awesome, esp.  show-doc
[2012-03-01 13:22:00 -0500] BryanWB: i use it for show-doc, which basically is how i have learned ruby
[2012-03-01 13:22:00 -0500] nico: I'll take a look then :)
[2012-03-01 13:24:00 -0500] spheromak: yea jsut being able to open and look @ source or methods and setting breakpoints. dunno its like a ebugger and a repl all in one.  pretty slick
[2012-03-01 13:24:00 -0500] nico: 1 hour of train at the end of the day, I'll give it a shot
[2012-03-01 13:24:00 -0500] BryanWB: ouch!
[2012-03-01 13:24:00 -0500] nico: it's my everyday commute :)
[2012-03-01 13:25:00 -0500] spheromak: i like a commute like that
[2012-03-01 13:25:00 -0500] spheromak: time to read shit
[2012-03-01 13:25:00 -0500] nico: yeah
[2012-03-01 13:37:00 -0500] lflux: I need help getting around a circular dependency. I have a service resource that depends on a configuration file being in place to be able to start. I also want that file that is templated out to restart the service when it gets changed.
[2012-03-01 13:37:00 -0500] fearoffish: I'm having a stupid moment, and can't figure out how to get ohai to give me a list of installed packages on ubuntu.  Is there a way?
[2012-03-01 13:38:00 -0500] lflux: any ideas? If i define the template first it can't find the service, if I define the service first, have it subscribe to the template and then have the template notify the service the svc can't find the template
[2012-03-01 13:40:00 -0500] BryanWB: lflux: have the service subscribe to the template
[2012-03-01 13:41:00 -0500] BryanWB: lflux: and create the template first
[2012-03-01 13:41:00 -0500] lflux: can it subscribe to several resources
[2012-03-01 13:41:00 -0500] lflux: since there's a separate file that also needs to be in place
[2012-03-01 13:41:00 -0500] lflux: but that only triggers a reload
[2012-03-01 13:43:00 -0500] fearoffish: I believe so, but you could just try it :)
[2012-03-01 13:44:00 -0500] spheromak: lflux: yes just use multiple subscribes/notifies
[2012-03-01 13:45:00 -0500] proffalken: ok, is there a way to get a list of available databags from inside a recipe?
[2012-03-01 13:46:00 -0500] fearoffish: search("*") <- wild guess
[2012-03-01 13:46:00 -0500] proffalken: fearoffish: no, tried that... ;)
[2012-03-01 13:46:00 -0500] proffalken: chef > search("*", "*:*")
[2012-03-01 13:46:00 -0500] proffalken: [Thu, 01 Mar 2012 13:46:11 +0000] INFO: HTTP Request Returned 404 Not Found: I don't know how to search for * data objects.
[2012-03-01 13:47:00 -0500] fearoffish: possibly not then
[2012-03-01 13:48:00 -0500] fearoffish: man, searching for ohai information is nigh on impossible
[2012-03-01 13:48:00 -0500] fearoffish: googole is such a bag of crap lately
[2012-03-01 13:48:00 -0500] fearoffish: it just returns a million pages that list ubuntu packages
[2012-03-01 13:48:00 -0500] proffalken: fearoffish: wolframalpha? :P
[2012-03-01 13:48:00 -0500] proffalken: fearoffish: completely agree, SNR is appalling
[2012-03-01 13:48:00 -0500] fearoffish: that isn't a generic search engine :P
[2012-03-01 13:48:00 -0500] proffalken: what was the one that no-one could pronounce created by guys from google?
[2012-03-01 13:49:00 -0500] fearoffish: and I thought google was intelligent enough to remove the 1 billion replica pages too
[2012-03-01 13:49:00 -0500] fearoffish: here's 1 billion results of the exact same page (oh but it has a different header)
[2012-03-01 13:49:00 -0500] proffalken: lol, it was cuil...
[2012-03-01 13:49:00 -0500] fearoffish: oh and here's another billion that are just collections of all the others
[2012-03-01 13:50:00 -0500] fearoffish: the internet used to be more useful, and less junk
[2012-03-01 13:50:00 -0500] proffalken: "Cuil said it had a larger index than any other search engine, with about 120 billion web pages. It went live on July 28, 2008. Cuil's servers were shut down on September 17, 2010, with later confirmations the service had ended."
[2012-03-01 13:50:00 -0500] fearoffish: haha
[2012-03-01 13:50:00 -0500] proffalken: http://en.wikipedia.org/wiki/Cuil
[2012-03-01 13:51:00 -0500] fearoffish: so, I'll ask in here again in the hope that someone knows:
[2012-03-01 13:51:00 -0500] fearoffish: how can I get a list of installed packages from ohai
[2012-03-01 13:51:00 -0500] fearoffish: is it possible, or should I just dpkg --get-selections ?
[2012-03-01 13:51:00 -0500] fearoffish: I guessed it could because there's a resource for 'package'
[2012-03-01 13:51:00 -0500] proffalken: fearoffish: write an ohai plugin to run dpkg --get-selections and return it as JSON?
[2012-03-01 13:52:00 -0500] fearoffish: heh
[2012-03-01 13:52:00 -0500] fearoffish: I'm asking so I don't reinvent the wheel ;-)
[2012-03-01 13:52:00 -0500] fearoffish: wouldn't you have thought there'd be one for this already?
[2012-03-01 13:52:00 -0500] fearoffish: if it was obscure I'd go straight for writing my own, but this shoul be a common task imo
[2012-03-01 13:53:00 -0500] lflux: spheromak: yeah that worked
[2012-03-01 13:54:00 -0500] fearoffish: oh bollox, dpkg it is
[2012-03-01 13:54:00 -0500] sivy: ok, so I've got my SSL certs in a data bag, any thoughts on how to integrate that with the apache2 web_app resource?
[2012-03-01 13:58:00 -0500] BryanWB: is it possible to reopen a resource and change its properties just like u can w/ a ruby module?
[2012-03-01 13:58:00 -0500] BryanWB: i may have to stump ssd again today
[2012-03-01 14:13:00 -0500] proffalken: ok, getting closer...
[2012-03-01 14:13:00 -0500] proffalken: Chef::DataBag.list.each do | data |
[2012-03-01 14:14:00 -0500] proffalken: will place a hash which looks a little like this:
[2012-03-01 14:14:00 -0500] proffalken: [["bag one"=>"URL","bag 2"=>"url"]]
[2012-03-01 14:22:00 -0500] dle: hi, I have question. In my databag, why can't we use a "." in the id ? "-" or "_" are possible :-\
[2012-03-01 14:24:00 -0500] mattray: dle: I don't think so. I believe there's a ticket for that.
[2012-03-01 14:26:00 -0500] dle: it's a bug ? the regex /^[\-[:alnum:]_]+$/ don't match and I have a exception InvalidDataBagItemID
[2012-03-01 14:34:00 -0500] dle: mattray : oki, I see the ticket, unassigned still
[2012-03-01 14:34:00 -0500] dle: I will use another attribute
[2012-03-01 14:41:00 -0500] fearoffish: when chef download cookbooks (recipes) from a chef server, does it download everything int he folders or just specific folders?
[2012-03-01 14:41:00 -0500] fearoffish: i.e. if I include a test folder in the cookbook, will it be downloaded to a client on a chef-client run?
[2012-03-01 14:41:00 -0500] mattray: fearoffish: it does not download everything
[2012-03-01 14:41:00 -0500] fearoffish: damn
[2012-03-01 14:42:00 -0500] mattray: fearoffish: files and templates for example, are only downloaded as referenced in recipes
[2012-03-01 14:42:00 -0500] fearoffish: mattray: any way to force it?
[2012-03-01 14:42:00 -0500] mattray: cookbook_file?
[2012-03-01 14:42:00 -0500] bawt: cookbook_file is already idempotent
[2012-03-01 14:42:00 -0500] fearoffish: I have a test folder, and a chef_handler that runs the tests in the test directory
[2012-03-01 14:42:00 -0500] fearoffish: it works in chef-solo because it grabs the entire cookbook
[2012-03-01 14:43:00 -0500] fearoffish: sounds like I'm going to have to rework it all for chef-solo only, which is a shame because then it's not a mimic of my actual environment
[2012-03-01 14:43:00 -0500] fearoffish: mattray: unless you can think of another way?
[2012-03-01 14:43:00 -0500] mattray: fearoffish: why not store the tests in the files and access it with the cookbook_file resource?
[2012-03-01 14:44:00 -0500] mattray: or use remote_file?
[2012-03-01 14:44:00 -0500] fearoffish: because then I'm using chef resources to download my test files, meaning it's an untested piece.  unless I'm missing something
[2012-03-01 14:44:00 -0500] fearoffish: so each cookbook has to have tests, and then resources to download the tests, to runt he tests
[2012-03-01 14:45:00 -0500] fearoffish: rather than how it works in chef solo, which is the chef_handler scans for a test folder and just runs them at the end of the run
[2012-03-01 14:45:00 -0500] fearoffish: you see what I mean, or am I making no sense?
[2012-03-01 14:46:00 -0500] ssd7_: fearoffish: btm just wrote something like this and posted it to the chef mailing list
[2012-03-01 14:47:00 -0500] fearoffish: ssd7_: got a link to that?  I'm not subscribed and when I try and search the mailing list it says there no results because it'snot indexes
[2012-03-01 14:47:00 -0500] ssd7_: fearoffish: In his, he used mattray's method of using files and remote_file
[2012-03-01 14:47:00 -0500] ssd7_: link incoming
[2012-03-01 14:48:00 -0500] ssd7_: http://lists.opscode.com/sympa/arc/chef/2012-03/msg00000.html
[2012-03-01 14:48:00 -0500] fearoffish: thanks very much ssd7_, mattray
[2012-03-01 14:50:00 -0500] fearoffish: okay, well I'm almost there now so I'll go with that plan, thanks
[2012-03-01 15:05:00 -0500] hk135: hi there, is there a way to test if a package is installed in a receipe
[2012-03-01 15:10:00 -0500] alexs: Has anyone used chef to install and configure a postgresql server here?
[2012-03-01 15:11:00 -0500] alexs: I am trying to install and create a database + user account on Debian
[2012-03-01 15:11:00 -0500] alexs: but the default pg_hba.conf requires ident auth since the default postgres user has no password
[2012-03-01 15:11:00 -0500] alexs: and the postgressql provider seems to have no support for that
[2012-03-01 15:15:00 -0500] atlaz: hi... anyone able to help with getting the LDAP PHP module working?
[2012-03-01 15:15:00 -0500] atlaz: slightly stumped
[2012-03-01 15:17:00 -0500] alexs: ah maybe because im using littlechef this doesnt work properly
[2012-03-01 15:17:00 -0500] alexs: so it conveniently randomises my password for me :(
[2012-03-01 15:40:00 -0500] bluenemo: hi guys, i'm not sure if i'm stupid but i cant get this simple thing working.. if you have a minute http://pastebin.com/m5pazxhs
[2012-03-01 15:41:00 -0500] fearoffish: it's just dawned on me, this way of testing is stupid
[2012-03-01 15:41:00 -0500] fearoffish: adding test folders to cookbooks
[2012-03-01 15:41:00 -0500] bluenemo: fearoffish, do you mean me?
[2012-03-01 15:42:00 -0500] fearoffish: I'm just testing chef now, not whether my infrastructure looks like i want it to
[2012-03-01 15:42:00 -0500] fearoffish: no
[2012-03-01 15:42:00 -0500] fearoffish: sorry
[2012-03-01 15:42:00 -0500] fearoffish: a conversation I had an hour ago :)
[2012-03-01 15:42:00 -0500] fearoffish: ssd7_: I'm a little slow ;-)
[2012-03-01 15:42:00 -0500] bluenemo: ah ;)
[2012-03-01 15:45:00 -0500] fearoffish: bluenemo: try <<-
[2012-03-01 15:45:00 -0500] fearoffish: it's called a 'here document'
[2012-03-01 15:45:00 -0500] atlaz: I have a build error
[2012-03-01 15:45:00 -0500] atlaz: FATAL: NameError: wrong constant name Php.PearChannel. Any ideas waht might cause it?
[2012-03-01 15:45:00 -0500] atlaz: Apache2, PHP5
[2012-03-01 15:46:00 -0500] fearoffish: atlaz: it's probably a capitalisation error.  Show more info/context
[2012-03-01 15:46:00 -0500] atlaz: any idea how I show you this? :P
[2012-03-01 15:47:00 -0500] fearoffish: gist?
[2012-03-01 15:47:00 -0500] bawt: gist is https://gist.github.com
[2012-03-01 15:47:00 -0500] bluenemo: ah whitespace m( thx fearoffish
[2012-03-01 15:47:00 -0500] atlaz: I mean what info do you want?
[2012-03-01 15:47:00 -0500] fearoffish: where did you get the error, what were you doing, what drink did you ahve on the table at that specific moment
[2012-03-01 15:48:00 -0500] fearoffish: and show us the code
[2012-03-01 15:48:00 -0500] atlaz: running vagrant, it's in the stack trace and theres an empty coke can, empty kitkat wrapper and the remains of a very lovely cup of rwandan single-plantation coffee
[2012-03-01 15:49:00 -0500] fearoffish: now show the stack trace :)
[2012-03-01 15:50:00 -0500] atlaz: https://gist.github.com/1950632
[2012-03-01 15:51:00 -0500] atlaz: I don't expect that's terribly enlightening though
[2012-03-01 15:53:00 -0500] fearoffish: now show the code
[2012-03-01 15:53:00 -0500] fearoffish: show the code
[2012-03-01 15:53:00 -0500] fearoffish: show the code
[2012-03-01 15:53:00 -0500] fearoffish: in case you missed that again ;-)
[2012-03-01 15:54:00 -0500] atlaz: what code?
[2012-03-01 15:54:00 -0500] atlaz: assume I know absolutely nothing about chef (it'd be the correct assumption)
[2012-03-01 15:54:00 -0500] fearoffish: somewhere you reference that module?
[2012-03-01 15:54:00 -0500] fearoffish: in your cookbooks
[2012-03-01 15:54:00 -0500] atlaz: all I've done, literally, is download the cookbook
[2012-03-01 15:54:00 -0500] atlaz: and call it
[2012-03-01 15:55:00 -0500] atlaz: require_recipe "php"
[2012-03-01 15:55:00 -0500] atlaz: in a vagrant_main cookbook
[2012-03-01 15:55:00 -0500] fearoffish: this is what I need to see
[2012-03-01 15:55:00 -0500] fearoffish: and did you download that cookbook?
[2012-03-01 15:56:00 -0500] atlaz: it's two files
[2012-03-01 15:56:00 -0500] atlaz: but yes ;)
[2012-03-01 15:56:00 -0500] atlaz: https://gist.github.com/1950667
[2012-03-01 15:56:00 -0500] fearoffish: what I'm saying is, right now it looks like a simple capital letter error, or a file that isn't required
[2012-03-01 15:57:00 -0500] atlaz: there's a project.conf.erb which has this in it too:
[2012-03-01 15:57:00 -0500] atlaz: <VirtualHost *:80>     DocumentRoot <%= @node[:vagrant][:directory] %>/src </VirtualHost>
[2012-03-01 15:58:00 -0500] fearoffish: and are you using vagrant provisioning?
[2012-03-01 15:58:00 -0500] bluenemo: when i put       :password        => environment['sql_password']    somewhere in my recipe/default.rb, can i do like this     :password => environment['sql_password']    with a template function?
[2012-03-01 15:58:00 -0500] atlaz: yep
[2012-03-01 15:58:00 -0500] bluenemo: no wait...i put this here at the top: ENV['sql_password'] = `pwgen -sy 64 1`
[2012-03-01 15:59:00 -0500] atlaz: in a pear_channel.rb there's a line that says this:
[2012-03-01 15:59:00 -0500] atlaz:   @current_resource = Chef::Resource::PhpPearChannel.new(@new_resource.name)
[2012-03-01 15:59:00 -0500] atlaz: seems the only place with the right capitalisation
[2012-03-01 15:59:00 -0500] atlaz: ](or maybe wrong if you're right)
[2012-03-01 15:59:00 -0500] fearoffish: it's probably right
[2012-03-01 16:00:00 -0500] hoover_damm: knife cookbook upload -o . blah/
[2012-03-01 16:00:00 -0500] hoover_damm: why does / matter?
[2012-03-01 16:00:00 -0500] hoover_damm: if I use tab completion and it add's / it can't upload
[2012-03-01 16:00:00 -0500] atlaz: fearoffish: so should I lowercase any of that or just leave it alone?
[2012-03-01 16:00:00 -0500] hoover_damm: I guess a good reason not to be lazy
[2012-03-01 16:00:00 -0500] fearoffish: leave it
[2012-03-01 16:01:00 -0500] fearoffish: if that's how it came
[2012-03-01 16:01:00 -0500] atlaz: yeah
[2012-03-01 16:01:00 -0500] fearoffish: lost tbh
[2012-03-01 16:01:00 -0500] fearoffish: what are you trying to do?
[2012-03-01 16:01:00 -0500] BryanWB: total lolz http://www.youtube.com/watch?v=IoI2vq6pC4E&feature=youtu.be
[2012-03-01 16:02:00 -0500] atlaz: get PHP to compile cleanly... it fails at that stage so I think the other changes I made to the PHP config (not PEAR related) aren't being reached
[2012-03-01 16:02:00 -0500] atlaz: so I can't activate LDAP so I can't finish my code :P
[2012-03-01 16:02:00 -0500] fearoffish: did it ever work with just php?
[2012-03-01 16:03:00 -0500] fearoffish: I'm not sure where that resource is coming from
[2012-03-01 16:03:00 -0500] fearoffish: what cookbook?
[2012-03-01 16:03:00 -0500] bawt: what cookbook is in it?  Python? Just pick one for now.
[2012-03-01 16:03:00 -0500] atlaz: PHP I'd assume
[2012-03-01 16:04:00 -0500] atlaz: I mean, I'm loading PHP and no other cookbook has business with PHP
[2012-03-01 16:04:00 -0500] fearoffish: you'd assume?  did you include a cookbook?
[2012-03-01 16:04:00 -0500] atlaz: yes, the 4 or 5 mentioned above
[2012-03-01 16:04:00 -0500] BryanWB: ^^ the noops song
[2012-03-01 16:05:00 -0500] fearoffish: like bawt suggested, I'd just install 1 cookbook and get it converging correctly and go fro there
[2012-03-01 16:08:00 -0500] statix: Does anyone know what the proper value format for the --ebs-size knife ec2 option is?
[2012-03-01 16:10:00 -0500] atlaz: fearoffish: Sadly not possible. Most of the stuff is interlinked so PHP won't compile without the other bits
[2012-03-01 16:12:00 -0500] statix: kubu1Phi
[2012-03-01 16:17:00 -0500] statix: Bahhh, n/m ... "in GB"
[2012-03-01 16:21:00 -0500] lflux: argh why are all recipes called default.rb. I'm getting lost in my emacs buffers.
[2012-03-01 16:24:00 -0500] chrisa2: lflux: find uniquify.el, solves that problem :)
[2012-03-01 16:28:00 -0500] ashb: can I have chef-solo somehow run just the application cookbook for a given databag?
[2012-03-01 16:29:00 -0500] lflux: chrisa2: :)
[2012-03-01 16:30:00 -0500] jtimberman: ashb: no, chef-solo uses search heavily
[2012-03-01 16:30:00 -0500] jtimberman: er
[2012-03-01 16:31:00 -0500] jtimberman: application cookbook uses search heavily
[2012-03-01 16:31:00 -0500] BryanWB: g'nite folks
[2012-03-01 16:32:00 -0500] ashb: jtimberman: s'what I thought. Any way of making normal chef-client easily to that?
[2012-03-01 16:32:00 -0500] ashb: (i'm fairly sure the answer is no, just checking)
[2012-03-01 16:33:00 -0500] ashb: basically we have a number of apps on the same host and would like a way to speedily deploy just one
[2012-03-01 16:33:00 -0500] rrichardsr3: any standard procedure for using knife to install cookbooks as git submodules?
[2012-03-01 16:34:00 -0500] rrichardsr3: i notice vendor creates branches
[2012-03-01 16:35:00 -0500] jtimberman: ashb: easily do what
[2012-03-01 16:35:00 -0500] jtimberman: ashb: use the application cookbook?
[2012-03-01 16:35:00 -0500] jtimberman: rrichardsr3: "don't use submodules in git" is the common reply :)
[2012-03-01 16:35:00 -0500] jtimberman: (submodules can be painful to use)
[2012-03-01 16:35:00 -0500] ashb: run the application cookbook (and just that cookbook) for just one databag
[2012-03-01 16:35:00 -0500] jtimberman: the actual reply is "knife doesn't integrate with git to use submodules in any way"
[2012-03-01 16:36:00 -0500] rrichardsr3: lol yeah i learned that lesson a while back during rails plugin development
[2012-03-01 16:36:00 -0500] jtimberman: ashb: the application cookbook contains recipes for deploying an app and running it under a web server
[2012-03-01 16:36:00 -0500] rrichardsr3: jtimberman: thanks
[2012-03-01 16:36:00 -0500] jtimberman: so there will be "other" cookbooks involved for the other components required
[2012-03-01 16:36:00 -0500] jtimberman: librarian looks cool for managing cookbooks from a variety of sources
[2012-03-01 16:36:00 -0500] jtimberman: but i have littl practical experience with it
[2012-03-01 16:44:00 -0500] rrichardsr3: exit
[2012-03-01 16:44:00 -0500] rrichardsr3: oops ;)
[2012-03-01 16:44:00 -0500] rrichardsr3: ww
[2012-03-01 16:46:00 -0500] sivy: quick ruby q: can i write a not_if like: not_if something['key'].empty? <-- am i using .empty? right
[2012-03-01 16:47:00 -0500] rrichardsr3: \quit
[2012-03-01 16:47:00 -0500] ashb: sivy: not_if takes a block
[2012-03-01 16:47:00 -0500] ashb: and .empty? only exists on arrays and hashes by default I think
[2012-03-01 16:47:00 -0500] sivy: hm
[2012-03-01 16:47:00 -0500] ashb: (Rails/ActieSupport adds a .blank? to most objects, but I don't think chef includes that)
[2012-03-01 16:48:00 -0500] sivy: so, should I just wrap it all in an if thing['key']
[2012-03-01 16:49:00 -0500] sivy: ie:
[2012-03-01 16:49:00 -0500] sivy: https://gist.github.com/23584b5aefa2082bb936
[2012-03-01 16:52:00 -0500] ashb: sivy: it depends what item is and if it is generated at 'compile time' or cookbook runtime
[2012-03-01 16:52:00 -0500] sivy: ashb: item is loadded from a databag
[2012-03-01 16:52:00 -0500] ashb: then its probably fine to just do that
[2012-03-01 16:52:00 -0500] sivy: bag['data'].each |item| do ...
[2012-03-01 16:53:00 -0500] sivy: ok
[2012-03-01 16:57:00 -0500] geekbri: Is there anyway to get a ruby block to run during compile time instead of at convergence time?  I'd like to write a ruby block that runs right after templates and remote files are run
[2012-03-01 16:58:00 -0500] ashb: geekbri: either jsut write the code at the top level
[2012-03-01 16:58:00 -0500] ashb: or do...
[2012-03-01 16:58:00 -0500] ashb: i.e. don't use the ruby_block resource
[2012-03-01 16:58:00 -0500] geekbri: ashb: well the problem is i want the ruby code to interact with a file that is fetched via remote_file
[2012-03-01 16:59:00 -0500] ashb: geekbri: so you do want it at convergence time then
[2012-03-01 16:59:00 -0500] ashb: at compile time that file won't have been fetched
[2012-03-01 16:59:00 -0500] geekbri: ashb: right but the problem is I want to use information inside that file inside of a template in another recipe.
[2012-03-01 16:59:00 -0500] ashb: can you pastie an example?
[2012-03-01 16:59:00 -0500] geekbri: hrmm let me try hold on.
[2012-03-01 17:01:00 -0500] fearoffish: hey jtimberman, you got a minute to read something I'm going to put on the mailing list?  I respect your vast knowledge quite a bit, and want to know if I'm posting something stupid before i actually do.  :)
[2012-03-01 17:02:00 -0500] fearoffish: in fact, anyone can read it before i put it on the mailing listI just need to know I'm not stupid :)
[2012-03-01 17:02:00 -0500] fearoffish: https://gist.github.com/f99c34ba568ee4668d75
[2012-03-01 17:02:00 -0500] fearoffish: I just feel like I must be missing something that works, or misunderstand the idea behind the ones that do.
[2012-03-01 17:02:00 -0500] fearoffish: re: Infrastructure Testing.
[2012-03-01 17:03:00 -0500] ashb: fearoffish: line wraps please - hard to read as it is
[2012-03-01 17:03:00 -0500] geekbri: ashb: https://gist.github.com/1951428
[2012-03-01 17:03:00 -0500] fearoffish: ashb: better?
[2012-03-01 17:05:00 -0500] ashb: geekbri: just having it in the right order should be enough
[2012-03-01 17:05:00 -0500] geekbri: ashb: it does not seem to be the case.
[2012-03-01 17:05:00 -0500] ashb: i'd use node.run_state (i think thats the variable) rather than an attr
[2012-03-01 17:05:00 -0500] ashb: geekbri: run with -l debug and check the order things are running in
[2012-03-01 17:06:00 -0500] geekbri: so chef-client -l ?
[2012-03-01 17:06:00 -0500] ashb: geekbri: http://wiki.opscode.com/display/chef/Configuration+Based+on+Partial+Convergence might be relevant
[2012-03-01 17:07:00 -0500] geekbri: ashb: oh excellent I will give this a read
[2012-03-01 17:07:00 -0500] ashb: oh it doesn't actually have a solution
[2012-03-01 17:07:00 -0500] ashb: oh it does sorry
[2012-03-01 17:07:00 -0500] ashb: geekbri: (2) appears to be your problem
[2012-03-01 17:08:00 -0500] geekbri: ashb: just the block i was starting to read!  thanks.  Hopefully I can figure this out
[2012-03-01 17:08:00 -0500] ashb: geekbri: the other option is to look at <%= node.... %> directly in the template
[2012-03-01 17:09:00 -0500] geekbri: ashb: but my problem is that it seems like the attribute in the node isn't being set before the template directive runs.
[2012-03-01 17:09:00 -0500] ashb: geekbri: before the template resource gets run, maybe not, but when the render is done it should be
[2012-03-01 17:10:00 -0500] geekbri: ashb: I'm not sure I follow... when what render is done?
[2012-03-01 17:11:00 -0500] ashb: geekbri: the variables() function is probably run (and takes node['current'] at compile time, but the activate.erb isn't rendered until later, at which point <%= node['current'] %> should output the right thing
[2012-03-01 17:12:00 -0500] geekbri: ashb: ah hrm... very interesting.  So instead of passing the 'current' into the template with the directive, you can read directly from the node when the template is actually expanded?
[2012-03-01 17:12:00 -0500] ashb: yeah
[2012-03-01 17:17:00 -0500] geekbri: ashb: That would work with templates but, you wouldn't be able to do that with remote_file I'm thinking.
[2012-03-01 17:17:00 -0500] ashb: geekbri: why do you need it for remote file for?
[2012-03-01 17:18:00 -0500] geekbri: ashb: basically what happens is, a tarball is expanded, then there is a pip_requirements.txt inside of it, it takes a md5 of that file, and thats how it knows what python tarball it needs to download
[2012-03-01 17:19:00 -0500] geekbri: ashb: so the remote_file source is a http://blahblahblah.com/#{md5}.tgz
[2012-03-01 17:19:00 -0500] ashb: yeah that is going to be difficult
[2012-03-01 17:19:00 -0500] ashb: you might be able to play with loading the resource and playing with the attributes of it
[2012-03-01 17:19:00 -0500] geekbri: ashb: yeah, tell me about it ;)
[2012-03-01 17:20:00 -0500] cwj: geekbri: did you ever look at the python cookbook? seems like you've been going at this virtualenv tarball approach for some time now
[2012-03-01 17:20:00 -0500] geekbri: cwj: I have, that cookbook actually works well but the issue is I dont actually want python installed... these are python vitual envs that are getting passed into hadoop
[2012-03-01 17:20:00 -0500] geekbri: cwj: so there are cases where different hadoop jobs need different python virtual envs for the code that is being passed in.
[2012-03-01 17:21:00 -0500] geekbri: cwj: so what happens is we build a whole bunch of virtual environments, upload them to our mirror server, and when there is a "deploy" it has to have all the envs available for the potential jobs.. then there are a series of scripts that are populated with properly env variables to know what python tarballs to pass in with which jobs
[2012-03-01 17:21:00 -0500] geekbri: cwj: the whole thing is convoluted and painful :)
[2012-03-01 17:21:00 -0500] cwj: i guess i dont know anything about hadoop but the python cookbook has a provider for creating virtualenvs and installing the eggs inside them
[2012-03-01 17:22:00 -0500] cwj: does passing a virtualenv "into" hadoop consist of something other than unpacking your tarball in the right location?
[2012-03-01 17:22:00 -0500] geekbri: cwj: I will have to take a peak.  The problem with that is then instead of dev's being able to just stick a pip_requirements file in a repository and having the env pulled down after they upload it, they have to let somebody know to change something in a role file which will build these new envs etc etc
[2012-03-01 17:22:00 -0500] geekbri: cwj: you just pass the tarball into hadoop
[2012-03-01 17:24:00 -0500] ashb: geekbri: rather than remote_file it might be easier to just use a bash or ruby block and download it using curl etc.
[2012-03-01 17:24:00 -0500] geekbri: ashb: thats actually what I plan on doing.
[2012-03-01 17:25:00 -0500] geekbri: ashb: but then I ran into this template issue too and I was like damnit!  I wonder if this can be rigged up somehow where I can still use some basic directives.
[2012-03-01 17:30:00 -0500] alex_____: Anyone can help me with attributes override? I have two cookbooks, cb1 and cb2.  cb2 is built on top of cb1.  cb1 is a redis cookbook and cb2 is a caching service  that rely on having redis running on a specific port.  cb1 has a port attribute that is defined in the /attributes/default.rb. cb2 also has a port that is defined in the /attributes/default.  How can I override cb1 port with cb2 port from the
[2012-03-01 17:30:00 -0500] alex_____:  server recipe of cb2.  I include the server recipe from cb1 into cb2. I tried adding node.override['cb1']['port'] = node['cb2']['port'] before include_recipe "cb1::server".   so far this override the port in a cb1 template file but not within the cb1 /attributes/default file.  In cb1 this is how I define the attributes.  default['cb1']['port'] = 6379 and default['cb1']['service_name'] =
[2012-03-01 17:30:00 -0500] alex_____:  "redis_#{cb1['port']}".  I need to be able to override default['cb1']['port'] from another cookbook.  I don't want to use a role if possible.  Thanks.
[2012-03-01 17:34:00 -0500] lflux: Is there a better way for checking node attributes that might not be set besides begin ; node['foo']['bar']['baz']  ; rescue ; false; end
[2012-03-01 17:34:00 -0500] atomic-penguin: Attributes Cookbook?
[2012-03-01 17:34:00 -0500] atomic-penguin: http://wiki.opscode.com/display/chef/Attributes+Cookbook
[2012-03-01 17:34:00 -0500] lflux: I get NilClass errors when something isn't set in the node's attributes
[2012-03-01 17:36:00 -0500] Urocyon: lflux  how about the 'attribute?' method?   on http://wiki.opscode.com/display/chef/Cookbook+Attributes
[2012-03-01 17:37:00 -0500] ashb: lflux: at the very least node['foo']['bar']['baz'] rescue false
[2012-03-01 17:37:00 -0500] alex_____: I read the all docs in the wiki but can't find anything that explains how to do what I need to do
[2012-03-01 17:37:00 -0500] atomic-penguin: attribute? checks for the existence of an attribute, not whether it has a certain value set or not
[2012-03-01 17:37:00 -0500] Urocyon: lflux no good example of checking a nested attribute there though.
[2012-03-01 17:38:00 -0500] lflux: yeah that was going to be my next question
[2012-03-01 17:38:00 -0500] atomic-penguin: lflux, you need to test the attribute holds a certail value or not
[2012-03-01 17:38:00 -0500] atomic-penguin: *certain
[2012-03-01 17:38:00 -0500] lflux: no just that it's set
[2012-03-01 17:38:00 -0500] atomic-penguin: lflux, set to what?
[2012-03-01 17:38:00 -0500] lflux: true
[2012-03-01 17:39:00 -0500] atomic-penguin: lflux, if its set to true then test for truth
[2012-03-01 17:39:00 -0500] atomic-penguin: lflux, if its unitialized you could try testing for Nil
[2012-03-01 17:40:00 -0500] Urocyon: alex_____ I'm having similar problems.... though I believe that you can just set an attribute again in a later recipe and it will overwrite what you received from the first recipe.    Order of execution matters... or you could set the new attribute at a higher precedence... say at normal rather than default and that too should give you the latter result.
[2012-03-01 17:40:00 -0500] atomic-penguin: Not only that, cookbook attributes are loaded in alphabetical order, regardless of the run order
[2012-03-01 17:40:00 -0500] lflux: I'm checking for node['search'][qaenv[:id]]['configured'] == true. If node['search'][qaenv[:id]] isn't set I get the nilclass, which is why I'm using rescue
[2012-03-01 17:41:00 -0500] lflux: how would I use attribute? in this case
[2012-03-01 17:41:00 -0500] atomic-penguin: Which is why I posted the http://wiki.opscode.com/display/chef/Attributes+Cookbook
[2012-03-01 17:41:00 -0500] lflux: with nested attributes
[2012-03-01 17:41:00 -0500] alex_____: Urocyon I tried this but no luck.  I tried normal/set and override. both work for the templates but I can't override anything from the attribute/default file.
[2012-03-01 17:42:00 -0500] gondoi: anyone here use rvm, or the rvm cookbook?
[2012-03-01 17:42:00 -0500] gondoi: or both? :D
[2012-03-01 17:42:00 -0500] sivy: jtimberman: morning! I'm working through your blog post on encrypted databags, and after setting it all up, copying the secret file from ~/.chef/encrypted_data_bag_secret to /etc/chef on my VM, I'm getting a "bad decrypt" error when I provision
[2012-03-01 17:42:00 -0500] sivy: trace:
[2012-03-01 17:42:00 -0500] alex_____: gondoi re rvm - yes I do
[2012-03-01 17:43:00 -0500] sivy: https://gist.github.com/5af65cf14654fb70ccce
[2012-03-01 17:43:00 -0500] alex_____: gondoi I use rvm but not the rvm cookbook. I wrote one myself
[2012-03-01 17:43:00 -0500] gondoi: alex_____: the install.rb recipe doesn't seem to set the system default, but it doesn't error either
[2012-03-01 17:43:00 -0500] gondoi: oh
[2012-03-01 17:43:00 -0500] gondoi: hmmm
[2012-03-01 17:43:00 -0500] gondoi: you have it on github?
[2012-03-01 17:44:00 -0500] atomic-penguin: lflux, is it a string, or array?
[2012-03-01 17:44:00 -0500] jtimberman: fearoffish: hey
[2012-03-01 17:44:00 -0500] jtimberman: fearoffish: missed your message earlier
[2012-03-01 17:44:00 -0500] Urocyon: Here's my attribute problem: https://gist.github.com/d5588c1e6e523dcc07ac
[2012-03-01 17:44:00 -0500] fearoffish: jtimberman: np, I have no respect for you anymore
[2012-03-01 17:44:00 -0500] lflux: atomic-penguin: which is?
[2012-03-01 17:44:00 -0500] fearoffish: you let me down
[2012-03-01 17:45:00 -0500] atomic-penguin: lflux, the attribute you are testing, is it an array or string?
[2012-03-01 17:45:00 -0500] fearoffish: it's a crying shame.
[2012-03-01 17:45:00 -0500] fearoffish: soooo, I posted it on the mailing list anyway
[2012-03-01 17:45:00 -0500] lflux: atomic-penguin: The attribute value is a boolean (true)
[2012-03-01 17:45:00 -0500] jtimberman: there's a lot of talk around testing cookbooks lately. and i missed your emssage because we were talking about that topic here in the office today
[2012-03-01 17:45:00 -0500] jtimberman: :)
[2012-03-01 17:46:00 -0500] alex_____: gondoi https://gist.github.com/1951633
[2012-03-01 17:46:00 -0500] jtimberman: rberger started a google group for focusing the discussion, but its not on the mailing list so i don't know how well that will work out
[2012-03-01 17:47:00 -0500] gondoi: okay, it's probably the sourcing bit that is missing
[2012-03-01 17:47:00 -0500] alex_____: gondoi I should specify that this has only been tested on centos
[2012-03-01 17:47:00 -0500] gondoi: :D
[2012-03-01 17:47:00 -0500] gondoi: that is fine
[2012-03-01 17:47:00 -0500] gondoi: i'm just going to tweak the current cookbook i'm using to see if it will work
[2012-03-01 17:47:00 -0500] alex_____: gondoi after sourcing make sure you do a rvm reset
[2012-03-01 17:48:00 -0500] alex_____: gondoi otherwise chef won't run anymore because it wont be in the gem list.
[2012-03-01 17:48:00 -0500] gondoi: interesting
[2012-03-01 17:48:00 -0500] gondoi: okay
[2012-03-01 17:48:00 -0500] lflux: atomic-penguin: my real question is if I can use attribute? with nested keys, like node['foo']['bar']['baz']. Search works well with this where the key would be foo_bar_baz
[2012-03-01 17:48:00 -0500] gondoi: alex_____: here is the one i'm using
[2012-03-01 17:48:00 -0500] gondoi: https://github.com/jamesotron/cookbooks/blob/master/rvm/recipes/install.rb
[2012-03-01 17:48:00 -0500] gondoi: the making default part is what's not working for me
[2012-03-01 17:50:00 -0500] alex_____: gondoi If this is the rvm commmunity cookbook I had troubles with it that's why I wrote the other one.   I don't think you need to make it the default. just use rvmrc in your app directory
[2012-03-01 17:50:00 -0500] gondoi: alex_____: you have an example rvmrc file?
[2012-03-01 17:51:00 -0500] gondoi: nvm.. i'll just rtfm lol
[2012-03-01 17:51:00 -0500] chip-: Question: does the Chef windows MSI include Knife?
[2012-03-01 17:52:00 -0500] alex_____: gondoi https://raw.github.com/gist/1951633/caf67276ead04298b30c037067929eb469b1c236/.rvmrc
[2012-03-01 17:53:00 -0500] atomic-penguin: lflux, like this 'if node.foo.bar?("baz")'
[2012-03-01 17:53:00 -0500] atomic-penguin: Would test whether the baz key exists in node.foo.bar
[2012-03-01 17:54:00 -0500] atomic-penguin: lflux, whoops like this 'if node.foo.bar.attribute?("baz")'
[2012-03-01 17:55:00 -0500] jtimberman: chip-: yes
[2012-03-01 17:55:00 -0500] jtimberman: knife is in the 'chef' gem, which is installed anywhere you install chef :)
[2012-03-01 17:55:00 -0500] jtimberman: also in any package build for 'chef' like our chef deb or various chef rpms
[2012-03-01 17:55:00 -0500] chip-: jtimberman: excellent, thank you.
[2012-03-01 17:55:00 -0500] c_t: you know
[2012-03-01 17:55:00 -0500] c_t: knife on windows really should be called knife95
[2012-03-01 17:56:00 -0500] lflux: atomic-penguin: yeah that gets me ArgumentError instead of NilClass if I'm missing a node along the way
[2012-03-01 17:56:00 -0500] lflux: say if bar isn't defined as an attribute
[2012-03-01 17:56:00 -0500] chip-: c_t: I'm just curious about how you'd express Chef concepts as Metro panels.
[2012-03-01 17:57:00 -0500] lflux: I'll just use rescue
[2012-03-01 17:57:00 -0500] lflux: ty
[2012-03-01 17:58:00 -0500] sivy: jtimberman: did you see my "bad decrypt" question from ealier?
[2012-03-01 17:59:00 -0500] sivy: i've confirmed that the contents of the secret file are the same both locally (used to encrypt the data) and on the VM
[2012-03-01 17:59:00 -0500] atomic-penguin: lflux, then chain them together
[2012-03-01 18:00:00 -0500] atomic-penguin: if node.attribute?("foo") and node.foo.attribute?("bar") and node.foo.bar.attribute?("baz")
[2012-03-01 18:05:00 -0500] cek: What are you using to track software packages updates?
[2012-03-01 18:08:00 -0500] mpasternacki: hi
[2012-03-01 18:22:00 -0500] nect: is there some native way in chef to do a wait_for cycle? similar to the way that the knife-ec2 waits for ssh to be ready?
[2012-03-01 18:25:00 -0500] chip-: Hi. I'm currently running through http://wiki.opscode.com/display/chef/Migrating+to+Hosted+Chef+from+an+Open+Source+Chef+Server+implementation.
[2012-03-01 18:26:00 -0500] chip-: The order of steps 4 & 5 seems a bit weird. If I bootstrap all of my nodes to talk to the new server before I upload the restored config
[2012-03-01 18:26:00 -0500] chip-: won't all my nodes get blank run lists?
[2012-03-01 18:26:00 -0500] Urocyon: I think I found something in my attributes/default.db problem:  https://gist.github.com/d5588c1e6e523dcc07ac
[2012-03-01 18:27:00 -0500] Urocyon: It looks like my db_settings aren't comeing in properly.  After line 6 db_settings = ["db_config", "m1-large"]
[2012-03-01 18:28:00 -0500] Urocyon: so, I'm guessing I can't pull in a data bag like this in an attributes file.
[2012-03-01 18:28:00 -0500] Twirrim: chip-: would that cause particular problems?  Wouldn't it mean they just don't do anything when they check in until the configs are uploaded?
[2012-03-01 18:29:00 -0500] chip-: Twirrim: Also I notice this doesn't mention anything about migrating the repo
[2012-03-01 18:29:00 -0500] chip-: if I have environments pinned to old versions of cookbooks, how do I pull those back out so I can upload them?
[2012-03-01 18:29:00 -0500] chip-: er sorry
[2012-03-01 18:29:00 -0500] chip-: that wasn't aimed at you
[2012-03-01 18:29:00 -0500] chip-: Twirrim: theoretically no, just seems weird.
[2012-03-01 18:38:00 -0500] chip-: Guys, any way to get an older version of a cookbook with 'knife cookbook'?
[2012-03-01 18:39:00 -0500] chip-: (For instance, 0.1 is pinned for a particular environment but the repo is now up to 0.3)
[2012-03-01 18:41:00 -0500] c_t: what the
[2012-03-01 18:41:00 -0500] c_t: what do you mean, "NoMethodError: undefined method `include_attribute'"
[2012-03-01 18:41:00 -0500] hoover_damm: c_t, should be there no?
[2012-03-01 18:42:00 -0500] c_t: wiki claims it should work in cookbooks
[2012-03-01 18:42:00 -0500] c_t: maybe it doesn't go in recipes?
[2012-03-01 18:43:00 -0500] c_t: (wiki is not entirely clear here)
[2012-03-01 18:45:00 -0500] hoover_damm: would go in attributes
[2012-03-01 18:45:00 -0500] hoover_damm: no?
[2012-03-01 18:45:00 -0500] hoover_damm: but i'm not sure you'd have to do it
[2012-03-01 18:45:00 -0500] hoover_damm: provided the cookbook is depended upon
[2012-03-01 18:46:00 -0500] hoover_damm: your attribute should get loaded
[2012-03-01 18:46:00 -0500] c_t: hoover_damm: I thought maybe it would be in attributes, but as I said it was a little unclear
[2012-03-01 18:46:00 -0500] hoover_damm: or did this behavior change and i'm behind?
[2012-03-01 18:46:00 -0500] c_t: naw, first time I've ever tried it
[2012-03-01 18:46:00 -0500] c_t: the wiki there was a little vague where the include_attribute goes is all
[2012-03-01 18:56:00 -0500] c_t: well whadda ya know
[2012-03-01 18:57:00 -0500] c_t: does go in the attribute file aftera ll
[2012-03-01 19:18:00 -0500] AntonZ: Hello, AJ, are you there ?
[2012-03-01 19:19:00 -0500] AntonZ: i get this error when i specify list of plugins i want to install, not sure what am i doing wrong, check this out:
[2012-03-01 19:19:00 -0500] AntonZ: *ERROR> 14:14:28: http_request[HEAD http://updates.jenkins-ci.org/latest/javadoc,maven-plugin,ant,analysis-core,checkstyle,violations,cvs,ci-game,jira,email-ext,build-timeout,emotional-hudson,emma,ssh-slaves,git,gerrit-trigger,gerrit,translation,build-pipeline-plugin,throttle-concurrents,dry,openid.hpi] (/var/cache/rightscale/cookbooks/87b0be3400bffcfdd29fda3b615e45de8caf9203/cookbooks/jenkins/
[2012-03-01 19:19:00 -0500] AntonZ: recipes/default.rb:70:in `from_file') had an error:
[2012-03-01 19:19:00 -0500] AntonZ: Mar  1 14:14:28 ip-10-0-1-11 RightLink[2084]: 404 "Not Found"
[2012-03-01 19:19:00 -0500] AntonZ: thats the actual error, i specified the lsit of plugins i wanted jenkins to install
[2012-03-01 19:20:00 -0500] mpasternacki: https://gist.github.com/1952431 - renaming chef node, a script I've just written. :)
[2012-03-01 19:21:00 -0500] mpasternacki: AntonZ: can you paste how do you specify this list? Maybe you should just loop instead of giving a list?
[2012-03-01 19:21:00 -0500] mpasternacki: AntonZ: Looks like the cookbook tries to use whole list at once, instead of checking plugins one by one
[2012-03-01 19:22:00 -0500] AntonZ: jenkins Server Plugins:
[2012-03-01 19:22:00 -0500] AntonZ: jenkins/server/plugins text:javadoc,maven-plugin,ant,analysis-core,checkstyle,violations,cvs,ci-game,jira,email-ext,build-timeout,emotional-hudson,emma,ssh-slaves,git,gerrit-trigger,gerrit,translation,build-pipeline-plugin,throttle-concurrents,dry,openid
[2012-03-01 19:23:00 -0500] AntonZ: so if it tries to use the whole list, it means i can install only one plugin ?
[2012-03-01 19:23:00 -0500] mpasternacki: AntonZ: do you give the plugins in role/cookbook file somewhere, or in the web UI? This looks foreign to me, but I don't use web UI at all.
[2012-03-01 19:23:00 -0500] AntonZ: webui
[2012-03-01 19:24:00 -0500] AntonZ: but it basically translates to the same list looking at the error
[2012-03-01 19:24:00 -0500] mpasternacki: Are you sure it's a list, and not a long string with commas in it?
[2012-03-01 19:24:00 -0500] AntonZ: let me check
[2012-03-01 19:26:00 -0500] AntonZ:       "choice": [
[2012-03-01 19:26:00 -0500] AntonZ:       ],
[2012-03-01 19:26:00 -0500] AntonZ:       "calculated": false,
[2012-03-01 19:26:00 -0500] AntonZ: jenkins/server/plugins": {
[2012-03-01 19:26:00 -0500] AntonZ:       "display_name": "jenkins Server Plugins",
[2012-03-01 19:26:00 -0500] AntonZ:       "description": "Download the latest version of plugins in this list, bypassing update center.",
[2012-03-01 19:26:00 -0500] AntonZ:       "recipes": [
[2012-03-01 19:26:00 -0500] AntonZ:         "jenkins::default"
[2012-03-01 19:26:00 -0500] AntonZ:       ],
[2012-03-01 19:27:00 -0500] AntonZ:       "type": "string",
[2012-03-01 19:27:00 -0500] AntonZ:       "required": "optional"
[2012-03-01 19:27:00 -0500] `damien: Hey all, I've got a chef server running and it seems to be having issues finding anything through the Chef::Search API, has anyone here had/seen similar issues?
[2012-03-01 19:27:00 -0500] AntonZ:     },
[2012-03-01 19:27:00 -0500] Babar: `damien: yes. And I never managed to fix it. So if you do, please let me know :)
[2012-03-01 19:27:00 -0500] geekbri: perhaps a gist might be in order for things like that :)
[2012-03-01 19:28:00 -0500] `damien: Babar: what did you see?
[2012-03-01 19:28:00 -0500] mpasternacki: AntonZ: If you're using this cookbook: https://github.com/fnichol/chef-jenkins/ then it should be a list, not a string.
[2012-03-01 19:28:00 -0500] `damien: Babar: My issue is pretty much `knife node list` gets me 2 nodes, whereas `knife search node "*:*" gets me nothing
[2012-03-01 19:28:00 -0500] AntonZ: yes thats the one
[2012-03-01 19:28:00 -0500] mpasternacki: AntonZ: but I can't help you with web ui, I don't use it (I'm afraid of setting stage that's not in the repo)
[2012-03-01 19:29:00 -0500] mpasternacki: `damien: does reindexing help anything?
[2012-03-01 19:29:00 -0500] AntonZ: if it's a list, then i do it with "enter" instead of  "comma" ?
[2012-03-01 19:29:00 -0500] aethier: Following the doc at http://wiki.opscode.com/display/chef/Attributes+Cookbook I'm trying to load attributes form a different cookbook within a recipe with
[2012-03-01 19:29:00 -0500] aethier: include_attribute "apache2"
[2012-03-01 19:29:00 -0500] aethier: include_attribute "apache2"
[2012-03-01 19:30:00 -0500] `damien: mpasternacki: how would I do that? I've restarted the chef-solr daemon a few times, but I'm not familiar enough with SOLR to know how to explicitly trigger a reindex
[2012-03-01 19:30:00 -0500] aethier: but I'm getting an error FATAL: NoMethodError: undefined method `include_attribute' for #<Chef::Recipe:0x7f5ee76ffe08>
[2012-03-01 19:30:00 -0500] c_t: aethier: Oddly enough, I *just* had that issue
[2012-03-01 19:30:00 -0500] mpasternacki: `damien: what version of chef?
[2012-03-01 19:30:00 -0500] c_t: put it in the attributes file
[2012-03-01 19:30:00 -0500] `damien: mpasternacki: 10.x
[2012-03-01 19:30:00 -0500] aethier: c_t ah!
[2012-03-01 19:30:00 -0500] mpasternacki: `damien: knife index rebuild
[2012-03-01 19:31:00 -0500] aethier: c_t I'm trying to override attributes of coobook A from cookbook B and I'm not havgin any luck.  I need the attributes defined in the /attributes/default file to be overriden.
[2012-03-01 19:31:00 -0500] c_t: so cookbook-name/attributes/recipe-name.rb
[2012-03-01 19:31:00 -0500] `damien: mpasternacki: reindexed. same issue: knife node list gives me 2 nodes, seaching for all nodes gets me nothing
[2012-03-01 19:31:00 -0500] mpasternacki: aethier: include_attribute will work in attributes/whatever.rb, not in recipe
[2012-03-01 19:31:00 -0500] mpasternacki: aethier: recipes run after *all* attributes/whatever has already loaded
[2012-03-01 19:32:00 -0500] mpasternacki: aethier: details: http://wiki.opscode.com/display/chef/Anatomy+of+a+Chef+Run
[2012-03-01 19:32:00 -0500] aethier: mpasternacki that's what I thought but for some reasons I'm having problems.  here is what I do::
[2012-03-01 19:32:00 -0500] Babar: `damien: exactly that. (list / status gives stuff, search gives nothing)
[2012-03-01 19:33:00 -0500] mpasternacki: `damien: no idea, then, sorry about that. Reindex helps for me.
[2012-03-01 19:33:00 -0500] `damien: Babar: I feel your pain. I'm expecially confounded because I see the same issue in the webui. I can see the environments, edit/list/update nodes, yet search through either interface turns up empty
[2012-03-01 19:33:00 -0500] mpasternacki: `damien: check up also on chef-expander, it feeds chef-solr
[2012-03-01 19:33:00 -0500] `damien: mpasternacki: thanks for the help anyway
[2012-03-01 19:33:00 -0500] `damien: mpasternacki: chef-expander? how would I do that?
[2012-03-01 19:34:00 -0500] mpasternacki: `damien: it's a process on your chef server. Specifics depend on distro and how you've installed chef-server (package vs gems), but generally it should run the same way chef-solr runs.
[2012-03-01 19:34:00 -0500] `damien: mpasternacki: I'll give that a shot now!
[2012-03-01 19:35:00 -0500] AntonZ: so this is where jenkins tries toget plugins, but the thing is empty, is this normal ? https://updates.jenkins-ci.org/latest/
[2012-03-01 19:35:00 -0500] mpasternacki: AntonZ: it tries to get http://updates.jenkins-ci.org/latest/PLUGIN_NAME.hpi
[2012-03-01 19:36:00 -0500] AntonZ: ah yes, i forgot about the hpi extension!
[2012-03-01 19:36:00 -0500] aethier: mpasternacki I'm defining a default port attribute in cookbook A default['redis']['port'] = 6379 and other attributes in the same file depends on this port number default['redis']['service'] = "redis_#{redis['port']}". I need to be able to override default['redis']['port']  from cookbook B so that default['redis']['service'] = "redis_#{redis['port']} become the port number specified in cookbook B.
[2012-03-01 19:36:00 -0500] aethier:  node.override['redis']['port'] = node['mycache']['port'].  node.override['redis']['port'] = node['mycache']['port'] is in cookbook b recipe but it's not overriding  the attributes from the redis default file... but it does override the redis['port'] within a redis template...
[2012-03-01 19:37:00 -0500] aethier: mpasternacki - any ideas? - thanks!
[2012-03-01 19:37:00 -0500] mpasternacki: aethier: try to load/include cookbook B *after* cookbook A
[2012-03-01 19:37:00 -0500] mpasternacki: aethier: does all this happen in attributes/foo.rb, or recipes/foo.rb files?
[2012-03-01 19:37:00 -0500] mpasternacki: aethier: or maybe override the port number in role that includes cookbook A?
[2012-03-01 19:38:00 -0500] mpasternacki: aethier: sorry, typo - try to load/include cookbook B *before* cookbook A
[2012-03-01 19:38:00 -0500] AntonZ: so in my metadata.json file if i wanted to define the list of plugins i want to isntall how would i do it ?
[2012-03-01 19:38:00 -0500] mpasternacki: so that cookbook A can see the overridden value
[2012-03-01 19:39:00 -0500] mpasternacki: AntonZ: it's not in metadata.json, it's in attributes on node or role, depending on your setup.
[2012-03-01 19:39:00 -0500] aethier: mpasternacki In my role I only have cookbook B .  and the port number is in default attributes of cookbook B from the recipe of cookbook B I want to override default attributes from cookbook A.  I gues it would be easier if instead of cookbook B  Iwould just use a role but I'm hoping this can work somehow.
[2012-03-01 19:39:00 -0500] AntonZ: ah let me see
[2012-03-01 19:39:00 -0500] mpasternacki: aethier: so where is cookbook A loaded?
[2012-03-01 19:40:00 -0500] aethier: mpasternacki from cookbook B with include_recipe "redis::server"
[2012-03-01 19:40:00 -0500] `damien: mpasternacki: question: does chef-expander replace running chef-solr or do they need to be run in conjunction?
[2012-03-01 19:40:00 -0500] aethier: mparstenacki in my recipe of cookbook B I have node.override['redis']['port'] = node['apicache']['port'] and include_recipe "redis::server"
[2012-03-01 19:40:00 -0500] mpasternacki: `damien: they need to run at once.
[2012-03-01 19:41:00 -0500] `damien: mpasternacki: got it, thanks!
[2012-03-01 19:41:00 -0500] mpasternacki: aethier: include_recipe is below node.override call?
[2012-03-01 19:41:00 -0500] aethier: mpasternacki in my recipe of cookbook B I have node.override['redis']['port'] = node['apicache']['port'] and include_recipe "redis::server"
[2012-03-01 19:41:00 -0500] aethier: mpasternacki yes
[2012-03-01 19:42:00 -0500] mpasternacki: but default['redis']['service'] = "redis_#{redis['port']}"  is in attributes/default.rb of cookbook "redis"?
[2012-03-01 19:43:00 -0500] aethier: mpasternacki it's overriding the cookbook A atrributes in the cookbook A templates but doesn't do anything to attributes in the defautl file of cookbook A.  I guess there is no way todo what I want to do.  I'm defining the redis port in cookbook A and using the redis port also within cookbook A within the same attribute file.
[2012-03-01 19:43:00 -0500] mpasternacki: aethier: but the default file that you want to override is in recipes/, or in attributes/ directory of cookbook A?
[2012-03-01 19:43:00 -0500] aethier: mpasternacki in attributes/default.rb of cookbook A
[2012-03-01 19:44:00 -0500] mpasternacki: aethier: here's your problem.
[2012-03-01 19:44:00 -0500] mpasternacki: aethier: chef-client first runs attributes/*.rb for all cookbooks, and after that recipes
[2012-03-01 19:44:00 -0500] aethier: mpasternacki exact :-) as I'm explaining it I'm realising it doesn't make much sense :-)
[2012-03-01 19:44:00 -0500] mpasternacki: aethier: so cookbook B overrides the attribute *after* redis.service is set with the default value
[2012-03-01 19:45:00 -0500] mpasternacki: aethier: just add node.override['redis']['service'] right after you override port number.
[2012-03-01 19:45:00 -0500] mpasternacki: aethier: (in the recipe)
[2012-03-01 19:45:00 -0500] mpasternacki: this should do the trick
[2012-03-01 19:45:00 -0500] aethier: mpasternacki good idea.
[2012-03-01 19:45:00 -0500] aethier: mpasternacki will try this now. - thanks
[2012-03-01 19:50:00 -0500] `damien: mpasternacki: sadly chef-expander isn't helping fix the situation. However, I have found a work-around where I can take the named nodes and access them through Chef::Node.load(NODE_NAME)
[2012-03-01 19:50:00 -0500] `damien: so I may just do that
[2012-03-01 19:58:00 -0500] `damien: mpasternacki: an update: seems I can get search results when querying for the name of a node, it's wildcard searches that fail
[2012-03-01 20:02:00 -0500] chip-: Update: Turns out you create irritating permissions issues if you don't bootstrap the nodes before you migrate your nodes in. Lesson learned.
[2012-03-01 20:18:00 -0500] burris: I'm using solo and configured file_cache_path to be where I want it, but when I try to use cookbook_file I get an error because it's trying to create /var/chef  the backtrace appears in file_cache_path so I think that part is working, any ideas?
[2012-03-01 21:06:00 -0500] spicyWith: anyone have an interest in fixing the mongodb cookbook?
[2012-03-01 21:06:00 -0500] spicyWith: ^ helping in fixing
[2012-03-01 21:12:00 -0500] bemu: spicyWith: Which one?
[2012-03-01 21:12:00 -0500] spicyWith: community one - edelights
[2012-03-01 21:12:00 -0500] bemu: There are a number of people working on that, I believe.
[2012-03-01 21:12:00 -0500] spicyWith: do you know if they've made any progress?
[2012-03-01 21:12:00 -0500] bemu: But frankly, it needs a lot of work. I disabled all of the automated configuration aspects because it was very buggy.
[2012-03-01 21:13:00 -0500] bemu: automated configuration = with mongo gem.
[2012-03-01 21:13:00 -0500] bemu: We've all independently fixed the same bugs, afaik.
[2012-03-01 21:13:00 -0500] bemu: and some people are constructing clusters with the gem. I've done that also.
[2012-03-01 21:13:00 -0500] bemu: but it's not good for maintaining a cluster.
[2012-03-01 21:14:00 -0500] bemu: It uses some really poor logic. For instance, adding replica members is just plain wrong.
[2012-03-01 21:14:00 -0500] bemu: Maybe the syntax was appropriate in older versions, not sure, but it doesn't work now. and it's very brittle.
[2012-03-01 21:14:00 -0500] bemu: I'm still using the cookbook, but it doesn't do a lot when you strip out the gem stuff.
[2012-03-01 21:15:00 -0500] bemu: Unless you're managing > 10 clusters, I doubt automating that stuff is going to be worth the time, also.
[2012-03-01 21:16:00 -0500] bemu: You basically spend an hour constructing a cluster by hand, after all systems level stuff is taken care of, and it's relatively delicate work. Mongo does not currently take kindly to numerous kinds of failures.
[2012-03-01 21:16:00 -0500] spicyWith: bemu: sounds like I'm out of luck. Is the gem intended to be used from your own ruby program or from chef?
[2012-03-01 21:16:00 -0500] bemu: For instance, changing configuration servers, or replica set member hostnames is error prone at best.
[2012-03-01 21:16:00 -0500] bemu: and can result in segfaults.
[2012-03-01 21:16:00 -0500] spicyWith: from mongo?
[2012-03-01 21:16:00 -0500] bemu: We're talking about mongodb, no?
[2012-03-01 21:17:00 -0500] spicyWith: yeah
[2012-03-01 21:17:00 -0500] spicyWith: that just sounds terrifying
[2012-03-01 21:17:00 -0500] bemu: You can use the gem  any way you want to. The mongodb cookbook uses it to automate creation of shards and replicasets.
[2012-03-01 21:17:00 -0500] bemu: .
[2012-03-01 21:17:00 -0500] bemu: Well -- how many clusters do you have? Does it even make sense to automate?
[2012-03-01 21:17:00 -0500] bemu: I have four clusters, and it doesn't make sense yet. It's too fragile and would take too much work to make bulletproof.
[2012-03-01 21:17:00 -0500] spicyWith: by clusters do you mean replicasets?
[2012-03-01 21:18:00 -0500] bemu: or sharded replicasets.
[2012-03-01 21:18:00 -0500] spicyWith: one for now, but I was looking to automate the whole scenario of "one machine goes down, go change all the others in the replicaset to point to the new one"
[2012-03-01 21:19:00 -0500] bemu: o.O
[2012-03-01 21:19:00 -0500] spicyWith: one for now, but looking to shard to another one soon
[2012-03-01 21:19:00 -0500] bemu: Oh, if the server dies permanently. You want to update the replicaset.
[2012-03-01 21:19:00 -0500] spicyWith: am I thinking of it the wrong way?
[2012-03-01 21:19:00 -0500] bemu: No, that makes sense.
[2012-03-01 21:19:00 -0500] bemu: But I wouldn't automate that.
[2012-03-01 21:19:00 -0500] bemu: personally.
[2012-03-01 21:20:00 -0500] spicyWith: why not?
[2012-03-01 21:20:00 -0500] bemu: and you can make the mongodb cookbook do this.
[2012-03-01 21:20:00 -0500] bemu: But it currently is borked.
[2012-03-01 21:20:00 -0500] bemu: Unless there has been an update recently.
[2012-03-01 21:21:00 -0500] bemu: I wouldn't do it because that situation occurs once per month, at the absolute most. Are you going to auto provision the new node? How will you orchestrate this?
[2012-03-01 21:21:00 -0500] spicyWith: no update, yeah it's borked.
[2012-03-01 21:21:00 -0500] spicyWith: yes, I would auto-provision the new node
[2012-03-01 21:22:00 -0500] bemu: How will you make sure it replicates from a secondary, and not your primary?
[2012-03-01 21:22:00 -0500] spicyWith: I thought the cookbook would be smart enough to do that
[2012-03-01 21:22:00 -0500] bemu: Mongodb is not currently smart enough to do that.
[2012-03-01 21:22:00 -0500] bemu: It picks the server with the lowest latency.
[2012-03-01 21:23:00 -0500] spicyWith: could you take a snapshot of the db ?
[2012-03-01 21:23:00 -0500] bemu: Yes.
[2012-03-01 21:23:00 -0500] spicyWith: on a call, one sec
[2012-03-01 21:23:00 -0500] bemu: I'm just trying to illustrate why I do this manually, despite having basically everything else automated.
[2012-03-01 21:24:00 -0500] bemu: I build the servers with raid 0 / lvm / ifs and 16 ebs volumes, install 10gens debs, set up all the auxiliary stuff with chef.
[2012-03-01 21:24:00 -0500] bemu: But actually modifying clusters I do by hand.
[2012-03-01 21:24:00 -0500] bemu: It would probably take me a week to make that cookbook solid, not worth the time with 4 clusters.
[2012-03-01 21:35:00 -0500] flaccid: to detect failures in execute and script resources, just use flags "-e" as an option for example with a bash resource? when the scripts used with these resources return non-zero it isn't picked up
[2012-03-01 22:05:00 -0500] spicyWith: bemu: back now
[2012-03-01 22:05:00 -0500] spicyWith: I see
[2012-03-01 22:05:00 -0500] spicyWith: what's ifs?
[2012-03-01 22:05:00 -0500] spicyWith: xfs?
[2012-03-01 22:05:00 -0500] bemu: yes.
[2012-03-01 22:05:00 -0500] fujin: AntonZ: it looks like you have a long string instead of an array
[2012-03-01 22:07:00 -0500] Brad_K: doe mongo, we use the edelight mongodb cookbook, with some local modifications.
[2012-03-01 22:07:00 -0500] Brad_K: it requires that things be done in a specific order when bringing things up, and you have to wait until the current step is 100% complete before you can proceed to the next step.  but once you get past initial install, it seems decent enough.
[2012-03-01 22:08:00 -0500] Brad_K: s/^doe/for/
[2012-03-01 22:09:00 -0500] Brad_K: for other types of clusters, if we were on Amazon, i'd look at the infochimps stuff.
[2012-03-01 22:10:00 -0500] Brad_K: ironfan looks particularly interesting.
[2012-03-01 22:10:00 -0500] spicyWith: bemu: I guess that makes sense. I was trying to avoid things like trying to manually figure out the ec2 ips for new nodes, and was hoping I could do it with the cookbook, but it's severely broken, ya?
[2012-03-01 22:11:00 -0500] bemu: I wouldn't say it's severely broken, but it doesn't work as expected, for sure. Some of the problems are in mongo itself.
[2012-03-01 22:12:00 -0500] bemu: Brad_K is one of the people who has worked through these same problems.
[2012-03-01 22:12:00 -0500] spicyWith: Brad_K: infochimps stuff i.e. mongo cookbook?
[2012-03-01 22:12:00 -0500] bemu: and if I remember correctly, you only use the cookbook to do the initial provisioning, not for maintaining the cluster after the fact, right?
[2012-03-01 22:12:00 -0500] spicyWith: Brad_K: are any of the local mongo fixes or instructions publicly available?
[2012-03-01 22:12:00 -0500] Brad_K: no, i don't think infochimps has a mongo cookbook, but they do have the chef-cluster stuff and the ironfan stuff.
[2012-03-01 22:13:00 -0500] bemu: I'd share our stuff, but it's .. really bad. I basically hacked it enough to make it work, and commented out the broken pieces.
[2012-03-01 22:13:00 -0500] Brad_K: yeah, the edelight cookbook basically deals with installation.  it doesn't really have anything to do with admin or maintenance after install.
[2012-03-01 22:13:00 -0500] spicyWith: bemu: that's better than a totally broken thing...
[2012-03-01 22:14:00 -0500] hoover_damm: anyone have any thoughts on https://gist.github.com/f650503c7eb3ca705884?
[2012-03-01 22:14:00 -0500] bemu: Brad_K would have a much better base; have you released it?
[2012-03-01 22:14:00 -0500] Brad_K: i've given the URL to a couple of people and they've said they'd take a look at it, but it hasn't been officially "released" by us in any way.
[2012-03-01 22:15:00 -0500] bemu: ah, you're right. Apologies, I still haven't scoped it out beyond verifying you had the same issues.
[2012-03-01 22:15:00 -0500] Brad_K: of course, it is on github, so if you wanted to go take a look at it then you could do so.
[2012-03-01 22:16:00 -0500] spicyWith: https://github.com/customink/customink-cookbooks/tree/master/mongodb
[2012-03-01 22:16:00 -0500] Brad_K: hoover_damm: sorry, i'm not really a database guy, certainly not an SQL guy.
[2012-03-01 22:16:00 -0500] hoover_damm: Brad_K, the issue is !map:Mash 
[2012-03-01 22:16:00 -0500] hoover_damm: it's not valid
[2012-03-01 22:17:00 -0500] Brad_K: should that be "map!Mash"?
[2012-03-01 22:17:00 -0500] Brad_K: i know that "!" does an in-place modification, but i don't really grok the other parts.
[2012-03-01 22:17:00 -0500] hoover_damm: I don't want that, it's making my yaml invalid
[2012-03-01 22:17:00 -0500] spicyWith: Brad_K bemu ^^ mongodb customink cookbook. Was going to use it initially since it looked decent, but ended up using edelight since it looked more complete with sharding and such. Perhaps that's a better base for the community cookbook
[2012-03-01 22:18:00 -0500] hoover_damm: basically it means I need 'mash' or extlib for database.yml to load
[2012-03-01 22:18:00 -0500] hoover_damm: which is not cool
[2012-03-01 22:18:00 -0500] Brad_K: i don't think we ever looked at the customink cookbook.  not unless that's the mongo cookbook that had already existed on the opscode community site.
[2012-03-01 22:18:00 -0500] bemu: spicyWith: It's much less complete. I still use the edelight search stuff for mongos'
[2012-03-01 22:19:00 -0500] hoover_damm: and the truth is, if I don't use node
[2012-03-01 22:19:00 -0500] hoover_damm: I don't get mash
[2012-03-01 22:19:00 -0500] hoover_damm: I really didn't want to be lame
[2012-03-01 22:20:00 -0500] Brad_K: bemu:  spicyWith if you want to take a look at our modified version of the edelight mongodb cookbook, see https://github.com/bknowles/mongodb
[2012-03-01 22:21:00 -0500] bemu: I already linked him to it :)
[2012-03-01 22:21:00 -0500] Brad_K: note that this version doesn't have any of our SVN history or change notes or anything.
[2012-03-01 22:21:00 -0500] bemu: Yeah :(
[2012-03-01 22:21:00 -0500] bemu: at some point I'd like to swap over to your version.
[2012-03-01 22:21:00 -0500] bemu: So we can both work to improve it in a clean way.
[2012-03-01 22:21:00 -0500] Brad_K: we'll do a proper import from SVN later with all history attached, but i have to learn github a lot better.
[2012-03-01 22:21:00 -0500] bemu: Kk.
[2012-03-01 22:23:00 -0500] Brad_K: hoover_damm: sorry, guy.  wish i could help.  ;-(
[2012-03-01 22:24:00 -0500] spicyWith: Brad_K: were you using svn instead of git?
[2012-03-01 22:24:00 -0500] Brad_K: i don't suppose anyone knows of a decent way to share information between various nodes in your network that are all running fail2ban?  maybe even some way to share that with other people outside the organization?
[2012-03-01 22:25:00 -0500] aethier: reading at http://wiki.opscode.com/display/chef/Search#Search-UsingSearchinRecipes  how do I search for nodes that have a certain attributes value? like knife search node "redis:database_role == master"
[2012-03-01 22:25:00 -0500] chip-: Question: When running knife from windows, where should I stash ssh private keys?
[2012-03-01 22:25:00 -0500] Brad_K: spicyWith: yes.  we currently use svn, although we will be moving to git  at some point.
[2012-03-01 22:25:00 -0500] aethier: knife search node "redis:database_role" works but how do I seach for nodes that redis:database_role is set to master?
[2012-03-01 22:26:00 -0500] spicyWith: bemu: what was the search stuff you liked about edelights?
[2012-03-01 22:26:00 -0500] chip-: Second question: What's the rackspace cloud equivalent to ec2.public_hostname?
[2012-03-01 22:26:00 -0500] hoover_damm: Brad_K, basically it's just a concat issue at this point
[2012-03-01 22:26:00 -0500] bemu: I didn't say I liked it, I said it works. :)
[2012-03-01 22:26:00 -0500] bemu: and it actually doesn't work out of the bos.
[2012-03-01 22:26:00 -0500] bemu: box.
[2012-03-01 22:26:00 -0500] hoover_damm: chip-, node['cloud']['public_hostname']
[2012-03-01 22:26:00 -0500] bemu: Now that I think about it.
[2012-03-01 22:26:00 -0500] bemu: You need to sort the results.
[2012-03-01 22:27:00 -0500] bemu: Because mongo gets very unhappy when the config servers are out of order.
[2012-03-01 22:27:00 -0500] bemu: mongos specifically.
[2012-03-01 22:27:00 -0500] Brad_K: yeah, that sort is key.
[2012-03-01 22:27:00 -0500] hoover_damm: chip-, chef > node['cloud']['public_hostname'] => "50-57-40-206.static.cloud-ips.com" 
[2012-03-01 22:27:00 -0500] hoover_damm: :)
[2012-03-01 22:28:00 -0500] aethier: anyone can help me with search?? how do I search for nodes that have redis:database_role attribute set to master. - thanks
[2012-03-01 22:28:00 -0500] chip-: hoover_damm: many thanks.
[2012-03-01 22:29:00 -0500] Brad_K: chip-: there's also node['rackspace']['public_hostname'], but IMO you're better off using the cloud version  that's more portable.
[2012-03-01 22:29:00 -0500] spicyWith: all I know is that I get errors I don't even know where they're coming from. I actually think it's search http://pastebin.com/bvXq4VNR
[2012-03-01 22:31:00 -0500] spicyWith: bemu: what do you mean by out of order?
[2012-03-01 22:32:00 -0500] bemu: spicyWith: You can't guarantee search will return results in the same order, but mongos insists on it.
[2012-03-01 22:32:00 -0500] bemu: So you have to sort them.
[2012-03-01 22:32:00 -0500] chip-: Brad_K: yeah if cloud.public_hostname works regardless of ec2 or rackspace I'll start using that
[2012-03-01 22:32:00 -0500] Brad_K: spicyWith: he's talking about the search for the database config servers.  you need to always get them in the same order, every time.  otherwise, mongos freaks out.
[2012-03-01 22:33:00 -0500] Brad_K: aethier: i'm trying to figure out your search issue, but not having much luck.
[2012-03-01 22:33:00 -0500] bemu: and yeah, looks like you might have a search issue. I put in a TON of logging to debug issues like that.
[2012-03-01 22:33:00 -0500] spicyWith: so you are automating configuration it sounds like?
[2012-03-01 22:34:00 -0500] spicyWith: bemu: I'm fairly new to ruby and chef. Where would I want to be doing that?
[2012-03-01 22:35:00 -0500] bemu: Just the mongos configuration.
[2012-03-01 22:35:00 -0500] bemu: around here: /srv/chef/file_store/cookbooks/mongodb/definitions/mongodb.rb:136 and /srv/chef/file_store/cookbooks/mongodb/recipes/replicaset.rb:24
[2012-03-01 22:36:00 -0500] spicyWith: Brad_K: oh wow, there are no diffs for what you added, you weren't kidding
[2012-03-01 22:36:00 -0500] spicyWith: bemu: how would I log something in chef?
[2012-03-01 22:36:00 -0500] Brad_K: spicyWith: specifically, line 69 in the file https://github.com/bknowles/mongodb/blob/master/definitions/mongodb.rb
[2012-03-01 22:37:00 -0500] bemu: spicyWith: You can diff it against the stock one.
[2012-03-01 22:37:00 -0500] bemu:     Chef::Log.info("replicaset_name being set as replicaset[mongodb][replicaset_name]: #{replicaset['mongodb']['replicaset_name']}")
[2012-03-01 22:37:00 -0500] bemu: For instance.
[2012-03-01 22:38:00 -0500] Brad_K: spicyWith: it's a straight import of our current production mongodb configuration.  that's it.
[2012-03-01 22:38:00 -0500] hoover_damm: oooh sexy
[2012-03-01 22:38:00 -0500] hoover_damm: nasty
[2012-03-01 22:38:00 -0500] hoover_damm: but sexy
[2012-03-01 22:39:00 -0500] ggolin: kind of like april and all of the tmnt.
[2012-03-01 22:39:00 -0500] hoover_damm: Brad_K, basically I had to create a new hash array, set the values from my attributes, then .to_hash.to_yaml
[2012-03-01 22:39:00 -0500] bemu: o.O
[2012-03-01 22:39:00 -0500] hoover_damm: to avoid the !Mash 
[2012-03-01 22:40:00 -0500] hoover_damm: a bit ugly
[2012-03-01 22:40:00 -0500] Brad_K: wow.  that's cool!
[2012-03-01 22:41:00 -0500] hoover_damm: so I totally avoided a template resource
[2012-03-01 22:41:00 -0500] hoover_damm: SEXY!
[2012-03-01 22:42:00 -0500] hoover_damm: yes file content is ... nom
[2012-03-01 22:43:00 -0500] bemu: Why is that ideal?
[2012-03-01 22:47:00 -0500] Brad_K: aethier: here's what i found with doing attribute searches:
[2012-03-01 22:47:00 -0500] Brad_K: knife search node 'name:prod* AND shard_name:shard1' -a mongodb
[2012-03-01 22:48:00 -0500] Brad_K: that finds all the nodes that have the name starting with "prod", and that have a [:mongodb][:shard_name] == shard1
[2012-03-01 22:49:00 -0500] Urocyon: Anyone using the postgresql cookbook?  I've made some changes to add some tunable settings.  Would love some feedback:  https://github.com/sfiggins/cookbooks/compare/COOK-1064
[2012-03-01 22:49:00 -0500] Brad_K: so, i'm guessing that so long as the sub-attribute you're looking for is unique (e.g., redis:master),  you could search for just that and not worry about the higher level attributes.
[2012-03-01 22:57:00 -0500] Brad_K: sorry, guy  we use mongodb here.  at least, for now.
[2012-03-01 23:03:00 -0500] drrk: Brad_K: do you have a private cloud where you are atm?
[2012-03-01 23:03:00 -0500] drrk: or ate you using a public provider
[2012-03-01 23:06:00 -0500] chip-: I have to say, being able to migrate ~290 nodes from chef oss to chef hosted in a day is pretty awesome.
[2012-03-01 23:07:00 -0500] flaccid: whats chef oss ?
[2012-03-01 23:07:00 -0500] chip-: Chef open source
[2012-03-01 23:08:00 -0500] flaccid: it is open source
[2012-03-01 23:09:00 -0500] fujin: he means open source chef-server
[2012-03-01 23:09:00 -0500] fujin: to the platform
[2012-03-01 23:09:00 -0500] Urocyon: open source server as opposed to opscode's hosted server.
[2012-03-01 23:09:00 -0500] fujin: Hosted Chef platform
[2012-03-01 23:09:00 -0500] spicyWith: bemu: thanks - (yes, I'm that new to chef, probably shouldn't be trying to get mongo running with it?)
[2012-03-01 23:10:00 -0500] bemu: spicyWith: I highly doubt it's worth your time currently.
[2012-03-01 23:12:00 -0500] chip-: Yeah, sorry.
[2012-03-01 23:16:00 -0500] flaccid: ic
[2012-03-01 23:16:00 -0500] chip-: Also, holy crap is Hosted Chef fast.
[2012-03-01 23:18:00 -0500] fujin: damn right it is
[2012-03-01 23:20:00 -0500] spicyWith: for what you're paying, it better include frigging jingle bells
[2012-03-01 23:20:00 -0500] fujin: ?? lol
[2012-03-01 23:21:00 -0500] fujin: hosted chef is pretty cheap ?
[2012-03-01 23:23:00 -0500] spicyWith: fujin: :-( not sure I can agree
[2012-03-01 23:23:00 -0500] spicyWith: I think it's vastly overpriced
[2012-03-01 23:23:00 -0500] spicyWith: they are basically charging you 10x what would cost to run a machine to support you
[2012-03-01 23:24:00 -0500] chip-: Nothing compared to what it costs to hire enough people to manage all these nodes without Chef
[2012-03-01 23:24:00 -0500] spicyWith: chip-: fair enough
[2012-03-01 23:24:00 -0500] bemu: Or the amount of time it takes to administer your own chef server(s).
[2012-03-01 23:24:00 -0500] fujin: "run a machine" is not all that is involved
[2012-03-01 23:24:00 -0500] spicyWith: i know, i know
[2012-03-01 23:24:00 -0500] spicyWith: but most small startups won't be able to afford that, I would say
[2012-03-01 23:25:00 -0500] bemu: We'll have hundreds of nodes on platform by end of month, and still happy to pay for it. Time is the resource most difficult to scale. :P
[2012-03-01 23:25:00 -0500] spicyWith: touch
[2012-03-01 23:25:00 -0500] fujin: most small startups won't want a neckbeard dedicated hardware and engineering time to manage the chef-server
[2012-03-01 23:25:00 -0500] fujin: need to be building shit that matters
[2012-03-01 23:25:00 -0500] fujin: unless of course, it is your engineering prerogative to build a replacement to the chef server, or similar ;)
[2012-03-01 23:25:00 -0500] chip-: Anyway 'tis moot, clearly I was convinced it was worth the money
[2012-03-01 23:26:00 -0500] spicyWith: fujin: agree, but I do have to say, I have found a ton of bottlenecks with chef in general. It's a lot less mature than I was expecting.
[2012-03-01 23:26:00 -0500] fujin: fwiw, in 3+ years of consulting, every one of my clients has used hosted chef platform and not worried about the cost
[2012-03-01 23:26:00 -0500] spicyWith: especially when it comes to cookbooks
[2012-03-01 23:26:00 -0500] fujin: fuck. what is this i don't even
[2012-03-01 23:26:00 -0500] fujin: i am on the edge of my chair
[2012-03-01 23:27:00 -0500] fujin: please please please tell me how immature chef is and how you are going to fix it
[2012-03-01 23:27:00 -0500] fujin: revolutionizing syseng and devops
[2012-03-01 23:27:00 -0500] fujin: what is the big problem ?
[2012-03-01 23:27:00 -0500] spicyWith: I always think, today is going to be the day I get this frigging mongo server up and running. and it's been more days than I should have reasonably spent
[2012-03-01 23:27:00 -0500] spicyWith: fujin: :P
[2012-03-01 23:27:00 -0500] chip-: fujin: take your foot off the gas, man.
[2012-03-01 23:27:00 -0500] spicyWith: don't fall from your chair
[2012-03-01 23:27:00 -0500] bemu: The cookbooks are a direct result of community interest/involvement. Some are awesome, some are not. Ones around technologies which are widely used are generally the best.
[2012-03-01 23:27:00 -0500] fujin: it takes less than one minute to deploy mongo
[2012-03-01 23:27:00 -0500] fujin: i have cookbooks ready to roll for it
[2012-03-01 23:28:00 -0500] spicyWith: fujin: please
[2012-03-01 23:28:00 -0500] fujin: pretty sure we just use public ones
[2012-03-01 23:28:00 -0500] fujin: you looked at the infochimps ones?
[2012-03-01 23:28:00 -0500] spicyWith: tell bemu about it..
[2012-03-01 23:28:00 -0500] spicyWith: fujin nope
[2012-03-01 23:28:00 -0500] fujin: I've worked with bemu in the past, he knows my thoughts on mongodb
[2012-03-01 23:28:00 -0500] spicyWith: wher, where?
[2012-03-01 23:29:00 -0500] spicyWith: I don't :{
[2012-03-01 23:29:00 -0500] spicyWith: :P
[2012-03-01 23:29:00 -0500] spicyWith: I can imagine though: the world needs no nosql?
[2012-03-01 23:30:00 -0500] fujin: fuck, you really wanted to tell me about how immature chef was when really you just want me to copy pasta you some code ?
[2012-03-01 23:30:00 -0500] fujin: "do my job for me ?""
[2012-03-01 23:30:00 -0500] fujin: https://github.com/infochimps-labs/ironfan-pantry/tree/master/cookbooks/mongodb
[2012-03-01 23:31:00 -0500] fujin: https://github.com/edelight/chef-cookbooks/tree/master/mongodb
[2012-03-01 23:31:00 -0500] bemu: 'deploy mongo' is vague. Specifically, the edelight cookbook works to deploy sharded replica sets, after you fix the bugs, but it doesn't help you with maintaining the clusters. That part is largely broken/non-existent.
[2012-03-01 23:31:00 -0500] spicyWith: fujin: I thought things would be a lot easier, don't get me wrong
[2012-03-01 23:31:00 -0500] fujin: mongodb is fucking hard dude
[2012-03-01 23:31:00 -0500] bemu: Many of the limitations in the cookbook are limitations/complications with mongodb.
[2012-03-01 23:32:00 -0500] spicyWith: fair enough
[2012-03-01 23:32:00 -0500] fujin: tell you what. mongodb is immature
[2012-03-01 23:32:00 -0500] bemu: There are tickets for most of them.
[2012-03-01 23:32:00 -0500] spicyWith: no question about that
[2012-03-01 23:32:00 -0500] fujin: stop trying to deploy immature shit and your experience w/ chef may be better
[2012-03-01 23:32:00 -0500] bemu: ^
[2012-03-01 23:32:00 -0500] bemu: Scaling mongo is fun too.
[2012-03-01 23:32:00 -0500] fujin: "scaling"
[2012-03-01 23:33:00 -0500] fujin: I like how you used that word in a sentence with mongo
[2012-03-01 23:33:00 -0500] bemu: We've almost literally put redis in front of mongodb everywhere we use it.
[2012-03-01 23:33:00 -0500] fujin: lolol
[2012-03-01 23:33:00 -0500] bemu: It's pretty sad.
[2012-03-01 23:33:00 -0500] fujin: definitely not a problem with chef itself
[2012-03-01 23:34:00 -0500] bemu: and we have a 10gen support contract/have actively worked to improve document structure/queries. It's the write lock that is so hard to deal with.
[2012-03-01 23:34:00 -0500] fujin: that's basically what everyone who ever tried to scale MongoDB says.
[2012-03-01 23:34:00 -0500] fujin: we <did some shit to make it less painful> but the write lock kills perf anyway
[2012-03-01 23:34:00 -0500] bemu: yep yep. we will probably not be sticking with it long term.
[2012-03-01 23:35:00 -0500] bemu: We're in a decent place now, but it would be uncomfortable to scale 10x with what we have.
[2012-03-01 23:35:00 -0500] bemu: The thing is, to improve write lock you have few options: reduce the time your queries take, reduce the number of reads (yes, it apparently cedes the lock to reads, just found that out recently), or shard.
[2012-03-01 23:36:00 -0500] bemu: and considering that their balancer will often obliterate your entire cluster's performance it has to be used manually.
[2012-03-01 23:36:00 -0500] spicyWith: fujin: yeah, mongo is easy to get up and running on one node or locally, but a pain in the a$$ to get up on more than one node in production. But still, I would expect chef to help with that.
[2012-03-01 23:36:00 -0500] fujin: i wouldn't
[2012-03-01 23:36:00 -0500] spicyWith: bemu: actually sharding is not the answer
[2012-03-01 23:36:00 -0500] fujin: that is a misplaced expectation
[2012-03-01 23:37:00 -0500] fujin: chef has nothing to do with mongo
[2012-03-01 23:37:00 -0500] bemu: Elaborate?
[2012-03-01 23:37:00 -0500] spicyWith: a lot of times what you want is a read-slave, so replicasets should really be helping
[2012-03-01 23:38:00 -0500] bemu: That will only go so far in helping your write lock, and is encapsulated by suggestion two in the list.
[2012-03-01 23:38:00 -0500] spicyWith: fujin: I know it doesn't, but honestly, postgresql is also non-trivial to set up properly
[2012-03-01 23:38:00 -0500] fujin: ya
[2012-03-01 23:38:00 -0500] bemu: The same can be said for almost every datastore.
[2012-03-01 23:39:00 -0500] fujin: chef has nothing to do with postgresql either
[2012-03-01 23:39:00 -0500] fujin: it is not going to turn you into a magic database syseng overnight
[2012-03-01 23:39:00 -0500] spicyWith: what I don't expect is for a community to be so broken as the mongodb one is
[2012-03-01 23:39:00 -0500] bemu: But mysql, for example, has much better chef coverage because more people use it.
[2012-03-01 23:39:00 -0500] spicyWith: ^ cookbook
[2012-03-01 23:39:00 -0500] fujin: the community probably doesn't use mongodb because it is broken itself, theoretically, and reliably proven to be badly performing
[2012-03-01 23:39:00 -0500] spicyWith: bemu where do you use mongo?
[2012-03-01 23:40:00 -0500] bemu: spicyWith: Last time I checked, edelight isn't accepting pull requests.
[2012-03-01 23:40:00 -0500] bemu: So the state is fixed until they want to maintain it, or we fork it and continue work.
[2012-03-01 23:40:00 -0500] bemu: What do you mean, where?
[2012-03-01 23:40:00 -0500] spicyWith: where do you work and what do you use it for?
[2012-03-01 23:41:00 -0500] bemu: I'll respond in pm.
[2012-03-01 23:42:00 -0500] spicyWith: kk
[2012-03-01 23:49:00 -0500] spicyWith: fujin: aight, not going to start a religious war as long as you agree Vim is the best editor that will ever exist :)
[2012-03-01 23:50:00 -0500] fujin: ??
[2012-03-01 23:50:00 -0500] fujin: i don't use vim
[2012-03-01 23:50:00 -0500] btm: fujin: cook me up some database pie!
[2012-03-01 23:50:00 -0500] spicyWith: I know, I'm just kidding.
[2012-03-01 23:50:00 -0500] fujin: mm, database pie
[2012-03-01 23:50:00 -0500] fujin: =D
[2012-03-01 23:50:00 -0500] fujin: spicyWith: it's pretty telling when there are no active maintainers for something
[2012-03-01 23:50:00 -0500] fujin: only one of a few things could cause that, right?
[2012-03-01 23:51:00 -0500] spicyWith: not really
[2012-03-01 23:51:00 -0500] btm: fujin: you can't improve on perfection.
[2012-03-01 23:51:00 -0500] spicyWith: it seems like edelight isn't taking pull requests
[2012-03-01 23:51:00 -0500] spicyWith: so probably that should not be the community cookbook
[2012-03-01 23:51:00 -0500] fujin: i don't even think there is a policy for cookbooks like that
[2012-03-01 23:51:00 -0500] spicyWith: but there do seem to be a bunch of other cookbooks out there that work
[2012-03-01 23:52:00 -0500] spicyWith: idk
[2012-03-01 23:52:00 -0500] fujin: namespaced cookbook site would be great
[2012-03-01 23:52:00 -0500] bemu: yah
[2012-03-01 23:52:00 -0500] fujin: so much github feature reproduction though, makes me sad
[2012-03-01 23:53:00 -0500] flaccid: there may need to be a better process for contribution imho
[2012-03-01 23:55:00 -0500] btm: cookbook contribution workflow continues to improve. stay tuned.
[2012-03-01 23:55:00 -0500] hoover_damm: spicyWith, well really contributions are just that... 
[2012-03-01 23:55:00 -0500] hoover_damm: free as in how you found it
[2012-03-01 23:55:00 -0500] hoover_damm: spicyWith, and as you've likely noticed chef's learning curve is unique so it can lead to some unique contributions
[2012-03-01 23:56:00 -0500] hoover_damm: just makes you evaluate the cookbook before you take the plunge
[2012-03-01 23:56:00 -0500] hoover_damm: imo
[2012-03-01 23:57:00 -0500] hoover_damm: something we all should be doing
[2012-03-01 23:57:00 -0500] hoover_damm: it's not that cookbooks are virus's it's just :) always good to review before you use
