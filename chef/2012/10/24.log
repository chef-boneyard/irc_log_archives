[2012-10-24 00:04:52 -0400] Rayko: I need some help configuring the chef server, can I ask for it here or there is a better place for that?
[2012-10-24 00:10:25 -0400] werdnativ: does anyone know why librarian-chef screws up the checked out branch when it installs from git sources?
[2012-10-24 00:10:54 -0400] bluepojo: yfeldblum: ^
[2012-10-24 00:23:50 -0400] yfeldblum: werdnativ, what's going on?
[2012-10-24 00:37:10 -0400] werdnativ: yfeldblum: it puts "master" a few revisions back, and checks out a detached HEAD.
[2012-10-24 00:38:35 -0400] yfeldblum: werdnativ, once you run `librarian-chef install`, it puts the SHA at that point in time into the Cheffile.lock, and then until you run `librarian-chef update my-git-sourced-cookbook`, that's the SHA that's pinned
[2012-10-24 00:39:06 -0400] yfeldblum: werdnativ, or that's what's supposed to happen; what's happening for you?
[2012-10-24 00:43:16 -0400] werdnativ: yfeldblum: yeah, the checked out SHA is the right one (latest, origin/master) but if I cd into cookbooks/my-git-sourced/ then local "master" is a few revisions behind. Even if I rm -rf  it and re- install/update it.
[2012-10-24 00:43:53 -0400] werdnativ: HEAD is in the right place, but master is randomly behind.
[2012-10-24 00:44:48 -0400] yfeldblum: werdnativ, ah yeah, that's because librarian-chef doesn't bother merging remote branch heads into local branches
[2012-10-24 00:45:30 -0400] yfeldblum: werdnativ, librarian-chef *fetches* the remote branch heads and tags, but doesn't merge them into the local branch heads
[2012-10-24 00:45:45 -0400] werdnativ: yfeldblum: ok. just wondering. It makes it odd when I'm tweaking cookbooks from within my project & trying to push them back up.
[2012-10-24 00:46:32 -0400] yfeldblum: werdnativ, librarian-chef assumes you don't use that workflow...
[2012-10-24 00:46:37 -0400] werdnativ: :)
[2012-10-24 00:47:25 -0400] yfeldblum: werdnativ, because it treats the cookbooks directory as a build artifact that is entirely under its control and you're no allowed to tweak it; it doesn't treat that directly like part of the source code because it's not because it's a build artifact
[2012-10-24 00:50:50 -0400] werdnativ: yeah, I get it no worries. Still, might be nice to git reset the master branch to the SHA, just to make it cleaner no merging, just point it where the tip of the checkout should be.
[2012-10-24 00:52:29 -0400] yfeldblum: werdnativ, that can possibly cause problems too
[2012-10-24 00:53:47 -0400] yfeldblum: werdnativ, which is why a few people talked about it and contributed patches to librarian, and why i ended up going the way i did in the end
[2012-10-24 00:56:34 -0400] werdnativ: ok. I'll take your word for it. Thanks. :)
[2012-10-24 00:56:45 -0400] yfeldblum: werdnativ, it is a tricky problem, and there's even a flag you can pass in the CLI to strip out the .git directory when copying a cookbook to the cookbooks dir altogether
[2012-10-24 00:59:29 -0400] yfeldblum: werdnativ, but you might think about developing that other cookbook in isolation and maybe bringing it under test in isolation, so you don't have to worry about the workflow issue with librarian-chef (this is how many people handle writing a ruby app that depends on a gem that they also write)
[2012-10-24 01:01:41 -0400] werdnativ: yfeldblum: gotcha I haven't figured out how to be totally systematic with cookbooks & testing them yet. At this point it's only used in my one project, I just wanted to manage it separately: mainly it's variations on existing cookbooks.
[2012-10-24 01:01:59 -0400] yfeldblum: werdnativ, testing cookbooks is indeed tricky
[2012-10-24 01:02:13 -0400] yfeldblum: werdnativ, some good projects going on in that arena though
[2012-10-24 01:02:33 -0400] werdnativ: I got an ebook that talked about doing it in ec2 instances a while back.
[2012-10-24 01:03:53 -0400] werdnativ: "Test-Driven Infrastructure with Chef" but yes, it can be tricky.
[2012-10-24 01:04:08 -0400] yfeldblum: werdnativ, that kickstarted interest in testing cookbooks, but there are a bunch more projects now
[2012-10-24 01:04:09 -0400] werdnativ: also, differences between using it solo vs. server, etc.
[2012-10-24 01:04:48 -0400] werdnativ: in my case I'm just using solo, so things like environments don't work and I use a role attribute to simulate that...
[2012-10-24 01:05:44 -0400] werdnativ: so unfortunately cookbooks aren't quite as "off-the-shelf" as I originally thought.
[2012-10-24 01:06:22 -0400] yfeldblum: werdnativ, http://www.opscode.com/blog/2012/10/19/testing-opscodes-apache2-cookbook/
[2012-10-24 01:06:44 -0400] werdnativ: yfeldblum: thanks, will read. I'm off. ttyl.
[2012-10-24 01:17:49 -0400] fcoury: Trying to add an apt-repo to chef 0.10.8 and Vagrant, getting this: NameError: apt_repository[hellobits] (ruby::default line 15) had an error: NameError: uninitialized constant Mixlib::ShellOut
[2012-10-24 01:18:11 -0400] fcoury: I found a similar error with Python's PIP http://tickets.opscode.com/browse/COOK-1282 but couldn't figure it out. Any ideas?
[2012-10-24 01:18:33 -0400] fcoury: (I am using apt like this -> depends "apt", "~> 1.4.8")
[2012-10-24 01:19:06 -0400] philwo: fcoury: Could you try upgrading your Chef version?
[2012-10-24 01:19:25 -0400] hoover_damm: fcoury, there's a pull request for that
[2012-10-24 01:19:35 -0400] fcoury: philwo: I am using Berksfile, I think it hardcodes that version
[2012-10-24 01:19:42 -0400] fcoury: hoover_damm: checking
[2012-10-24 01:21:05 -0400] hoover_damm: rescue Chef::Exceptions::ShellCommandFailed, Mixlib::ShellOut::ShellCommandFailed
[2012-10-24 01:21:07 -0400] hoover_damm: is what it should be
[2012-10-24 01:21:27 -0400] fcoury: mine's NameError
[2012-10-24 01:21:35 -0400] fcoury: indicating that Mixlib::ShellOut doesn't exist
[2012-10-24 01:21:37 -0400] hoover_damm: old chef versions may be different
[2012-10-24 01:21:48 -0400] hoover_damm: and use Chef::Exceptions::ShellCommandFailed
[2012-10-24 01:21:54 -0400] hoover_damm: which is why both are there
[2012-10-24 01:27:59 -0400] fcoury: is vagrant tied to check 0.10.8?
[2012-10-24 01:28:13 -0400] fcoury: Berkshelf uses chef 0.10.16
[2012-10-24 01:28:19 -0400] fcoury: it's on the VM side that's using 0.10.8
[2012-10-24 01:28:56 -0400] hoover_damm: time to update that
[2012-10-24 01:29:17 -0400] hoover_damm: don't know anything about vagrant but yeah it should be possible
[2012-10-24 01:29:30 -0400] hoover_damm: fwiw that rescue line works with 0.10.8
[2012-10-24 01:30:30 -0400] fcoury: OK using an older version of the recipe got me going
[2012-10-24 01:37:14 -0400] cschneid: So I have a goal of getting torquebox up and running on a newly booted repo. As a prereq I need java.  But the oracle java recipe requires me to have the binary available. Where do I put that? Is that get uploaded via `knife cookbook upload java`?
[2012-10-24 01:40:58 -0400] cschneid: ok, I suppose I understand even less.  When a cookbook says that I should override node[whatever] to = whatever. Where would that go?
[2012-10-24 01:41:56 -0400] cschneid: HAH, nevermind! I made a role and it has the override_attributes stuff
[2012-10-24 02:55:18 -0400] cschneid: if I want to install a tgz file in a recipe. Seems pretty straight forward, sanity check me:  1) remote_file download, 2) unzip it somewhere. 3) setup startup scripts.
[2012-10-24 02:55:24 -0400] cschneid: is there a shortcut on those steps?
[2012-10-24 03:02:11 -0400] chip-: cschneid: Check out the ark library / cookbook, it's designed to handle all that for you.
[2012-10-24 03:05:46 -0400] cschneid: chip-: thanks, looking
[2012-10-24 03:09:43 -0400] chip-: cschneid: Usage example: https://gist.github.com/3943457
[2012-10-24 03:10:12 -0400] cschneid: chip-: so ark is a cookbook that I'd go use. And then reference from mine as a dependency
[2012-10-24 03:10:13 -0400] cschneid: ?
[2012-10-24 03:10:26 -0400] chip-: cschneid: Correct.
[2012-10-24 03:11:20 -0400] cschneid: chip-: cool. Trying to wrap my head around the chef world. It's hard to see all the pieces fitting together
[2012-10-24 03:11:49 -0400] cschneid: for instance, I ran across this: https://github.com/infochimps-labs/ironfan -- which appears to be way more of a takeover of the chef world than ark is
[2012-10-24 03:12:57 -0400] chip-: Yeah, ironfan/infochimps is a whole stack on top of Chef, doing their own thing.
[2012-10-24 03:13:29 -0400] cschneid: is it worth playing with? Or should I get comfortable with chef by itself first? Does it do something super useful?
[2012-10-24 03:13:43 -0400] chip-: I'm biased. :)
[2012-10-24 03:15:29 -0400] cschneid: chip-: I'm sure :)  I'm just trying to get my footing. I'm a ruby dev, but a near-total noob on devops.  I've done basic manual ops work to host my own stuff, but this automation is tricky
[2012-10-24 03:18:25 -0400] gchristensen: cschneid: it seems that it isn't tricky, but it spooks people a bit.
[2012-10-24 03:19:00 -0400] gchristensen: setup vagrant, try some things, don't be afraid.
[2012-10-24 03:19:07 -0400] cschneid: gchristensen: well, it's a pretty huge DSL to learn for sure. And on top of it, it's a domain I'm not too familiar with the ins & outs. :)
[2012-10-24 03:19:20 -0400] gchristensen: ah
[2012-10-24 03:19:39 -0400] chip-: I bookmark & refer to this page constantly: http://wiki.opscode.com/display/chef/Resources
[2012-10-24 03:19:42 -0400] cschneid: ie, I can cobble together a passenger stack, but really tweaking & working on it is just something I've never really done :)
[2012-10-24 03:19:45 -0400] gchristensen: me too
[2012-10-24 03:20:22 -0400] gchristensen: practice and experience is all it is
[2012-10-24 03:21:08 -0400] cschneid: yeah. Which is why I know the brute force way to get something done. Gotta ask what the smoother way is
[2012-10-24 03:22:07 -0400] gchristensen: practice and experience ;) google. hitting a problem, and finding the solution.
[2012-10-24 04:15:36 -0400] vaskas: hey guys
[2012-10-24 04:16:08 -0400] vaskas: is there a way to override node['platform'] within a role in Chef?
[2012-10-24 04:16:55 -0400] vaskas: I am currently using pkgin (the pkgsrc packages installer) on CentOS and I want to define my platform as redhat_pkgin
[2012-10-24 04:48:48 -0400] fcoury: Any idea of why this error:
[2012-10-24 04:48:49 -0400] fcoury: NoMethodError: undefined method `default_action'
[2012-10-24 04:48:54 -0400] fcoury: Using Chef 0.10.8
[2012-10-24 05:16:39 -0400] BryanWB_: ohai chefs!
[2012-10-24 05:19:08 -0400] erikh: hey dude
[2012-10-24 05:19:10 -0400] BryanWB_: opscoders, is there any way to file a bug for docs.opscode.com?
[2012-10-24 05:19:15 -0400] BryanWB_: erikh: hey buddy!
[2012-10-24 05:38:35 -0400] hoover_damm: BryanWB_, is chef-docs open yet?
[2012-10-24 05:38:53 -0400] hoover_damm: https://github.com/opscode/chef-docs for me still
[2012-10-24 05:39:13 -0400] hoover_damm: once that's open (it's 404'ing) you can open a pull
[2012-10-24 05:39:33 -0400] hoover_damm: BryanWB_, if you missed a part of the discussion at the summit I can post my notes... they're rough but would answer this
[2012-10-24 05:41:59 -0400] BryanWB_: docs.opscode.com is up
[2012-10-24 05:42:06 -0400] hoover_damm: right, repo is still private
[2012-10-24 05:42:09 -0400] BryanWB_: hoover_damm: i am not at summit
[2012-10-24 05:42:24 -0400] BryanWB_: hoover_damm: too bad, it would it be gr8 to meet u in person
[2012-10-24 05:42:43 -0400] hoover_damm: BryanWB_, https://gist.github.com/1b4c97ca2490c76d9f4b
[2012-10-24 05:42:51 -0400] hoover_damm: basically hit the raw mode as I think there's a few bits missing
[2012-10-24 05:43:05 -0400] hoover_damm: no actually wait github did that pretty much right
[2012-10-24 05:43:40 -0400] hoover_damm: BryanWB_, there's a whole new documentation team that will basically revitalize the documentation.  You'll be able to clone chef-docs and git checkout 0.10.8 and get the documentation for your version of chef
[2012-10-24 05:43:49 -0400] BryanWB_: gr8
[2012-10-24 05:43:59 -0400] BryanWB_: was just listening to nathen's recap
[2012-10-24 05:44:18 -0400] hoover_damm: basically the gist summarized it good enough with the exception of the tags
[2012-10-24 05:44:35 -0400] hoover_damm: should make documentation smoother
[2012-10-24 05:44:42 -0400] hoover_damm: there was also talks about a documentation style guide
[2012-10-24 05:44:45 -0400] hoover_damm: but that's too early
[2012-10-24 05:45:12 -0400] hoover_damm: wouldn't it be nice if people used ,'s in the right spot? or used words that existed? made documentation that made sense?
[2012-10-24 05:45:38 -0400] hoover_damm: Unfortunately as growing up bad penmanship and english can take it's toll on documentation
[2012-10-24 05:46:25 -0400] hoover_damm: BryanWB_, I'm easy to dismiss in person
[2012-10-24 05:46:29 -0400] hoover_damm: best that way
[2012-10-24 05:52:40 -0400] hoover_damm: man can't wait for AirMech
[2012-10-24 05:52:44 -0400] hoover_damm: looks good
[2012-10-24 05:55:06 -0400] ZsoL: dudes are you aware of the bug in 10.16 where cookbook_file ignores the 'mode' attribute?
[2012-10-24 06:25:42 -0400] ssd7: Ohai CHEFS
[2012-10-24 06:37:40 -0400] BryanWB_: ssd7: hey dude
[2012-10-24 06:37:52 -0400] BryanWB_: ssd7: how do i file a bug on docs.opscode.com?
[2012-10-24 06:38:02 -0400] BryanWB_: it crashes the browser on my android phone
[2012-10-24 06:39:55 -0400] ssd7: BryanWB_: We need to figure that out still, for now if you email me I'll have the tech writer take a look
[2012-10-24 06:40:16 -0400] ssd7: I'm hoping to do a session tomorrow to iron out the process a bit
[2012-10-24 06:40:42 -0400] ssd7: Today's session leaded towards a github-only workflow
[2012-10-24 06:41:04 -0400] BryanWB_: ok
[2012-10-24 06:42:12 -0400] ssd7: We really do want feedback though.  Hopefully something will go out to the mailing list post summit with more details
[2012-10-24 06:42:45 -0400] ssd7: It is all in the early stages still so we want to make something people want
[2012-10-24 07:05:59 -0400] HapxD: What is the most powerful thing one can do with chef ?
[2012-10-24 07:06:47 -0400] BryanWB_: HapxD: save your sanity
[2012-10-24 07:07:26 -0400] HapxD: can you give a practical example?
[2012-10-24 07:13:10 -0400] specialsauce: HapxD: IMO, the most powerful Chef concept is idempotence. The most powerful thing *we* use Chef for is making managing a large group of hosts as easy as managing a small group. The most powerful thing you could do with chef is manage every single device on the planet from a single central repo :-P
[2012-10-24 07:13:25 -0400] ssd7: A person's perception of "powerful" depends on context
[2012-10-24 07:14:33 -0400] ssd7: Idempotence is indeed a powerful concept but if you've been solving the problems Chef solves for a while, it is only mildly powerful to you since you might already have lots of idempotent scripts
[2012-10-24 07:15:13 -0400] ssd7: To me, the power of Chef is the language and model it gives me that allows me to organize my thoughts about a particular infrastructure problem
[2012-10-24 07:16:39 -0400] ssd7: For those just approaching operation problems the power might come from the vast collection of community cookbooks and resources that distill best practices around a particular service
[2012-10-24 07:17:45 -0400] ssd7: For me personally, the power comes from the flexibility to use a single tool to solve a variety of problems since Chef was designed to stay out of your way when you need it to
[2012-10-24 07:25:41 -0400] HapxD: Chef server send changes down the line when a chef-client connects to it. I am correct to say that the only way to "force" an update is to call the chef-client on each endpoint ?
[2012-10-24 07:26:00 -0400] ssd7: HapxD: Ultimately, statements about power are normative.  Chef simply tries to offer you tools to make your life easier.
[2012-10-24 07:26:57 -0400] erikh: dunno. it's a tool. it solves my problems. that makes it powerful
[2012-10-24 07:26:58 -0400] ssd7: HapxD: The chef-client initiates all change on nodes.  There is no "push updates" in chef from the server to clients without the chef-client running
[2012-10-24 07:27:22 -0400] HapxD: ok - Thanks :-)
[2012-10-24 07:31:25 -0400] BryanWB_: HapxD: my thots on the subject http://devopsanywhere.blogspot.it/2011/10/why-chef.html
[2012-10-24 07:41:12 -0400] specialsauce: I should be able to set a node attribute to an array and then each.do on it right?
[2012-10-24 07:43:48 -0400] BryanWB_: u mean   [...].each do |member|  ?
[2012-10-24 07:43:51 -0400] BryanWB_: specialsauce: ^^
[2012-10-24 07:43:54 -0400] specialsauce: yeah
[2012-10-24 07:44:24 -0400] specialsauce: so i set with default["blah"] = ['cowabunga']
[2012-10-24 07:44:51 -0400] specialsauce: then ref with node['blah'].echo do |member|
[2012-10-24 07:44:58 -0400] specialsauce: s/echo/each/
[2012-10-24 07:45:41 -0400] specialsauce: but i get "NoMethodError: undefined method `[]' for nil:NilClass"
[2012-10-24 07:57:08 -0400] specialsauce: (and in the node attr json i can see that the array exists)
[2012-10-24 08:34:20 -0400] alexeyz: I'm doing Chef::Application.fatal!("Debug: Fake death, debugging.") to test chunks of my recipe, and I get a "uninitialized constant Chef::Application" error.  Do I need to declare Chef::Application somewhere?
[2012-10-24 08:59:14 -0400] alexeyz: Looks like I've had some success with 'raise ::Chef::Exceptions::InvalidResourceSpecification, "Debug: testing"' instead of 'Chef::Application.fatal!("Debug: Fake death, debugging.")'  no idea why though....
[2012-10-24 09:06:02 -0400] AikiLinux: can a package block contain a "not_if /only_if" directives in it ?
[2012-10-24 09:33:59 -0400] benner: hi
[2012-10-24 09:50:58 -0400] specialsauce: nm, fixed my issue, key name collission between attribute and property of node
[2012-10-24 10:58:57 -0400] maddoc: Hm. What is the best way to notify another node that they need to do something? E.g., I have a server that should update some configuration if a new client is added.
[2012-10-24 10:59:49 -0400] maddoc: Seems pretty heavy to loop over all clients' attributes to detect if one has changed.
[2012-10-24 12:40:10 -0400] oliphox: hi all - i'm trying to add kinfe to a node. i've run "knife bootstrap NODE_IP -x vagrant -P vagrant -s http://chef:4040 -u node-name --sudo", which creates chef-client. then on the client, i do "knife configure", choose ~/.chef/node-name.pem as the client_key (and pasted in the pubkey from knife client show node-name), but running "knife node list" on the node fails to auth
[2012-10-24 12:43:01 -0400] capsicumug: hi.
[2012-10-24 12:44:56 -0400] capsicumug: i play for three days with chef and need a little hint. how can i use a (secure) databag per node.
[2012-10-24 12:45:40 -0400] capsicumug: each node should have its own passwords for e.g. mysql.
[2012-10-24 12:46:23 -0400] capsicumug: is this possible?
[2012-10-24 13:06:34 -0400] killfill: hi
[2012-10-24 13:06:55 -0400] killfill: in an attribute file i see this: default['option'] = node.fqdn
[2012-10-24 13:07:06 -0400] killfill: and when i run it, i see FATAL: ArgumentError: Attribute fqdn is not defined!
[2012-10-24 13:07:20 -0400] killfill: how do i define fqdn in the role or attribute json file?
[2012-10-24 13:07:36 -0400] killfill: ive try default_attributes or override_attributes without luck.. :S
[2012-10-24 13:13:17 -0400] Maledictus: any chance we see new debian packages with http://tickets.opscode.com/browse/CHEF-3547 fixed soonish?
[2012-10-24 13:13:34 -0400] Maledictus: Can I track that progress somehow?
[2012-10-24 13:18:05 -0400] jonlives: Maledictus: it looks like it was merged yesterday, so I'd imagine it'll go out with the next release
[2012-10-24 13:18:53 -0400] Maledictus: is there a schedule for that?
[2012-10-24 13:24:39 -0400] AikiLinux: is my assumption correct, the execution of "knife configure" generates the root.pem ?
[2012-10-24 13:27:33 -0400] wassy121: AikiLinux, The way I normally do it is to create the client.pem from an authorized account with "knife client create username"
[2012-10-24 13:27:49 -0400] wassy121: That will paste the client's pem file to stdout.
[2012-10-24 13:27:58 -0400] wassy121: Then grab the validation.pem from /etc/chef/validation.pem
[2012-10-24 13:28:26 -0400] wassy121: then knife configure will ask you where you put these files (normally .chef/client.pem .chef/validation.pem)
[2012-10-24 13:38:28 -0400] oliphox: Any idea how i can set up knife on a node that has had chef-client installed using the bootstrapped, rather than manual install?
[2012-10-24 13:39:09 -0400] wassy121: oliphox, there should be pem files in /etc/chef/ that you can use for knife.rb
[2012-10-24 13:39:28 -0400] wassy121: be sure to use the same client name (I think it defaults to `hostname -f`
[2012-10-24 13:40:37 -0400] AikiLinux: wassy121, i need the root.pem not the validation one
[2012-10-24 13:41:03 -0400] wassy121: AikiLinux, the client.pem is generated when you run a "knife client create"
[2012-10-24 13:41:10 -0400] oliphox: wassy121: the pem files should be created on the server? after the bootstrap command has completed, no new pem's exist
[2012-10-24 13:42:07 -0400] wassy121: oliphox, Upon running a bootstrap against a node, on the node there is /etc/chef/{client,validation}.pem
[2012-10-24 13:42:33 -0400] wassy121: Point your knife.rb at those (or a copy of those to which you have access), and it should be set
[2012-10-24 13:42:54 -0400] oliphox: wassy121: ah, i see - thanks, i'll try again
[2012-10-24 13:44:56 -0400] AikiLinux: wassy121, that fails to create the pem file . the knife.rb is generated by chef itself when trying to install a new chef server
[2012-10-24 13:46:08 -0400] wassy121: AikiLinux, I'm lost as to "where you are in the process".  Are you trying to set up a new chef server?
[2012-10-24 13:46:22 -0400] wassy121: If so, is chef-solr and all the other chef server stuff running?
[2012-10-24 13:48:04 -0400] masterkorp: kitchen test --platform "ubuntu-12.04" seems to be ignore all the time
[2012-10-24 13:48:16 -0400] masterkorp: it still does the tests on all machines
[2012-10-24 13:48:30 -0400] masterkorp: with out without quotes on the params
[2012-10-24 13:48:31 -0400] AikiLinux: i am building a chef recipe that will install a chef server using onmibus rpm and then the direction to install chef server
[2012-10-24 13:49:21 -0400] wassy121: so, you are using chef-solo to install the omnibus package for chef-server, yeah?
[2012-10-24 13:49:28 -0400] wassy121: Or are you using one server to install another?
[2012-10-24 13:49:37 -0400] AikiLinux: the deployment of software stage works fine , but when i want to test the server's ability to connect as a client to itself that is where it fails
[2012-10-24 13:50:06 -0400] AikiLinux: no , omnibus comes first , then chef-solo
[2012-10-24 13:52:12 -0400] AikiLinux: yes , this is a being build from a chef recipe
[2012-10-24 13:52:18 -0400] wassy121: I'm unsure what you're doing.  I don't want to confuse you more.  However, when you set up a chef server, there is a validation.pem file in /etc/chef, and a default client.pem in /etc/chef as well.  Those can be used to connect to the newly-installed chef server.
[2012-10-24 13:59:17 -0400] railsraider: hi, I'm using hosted chef, and i get Permission denied. You do not have permission to create a client in this organization. (Error 22015)
[2012-10-24 13:59:32 -0400] railsraider: where do i gray permissions?
[2012-10-24 13:59:37 -0400] railsraider: grant
[2012-10-24 14:31:59 -0400] gyre008: has anyone got their heads around installing pg gem on node running embedded chef ruby ?
[2012-10-24 14:32:11 -0400] masterkorp: pg?
[2012-10-24 14:32:17 -0400] gyre008: yep
[2012-10-24 14:32:45 -0400] gyre008: because of that issue Postgresql cookbook is effectively useless
[2012-10-24 14:33:35 -0400] gyre008: Id real like to avoid having tons of execute resources as a workaroundusing pg gem during chef run would be perfectionbut at the moment impossible
[2012-10-24 14:39:46 -0400] BryanWB: gyre008, y
[2012-10-24 14:40:03 -0400] gyre008: BryanWB ?? :)
[2012-10-24 14:40:06 -0400] BryanWB: gyre007, i have a patch for pg cookbook
[2012-10-24 14:40:13 -0400] gyre008: BryanWB you do ?
[2012-10-24 14:40:21 -0400] BryanWB: the postgresql::ruby just have had time to upstream it
[2012-10-24 14:40:33 -0400] gyre008: can you gist it or send some link somewhere ?
[2012-10-24 14:40:40 -0400] BryanWB: gyre008, y
[2012-10-24 14:41:40 -0400] BryanWB: gyre008, https://github.com/bryanwb/postgresql/blob/COOK-1614/recipes/ruby.rb
[2012-10-24 14:42:14 -0400] gyre008: let me have a lookwhat have you changed btw ?
[2012-10-24 14:43:26 -0400] BryanWB: gyre008, lines 30-60
[2012-10-24 14:43:56 -0400] BryanWB: i trigger it to install once the pg development package is in place
[2012-10-24 14:44:44 -0400] gyre008: does it solve the compilation problem ? from what I can see it looks that you are creating a symlink ...
[2012-10-24 14:45:21 -0400] gyre008: what OS and Chef version did you test this on ?
[2012-10-24 15:06:02 -0400] gyre008: this won't work BryanWB
[2012-10-24 15:06:19 -0400] BryanWB: gyre008, why not?
[2012-10-24 15:06:23 -0400] gyre008: link resource..
[2012-10-24 15:06:31 -0400] gyre008: to "/usr/pgsql-#{node['postgresql']['version']}/bin/pg_config" must exist
[2012-10-24 15:06:38 -0400] gyre008: but it does not on 12.04
[2012-10-24 15:06:49 -0400] itchyouch: I was looking at the community available java cookbook.  Was wondering where I would need to adjust the recipe to just install the jdk package from sun on centos?
[2012-10-24 15:06:52 -0400] BryanWB: gyre008, ah, i haven't used 12.04
[2012-10-24 15:06:58 -0400] itchyouch: I didn't see an option to do that per se.
[2012-10-24 15:07:11 -0400] itchyouch: Still getting around the ruby.
[2012-10-24 15:07:13 -0400] gyre008: what version are you running this on BryanWB ?
[2012-10-24 15:07:15 -0400] BryanWB: gyre008, i bet it exists somewhere on 12.04
[2012-10-24 15:07:26 -0400] BryanWB: it think i only tests centos 5,6
[2012-10-24 15:07:43 -0400] BryanWB: and looked up the link location on my ubuntu 11.10
[2012-10-24 15:07:58 -0400] BryanWB: i bet u could hack it into shapre
[2012-10-24 15:08:01 -0400] gyre008: might be this one /usr/lib/postgresql/9.1/bin/pg_config
[2012-10-24 15:08:18 -0400] BryanWB: looks right, only a conditional away from working ;)
[2012-10-24 15:08:29 -0400] gyre008: /usr/bin/pg_config seems to be some retarded shell script
[2012-10-24 15:08:56 -0400] BryanWB: gyre008, dont' hate
[2012-10-24 15:09:02 -0400] Urocyon: itchyouch: it used to be you would just set the appropriate attribute.
[2012-10-24 15:09:02 -0400] gyre008: which does exec /usr/bin/pg_config.libpq-dev
[2012-10-24 15:09:20 -0400] BryanWB: i have written lots of retarded shell scripts ;)
[2012-10-24 15:09:25 -0400] gyre008: I don't hate :) but sometimes I get annoyed by simple things being broken :)
[2012-10-24 15:10:29 -0400] Urocyon: itchyouch, just checked, there's information in the read me on oracle install.
[2012-10-24 15:17:11 -0400] gyre008: also BryanWB have you tested this on Omnibus install ?
[2012-10-24 15:17:22 -0400] BryanWB: gyre008, i only use omnibu
[2012-10-24 15:17:42 -0400] gyre008: ok cool.im gonna test this...
[2012-10-24 15:18:03 -0400] gyre008: os Ubuntu ?
[2012-10-24 15:18:18 -0400] masterkorp: /usr/lib/ruby/gems/1.9.1/gems/vagrant-1.0.5/lib/vagrant/command/base.rb:105:in `with_target_vms': This command requires a specific VM name to target in a multi-VM environment. (Vagrant::Errors::MultiVMTargetRequired)
[2012-10-24 15:18:34 -0400] masterkorp: guys i always get this when i try kitchen ssh 'ubuntu-12.04'
[2012-10-24 15:18:36 -0400] masterkorp: kitchen ssh 'ubuntu-12.04'
[2012-10-24 15:18:52 -0400] masterkorp: with our without quote
[2012-10-24 15:19:57 -0400] gyre008: BryanWB nope, it failedsame error as the previous fail.doesnt resolve the actual pg gem install unfortunately...
[2012-10-24 15:20:22 -0400] BryanWB: gyre008, werd, sorry, wish i could help now
[2012-10-24 15:20:34 -0400] gyre008: no probs...
[2012-10-24 15:21:24 -0400] gyre008: I kind of had the feeling it wouldn't work.your change seemed to have been quite simple .this whole thing seems like some weird problem related to compile/packaging...
[2012-10-24 15:23:08 -0400] itchyouch: Urocyon:  thanks.  The oracle install actually appears to download the packages.  We have a corporate mirror that we have the sun package "jdk" available.  Perhaps I should just make a new recipe altogether that's a single line: package: jdk?
[2012-10-24 15:24:14 -0400] Urocyon: the read me tells you how to set a url for where you want to get the package since there are problems getting it directly from oracle.
[2012-10-24 15:25:28 -0400] itchyouch: I'll look some more
[2012-10-24 15:27:29 -0400] mcortesi5: hi guys. One question, I'm adding support to set environment variables in the context.xml for the tomcat cookbook from opscode.
[2012-10-24 15:27:40 -0400] juliancdunn: itchyouch: that's what we do
[2012-10-24 15:27:46 -0400] juliancdunn: just have a recipe that does 'package jdk'
[2012-10-24 15:28:00 -0400] mcortesi5: So, I want to add that support also for tomcat7, that is another pull request
[2012-10-24 15:28:51 -0400] mcortesi5: but i believe they should be two different pull request. The thing is,  I can't make environment support to work for tomcat 7 if i don't already merge that into my branch, and that would mix things
[2012-10-24 15:29:05 -0400] mcortesi5: so, what should be the recommend way to proceed?
[2012-10-24 15:38:27 -0400] mcortesi5: jtimberman? I think you are the mantainer
[2012-10-24 15:47:30 -0400] mcortesi5: :S
[2012-10-24 15:54:13 -0400] gyre008: is there a way how I can require gems in recipes ?? I don't mean embedded chef gems i.e. the one installed for embedded ruby ? that would be awesome..especially with regards to pg gem
[2012-10-24 16:02:51 -0400] mcortesi5: you can using chef_gem
[2012-10-24 16:03:09 -0400] mcortesi5: also, you can look for postgresql::ruby recipe, that does that
[2012-10-24 16:03:20 -0400] mcortesi5: since pg gem requires build-essentials
[2012-10-24 16:06:46 -0400] hoover_damm: i think the pg gem and the embedded (omnibus) is still breaking on some distros
[2012-10-24 16:06:52 -0400] hoover_damm: could be what he's referring to
[2012-10-24 16:27:35 -0400] eamelink: Hmm, I use the cookbook_file resource, but it seems like it's ignoring the mode property? It used to work, but not anymore. Any clues? See https://gist.github.com/3947127 for the relevant part of the recipe and the log...
[2012-10-24 16:28:36 -0400] mmittelstadt: known bug with 10.16.  I'm also wondering when this will be made into a point-release.
[2012-10-24 16:28:48 -0400] mmittelstadt: its also ignoring the owner and group properties.
[2012-10-24 16:30:52 -0400] mmittelstadt: http://tickets.opscode.com/browse/CHEF-3547
[2012-10-24 16:31:57 -0400] eamelink: Thanks mmittelstadt
[2012-10-24 16:33:50 -0400] mmittelstadt: for me, it happens only when bootstrapping.  subsequent runs of chef-client apply the correct properties to my cookbook_files
[2012-10-24 16:35:17 -0400] eamelink: Ok. I ran into it for a set of cookbooks that I run only once with chef solo in Vagrant to create a base box.
[2012-10-24 16:35:56 -0400] eamelink: So that workaround doesn't help me. I'll just use an execute for now, no problem.
[2012-10-24 16:45:27 -0400] Virunga: Hi, are attributes saved on the server during the building of a node? If yes, when exactly?
[2012-10-24 16:50:58 -0400] alop: After a successful chef-client run
[2012-10-24 16:51:18 -0400] alop: you can see them all if you do a 'knife node show [nodename] -l'
[2012-10-24 17:07:25 -0400] Virunga: alop: thanks.
[2012-10-24 17:08:46 -0400] kryptek: Good morning, #chef
[2012-10-24 17:09:38 -0400] thehar: morning
[2012-10-24 17:10:26 -0400] killfill: hi
[2012-10-24 17:11:11 -0400] killfill: im looking at this: https://github.com/coderanger/chef-collectd/blob/master/definitions/collectd_plugin.rb
[2012-10-24 17:11:40 -0400] killfill: Is there a way i can specify i.e. an array of plugins to enable with that definition?
[2012-10-24 17:11:47 -0400] killfill: (in an attribute file)
[2012-10-24 17:12:51 -0400] killfill: or i will need to do that on my own cookbook?
[2012-10-24 17:13:23 -0400] jblaine: knife cookbook site install ntp -> error https://gist.github.com/3947397
[2012-10-24 17:13:26 -0400] jblaine: what am I doing wrong?
[2012-10-24 17:15:08 -0400] alop: jblaine: do any other 'cookbook site' commands work?
[2012-10-24 17:15:17 -0400] alop: like search?
[2012-10-24 17:19:03 -0400] jblaine: alop: Yup, all but share and unshare which I did not try
[2012-10-24 17:19:53 -0400] jblaine: note that there is already an ntp cookbook installed (the 'site' one from opscode). I am looking to upgrade it, so figured 'install' again was my only option
[2012-10-24 17:20:17 -0400] alop: I was about to ask if you get the same error with all cookbooks
[2012-10-24 17:20:22 -0400] alop: like zsh or something
[2012-10-24 17:20:25 -0400] c_t: upgrade the cookbook or upgrade ntp?
[2012-10-24 17:21:28 -0400] jblaine: c_t: upgrade the cookbook
[2012-10-24 17:22:20 -0400] jblaine: alop: '... install zsh' fails the same way
[2012-10-24 17:22:35 -0400] alop: hrm
[2012-10-24 17:24:54 -0400] JasonF: qhartman: If you want a real git repo for that plugin from yesterday, here: https://github.com/racker/chef-plugins/ -- I suspect we'll be adding more of our custom knife/ohai plugins over time.
[2012-10-24 17:25:56 -0400] c_t: jblaine: does downloading the cookbook and uploading it with "knife cookbook upload ntp" work?
[2012-10-24 17:25:58 -0400] qhartman: JasonF, Nice. I'll check it out. For the project at hand though I think I'm going to go the Spice / Sinatra route
[2012-10-24 17:26:44 -0400] qhartman: JasonF, You wouldn't happen to have used that combination before, would you? I've gotten spice to behave, but tying it to sinatra is behaving oddly.
[2012-10-24 17:27:20 -0400] JasonF: I have two google windows open: one is "spice chef" the other is "sinatra chef", so no I don't know them, nor have heard of them... (but now I have...)
[2012-10-24 17:28:50 -0400] qhartman: JasonF, hah
[2012-10-24 17:28:57 -0400] qhartman: No problem
[2012-10-24 17:29:05 -0400] mamu: Hi, we have written a couple of custom libraries but that's for windows. When i run another cookbook on linux, it loads all libraries and that fails saying i don't have the required wmi gem which i use in windows. What's a good way to tackle this in libraries in chef?
[2012-10-24 17:29:57 -0400] jblaine: oh, hm, I bet I am specifying cookbook_path in knife.rb incorrectly
[2012-10-24 17:30:03 -0400] qhartman: mamu, Unless I'm mistaken the wmi gem probably has windows-specific stuff in it. You'll have to replace that with stuff that works on Linux
[2012-10-24 17:30:31 -0400] qhartman: mamu, I'm guessing it's for doing wmi queries and the like?
[2012-10-24 17:30:56 -0400] mamu: qhartman, yes thats for wmi queries in windows.
[2012-10-24 17:30:56 -0400] jblaine: nope, a cookbook_path can be string or array (I am using a string)
[2012-10-24 17:31:07 -0400] jblaine: string objects don't have the method '.first'
[2012-10-24 17:31:33 -0400] jblaine: I found a bug!
[2012-10-24 17:31:49 -0400] mamu: qhatman, the thing is that these are in a cookbook called as lets say "foo" and i am using another unrelated cookbook called "bar" . So that shouldn't cause a problem right?
[2012-10-24 17:32:22 -0400] jblaine: changing my cookbook_path in knife.rb to be a 1-element array solved it
[2012-10-24 17:33:09 -0400] jblaine: http://wiki.opscode.com/display/chef/Chef+Configuration+Settings#ChefConfigurationSettings-cookbookpath
[2012-10-24 17:34:25 -0400] qhartman: mamu, You've got something in your dependency tree that is trying to pull in that wmi gem
[2012-10-24 17:34:27 -0400] rava: is the script here: http://wiki.opscode.com/display/chef/Backing+Up+Chef+Server still the best way to back up a chef server install? no built in mechanic?
[2012-10-24 17:37:09 -0400] qhartman: mamu, make sure nothing in the cookbook "bar" is requiring something from the cookbook "foo".
[2012-10-24 17:37:48 -0400] mamu: qhartman: Checking..
[2012-10-24 17:41:04 -0400] mamu: qhartman: There was no reference. I looked at the windows cookbook and found an if else in the windows cookbook libraries.rb
[2012-10-24 17:41:20 -0400] mamu: qhartman:if RUBY_PLATFORM =~ /mswin|mingw32|windows/
[2012-10-24 17:41:20 -0400] mamu:   require 'ruby-wmi'
[2012-10-24 17:41:20 -0400] mamu: end
[2012-10-24 17:41:33 -0400] mamu: qhartman: This seems to have fixed the issue for now!
[2012-10-24 17:42:09 -0400] matt_rs: has anyone run into a problem with chef-client decrypting databags using the embedded ruby (1.9.1) in the chef omnibus install?
[2012-10-24 17:42:37 -0400] matt_rs: It appears to be a known bug:  http://tickets.opscode.com/browse/CHEF-3393
[2012-10-24 17:43:54 -0400] kryptek: I'm having an issue relating to a library I wrote and requiring a gem as well :/
[2012-10-24 17:44:27 -0400] matt_rs: which is a dup of this bug "http://tickets.opscode.com/browse/CHEF-3328"
[2012-10-24 17:45:26 -0400] qhartman: mamu, good, that was going to be my next suggestion. There must be something that is pulling that in though.
[2012-10-24 17:47:03 -0400] kryptek: I have the require in a begin..end block, in my library, and the recipe itself installs the gem.  If the system doesn't already have the gem though, when I go to use the resource in another cookbook it says it can't find the class
[2012-10-24 17:47:42 -0400] kryptek: It seems like it can't load the gem, so the rescue catches it and throws out my Chef::Log.warn line, the recipe installs the gem, but when my other recipe goes to use the resource it can't access the class from the gem because the require line wasn't loaded
[2012-10-24 17:48:37 -0400] kryptek: I'm not sure how I can get it to try to reload the gem in the resource after it's installed though
[2012-10-24 17:53:52 -0400] JasonF: Is there a decent existing cookbook for managing ruby versions + defaults in Ubuntu 12.04? Basically, I need something to install ruby-1.9.1 + update alternatives at a minimum. I can write it myself if needed, just seemed like something that should already exist...
[2012-10-24 17:55:29 -0400] awgross: anyone found a good solution for using Chef Solo with libraries that require extra gems? It tries to parse all of your cookbook library files and fails because it cannot load the gems
[2012-10-24 17:55:43 -0400] awgross: Chef Solo + Vagrant*
[2012-10-24 17:57:20 -0400] mcortesi5: hi. one question. I have attributes that should be defined using other attributes I'm wondering if i should define those attributes on the recipe or in the attributes files. I'm guessing the recipe, since that allows me to "compute" the attributes using the base attribute, if not, somebody can change the base attribute, and it will need to change all other attributes. What do you think?
[2012-10-24 17:59:19 -0400] Axsuul: yfeldblum: yellow, do you recall our conversation regarding librarian-chef's outdated being able to support git repos? I was wondering if you would accept a pull request to support such a feature
[2012-10-24 17:59:51 -0400] kryptek: mcortesi5, Probably gonna wanna do that in the recipe
[2012-10-24 18:00:23 -0400] mcortesi5: yes, that's what I though...
[2012-10-24 18:00:35 -0400] kryptek: mcortesi5,  Why not write a library function that computes all those values together for you?
[2012-10-24 18:02:23 -0400] mcortesi5: mmm I'm modifying the tomcat opscode cookbook (https://github.com/opscode-cookbooks/tomcat/blob/master/attributes/default.rb). It defines all the paths as normal attrs here, but it's not for configuration, but documentation. And now, since I'm adding support for tomcat7, i need to change all path depending the tomcat version you are using.
[2012-10-24 18:03:08 -0400] mcortesi5: I don't want to make really big changes, but I'm guessing that moving those path to the recipe should be ok
[2012-10-24 18:03:21 -0400] mamu: qhartman: Agreed but its surprising that it works this way. There is no dependency between those 2 cookbooks.
[2012-10-24 18:03:31 -0400] mcortesi5: nevertheless, since I'm not the original owner of the cookbook, i don't want to mess it up
[2012-10-24 18:07:17 -0400] yfeldblum: Axsuul, i would accept an acceptable pull-request :D
[2012-10-24 18:08:37 -0400] yfeldblum: Axsuul, but that would be nice to have
[2012-10-24 18:08:56 -0400] Axsuul: yfeldblum: haha
[2012-10-24 18:09:06 -0400] yfeldblum: Axsuul, it would be sweet if you could add a test-case
[2012-10-24 18:09:07 -0400] Axsuul: yfeldblum: ya, definitely, as most of my cookbooks are git repo referenced :)
[2012-10-24 18:09:33 -0400] kryptek: How can I get my resource to retry requiring a gem after I've installed it from a recipe?  Is that possible?
[2012-10-24 18:09:43 -0400] Axsuul: yfeldblum: alrighty, ill do my best!
[2012-10-24 18:11:46 -0400] svanzoest: jasonf: there are some bootstrap scripts that we changed to do this. https://github.com/opscode/chef/blob/master/chef/lib/chef/knife/bootstrap/ubuntu12.04-gems.erb
[2012-10-24 18:12:23 -0400] yfeldblum: Axsuul, if you need any tips, feel free to message me on IRC or shoot me an email
[2012-10-24 18:12:33 -0400] JasonF: svanzoest: This one doesn't install + configure 1.9.x, but I can see how a bootstrap COULD
[2012-10-24 18:12:35 -0400] Axsuul: yfeldblum: great, thanks
[2012-10-24 18:13:07 -0400] JasonF: svanzoest: it's probably easy to do in a cookbook, but I should probably do it in the bootstrap as well...
[2012-10-24 18:21:44 -0400] svanzoest: jasonF:  this is basically what we are testing and works reasonably okay https://gist.github.com/3947843
[2012-10-24 18:24:31 -0400] awgross: any way around having Chef Solo w/ Vagrant attempt to build every single cookbook in the given cookbooks dir, would be nice if it only tried to do the ones that will be run and their dependencies
[2012-10-24 18:28:21 -0400] miah: use a runlist?
[2012-10-24 18:28:23 -0400] miah: or a role?
[2012-10-24 18:28:48 -0400] miah: or elaborate on what you mean by 'build'
[2012-10-24 18:29:04 -0400] awgross: miah: its before it is even getting to running recipes, only specifying 1 cookbook w/ 1 recipe, but it is trying to compile LWRPs and library files from all of my cookbooks
[2012-10-24 18:29:51 -0400] miah: ya, thats what it does
[2012-10-24 18:30:18 -0400] awgross: yet another reason to move all cookbooks to separate repos I guess so I can avoid this
[2012-10-24 18:30:39 -0400] miah: yup
[2012-10-24 18:30:44 -0400] awgross: thanks
[2012-10-24 18:30:50 -0400] awgross: while you are here
[2012-10-24 18:31:03 -0400] awgross: if I have a library that requires a gem like 'aws-sdk'
[2012-10-24 18:31:10 -0400] awgross: it will fail during this compile step
[2012-10-24 18:31:17 -0400] awgross: unless during the bootstrap I install the gem
[2012-10-24 18:31:28 -0400] awgross: it seems that chef_gem cant help me here
[2012-10-24 18:31:30 -0400] JasonF: svanzoest: that looks awesome, and I'm totally going to use snippets from that. Thanks a bunch.
[2012-10-24 18:31:49 -0400] awgross: so far I have gotten by with some begin/rescue and mocking until I actually run the code
[2012-10-24 18:32:01 -0400] awgross: im hoping there is a better way
[2012-10-24 18:32:16 -0400] miah: ya. thats a common problem. i dont know the fix but its been talked about a bunch so I'm sure the details are on the wiki or mailing list archive
[2012-10-24 18:33:08 -0400] awgross: ill keep digging
[2012-10-24 18:33:10 -0400] awgross: hard to find
[2012-10-24 18:33:21 -0400] awgross: seems like Librarian has polluted the Google namespace too much =/
[2012-10-24 18:34:49 -0400] svanzoest: jasonF: Please let me know if you see any issues or ways to make it better
[2012-10-24 18:35:13 -0400] JasonF: will do.
[2012-10-24 18:35:14 -0400] wonko_be: hey, maybe something old, but is there some issue in chef 10.16 with ownerships of files created with "cookbook_file"?
[2012-10-24 18:41:09 -0400] heph: is anything coming from the 'We need to better codify the workflow' discussions from yesterday?
[2012-10-24 18:42:38 -0400] yfeldblum: polluted?
[2012-10-24 18:42:44 -0400] ekristen: anyone use chef-rvm in here?
[2012-10-24 18:42:53 -0400] ekristen: it seems all of a sudden it has stopped working for me
[2012-10-24 18:45:06 -0400] kindsol: ekristen: nope. but I tried the rvm cookbook this morning and it failed to install ruby 1.9 on ubunutu 12.04 for me.  maybe something changed on the rvm side?
[2012-10-24 18:45:11 -0400] kindsol: http://community.opscode.com/cookbooks/rvm
[2012-10-24 18:45:25 -0400] ekristen: kindsol: it was working for me at 1130pm last night
[2012-10-24 18:45:36 -0400] ekristen: kindsol: and wasn't working for me this morning, 12 hours later
[2012-10-24 18:45:40 -0400] ekristen: so something happened
[2012-10-24 18:45:52 -0400] kindsol: what is the failure?
[2012-10-24 18:46:00 -0400] ekristen: [2012-10-24T17:53:07+00:00] INFO: Building rvm_ruby[ruby-1.9.3-p194], this could take awhile...
[2012-10-24 18:46:01 -0400] ekristen: [2012-10-24T17:53:44+00:00] INFO: Installation of rvm_ruby[ruby-1.9.3-p194] was successful.
[2012-10-24 18:46:01 -0400] ekristen: bash: /opt/chef/embedded/lib/ruby/gems/1.9.1/gems/rvm-1.11.3.5/lib/rvm/shell/calculate_rvm_path.sh: No such file or directory
[2012-10-24 18:46:20 -0400] ekristen: for some reason it is looking in the embedded lib for the rvm gem
[2012-10-24 18:46:21 -0400] ekristen: i
[2012-10-24 18:46:37 -0400] ekristen: instead of the local system
[2012-10-24 18:52:20 -0400] wassy121: In a cookbook, how does it determine which attributes files get loaded upon run?  For instance, if I have attributes/default.rb and attributes/server.rb , shouldn't attributes/server.rb only get loaded upon execution of recipes/server.rb ?
[2012-10-24 18:52:43 -0400] wassy121: recipes/server.rb seems to be sucking in attributes/client.rb
[2012-10-24 18:53:14 -0400] JasonF: svanzoest: FYI; afaik, you're not supposed to use aptitude with newer versions of ubuntu, apparently it can't handle the 32bit vs 64bit packages side-by-side stuff.
[2012-10-24 18:53:57 -0400] heph: is Jeffrey Hulten in this channel?
[2012-10-24 19:05:31 -0400] cschneid: Does chef have the idea of a sharable role, the way cookbooks are sharable (post to github, enable reuse).  Can I say "hey, this is a setup for apache/passenger/ruby/etc in this role" in a similar way?
[2012-10-24 19:05:58 -0400] cschneid: I know role is the right way to represent that for myself, but can you share prebuilt bundles like that among people?
[2012-10-24 19:08:07 -0400] kryptek: cschneid,  Provided that the person has the same cookbooks you do for that role, yes, you can share your role files
[2012-10-24 19:08:27 -0400] JustinCampbell: cschneid: you can make a cookbook that depends on the other cookbooks
[2012-10-24 19:08:29 -0400] kryptek: Or rather, to be more specific, they'd have to have the same resources defined in that role..
[2012-10-24 19:10:01 -0400] cschneid: Cool - I hadn't run across it. Was just hoping to have entire common server stacks easily defined. But it's not a big deal to wire  up existing cookbooks anyway
[2012-10-24 19:18:13 -0400] kindsol: ekristen: I am seeing the same issue also on my opscode-ubuntu-12.04 box
[2012-10-24 19:18:23 -0400] kindsol: [Wed, 24 Oct 2012 19:13:37 +0000] INFO: Installation of rvm_ruby[ruby-1.9.3-p194] was successful.
[2012-10-24 19:18:24 -0400] kindsol: bash: /opt/chef/embedded/lib/ruby/gems/1.9.1/gems/rvm-1.11.3.5/lib/rvm/shell/calculate_rvm_path.sh: No such file or directory
[2012-10-24 19:18:24 -0400] ekristen: kindsol: :(
[2012-10-24 19:18:33 -0400] ekristen: well at least I am not the only one
[2012-10-24 19:18:53 -0400] ekristen: after it fails I can't run chef-client as root either
[2012-10-24 19:18:56 -0400] ekristen: I get an error
[2012-10-24 19:19:12 -0400] ekristen: when did 10.16.0 come out?
[2012-10-24 19:20:26 -0400] ekristen: lol- there we go
[2012-10-24 19:20:28 -0400] ekristen: yesterday
[2012-10-24 19:20:33 -0400] ekristen: so its an issue with 10.16
[2012-10-24 19:20:36 -0400] kindsol: yep, vagrant provision chokes on running solo
[2012-10-24 19:20:50 -0400] kindsol: I am seeing this with chef 10.12.0
[2012-10-24 19:20:50 -0400] ekristen: so 10.16 broke things
[2012-10-24 19:20:51 -0400] ekristen: awesome
[2012-10-24 19:21:09 -0400] kindsol: which is what is installed in my vagrant box
[2012-10-24 19:21:14 -0400] qhartman: mamu, It's probably an indirect dependency if you aren't seeing it right away. If "foo" has the wmi call, the dependency graph might looks something like bar->baz->foo
[2012-10-24 19:21:19 -0400] ekristen: it was working just fine last night
[2012-10-24 19:21:44 -0400] ekristen: 14.2 it was working on
[2012-10-24 19:22:26 -0400] kindsol: ekristen: It is seems like the cookbooks is mucking with the sandboxed ruby for chef omnibus.
[2012-10-24 19:22:49 -0400] ekristen: kindsol: it wasn't a problem with 14.2, so I'd say 16.0 broke it, the cookbook might need to be updated
[2012-10-24 19:22:56 -0400] kindsol: was your 14.2 install an omnibus install?
[2012-10-24 19:23:14 -0400] ekristen: it was bootstrapped via ssh, so I'd assume yes
[2012-10-24 19:24:15 -0400] ekristen: how can I install a specific version of chef?
[2012-10-24 19:25:06 -0400] kindsol: gem chef install -v x.x.x
[2012-10-24 19:25:10 -0400] kindsol: no?
[2012-10-24 19:25:15 -0400] ekristen: via bootstrap
[2012-10-24 19:25:23 -0400] kindsol: ah
[2012-10-24 19:25:32 -0400] kindsol: I'll let the experts here answer that one
[2012-10-24 19:26:46 -0400] killfill: how do i check if a node is 32 or 64 bits?.. so i can load /usr/lib or /usr/lib64 on my templates.. :P
[2012-10-24 19:27:09 -0400] hoover_damm: killfill, node[:kernel][:machine]
[2012-10-24 19:27:10 -0400] hoover_damm: afaik
[2012-10-24 19:27:51 -0400] hoover_damm: yep
[2012-10-24 19:27:53 -0400] hoover_damm: that's right
[2012-10-24 19:27:53 -0400] killfill: hoover_damm: cannot find a list where to find this things.. is it somewhere?
[2012-10-24 19:28:30 -0400] hoover_damm: killfill, http://wiki.opscode.com/display/chef/Automatic+Attributes
[2012-10-24 19:28:41 -0400] hoover_damm: killfill, ohai provides these details to chef and fills them on the node tree
[2012-10-24 19:28:58 -0400] killfill: oh i was just reading that.. :).. but cannot find :machine
[2012-10-24 19:29:00 -0400] hoover_damm: killfill, ohai kernel should print out what the kernel object would list
[2012-10-24 19:29:04 -0400] hoover_damm: on os x?
[2012-10-24 19:29:26 -0400] killfill: aah cool, its a command too.. :)
[2012-10-24 19:29:44 -0400] hoover_damm: node[:kernel][:machine]
[2012-10-24 19:29:45 -0400] hoover_damm: should be there
[2012-10-24 19:29:59 -0400] killfill: it gives x86_64. cool  thanks!
[2012-10-24 19:30:09 -0400] evilsushi: does opscode host a ruby-ee or ruby1.8.7 for centos6?
[2012-10-24 19:36:21 -0400] heathsnow: Are there best practices for locking down versions (via Env files?) and ensuring dev work doesn't deploy to prod?
[2012-10-24 19:37:57 -0400] awgross: heathsnow: usually it seems best to lock cookbook versions in metadata.rb files and then be very sure you are always incrementing Cookbook versions w/ something like foodcritic
[2012-10-24 19:41:05 -0400] ekristen: crap! it worked last night with 10.14.2
[2012-10-24 19:41:08 -0400] ekristen: now it doesn't
[2012-10-24 19:41:11 -0400] ekristen: arg!!!!
[2012-10-24 19:43:45 -0400] qhartman: Trying to use spice to integrate with chef. If I 'require json' in the script I get a "can't get const Chef::ApiClient: uninitialized constant Chef" when I try to use the Spice object. Any suggestions?
[2012-10-24 19:44:17 -0400] qhartman: w/o the "require json" everything works fine, but of course then I have to craft all the json responses by hand
[2012-10-24 19:45:25 -0400] heathsnow: awgross: Thanks!  I'm checking out foodcritic now :)
[2012-10-24 19:46:31 -0400] awgross: heathsnow: definitely foodcritic, very useful.  After you are familiar with it (and have the rules passing).  I would recommend looking at other people's rules for some ideas.  Etsy has some interesting ones.
[2012-10-24 19:50:47 -0400] ekristen: kindsol: it might be version of ubuntu
[2012-10-24 19:50:52 -0400] ekristen: I'm running a test
[2012-10-24 19:51:53 -0400] heathsnow: awgross: Etsy has some interesting suggestions too (knife-flip for one).  Thanks for all the info :)
[2012-10-24 19:53:06 -0400] awgross: heathsnow: yes they have many good things, knife-spork etc for bumping cookbook versions
[2012-10-24 19:56:31 -0400] makerbreakr: how can i get to the bottom of JSON::ParserErrors, when working with knife?
[2012-10-24 19:56:56 -0400] makerbreakr: there is something in the default attributes messing things up
[2012-10-24 19:56:57 -0400] makerbreakr: https://gist.github.com/3948424
[2012-10-24 19:57:14 -0400] strcrzy: if i'm using cookbook_file and setting 'mode "0755"', under what circumstances could that "mode" directive be ignored?
[2012-10-24 19:57:24 -0400] makerbreakr: Im simply running this:   knife ssh name:m* ls
[2012-10-24 19:58:21 -0400] ggayan: strczy: it could be related to this bug: http://tickets.opscode.com/browse/CHEF-3547
[2012-10-24 19:58:47 -0400] ggayan: if you're using the 10.16.0 version though
[2012-10-24 20:00:51 -0400] strcrzy: thanks
[2012-10-24 20:00:52 -0400] strcrzy: i am
[2012-10-24 20:01:14 -0400] strcrzy: i just started using it and then everything started blowing up, so very much thanks ive been looking for this
[2012-10-24 20:03:03 -0400] strcrzy: ggayan: so if i understand correctly the only workaround is roll back to 10.14.0?
[2012-10-24 20:05:07 -0400] ggayan: strcrzy: what I know is that the cookbook_file resource fails
[2012-10-24 20:05:10 -0400] awgross: strcrzy: go for 10.14.4, a few bug fixes over 10.14
[2012-10-24 20:05:48 -0400] ggayan: yup, I suppose that rolling back to that version is a solution
[2012-10-24 20:06:17 -0400] strcrzy: thanks both of you
