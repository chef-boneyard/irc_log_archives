[2012-10-20 01:17:09 -0400] hoover_damm: well this is fantastic... somehow I set the version number of 9.2 everywhere yet somehow chef is pulling postgres 9.1 out
[2012-10-20 01:24:32 -0400] AndChat|367796: Ohh
[2012-10-20 01:24:38 -0400] AndChat|367796: Other device: (
[2012-10-20 01:31:14 -0400] hoover_damm: what other device?
[2012-10-20 01:36:29 -0400] AndChat|367796: hoover_damm: tablet must still be connected in hotel and room
[2012-10-20 01:36:58 -0400] hoover_damm: ahh
[2012-10-20 01:37:01 -0400] hoover_damm: rofl
[2012-10-20 01:38:52 -0400] hoover_damm: fujin, much worse things to have happen
[2012-10-20 01:38:58 -0400] hoover_damm: hope you have a quiet night :)
[2012-10-20 14:46:59 -0400] asher^: hi all. im wondering if someone can point me towards a resource describing how chef handles updating software on already running machines
[2012-10-20 14:57:43 -0400] masterkorp: elaborate please
[2012-10-20 14:57:49 -0400] masterkorp: what do you want to know ?
[2012-10-20 14:58:52 -0400] asher^: masterkorp im new to chef, ive seen it used for setting up new machines. im wondering how i go about updating a particular piece of software on production machines for instance using chef. can i update the recipe and rerun it, or is some other method required?
[2012-10-20 15:00:41 -0400] shope: hello, anyone on this morning?
[2012-10-20 15:01:08 -0400] masterkorp: asher^: yes you can do that
[2012-10-20 15:01:14 -0400] masterkorp: shope: just ask
[2012-10-20 15:01:17 -0400] asher^: awesome, thankyou
[2012-10-20 15:01:29 -0400] masterkorp: it really depends of the logic
[2012-10-20 15:01:49 -0400] masterkorp: but dont forget recipes are ruby, and therefore its programable :)
[2012-10-20 15:04:38 -0400] shope: I am tearing my hair out trying to debug a knife command that isn't working as expected.  The "config" collection contains a value that I don't expect, and I am not certain the best way to debug.  I am providing a command like option: --run-list "role[base]" (i.e. runlist = base) but in the code, config[:run_list] comes to a value of "roles".
[2012-10-20 15:05:05 -0400] shope: So I'm trying to figure out the order in which Ruby loads/executes code, so I can determine why the config[:run_list] is being set in error.
[2012-10-20 15:06:50 -0400] shope: Can I run a knife command in irb?
[2012-10-20 15:32:38 -0400] masterkorp: what is the exact command and what are you trying to do ?
[2012-10-20 15:32:40 -0400] masterkorp: shope:
[2012-10-20 15:43:24 -0400] shope: mastercorp: sorry, was away from IRC.  It's a knife ec2 server create.  I'm currently stepping through with pry to see if I can figure out where this gets loaded.  It's quite possible it's some old tweak to code I did, but I find debugging Ruby quite tedious...
[2012-10-20 16:16:22 -0400] shope: WOW.  So, I provided the argument --run-list "role[base]" to knife.  I am running from chef-repo where there is a directory called "roles".  For some reason, the CLI interpreter on Windows is picking up on that and the arguments in argv get transformed to "--run-list" and "roles".  If I put role[base] in single quotes, or I change the directory name roles to something else ('rolesx') it doesn't do this.  How very strange.
[2012-10-20 17:32:47 -0400] yakko: hey guys, I'm new to chef, I could setup the nginx repice on my VPS, but I wonder how I can a unicorn/thin layer now
[2012-10-20 17:42:02 -0400] imanelephant: Does anyone know how to set php memory limit in chef?
[2012-10-20 17:42:29 -0400] imanelephant: our php cookbook is working wonderfully, but need to lock down the memory limit for a group of machines
[2012-10-20 17:43:35 -0400] Babar: depends on the OS
[2012-10-20 17:44:29 -0400] Babar: maybe tune /etc/php5/conf.d/memory.ini  if it exists
[2012-10-20 17:48:32 -0400] imanelephant: depends on the OS? just to be clear, it's nix
[2012-10-20 17:48:57 -0400] imanelephant: I thought the point of chef was to be independent of os / architecture
[2012-10-20 17:49:26 -0400] imanelephant: anyway, the php.ini file doesn't really change from os to os, so Ima little confused what you mean
[2012-10-20 17:49:46 -0400] imanelephant: yes different distros can make their own downstream changes to config files,
[2012-10-20 17:50:00 -0400] imanelephant: but the php.ini directive is still the same
[2012-10-20 17:50:36 -0400] imanelephant: I just would like to know what's the recommended way to lock this down using chef, without resorting to having to lock down the whole php.ini file
[2012-10-20 17:50:44 -0400] imanelephant: does that make sense?
[2012-10-20 17:51:02 -0400] Babar: no
[2012-10-20 17:51:07 -0400] jtimberman: imanelephant: the best practice is to fully manage the php.ini file with chef. we recommend using a template.
[2012-10-20 17:51:21 -0400] jtimberman: for anything tunable, set attributes, and then use those attributes in the template
[2012-10-20 17:51:43 -0400] imanelephant: Babar:  ha, and thanks.
[2012-10-20 17:52:03 -0400] imanelephant: jtimberman: this is exactly the answer I was looking for
[2012-10-20 17:52:07 -0400] imanelephant: jtimberman++
[2012-10-20 17:52:10 -0400] Babar: because what I wrote isn't the php.ini, it's Debian's way to use some conf.d to have specific easy-to-maintain files setting different parts of your system
[2012-10-20 17:52:41 -0400] Babar: so I would be totally against what jtimberman just told you to do.
[2012-10-20 17:52:44 -0400] imanelephant: We deploy to both deb-based and rpm-based systems, not to mention other unixes
[2012-10-20 17:53:01 -0400] jtimberman: yeah like, if you have a conf.d style thing for your platform then use that :)
[2012-10-20 17:53:08 -0400] jtimberman: like, if the main config can include another config
[2012-10-20 17:53:24 -0400] imanelephant: ps. Babar++ for the totally awesome IRC nick
[2012-10-20 17:53:26 -0400] jtimberman: I haven't worked with php in like, 8 years so I don't remember the specifics
[2012-10-20 17:53:52 -0400] imanelephant: jtimberman: the problem with that is we're not deploying only to Debian
[2012-10-20 17:54:09 -0400] Babar: because the problem with pulling out the entire config file (and that's true for anything, not only PHP) is that it's a hell to maintain accross versions / unices / you name it
[2012-10-20 17:54:26 -0400] Babar: whereas if you manage to just change the bits you need, you save yourself a whole lot of trouble
[2012-10-20 17:55:24 -0400] Babar: which is btw something I would like the single-copy-nirvanna to be able to handle better: versions of an OS.
[2012-10-20 17:55:26 -0400] imanelephant: Babar yes exactly, as I said above, we wish to avoid trying to maintain the entire config file just to set the memory limit & maybe another value or 2
[2012-10-20 17:55:27 -0400] jtimberman: imanelephant: sure
[2012-10-20 17:55:48 -0400] jtimberman: i'd make your chef recipes manage the configuration you need consistently across all your platforms you support with your cookbooks.
[2012-10-20 17:56:01 -0400] jtimberman: like, we make all platforms managed by our apache2 cookbook the "debian way" of configuring apache2.
[2012-10-20 17:56:08 -0400] jtimberman: including RHEL, FreeBSD, ArchLinux.
[2012-10-20 17:56:20 -0400] imanelephant: O_o
[2012-10-20 17:58:28 -0400] Babar: read the apache cookbook, it will become clear
[2012-10-20 17:58:46 -0400] Babar: for example, it creates the a2ensite, the /etc/apache2/site-enable, etc... structure, everywhere
[2012-10-20 17:59:30 -0400] Babar: so what jtimberman is suggesting, is that you create the /etc/php5/conf.d on the unices which do not have it already, and then use just that.
[2012-10-20 17:59:43 -0400] Babar: (but, just like him, I haven't used PHP in ages, thank God for that)
[2012-10-20 18:09:00 -0400] jtimberman: imanelephant: :)
[2012-10-20 18:55:46 -0400] miah: hello
[2012-10-20 19:00:39 -0400] miah: whos in seattle and wants to eat foods
[2012-10-20 19:15:38 -0400] yakko: not this type of chef
[2012-10-20 19:53:13 -0400] Twirrim: Aloha
[2012-10-20 21:30:19 -0400] masterkorp: Twirrim: ohai
[2012-10-20 21:47:22 -0400] josqu4red: APT::Periodic::Enable "1";
[2012-10-20 21:47:22 -0400] josqu4red: APT::Periodic::Update-Package-Lists "1";
[2012-10-20 21:47:22 -0400] josqu4red: APT::Periodic::Download-Upgradeable-Packages "1";
[2012-10-20 22:07:49 -0400] sascha_d: I would pay money for an automated way to create new orbs in private chef
[2012-10-20 22:08:08 -0400] sascha_d: orgs that is (thank you osx for correcting me)
[2012-10-20 22:31:05 -0400] sascha_d: oops
[2012-10-20 22:35:42 -0400] fujin: Hehe
[2012-10-20 22:57:09 -0400] Houdini: How to execute bash script and return it's line to ruby variable in chef recipe?
[2012-10-20 22:58:21 -0400] coderanger: Houdini: ShellOut
[2012-10-20 22:58:25 -0400] coderanger: Also, don't
[2012-10-20 22:58:54 -0400] Houdini: coderanger: thx, I'll try it
[2012-10-20 22:59:00 -0400] coderanger: Houdini: See line #2
[2012-10-20 22:59:05 -0400] coderanger: What are you trying to do
[2012-10-20 22:59:37 -0400] coderanger: Rather than making a recipe react to system state, you should just assert the state idempotently and move on
[2012-10-20 22:59:41 -0400] Houdini: coderanger: I install gem passenger and want to see it's installation path with passenger-config root
[2012-10-20 23:00:38 -0400] Houdini: I will do it only in installation block, so this will not execute all the time
[2012-10-20 23:01:50 -0400] coderanger: This would be a good example, instead put the desired install path into a node attribute, and pass that in when you install it
[2012-10-20 23:02:03 -0400] coderanger: proscriptive rather than reactive
[2012-10-20 23:04:00 -0400] Houdini: coderanger: yep, it's better idea, however it's gem installation and it might be different from node to node
[2012-10-20 23:04:11 -0400] coderanger: Then make the recipe fix it ;-)
[2012-10-20 23:42:33 -0400] miah: herp derp
[2012-10-20 23:43:15 -0400] miah: why would _anything_ be different node to node
[2012-10-20 23:43:21 -0400] miah: thats the whole point of configuration management
[2012-10-20 23:44:25 -0400] fujin: More fun that way. Snowflake ftw
[2012-10-20 23:44:56 -0400] miah: i suppose
[2012-10-20 23:45:08 -0400] miah: it makes things more exciting when you get that page at 3am
[2012-10-20 23:47:19 -0400] miah: guh. that was a lot of wlaking. my feet are unhappy.
[2012-10-20 23:54:16 -0400] fujin: Know that feel. Good way to see the city though
[2012-10-20 23:54:52 -0400] fujin: At least it has stopped raining for now
