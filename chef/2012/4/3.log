[2012-04-03 00:00:11 -0400] dyer: Any particular reason why you guys limited cookbook versions to x.x.x or x.x ?
[2012-04-03 00:00:59 -0400] |shad0w|: does this not meet your needs?
[2012-04-03 00:01:36 -0400] dyer: unfortunately no, our engineering mgr wants me to match the product versioning
[2012-04-03 00:03:30 -0400] dyer: Just wondering if there was a reason why it was limited
[2012-04-03 00:03:52 -0400] |shad0w|: probably to do sane version requirements and locking
[2012-04-03 00:04:14 -0400] |shad0w|: such as env cookbook restrictions and cookbook deps
[2012-04-03 00:05:01 -0400] dyer: ok, I don't think 1.1.1.1 is "insane" :)
[2012-04-03 00:05:36 -0400] |shad0w|: how far do you let it go, and how do do compares from there
[2012-04-03 00:05:43 -0400] dyer: sure, its gets dicey when u start doing non-alpha numeric versioning, 11.5.1-rc4-p240
[2012-04-03 00:05:49 -0400] |shad0w|: major.minor.bug is pretty standard versioning format
[2012-04-03 00:06:07 -0400] dyer: yea, I know, I get the argument
[2012-04-03 00:28:51 -0400] btm: jdeamattson: right now we're focused on getting it out. changing anything else that we don't have to be another testing cycle later in the year.
[2012-04-03 00:29:36 -0400] jdeamattson: btm: Understand.
[2012-04-03 00:30:41 -0400] flaccid: is there an lwrp or something to install an apt repos, basically to replace a command such as add-apt-repository ppa:freeswitch-drivers/freeswitch-nightly-drivers ?
[2012-04-03 00:33:44 -0400] miah: in the apt cookbook
[2012-04-03 00:34:04 -0400] miah: https://github.com/opscode-cookbooks/apt
[2012-04-03 00:35:00 -0400] flaccid: ty miah
[2012-04-03 00:37:15 -0400] flaccid: hmm so what is the diff with that and https://github.com/opscode/cookbooks/tree/master/apt seems to be some duplication, don't fully understand this repos change
[2012-04-03 00:40:32 -0400] dikim33: Hi, can anyone please take a look at this error? http://pastebin.com/2SnVPyqq
[2012-04-03 00:41:02 -0400] dikim33: chef-server seems to work fine but I like to run chef-server-webui too.
[2012-04-03 00:44:26 -0400] dikim33: can anyone please help me out?
[2012-04-03 00:49:43 -0400] jtimberman: flaccid: http://www.opscode.com/blog/2012/03/20/cookbooks-migrated-to-new-github-organization/
[2012-04-03 00:49:52 -0400] flaccid: ty jtimberman
[2012-04-03 00:50:19 -0400] jtimberman: flaccid: "opscode/cookbooks" (the original repo) is "deprecated". development will continue to happen in the "opscode-cookbooks" organization.
[2012-04-03 00:50:38 -0400] flaccid: awesome, thanks again
[2012-04-03 00:51:41 -0400] hoover_damm: jtimberman, do us a favor, make a new branch the default (say moved) and put in a README there stating where it's moved to? and then make that the default branch
[2012-04-03 00:52:16 -0400] hoover_damm: jtimberman, lots of people will get stuck on the duplicate spots, and I see no reason to delete any data.  so a new branch with a readme saying we have moved HERE
[2012-04-03 00:52:19 -0400] hoover_damm: should suffice
[2012-04-03 00:52:33 -0400] dikim33: hi, can anyone help me out with this problem? http://pastebin.com/2SnVPyqq
[2012-04-03 00:52:37 -0400] hoover_damm: otherwise the readme in https://github.com/opscode/cookbooks would not indicate this change
[2012-04-03 00:52:46 -0400] hoover_damm: or anyone else in opscode ^^
[2012-04-03 00:53:05 -0400] hoover_damm: dikim33, chef-server-api running yet?
[2012-04-03 00:53:05 -0400] miah: hoover_damm: pull request :P
[2012-04-03 00:53:26 -0400] dikim33: I did not run it hoover_damm
[2012-04-03 00:53:38 -0400] hoover_damm: miah, or just create a feature as bender from the future... and then add my keys
[2012-04-03 00:53:39 -0400] hoover_damm: j/k
[2012-04-03 00:53:54 -0400] miah: :P
[2012-04-03 00:53:57 -0400] hoover_damm: dikim33, chef-server-webui depends on private keys generated by the api-server
[2012-04-03 00:54:05 -0400] hoover_damm: dikim33, so you cannot have chef-server-webui without chef-server-api running
[2012-04-03 00:54:17 -0400] dikim33: I see. :-) hoover_damm
[2012-04-03 00:54:35 -0400] hoover_damm: chef-server-api would generate several keys, which the chef-server-webui is looking for
[2012-04-03 00:54:45 -0400] hoover_damm: and knowing that chef-server-webui talks to the api in chef-server-api to get all the gooey data
[2012-04-03 00:54:52 -0400] hoover_damm: it totally needs it.
[2012-04-03 00:59:02 -0400] jtoft: Is there any way to find out why the expander doesn't seem to be sending data bag indexes to solr?
[2012-04-03 01:01:14 -0400] jtoft: Seems like my expander isn't receiving _any_ requests
[2012-04-03 01:05:58 -0400] dikim33: hoover_damm: I tried to install chef-server-api via gem but it does not seem to create a bin file.
[2012-04-03 01:09:39 -0400] dikim33: hoover_damm: which means I can not run chef-server-api.
[2012-04-03 01:11:18 -0400] dikim33: hoover_damm: any help?
[2012-04-03 01:14:35 -0400] hoover_damm: dikim33, what errors do you get when you run chef-server-api?
[2012-04-03 01:14:47 -0400] hoover_damm: dikim33, you should just need to install the chef gem and run the bootstrap
[2012-04-03 01:14:54 -0400] hoover_damm: dikim33, and the bootstrap should install everything you need for chef
[2012-04-03 01:15:13 -0400] hoover_damm: jtoft, is it running? any errors in the logs?
[2012-04-03 01:15:26 -0400] dikim33: hoover_damm: as I mentioned, I don't have chef-server-api executable.
[2012-04-03 01:15:27 -0400] hoover_damm: you can try bouncing it and running chef-client somewhere to see if it logs
[2012-04-03 01:15:29 -0400] jtoft: hoover_damm: no errors in the logs, it's running full debug at the moment
[2012-04-03 01:15:43 -0400] jtoft: hoover_damm: seems like chef-expanderctl queue-status halts when I run it
[2012-04-03 01:15:52 -0400] jtoft: hoover_damm: thinking maybe it's having trouble talking through amqp?
[2012-04-03 01:16:01 -0400] hoover_damm: dikim33, gem install chef-server-api?
[2012-04-03 01:16:37 -0400] dikim33: hoover_damm: yes, I already did it but it does not install the bin file.
[2012-04-03 01:17:42 -0400] vvuksan: is there a way to set key value/pair in config files like e.g. /etc/default/ without using templates or sed magic ?
[2012-04-03 01:17:52 -0400] vvuksan: ie. make sure that enabled="true"
[2012-04-03 01:18:33 -0400] hoover_damm: dikim33, chef-server
[2012-04-03 01:18:40 -0400] hoover_damm: dikim33, may not be chef-server-api
[2012-04-03 01:18:55 -0400] dikim33: Yes, I do have chef-server and it is running fine
[2012-04-03 01:19:04 -0400] hoover_damm: vvuksan, write a lwrp to enable_service "foobar"
[2012-04-03 01:19:04 -0400] hoover_damm: ?
[2012-04-03 01:19:11 -0400] hoover_damm: dikim33, chef-server is chef-server-api btw
[2012-04-03 01:19:30 -0400] hoover_damm: and according to the logs you don't have /etc/chef/webui.pem
[2012-04-03 01:19:46 -0400] dikim33: Yes, that's right hoover_damm
[2012-04-03 01:19:57 -0400] hoover_damm: vvuksan, as far as a simple method not sure off hand though
[2012-04-03 01:20:04 -0400] vvuksan: hoover_damm: ok
[2012-04-03 01:20:05 -0400] hoover_damm: dikim33, chef-server should have written that
[2012-04-03 01:20:07 -0400] dikim33: So, how could I create webui.pem? hoover_damm
[2012-04-03 01:20:17 -0400] dikim33: hmm, hoover_damm
[2012-04-03 01:20:26 -0400] hoover_damm: dikim33, restart chef-server? lookat the output it generates
[2012-04-03 01:20:31 -0400] hoover_damm: should be an error there if it's not making it
[2012-04-03 01:20:34 -0400] hoover_damm: vvuksan, el5?
[2012-04-03 01:20:40 -0400] vvuksan: no Ubuntu
[2012-04-03 01:20:41 -0400] dikim33: OK, hoover_damm
[2012-04-03 01:20:52 -0400] vvuksan: so /etc/default/sysstat is disabled by default
[2012-04-03 01:21:26 -0400] vvuksan: disabled as in you have to make sure there is a key/pair that says enabled="true"
[2012-04-03 01:21:46 -0400] hoover_damm: can we preseed this?
[2012-04-03 01:21:56 -0400] jdeamattson: If I am using the Omnibus installer and I want to install a gem I need as part of my first run, is there anything special I need to do?
[2012-04-03 01:22:14 -0400] vvuksan: hoover_damm: i suppose
[2012-04-03 01:22:39 -0400] hoover_damm: vvuksan, well I was wondering if preseed supported that
[2012-04-03 01:22:45 -0400] hoover_damm: vvuksan, the package may not support preseeding enabled
[2012-04-03 01:23:04 -0400] hoover_damm: arguably then  you either template the file, or you gsub it
[2012-04-03 01:24:09 -0400] hoover_damm: vvuksan, horrible evil example https://github.com/treasure-data/chef-mongodb-mms-agent/blob/master/recipes/default.rb
[2012-04-03 01:24:12 -0400] vvuksan: hoover_damm: looking into it
[2012-04-03 01:24:20 -0400] hoover_damm: check around line 37
[2012-04-03 01:24:22 -0400] hoover_damm: to 53
[2012-04-03 01:24:36 -0400] hoover_damm: vvuksan, worst case scenario your basically going to do that
[2012-04-03 01:24:52 -0400] vvuksan: hoover_damm: yeah. I was hoping there was built-in ;-)
[2012-04-03 01:24:53 -0400] hoover_damm: vvuksan, if you want to dry it up into a lwrp so you just have to enable_service "sysstat"
[2012-04-03 01:24:55 -0400] jdeamattson: hoover_damm: Disgusting.
[2012-04-03 01:24:56 -0400] hoover_damm: might feel better
[2012-04-03 01:25:20 -0400] hoover_damm: vvuksan, package "sysstat" do action :enable end
[2012-04-03 01:25:22 -0400] hoover_damm: :)
[2012-04-03 01:25:23 -0400] hoover_damm: does sound nice
[2012-04-03 01:25:24 -0400] jdeamattson: hoover_damm: Do you know the answer to this one: If I am using the Omnibus installer and I want to install a gem I need as part of my first run, is there anything special I need to do?
[2012-04-03 01:25:50 -0400] vvuksan: hoover_damm: trouble is that's not enough :-(
[2012-04-03 01:26:09 -0400] hoover_damm: vvuksan, well your enabling sysstat and turning on sar right?
[2012-04-03 01:26:12 -0400] hoover_damm: or more?
[2012-04-03 01:26:16 -0400] vvuksan: yeah
[2012-04-03 01:26:31 -0400] hoover_damm: vvuksan, service ..
[2012-04-03 01:26:40 -0400] vvuksan: i know
[2012-04-03 01:26:46 -0400] vvuksan: but you do service sysstat start
[2012-04-03 01:26:49 -0400] vvuksan: and it doesn't
[2012-04-03 01:27:03 -0400] vvuksan: because it sources /etc/default/sysstat
[2012-04-03 01:27:07 -0400] vvuksan: which has enabled="false"
[2012-04-03 01:27:09 -0400] vvuksan: go figure
[2012-04-03 01:27:19 -0400] hoover_damm: right
[2012-04-03 01:27:24 -0400] hoover_damm: stupid debian mechanics
[2012-04-03 01:27:29 -0400] hoover_damm: or ubuntu
[2012-04-03 01:27:31 -0400] hoover_damm: either way you look at it
[2012-04-03 01:27:32 -0400] hoover_damm: braindead
[2012-04-03 01:27:49 -0400] hoover_damm: I'm shocked there's no cookbook made for this yet
[2012-04-03 01:34:20 -0400] jdeamattson: Does anyone know how to install a gem required by your cookbooks when you are using the Omnibus installer?
[2012-04-03 01:34:42 -0400] jdeamattson: It would appear that the sidewise install mechanism no longer works.
[2012-04-03 01:35:42 -0400] dikim33: hoover_damm: yes, you are right. there is an error on chef-server. http://pastebin.com/CdUrt4Jx
[2012-04-03 01:35:52 -0400] dikim33: How can I fix this?
[2012-04-03 01:45:53 -0400] btm: jdeamattson: with Chef 0.10.8 you need to use specify the path to the gem_binary.
[2012-04-03 01:48:43 -0400] btm: jdeamattson: After 0.10.10 you will use 'gem_package' for gems installed to the system and chef_gem for gems installed for use in recipes. http://tickets.opscode.com/browse/CHEF-2879
[2012-04-03 01:52:17 -0400] hoover_damm: dikim33, rabbitmq not installed?
[2012-04-03 01:52:26 -0400] hoover_damm: or running?
[2012-04-03 01:52:28 -0400] hoover_damm: nor configured
[2012-04-03 01:52:32 -0400] hoover_damm: still above, bootstrap should fix this
[2012-04-03 01:52:58 -0400] dikim33: rabbitmq is installed and is running.. I believe. let me double check.
[2012-04-03 01:53:32 -0400] hoover_damm: /usr/share/ruby-rvm/gems/ruby-1.9.3-p125/gems/bunny-0.7.9/lib/qrack/client.rb:194:in `read': Connection reset by peer (Errno::ECONNRESET)
[2012-04-03 01:53:35 -0400] hoover_damm: indicates otherwise
[2012-04-03 01:54:02 -0400] dikim33: hoover_damm: what does it indicate?
[2012-04-03 01:54:13 -0400] hoover_damm: that rabbitmq isn't running on the port
[2012-04-03 01:54:25 -0400] dikim33: oh..
[2012-04-03 01:55:37 -0400] dikim33: http://pastebin.com/T0VTSbvV
[2012-04-03 01:55:46 -0400] dikim33: hoover_damm: it seems to be running.
[2012-04-03 02:01:50 -0400] dikim33: hoover_damm: I have an error even in chef-solr: http://pastebin.com/d948Rs01
[2012-04-03 02:03:19 -0400] jdeamattson: btm: what do I do know?
[2012-04-03 02:03:52 -0400] jdeamattson: btm: Sorry missed your earlier comment. Can you point me at an example of Chef 0.10.8 and specifying the path to the gem binary?
[2012-04-03 02:04:18 -0400] jdeamattson: I have a couple of recipes that depend on pulling in gems and doing sideways installs at this point.
[2012-04-03 02:11:09 -0400] hoover_damm: weird
[2012-04-03 02:11:58 -0400] jdeamattson: btm:  Is there an example of installing a gem to be used in a recipe with Chef 0.10.8?
[2012-04-03 02:12:18 -0400] hoover_damm: same old examples should still work
[2012-04-03 02:12:50 -0400] jdeamattson: hoover_damm: This is with the Omnibus installer
[2012-04-03 02:13:11 -0400] jdeamattson: hoover_damm: The old method doesn't work. btm stated that we need to specify the path to the gem_binary.
[2012-04-03 02:13:45 -0400] hoover_damm: jdeamattson, you do with omnibus as the environment is generally not there
[2012-04-03 02:13:55 -0400] hoover_damm: jdeamattson, i've enabled it to be there with some tricks to avoid having to do that
[2012-04-03 02:14:06 -0400] jdeamattson: hoover_damm: Unclear to me what you are saying.
[2012-04-03 02:14:29 -0400] hoover_damm: jdeamattson, basically dpkg -i then add the opscode to the profile, get it all set, then hash -r and then run chef
[2012-04-03 02:14:38 -0400] hoover_damm: jdeamattson, and then the current 'shell' will know which 'gem' to use
[2012-04-03 02:14:58 -0400] hoover_damm: jdeamattson, the issue is that the bootstrap takes an instance from rubyless, to omnibus
[2012-04-03 02:15:08 -0400] jdeamattson: hoover_damm: To address a number issues with older versions of Ruby, etc., as Opscode's suggestion, I have moved to the Omnibus installer. Following this move my recipes that did sideways installs are borkne.
[2012-04-03 02:15:16 -0400] hoover_damm: jdeamattson, so the shell that's starting chef-client has an invalid context of where 'gem' is
[2012-04-03 02:15:35 -0400] hoover_damm: jdeamattson, so when ohai runs, it's not what you desire
[2012-04-03 02:15:47 -0400] hoover_damm: are we on the same page still?
[2012-04-03 02:15:49 -0400] jdeamattson: hoover_damm: I am not on Debian in addition. Using Amazon Linux.
[2012-04-03 02:15:59 -0400] hoover_damm: regardless
[2012-04-03 02:16:01 -0400] jdeamattson: I am working to map out what you are saying.
[2012-04-03 02:16:03 -0400] hoover_damm: same spot, same issue
[2012-04-03 02:16:19 -0400] hoover_damm: with amazon you install ruby and rubygems with yum, or by source
[2012-04-03 02:16:34 -0400] jdeamattson: hoover_damm: When you say, "Add Opscode to the profile", what do you mean.
[2012-04-03 02:16:50 -0400] jdeamattson: hoover_damm: I am using the Omnibus installer at the direction of Opscode.
[2012-04-03 02:16:56 -0400] hoover_damm: jdeamattson, so the beginning of my bootstrap's contain this if I can login as root
[2012-04-03 02:17:04 -0400] hoover_damm: jdeamattson, bash --login -c '
[2012-04-03 02:17:11 -0400] jdeamattson: Ok.
[2012-04-03 02:17:19 -0400] hoover_damm: jdeamattson, because by default bash -c does not login or source /etc/profile
[2012-04-03 02:17:23 -0400] jdeamattson: Do you have an gist of a bootstrap at which I can look.
[2012-04-03 02:20:33 -0400] hoover_damm: jdeamattson, https://gist.github.com/3ee0bcf08221197086d6
[2012-04-03 02:20:42 -0400] hoover_damm: jdeamattson, line 6 and 7 likely are what i'm doing that's unique
[2012-04-03 02:21:05 -0400] hoover_damm: jdeamattson, /etc/profile.d is sourced upon login, and I wanted the omnibus to be our ruby.  we don't run ruby except for chef and random scripts
[2012-04-03 02:21:10 -0400] hoover_damm: so this was acceptable
[2012-04-03 02:21:31 -0400] hoover_damm: jdeamattson, so basically set it in the path, then activate it, and then the context that chef-client runs (you can add a hash -r if you want)
[2012-04-03 02:21:40 -0400] hoover_damm: does have the gem binary, actually by 2 paths
[2012-04-03 02:21:47 -0400] hoover_damm: one by the source, and two because I symlink it to /usr/bin
[2012-04-03 02:21:54 -0400] hoover_damm: between the two it should find the gem binary
[2012-04-03 02:21:58 -0400] jdeamattson: Ok. Sorting it out.
[2012-04-03 02:21:59 -0400] hoover_damm: it does for us
[2012-04-03 02:25:41 -0400] hoover_damm: jdeamattson, problem is that knife bootstrap or knife ec2 server create... the bootstraps don't setup a environment that's sourced completely
[2012-04-03 02:25:44 -0400] hoover_damm: so it can cause some oddities
[2012-04-03 02:25:48 -0400] hoover_damm: that you get to work or fix
[2012-04-03 02:26:03 -0400] hoover_damm: easiest way is to bash --login if you can
[2012-04-03 02:38:34 -0400] jdeamattson: hoover_damm: As always, thank you for your assistance.
[2012-04-03 02:42:06 -0400] hoover_damm: anytime
[2012-04-03 02:46:12 -0400] jdeamattson: hoover_damm: Well, found an easier way around all of it. Turns out that Amazon Linux's latest release (went out today, I believe) allows you to install Ruby 1.9.3! I can avoid Omnibus for now.:-)
[2012-04-03 02:46:29 -0400] jdeamattson: hoover_damm: Just had to modify my currently existing bootstrap for Amazon Linux :-)
[2012-04-03 02:48:44 -0400] hoover_damm: with libyaml
[2012-04-03 02:48:54 -0400] hoover_damm: we didn't want to wait for opscode, and opscode didn't take my pull request
[2012-04-03 02:50:01 -0400] hoover_damm: basically they are redoing their build system i guess and didn't want it
[2012-04-03 02:50:03 -0400] hoover_damm: :(
[2012-04-03 02:51:03 -0400] jdeamattson: I noticed that Omnibus is 1.9.1 and frankly I don't want something that old. If I am going to do the work of moving from 1.8.7, I want to go to 1.9.3...
[2012-04-03 02:51:27 -0400] hoover_damm: ruby 1.9.x has the habbit of appearing as 1.9.1
[2012-04-03 02:51:37 -0400] hoover_damm: it's amazingly confusing to end users who pay attention to directory names
[2012-04-03 02:52:07 -0400] jdeamattson: Ah. Interesting. I wasn't aware of that...
[2012-04-03 02:52:15 -0400] hoover_damm: and when I made my ubuntu ruby 1.9.3 deb
[2012-04-03 02:52:17 -0400] hoover_damm: it was 1.9.1 as well
[2012-04-03 02:52:18 -0400] hoover_damm: :|
[2012-04-03 02:52:25 -0400] hoover_damm: you can tell it bothers me
[2012-04-03 02:52:44 -0400] hoover_damm: i have 1.9.2 and 1.9.3 both writing to 1.9.1
[2012-04-03 02:52:59 -0400] hoover_damm: so it's not my decision
[2012-04-03 03:05:40 -0400] hippieha`: I'm getting: "invalid date format in specification" on quite a few gems as they upgrade (installed via gem_package resource)
[2012-04-03 03:06:31 -0400] hoover_damm: welcome to 2011
[2012-04-03 03:06:54 -0400] hoover_damm: rubygems decided to throw a bunch of annoying warnings
[2012-04-03 03:06:56 -0400] hoover_damm: hope you like em
[2012-04-03 03:07:18 -0400] fujin: that sucks
[2012-04-03 03:07:25 -0400] fujin: maybe the finally deprecated that crap
[2012-04-03 03:08:04 -0400] fujin: hippieha`: looks like you have a ghost, too; so, mind trying something? if you supply the gem_bin parameter to the gem_package resource, you can tell it to run that instead of using the rubygems Gem library in the running VM
[2012-04-03 03:08:10 -0400] fujin: I think it's gem_bin
[2012-04-03 03:08:23 -0400] fujin: ah.
[2012-04-03 03:08:25 -0400] fujin: gem_binary
[2012-04-03 03:08:50 -0400] fujin: hippieha`: something like. gem_binary node.languages.ruby.gem.bin
[2012-04-03 03:08:58 -0400] fujin: hippieha`: in the affected gem_package
[2012-04-03 03:09:17 -0400] fujin: hippieha`: and it will use the old style fall back (slower) shell out to gem method for installation and stuff. Or should, IIRC
[2012-04-03 03:09:51 -0400] hippiehacker: hmm
[2012-04-03 03:09:52 -0400] fujin: shit. node.languages.ruby.gem_bin
[2012-04-03 03:09:59 -0400] fujin: not .gem.bin
[2012-04-03 03:10:08 -0400] fujin: mine is       "gem_bin": "/home/aj/.rvm/rubies/ruby-1.9.3-p0/bin/gem"
[2012-04-03 03:10:42 -0400] fujin: hippiehacker: I know there are some updates that were required to the rubygems provider for the internal API
[2012-04-03 03:11:56 -0400] fujin: not sure if those have happened in time for deprecation.. doesn't sound like it :)
[2012-04-03 03:14:14 -0400] hoover_damm: fujin, with rails apps and modern rubygems i get a bazillion and 1 warnings
[2012-04-03 03:14:35 -0400] hoover_damm: 'it's using Gem#Specification this is scheduled for removal last year... please stop using it'
[2012-04-03 03:14:56 -0400] hoover_damm: clearly rubygems beating up the end user with warning messages isn't getting these things fixed
[2012-04-03 03:15:02 -0400] hoover_damm: so perhaps rubygems should try a different approach
[2012-04-03 04:19:24 -0400] advait: hi.. Please let me know how to create own Recipe?
[2012-04-03 04:30:29 -0400] flaccid: advait: http://wiki.opscode.com/display/chef/Recipes
[2012-04-03 05:26:10 -0400] BryanWB: fujin: i met atmos and mtodd recently, they have fond memories of u
[2012-04-03 05:50:09 -0400] fujin: BryanWB: those guys are awesome :)
[2012-04-03 05:50:24 -0400] fujin: BryanWB: i lost my passport when mtodd lost his glasses and keys iirc
[2012-04-03 05:50:32 -0400] fujin: drinking makers mark manhattans at house of shields
[2012-04-03 05:50:39 -0400] fujin: rough day :\
[2012-04-03 05:55:43 -0400] BryanWB: fujin: sorry to hear that
[2012-04-03 05:56:08 -0400] Null_Route: Fujin -
[2012-04-03 05:56:18 -0400] Null_Route: it's morning there, no?
[2012-04-03 05:56:29 -0400] Null_Route: (Supposed to be in HU next week)
[2012-04-03 06:12:37 -0400] fujin: Null_Route: HU?
[2012-04-03 06:12:43 -0400] fujin: Null_Route: No, it's 18:12 here
[2012-04-03 06:12:53 -0400] Null_Route: hmmm
[2012-04-03 06:12:56 -0400] Null_Route: sorry -
[2012-04-03 06:12:59 -0400] Null_Route: my mistake
[2012-04-03 06:13:25 -0400] fujin: hehe
[2012-04-03 06:13:36 -0400] Null_Route: [08:55] ==  server   : adams.freenode.net [Budapest, HU, EU]
[2012-04-03 06:13:48 -0400] fujin: ah lol
[2012-04-03 06:13:57 -0400] fujin: that is the server i am on. not my connection
[2012-04-03 06:14:23 -0400] Null_Route: makes sense. I'm definately not in OR, uSA
[2012-04-03 06:14:32 -0400] fujin: =P
[2012-04-03 06:37:37 -0400] erikh: hey chefs, is this digestable? https://gist.github.com/b5fee123125ce68cc57c
[2012-04-03 06:56:51 -0400] kostyasha: sorry, i'm new to chef, how client sends information that some of cookbooks failed to apply?
[2012-04-03 06:59:40 -0400] ranjibd: erikh, looks good, will set it up today
[2012-04-03 07:00:58 -0400] ranjibd: why not add all these features in the existing chef wbui/dashboard?
[2012-04-03 07:01:21 -0400] ranjibd: like the CI tools have a specialized Radiator view
[2012-04-03 07:01:51 -0400] ranjibd: kostyasha, check the logs in individual nodes
[2012-04-03 07:02:25 -0400] erikh: well, I'd have to get with opscode on that. maybe after a few revisions they'll be interested.
[2012-04-03 07:02:27 -0400] ranjibd: unless you have some report/exception handler , u need to take a look at /var/chef/cache/chef-stack....log
[2012-04-03 07:02:40 -0400] erikh: nah, it reports the resources in the report handlers.
[2012-04-03 07:02:58 -0400] ranjibd: erikh, good idea ,
[2012-04-03 07:03:03 -0400] kostyasha: 0_0
[2012-04-03 07:03:05 -0400] erikh: https://github.com/erikh/chef-chef-dashboard/blob/master/templates/default/chef_dashboard_handler.rb#L11
[2012-04-03 07:04:03 -0400] ranjibd: hmm
[2012-04-03 07:04:13 -0400] erikh: this is actually based off of a handler jtimberman wrote
[2012-04-03 07:04:19 -0400] erikh: and seems to be working well
[2012-04-03 07:05:27 -0400] erikh: I'm not under the delusion the tool doesn't need more improvements or anything. :)
[2012-04-03 07:05:38 -0400] erikh: it's a rough cut at this point, but it's stable and I plan on improving it.
[2012-04-03 07:13:08 -0400] erikh: anyhow here's the repo: https://github.com/erikh/chef-dashboard
[2012-04-03 07:13:51 -0400] fujin: erikh: I'm not sure but the example webserver that the readme links to is a little.. flakey?
[2012-04-03 07:13:57 -0400] fujin: maybe just my chromium-browser here
[2012-04-03 07:14:11 -0400] fujin: but like togglign the nodes on and off on the right hand side panel was leaving ghost elements
[2012-04-03 07:14:54 -0400] fujin: odd
[2012-04-03 07:14:54 -0400] fujin: it uh
[2012-04-03 07:14:58 -0400] fujin: seems to not be doing it anymore
[2012-04-03 07:16:48 -0400] erikh: weird.
[2012-04-03 07:17:04 -0400] erikh: it's not using ajax or anything
[2012-04-03 07:17:13 -0400] erikh: just some element hiding, so it's probably twitter bootstrap.
[2012-04-03 07:18:17 -0400] erikh: which is part of the reason I'm using it; I'm not much of a designer either.
[2012-04-03 08:57:52 -0400] gadolin: hey guys,  do you know is it possible to include other template from within template?
[2012-04-03 09:00:12 -0400] gadolin: i would like to pass template file name to template, which would loop over it and do inclusion
[2012-04-03 09:11:54 -0400] rohitdev: In http://wiki.opscode.com where do i get Ruby class documentation? I'm looking for extending chef. How do i get to know about different classes like Chef::Node etc ?
[2012-04-03 09:13:51 -0400] sampikesley: https://github.com/opscode/chef/tree/master/chef/lib/chef/node
[2012-04-03 09:14:52 -0400] rohitdev: @sampikesley to be more accurate i'm looking for something like Java API doc i guess in ruby that translated to RDocs?
[2012-04-03 09:35:57 -0400] BryanWB: rohitdev: http://rubydoc.info/gems/chef/frames
[2012-04-03 09:43:13 -0400] rohitdev: @BryanWB Awesome !!!!! Thanks alot!
[2012-04-03 09:45:33 -0400] BryanWB: nico: pry ftw!!!
[2012-04-03 09:45:36 -0400] BryanWB: show-doc
[2012-04-03 09:45:56 -0400] sampikesley: pry is voodoo
[2012-04-03 09:46:00 -0400] sampikesley: witchcraft
[2012-04-03 09:46:17 -0400] nico: gah, still have to try pry
[2012-04-03 09:47:49 -0400] BryanWB: c the screencast, freaking awesome
[2012-04-03 09:51:05 -0400] proffalken: erikh: that looks really cool, might have to take a look at that
[2012-04-03 10:50:05 -0400] fish_: can I 'skip' a recipe based on a condition? maybe with a return or something like that?
[2012-04-03 10:50:28 -0400] fish_: sure, I could wrap the whole recipe in a if condition
[2012-04-03 11:55:10 -0400] frank_: fish_: you can add an "only_if"
[2012-04-03 11:59:41 -0400] fish_: frank_: but only to the resources
[2012-04-03 12:00:08 -0400] frank_: ah ic
[2012-04-03 12:00:28 -0400] frank_: i'd then create a "subrecipe" (eg: yourcookbook::yourrecipe)
[2012-04-03 12:00:46 -0400] frank_: and do the include "yourcookbook::yourrecipe" in an if construction
[2012-04-03 12:00:46 -0400] fish_: yep, and include it based on the condition
[2012-04-03 12:33:53 -0400] lxhunter: hey all, how can i access the run_list of a role within a recipe? this does not work base = search("role","name:base") base["run_list"] I googled a lot but have not found any solution
[2012-04-03 12:41:42 -0400] lxhunter: anyone?
[2012-04-03 12:53:23 -0400] drrk: Hey, am I right there is someone UK or at least Europe based that can deliver Chef training
[2012-04-03 12:53:45 -0400] drrk: A name has been mentioned to me before but I can't remember who it was.
[2012-04-03 12:56:33 -0400] lxhunter: talk to cope
[2012-04-03 13:06:50 -0400] BryanWB: drrk: yup, Cope is in surrey, shouldn't be too far from u ;)
[2012-04-03 13:07:08 -0400] BryanWB: drrk:  http://www.atalanta-systems.com/contact.html
[2012-04-03 13:07:28 -0400] drrk: year only about 300 miles :)
[2012-04-03 13:07:53 -0400] drrk: still better tha Seatle
[2012-04-03 13:08:11 -0400] drrk: although  what I really want is for work to fly me to training in Seattle
[2012-04-03 13:08:19 -0400] drrk: but I doubt it will happen
[2012-04-03 13:14:51 -0400] khinester: hello, i am trying to go through the Fast Start Guide, but get this error: FATAL: Net::HTTPServerException: 401 "Unauthorized" here is the full output http://pastie.org/3720665
[2012-04-03 13:35:00 -0400] Ched: Hi
[2012-04-03 13:37:58 -0400] Ched: Anyone knows how to prevent a chef run from failing? I've got a "messy" idmapd init.d script, when i start the daemon and it is already started, the script returns 1 and chef's run fail.
[2012-04-03 13:39:11 -0400] benner: Ched: you can ignore fail, but it's not recomended
[2012-04-03 13:39:22 -0400] Ched: benner: how?
[2012-04-03 13:39:27 -0400] benner: one sec
[2012-04-03 13:40:01 -0400] Ched: okay
[2012-04-03 13:40:02 -0400] afallows: Ched: It would probably be better to have it check whether the daemon is running first and only start it if it isn't, restart it if it is.
[2012-04-03 13:40:19 -0400] benner: http://wiki.opscode.com/display/chef/Resources
[2012-04-03 13:40:28 -0400] benner: look at ignore_failure
[2012-04-03 13:41:37 -0400] BryanWB: benner: hmm wonder if it is possible to patch all resources to ignore_failure for a given chef run, would be useful for some kinds of testing
[2012-04-03 13:41:38 -0400] Ched: Thanks
[2012-04-03 13:41:46 -0400] Ched: !
[2012-04-03 13:50:27 -0400] hones: ssd7_: Something wrong with my hipchat after the AdobeAir update yesterday. Trying to fix
[2012-04-03 13:54:41 -0400] BryanWB: ooh, i hate adobe auir
[2012-04-03 13:55:25 -0400] dyer: BryanWB +1
[2012-04-03 13:55:55 -0400] dyer: Hey guys, question, would there be any problem with incrementing the major version number from 1.0.5 to 11.5.0 ?
[2012-04-03 13:56:28 -0400] dyer: My mgr would like the cookbook versions to match the product release versions but now when uploaded the 11.5.0 cookbook I get a 404
[2012-04-03 13:56:44 -0400] dyer: if I log onto the chef server and goto cookbooks I can see it listed
[2012-04-03 13:56:49 -0400] dyer: but when I click on it I get a 404
[2012-04-03 13:58:01 -0400] sampikesley: ManagementException caught
[2012-04-03 13:58:15 -0400] sampikesley: major versions >= 10 not allowed
[2012-04-03 13:59:29 -0400] mgalkiewicz: hi guys I have following problem: http://pastie.org/3720891
[2012-04-03 14:00:01 -0400] mgalkiewicz: purging cookbook helps but for a while but the problem comes back
[2012-04-03 14:02:35 -0400] benner: BryanWB: it is possible I think
[2012-04-03 14:02:55 -0400] benner: couz its pure ruby, you can overide some method or smth
[2012-04-03 14:03:51 -0400] benner: i think it must be somewhere in Chef::Provider class
[2012-04-03 14:09:54 -0400] neadamthal: hey all. I see Chef-solo isn't supported on Windows7, but the client *does*. are they different code bases?  or is Win7 omission an oversight?
[2012-04-03 14:10:45 -0400] neadamthal: must just be that hte server does not run on win7 eh?
[2012-04-03 14:10:47 -0400] dyer: sampikesley, really?
[2012-04-03 14:10:52 -0400] dyer: That sucks
[2012-04-03 14:15:01 -0400] dyer: sampikesley, is there a ticket on that somehwere?
[2012-04-03 14:15:09 -0400] dyer: I am not seeing anything on tickets.opscode
[2012-04-03 14:15:19 -0400] frank_: if I want to create a knife plugin to talk to my cloud, and support for it's API isn't yet in fog, I am better off just skipping fog, right?
[2012-04-03 14:17:44 -0400] yfeldblum_: frank_, you can either contribute to fog or you can probably stick adding support for your cloud in a gem or in a knife plugin ... however fog has some good abstractions that would be good to reuse if you can
[2012-04-03 14:19:04 -0400] BryanWB: fog is joy
[2012-04-03 14:19:28 -0400] dyer: So where does it say that cookbook versions higher then 10 are not allowed?
[2012-04-03 14:19:40 -0400] dyer: not that I don't believe you sampikesley , but I am not seeing it on the version constraints page
[2012-04-03 14:19:53 -0400] dyer: http://wiki.opscode.com/display/chef/Version+Constraints
[2012-04-03 14:23:55 -0400] sampikesley: dyer: reduce it below 10 (leaving ither things unchanged), try it again
[2012-04-03 14:24:06 -0400] sampikesley: see if it works
[2012-04-03 14:24:22 -0400] sampikesley: empiricism over documentation
[2012-04-03 14:24:34 -0400] dyer: ok, but is this a bug or a design issue ?
[2012-04-03 14:26:58 -0400] sampikesley: I think it's a conscious decision
[2012-04-03 14:27:35 -0400] dyer: ok, I am going to open a bug ticket on it
[2012-04-03 14:28:47 -0400] ssd7_: dyer: Do you also get a 404 for somethign like: knife cookbook show NAME VERSION
[2012-04-03 14:29:14 -0400] dyer: no
[2012-04-03 14:29:16 -0400] dyer: I do not
[2012-04-03 14:29:40 -0400] sampikesley: this strikes me as bikeshedding
[2012-04-03 14:29:48 -0400] ssd7_: sampikesley: ?
[2012-04-03 14:30:17 -0400] ssd7_: dyer: so is the problem only in the WebUI or do your runs fail?
[2012-04-03 14:30:27 -0400] dyer: webui and runs
[2012-04-03 14:31:11 -0400] dyer: ssd7_ -> https://gist.github.com/2292445
[2012-04-03 14:32:29 -0400] specialsauce: afternoon all. i was asking yesterday about the possibility of having an environment define a set of override attributes and inheriting default attributes from another environment (to avoid uncessary duplication). I was pointed at role-based attributes but I cannot use this solution, so I'm back to my original question
[2012-04-03 14:32:56 -0400] specialsauce: Can anyone think of a way to do this? I have tried a couple of approached using raw ruby includes etc but failed
[2012-04-03 14:33:44 -0400] sampikesley: you can do this with roles
[2012-04-03 14:33:51 -0400] sampikesley: make a base role per environment
[2012-04-03 14:34:05 -0400] specialsauce: afternoon sampikesley, yes we talked about this yesterday, but it turns out i can't easily do that
[2012-04-03 14:35:17 -0400] specialsauce: because the default set of attributes i want to inherit needs to be at the environment level
[2012-04-03 14:35:29 -0400] specialsauce: the reason for that is that I want it to haev awareness of environment
[2012-04-03 14:35:43 -0400] specialsauce: so that it can use an "@envname" var to populate certain values
[2012-04-03 14:39:00 -0400] dyer: ssd7_, any thoughts ?
[2012-04-03 14:39:26 -0400] dyer: should I just get that into a ticket ?
[2012-04-03 14:42:58 -0400] ssd7_: dyer: So what calls are actually creating 404s?
[2012-04-03 14:43:15 -0400] hones: ssd7_: It's sean. There is a acct error email in our inbox about the password reset problem you are looking at now.
[2012-04-03 14:44:01 -0400] hones: ssd7_: Splunk says:   400 Credentials cannot have both a certificate and public key
[2012-04-03 14:44:08 -0400] dyer: ssd7_, for example, I saw it in the UI when I went to server/cookbooks/prism/11.5.0
[2012-04-03 14:44:09 -0400] ssd7_: hones: PM me
[2012-04-03 14:44:22 -0400] dyer: during the run it happened when downloading as well
[2012-04-03 14:45:18 -0400] ssd7_: Ahh.  So if you wget one of those urls that you got using knife node show, do you also get the 404 then?
[2012-04-03 14:47:20 -0400] dyer: yes
[2012-04-03 14:50:43 -0400] ssd7_: dyer: hrm.  Well I thought it might just be a regexp error in the controller, but I'm not seeing anything obvious
[2012-04-03 14:51:41 -0400] ssd7_: hones: Still having trouble with HipChat?
[2012-04-03 14:54:08 -0400] dyer: hrm, have you tried creating a cookbook w/ version >10.x  ?
[2012-04-03 14:56:05 -0400] ssd7_: dyer: Only on hosted chef, and it seemed to work fine (I can download files, for instance).  Spinning up a open source server, but that may take a while, If you can definitely reproduce this simply by bumping version numbers, I would say file a bug
[2012-04-03 14:56:17 -0400] dyer: ok, I'll take care of it
[2012-04-03 14:56:23 -0400] dyer: what logs should I post?
[2012-04-03 14:56:31 -0400] dyer: for example, anything form the chef server ?
[2012-04-03 14:56:40 -0400] dyer: or would client logs be enough ?
[2012-04-03 14:56:53 -0400] ssd7_: If you have the server log from the 404, that would be great
[2012-04-03 14:57:57 -0400] proffalken: dyer, ssd7_ : the issue is with chef-server-api/config/router.rb line 94
[2012-04-03 14:58:03 -0400] proffalken: we found and fixed this the other day
[2012-04-03 14:58:13 -0400] proffalken: haven't had a chance to fork and issue a pull request yet
[2012-04-03 14:58:33 -0400] proffalken: needs to change from :cookbook_version => /(\d+\.\d+\.\d+|_latest)/
[2012-04-03 14:58:41 -0400] proffalken: to :cookbook_version => /(\d+\.\d+\.\d+|_latest)/
[2012-04-03 14:58:58 -0400] proffalken: )
[2012-04-03 14:59:35 -0400] hones: ssd7: Well, Adobe Air. Trying to downgrade now.
[2012-04-03 15:02:41 -0400] proffalken: sorry, it's line 95
[2012-04-03 15:02:52 -0400] proffalken: https://github.com/opscode/chef/blob/master/chef-server-api/config/router.rb#L95
[2012-04-03 15:03:06 -0400] proffalken: it should match https://github.com/opscode/chef/blob/master/chef-server-api/config/router.rb#L85
[2012-04-03 15:03:34 -0400] nico: drop the parenthesis ?
[2012-04-03 15:03:38 -0400] ssd7_: proffalken: Ahhh
[2012-04-03 15:04:06 -0400] proffalken: looks like the pattern was updated in two of the three places it needed to be
[2012-04-03 15:17:43 -0400] afallows: Can I have a longer block of code in a not_if clause? Suppose I want to use temporary variables to fetch some info before I compare it, to make the whole thing more readable. Can I do not_if { a = function1(); b = function2(); a == b } or something like it?
[2012-04-03 15:18:34 -0400] BryanWB: proffalken: did u make or find a plugin for switching b/w different chef servers?
[2012-04-03 15:19:01 -0400] BryanWB: proffalken: i have an assistant now and want to make it easy for him to switch b/w our dev and prod chef servers
[2012-04-03 15:22:28 -0400] sascha_d: I'm reading some of the documentation from the community cookbooks and they are referencing setting things in the node's "run_state"
[2012-04-03 15:22:49 -0400] proffalken: BryanWB: yup - written and released: https://github.com/greenandsecure/knife-block
[2012-04-03 15:22:52 -0400] proffalken: :D
[2012-04-03 15:22:55 -0400] meyben: Hey, it's my first foray into vagrant + chef. I downloaded the apache2 recipe from the opscode community site. I setup a simple Vagrant file and ran 'vagrant reload'. I'm getting this error: FATAL: Chef::Exceptions::Exec: package[apache2] (apache2::default line 20) had an error: apt-get -q -y install apache2=2.2.14-5ubuntu8.4 returned 100, expected 0 ... Thoughts?
[2012-04-03 15:22:56 -0400] proffalken: Feedback welcome
[2012-04-03 15:23:03 -0400] sascha_d: can someone comment on if this is something that only works with a chef server in the mix or can you point me to relevant code on github where I can read it?
[2012-04-03 15:23:04 -0400] BryanWB: proffalken: will do, tks
[2012-04-03 15:23:26 -0400] BryanWB: sascha_d: i bet it works w/out chefserver but am not sure
[2012-04-03 15:23:30 -0400] sampikesley: meyben: you might need to do apt-get update first
[2012-04-03 15:23:44 -0400] |shad0w|: sascha_d, it should work without chef-server. run_state is temp space that isn't save to the node
[2012-04-03 15:23:48 -0400] sascha_d: BryanWB I have a windows_reboot that isn't triggering and I'm trying to figure out why
[2012-04-03 15:24:08 -0400] meyben: sampikesley: on the guest?
[2012-04-03 15:24:09 -0400] |shad0w|: most cookbooks use it to persist info between recipes/cookbooks
[2012-04-03 15:24:12 -0400] sascha_d: reading the windows_reboot code, I see it's writing to the run_state so I'm trying to figure it out
[2012-04-03 15:24:18 -0400] |shad0w|: s/save/saved/
[2012-04-03 15:24:25 -0400] afallows: proffalken: knife-block == rvm for knife?
[2012-04-03 15:24:46 -0400] afallows: (loosely, anyway)
[2012-04-03 15:25:52 -0400] proffalken: afallows: now, it allows you to have multiple knife.rb files and switch between them
[2012-04-03 15:25:59 -0400] proffalken: hmmm
[2012-04-03 15:26:06 -0400] proffalken: actually, maybe it is a little bit...
[2012-04-03 15:26:37 -0400] cwj: seems that knife-block requires ruby 1.9.x since Dir.home is not implemented in 1.8.7
[2012-04-03 15:27:04 -0400] sampikesley: meyben: yes
[2012-04-03 15:27:07 -0400] meyben: sampikesley: running apt-get update on the guest made it work.
[2012-04-03 15:27:09 -0400] proffalken: cwj: ah, yeah, probably
[2012-04-03 15:27:12 -0400] sampikesley: yurp
[2012-04-03 15:27:20 -0400] sampikesley: use the apt cookbook
[2012-04-03 15:27:21 -0400] cwj: proffalken: maybe worth mentioning in the readme
[2012-04-03 15:27:26 -0400] proffalken: o, thanks
[2012-04-03 15:27:29 -0400] meyben: sampikesley: Can you explain why I needed that?
[2012-04-03 15:27:31 -0400] meyben: sampikesley: k, thanks
[2012-04-03 15:27:37 -0400] cwj: i will patch my local version and see if thats the only problem i find
[2012-04-03 15:27:52 -0400] cwj: because i think using File.expand_path("~") will work for everyone
[2012-04-03 15:28:00 -0400] cwj: well, maybe not windows
[2012-04-03 15:28:04 -0400] BryanWB: sascha_d: i would try  require 'pry'; binding.pry; to drop into a debugger, provided that pry works on windows, which i don't know
[2012-04-03 15:28:37 -0400] sascha_d: :D
[2012-04-03 15:28:45 -0400] proffalken: cwj: patches and issue reports welcome on GH... :D
[2012-04-03 15:28:53 -0400] hoover_damm: File.expand_path("~") does bad on windows
[2012-04-03 15:28:53 -0400] cwj: proffalken: sure thing :)
[2012-04-03 15:28:57 -0400] hoover_damm: as HOME isn't set I bet
[2012-04-03 15:29:03 -0400] cwj: hoover_damm: yeah probably so
[2012-04-03 15:29:09 -0400] hoover_damm: not anything new
[2012-04-03 15:29:16 -0400] hoover_damm: to me
[2012-04-03 15:29:31 -0400] lxhunter: hey all, how can i access the run_list of a role within a recipe? this does not work base = search("role","name:base") base["run_list"] I googled a lot but have not found any solution
[2012-04-03 15:31:40 -0400] hoover_damm: lxhunter, http://wiki.opscode.com/display/chef/Search
[2012-04-03 15:32:04 -0400] hoover_damm: lxhunter, the answer is there if you search for run_list
[2012-04-03 15:32:05 -0400] hoover_damm: i promise
[2012-04-03 15:32:08 -0400] hoover_damm: and it works
[2012-04-03 15:33:05 -0400] lxhunter: hoover_damm, thats not what i need, i know i can search for an specific recipe, but i want a list of all recipe in that role aka the run_list
[2012-04-03 15:34:27 -0400] hoover_damm: the run_list for a role?
[2012-04-03 15:34:31 -0400] lxhunter: si
[2012-04-03 15:35:09 -0400] hoover_damm: not sure on that
[2012-04-03 15:35:27 -0400] hoover_damm: i'm sure you can grab the role and then print out the run_list just don't know off the top
[2012-04-03 15:35:27 -0400] lxhunter: yep, that is what the google search got me :)
[2012-04-03 15:36:19 -0400] lxhunter: does that help: @run_list_items=[#<Chef::RunList::RunListItem:0x7fcca2820598 @type=:recipe, @name="rc", @version=nil>, #<Chef::RunList::RunListItem:0x7fcca2820570 @type=:recipe, @name="apt::repository", @version=nil>
[2012-04-03 15:36:30 -0400] lxhunter: and so on?
[2012-04-03 15:36:38 -0400] lxhunter: i am a ruby noob
[2012-04-03 15:36:54 -0400] lxhunter: but i know it is a object var, i need to access
[2012-04-03 15:38:41 -0400] hoover_damm: lxhunter, i'm not sure i'm really on the right page here but you can query the chef server
[2012-04-03 15:38:48 -0400] hoover_damm: chef_server_rest.get_rest("roles")
[2012-04-03 15:38:50 -0400] hoover_damm: in shef
[2012-04-03 15:38:58 -0400] hoover_damm: lxhunter, https://github.com/opscode/chef/blob/master/chef/lib/chef/role.rb#L83
[2012-04-03 15:39:03 -0400] hoover_damm: for how to define chef_server_rest
[2012-04-03 15:41:50 -0400] lxhunter: i actually got an object when i do search("role","name:base")
[2012-04-03 15:41:52 -0400] lxhunter: git://gist.github.com/2293012.git
[2012-04-03 15:42:01 -0400] lxhunter: sry https://gist.github.com/2293012
[2012-04-03 15:44:40 -0400] hoover_damm: so you are happy then?
[2012-04-03 15:44:44 -0400] hoover_damm: or that doesn't work?
[2012-04-03 15:45:23 -0400] lxhunter: i do not know how to access @run_list_items
[2012-04-03 15:45:32 -0400] lxhunter: becuz i am a ruby noob
[2012-04-03 15:45:55 -0400] lxhunter: it does not work via role['run_list_items']
[2012-04-03 15:46:09 -0400] lxhunter: i am already ready the crash course
[2012-04-03 15:48:13 -0400] hoover_damm: heh
[2012-04-03 15:48:15 -0400] hoover_damm: welcome to crash course
[2012-04-03 15:48:41 -0400] lxhunter: ups s/ready/reading/
[2012-04-03 15:50:52 -0400] hoover_damm: lxhunter, what are you actually trying to do?
[2012-04-03 15:50:58 -0400] hoover_damm: check to see if a role includes a certain recipe?
[2012-04-03 15:51:53 -0400] lxhunter: i am writing a recipe which gets the runlist of a role and checks for every recipe if there is a command and then configures nagios
[2012-04-03 15:52:18 -0400] lxhunter: so that i can configure everything via databags
[2012-04-03 15:52:43 -0400] lxhunter: add a service to the databag services and it will be picked up by the nodes
[2012-04-03 15:53:34 -0400] hoover_damm: lxhunter, so you should just need the run_list
[2012-04-03 15:53:35 -0400] hoover_damm: expanded
[2012-04-03 15:53:42 -0400] lxhunter: si
[2012-04-03 15:55:18 -0400] hoover_damm: lxhunter, node.recipes
[2012-04-03 15:55:39 -0400] hoover_damm: it's an array
[2012-04-03 15:55:56 -0400] lxhunter: yeah i found that for services per host
[2012-04-03 15:56:10 -0400] hoover_damm: provided the role is applied to the instance
[2012-04-03 15:56:12 -0400] hoover_damm: it'll have it
[2012-04-03 15:56:21 -0400] hoover_damm: now if you want to actually look at the roles on the server and not applied
[2012-04-03 15:56:27 -0400] hoover_damm: you may have to actually query chef to get that
[2012-04-03 15:56:30 -0400] lxhunter: but the services per role would be nice for service groups, as webserver checls
[2012-04-03 15:56:34 -0400] lxhunter: checks
[2012-04-03 15:56:52 -0400] hoover_damm: kind of back up to where i mentioned about chef_server_rest
[2012-04-03 15:57:08 -0400] hoover_damm: that little method with a little work should be able to get what you want
[2012-04-03 15:57:29 -0400] lxhunter: yeah that could work, will try that, thank you very much for your effort!
[2012-04-03 15:57:50 -0400] dajia: Hey, all.  Does anyone know how I can check for the value of http_proxy in client.rb from within a recipe?
[2012-04-03 15:57:53 -0400] hoover_damm: lxhunter, I tested it with my hosted chef account and it does get the runlist... it's just a bit deep
[2012-04-03 15:58:04 -0400] jberanek: I was working with a library within one of my cookbooks, adding a function to Chef::Recipe. I tried to use the function to build the command attribute of an Execute resource, and Chef attempted to execute the function from the Chef::Resource::Execute context. My question, is this expected behavior of using library functions in resources, or a bug?
[2012-04-03 15:59:57 -0400] spyvsspy: is there a chef recipe to reboot a machine?
[2012-04-03 16:00:36 -0400] dajia: I need to know within a cookbook whether to use Net::HTTP or Net::HTTP::Proxy in some Ruby code.
[2012-04-03 16:01:10 -0400] dajia: To do that, I need to check for http_proxy in client.rb, which is in use in one of our datacenters, but not the others.
[2012-04-03 16:01:42 -0400] dajia: There should be an easy way to read values from client.rb, yes?
[2012-04-03 16:28:45 -0400] dajia: Anyone?
[2012-04-03 16:30:24 -0400] jberanek: dajia: I saw an example of what you are looking for recently, but can't recall where. Trying to do a quick search for it now
[2012-04-03 16:37:55 -0400] gsat: Hi knife/ruby gurus, How do i set/unset attributes using knife exec command. can you pl provide an example to set "pkg_name" attribute for "node:abc" using knife exec,
[2012-04-03 16:40:50 -0400] paulmooring: dajia Chef::Config[:http_proxy]
[2012-04-03 16:42:17 -0400] hoover_damm: or ENV["HTTP_PROXY"]
[2012-04-03 16:42:26 -0400] hoover_damm: could/should
[2012-04-03 16:42:49 -0400] miah: moin
[2012-04-03 16:43:02 -0400] paulmooring: I would recommend having a datacenter attribute and referencing that instead though
[2012-04-03 16:43:09 -0400] paulmooring: hi miah
[2012-04-03 16:43:55 -0400] paulmooring: hoover_damm: wouldn't that check the environmental variable rather than client.rb?
[2012-04-03 16:46:03 -0400] paulmooring: gsat: any reason you wouldn't just use 'knife node edit abc' and edit the attributes there?
[2012-04-03 16:46:49 -0400] hoover_damm: paulmooring, well it should be set in both places
[2012-04-03 16:46:52 -0400] hoover_damm: in order for it to work right
[2012-04-03 16:47:09 -0400] hoover_damm: paulmooring, no reason to proxy chef-client and not rubygems or wget or other crud
[2012-04-03 16:47:16 -0400] hoover_damm: paulmooring, so both should ideally be set to the same thing
[2012-04-03 16:48:06 -0400] paulmooring: hoover_damm: I only asked cause I've had networks where some services went through a proxy, but not all http traffic did
[2012-04-03 16:48:06 -0400] dajia: Back.  Stupid VPN.
[2012-04-03 16:48:28 -0400] gsat: Paulmooring, basic i want to do it through a script, "node edit" will drop to EDITOR.
[2012-04-03 16:48:31 -0400] paulmooring: dajia Chef::Config[:http_proxy]
[2012-04-03 16:48:40 -0400] paulmooring: I would recommend having a datacenter attribute and referencing that instead though
[2012-04-03 16:48:46 -0400] dajia: Cool!  Thanks!
[2012-04-03 16:49:26 -0400] cwj: gsat: here's a script i wrote for setting a particular attribute via knife exec https://gist.github.com/2293568
[2012-04-03 16:49:40 -0400] dajia: I could do that, but I'd have to maintain it in both places.  I have to set http_proxy during the bootsrap for the node to even reach the chef server.
[2012-04-03 16:50:45 -0400] paulmooring: dajia: that makes sense then, I just recommend the attribute, because it's more generic/re-usable, but the other way should work
[2012-04-03 16:54:30 -0400] gsat: cwj:Thanks , i will check , can you pl show a one liner to do set "pkg_name" attribute  on a "node:abc" , just want to try it oot on my node.
[2012-04-03 16:55:02 -0400] hoover_damm: paulmooring, and in that case you wouldn't want both et the same
[2012-04-03 16:55:04 -0400] cwj: i don't have a oneliner, im sure one can be distill from the script though
[2012-04-03 16:55:19 -0400] hoover_damm: paulmooring, so you would set http_proxy in Chef::Config but not the other I suppose
[2012-04-03 16:55:31 -0400] paulmooring: hoover_damm: exactly
[2012-04-03 16:55:42 -0400] dajia: Yeah.
[2012-04-03 16:56:39 -0400] hoover_damm: paulmooring, but doesn't Chef::Config[:http_proxy] set the other?
[2012-04-03 16:56:41 -0400] hoover_damm: i would imagine it does
[2012-04-03 16:57:37 -0400] paulmooring: I wouldn't think so
[2012-04-03 16:57:53 -0400] paulmooring: unless something in the run_list does so
[2012-04-03 16:58:24 -0400] dajia: Going to set that up in a bit.  Is there anything special I need to do to readh Chef::Config[:http_proxy], or can I read it like any other attribute?
[2012-04-03 16:59:34 -0400] paulmooring: dajia: Chef::Config can be treated sort of like a hash that has all the config options
[2012-04-03 16:59:42 -0400] paulmooring: so you should just be able to use it
[2012-04-03 17:07:40 -0400] tortoise_: Hey, I apologize for my vague understanding of Chef and Ruby DSL, but I wanted to ask if there was a way to stipulate LINK only to attempt a link IF that link doesnt already exist.. chef-client is breaking when trying to createa  symlink to a folder that is already created and im looking for a work around and open to suggestions
[2012-04-03 17:08:34 -0400] |shad0w|: you could do a not_if and test for existence
[2012-04-03 17:08:54 -0400] |shad0w|: but its complaining because you want a link and the target exists and is not a link
[2012-04-03 17:09:04 -0400] |shad0w|: i would like a force on the link resource though ...
[2012-04-03 17:16:30 -0400] jordan_c: Hey BryanWB, not sure if you're around, but I'm having an issue running your tomcat cookbook
[2012-04-03 17:17:58 -0400] jtgiri_: Hello,
[2012-04-03 17:18:28 -0400] jtgiri_: I wanted to find out the best way to install EPEL on Centos using chef
[2012-04-03 17:19:00 -0400] paulmooring: jtgiri_: There's a yumrepo cookbook that should handle that for you
[2012-04-03 17:19:16 -0400] paulmooring: with a yumrepo::epel recipe if I remember correctly
[2012-04-03 17:19:43 -0400] jtgiri_: how cool! thank you!
[2012-04-03 17:19:44 -0400] jordan_c: is yumrepo prefered over just yum?
[2012-04-03 17:21:20 -0400] paulmooring: jordan_c: no, it's not I don't think yum has epel built in though
[2012-04-03 17:22:08 -0400] Hush: jtgiri what version of centos?
[2012-04-03 17:22:13 -0400] jtgiri_: 5.5
[2012-04-03 17:22:24 -0400] Hush: heh I just did that last week one sec
[2012-04-03 17:22:53 -0400] jtimberman: yum cookbook has both epel and ius recipes
[2012-04-03 17:23:06 -0400] jtimberman: and provides the "yum_repository" LWRP
[2012-04-03 17:23:50 -0400] paulmooring: jtgiri_: ^ do that
[2012-04-03 17:24:41 -0400] jtgiri_: Cool thanks
[2012-04-03 17:26:40 -0400] erratic: is there a cookbook or some such thing that I could use for issuing a command to be run *once* on a group of servers?
[2012-04-03 17:27:13 -0400] tortoise_: |shadow| well the issue is rthat i have right now, link "dir" do to "destination" where would I put the not_if conditional?
[2012-04-03 17:27:24 -0400] ssd7_: erratic: For simple commands knife ssh can be effective for that
[2012-04-03 17:27:33 -0400] erratic: oh nice!
[2012-04-03 17:27:48 -0400] erratic: ty ssd7
[2012-04-03 17:28:08 -0400] Hush: can use wildcards aswell with knife ssh
[2012-04-03 17:28:23 -0400] Hush: which makes it <3 my favorite command evah
[2012-04-03 17:28:58 -0400] |shad0w|: tortoise_, put it in the link resource
[2012-04-03 17:42:25 -0400] gsat: paulmooring:"I would recommend having a datacenter attribute and referencing that instead though", can pl explain, i have an attribute setup, I want to change/update that attribute from a script, before a chef-client run, how do i do it programatically?
[2012-04-03 17:43:16 -0400] paulmooring: gsat: does the node already exist and you want to change the attribute?
[2012-04-03 17:43:26 -0400] gsat: Yes.
[2012-04-03 17:44:52 -0400] gsat: paulmooring: node exists , attribut is set to a value, dynamically i want to change that value,
[2012-04-03 17:46:14 -0400] gsat: paulmooring: can you pl suggest a way to update/change a attribute value
[2012-04-03 17:46:18 -0400] tortoise_: |shad0w|, ahh so within the link "dir" do etc...
[2012-04-03 17:46:19 -0400] tortoise_: gotcha
[2012-04-03 17:49:17 -0400] jdeamattson: For a gem installed chef, is there a way to specify the ruby it should use? The latest Amazon Linux images allow you to install Ruby 1.9.3 easily, but it is installed at /usr/bin/ruby1.9 vs. /usr/bin/ruby
[2012-04-03 17:53:57 -0400] |shad0w|: tortoise_, yeah
[2012-04-03 17:59:49 -0400] dajia: paulmooring: thanks for your help.
[2012-04-03 18:01:19 -0400] |shad0w|: jdeamattson, is there a gem1.9 ?
[2012-04-03 18:01:43 -0400] jdeamattson: Appears to be there|shad0w|
[2012-04-03 18:05:02 -0400] |shad0w|: then install it using that and it should do the right thing
[2012-04-03 18:11:18 -0400] hoover_damm: jdeamattson, hrm, if you uninstall ruby 1.8? does it still have /usr/bin/ruby pointing to 1.8?
[2012-04-03 18:11:32 -0400] hoover_damm: jdeamattson, on Ubuntu the 'alternatives' system sets up the ruby symlinks based on what rubies you have installed
[2012-04-03 18:11:59 -0400] hoover_damm: jdeamattson, so my 1.9.3 deb installs as 1.9 suffix, and alternatives doesn't activate it if ruby 1.8 is installed
[2012-04-03 18:12:11 -0400] hoover_damm: jdeamattson, if ruby 1.9 is only installed, and i install the deb, gem has the right symlink and ruby, etc
[2012-04-03 18:15:07 -0400] dstorrs: hi all.  Is there a knife plugin for the NephoScale cloud?  Does anyone here host on NS?
[2012-04-03 18:22:45 -0400] dajia: I've never heard of NephoScale
[2012-04-03 18:24:34 -0400] dstorrs: they are fairly new.  The head guy, Telemachus Luu, used to be at (run?) ServePath and then he struck out on his own.
[2012-04-03 18:24:44 -0400] dstorrs: http://nephoscale.com
[2012-04-03 18:25:16 -0400] hoover_damm: dstorrs, http://www.nephoscale.com/cloudscript
[2012-04-03 18:25:44 -0400] dstorrs: hoover_damm: yeah, I looked at it, but it's woefully underdocumented  :<
[2012-04-03 18:25:57 -0400] dstorrs: I've got a ticket in to them asking if there is more detail anywhere
[2012-04-03 18:26:03 -0400] hoover_damm: dstorrs, chef uses fog for it's driving
[2012-04-03 18:26:08 -0400] hoover_damm: dstorrs, and it doesn't look like fog supports it
[2012-04-03 18:26:17 -0400] dstorrs: well, crap
[2012-04-03 18:26:19 -0400] hoover_damm: dstorrs, talked to geemus about getting it added to fog?
[2012-04-03 18:26:35 -0400] dstorrs: who is geemus?
[2012-04-03 18:26:40 -0400] hoover_damm: author of fog
[2012-04-03 18:26:56 -0400] hoover_damm: https://github.com/fog/fog
[2012-04-03 18:27:34 -0400] dstorrs: got it.
[2012-04-03 18:27:37 -0400] dstorrs: I'll talk to him.
[2012-04-03 18:27:51 -0400] dstorrs: or else I'll add it myself if I can shake loose the tuits
[2012-04-03 18:27:53 -0400] hoover_damm: he's usually in irc, friendly dude
[2012-04-03 18:27:59 -0400] hoover_damm: good luck
[2012-04-03 18:28:07 -0400] dstorrs: #fog ?
[2012-04-03 18:28:19 -0400] dstorrs: rather, #fog here on freenode?
[2012-04-03 18:28:22 -0400] hoover_damm: no
[2012-04-03 18:28:24 -0400] hoover_damm: #ruby-fog
[2012-04-03 18:29:15 -0400] dstorrs: cool, thank you.
[2012-04-03 18:29:55 -0400] hoover_damm: and their api page, has pretty decent examples
[2012-04-03 18:30:00 -0400] hoover_damm: https://kb.nephoscale.com/api/doc/api/compute/quickstart.html
[2012-04-03 18:32:04 -0400] dstorrs: d'oh.  I know I've read that page before, but when I was reading up on CloudScript today I didn't remember it so all I saw was the quickstart under CloudScript itself.
[2012-04-03 18:32:14 -0400] dstorrs: should have looked further.
[2012-04-03 18:32:20 -0400] dstorrs: Thanks, hoover_damm
[2012-04-03 18:32:57 -0400] patcon: hey guys! anyone know offhand how best to access chef's run_list within a recipe?
[2012-04-03 18:34:20 -0400] jdeamattson: hoover_damm: Yes, if you uninstall Ruby 1.8, /usr/bin/ruby is dead.
[2012-04-03 18:34:24 -0400] jordan_c: patcon: I've used a ruby block and node.run_list.
[2012-04-03 18:34:49 -0400] jordan_c: not sure if it's the best way though
[2012-04-03 18:35:22 -0400] patcon: nice! i forgot it was in the node object. thanks jordan_c :)
[2012-04-03 18:48:30 -0400] afallows: Question about using backtick system calls in a chef recipe: Do these get interpreted out of order? That is, is there an earlier step for interpreting those before the whole recipe is run?
[2012-04-03 18:52:00 -0400] hoover_damm: afallows, they might get ran at compile time
[2012-04-03 18:52:15 -0400] hoover_damm: afallows, generally you should not `swap out` and use ShellOut instead
[2012-04-03 18:52:20 -0400] hoover_damm: or the execute/bash/script resource
[2012-04-03 18:55:29 -0400] afallows: hoover_dam: Thanks for the tip. I am using the execute resource as well, but I'm using backtick commands to pull information in between resource blocks and test whether a block needs to be run. I was doing that because I thought it would make the code shorter and cleaner. But if they get executed at compile time, I'll have to do things another way.
[2012-04-03 18:58:52 -0400] hoover_damm: i've seen it in the past afallows not sure if it does currently
[2012-04-03 18:58:53 -0400] hoover_damm: as i don't use them
[2012-04-03 19:17:51 -0400] tortoise_: what kind of open training does opscode have for us seattlites?
[2012-04-03 19:18:00 -0400] tortoise_: any free like opscode groups? :)
[2012-04-03 19:18:41 -0400] dysinger: Can someone point me to the new community cookbooks git repos ?
[2012-04-03 19:18:53 -0400] dysinger: I know Joshua was splitting them up
[2012-04-03 19:20:27 -0400] hcastro: dysinger: https://github.com/opscode-cookbooks
[2012-04-03 19:20:53 -0400] dysinger: thnx hcastro
[2012-04-03 19:47:16 -0400] hoover_damm: tortoise_, there's a devops meetup at Opscode hq once a month?
[2012-04-03 19:47:17 -0400] hoover_damm: or twice?
[2012-04-03 19:47:18 -0400] hoover_damm: i forget
[2012-04-03 19:47:23 -0400] hoover_damm: nwcloud hosts it
[2012-04-03 19:47:55 -0400] hoover_damm: http://seadevops201204-eorgf.eventbrite.com/
[2012-04-03 19:47:59 -0400] hoover_damm: looks like the event for it
[2012-04-03 19:49:00 -0400] c_t: you in Seattle, hoover_damm?
[2012-04-03 19:49:23 -0400] hoover_damm: i don't make it easy
[2012-04-03 19:49:25 -0400] hoover_damm: tld ends in .dk
[2012-04-03 19:49:32 -0400] hoover_damm: so unless you ask, you can't be sure
[2012-04-03 19:50:19 -0400] c_t: indeed
[2012-04-03 19:50:57 -0400] c_t: There've been times where I just told people I was from Seattle rather than try to explain where I actually lived
[2012-04-03 19:51:04 -0400] c_t: did that more when I lived in Olympia, though
[2012-04-03 19:51:14 -0400] c_t: more people seem to have heard of Tacoma
[2012-04-03 19:51:37 -0400] hoover_damm: heh, do you live on Vashon island or something?
[2012-04-03 19:51:45 -0400] c_t: nope, Tacoma
[2012-04-03 19:51:56 -0400] c_t: like, within the city itself
[2012-04-03 19:51:56 -0400] hoover_damm: well that should be easy no?
[2012-04-03 19:52:01 -0400] hoover_damm: right, still easy
[2012-04-03 19:52:01 -0400] c_t: yeah
[2012-04-03 19:52:15 -0400] c_t: when I lived in Olympia, though, very often people had never heard of it
[2012-04-03 19:52:16 -0400] hoover_damm: tell them to just open their noses and they can't miss tacoma
[2012-04-03 19:52:20 -0400] hoover_damm: :(
[2012-04-03 19:52:28 -0400] c_t: so sometimes I just made it easy and said "Seattle"
[2012-04-03 19:52:30 -0400] afallows: Do resource blocks in recipes return values?
[2012-04-03 19:52:50 -0400] hoover_damm: generally yep
[2012-04-03 19:53:09 -0400] hoover_damm: hard to miss
[2012-04-03 19:54:50 -0400] Brad_K: so, the rule is that anyone who lives within 500 miles of Seattle, actually lives in Seattle?  Just like LA, NYC, and Dallas?  ;-)
[2012-04-03 19:55:41 -0400] hoover_damm: Brad_K, c_t falls outside of the Seattle Metro area by default
[2012-04-03 19:55:45 -0400] hoover_damm: Bardbut generally yep
[2012-04-03 19:56:02 -0400] hoover_damm: it's just much easier for him to explain seattle even though it's a 45minute drive at best
[2012-04-03 19:56:19 -0400] hoover_damm: because even though Tacoma has tons of paper mills and is famous for the Tacoma Aroma
[2012-04-03 19:56:20 -0400] Brad_K: bardbut?  i've been called lardbutt before, but bardbut is a new one on me.  ;-)
[2012-04-03 19:56:25 -0400] hoover_damm: they'll hear about Seattle first
[2012-04-03 19:56:34 -0400] hoover_damm: irony
[2012-04-03 19:56:53 -0400] hoover_damm: haha
[2012-04-03 19:56:57 -0400] hoover_damm: bad typing
[2012-04-03 19:57:05 -0400] hoover_damm: Brad_K, I meant to type brad and then tab... neat how that came out
[2012-04-03 19:57:17 -0400] jtimberman: tortoise_: we have a class coming up in June. http://www.eventbrite.com/event/3202002275/eorg
[2012-04-03 19:57:48 -0400] hoover_damm: that's a cheap class
[2012-04-03 19:58:20 -0400] Brad_K: my brother-in-law technically lived in LA, but was on the other side of the mountains.  it was one-and-a-half hours to commute to/from work, one-way.  and that's on a perfect day.  sometimes it could be three or six hours, one-way.  eighteen miles, but more than an hour.
[2012-04-03 19:59:43 -0400] Brad_K: the chef fundamentals class course contents are freely available.  but having tried to teach a tutorial based on that material, i can tell you that it is well worth spending real money to get the material presented to you by someone who knows what they're doing.
[2012-04-03 20:00:50 -0400] Brad_K: i wish i could give refunds.  ;-(
[2012-04-03 20:01:09 -0400] hoover_damm: Brad_K, I tried teaching a few times and the problem I found is that without the class material to have them follow along
[2012-04-03 20:01:15 -0400] hoover_damm: they ran off and did their own thing
[2012-04-03 20:01:17 -0400] hoover_damm: and yeah
[2012-04-03 20:02:15 -0400] hoover_damm: Brad_K, i've taken my hand at mentoring with one of my clients
[2012-04-03 20:02:26 -0400] hoover_damm: and i've just taken the pure pair mentor approach to teaching chef
[2012-04-03 20:02:37 -0400] hoover_damm: Brad_K, alot more fun, lots of learning, and they get it better
[2012-04-03 20:03:22 -0400] hoover_damm: give it another month and the client will have everything documented with a cookbook style guide of their own and whatnot
[2012-04-03 20:03:40 -0400] hoover_damm: we avoided testing due to rackspace and the ease of manual testing with the right mindset
[2012-04-03 20:04:15 -0400] hoover_damm: I don't know how I can teach cookbook testing without teaching people to look and deal with regressions well
[2012-04-03 20:04:22 -0400] hoover_damm: and not end up rewriting the world over a small regression
[2012-04-03 20:04:45 -0400] rocket: where would I find the dependancy in the chef source code for a specific version of net-ssh?
[2012-04-03 20:06:25 -0400] hoover_damm: i'm kind of torn on doing uml models for the client of their runlist
[2012-04-03 20:06:30 -0400] hoover_damm: to show order and dependency
[2012-04-03 20:06:35 -0400] hoover_damm: part of me thinks it's perfect and I should
[2012-04-03 20:06:44 -0400] hoover_damm: the other part of me goes 'gosh that's a lot to bite off'
[2012-04-03 20:08:17 -0400] patcon: jordan_c: I don't suppose you've run into the issue of getting the expanded run_list? seems node.run_list is only the explicit one (ie. perhaps just a role)
[2012-04-03 20:11:21 -0400] krobertson: anyone else being bitten by oracle today with the java cookbook?
[2012-04-03 20:11:39 -0400] Brad_K: krobertson: yeah, that issue has been reported on twitter.
[2012-04-03 20:11:49 -0400] krobertson: fun
[2012-04-03 20:12:18 -0400] krobertson: just going to grab the package off another box and throw it on S3, then wait for Oracle to sue me
[2012-04-03 20:13:44 -0400] chip-: What's up with Oracle & Java today?
[2012-04-03 20:13:59 -0400] chip-: Beyond Oracle's staunch insistence that we no longer use their tools, of course.
[2012-04-03 20:14:30 -0400] Brad_K: http://twitter.com/krobertson/status/187270133692108802
[2012-04-03 20:14:33 -0400] krobertson: I wouldn't expect anything less from them :)
[2012-04-03 20:14:54 -0400] chip-: I need to start testing on OpenJDK ASAP
[2012-04-03 20:15:18 -0400] krobertson: yup...
[2012-04-03 20:22:06 -0400] Brad_K: oh, this one is even better: http://twitter.com/savant/status/185769442595192832
[2012-04-03 20:24:50 -0400] krobertson: http://imgur.com/dgoHv
[2012-04-03 20:24:50 -0400] hoover_damm: yep, repeated story
[2012-04-03 20:24:53 -0400] hoover_damm: check the irclogs
[2012-04-03 20:25:02 -0400] hoover_damm: solution is in my irclogs
[2012-04-03 20:25:29 -0400] hoover_damm: miah mentioned it for one
[2012-04-03 20:27:42 -0400] chip-: TIL that macirssi doesn't support /lastlog
[2012-04-03 20:28:06 -0400] chip-: Anyone feeling kind enough to put it in a pastie/gist/pastebin/etc?
[2012-04-03 20:29:30 -0400] erratic: does anyone here have time to tell me what happens when they just run "knife ssh" from their knife client ?
[2012-04-03 20:29:41 -0400] erratic: actually do, "knife ssh -V"
[2012-04-03 20:30:39 -0400] hoover_damm: backlog of #chef can be found on logs.likens.us
[2012-04-03 20:30:41 -0400] hoover_damm: they're in realtime
[2012-04-03 20:30:44 -0400] hoover_damm: ^^ chip-
[2012-04-03 20:31:04 -0400] hoover_damm: http
[2012-04-03 20:31:11 -0400] afallows: Would someone be able to help me understand the order of execution inside a single chef recipe? I've got a recipe which has an execute block followed by an if block that assumes the execute block ran and tests against a file which will exist if the block executed. But I get a FATAL when I run chef-client.
[2012-04-03 20:31:52 -0400] krobertson: afallows: do you mean you're doing a ruby "if"  and not a chef "only_if" or "not_if"?
[2012-04-03 20:32:08 -0400] geekbri: afallows: the execute block will be run at convergence time where as the if is getting run at compilation time.  If you want that ruby to run later you'd have to put it in a ruby_block
[2012-04-03 20:32:19 -0400] afallows: krobertson: Correct.
[2012-04-03 20:32:32 -0400] krobertson: what geekbri said
[2012-04-03 20:32:43 -0400] afallows: geekbri: I'll have to look into ruby_block, may save me a big headache.
[2012-04-03 20:32:57 -0400] geekbri: afallows: you can always set the execute block to run immediately
[2012-04-03 20:33:01 -0400] krobertson: you might also try using an only_if within the next block
[2012-04-03 20:33:59 -0400] geekbri: afallows: you could so something like execute "your command here" do action :nothing end.run_action(:run)
[2012-04-03 20:34:07 -0400] geekbri: of course you would want to space it out properly :)
[2012-04-03 20:34:22 -0400] geekbri: that will cause the execute block to happen immediately instead of during the convergence time
[2012-04-03 20:34:34 -0400] c_t: hoover_damm: fwiw the Tacoma Aroma's way less bad than it was when I was a kid
[2012-04-03 20:36:24 -0400] afallows: geekbri: I'd prefer to do it in a way that makes the order of execution match the order of appearance in default.rb as possible, so I'll be putting my code in a ruby_block.
[2012-04-03 20:36:45 -0400] meyben: Anyone know why I would be getting this (I'm new) after updating guest additions to my lucid64.box: The following SSH command responded with a non-zero exit status.
[2012-04-03 20:36:48 -0400] meyben: Vagrant assumes that this means the command failed!
[2012-04-03 20:38:48 -0400] ryan-eme: what was the following command?
[2012-04-03 20:39:01 -0400] meyben: That's after doing a "vagrant up mybox"
[2012-04-03 20:39:29 -0400] meyben: vagrant provision my_box fails
[2012-04-03 20:42:02 -0400] hoover_damm: c_t, it's better then it was 4  years ago even
[2012-04-03 20:42:12 -0400] hoover_damm: c_t, i'm aware it's just so known for it.
[2012-04-03 20:43:24 -0400] c_t: oh of course
[2012-04-03 20:43:48 -0400] c_t: when I was a kid (and not living in Tacoma; that's a fairly recent development) Tacoma's aroma was punishing
[2012-04-03 20:44:42 -0400] c_t: sometimes though I'll step outside and wonder whether the sewer line broke, or if something's rotting in my car, before realizing that the aroma's bad that day
[2012-04-03 20:51:34 -0400] yfeldblum_: anatomy?
[2012-04-03 20:51:34 -0400] bawt: anatomy is http://wiki.opscode.com/display/chef/Anatomy+of+a+Chef+Run
[2012-04-03 20:51:50 -0400] yfeldblum_: afallows, please look at http://wiki.opscode.com/display/chef/Anatomy+of+a+Chef+Run
[2012-04-03 20:52:39 -0400] afallows: yfeldblum_: Thanks - I'd looked at that but I'm pretty sure I didn't read it carefully enough. I'll give it more attention.
[2012-04-03 20:53:23 -0400] yfeldblum_: afallows, in particular, the "Compile" section and under that, the notes in the "Load Recipes" subsection
[2012-04-03 21:00:14 -0400] jtgiri_: gem install chef-server doesn't install init.d script ?
[2012-04-03 21:32:18 -0400] cparedes: jtgiri_: AFAIK, it doesn't, but there's scripts in something like, <path_to_gem_dir>/chef-ver/distro
[2012-04-03 21:33:31 -0400] cparedes: and the chef-client recipe in this repo should automatically copy over the init scripts to the appropriate place: https://github.com/opscode-cookbooks/chef-client
[2012-04-03 21:35:26 -0400] tortoise_: im getting HTTP Request Returned 409 Conflict: Client already exists when i try to run chef-cient on a node however that node exists no where, any idea?
[2012-04-03 21:36:41 -0400] sfalcon: tortoise_ knife client list . You may have had a node/client with that name before?
[2012-04-03 21:42:11 -0400] ryan-eme: double check hostname against node list then rm -rf /etc/chef and re-bootstrap IMO
[2012-04-03 21:55:59 -0400] timsmith: What's the command to delete a specific version of a cookbook?
[2012-04-03 22:01:25 -0400] cwj: knife cookbook delete foo 0.0.0
[2012-04-03 22:01:32 -0400] cwj: i believe
[2012-04-03 22:04:46 -0400] timsmith: that did it
[2012-04-03 22:04:47 -0400] timsmith: thanks
[2012-04-03 22:17:14 -0400] tarrant: If I do a `search(:node, "role:foo")` will this find only nodes with "role:foo" in the current environment or in all environments?
[2012-04-03 22:19:56 -0400] Trieger: Enabling environments in my chef setup, works but dont want to do versions in env files or roles, want to just have "if env prod then " in recipe.  Anyone else working that way?
[2012-04-03 22:20:21 -0400] miah: tarrant: all environments
[2012-04-03 22:20:41 -0400] miah: you need to add 'AND chef_environment:<environment>' to your search
[2012-04-03 22:20:45 -0400] mgalkiewicz: Sometimes one of my cookbook after reupload is not usable. When metadata.json is stored on node I get sth like this: https://gist.github.com/2295879. Purging and reuploading again helps but only for a while.
[2012-04-03 22:21:00 -0400] miah: you can also reference node attributes to pull the value of the environment
[2012-04-03 22:21:29 -0400] Trieger: AH! node attr. yes. node.environment == prod, do this thx. miah.
[2012-04-03 22:21:51 -0400] Trieger: My versioning is below chef, the cookbooks rarely version, but packages do. so this should be cleaner for me.
[2012-04-03 22:22:28 -0400] Brad_K: Trieger: yeah, we do that for most of our environments.  only the prod environment actually locks things down to specific versions of specific cookbooks.
[2012-04-03 22:22:48 -0400] Brad_K: this does mean you have to modify some cookbooks to look in the right environment for their searches.
[2012-04-03 22:22:50 -0400] Trieger: yeah, and pre-prod can use latest.
[2012-04-03 22:23:04 -0400] Trieger: agree.
[2012-04-03 22:23:10 -0400] Brad_K: we call that "staging".  ;-)
[2012-04-03 22:23:19 -0400] Trieger: :)
[2012-04-03 22:23:47 -0400] Brad_K: there are some cookbooks that are already environment-aware, like the edelight mongodb cookbook.
[2012-04-03 22:24:13 -0400] Trieger: oh, cool, didnt know that. should be a good example to check out...
[2012-04-03 22:24:52 -0400] Brad_K: it's a fairly complex beast.  and there are a few places where some tweaks need to be made to get it to work correctly in some edge cases.
[2012-04-03 22:25:26 -0400] Brad_K: there's an effort underway to centralize all these tweaks and feed them back to the edelight team so that they can be fixed in that canonical cookbook.
[2012-04-03 23:05:45 -0400] mhalligan: are there any knife subcommands anyone has stumbled upon to manage rackspace's load balancer api?
[2012-04-03 23:08:30 -0400] hoover_damm: mhalligan, http://tickets.opscode.com/browse/KNIFE_RACKSPACE-4
[2012-04-03 23:09:05 -0400] hoover_damm: looks like not enough interest? if your willing to contribute :)
[2012-04-03 23:09:35 -0400] mhalligan: I found https://github.com/AKQAInternal/Hostess/tree/master/lib/chef/knife which looks promising
[2012-04-03 23:12:24 -0400] hoover_damm: nice
[2012-04-03 23:23:22 -0400] erratic: I cant figure out how to use this o_O
[2012-04-03 23:23:23 -0400] erratic: https://github.com/opscode/cookbooks/tree/master/users
[2012-04-03 23:23:29 -0400] erratic: knife data bag doesn't do anything.
[2012-04-03 23:26:26 -0400] hippiehacker: anyone used Spice::Role.update?
[2012-04-03 23:38:24 -0400] RoboTeddy: I'm sometimes getting this on ubuntu oneiric while running chef-solo [Tue, 03 Apr 2012 23:36:54 +0000] DEBUG: Ran /etc/init.d/nginx status returned 0
[2012-04-03 23:38:24 -0400] RoboTeddy: /var/lib/gems/1.8/gems/chef-0.9.12/bin/../lib/chef/mixin/command/unix.rb:182: [BUG] Segmentation fault
[2012-04-03 23:38:24 -0400] RoboTeddy: ruby 1.8.7 (2011-06-30 patchlevel 352) [x86_64-linux]
[2012-04-03 23:40:31 -0400] RoboTeddy: more context: https://gist.github.com/ac2953cad71016051a3e
[2012-04-03 23:42:43 -0400] RoboTeddy: I'm using the standard nginx cookbook
[2012-04-03 23:47:02 -0400] hippiehacker: I'm finding spice a bit unstable, is there an documented way of just using the chef-libraries themselves to search/edit roles/nodes
[2012-04-03 23:48:58 -0400] hoover_damm: isn't spiceweasel a cloudformation similar thing?
[2012-04-03 23:58:03 -0400] hippiehacker: hoover_damm: similar
[2012-04-03 23:58:13 -0400] hippiehacker: hoover_damm: I used to use it
