[2012-04-11 00:00:29 -0400] atomic-penguin: juanje, thanks I'll fork it and try that later
[2012-04-11 00:00:30 -0400] hoover_damm: mine always start out with
[2012-04-11 00:00:31 -0400] hoover_damm: bash --login -c '
[2012-04-11 00:00:37 -0400] hoover_damm: because we all know how knife never logs in..
[2012-04-11 00:00:45 -0400] hoover_damm: and how annoying it is to have it fail to find 'gem'
[2012-04-11 00:00:48 -0400] andreacampi: but look, if I did have a point it wouldn't be a good flame war, would it now?
[2012-04-11 00:00:54 -0400] hoover_damm: just because you run omnibus
[2012-04-11 00:00:55 -0400] hoover_damm: lol
[2012-04-11 00:01:13 -0400] josephholsten: seriously, jtimberman deserves to have wayne's help wrangling the cookbooks repos
[2012-04-11 00:01:24 -0400] josephholsten: what is the plural of cookbooks? a mess of cookbooks?
[2012-04-11 00:01:48 -0400] bdha: A shelf?
[2012-04-11 00:01:58 -0400] andreacampi: anyway my real problem is that recently I had to help a customer who is also running FreeBSD they had the root shell set to /usr/local/bin/bash
[2012-04-11 00:02:13 -0400] andreacampi: and hat's obviously a different filesystem
[2012-04-11 00:02:13 -0400] atomic-penguin: lolwut?
[2012-04-11 00:02:46 -0400] andreacampi: long story short, I wrote a recipe to build a static bash *and* install it to /bin/bash
[2012-04-11 00:02:49 -0400] hoover_damm: i've pair'd on chef recipes with wayne
[2012-04-11 00:03:00 -0400] hoover_damm: he doesn't utter anything but obscenities now when it comes to chef
[2012-04-11 00:03:21 -0400] andreacampi: it was kinda fun for me but I made them pay dearly for their stupidity :D
[2012-04-11 00:05:18 -0400] josephholsten: hoover_damm: you've ruined it for the rest of us?
[2012-04-11 00:07:09 -0400] hoover_damm: josephholsten, actually no
[2012-04-11 00:15:06 -0400] z: andreacampi: you chuckle but my homedir has ~/bin/static symlinked to either x86, x64 or ARM binaries and I have Bash in tehre
[2012-04-11 00:15:47 -0400] andreacampi: per-arch dirs, like the old-times, makes sense
[2012-04-11 00:15:48 -0400] z: andreacampi: very early in my bashrc it evaluates whether Bash 4.0 (or greater) is in the "usual" PATH and if not, it spawns into my own
[2012-04-11 00:16:14 -0400] andreacampi: still, if you do it for the root shell you'd better know what you're doing, or have very good backup plans ;)
[2012-04-11 00:16:34 -0400] z: andreacampi: In the event I cannot spawn Bash 4.0 and its not in PATH either, all of my bashrc "modules" have a minimum_version attribute and will *cleanly* just 'exit 0'
[2012-04-11 00:16:55 -0400] andreacampi: nice!
[2012-04-11 00:16:58 -0400] z: most of my modules work with 2.x and 3.x
[2012-04-11 00:17:02 -0400] z: a couple use 4.x features
[2012-04-11 00:17:57 -0400] z: at some point I may punt my bashrc up to GitHub. its quite a monstrosity. about ~25 modules which could be 'public consumption', another 5-10 which are 'not for public consumption' and are quite specific to me or my employer
[2012-04-11 00:18:11 -0400] z: probably about 2500-3000 LOC, not checked recently
[2012-04-11 00:18:20 -0400] andreacampi: I'm just old and grumpy I guess spent a long time on ksh, then zsh for a few years so I've never had the time to come up with a lot of bash customizations or what have you
[2012-04-11 00:19:36 -0400] z: I use a fair few aliases, like 'x' will extract any file by evaluating based on both naming (tar.gz) and file(1)
[2012-04-11 00:19:46 -0400] z: that is a rather epic time-saver :)
[2012-04-11 00:20:05 -0400] josephholsten: z: a modern cpio will do most of that for you
[2012-04-11 00:20:29 -0400] z: josephholsten: Probably not back when I wrote this "hack" though ;)
[2012-04-11 00:20:38 -0400] andreacampi: will you fix bash knife completion then? :)
[2012-04-11 00:21:00 -0400] z: andreacampi: I do actually have a 'knife' module though it doesn't do completion
[2012-04-11 00:21:14 -0400] andreacampi: it's so close to working right, that the remaining 5% is annoying :)
[2012-04-11 00:21:14 -0400] z: andreacampi: it just makes flipping between different servers/organizations "a doddle"
[2012-04-11 00:22:08 -0400] z: at last count I had accounts/access on about 25 OSCS and used about 15 OPC/OHC organizations
[2012-04-11 00:22:27 -0400] andreacampi: I can imagine :)
[2012-04-11 00:23:04 -0400] andreacampi: I don't think we have reached that number yet, here
[2012-04-11 00:23:58 -0400] z: about the only other 'Top Tip' IME would be easily alterable PS1
[2012-04-11 00:24:17 -0400] z: general day-to-day stuff I love a very terse one-line prompt
[2012-04-11 00:24:38 -0400] z: heavy-duty Chef stuff with ~40 orgs/servers and Git, a two-line one showing different info is nice
[2012-04-11 00:25:35 -0400] z: I tried out a screen/tmux "mashup" at one point, and Byobu at another, but never quite got my roll going with either
[2012-04-11 00:26:42 -0400] andreacampi: byobu sounds nice indeed, I should try one of these days
[2012-04-11 00:26:47 -0400] andreacampi: well, I'm off to bed
[2012-04-11 00:27:01 -0400] andreacampi: 2:30 here :(
[2012-04-11 00:27:08 -0400] z: http://mosh.mit.edu/
[2012-04-11 00:27:38 -0400] juanje: z: mosh seems to be the new thing
[2012-04-11 00:27:54 -0400] juanje: andreacampi: gnight! :-)
[2012-04-11 00:28:08 -0400] andreacampi: z: didn't know about that, interesting!
[2012-04-11 00:28:09 -0400] juanje: z. did you tried?
[2012-04-11 00:28:13 -0400] z: juanje: Only saw it via Twitter earlier. I will have a play around this weekend
[2012-04-11 00:28:27 -0400] andreacampi: what, no cookbook yet?
[2012-04-11 00:28:31 -0400] z: juanje: travelling to OpenStack Design Summit so airport seems a good opportunity to test out how it handles *really* poor connectivity
[2012-04-11 00:28:36 -0400] juanje: I saw on twitter yesterday
[2012-04-11 00:28:41 -0400] juanje: many people talking about
[2012-04-11 00:28:41 -0400] z: andreacampi: Well volunteered, appreciate it dude!
[2012-04-11 00:28:46 -0400] andreacampi: :D
[2012-04-11 00:28:57 -0400] andreacampi: when I'm done with the application cookbook, maybe :)
[2012-04-11 00:29:04 -0400] juanje: z: indeed
[2012-04-11 00:29:15 -0400] andreacampi: :D
[2012-04-11 00:29:16 -0400] juanje: hahaha
[2012-04-11 00:29:21 -0400] andreacampi: I probably will anyway
[2012-04-11 00:29:37 -0400] andreacampi: I'm out of here
[2012-04-11 00:29:40 -0400] andreacampi: later!
[2012-04-11 00:30:23 -0400] z: juanje: do you think Mosh is popular just because http://mosh.mit.edu/ was clearly written in the 2000s whereas http://www.openssh.com/ was written sometime around the time dinosaurs roamed the earth?
[2012-04-11 00:30:40 -0400] z: or do you think theres more to it? :)
[2012-04-11 00:31:41 -0400] hoover_damm: have you tcpdump's mosh?
[2012-04-11 00:31:43 -0400] hoover_damm: :|
[2012-04-11 00:31:56 -0400] hoover_damm: I really hope we don't have people suddenly thinking they can ditch openssh for mosh
[2012-04-11 00:32:07 -0400] hoover_damm: because Mosh depends on ssh
[2012-04-11 00:32:09 -0400] hoover_damm: and uses ssh
[2012-04-11 00:32:11 -0400] z: Mosh doesn't listen on network ports or authenticate users. The mosh client logs in to the server via SSH, and users present the same credentials (e.g., password, public key) as before. Then Mosh runs the mosh-server remotely and connects to it over UDP.
[2012-04-11 00:32:35 -0400] hoover_damm: right, won't replace anything
[2012-04-11 00:32:36 -0400] z: I think the statement further up is misleading though, :Mosh is a replacement for SSH. It's more robust and responsive, especially over Wi-Fi, cellular, and long-distance links."
[2012-04-11 00:33:44 -0400] hoover_damm: very misleading
[2012-04-11 00:34:05 -0400] hoover_damm: and as there are those of us who can figure it out, the problem is those that make decisions and can't
[2012-04-11 00:34:59 -0400] z: "please remember to open up UDP ports 6000061000" << also a potential problem for Corporate networks :)
[2012-04-11 00:35:45 -0400] juanje: z: I don't know, but I think they are a bit arrogant, aren't they? "Mosh is a replacement for SSH. It's more robust and responsive, especially over Wi-Fi, cellular, and long-distance links." ?
[2012-04-11 00:36:04 -0400] josephholsten: those are technical terms. and they are true
[2012-04-11 00:36:18 -0400] z: juanje: They are *technically* correct about a bunch of that. I regularly work with SSH over a 150-250ms connection and it is somewhat painful.
[2012-04-11 00:36:35 -0400] z: juanje: But I would agree the tone could be a little less "high horse". :)
[2012-04-11 00:36:42 -0400] juanje: that's true, but the tone...
[2012-04-11 00:36:52 -0400] juanje: yep, that
[2012-04-11 00:37:55 -0400] josephholsten: you write a marketing/landing page with the same meaning and a different tone. I'll fork and we'll see which gets better conversion rates.
[2012-04-11 00:39:40 -0400] josephholsten: I do wonder, is it useful to write remote execution over mosh or should we just keep doing ssh for that?
[2012-04-11 00:40:10 -0400] z: you mean you don't already do remote execution over MCollective? </trolololol>
[2012-04-11 00:40:20 -0400] josephholsten: winrm
[2012-04-11 00:41:53 -0400] hoover_damm: z, why not?
[2012-04-11 00:42:13 -0400] hoover_damm: z, we can always rundeck more
[2012-04-11 00:43:31 -0400] z: different environments, different requirements, IMO the broadcast paradigm works better in larger and the tradeoff of an agent-based approach is merited
[2012-04-11 00:43:56 -0400] z: but for small places then Rundeck with SSH as the "means to the end" is better than something like pdsh
[2012-04-11 00:44:21 -0400] josephholsten: I can't tell which way you two are talking
[2012-04-11 00:44:31 -0400] josephholsten: can you use mcollective with run deck?
[2012-04-11 00:44:54 -0400] z: josephholsten: I'm a fairly big fan of MCollective, but I've used Rundeck in the past too
[2012-04-11 00:45:41 -0400] josephholsten: honestly run deck ui+auditing with mcollective dispatching sounds nsfw awesome
[2012-04-11 00:46:07 -0400] z: auditing is fairly easy with MCollective actually
[2012-04-11 00:46:44 -0400] z: but agreed on the UI point, though it would present "interesting" challenges to implement
[2012-04-11 00:49:03 -0400] josephholsten: the oracle points me at this mcollective add-on for run deck: https://github.com/phobos182/rundeck-mcollective/blob/master/framework.properties
[2012-04-11 00:50:00 -0400] josephholsten: I'm pretty sure the important bits are these: https://github.com/phobos182/rundeck-mcollective/blob/master/framework.properties#L23
[2012-04-11 00:50:53 -0400] z: yes indeedy
[2012-04-11 00:50:59 -0400] z: thats quite a hack though
[2012-04-11 00:51:07 -0400] z: as Rundeck would be talking to MCollective as a single user
[2012-04-11 00:51:18 -0400] z: so any auditing at the mco layer would just see 'rundeck'
[2012-04-11 00:51:37 -0400] z: it'd be a lot cleaner to do a "pass through"
[2012-04-11 00:52:01 -0400] z: but I refer to my previous statement about it being an "interesting challenge to implement" that
[2012-04-11 00:53:23 -0400] hoover_damm: i think there's a few companies willing to tie rundeck and chef together tighter
[2012-04-11 00:53:58 -0400] hoover_damm: but like the person who bitched about the java keystore system... I really have the java keystore system and setting up users in Rundeck isn't as easy as I had hoped
[2012-04-11 00:54:22 -0400] hoover_damm: if you've ever had to setup a ssl certificate in tomcat natively or jetty or muck around in the keystore...
[2012-04-11 00:54:29 -0400] hoover_damm: I feel sorry for you because you should be a saint for even doing it
[2012-04-11 00:54:32 -0400] hoover_damm: and should get a job for life
[2012-04-11 00:54:39 -0400] hoover_damm: so evil :(
[2012-04-11 00:55:49 -0400] josephholsten: looking forward to setting up ldap soon
[2012-04-11 00:58:20 -0400] patcon: jtimberman: any thoughts on whitespace styling? https://github.com/acrmp/foodcritic/issues/20
[2012-04-11 00:58:57 -0400] patcon: thought i'd come across more people using it, but now that I've looked through a few attr files from you opscode guys, not seeing it...
[2012-04-11 01:00:16 -0400] miah: i'd think it should just match ruby style guides
[2012-04-11 01:00:17 -0400] timsmith: question on services setup with runit in chef.  Once you define a service with runit_service using the provider in the runit cookbook how do you control the service?  Is there a start/stop/restart action you send to runit services?
[2012-04-11 01:00:33 -0400] jtimberman: patcon: "meh"
[2012-04-11 01:00:37 -0400] jtimberman: patcon: :)
[2012-04-11 01:01:09 -0400] jtimberman: timsmith: runit provides a method to control the service with an LSB compatible interface.
[2012-04-11 01:01:35 -0400] jtimberman: timsmith: and the runit definition creates a service resource that you can signal like other services.
[2012-04-11 01:01:41 -0400] hoover_damm: patcon, ouch
[2012-04-11 01:01:56 -0400] hoover_damm: patcon, and toss in emacs and how it can auto-tab () blocks in templates
[2012-04-11 01:01:59 -0400] hoover_damm: and that can be quite spicy
[2012-04-11 01:02:02 -0400] z: patcon: so where you put WARN and PASS, for me, I would invert those
[2012-04-11 01:02:04 -0400] timsmith: jtimberman: is that the standard service resource or the special runit_service
[2012-04-11 01:02:15 -0400] jtimberman: timsmith: it is a "service" resource.
[2012-04-11 01:02:17 -0400] patcon: haha no worries. started off working with drupal, and they have mega-strict coding styles. but i get that it's not everyone's dish :)
[2012-04-11 01:02:23 -0400] josephholsten: jtimberman: is there any way to get more complicated actions? reload, graceful, config_check, etc?
[2012-04-11 01:02:40 -0400] hoover_damm: patcon, https://gist.github.com/083d6ae094423673e0b2
[2012-04-11 01:02:44 -0400] jtimberman: timsmith: *right now*, runit_service is a definition; definitions are replaced in line with the resources they contain
[2012-04-11 01:03:00 -0400] hoover_damm: and making it easy with an eye shot
[2012-04-11 01:03:06 -0400] jtimberman: josephholsten: not easily.
[2012-04-11 01:03:08 -0400] miah: i think extra spacing to line things up is oogly
[2012-04-11 01:03:24 -0400] josephholsten: oogly in a bad way
[2012-04-11 01:03:27 -0400] z: patcon: I like a two-space indent, but beyond that, strict alignment on blocks seems OTT to me and if anything less readable
[2012-04-11 01:03:47 -0400] patcon: hoover_damm: ahh... i'm the total opposite!
[2012-04-11 01:03:50 -0400] hoover_damm: and the problem with whitespace and spacing is going to also get into editors
[2012-04-11 01:04:01 -0400] patcon: so i guess this is why it should be outside foodcritic :)
[2012-04-11 01:04:02 -0400] timsmith: jtimberman:  Followup question.  Can you use   returns [0,1] in a service resource?  I get an error when I try to stop a runnit service that's already stopped
[2012-04-11 01:04:03 -0400] hoover_damm: because I got into that because of emacs, I groaned at first
[2012-04-11 01:04:04 -0400] hoover_damm: but I really love it
[2012-04-11 01:04:19 -0400] hoover_damm: eye appeal it's +1
[2012-04-11 01:04:27 -0400] hoover_damm: so all you oogly folks can go oogle yourself
[2012-04-11 01:04:31 -0400] hoover_damm: imo
[2012-04-11 01:04:33 -0400] z: patcon: I actually don't mind "opinionated" stuff in foodcritic but I think being able to invert behaviour on something like your proposal would be nice
[2012-04-11 01:04:44 -0400] patcon: haha
[2012-04-11 01:04:55 -0400] z: patcon: I think whatever your 'Best Practices' are then you should be able to express/enforce that using foodcritic
[2012-04-11 01:05:05 -0400] hoover_damm: patcon, but my original best practice on spacing lined up with yours
[2012-04-11 01:05:11 -0400] hoover_damm: at a job back in 2009 in regards to chef
[2012-04-11 01:05:31 -0400] hoover_damm: no reason you can't have both
[2012-04-11 01:05:33 -0400] hoover_damm: for a extra oogly world
[2012-04-11 01:05:52 -0400] z: patcon: tying foodcritic into Gerrit, or into a Git hook, that would be cool. Enforce the 'critical' logic and provide real-time 'warning' feedback.
[2012-04-11 01:06:21 -0400] patcon: z: ++
[2012-04-11 01:06:22 -0400] miah: you can define custom rules for foodcritic if you want to enforce non-standard stylings
[2012-04-11 01:07:12 -0400] patcon: i suppose i don't care which way it is, but it would be nice to have an arbitrary standard :)
[2012-04-11 01:07:42 -0400] miah: the standard is: extra spacing is ugly and frowned upon
[2012-04-11 01:08:00 -0400] miah: Eloquent Ruby covers lots of this as does the ruby style guide https://github.com/bbatsov/ruby-style-guide
[2012-04-11 01:08:06 -0400] hoover_damm: people need to get over spacing
[2012-04-11 01:08:11 -0400] hoover_damm: white space isn't ugly
[2012-04-11 01:08:28 -0400] hoover_damm: i know i won't change your mind
[2012-04-11 01:08:30 -0400] z: I fear this risks being an 'emacs vs vi' argument
[2012-04-11 01:08:32 -0400] hoover_damm: but you should think about it
[2012-04-11 01:08:46 -0400] hoover_damm: nah i'm going to get sushi
[2012-04-11 01:08:51 -0400] hoover_damm: screw your argument i'm getting sushi!
[2012-04-11 01:09:00 -0400] hoover_damm: lol
[2012-04-11 01:09:11 -0400] miah: i think the problem you're going to get into is if people use different character widths for tab, and people line things up with tab
[2012-04-11 01:09:26 -0400] patcon: miah: i read  a book called Information Dashboard Design a few years ago, and while it wasn't for logs or "ini" files, it really affected my preferences
[2012-04-11 01:09:45 -0400] patcon: lots about grouping data together that belongs together, and eliminating nonsensible noise
[2012-04-11 01:09:52 -0400] hoover_damm: also if you don't like uml... I prolly don't care how you do your text files
[2012-04-11 01:10:07 -0400] hoover_damm: some kind of design or uml is handy from time to time
[2012-04-11 01:10:08 -0400] patcon: attribute values would seem to share common meaning, so my mind likes to group them
[2012-04-11 01:10:39 -0400] z: UML </3
[2012-04-11 01:10:47 -0400] patcon: sahweet book, btw, if anyone's got time to burn :) http://www.amazon.com/Information-Dashboard-Design-Effective-Communication/dp/0596100167
[2012-04-11 01:11:07 -0400] josephholsten: ebook?
[2012-04-11 01:11:44 -0400] jtimberman: everything i learned about UML I forgot when I graduated.
[2012-04-11 01:11:51 -0400] z: jtimberman: lol ditto
[2012-04-11 01:12:30 -0400] jtimberman: same with CASE diagramming.
[2012-04-11 01:12:38 -0400] patcon: josephholsten: http://isohunt.com/torrent_details/117001849/information+dashboard+design?tab=summary ?
[2012-04-11 01:12:48 -0400] josephholsten: legal one?
[2012-04-11 01:13:28 -0400] patcon: nope. but when it's not big-name authors, you can often get in touch and paypal them money
[2012-04-11 01:13:50 -0400] josephholsten: that makes me sad
[2012-04-11 01:13:50 -0400] Brad_K: josephholsten: http://shop.oreilly.com/product/9780596100162.do
[2012-04-11 01:14:00 -0400] josephholsten: woo!
[2012-04-11 01:14:23 -0400] patcon: wouldn't normally do that with o'reilly stuff though. they are too awesome
[2012-04-11 01:14:56 -0400] josephholsten: Save a Tree - Go Digital but not available in digital.
[2012-04-11 01:15:52 -0400] Brad_K: Safari Online.
[2012-04-11 01:15:56 -0400] patcon: it's pretty visual. lots about color and shade nuance in images. the editor might not have thought it would transfer well to ereaders
[2012-04-11 01:16:10 -0400] patcon: *example images, that is
[2012-04-11 01:20:48 -0400] patcon: miah: nice. just saw that ruby style guide link! thx
[2012-04-11 01:20:56 -0400] Brad_K: josephholsten: you could always contact the author via his page at http://www.perceptualedge.com/ and ask when an e-book version might be available.
[2012-04-11 01:21:20 -0400] Brad_K: anyway, gotta go.  cya!
[2012-04-11 01:22:04 -0400] patcon: miah: oh man, no likey... https://github.com/bbatsov/ruby-style-guide/issues/80
[2012-04-11 01:23:05 -0400] jtimberman: not bad for a version 0.1: http://community.opscode.com/cookbooks/mosh
[2012-04-11 01:23:38 -0400] z: jtimberman: you are some kind of flat-namespace-abusing *machine*
[2012-04-11 01:23:39 -0400] patcon: i'm new here, but i can't believe that's the ruby standard. such a waste of space. instead of +1 line and 2 spaces indent, you have any number of lines with potentially 20 spaces wasted each.
[2012-04-11 01:23:40 -0400] patcon: tons of unnecessary deadspace
[2012-04-11 01:23:50 -0400] z: jtimberman: do you get commission based on how many cookbooks you own on the Community site?
[2012-04-11 01:23:58 -0400] josephholsten: patcon: gotta love the rubinious/obj-c style aligned colons
[2012-04-11 01:24:00 -0400] jtimberman: z: lol no
[2012-04-11 01:24:03 -0400] patcon: z: haha
[2012-04-11 01:31:13 -0400] timsmith: is there any way to tell chef runs not to show errors if a resource bombs
[2012-04-11 01:31:28 -0400] timsmith: I have ignore failure set, but I want to see nothing on a failure
[2012-04-11 01:31:38 -0400] josephholsten: flat-namespace-abuse reminds me: this makes me sad/angry http://community.opscode.com/search?query=redis&scope=cookbook
[2012-04-11 01:31:54 -0400] miah: patcon: oh nice =)
[2012-04-11 01:32:11 -0400] jtimberman: per-user namespacing *is* coming :)
[2012-04-11 01:32:23 -0400] miah: yay
[2012-04-11 01:32:24 -0400] patcon: jtimberman: YEEEEEEOOOOOWWW!
[2012-04-11 01:32:40 -0400] jtimberman: i just don't have an ETA
[2012-04-11 01:32:50 -0400] miah: next year!
[2012-04-11 01:33:37 -0400] patcon: jtimberman: maybe this answer is obvious, but has there been any talk of opening up the community site source? so we can.... i dunno... work on features ourselves?
[2012-04-11 01:33:39 -0400] josephholsten: I actually like flat (I can always just use github repos for namespace)
[2012-04-11 01:33:45 -0400] patcon: is that crazy-talk? i'm not sure
[2012-04-11 01:34:09 -0400] josephholsten: yes, it's crazy
[2012-04-11 01:34:09 -0400] mattray: patcon: hmmm not crazy to me. Talk to coderanger about it
[2012-04-11 01:34:14 -0400] patcon: or if we could spin up a local copy of the site and hack on it
[2012-04-11 01:34:20 -0400] mattray: at least parts of it
[2012-04-11 01:34:21 -0400] patcon: coolio :)
[2012-04-11 01:34:26 -0400] coderanger: Hmm?
[2012-04-11 01:34:32 -0400] josephholsten: but I like it
[2012-04-11 01:34:36 -0400] coderanger: You raaaaang?
[2012-04-11 01:34:53 -0400] mattray: coderanger: patcon was wondering if parts of the community site could be open sourced to assist in new features?
[2012-04-11 01:35:13 -0400] mattray: like namespacing cookbooks
[2012-04-11 01:35:15 -0400] coderanger: Unlikely, pretty tied to the internal services
[2012-04-11 01:35:33 -0400] coderanger: The way users work in hosted is totally unrelated to FOSS
[2012-04-11 01:35:36 -0400] mattray: yeah, I guess parts of it are
[2012-04-11 01:35:38 -0400] patcon: haha is the community site code super-unpublic-worthy? like full of root passwords and secrets about jtimberman?
[2012-04-11 01:35:43 -0400] coderanger: As in, it is handled by a totally different daemon
[2012-04-11 01:35:47 -0400] patcon: coderanger: ^^
[2012-04-11 01:36:04 -0400] patcon: ah, took too long to type msg. nm. appears you've answered
[2012-04-11 01:36:18 -0400] coderanger: patcon: No, it is just that it would take a lot of work to make it runable by anyone that didn't have the full Hosted Chef dev environment running
[2012-04-11 01:36:37 -0400] coderanger: and if anything I am moving it further in that direction to combat code and data duplication
[2012-04-11 01:36:40 -0400] coderanger: :-/
[2012-04-11 01:37:00 -0400] patcon: rats. well hey, thanks for humouring the question :)
[2012-04-11 01:37:04 -0400] mattray: patcon: there you go, I tried :)
[2012-04-11 01:37:14 -0400] coderanger: Although I guess those APIs are public for the most part, so hrmm, might be possible if you ran it against production user data
[2012-04-11 01:37:19 -0400] coderanger: not now, but one day
[2012-04-11 01:37:26 -0400] patcon: haha thanks guys
[2012-04-11 01:37:41 -0400] patcon: what's it built on anyhow?
[2012-04-11 01:38:54 -0400] coderanger: Rails 2.3.11 >_<
[2012-04-11 01:38:58 -0400] mattray: crazy glue
[2012-04-11 01:39:22 -0400] coderanger: Yeah, the real answer is duct tape and rage
[2012-04-11 01:39:41 -0400] josephholsten: my main issue is that the 'standard' redis cb doesn't have a contact link or a repo. and it needs love.
[2012-04-11 01:40:29 -0400] josephholsten: amongst other almost abandoned books
[2012-04-11 01:40:38 -0400] mattray: josephholsten: I'll PM you contact info
[2012-04-11 01:40:46 -0400] josephholsten: and no patch will fix that, just community
[2012-04-11 01:40:52 -0400] josephholsten: danke
[2012-04-11 01:41:40 -0400] miah: josephholsten: i hae one
[2012-04-11 01:42:02 -0400] miah: https://github.com/cxinc/chef-redis
[2012-04-11 01:42:19 -0400] miah: find issues, i will gladly fix them or accept functional pull requests
[2012-04-11 01:42:56 -0400] coderanger: :-)
[2012-04-11 01:43:41 -0400] patcon: > Yeah, the real answer is duct tape and rage
[2012-04-11 01:43:45 -0400] patcon: coderanger: LOL
[2012-04-11 01:49:53 -0400] coderanger: patcon: You could, on the other hand, start work on the other half of the cookbook install problem, making chef work more like librarian
[2012-04-11 01:50:01 -0400] coderanger: :)
[2012-04-11 01:50:34 -0400] josephholsten: and then add resource dependencies to cookbooks!
[2012-04-11 01:52:17 -0400] coderanger: resource dependencies?
[2012-04-11 01:53:12 -0400] josephholsten: so I can depend on a resource and have chef figure out which cookbook to grab the provider from
[2012-04-11 01:53:15 -0400] patcon: coderanger: heh i'm a web dev first. the guts of chef kinda give me the heebies. just because it's such a beast
[2012-04-11 01:53:26 -0400] patcon: not an ugly beast, just a complicated one
[2012-04-11 01:53:54 -0400] coderanger: Also, we are hiring ;-)
[2012-04-11 01:53:56 -0400] z: coderanger: you're the poor sucker who inherited development of community.opscode.com?
[2012-04-11 01:54:14 -0400] coderanger: z: Yeah, meet the opscode web team :)
[2012-04-11 01:54:15 -0400] josephholsten: patcon: the resource/provider bit is a relatively isolated chunk
[2012-04-11 01:54:37 -0400] densone: anyone in here run a single servers chef-client against many chef servers?
[2012-04-11 01:54:55 -0400] josephholsten: densone: ow ow ow
[2012-04-11 01:55:11 -0400] densone: josephholsten:  Will it not work?
[2012-04-11 01:55:14 -0400] patcon: coderanger: happily working with friends at myplanet digital :)
[2012-04-11 01:55:20 -0400] z: josephholsten: I would actually have a use case for that
[2012-04-11 01:55:25 -0400] cwj: sounds potentially painful
[2012-04-11 01:55:39 -0400] josephholsten: the point of a configuration-management-database is usually to have a single point to store the truth
[2012-04-11 01:55:49 -0400] z: coderanger: May I say, just this once, how much I hope you are successful because community.opscode.com is kinda important :0
[2012-04-11 01:56:07 -0400] cwj: authentication issues aside, if one chef-server is offering up a run list that conflicts with whats been set up by the run list from another machin
[2012-04-11 01:56:09 -0400] josephholsten: it never actually happens, but I'm not sure what I'd do with multiple servers
[2012-04-11 01:56:11 -0400] coderanger: z: It is getting better day by day :-)
[2012-04-11 01:56:12 -0400] cwj: er chef server
[2012-04-11 01:56:31 -0400] cwj: would be kind of difficult to really know the state of a machine
[2012-04-11 01:56:33 -0400] patcon: coderanger: re: opscode web teamness. power to you, sir. mad respect :)
[2012-04-11 01:56:45 -0400] densone: josephholsten:  yes in this case we can't.  We are managing an environment for a customer, and they won't allow us access to their chef-server
[2012-04-11 01:56:55 -0400] josephholsten: I could see multiple cookbook repos, but roles, nodes, data bags? scary
[2012-04-11 01:56:56 -0400] coderanger: Even if I can't open source the community site, I would like to try and at least be more public about future plans (as in near future, not Eventually)
[2012-04-11 01:57:02 -0400] z: josephholsten: Actually it'd be rather handy to have chef-client daemonized and executing a run_list and Environment supplied by 'server1', and invoked by MCollective during deployments as a "one time" deal with a run_list and Environment supplied by 'server2' and a second/different set of Cookbooks
[2012-04-11 01:57:18 -0400] coderanger: But for unrelated reasons my schedule went into heavy flux last week, so we'll see
[2012-04-11 01:57:22 -0400] josephholsten: if you can't access their chef-server, then they shouldn't let you touch their machines
[2012-04-11 01:57:26 -0400] z: jtimberman: Tell me I'm crazy ^^^
[2012-04-11 01:57:28 -0400] densone: cwj josephholsten  What if both configurations were isolated from each other.
[2012-04-11 01:57:43 -0400] densone: Isolated validation.pem, client.rb and is was run with cron.
[2012-04-11 01:57:52 -0400] densone: In alternating intervals.
[2012-04-11 01:57:56 -0400] z: josephholsten: Isolation of configuration and "Who owns what?" is an interesting issue
[2012-04-11 01:58:02 -0400] cwj: it should work technically
[2012-04-11 01:58:42 -0400] z: densone: Right now I think I <3 you quite a lot for that helpful question
[2012-04-11 01:58:43 -0400] densone: I understand the operational reason not to do it.
[2012-04-11 01:58:53 -0400] densone: thx z
[2012-04-11 01:59:02 -0400] z: as I have a new/interesting solution to a problem which has been bugging me for a while
[2012-04-11 01:59:13 -0400] z: will report back if I actually make it work without brain surgery being involved
[2012-04-11 01:59:18 -0400] densone: Just wondering if people have done it. Trust me, this sucks haha.
[2012-04-11 01:59:20 -0400] cwj: i cant think of a reason it would not work
[2012-04-11 01:59:33 -0400] z: cwj: I think it would work *awesome* with Omnibus especailly
[2012-04-11 01:59:44 -0400] densone: as long as the keys, cache_dirs, client.rb are all different
[2012-04-11 01:59:56 -0400] patcon: coderanger: i know you have TONS of hard work invested in the current site, but to ask a bold question: might the platform that the site is built on be a means to engage a community -- sorry, I'm totally drupal-biased, but any platform could be an opportunity to engage
[2012-04-11 02:00:29 -0400] densone: ill give it a shot
[2012-04-11 02:00:36 -0400] patcon: coderanger: and re: future plans ++ :)
[2012-04-11 02:00:41 -0400] coderanger: patcon: Not sure what you mean, but if it is being rewritten in anything it will be Django (which it won't be, but I'll keep trying anyway :)
[2012-04-11 02:00:47 -0400] z: patcon: so I'd love to see the namespace be less "flat" because one Cookbook called 'couchdb' may not be everyones cup of tea
[2012-04-11 02:01:11 -0400] coderanger: Yeah, github-style user namespacing will happen
[2012-04-11 02:01:19 -0400] coderanger: I have an Epic in the backlog for it
[2012-04-11 02:01:27 -0400] z: densone: I would suggest getting Omnibus installed into /opt twice, once for each "isolation pod" and go from there
[2012-04-11 02:01:30 -0400] cwj: i think that will be huge
[2012-04-11 02:01:53 -0400] z: densone: and if you're on Hosted Chef then each could be joined into a different Organization
[2012-04-11 02:01:55 -0400] juanje: coderanger: it will be great :-)
[2012-04-11 02:01:56 -0400] coderanger: cwj: If you mean a ton of work, yes, yes it will :D
[2012-04-11 02:02:15 -0400] z: coderanger: Who do I have to harass/bribe to get that Epic prioritized? ;)
[2012-04-11 02:02:23 -0400] densone: z good idea. one is hosted, the other is not.
[2012-04-11 02:02:29 -0400] cwj: coderanger: im sure, but i think it will be worth while in the end
[2012-04-11 02:02:33 -0400] coderanger: z: holoway is usually a good bet :)
[2012-04-11 02:02:58 -0400] cwj: (says the guy who doesnt have to do the work, but thanks you for doing it)
[2012-04-11 02:03:32 -0400] patcon: coderanger: just mean that most communities are looking for deployment toolchains, and their decisions are pretty arbitrary. drupal people are using puppet for some reason, mostly due to the tools of choice of previous community members. building openly using their tech might be the sort of thing that brings people onboard
[2012-04-11 02:03:38 -0400] z: next time I'm in Seattle I shall get holoway extremely drunk, and instead of "I do" in a Vegas-style wedding, it will be "I shall [prioritize that Epic for you]"
[2012-04-11 02:04:32 -0400] patcon: haha
[2012-04-11 02:04:58 -0400] coderanger: patcon: Sorry, I don't really buy that
[2012-04-11 02:05:21 -0400] coderanger: patcon: What Opscode uses as tech is driven by the experience we have in house, not the isolated merit of the tech
[2012-04-11 02:05:26 -0400] coderanger: (well, not _only_)
[2012-04-11 02:05:40 -0400] coderanger: We don't have PHP people here, so using PHP would be unwise
[2012-04-11 02:05:50 -0400] densone: can someone tell me what the url to hosted chef is? I can't seem to find a clear doc that describes how to hook a client into it.
[2012-04-11 02:05:51 -0400] coderanger: Same reason I'm not allowed to rewrite it all in Python
[2012-04-11 02:06:07 -0400] coderanger: densone: It changes, your org name is part of it
[2012-04-11 02:06:32 -0400] densone: coderanger:  Is there a doc that shows this, or a sample client.rb in the web console.
[2012-04-11 02:06:57 -0400] coderanger: densone: Click Orgs from the hosted chef webui, you can download an example knife.rb there
[2012-04-11 02:07:06 -0400] densone: ahh ok
[2012-04-11 02:07:19 -0400] densone: thx coderanger
[2012-04-11 02:07:20 -0400] coderanger: using knife, you can run a bootstrap that will deploy chef to the node, including all needed config data
[2012-04-11 02:08:21 -0400] coderanger: z: Thats about when you should get out Fog and stop using knife ;-)
[2012-04-11 02:08:47 -0400] z: and I was referring to the "many chef-client on one box" more than "many server"
[2012-04-11 02:09:02 -0400] z: which ISTR something like Fog may not actually help with :P
[2012-04-11 02:10:39 -0400] coderanger: Oh, yeah
[2012-04-11 02:11:05 -0400] patcon: coderanger: you're right. retracted
[2012-04-11 02:17:39 -0400] z: coderanger: If you wrote it in Django and did it Open Source then you might get handy contributions
[2012-04-11 02:18:27 -0400] coderanger: z: Heh, as much as I would love to, no one else at opscode has much experience with Django, or Python dev/ops in general
[2012-04-11 02:18:41 -0400] hoover_damm: meh
[2012-04-11 02:18:42 -0400] hoover_damm: :(
[2012-04-11 02:18:45 -0400] hoover_damm: you need to change that
[2012-04-11 02:18:51 -0400] coderanger: I'm working on it
[2012-04-11 02:19:04 -0400] pbuckley: pfft, python is the devil
[2012-04-11 02:19:13 -0400] hoover_damm: pyknife?
[2012-04-11 02:19:14 -0400] hoover_damm: :)
[2012-04-11 02:19:23 -0400] z: tell mattray it is an opportunity to hack on OpenStack (Horizon) and make him commit before telling him, "Actually dude, its just community.opscode.com"
[2012-04-11 02:19:35 -0400] coderanger: hoover_damm: I keep meaning to make a knife-pyexec plugin w/ pychef :)
[2012-04-11 02:19:36 -0400] josephholsten: if I could just stop writing json, I'd be happy
[2012-04-11 02:19:41 -0400] josephholsten: yaml please
[2012-04-11 02:19:56 -0400] z: json > yaml, thx
[2012-04-11 02:20:01 -0400] pbuckley: ruby for life
[2012-04-11 02:20:06 -0400] coderanger: Yeah, yaml is ... confusing
[2012-04-11 02:20:12 -0400] josephholsten: ???
[2012-04-11 02:20:15 -0400] hoover_damm: uhm f yaml
[2012-04-11 02:20:24 -0400] coderanger: Where in chef do you ever write JSON by hand?
[2012-04-11 02:20:27 -0400] coderanger: Maybe data bags?
[2012-04-11 02:20:34 -0400] coderanger: Everything else should be hidden :)
[2012-04-11 02:20:38 -0400] hoover_damm: how hard is it to write json?
[2012-04-11 02:20:40 -0400] pbuckley: vi obviously
[2012-04-11 02:20:41 -0400] cwj: i write roles in json
[2012-04-11 02:20:43 -0400] hoover_damm: soundslike a personalfailure
[2012-04-11 02:20:50 -0400] hoover_damm: address why json sucks
[2012-04-11 02:20:52 -0400] josephholsten: mostly data bags, true
[2012-04-11 02:20:54 -0400] hoover_damm: if it's vi, replace vi
[2012-04-11 02:20:56 -0400] coderanger: Eh, JSON is for computers, Ruby DSLs are for people
[2012-04-11 02:21:10 -0400] hoover_damm: and you should use the ruby dsl where you can
[2012-04-11 02:21:16 -0400] hoover_damm: just so you don't cut yourself unneccesarily
[2012-04-11 02:21:17 -0400] coderanger: josephholsten: Heh, if you added support for yaml on data bag from file, I'm sure we would be happy to merge it :)
[2012-04-11 02:21:33 -0400] coderanger: Should be like a 5 line change
[2012-04-11 02:21:45 -0400] hoover_damm: josephholsten, my beef with yaml is you node.to_yaml and then write that to a file and try and load it without chef
[2012-04-11 02:21:48 -0400] hoover_damm: and fail
[2012-04-11 02:21:58 -0400] mattray: that would be a handy set of patches
[2012-04-11 02:22:08 -0400] hoover_damm: it injects the mash value into yaml
[2012-04-11 02:22:12 -0400] mattray: data bags, roles and environments from yaml
[2012-04-11 02:22:18 -0400] josephholsten: I've been staying away from actual chef patches, cookbooks are so much less intimidating
[2012-04-11 02:22:33 -0400] hoover_damm: step up to the patches bud
[2012-04-11 02:22:44 -0400] coderanger: josephholsten: Thats how I started too, now look at me :D
[2012-04-11 02:22:54 -0400] josephholsten: hmm, that might make spice weasel less of a hack
[2012-04-11 02:23:11 -0400] mattray: josephholsten: my secret is revealed ;)
[2012-04-11 02:23:12 -0400] z: coderanger: you redefined the term "stepped up to patches" by porting to Python
[2012-04-11 02:23:20 -0400] coderanger: z: Details
[2012-04-11 02:23:27 -0400] coderanger: "I did it better" is totally a patch
[2012-04-11 02:23:43 -0400] coderanger: :D
[2012-04-11 02:23:48 -0400] z: "If it was better, why is it still Ruby?"
[2012-04-11 02:23:57 -0400] z: is the RESOLVE WONTFIX comment
[2012-04-11 02:24:06 -0400] z: :D
[2012-04-11 02:24:24 -0400] coderanger: To be fair, erchef does kind of kick ass, it just doesn't solve the same problems as commis
[2012-04-11 02:24:49 -0400] z: now if you want to "I did it better"
[2012-04-11 02:24:54 -0400] z: then please hurry up and get rid of CouchDB
[2012-04-11 02:25:04 -0400] coderanger: I did :P
[2012-04-11 02:25:07 -0400] coderanger: Commis == SQL
[2012-04-11 02:25:14 -0400] juanje: coderanger, mattray: is there any bug about import yaml from file?
[2012-04-11 02:25:20 -0400] coderanger: which is what chef-server is moving to anyway
[2012-04-11 02:25:28 -0400] coderanger: the schemas are remarkably similar
[2012-04-11 02:25:29 -0400] mattray: juanje: I never looked
[2012-04-11 02:25:58 -0400] z: I will ++ repeatedly on the day that CouchDB dies a death in Open Source Chef
[2012-04-11 02:26:07 -0400] josephholsten: ok, you guys are not having a googlable conversation
[2012-04-11 02:26:14 -0400] josephholsten: commis? echef?
[2012-04-11 02:26:18 -0400] coderanger: z: I think we are planning to burn a couch at chefconf
[2012-04-11 02:26:28 -0400] z: coderanger: holy shit, really? its still in Private Chef
[2012-04-11 02:26:29 -0400] coderanger: josephholsten: commis is my chef server written in Django
[2012-04-11 02:26:30 -0400] hoover_damm: lol
[2012-04-11 02:26:39 -0400] hoover_damm: z, they are moving away
[2012-04-11 02:26:45 -0400] coderanger: erchef is the in-progress move to erlang
[2012-04-11 02:26:45 -0400] hoover_damm: but it won't be until .14 that we wont' see it?
[2012-04-11 02:26:46 -0400] hoover_damm: i hear
[2012-04-11 02:26:57 -0400] coderanger: z: Yeah, we are moving over one data type at a time
[2012-04-11 02:27:04 -0400] coderanger: I think users, nodes, and roles live in SQL now
[2012-04-11 02:27:28 -0400] hoover_damm: that's what Opscode gets for using Ruby + JSON
[2012-04-11 02:27:29 -0400] hoover_damm: LOL
[2012-04-11 02:27:30 -0400] z: benefits of OPC is when it breaks, you phone holoway and he frickin *TELEPORTS* to your office to fix it
[2012-04-11 02:27:31 -0400] josephholsten: oh, erchef. I asked kevin smith about that.
[2012-04-11 02:27:34 -0400] hoover_damm: :)
[2012-04-11 02:27:44 -0400] z: so thus whether it uses CouchDB is a Not My Problem (TM) affair
[2012-04-11 02:27:46 -0400] coderanger: josephholsten: It is sexy code :)
[2012-04-11 02:27:55 -0400] z: but for Open Source Chef...... well......
[2012-04-11 02:27:57 -0400] hoover_damm: although it's not opscode's fault that the json module is one of the worst maintained gems in rubygems history
[2012-04-11 02:28:04 -0400] hoover_damm: it's really not
[2012-04-11 02:28:35 -0400] z: Haters gotta hate.
[2012-04-11 02:28:36 -0400] hoover_damm: it's just that they suffered with us and went erlang to have saner gc cycles
[2012-04-11 02:28:45 -0400] hoover_damm: hey what works works
[2012-04-11 02:29:12 -0400] hoover_damm: but if you look with perftools you'll see what's the beef with json
[2012-04-11 02:29:30 -0400] hoover_damm: ruby and c modules are known to be messy
[2012-04-11 02:29:41 -0400] coderanger: Oh god, don't get me started on the json gem
[2012-04-11 02:29:51 -0400] coderanger: I had to go read it the other day to confirm the level of facepalm
[2012-04-11 02:30:04 -0400] josephholsten: you can have a shot at the bson gem if it makes you feel better
[2012-04-11 02:30:26 -0400] coderanger: The codebase is a bad joke with a punchline consisting of "lol performance wut"
[2012-04-11 02:30:27 -0400] hoover_damm: shotgun to the head
[2012-04-11 02:30:57 -0400] coderanger: wubscale!
[2012-04-11 02:31:01 -0400] hoover_damm: i've been a mongo-opposer for years
[2012-04-11 02:31:09 -0400] hoover_damm: i'm thankful to help another client :) move away
[2012-04-11 02:31:37 -0400] hoover_damm: I actually have a very sane valid argument about the objectid index's and how they are calculated and how fragmented you get
[2012-04-11 02:31:40 -0400] hoover_damm: by more webservers writing
[2012-04-11 02:31:50 -0400] z: http://www.mongodb-is-web-scale.com/
[2012-04-11 02:31:51 -0400] hoover_damm: you don't want to fragment your primary key (objectid)
[2012-04-11 02:32:00 -0400] z: love that :)
[2012-04-11 02:32:14 -0400] coderanger: z: Also the node one
[2012-04-11 02:32:19 -0400] josephholsten: I should totally work on my port of chef to node.js + mongo
[2012-04-11 02:32:40 -0400] coderanger: joewilliams: Somewhere kevsmith just got angry and he doesn't know why
[2012-04-11 02:32:42 -0400] hoover_damm: i lack my notes from Mongo Seattle anymore
[2012-04-11 02:32:43 -0400] hoover_damm: :(
[2012-04-11 02:33:04 -0400] hoover_damm: it was funny though
[2012-04-11 02:33:59 -0400] coderanger: both couchbase and 10gen were sponsors for pycon, it was very hard to resist the urge to troll them to a crisp
[2012-04-11 02:34:17 -0400] z: trollololol
[2012-04-11 02:34:17 -0400] hoover_damm: honestly couchdb isn't bad
[2012-04-11 02:34:30 -0400] josephholsten: sure, mongo has a place too
[2012-04-11 02:34:32 -0400] hoover_damm: it's just gotta be the most misunderstood nosql out there
[2012-04-11 02:34:45 -0400] z: replica sets are cool
[2012-04-11 02:34:50 -0400] hoover_damm: part of it comes from not knowing how to support it
[2012-04-11 02:34:52 -0400] z: sharding is the devils work
[2012-04-11 02:35:06 -0400] hoover_damm: i learned a crapton about couchdb supporting chef in the early days
[2012-04-11 02:35:12 -0400] hoover_damm: COUCHDB-275
[2012-04-11 02:35:29 -0400] hoover_damm: helped a crapton of chef users with 20gig chef.couch's
[2012-04-11 02:35:30 -0400] hoover_damm: lol
[2012-04-11 02:35:49 -0400] coderanger: Any time you hear the term "autosharding", just walk away
[2012-04-11 02:35:49 -0400] josephholsten: omg
[2012-04-11 02:35:51 -0400] hoover_damm: its not couchdb's fault that the end-user didn't know to compact regularly
[2012-04-11 02:36:05 -0400] coderanger: autosharding isn't a thing and never will be
[2012-04-11 02:36:23 -0400] hoover_damm: my mongo autoshards and autoscales
[2012-04-11 02:36:28 -0400] z: hoover_damm: spin up $insert_favourite_cloud here, join a few thousand nodes to a Chef server running CouchDB and set chef-client convergence interval to 5 minutes. Then tell me how often you need to compact.
[2012-04-11 02:36:33 -0400] hoover_damm: converted fog to javascript
[2012-04-11 02:36:35 -0400] coderanger: hoover_damm: Yeah, the same was try of postgres 10 years ago, so they fucking add autovacuum like sane people
[2012-04-11 02:36:37 -0400] hoover_damm: so i could run fog in the mongo cli
[2012-04-11 02:36:57 -0400] hoover_damm: honestly every person who bitches about autovacuum
[2012-04-11 02:37:00 -0400] hoover_damm: doesn't get postgres
[2012-04-11 02:37:21 -0400] hoover_damm: because if your complaining about it, you failed to properly tune your setup so you wouldn't complain
[2012-04-11 02:37:24 -0400] hoover_damm: :)
[2012-04-11 02:37:34 -0400] coderanger: Yeah, my point is that couch makes it your problem
[2012-04-11 02:37:44 -0400] coderanger: josephholsten: We support both
[2012-04-11 02:37:51 -0400] josephholsten: !!! yay
[2012-04-11 02:37:53 -0400] hoover_damm: josephholsten, lowest common denominator
[2012-04-11 02:37:59 -0400] patcon: > coderanger: Eh, JSON is for computers, Ruby DSLs are for people
[2012-04-11 02:38:04 -0400] hoover_damm: postgresql has a newer SQL syntax then mysql does
[2012-04-11 02:38:13 -0400] hoover_damm: so you could use functions in postgres that could never appear in mysql
[2012-04-11 02:38:19 -0400] hoover_damm: that would piss off users more then couchdb
[2012-04-11 02:38:24 -0400] coderanger: All we want from sql is "select JSON blob where id=" and "insert (id, blob)"
[2012-04-11 02:38:32 -0400] coderanger: works surprisingly well
[2012-04-11 02:38:33 -0400] hoover_damm: 'Oh you went to SQL but I have to use ... because I can't use MySQL... '
[2012-04-11 02:38:36 -0400] hoover_damm: that would be lame on twitter
[2012-04-11 02:38:50 -0400] josephholsten: mysql: the people's k-v store
[2012-04-11 02:38:50 -0400] coderanger: no gorram map reduce or anything else
[2012-04-11 02:38:53 -0400] patcon: webui's are for people. version-ctrl is for people. webui => JSON  JSON is for people :)
[2012-04-11 02:39:05 -0400] patcon: coderanger: ^^
[2012-04-11 02:39:22 -0400] coderanger: "webui => JSON" ?
[2012-04-11 02:39:38 -0400] coderanger: last I checked our UI had no JSON in it
[2012-04-11 02:39:45 -0400] josephholsten: must not stab
[2012-04-11 02:39:55 -0400] patcon: coderanger: chef has a webui, but it totally borks the idea of version controlling unless you store databags and everythign in json
[2012-04-11 02:39:59 -0400] hoover_damm: map reduce the webui
[2012-04-11 02:40:01 -0400] hoover_damm: to get json
[2012-04-11 02:40:33 -0400] krankzinnig: Hey guys, total chef noob here, I want to see if chef can assist my project. Anyone got a minute to help?
[2012-04-11 02:40:40 -0400] coderanger: patcon: everything but databags has a nice DSL wrapper
[2012-04-11 02:40:46 -0400] coderanger: krankzinnig: Go for it :)
[2012-04-11 02:40:57 -0400] coderanger: we are just being technical curmudgeons
[2012-04-11 02:41:00 -0400] patcon: coderanger: knife show data bag dbag dbag_item -Fj > data_bags/dbag/dbag_item.json
[2012-04-11 02:41:15 -0400] coderanger: patcon: "everything but databags" :P
[2012-04-11 02:41:22 -0400] krankzinnig: Is it possible to allow anyone with an amazon account connect to 1 chef server to retrieve services (or cookbooks) from
[2012-04-11 02:41:27 -0400] patcon: same for roles or anything else ppl might change in UI. only applies if you're trying to make your infra mega-accessible to anyone in the org
[2012-04-11 02:41:29 -0400] juanje: coderanger: webui deos has json. try to edit roles, env, etc atrbs
[2012-04-11 02:41:35 -0400] coderanger: And as I noted, knife data bag from file foo bar.yml seems like a good addition to me
[2012-04-11 02:41:48 -0400] patcon: maybe a bad idea though.. :)
[2012-04-11 02:41:57 -0400] coderanger: juanje: No, I wish it had JSON, instead it has terrible JSON editor widgets that make me sad
[2012-04-11 02:42:07 -0400] patcon: yep. yml just a good. just a reason not to ruby it up
[2012-04-11 02:42:14 -0400] juanje: wel... I meant that
[2012-04-11 02:42:29 -0400] juanje: it makes me cry
[2012-04-11 02:42:44 -0400] coderanger: krankzinnig: Not sure what you are asking, but I think the answer is "that isn't what a chef server does"
[2012-04-11 02:44:04 -0400] coderanger: krankzinnig: What are you trying to do, at a higher level?
[2012-04-11 02:44:44 -0400] juanje: coderanger: I'm looking into add knife import from yml. I don't think it's much work
[2012-04-11 02:45:07 -0400] coderanger: juanje: Totally, should be no more than a few lines
[2012-04-11 02:45:21 -0400] krankzinnig: I want to provide a "one click" web interface to install services such as mysql, apache2, and etc onto a cloud host such as amazon or rackspace.
[2012-04-11 02:45:34 -0400] krankzinnig: Is this possible without actually providing the hosting myself?
[2012-04-11 02:46:10 -0400] coderanger: krankzinnig: You could use Chef to power that, yes
[2012-04-11 02:46:19 -0400] coderanger: I presume you mean hosted chef
[2012-04-11 02:46:30 -0400] krankzinnig: I haven't gotten heavy into the details yet
[2012-04-11 02:46:33 -0400] coderanger: in which case either they need to provide a hosted chef client key
[2012-04-11 02:46:43 -0400] krankzinnig: But I was referred to this by the guys at Joyent
[2012-04-11 02:46:44 -0400] coderanger: or you need to use your own, which is going to get pricey
[2012-04-11 02:46:53 -0400] patcon: coderanger: aware of anyone rebuilding the chef-webui on any other platforms?
[2012-04-11 02:47:03 -0400] coderanger: patcon: Other than commis and erchef, no
[2012-04-11 02:47:20 -0400] krankzinnig: So our users would require a chef hosted account as well? Or did I misunderstand
[2012-04-11 02:47:28 -0400] patcon: coderanger: thx. was totally oblivious, so will check er out
[2012-04-11 02:47:52 -0400] coderanger: patcon: A fair number of people have used the client bindings to integrate just bits of the webui functionality into their management tools though
[2012-04-11 02:48:13 -0400] josephholsten: was webui going to be rewritten with erchef? I thought it was only the api server
[2012-04-11 02:48:14 -0400] coderanger: patcon: PyChef, Spice, jClouds-Chef, (the PHP binding we don't talk about)
[2012-04-11 02:48:29 -0400] coderanger: josephholsten: Ahh true, webui is still rails
[2012-04-11 02:48:32 -0400] coderanger: So just commis then
[2012-04-11 02:48:40 -0400] patcon: coderanger: haha thx man
[2012-04-11 02:49:13 -0400] coderanger: If people want the (terrible) PHP client, just ask me about it, I've not published it because I won't support it
[2012-04-11 02:49:23 -0400] coderanger: but I'm happy to hand over the code if you want it
[2012-04-11 02:50:02 -0400] patcon: actually, would be really useful for tinkering, if you wouldn't mind
[2012-04-11 02:50:44 -0400] coderanger: patcon: Super basic, but you'll figure it out https://gist.github.com/a52c932629d6a044716d
[2012-04-11 02:51:14 -0400] josephholsten: coderanger: technically an improvement over merb
[2012-04-11 02:51:34 -0400] coderanger: Yeah, I think moving the FOSS webui to rails is in progress now
[2012-04-11 02:51:39 -0400] patcon: coderanger: sahweeet
[2012-04-11 02:52:08 -0400] z: coderanger: I didn't know you had a dirty (PHP) side too
[2012-04-11 02:52:30 -0400] coderanger: z: If you want to know dirty, ask me about my days TAing a Perl class at Uni
[2012-04-11 02:52:35 -0400] coderanger: Only job I've ever been fired from
[2012-04-11 02:52:47 -0400] z: Tsk tsk!
[2012-04-11 02:52:47 -0400] coderanger: (probably because I kept telling students to not use Perl for X)
[2012-04-11 02:54:03 -0400] coderanger: "Should I use Perl to write my GUI app?" "What? Are you serious?"
[2012-04-11 02:54:22 -0400] cwj: heh
[2012-04-11 02:54:32 -0400] josephholsten: and until we get AAA, I don't have any preference of django admin to rails one-off
[2012-04-11 02:54:32 -0400] josephholsten: would it kill us to have the nil equivalent in data bags and node attributes just nop on #each?
[2012-04-11 02:55:57 -0400] josephholsten: coderanger: pretty clean for php
[2012-04-11 02:56:46 -0400] josephholsten: you would have had a hard time with my college job: intern under the guy who wrote http://shop.oreilly.com/product/9781565926097.do
[2012-04-11 02:57:13 -0400] josephholsten: and the cs dept maintains plt scheme
[2012-04-11 02:58:04 -0400] krankzinnig: @coderanger , in the hosted chef pricing, would every individual user of my interface be a node?
[2012-04-11 02:59:08 -0400] josephholsten: krankzinnig: machines
[2012-04-11 02:59:23 -0400] coderanger: krankzinnig: A node == a server running chef-client
[2012-04-11 03:00:00 -0400] coderanger: josephholsten: You mean racket ;-)
[2012-04-11 03:00:17 -0400] josephholsten: it was still scheme then
[2012-04-11 03:00:32 -0400] josephholsten: so yes ;)
[2012-04-11 03:00:52 -0400] dyer: Hey guys, anyone have any idea when this ( https://github.com/opscode/knife-ec2/pull/24 ) is going to be merged?
[2012-04-11 03:01:51 -0400] josephholsten: coderanger: I have 'nodes' for machines I don't actually run chef on, github.com, switches &c. they're good to store data on. but not ideal if you're on platform I guess.
[2012-04-11 03:03:30 -0400] josephholsten: assuming the author has filled out the CLA, it's marked resolved and so should be in the next triage/code-review
[2012-04-11 03:03:39 -0400] josephholsten: dyer: ^^
[2012-04-11 03:04:15 -0400] dyer: ok, thats what I was wondering, any idea when the next triage/code-review is ?
[2012-04-11 03:04:35 -0400] coderanger: dyer: Tomorrow
[2012-04-11 03:04:39 -0400] coderanger: every wednesday
[2012-04-11 03:04:45 -0400] coderanger: but they don't get to every project every week
[2012-04-11 03:04:53 -0400] coderanger: lots to go through :-/
[2012-04-11 03:04:56 -0400] coderanger: Ping btm
[2012-04-11 03:05:04 -0400] coderanger: josephholsten: I was simplifying :)
[2012-04-11 03:13:15 -0400] z: mattray: nice spot on http://hpcloud.com/partner/opscode
[2012-04-11 03:13:35 -0400] mattray: z: I have a vested interest :)
[2012-04-11 03:13:43 -0400] z: mattray: pretty sure that link should be http://www.opscode.com/partners/hp/
[2012-04-11 03:14:01 -0400] dyer: @coderanger, thanks!
[2012-04-11 03:14:04 -0400] coderanger: z: Its a redirect
[2012-04-11 03:14:23 -0400] coderanger: z: Oh, yeah, still broken, should at least be opscode.com/hpcloud
[2012-04-11 03:14:44 -0400] z: I guess we're on record as being an Opscode Private Chef install at last then. Booyah.
[2012-04-11 03:14:47 -0400] coderanger: Some just forgot a //
[2012-04-11 03:14:48 -0400] coderanger: :)
[2012-04-11 03:15:00 -0400] coderanger: z: No backsies! :D
[2012-04-11 03:15:28 -0400] coderanger: z: You being on the speaker roster for ChefConf was also somewhat of a giveaway :P
[2012-04-11 03:15:51 -0400] z: coderanger: I heard about this new hotness the other day, I think it was called "CFengine". I'ma get me some of that good shit soon, yo
[2012-04-11 03:16:12 -0400] mattray: coderanger prefers pycFengine
[2012-04-11 03:16:28 -0400] z: side note; I used to run a fairly decent-size CFengine 2.x install and it *is* quite good at the simple stuff IMO
[2012-04-11 03:16:54 -0400] z: mattray: if coderanger needed to use brainfuck, within mere *minutes* there would be pyBrainfuck
[2012-04-11 03:16:54 -0400] coderanger: mattray: peace out, gonna go work on Salt!
[2012-04-11 03:17:19 -0400] z: http://en.wikipedia.org/wiki/Brainfuck
[2012-04-11 03:17:27 -0400] coderanger: z: To be fair these days I'm doing the reverse
[2012-04-11 03:17:49 -0400] coderanger: working on porting a Python tool to Ruby (Sentry) :)
[2012-04-11 03:17:49 -0400] mattray: I'm gonna go too, gotta go make sure knife-rackspace is as nice as knife-hp
[2012-04-11 03:18:02 -0400] z: coderanger: Hang on, hang on, wind back about 2 minutes
[2012-04-11 03:18:20 -0400] z: coderanger: Do you /dare/ to imply my personal interaction skills are not the *sole* reason I got a ChefConf spot?
[2012-04-11 03:18:33 -0400] z: coderanger: I may be forced to take offense, dear coderanger!
[2012-04-11 03:19:33 -0400] josephholsten: coderanger: this salt? http://saltstack.org/
[2012-04-11 03:19:49 -0400] z: josephholsten: everything is a 'stack' these days
[2012-04-11 03:20:12 -0400] coderanger: "Alex Howells is the Lead Systems Architect at HP Cloud Services, where he spearheads efforts within Technical Operations around building, deploying and managing infrastructure at scale."
[2012-04-11 03:20:39 -0400] coderanger: I guess it doesn't say Private Chef in there, but hopefully most could figure that out :)
[2012-04-11 03:20:46 -0400] coderanger: josephholsten: Yeah, its a puppet clone in python
[2012-04-11 03:20:57 -0400] z: coderanger: "Alex Howells is the Lead Systems Architect who also happens to be *terrible* at writing in the third person. In his spare time he pretends to like ya'll on IRC, and has a dog who is simply too nice to ever bite you".
[2012-04-11 03:21:11 -0400] josephholsten: sounds like a more appropriate home for it
[2012-04-11 03:21:35 -0400] z: also we should probably clarify "spearheads" before anyone gets the wrong idea
[2012-04-11 03:21:40 -0400] coderanger: josephholsten: I get to hear about it a lot since I'm forcing the Python Software Foundation to use Chef
[2012-04-11 03:22:00 -0400] z: that means "turns up and talks in your cube, then leaves you to do all the hard work"
[2012-04-11 03:22:01 -0400] coderanger: z: "Note: We don't let him use an actual spear ... anymore"
[2012-04-11 03:22:33 -0400] coderanger: Credit travels up, blame travels down
[2012-04-11 03:22:49 -0400] z: coderanger: pffffft, it has actually been a surprisingly long time since I wielded root...
[2012-04-11 03:22:59 -0400] z: coderanger: .. because these days I let Chef wield it for me?!  (badumtsh!)
[2012-04-11 03:23:17 -0400] josephholsten: 664: because wheel is good enough
[2012-04-11 03:23:31 -0400] z: look at the banking crisis to understand why
[2012-04-11 03:23:52 -0400] z: credit has to be earnt, not lent sub-prime ;)
[2012-04-11 03:25:56 -0400] z: Right it being about 4am methinks it is time I invoke self.sleep(8h) and hope the return code is not 127 as that implies NIGHTMARES
[2012-04-11 03:26:11 -0400] miah: lol
[2012-04-11 03:26:47 -0400] coderanger: laters
[2012-04-11 03:26:56 -0400] z: later ya'll :)
[2012-04-11 03:27:22 -0400] miah: lates
[2012-04-11 03:34:32 -0400] miah: great game =)
[2012-04-11 03:34:57 -0400] coderanger: It is good when lurking on IRC since a song is rarely more than a minute or two
[2012-04-11 03:35:11 -0400] miah: yup
[2012-04-11 03:35:19 -0400] miah: same for hsl
[2012-04-11 03:35:39 -0400] coderanger: Heh, and there goes the steam notice :)
[2012-04-11 03:37:15 -0400] miah: :P
[2012-04-11 03:38:18 -0400] AntonZ: guys, has anyone seen such error before while mounting amazon ebs volume using aws cookbook  No version specified, and no candidate version available for xfsprogs
[2012-04-11 03:38:53 -0400] coderanger: What OS?
[2012-04-11 03:39:03 -0400] AntonZ: redhat
[2012-04-11 03:39:06 -0400] AntonZ: 5.6
[2012-04-11 03:39:17 -0400] AntonZ: typically i mounted the same way using centos and worked fine
[2012-04-11 03:39:25 -0400] AntonZ: on many cases
[2012-04-11 03:39:35 -0400] coderanger: Quite possible yum for RH doesn't call it that
[2012-04-11 03:39:45 -0400] coderanger: try yum search on the server and see if it knows about the package
[2012-04-11 03:39:56 -0400] holoway: god bless deltarpm
[2012-04-11 03:40:09 -0400] AntonZ: let me see
[2012-04-11 03:40:26 -0400] holoway: AntonZ: that sounds like you just haven't uploaded the xfsprogs cookbook?
[2012-04-11 03:40:35 -0400] AntonZ: yes, yum doesnt know about it
[2012-04-11 03:40:59 -0400] AntonZ: ive used the same routine many many times on centos, sounds like OS doesnt know aobut it
[2012-04-11 03:41:05 -0400] holoway: ahh
[2012-04-11 03:41:06 -0400] holoway: I see
[2012-04-11 03:41:08 -0400] AntonZ: which is weird sort of
[2012-04-11 03:41:09 -0400] miah: redhat requires you to license xfs
[2012-04-11 03:41:16 -0400] AntonZ: really ?
[2012-04-11 03:41:18 -0400] AntonZ: wow
[2012-04-11 03:41:24 -0400] miah: yes, but its included in centos
[2012-04-11 03:41:31 -0400] AntonZ: sigh... haha
[2012-04-11 03:41:37 -0400] AntonZ: man... hoop, after hoop
[2012-04-11 03:42:10 -0400] coderanger: And people wonder why I <3 ubuntu
[2012-04-11 03:42:24 -0400] miah: ya
[2012-04-11 03:42:29 -0400] |shad0w|: actually its the tools
[2012-04-11 03:42:33 -0400] coderanger: You can probably yank the relevant centos RPMs and cookbook_file them
[2012-04-11 03:42:34 -0400] AntonZ: people loved centos just a few years ago... things come and go...
[2012-04-11 03:42:36 -0400] |shad0w|: afaik the kernel module is there
[2012-04-11 03:42:55 -0400] miah: centos is still fine, i prefer ubuntu as well currently
[2012-04-11 03:43:18 -0400] AntonZ: i like centos, but muddling with oracle, and centos is not officially supported
[2012-04-11 03:43:43 -0400] miah: ya
[2012-04-11 03:43:59 -0400] holoway: AntonZ: neither will your rhel box be with XFS from centos installed rather than the scalable filesystem add-on
[2012-04-11 03:44:44 -0400] AntonZ: hmmm
[2012-04-11 03:45:09 -0400] miah: indeed
[2012-04-11 03:45:58 -0400] AntonZ: should i try centos and xfs :)
[2012-04-11 03:45:59 -0400] holoway: AntonZ: you can use Oracle Enterprise Linux, which ships with XFS afaik, and is certainly a supported configuration
[2012-04-11 03:46:20 -0400] AntonZ: yes, but i need to incorporate the build, all in one
[2012-04-11 03:47:01 -0400] AntonZ: i am installing oracle cookbook and then mounted ebs volume where the DB will go
[2012-04-11 03:47:55 -0400] AntonZ: if i need to rebuild the box for whatever reason, i have all my oracle stuff on ebs, oracle cookbook takes care of pre-requisites and im golden
[2012-04-11 03:48:10 -0400] miah: awesome
[2012-04-11 03:48:39 -0400] AntonZ: doesnt sound too optimistic knowing you :)
[2012-04-11 03:48:42 -0400] coderanger: Until EBS goes down ....
[2012-04-11 03:49:00 -0400] AntonZ: well, it has redundancy, plus snapshots
[2012-04-11 03:49:04 -0400] coderanger: Doesn't EBS have the highest fail rate of all the aws productions?
[2012-04-11 03:49:17 -0400] AntonZ: isnt supposed to be most redundant ?
[2012-04-11 03:49:37 -0400] coderanger: I just hear lots of people complain about it frequently
[2012-04-11 03:49:47 -0400] miah: there are random performance issues
[2012-04-11 03:49:58 -0400] coderanger: maybe thats it
[2012-04-11 03:50:04 -0400] AntonZ: because its shared ?
[2012-04-11 03:50:08 -0400] miah: its certainly possible to lose a volume but i never have.
[2012-04-11 03:50:11 -0400] AntonZ: meaning spindles are shared
[2012-04-11 03:50:23 -0400] miah: i run mysql on ebs, several volumes into raid 1+0
[2012-04-11 03:50:39 -0400] AntonZ: did you crate those programatically ?
[2012-04-11 03:50:45 -0400] AntonZ: create*
[2012-04-11 03:50:48 -0400] miah: not currently
[2012-04-11 03:51:21 -0400] AntonZ: i see... well, as i explained my curent scenario, thats where im now, at this time just need to accomplish
[2012-04-11 03:52:01 -0400] miah: ya. there is a mdadm resource so you can do it
[2012-04-11 03:52:09 -0400] coderanger: the whole idea of RAID on a network block device also seems ... insane
[2012-04-11 03:52:13 -0400] miah: i just havent written the book for my environment
[2012-04-11 03:52:38 -0400] miah: coderanger: ya but ebs io is really variable
[2012-04-11 03:52:59 -0400] miah: so raiding it helps
[2012-04-11 03:53:05 -0400] coderanger: Sure, but its already just packets, they could just have RAID be part of the protocol, but they don't
[2012-04-11 03:53:27 -0400] coderanger: It is a bandage over a broken block device
[2012-04-11 03:53:35 -0400] josephholsten: mmm multicast udp
[2012-04-11 03:54:10 -0400] miah: ya
[2012-04-11 03:54:21 -0400] miah: ebs is really not great
[2012-04-11 03:55:26 -0400] AntonZ: yea, but when you raid ebs, it only creates raid0, doesn it ?
[2012-04-11 03:55:35 -0400] miah: you can raid it however you want
[2012-04-11 03:56:34 -0400] AntonZ: interesting, i wish there was a cookbook - "dreaming" :)
[2012-04-11 03:56:51 -0400] miah: a cookbook for?
[2012-04-11 03:57:53 -0400] AntonZ: an atatchable EBS volume in raid configuration
[2012-04-11 03:57:59 -0400] coderanger: EBS is really just a block device, you could LVM them if you wanted
[2012-04-11 03:58:28 -0400] AntonZ: i get confused when talk about LVM and raid
[2012-04-11 03:58:50 -0400] AntonZ: LVM is a bunch of disks, and so is raid
[2012-04-11 03:58:58 -0400] coderanger: Yeah, they similar
[2012-04-11 03:59:07 -0400] coderanger: different goals though
[2012-04-11 03:59:22 -0400] miah: indeed
[2012-04-11 03:59:32 -0400] josephholsten: can lvm do write/read redundancy? redundant checksums?
[2012-04-11 03:59:37 -0400] coderanger: LVM is the equivalent of virtual memory for disk sectors
[2012-04-11 03:59:46 -0400] AntonZ: such as ? considering my scenario where i want to be able to attach my saved lvm/raid volume in case of instance disasaster
[2012-04-11 03:59:54 -0400] coderanger: it just remaps virtual sectors to real sectors "somewhere"
[2012-04-11 04:00:01 -0400] josephholsten: or just gluing partitions together?
[2012-04-11 04:00:17 -0400] miah: it has some raid capabilities but thats not its purpose
[2012-04-11 04:00:32 -0400] coderanger: It is only really similar to raid0
[2012-04-11 04:00:48 -0400] miah: its more for allowing you to do abstract volume management with your disks.
[2012-04-11 04:01:02 -0400] coderanger: which is also doing magic rewrites on extents
[2012-04-11 04:01:07 -0400] miah: and raid is for making data more redundant, and accessable
[2012-04-11 04:01:20 -0400] miah: right
[2012-04-11 04:01:21 -0400] josephholsten: but it's really just designed for jbod?
[2012-04-11 04:01:32 -0400] coderanger: except for RAID0, which is just about speed and so isn't reeeeeally RAID at all
[2012-04-11 04:01:36 -0400] holoway: lvm manages volumes, raid manages the redundancy of physical devices
[2012-04-11 04:01:43 -0400] coderanger: LVM is like RAID0's big brother
[2012-04-11 04:01:46 -0400] miah: raid0 has no redundancy
[2012-04-11 04:01:49 -0400] holoway: no
[2012-04-11 04:01:56 -0400] holoway: LVM is a partitons big brother
[2012-04-11 04:02:01 -0400] miah: right
[2012-04-11 04:02:15 -0400] miah: its essentially advanced partitioning.. but if you think of partitions as volumes
[2012-04-11 04:02:23 -0400] miah: abstract volume management sums it up
[2012-04-11 04:02:38 -0400] holoway: disks->raid->devices->volumes
[2012-04-11 04:02:40 -0400] coderanger: eh, partions are space allocations, LVM is a translation system
[2012-04-11 04:03:01 -0400] AntonZ: how about expendability in amazon case, lets say i have 600 gig volume, which route would i take to be able to expand beyond XX ?
[2012-04-11 04:03:29 -0400] miah: well, there is a size limit on single ebs volumes as well
[2012-04-11 04:03:52 -0400] AntonZ: 2TB ?
[2012-04-11 04:03:53 -0400] holoway: coderanger: due respect, you're over-simplyfying in a way that is detrimental to reality :)
[2012-04-11 04:04:05 -0400] coderanger: AntonZ: either really, LVM vs. RAID0 for simple 2 devices -> one volume is a wash
[2012-04-11 04:04:30 -0400] AntonZ: im just looking for a way to be able to expand, mount and redunt
[2012-04-11 04:04:48 -0400] AntonZ: doesnt sound like out of this world request
[2012-04-11 04:05:03 -0400] josephholsten: AntonZ: it's not.
[2012-04-11 04:05:26 -0400] holoway: AntonZ: mdadm+ebs
[2012-04-11 04:05:27 -0400] josephholsten: AntonZ: the problem is that as soon as you actually need to meet your request, you'll start having more requests
[2012-04-11 04:05:33 -0400] AntonZ: i havent hear a single solution yet though :) - especially in an programatic way
[2012-04-11 04:05:55 -0400] AntonZ: well, amazon has limitations, i agree
[2012-04-11 04:06:10 -0400] holoway: AntonZ: with the filesystem on top built with LVM
[2012-04-11 04:06:23 -0400] miah: right
[2012-04-11 04:06:34 -0400] holoway: AntonZ: expansion is adding another RAID of EBS volumes as a PV
[2012-04-11 04:06:42 -0400] holoway: and extending your logical volume
[2012-04-11 04:06:45 -0400] josephholsten: AntonZ: suddenly you need serious append access. Or random read access. Or many updates.
[2012-04-11 04:06:49 -0400] miah: lvm snapshot
[2012-04-11 04:07:19 -0400] holoway: AntonZ: but honestly, performance will suck, and the possibility of multi-EBS-backed-disk failure is very real
[2012-04-11 04:07:46 -0400] holoway: and as an added bonus, it will be complicated if you aren't familiar with those technologies standing alone
[2012-04-11 04:08:13 -0400] josephholsten: AntonZ: you realize backup is scary. Or you need to backup a very large database without effecting performance. or
[2012-04-11 04:08:14 -0400] AntonZ: many suggestions, but no single conslusion just yet... taking everything said, amazon supports only ebs snapshotting, so thats the only fissible solution for backups
[2012-04-11 04:08:41 -0400] miah: no, you can lvm snapshot to another raided ebs volume set
[2012-04-11 04:08:42 -0400] AntonZ: for us, night time backups are fine
[2012-04-11 04:08:51 -0400] AntonZ: true Miah
[2012-04-11 04:09:08 -0400] miah: also
[2012-04-11 04:09:31 -0400] miah: reliably, and usefully backing up LARGE db's is crazy.. replication is generally a answer
[2012-04-11 04:09:49 -0400] josephholsten: ; )
[2012-04-11 04:11:00 -0400] AntonZ: ah sigh, rebuild on centos went well, until it hit  # check that volume exists
[2012-04-11 04:11:00 -0400] AntonZ: Apr 11 00:09:39 ip-10-0-11-20 RightLink[2425]: 105   vol = volume_by_id(vol_id)
[2012-04-11 04:11:00 -0400] AntonZ: Apr 11 00:09:39 ip-10-0-11-20 RightLink[2425]: ***   raise "No volume with id #{vol_id} exists" unless vol
[2012-04-11 04:11:05 -0400] AntonZ: and it does exist
[2012-04-11 04:20:39 -0400] josephholsten: okay, deploy time
[2012-04-11 04:20:42 -0400] josephholsten: later!
[2012-04-11 05:14:28 -0400] AntonZ: is there anyone here from rightscale night screw ?
[2012-04-11 05:15:13 -0400] AntonZ: crew*
[2012-04-11 07:15:23 -0400] eugenmayer: after rebooting my chef-server, i cannot let any clients update ( permission denied by server ) and when i click on "status" in the webui,  it hangs forever. Cannot see anything interesting in the logs
[2012-04-11 07:16:01 -0400] eugenmayer: http://pastie.org/3766604
[2012-04-11 07:16:10 -0400] eugenmayer: thats what i get on chef-client run
[2012-04-11 07:17:45 -0400] eugenmayer: ok, using search in the webui also hangs, so it seems to be the solr server
[2012-04-11 07:18:48 -0400] eugenmayer: [Wed, 11 Apr 2012 09:18:19 +0200] FATAL: Couldn't write to pidfile /var/run/chef/solr.pid, permission denied: Permission denied - /var/run/chef/solr.pid
[2012-04-11 07:18:55 -0400] eugenmayer: ahdid we had this some days before?
[2012-04-11 07:19:02 -0400] eugenmayer: seems a more common issue
[2012-04-11 07:20:12 -0400] eugenmayer: under which user does chef-solr run?
[2012-04-11 07:23:25 -0400] eugenmayer: jtimberman: iam not sure thats not related to the debian package rather then to chef, but mayb that issue still raises in the current beta. It seems like under debian, chef-solr is running under the chef user. The /var/run/chef folder is owned by root:root with 744 .. so solr cannot write his pid. In addition /var/log/chef has the same issue.
[2012-04-11 07:25:09 -0400] eugenmayer: jtimberman: at least, its a general issues. I think, 2 or 3 days ago, someone had exactly the same issue
[2012-04-11 07:44:20 -0400] flaccid: eugenmayer: this one is on the mailing list
[2012-04-11 07:44:34 -0400] eugenmayer: flaccid: ah ok - not reading it yet. Sorry
[2012-04-11 07:44:38 -0400] eugenmayer: pretty  new here
[2012-04-11 07:45:00 -0400] flaccid: yeah i just noticed it on the list the other day, there might be a solution for you in there
[2012-04-11 07:45:28 -0400] eugenmayer: i solved it already for me
[2012-04-11 07:45:46 -0400] eugenmayer: wasnt much to do - pretty straight forward
[2012-04-11 07:46:16 -0400] erikh: eugenmayer: I've been seeing this too
[2012-04-11 07:46:31 -0400] erikh: chown -R chef:chef /var/run/chef and a bounce of all services fixes it.
[2012-04-11 07:46:40 -0400] eugenmayer: and the log folder
[2012-04-11 07:46:48 -0400] erikh: oh? I missed the log folder issue
[2012-04-11 07:46:49 -0400] eugenmayer: eventhough solr starts, it cannot write logs anymore.
[2012-04-11 07:46:55 -0400] erikh: oh, well now I know
[2012-04-11 07:46:58 -0400] erikh: :P
[2012-04-11 07:47:00 -0400] eugenmayer: ;-)
[2012-04-11 07:52:32 -0400] sparc: Hi Chef folks.  Are there books for Chef other than the OReilly Test-driven Infrastructure with Chef?
[2012-04-11 07:52:47 -0400] sparc: Google is making it hard to because of the cooking-related items
[2012-04-11 07:52:52 -0400] sparc: *search
[2012-04-11 07:54:38 -0400] |shad0w|: add opscode to your searches
[2012-04-11 07:55:44 -0400] BryanWB: sparc: coming this summer
[2012-04-11 07:55:56 -0400] sparc: cool, looking forward to it :)
[2012-04-11 07:55:57 -0400] sparc: http://assets.en.oreilly.com/1/event/60/Infrastructure%20Automation%20with%20Opscode%20Chef%20Presentation.pdf
[2012-04-11 07:56:00 -0400] sparc: this one looked interesting
[2012-04-11 07:56:08 -0400] sparc: although just a presentation
[2012-04-11 07:56:17 -0400] sparc: it does seem like the wiki and online docs are pretty good though
[2012-04-11 07:56:25 -0400] sparc: as well as the training materials are oss
[2012-04-11 07:56:29 -0400] BryanWB: same pikesley put together a very nice tutorial
[2012-04-11 07:57:02 -0400] BryanWB: sparc: https://github.com/pikesley/learn-yourself-some-chef
[2012-04-11 07:57:57 -0400] sparc: very nice  this looks pretty good.  cool, thanks much
[2012-04-11 07:58:39 -0400] BryanWB: sparc: my advice use pry to learn ruby and chef
[2012-04-11 08:00:45 -0400] sparc: the gem?
[2012-04-11 08:00:45 -0400] bawt: the gem is there, so that error makes no sense to me
[2012-04-11 08:01:37 -0400] sparc: BryanWB: cool, will check it out
[2012-04-11 08:02:07 -0400] BryanWB: sparc: yes, pry and pry-doc
[2012-04-11 08:03:25 -0400] sparc: oh i get it, it's a print-look
[2012-04-11 08:03:27 -0400] sparc: loop
[2012-04-11 08:03:50 -0400] sparc: yeah, that'd be way helpful.  i'm coming from perl, and i only have the debugger there, usually
[2012-04-11 08:14:12 -0400] sparc: you've all probably seen this, but i liked how it was just all positive about starting with chef: http://devopsanywhere.blogspot.com/2011/10/month-with-chef.html
[2012-04-11 08:14:17 -0400] sparc: *wasn't
[2012-04-11 08:18:34 -0400] BryanWB: sparc: i wrote it
[2012-04-11 08:18:48 -0400] sparc: oh .
[2012-04-11 08:19:07 -0400] sparc: sorry about that, man
[2012-04-11 08:19:32 -0400] sparc: very helpful, thank you!@
[2012-04-11 08:19:37 -0400] BryanWB: great ;)
[2012-04-11 08:22:28 -0400] BryanWB: sampikesley: awesome!
[2012-04-11 08:23:46 -0400] sampikesley: find out how crippled my cookbooks are :)
[2012-04-11 08:25:29 -0400] eugenmayer: anybody uses preseeds here?
[2012-04-11 08:25:48 -0400] erikh: I've used them for mysql
[2012-04-11 08:25:58 -0400] erikh: I think the opscode standard mysql recipe uses them too.
[2012-04-11 08:27:31 -0400] eugenmayer: iam just wondering anybody using it not only for first-install but also chaning the installation
[2012-04-11 08:27:49 -0400] eugenmayer: the initial installation with preseeding is easier, the reconfiguration is tricky
[2012-04-11 08:28:36 -0400] sparc: i used preseeds for an initial install of ubuntu for my last company
[2012-04-11 08:29:21 -0400] sparc: it was kind of undocumented, but it worked.  kickstart for ubuntu wasn
[2012-04-11 08:29:21 -0400] sparc: t
[2012-04-11 08:29:26 -0400] sparc: very mature at that time
[2012-04-11 08:32:09 -0400] |shad0w|: s/preseed/debconf
[2012-04-11 08:32:41 -0400] |shad0w|: preseed is mainly just a wrapper for debconf at install time
[2012-04-11 08:32:55 -0400] BryanWB: |shad0w|: was audio any better on most recent ffs?
[2012-04-11 08:33:49 -0400] |shad0w|: haven't got through it yet
[2012-04-11 08:34:03 -0400] |shad0w|: tried to listen at work yesterday but kept getting interuppted
[2012-04-11 08:34:13 -0400] |shad0w|: meh, interupted
[2012-04-11 08:34:19 -0400] |shad0w|: blah, can't type today
[2012-04-11 08:34:22 -0400] BryanWB: |shad0w|: ok, pls let me know
[2012-04-11 08:34:30 -0400] eugenmayer: well preseed is not that easy for reconfiguration though shadow
[2012-04-11 08:34:35 -0400] |shad0w|: from what I heard it sounded better than the previous episode
[2012-04-11 08:34:52 -0400] eugenmayer: e.g. you have to explicitly run dpkg-reconfigure
[2012-04-11 08:34:57 -0400] |shad0w|: eugenmayer, how are you trying to use preseed post install ?
[2012-04-11 08:35:02 -0400] eugenmayer: you cannot use "response_file"
[2012-04-11 08:35:06 -0400] |shad0w|: i think you really mean deb conf
[2012-04-11 08:35:49 -0400] eugenmayer: well, i dont write to 2 100% same things, debconf for "reconfiguring" and "preseed" for installation
[2012-04-11 08:35:57 -0400] eugenmayer: i basical do a
[2012-04-11 08:36:09 -0400] eugenmayer: command "debconf-set-selections /var/cache/debconf/openvpn-kw-kwlan.seed && dpkg-reconfigure -fnoninteractive --no-reload openvpn-kw-kwlan"
[2012-04-11 08:36:25 -0400] eugenmayer: to reconfigure it. this no-reload seems to be critical and needed
[2012-04-11 08:36:35 -0400] eugenmayer: i dont really understand why though
[2012-04-11 08:37:07 -0400] |shad0w|: you probably don't want to be passing a preseed file to debconf
[2012-04-11 08:37:14 -0400] |shad0w|: you can just do your pkg selections
[2012-04-11 08:37:41 -0400] eugenmayer: could you explain "pkg selections" ?
[2012-04-11 08:40:45 -0400] |shad0w|: read the man page for debconf
[2012-04-11 08:40:56 -0400] |shad0w|: well, its a bit terse
[2012-04-11 08:41:23 -0400] |shad0w|: but you can use things like debconf-get-selections (might not be the exact binary name) from a "configured" system
[2012-04-11 08:41:32 -0400] |shad0w|: and use that to do post install tasks with debconf
[2012-04-11 08:41:38 -0400] |shad0w|: without the preseed bits
[2012-04-11 08:45:56 -0400] eugenmayer: ok
[2012-04-11 08:46:02 -0400] eugenmayer: will check and read, thanks
[2012-04-11 08:49:34 -0400] sampikesley: so minitest seems awesome
[2012-04-11 08:49:47 -0400] sampikesley: that was trivially easy to implement
[2012-04-11 09:20:30 -0400] sampikesley: oh
[2012-04-11 09:20:43 -0400] sampikesley: can I get access to data bags from my tests?
[2012-04-11 09:21:23 -0400] Philipp_: Hi I would like to store ssl certificates in databags... how do I esacpe line breaks and so on in a json file?
[2012-04-11 09:23:38 -0400] |shad0w|: don't, just replace them with \n and make it a single line string
[2012-04-11 09:26:17 -0400] BryanWB: Philipp_: whole cert or just public key?
[2012-04-11 09:31:57 -0400] Philipp_: both
[2012-04-11 09:32:21 -0400] Philipp_: a strucutre like crt : "blib", key : "123"
[2012-04-11 09:33:52 -0400] |shad0w|: ruby -e 'puts STDIN.read.gsub(/\n/,"\\n")' < file
[2012-04-11 09:34:02 -0400] |shad0w|: to convert it to a single string
[2012-04-11 09:34:05 -0400] |shad0w|: i think
[2012-04-11 09:34:06 -0400] |shad0w|: test it
[2012-04-11 09:47:14 -0400] Philipp_: what do you recommend to store ssl certificates for multiple servers?
[2012-04-11 09:47:31 -0400] Philipp_: your script seems to be fine
[2012-04-11 10:25:53 -0400] sampikesley: so in my tests I want to get access to something fro a data bag
[2012-04-11 10:26:22 -0400] sampikesley: it's something line run_context.definitions I think
[2012-04-11 10:26:38 -0400] sampikesley: but I'm currently drowning in a sea of JSON cruft
[2012-04-11 10:26:51 -0400] sampikesley: can anybody point me in the right direction?
[2012-04-11 10:27:23 -0400] ashb: data bag's aren't stored in run_context unless you put it there yourself I don't htink
[2012-04-11 10:27:45 -0400] sampikesley: bah
[2012-04-11 10:27:51 -0400] sampikesley: no hang on
[2012-04-11 10:28:38 -0400] sampikesley: I did it with run_context.resource_collection
[2012-04-11 10:28:42 -0400] sampikesley: and the items are there
[2012-04-11 10:28:49 -0400] sampikesley: but buried in the JSON
[2012-04-11 10:29:12 -0400] ashb: JSON or hash?
[2012-04-11 10:29:31 -0400] sampikesley: mebbe hash
[2012-04-11 10:30:10 -0400] ashb: its probably easiest to just find the data bag again with a search
[2012-04-11 10:31:15 -0400] sampikesley: don't think I can search within a test
[2012-04-11 10:31:53 -0400] sampikesley: yeah, doesn't work
[2012-04-11 11:24:28 -0400] vwj: guys, I have a question about gem_package it seems that it does not pickup http_proxy correctly
[2012-04-11 11:25:14 -0400] vwj: i tried to added to the env, /etc/gem and /etc/chef/client.rb but still gem_package does not use the proxy
[2012-04-11 11:25:19 -0400] vwj: any other ideas
[2012-04-11 11:25:20 -0400] vwj: ?
[2012-04-11 11:52:29 -0400] proffalken: vwj: IIRC gem uses wget so if you add your proxy details to ~/.wgetrc it should work
[2012-04-11 12:03:11 -0400] vwj: proffalken: thx will give this a try
[2012-04-11 12:05:19 -0400] BryanWB: proffalken: is it beer time yet?
[2012-04-11 12:05:39 -0400] proffalken: BryanWB: I wish, I'm at least five hours from beer at the moment
[2012-04-11 12:06:03 -0400] proffalken: (in an "acceptable time to drink" way, not a "distance" thing... ;) )
[2012-04-11 12:11:26 -0400] helllen: helllo
[2012-04-11 12:11:34 -0400] helllen: what is used :enable action used for?
[2012-04-11 12:11:51 -0400] eugenmayer: helllen: in service context?
[2012-04-11 12:11:57 -0400] helllen: recipie
[2012-04-11 12:12:05 -0400] helllen: for service context
[2012-04-11 12:12:13 -0400] helllen: I have :start and :enable
[2012-04-11 12:12:20 -0400] helllen: but I get:   had an error: #<Chef::Provider::Service::Init:0x000000028df020> does not support :enable
[2012-04-11 12:12:24 -0400] helllen: in the logs
[2012-04-11 12:12:58 -0400] eugenmayer: well basically :enable should be ":start" + enabling the servicein /etc/default/<service>
[2012-04-11 12:14:03 -0400] ranjibd: helllen, if you are on rhel make sure you have chkconfig specific lines on top of your init.d script
[2012-04-11 12:14:23 -0400] helllen: ok
[2012-04-11 12:14:27 -0400] helllen: thanks
[2012-04-11 12:17:51 -0400] proffalken: BryanWB, ranjibd: I've been drinking a lot of http://www.hall-woodhouse.co.uk/beers/badgerales/goldenchampion.asp at the moment, it's very nice... :D
[2012-04-11 12:17:53 -0400] ranjibd: on ubuntu make sure you can use invoke update-rc.d on your init script
[2012-04-11 12:18:28 -0400] proffalken: Hopping Hare is also good (from the same brewery)
[2012-04-11 12:22:16 -0400] BryanWB: proffalken: sounds delicious ;)
[2012-04-11 12:27:45 -0400] ranjibd: proffalken, BryanWB never tried ale beer.
[2012-04-11 12:28:06 -0400] proffalken: ranjibd: you're missing out! :) Far nicer (IMHO) than lager...
[2012-04-11 12:28:44 -0400] ranjibd: i doubt if we can get  ale beer in india
[2012-04-11 12:28:47 -0400] proffalken: Made from hops instead of grain so provides a more "mellow" feeling (Hops are from the same family as Canibis)
[2012-04-11 12:29:05 -0400] proffalken: ranjibd: you can't get IPA (India Pale Ale) in india?
[2012-04-11 12:29:09 -0400] proffalken: o_O
[2012-04-11 12:29:58 -0400] proffalken: ranjibd: http://en.wikipedia.org/wiki/India_Pale_Ale
[2012-04-11 12:41:11 -0400] Mithrandir: proffalken: uhm, most all beer is made from malt and hops (and water and yeast)
[2012-04-11 12:41:23 -0400] Mithrandir: the difference between ales and lagers it the kind of yeast used.
[2012-04-11 12:41:40 -0400] Mithrandir: (top-fermenting vs bottom-fermenting, which also likes different temperatures)
[2012-04-11 12:41:55 -0400] proffalken: Mithrandir: oh, ok, I didn't know that, I thought it was that lager didn't use hops
[2012-04-11 12:54:54 -0400] eugenmayer: proffalken: as usual, BryanWB is responsible for the bad habbits
[2012-04-11 12:55:00 -0400] eugenmayer: Good to have him here! :)
[2012-04-11 12:55:09 -0400] BryanWB: beer is a good habit!
[2012-04-11 12:55:22 -0400] eugenmayer: beer good!
[2012-04-11 12:56:06 -0400] eugenmayer: slowly but stead iam rolling ot chef...
[2012-04-11 12:56:14 -0400] eugenmayer: Anybody uses debian 6 here?
[2012-04-11 12:57:55 -0400] proffalken: BryanWB: I've heard a rumour that you might be trying to organise some sort of "Chef Europe" meet up - is this true?
[2012-04-11 13:01:23 -0400] proffalken: eugenmayer: I use Ubuntu - is that close enough? ;)
[2012-04-11 13:01:47 -0400] eugenmayer: bah!
[2012-04-11 13:02:29 -0400] BryanWB: proffalken: i would like to, still in discussions
[2012-04-11 13:02:41 -0400] BryanWB: ideally connected to devopsdays Italy
[2012-04-11 13:03:00 -0400] proffalken: hmmmm
[2012-04-11 13:16:03 -0400] sampikesley: y'all should come to London
[2012-04-11 13:17:15 -0400] BryanWB: i cant' afford london
[2012-04-11 13:17:18 -0400] BryanWB: berlin ftw
[2012-04-11 13:17:32 -0400] proffalken: sampikesley: I suggested some sort of meetup in London this summer, then someone pointed out to me that theres a small matter of a few people running fast and throwing things
[2012-04-11 13:20:14 -0400] BryanWB: and i thought brits were smarter than americans . . .
[2012-04-11 13:21:46 -0400] proffalken: BryanWB: some of us are, some of us aren't... We have rednecks too y'know, we just call them "Chavs"
[2012-04-11 13:21:49 -0400] proffalken: :D
[2012-04-11 13:22:27 -0400] sampikesley: we could have an informal thing
[2012-04-11 13:22:38 -0400] sampikesley: how many of you are in on near London?
[2012-04-11 13:22:41 -0400] sampikesley: raise your hands...
[2012-04-11 13:23:39 -0400] sampikesley: it can't be just me rocking it at the Roundabout
[2012-04-11 13:27:32 -0400] wonko_be: how can I fill a variable in one ruby block, and use the value in the next resource block?
[2012-04-11 13:28:22 -0400] mattray: sampikesley: Cope is in London, don't see him online right now though
[2012-04-11 13:28:49 -0400] cwj: wonko_be: make the ruby block store the value in a node attribute
[2012-04-11 13:29:38 -0400] wonko_be: cwj: there is no better way (seems a bit clumsy)?
[2012-04-11 13:30:21 -0400] cwj: i agree that it feels a bit clumsy, but the only other way i am aware of is to store it in a data bag which is even worse.
[2012-04-11 13:30:29 -0400] wonko_be: agreed
[2012-04-11 13:30:48 -0400] cwj: wonko_be: you know you can put plain ruby in your recipe without putting it in a block, yes?
[2012-04-11 13:31:07 -0400] wonko_be: yes, but the ruby can only be executed after another resource is run
[2012-04-11 13:31:22 -0400] cwj: yeah ok
[2012-04-11 13:31:33 -0400] cwj: i think you'll need to use a node attr
[2012-04-11 13:31:42 -0400] cwj: gotta go pick up my wife from work, bbl
[2012-04-11 13:31:43 -0400] wonko_be: 1) mount a partition, 2) get the content of one file on that mounted fs, do some ruby-magic and get a number, 3) use that number to fill a configfile
[2012-04-11 13:31:53 -0400] wonko_be: thx cwj
[2012-04-11 13:37:30 -0400] eugenmayer: iam using knife to bootstrap a chef client It worked on all clients, expect one. On this client, i had ruby installed before ( chiliproject ). it works first, but finally : git.kw.lan bash: Zeile 71: /usr/bin/chef-client: Datei oder Verzeichnis nicht gefunden
[2012-04-11 13:41:42 -0400] eugenmayer: looks like its related to http://help.opscode.com/discussions/problems/1253-bug-in-chef-0108-ubuntu1004-gem-distro
[2012-04-11 13:46:18 -0400] eugenmayer: i see.. /local/rvm/gems/ruby-1.8.7-p352/bin/chef-client
[2012-04-11 13:49:11 -0400] jtimberman: coderanger: fyi, data bags can be Ruby too, it all uses the same from_file method.
[2012-04-11 13:49:34 -0400] jtimberman: wait.. nm i might have a plugin :)
[2012-04-11 13:53:34 -0400] jtimberman: https://gist.github.com/2359433
[2012-04-11 14:01:20 -0400] bkocik: Hi folks - is there a way to add a couple of recipes to an existing list on a per-environment basis? In other words, I want a per_environment run_list, but I don't want it to replace the existing default, I just want to add to it. It seems to override it.
[2012-04-11 14:05:51 -0400] jperry: anyone know why I might be getting this failure when I provision a vagrant box:
[2012-04-11 14:05:51 -0400] jperry: [Wed, 11 Apr 2012 15:45:13 +0200] FATAL: Errno::ENOENT: No such file or directory - file not found '/tmp/encrypted_data_bag_secret'
[2012-04-11 14:06:20 -0400] jperry: I don't get this with another box I provision with vagrant but with a different organization
[2012-04-11 14:13:57 -0400] jperry: is this because the organization I'm using requires an encrypted data bag secret file?
[2012-04-11 14:34:13 -0400] cwj: is that error produced during the chef run? i would think it has to do with a recipe in the run list, not the way the org itself is configured
[2012-04-11 14:41:29 -0400] jperry: yes
[2012-04-11 14:41:45 -0400] redbug: How can I respond to bash prompts when my recipes are running? E.g., "Enter Username: " type things...
[2012-04-11 14:43:12 -0400] BryanWB: redbug: u can proably handle it w/ Chef::ShellOut
[2012-04-11 14:44:56 -0400] cjs226: I'm using the Omnibus client (0.10.8) and can't use the route53 cookbook as the Omnibus client uses an older version of fog (0.8.2) which throws "aws is not a recognized dns provider".  i know i can install a newer gem for my system, how can i reference it in a cookbook?  is that the correct approach?
[2012-04-11 14:47:38 -0400] sampikesley: is there a way of installing a package but not have it start? I wanna install cassandra, but have it not start until I've dropped in my custom config file
[2012-04-11 14:48:06 -0400] BryanWB: sampikesley: on ubuntu? infochimps have some kill_old_daemon functionality
[2012-04-11 14:48:06 -0400] mattray: sampikesley: have the custom config file restart the service?
[2012-04-11 14:48:19 -0400] proffalken: sampikesley: my understanding was that chef doesn't do restarts until the client run has completed - is that not the case?
[2012-04-11 14:48:43 -0400] mattray: proffalken: you can use :immediate on the notification
[2012-04-11 14:48:47 -0400] jtimberman: proffalken: if a restart is a notified action, and its timing is delayed.
[2012-04-11 14:49:23 -0400] bhunter: a question.. can I assign roles to a not-yet-classified  host based on the ohai data?   that is, can I not pass any run_list to chef-client on first run, instead determine/set run_list /during/ the chef-client run?  it's not clear to me how this is done, or if it's a good idea anyway.
[2012-04-11 14:49:24 -0400] proffalken: ah, ok, thanks
[2012-04-11 14:49:34 -0400] sampikesley: yeah, but I need it to not start *at all* until I've put in the new config
[2012-04-11 14:49:52 -0400] sampikesley: if it starts with defaults, it'll fuck shit up in my cluster
[2012-04-11 14:50:18 -0400] mattray: sampikesley: a common problem with distro-provided packages
[2012-04-11 14:50:24 -0400] proffalken: sampikesley: file a bug on Launchpad - my understanding is that the Ubuntu and debian guys think it's a great idea to start *everything* as soon as it's installed and then restart once it's configured... o_O
[2012-04-11 14:50:31 -0400] mattray: "why wouldn't you want to autostart this?"
[2012-04-11 14:50:44 -0400] jtimberman: its a policy suggestion.
[2012-04-11 14:50:47 -0400] jtimberman: not a requirement.
[2012-04-11 14:51:03 -0400] jtimberman: *some* daemons (memcached for example) have an ENABLED=0 in the /etc/default/SERVICE file
[2012-04-11 14:51:18 -0400] jtimberman: but most start up on package installation
[2012-04-11 14:51:23 -0400] jtimberman: lusis wrote a blog post about this, actually.
[2012-04-11 14:51:36 -0400] proffalken: s/blog post/rant :P
[2012-04-11 14:52:34 -0400] jtimberman: hmm maybe not. he had a rant but it was unrelated to service startup
[2012-04-11 14:52:36 -0400] SplasPood: proffalken: that is one of the things where I've fell on the RH way is better side...
[2012-04-11 14:53:43 -0400] proffalken: SplasPood: heh, I just see it as "Debian needs to get its shit together" rather than "RHEL is correct"... ;)
[2012-04-11 14:53:55 -0400] redbug: BryanWB: Chef::ShellOut or Mixlib::ShellOut? Do you happen to have a good example handy.. ?
[2012-04-11 14:54:01 -0400] SplasPood: proffalken: not necessarily 'correct' but in this case 'better' ;)
[2012-04-11 14:54:08 -0400] proffalken: +1
[2012-04-11 14:54:10 -0400] jtimberman: *I* wrote about some of the issues in 2010 on sysadvent: http://sysadvent.blogspot.com/2010/12/day-23-package-vs-config-management.html
[2012-04-11 14:54:35 -0400] proffalken: jtimberman: and they didn't listen to you? How dare they... :P
[2012-04-11 14:56:01 -0400] bhunter: I'm going to assume my previous statement was crazy-talk.   i mean, how could chef even know how to download my cookbooks without run_list?  I could perhaps run ohai myself and make some decsions prior to calling chef-client
[2012-04-11 14:59:29 -0400] russf: I'm having a hard time with hosted chef install on Ubuntu 11.10. Many conflicting how-tos. Ancient chef client (apt-get gives 0.8.16). etc. Is there a recent coherent blogpost  or doc?
[2012-04-11 14:59:39 -0400] BryanWB: redbug: sure
[2012-04-11 14:59:52 -0400] BryanWB: redbug: http://rubydoc.info/gems/chef/0.10.8/Chef/ShellOut
[2012-04-11 15:03:26 -0400] jperry: should I be able to run something like this in shef?
[2012-04-11 15:03:27 -0400] jperry: Chef::EncryptedDataBagItem.load("key_files", "aws")
[2012-04-11 15:07:24 -0400] cjs226: I'm using the Omnibus client (0.10.8) and can't use the route53 cookbook as the Omnibus client uses an older version of fog (0.8.2) which throws "aws is not a recognized dns provider".  i know i can install a newer gem for my system, how can i reference it in a cookbook?  is that the correct approach?
[2012-04-11 15:21:11 -0400] BryanWB: redbug: Mixlib::ShellOut is the son of Chef::ShellOut
[2012-04-11 15:22:36 -0400] redbug: BryanWB: Yeah, it seems that way... I get a fatal error trying to require 'mixlib/shell_out' ... do I need to install something additional (total ruby AND chef noob)
[2012-04-11 15:26:27 -0400] BryanWB: redbug: it is in mixlib-shellout iirc
[2012-04-11 15:26:34 -0400] BryanWB: a separate gem
[2012-04-11 15:27:45 -0400] jtimberman: chef 0.10.10 will bring it in as a dependency officially.
[2012-04-11 15:28:13 -0400] jtimberman: and we're workign on converting all the existing non-mixlib-shellout calls over (all the old popen4 stuff, systemu in ohai, etc)
[2012-04-11 15:28:54 -0400] behemphi: I cannot build servers!  Seems the node[:rackspace][:local_ip] is not getting picked up and my recipes are failing.  Has anyone encountered this?
[2012-04-11 15:29:58 -0400] StormSilver: behemphi: Have a look at OHAI-267
[2012-04-11 15:30:24 -0400] StormSilver: behemphi: It's a big problem with Rackspace servers right now :(
[2012-04-11 15:30:59 -0400] behemphi: I have been using for years and suddenly today it does not work (as of yesterday)
[2012-04-11 15:31:07 -0400] behemphi: that is the real mystery
[2012-04-11 15:31:17 -0400] behemphi: Thanks for the precise info tho!
[2012-04-11 15:41:27 -0400] sampikesley: so this works: http://pastebin.com/60E2sxtZ
[2012-04-11 15:42:00 -0400] geekbri: Does this mean I should be using the mixlib shellout instead of the chef shellout ?
[2012-04-11 15:42:47 -0400] matthewvermaak: is there a chef search equivalent of sql IN operator ? :0)
[2012-04-11 15:48:25 -0400] jperry: If I am on a node should I be able to put Chef::Config[:data_bag_path] in shef and have it return a non-nil value
[2012-04-11 15:48:37 -0400] jperry: when does this get set?
[2012-04-11 15:50:29 -0400] railsraider: hi new to chef-solo, and i'm trying basic file copy i need to copy my hosts file to the host on the vagrant VM, i created a cookbook system copied the hosts into system/files  and in the recipe did cookbook_file "/etc/hosts" do source "hosts" end
[2012-04-11 15:51:00 -0400] railsraider: it complains that it couldn't find a file/hosts file inside system cookbook
[2012-04-11 15:51:13 -0400] StormSilver: railsraider: try putting it in files/default/hosts
[2012-04-11 15:51:27 -0400] railsraider: ok, thanks
[2012-04-11 15:52:43 -0400] railsraider: that worked! thanks StormSilver
[2012-04-11 15:52:50 -0400] StormSilver: railsraider: NP
[2012-04-11 15:54:06 -0400] mattray: matthewvermaak: I believe it's whatever the Solr syntax supports
[2012-04-11 15:54:56 -0400] miah: moin
[2012-04-11 15:55:03 -0400] mattray: matthewvermaak: https://wiki.apache.org/solr/SolrQuerySyntax
[2012-04-11 16:10:40 -0400] matthewvermaak: @mattray: cool thanks
[2012-04-11 16:11:40 -0400] jperry: anyone know where databags are stored on a chef client run?
[2012-04-11 16:12:19 -0400] miah: memory?
[2012-04-11 16:12:19 -0400] bawt: memory is cheap
[2012-04-11 16:15:02 -0400] jtimberman: !botsnack
[2012-04-11 16:15:02 -0400] bawt: jtimberman: cheers
[2012-04-11 16:15:17 -0400] jtimberman: but yes, data bags are "stored" in memory
[2012-04-11 16:19:48 -0400] proffalken: is it possible to have more than one report handler executed at the end of a chef run?
[2012-04-11 16:20:10 -0400] eugenmayer: is there a way to tell knife what "domain" to use, when boostrapping a client ( server_url ) ?
[2012-04-11 16:20:26 -0400] proffalken: i.e. if I want the results from one cookbook send to Graphite and someone else wants their cookbook results to be sent to Nagios?
[2012-04-11 16:21:10 -0400] jperry: are data_bags pulled down to the node on a chef-client run?
[2012-04-11 16:22:53 -0400] sampikesley: possibly dumb question: my cookbook installs the pony gem, and then attempts to use it to actually send some mail. On the first run this fails because no pony. Subsequently it runs just fine. I need to somehow tell the running ruby process "hey, you have Pony now". Am I pissing in the wind here?
[2012-04-11 16:22:55 -0400] jtimberman: proffalken: sure
[2012-04-11 16:23:10 -0400] jtimberman: proffalken: the report_handlers/exception_handlers config values are arrays of handler objects.
[2012-04-11 16:23:19 -0400] proffalken: jtimberman: cool
[2012-04-11 16:24:01 -0400] jtimberman: https://gist.github.com/2360347
[2012-04-11 16:24:03 -0400] jtimberman: for example.
[2012-04-11 16:24:20 -0400] proffalken: so if I've got a handler and hes got a handler, we can add both via the LWRP as documented on the wiki and we won't get collision?
[2012-04-11 16:24:33 -0400] jtimberman: i have already done gem install chef-handler-updated-resources chef-handler-growl before using that.
[2012-04-11 16:24:35 -0400] Babar: hum... migrated my old SLC5 installation from RPM to rubygems, but I can't seem to get chef and RabbitMQ to play nicely :(
[2012-04-11 16:24:41 -0400] proffalken: ok, cool
[2012-04-11 16:24:48 -0400] jtimberman: proffalken: the chef_handler lwrp should add both of them to the config array
[2012-04-11 16:24:59 -0400] Babar: merb : chef-server (api) : worker (port 4000) ~ Connection failed - user: chef - (Bunny::ProtocolError)
[2012-04-11 16:25:00 -0400] proffalken: jtimberman: that's the answer I wanted - thanks :)
[2012-04-11 16:25:07 -0400] jtimberman: sampikesley: you need to do something in a recipe to make the pony gem available.
[2012-04-11 16:26:10 -0400] jtimberman: sampikesley: right now (chef 0.10.8 and earlier), you do this: https://gist.github.com/2360352
[2012-04-11 16:26:22 -0400] jtimberman: sampikesley: in Chef 0.10.10, you can do, simply: chef_gem "pony"
[2012-04-11 16:26:47 -0400] jtimberman: that will install the gem during the CHef "compile" phase of node convergence.
[2012-04-11 16:26:50 -0400] jtimberman: anatomy?
[2012-04-11 16:26:50 -0400] bawt: anatomy is http://wiki.opscode.com/display/chef/Anatomy+of+a+Chef+Run
[2012-04-11 16:30:17 -0400] Babar: ok, wrong pass... wtf?!
[2012-04-11 16:32:12 -0400] Babar: where the heck is this password stored?!
[2012-04-11 16:33:45 -0400] jtimberman: Babar: "in rabbitmq"
[2012-04-11 16:34:56 -0400] gmcinnes: ohai chefs
[2012-04-11 16:35:16 -0400] sampikesley: jtimberman: it worked. Thanks :)
[2012-04-11 16:36:10 -0400] jtimberman: sampikesley: :D
[2012-04-11 16:36:35 -0400] Babar: jtimberman: I reset it in rabbitmq, but when I start chef, and I make it print out the password when bunny crashes, it's using "testing" as passwd, but I have: /etc/chef/expander.rb:amqp_pass File.read('/etc/chef/amqp_passwd').chomp
[2012-04-11 16:36:42 -0400] Babar: and this file doesn't contain "testing"
[2012-04-11 16:36:51 -0400] Babar: (duplicated that line in server.rb just to be sure)
[2012-04-11 16:37:24 -0400] gmcinnes: can anyone hit me with a cluestick about techniques for pushing my recipies up to a newly bootstrapped amazon machine so I can use chef-solo there?
[2012-04-11 16:38:31 -0400] Babar: or maybe not... I didn't duplicate the line... maybe my save failed. Trying with this line in server.rb
[2012-04-11 16:43:00 -0400] Babar:       "platform": "scientificcernslc"
[2012-04-11 16:43:29 -0400] BryanWB_: Babar, pls dno't kill the kitty
[2012-04-11 16:43:35 -0400] miah: kittens are so cute
[2012-04-11 16:43:38 -0400] miah: i <3 them all
[2012-04-11 16:43:42 -0400] BryanWB_: and lovable
[2012-04-11 16:43:45 -0400] miah: when i think about cats i just want to cry
[2012-04-11 16:43:52 -0400] BryanWB_: me too
[2012-04-11 16:44:13 -0400] miah: i made a video
[2012-04-11 16:44:33 -0400] miah: http://www.youtube.com/watch?v=mTTwcCVajAc
[2012-04-11 16:45:04 -0400] BryanWB_: anybody know an existing chef library or lwrp that looks like this https://gist.github.com/2360440 ? would like to reference an example, rather than figure it out myself
[2012-04-11 16:45:52 -0400] miah: BryanWB_: the database cookbook has that stuff iirc
[2012-04-11 16:46:13 -0400] BryanWB_: miah, tks
[2012-04-11 16:46:38 -0400] BryanWB_: miah, lol, i am that girl ;)
[2012-04-11 16:51:54 -0400] miah: ok. i am heading out to run errands. bbl.
[2012-04-11 17:02:41 -0400] Urocyon: wow, she really loves cats.
[2012-04-11 17:07:43 -0400] hoover_damn: sounds like a personal problem, I suggest her to marry a cat.
[2012-04-11 17:09:54 -0400] Babar: great... http://tickets.opscode.com/browse/OHAI-319 was already fixed.
[2012-04-11 17:12:17 -0400] nect: is there a reason why when I have a depends 'cookbook', '= 1.0.0' in one of my metadata.rb's that it says the version is not found on the server, yet I can verify that the version exists in the manage.opscode.com interface?
[2012-04-11 17:12:46 -0400] patcon: xdissent: heyoo!
[2012-04-11 17:13:22 -0400] patcon: meant to ask -- havent you played around with using veewee to build windows vm's kinda like ievms?
[2012-04-11 17:13:38 -0400] patcon: there are some templates for windows, but haven't had a chance to play around
[2012-04-11 17:14:51 -0400] patcon: i believe someone in my office is using ievms to patch through to their vagrant server for cross-browser testing, but keep thinking it would be nice if vagrant could spin up both vm's :)
[2012-04-11 17:15:45 -0400] xdissent: i built a veewee just yesterday actually!
[2012-04-11 17:15:48 -0400] xdissent: not windows tho
[2012-04-11 17:16:02 -0400] patcon: nice!
[2012-04-11 17:16:17 -0400] xdissent: i had been playing with remote-controlling the ievms vms to auto-refresh IE upon file changing locally
[2012-04-11 17:16:25 -0400] patcon: automation like this gives me an inflated sense of how magic i am
[2012-04-11 17:16:31 -0400] xdissent: totally
[2012-04-11 17:16:47 -0400] patcon: hopefully someday I'll have the chop to create something that makes other ppl feel just as magic :)
[2012-04-11 17:17:03 -0400] xdissent: i'm pretty sure MS would come after me if I repackaged their VMs with veewee tho.
[2012-04-11 17:17:12 -0400] xdissent: surprised they haven't come after me already honestly
[2012-04-11 17:17:12 -0400] patcon: re: auto-refresh. how you attacking that?
[2012-04-11 17:17:46 -0400] xdissent: if guest-tools or whatever are installed in the VM then you can run commands on the guest from VBoxManage cmd on host
[2012-04-11 17:17:50 -0400] patcon: brb
[2012-04-11 17:18:26 -0400] xdissent: so I just made a tiny little command that opens a specific url in IE and refreshes when I type another command on the host system
[2012-04-11 17:18:44 -0400] xdissent: i didn't get to the file-watching portion of it yet
[2012-04-11 17:22:25 -0400] gmcinnes: is there any way to tell at runtime whether we're running under chef-solo ?
[2012-04-11 17:24:02 -0400] xdissent: if Chef::Config[:solo]
[2012-04-11 17:25:58 -0400] gmcinnes: thx
[2012-04-11 17:26:06 -0400] gmcinnes: where did you find that?
[2012-04-11 17:30:34 -0400] xdissent: gmcinnes: I had to deduce it from code I believe
[2012-04-11 17:30:51 -0400] xdissent: I use this to get expanded runlists for a node in either solo or client: expanded = node.run_list.expand(node.chef_environment, Chef::Config[:solo] ? "disk" : "server")
[2012-04-11 17:34:22 -0400] gmcinnes: I just need to support different ways of looking at data bags when running under chef solo, since search doesn't work there.
[2012-04-11 17:34:42 -0400] gmcinnes: but that's fine. I don't actually need any of the data under chef solo, since its just for throwaway machines
[2012-04-11 17:53:31 -0400] jtimberman: kind of epic, but i made "anatomy of a Chef run" in one slide :)
[2012-04-11 17:53:49 -0400] jtimberman: and a second slide for the authentication cycle
[2012-04-11 17:54:03 -0400] jtimberman: builds split up into a PDF, its 20 slides.
[2012-04-11 18:14:57 -0400] spyvsspy: hwo much should a chef consultant chargE?
[2012-04-11 18:15:18 -0400] spyvsspy: if I setup a chef server, and detailed how to get the clients to check in on future deployments
[2012-04-11 18:15:25 -0400] spyvsspy: how much would be "fair"
[2012-04-11 18:28:28 -0400] miah: 1 million dollars
[2012-04-11 18:29:10 -0400] BryanWB_: spyvsspy, i suggest $50/hour
[2012-04-11 18:29:18 -0400] BryanWB_: but perhaps that is too low
[2012-04-11 18:30:53 -0400] behemphi: This is a question of best practice.   To set it up, I will say I have access to a VP at Rackspace and plan to land on him with both feet on this matter of OHAI-267, but I want to be sure I am "righteous"
[2012-04-11 18:31:13 -0400] behemphi: Should I be getting the local IP (servicenet) via node.cloud.local_ipv4
[2012-04-11 18:31:20 -0400] behemphi: or is there some other magic I should use?
[2012-04-11 18:33:35 -0400] spyvsspy: bryanwb_ okay, thanks, how many hours ?
[2012-04-11 18:33:36 -0400] spyvsspy: heh
[2012-04-11 18:33:42 -0400] spyvsspy: I charged 75$/hr
[2012-04-11 18:34:01 -0400] BryanWB_: spyvsspy, no idea, never worked consulting, but been approached w/ that salary
[2012-04-11 18:34:12 -0400] BryanWB_: i thin 10-15 hrs/ week iirc
[2012-04-11 18:34:22 -0400] spyvsspy: but it took me 8 hours (I also setup a quick rails app w/ nginx and passenger so they could have web based error reports
[2012-04-11 18:35:05 -0400] miah: chilling at the noisebridge today.
[2012-04-11 18:37:13 -0400] afallows: Random question: If I wanted to set the favicon for the Chef WebUI, where would I need to put it?
[2012-04-11 18:40:48 -0400] kallen: i'm trying to figure out why rabbitmq won't start on my chef server. i happen to wonder why is the parent pid of rabbitmq'd epmd pid 1 (init). stopping rabbitmq via init script doesn't stop epmd. epmd spawns again with new pid. what is controlling epmd?
[2012-04-11 18:41:04 -0400] kallen: i'd look for /etc/inittab entry, but that is apprently old-school now and isn't around :>
[2012-04-11 18:42:07 -0400] miah: uh. /etc/inittab is around, but its more for launching your init system these days.
[2012-04-11 18:42:40 -0400] miah: sounds like epmd is managed by upstart or runit
[2012-04-11 18:43:07 -0400] miah: and init is always the parent process
[2012-04-11 18:43:34 -0400] kallen: # ls /etc/inittab
[2012-04-11 18:43:34 -0400] kallen: ls: cannot access /etc/inittab: No such file or directory
[2012-04-11 18:43:36 -0400] miah: http://en.wikipedia.org/wiki/Init
[2012-04-11 18:43:38 -0400] kallen: ubuntu
[2012-04-11 18:43:43 -0400] kallen: yes. i know init.
[2012-04-11 18:43:51 -0400] kallen: iirc, some distros changed inittab to something else
[2012-04-11 18:44:08 -0400] miah: inittab isn't managing your rabbitmq
[2012-04-11 18:44:22 -0400] miah: ubuntu uses upstart, you should look in /etc/init.d and /etc/init
[2012-04-11 18:44:52 -0400] miah: furthermore, that wikipedia article details why init is process 1, and different init systems.
[2012-04-11 18:45:03 -0400] kallen: i'm not familiar with upstart or runit. using "/etc/init.d/rabbitmq-server stop" did not stop that epmd process.
[2012-04-11 18:46:15 -0400] miah: kallen: https://help.ubuntu.com/community/UpstartHowto
[2012-04-11 18:46:22 -0400] kallen: oh hey lookit that. /etc/init is a directory on ubuntu. not true on centos. yay distros
[2012-04-11 18:46:38 -0400] mhalligan: is there a problem with doing a  case node.chef_environment in a role?
[2012-04-11 18:46:53 -0400] miah: kallen: right. like i said. it uses upstart. which is a total init replacement.
[2012-04-11 18:47:06 -0400] miah: mhalligan: you can do evn_run_lists in a role
[2012-04-11 18:47:08 -0400] knuckolls: mhalligan: roles already have per environment configs
[2012-04-11 18:47:09 -0400] miah: so why would you need to do that
[2012-04-11 18:47:10 -0400] kallen: ok. i'll look into it. thanks miah
[2012-04-11 18:47:26 -0400] mhalligan: miah: lack of understanding I guess, thanks
[2012-04-11 18:47:29 -0400] miah: sure =)
[2012-04-11 18:47:35 -0400] miah: roles?
[2012-04-11 18:47:35 -0400] bawt: roles is http://wiki.opscode.com/display/chef/Roles
[2012-04-11 18:47:39 -0400] miah: has details on it
[2012-04-11 18:48:33 -0400] hoover_damn: trippy
[2012-04-11 18:48:39 -0400] hoover_damn: i really wish environments had a full runlist
[2012-04-11 18:48:57 -0400] jperry: anyone ever run into this?
[2012-04-11 18:48:57 -0400] jperry: Chef::EncryptedDataBagItem.load("key_files", "aws")["production"]
[2012-04-11 18:48:57 -0400] jperry: NoMethodError: undefined method `unpack' for #<Hash:0x00000013696f78>
[2012-04-11 18:52:55 -0400] doki_pen: running client/server chef. chef-client says it's storing files  from cookbooks, but it's not. I've been using chef for a long time and have never seen this. any ideas?
[2012-04-11 18:53:05 -0400] mhalligan: hrm, so env_run_lists solves the run_list problem, but what about default attributes? can I set per-environment attributes this way:  default_attributes { "production" => { "domain" => "prod.mydomain.com"}} ?
[2012-04-11 18:53:07 -0400] doki_pen: INFO: Storing updated cookbooks/nagios/libraries/default.rb in the cache.
[2012-04-11 18:53:13 -0400] doki_pen: later that day...
[2012-04-11 18:53:19 -0400] doki_pen: FATAL: LoadError: no such file to load -- /var/chef/cache/cookbooks/nagios/libraries/default.rb
[2012-04-11 18:53:33 -0400] doki_pen: ls /var/chef/cache/cookbooks/nagios/libraries shows it's not there
[2012-04-11 18:53:36 -0400] miah: mhalligan: if you want environment based attributes use environments
[2012-04-11 18:53:36 -0400] doki_pen: the dir is there though
[2012-04-11 18:53:38 -0400] miah: environments?
[2012-04-11 18:53:39 -0400] bawt: environments is a feature of the Chef Server allowing you to constrain cookbooks to specific versions, set environment specific run lists for roles and set up environment specific attributes for nodes. Documentation: http://wiki.opscode.com/display/chef/Environments
[2012-04-11 18:54:20 -0400] mhalligan: sigh thanks. I even set them up then ignored then.
[2012-04-11 18:54:35 -0400] miah: doki_pen: permissions error? is there anything 'cleaning' that directory?
[2012-04-11 18:54:47 -0400] doki_pen: miah: no. and it's a different file each time
[2012-04-11 18:54:51 -0400] afallows: Does the webui for chef actually have files anywhere, or does it generate pages dynamically on every pageload?
[2012-04-11 18:54:59 -0400] doki_pen: some files are there
[2012-04-11 18:55:03 -0400] miah: is your disk failing?
[2012-04-11 18:55:04 -0400] doki_pen: it seems like chef is cleaning them
[2012-04-11 18:55:08 -0400] miah: is your filesystem clean?
[2012-04-11 18:55:10 -0400] doki_pen: hmm.. now it's working
[2012-04-11 18:55:16 -0400] doki_pen: it's 10 brand new boxes
[2012-04-11 18:55:27 -0400] miah: brand new doesn't mean not broken
[2012-04-11 18:55:46 -0400] miah: afallows: its a rack application
[2012-04-11 18:55:47 -0400] doki_pen: ok, they are 10 new rackspace instances
[2012-04-11 18:55:56 -0400] doki_pen: the chances that they are broken is slim to none
[2012-04-11 18:56:00 -0400] miah: ah
[2012-04-11 18:56:04 -0400] doki_pen: using their ubuntu image
[2012-04-11 18:56:06 -0400] doki_pen: not my own
[2012-04-11 18:56:15 -0400] miah: i can't say i've seen that issue myself and i run 0.10.8
[2012-04-11 18:56:31 -0400] doki_pen: yeah, I'm on 0.10.8
[2012-04-11 18:56:35 -0400] doki_pen: i think it's something with the server
[2012-04-11 18:56:48 -0400] doki_pen: not sending the file back or something
[2012-04-11 18:57:02 -0400] miah: are the files there immediately after the client runs?
[2012-04-11 18:57:10 -0400] afallows: miah: I'm not really familiar with rack, could you expand on that just a bit? I'm guessing that means there aren't any editable site files on my server's disk anywhere?
[2012-04-11 18:57:24 -0400] miah: afallows: https://github.com/opscode/chef/tree/master/chef-server-webui
[2012-04-11 18:57:52 -0400] miah: right, not really editable files around
[2012-04-11 18:58:18 -0400] doki_pen: miah: well, for instance, last one that failed, an entire cookbook was missing
[2012-04-11 18:58:25 -0400] afallows: Roger that, thanks. Only wanted to make cosmetic changes, I think I'll just pass on it.
[2012-04-11 18:58:27 -0400] doki_pen: but then I run chef-client again, and it gets downloaded
[2012-04-11 18:58:33 -0400] doki_pen: it's like the download part is not working 100%
[2012-04-11 18:58:47 -0400] doki_pen: but if I keep running over and over, eventually all the files get downloaded
[2012-04-11 18:58:52 -0400] doki_pen: I think it's a chef server issue
[2012-04-11 18:58:57 -0400] patcon: what's the general wisdom on keeping tests in community cookbooks? is that frowned upon for any reason?
[2012-04-11 18:59:13 -0400] miah: patcon: i wouldnt imagine it is
[2012-04-11 18:59:20 -0400] miah: most cookbooks have no tests
[2012-04-11 18:59:28 -0400] miah: but i'd love to start seeing them
[2012-04-11 18:59:44 -0400] miah: doki_pen: strange. are you 100% certain there aren't any network issues? does the chef-server work for other clients?
[2012-04-11 18:59:51 -0400] patcon: me too :)
[2012-04-11 19:00:01 -0400] doki_pen: miah: hard to say, because they already have the cookbooks cached
[2012-04-11 19:00:25 -0400] miah: so empty the cache on one and see
[2012-04-11 19:00:31 -0400] doki_pen: nice idea!
[2012-04-11 19:01:02 -0400] doki_pen: it would still be a bug, wouldn't it?
[2012-04-11 19:01:13 -0400] doki_pen: if network fails, shouldn't chef fail right away?
[2012-04-11 19:01:21 -0400] miah: i wouldn't say its a bug until you've found it
[2012-04-11 19:01:22 -0400] doki_pen: *chef-client
[2012-04-11 19:01:22 -0400] miah: no
[2012-04-11 19:01:23 -0400] patcon: just wasn't sure if it would be cool to submit pull requests for cucumber tests if i started using cucumber-chef
[2012-04-11 19:01:42 -0400] miah: you would see similar weird issues with a server that has its nic set to full duplex while the port is set to half
[2012-04-11 19:02:05 -0400] miah: does cucumber-chef support running outside of hosted-chef yet?
[2012-04-11 19:02:07 -0400] patcon: but yeah, still new to that gem. maybe there's a better option
[2012-04-11 19:02:31 -0400] miah: there is some movement on using minitest, along with https://github.com/calavera/minitest-chef-handler
[2012-04-11 19:02:43 -0400] miah: some people are using rspec-chef
[2012-04-11 19:03:07 -0400] miah: rspec-chef and minitest should both be able to run in travis-ci though =)
[2012-04-11 19:03:33 -0400] doki_pen: miah: also, seems really slow downloading files
[2012-04-11 19:03:45 -0400] doki_pen: like 10s per file
[2012-04-11 19:03:50 -0400] miah: doki_pen: are these all virtual servers?
[2012-04-11 19:03:54 -0400] doki_pen: yes
[2012-04-11 19:04:07 -0400] miah: it honestly to me smells like a network issue
[2012-04-11 19:04:31 -0400] miah: just keep narrowing down the problems
[2012-04-11 19:04:42 -0400] miah: troubleshoot until you find the cause
[2012-04-11 19:04:42 -0400] doki_pen: that would be shocking to me. I'm serving a lot of requests over a distributed application on the same network
[2012-04-11 19:05:21 -0400] miah: im not familiar with how rackspace does things, but if its virtual you can definitely hit ceilings / limits
[2012-04-11 19:05:42 -0400] miah: depending on how your server's are sized and what the io restrictions / limitations there are around that instance type
[2012-04-11 19:06:01 -0400] miah: i've definitely hit cpu ceilings in aws and started getting penalized by cpu_steal
[2012-04-11 19:06:03 -0400] patcon: miah: hmmm... seems that's still the case. (re hosted chef)
[2012-04-11 19:06:08 -0400] doki_pen: I'm running cassandra and membase and my performance is normal right now
[2012-04-11 19:06:22 -0400] miah: the question is though, _on the chef server_ ?
[2012-04-11 19:06:29 -0400] miah: it could still be a localized network issue
[2012-04-11 19:06:35 -0400] patcon: miah: whoa. just catching up. more test tools = awesome!
[2012-04-11 19:07:03 -0400] miah: how does chef perform locally? does chef-client on your chef-server have issues?
[2012-04-11 19:07:41 -0400] miah: how does the networking look in a non-chef way on that server? can you scp/rsync files with normal speeds or are they also hitting issues?
[2012-04-11 19:08:10 -0400] doki_pen: miah: i see you point. I'll keep at it
[2012-04-11 19:08:45 -0400] doki_pen: btw, ran fine on existing box. maybe it is rackspace...
[2012-04-11 19:09:08 -0400] miah: virtualized environments = random io performance issues
[2012-04-11 19:19:27 -0400] Brad_K: doki_pen: run tests with other network tools  e.g., iperf, netperf, pathload, pathrate, ttcp, etc.  See http://www.caida.org/tools/taxonomy/performance.xml for a good list of tools.
[2012-04-11 19:20:32 -0400] knuckolls: doki_pen: i've never used boundary but i've lusted over it pertaining to visualizing network information
[2012-04-11 19:21:54 -0400] Brad_K: patcon: right now, opscode isn't including any testing as part of the official cookbooks.  they are doing some testing on those cookbooks before they get pushed, but the tests themselves are not considered part of the cookbook.  you'd want to talk to jtimberman for more details.
[2012-04-11 19:22:25 -0400] patcon: thanks Brad_K. appreciate it man
[2012-04-11 19:22:36 -0400] Brad_K: no problem.  glad to help.
[2012-04-11 19:23:05 -0400] BryanWB_: minitest question, add_setup_hook only runs once per TestCase class?
[2012-04-11 19:24:10 -0400] doki_pen: Brad_K: ty
[2012-04-11 19:24:44 -0400] Brad_K: doki_pen: btw, we're using Rackspace, too.  i can tell you that i've run into some pretty weird stuff.
[2012-04-11 19:26:25 -0400] jperry: what attribute does node.chef_environment pick up from?
[2012-04-11 19:26:33 -0400] jperry: I am running chef_solo and want to set the environment
[2012-04-11 19:26:37 -0400] jperry: how is this done?
[2012-04-11 19:27:04 -0400] jperry: or are environments not use in chef-solo?
[2012-04-11 19:27:11 -0400] hoover_damn: rackspace is having issues today at least for myself
[2012-04-11 19:27:29 -0400] hoover_damn: so if you get some weird rackspace instance with only 1 nic... better call em up
[2012-04-11 19:27:31 -0400] hoover_damn: just fyi
[2012-04-11 19:32:30 -0400] rayrod2030: what's the best way to do a conditional if a process is up?
[2012-04-11 19:33:20 -0400] hoover_damn: not_if 'ps aux | grep [m]emcached'
[2012-04-11 19:33:45 -0400] hoover_damn: the [m] is so you don't catch grep and get a false positive
[2012-04-11 19:34:25 -0400] hoover_damn: use a regular execute block or bash resource to start it
[2012-04-11 19:34:28 -0400] hoover_damn: with that not_if
[2012-04-11 19:34:34 -0400] Brad_K: or maybe /sbin/service servicename status ?
[2012-04-11 19:34:51 -0400] motiejus: rayod2030: best is to have a pid file of it and check if it's running
[2012-04-11 19:34:55 -0400] hoover_damn: Brad_K, not all 'services' setup are a service
[2012-04-11 19:35:17 -0400] hoover_damn: resque or god get started other ways
[2012-04-11 19:35:26 -0400] motiejus: and kill -0 to verify that the process is alive
[2012-04-11 19:35:47 -0400] afallows: hoover_damn: Do you know the reason the [m] prevents it from catching grep itself? That's much cleaner that "grep blah | grev -v grep", but I'm curious of the logic behind it.
[2012-04-11 19:36:01 -0400] Brad_K: right, but some processes fire up a whole bunch of children, and might appear to be up if you do a simple "ps", whereas checking the service status should hopefully be more accurate.  so, basically, use the right method for the right type of process.
[2012-04-11 19:36:16 -0400] motiejus: execute "delete password" do;    command "passwd -d #{u['id']}";    only_if { "false" }  end  <<=== why is this command executed?
[2012-04-11 19:36:31 -0400] hoover_damn: afallows, i forget the reasoning off the top...
[2012-04-11 19:36:52 -0400] hoover_damn: just remember to do it and why
[2012-04-11 19:37:00 -0400] rayrod2030: awesome thanks
[2012-04-11 19:37:02 -0400] afallows: No worries, still a cool thing to learn. I have a couple grep -v greps around that I'll be glad to clean up.
[2012-04-11 19:37:19 -0400] hoover_damn: i think it's the equivilent of using ^
[2012-04-11 19:37:24 -0400] hoover_damn: in regexp
[2012-04-11 19:38:22 -0400] motiejus: probably because of the brackets...
[2012-04-11 19:39:16 -0400] afallows: motiejus: If you have false in quotes like that, Ruby will probably treat it like a string, instead of like the boolean value false.
[2012-04-11 19:39:27 -0400] motiejus: afallows: I want it to be executed
[2012-04-11 19:39:32 -0400] motiejus: "false"
[2012-04-11 19:39:35 -0400] motiejus: /bin/false
[2012-04-11 19:39:48 -0400] motiejus: in reality it's a much more complicated program.. but now I think I found it out, I don't need the brackets
[2012-04-11 19:39:50 -0400] motiejus: testing atm
[2012-04-11 19:39:55 -0400] hoover_damn: motiejus, using {} turns into ruby true/false
[2012-04-11 19:40:03 -0400] hoover_damn: not_if { false }
[2012-04-11 19:40:19 -0400] motiejus: should have been "/bin/false" in the example :)
[2012-04-11 19:40:21 -0400] motiejus: thanks anyway
[2012-04-11 19:40:27 -0400] hoover_damn: motiejus, good for not_if { File.exists?("bob") }
[2012-04-11 19:40:38 -0400] hoover_damn: heh yer
[2012-04-11 19:40:52 -0400] hoover_damn: the wiki is updatable by everyone in the community
[2012-04-11 19:40:57 -0400] afallows: To execute /bin/false wouldn't you need to use backticks or %x[] instead of ""?
[2012-04-11 19:41:00 -0400] hoover_damn: feel free to login/register
[2012-04-11 19:41:01 -0400] Brad_K: in regular expression terminology, [g]rep uses a range for the "g" character and would match "grep", but doesn't match "[g]rep".  [gp]rep would match either "grep" or "prep" but nothing else.
[2012-04-11 19:41:29 -0400] Brad_K: the square brackets for the range prevent the grep from finding itself, because the square brackets are not considered to be part of the range.
[2012-04-11 19:42:33 -0400] afallows: Aaah, that's why. Because in the command the brackets are operational/logical, but when it then goes through the output of ps ax, they're just characters.
[2012-04-11 19:42:47 -0400] afallows: Thanks, Brad_K
[2012-04-11 19:43:16 -0400] Brad_K: of course, with ps you shouldn't need to use grep anyway.  for example ps -u username would fine processes belonging to the username in question.  i'm sure there are other arguments to match on other criteria  like the process name.
[2012-04-11 19:44:02 -0400] motiejus:  Only apply this resource if the given string (shell command) or block (ruby code) results in return code 0 or is true.
[2012-04-11 19:44:13 -0400] motiejus: afallows: from http://wiki.opscode.com/display/chef/Resources
[2012-04-11 19:44:16 -0400] afallows: Probably true. I haven't looked closely at that. I see a lot of examples of ps ax that pass to grep, don't know whether that's a style prefence or if the commmand args for ps have some weaknesses.
[2012-04-11 19:44:21 -0400] motiejus: and backticks are evaluated at compile time
[2012-04-11 19:44:45 -0400] motiejus: afallows: and the real command is  only_if "test $(passwd -S #{u['id']} | awk '{print $2}') = L"
[2012-04-11 19:44:56 -0400] motiejus: depends on the context (u['id'])
[2012-04-11 19:45:15 -0400] Brad_K: there are some other good hints at http://gssg-www.stanford.edu/public/crontabrules.html
[2012-04-11 19:46:26 -0400] jperry: I am using chef-solo but one of the cookbook attribute files is using node.chef_environment which resolves to _default.  Any way to set this in the config or json file?
[2012-04-11 19:47:28 -0400] Brad_K: jperry: for chef-solo, i think the environment is always set to _default, and i don't believe you can change that.  try changing the cookbook instead to detect if it's running on chef-solo and then to take appropriate action.
[2012-04-11 19:48:37 -0400] jperry: is that okay to put hooks in like that?
[2012-04-11 19:48:52 -0400] jperry: didn't know if that is a bad practice to clutter your cookbooks with if blocks
[2012-04-11 19:48:58 -0400] jperry: for chef-solo?
[2012-04-11 19:49:07 -0400] Brad_K: it's your copy of the cookbook.  you can do whatever you need to do.
[2012-04-11 19:49:11 -0400] jperry: true
[2012-04-11 19:49:23 -0400] jperry: what is the best way to detect running in solo mode?
[2012-04-11 19:49:33 -0400] KarlHungus: hrm. it seems to have been foolish on my part to use cookbook name with a '-' in them :(
[2012-04-11 19:50:29 -0400] Brad_K: jperry: i've got some patterns & anti-patterns in the talk I presented at FLOSSUK.  The PDF is at https://github.com/bknowles/zero-to-cloud/blob/master/PDFs/Zero_To_Cloud.pdf
[2012-04-11 19:51:06 -0400] jperry: thx
[2012-04-11 19:51:15 -0400] Brad_K: jperry: start with the list at page 21.
[2012-04-11 19:53:53 -0400] Brad_K: jperry: you can also start with the text at https://github.com/bknowles/zero-to-cloud/blob/master/slides/patterns/01_slide.md
[2012-04-11 19:53:58 -0400] Brad_K: that part begins with page 21.
[2012-04-11 19:54:22 -0400] jperry: @Brad_K - thx
[2012-04-11 19:54:25 -0400] jperry: I'll take a look
[2012-04-11 19:54:40 -0400] jperry: anyone using teamcity for their CI environment?
[2012-04-11 19:55:11 -0400] jperry: TeamCity blows jenkins out of the water for UI and features but I do see there is a chef-jenkins
[2012-04-11 19:55:22 -0400] jperry: not sure what extra that provides
[2012-04-11 19:55:28 -0400] Brad_K: i've never heard of TeamCity.
[2012-04-11 19:55:37 -0400] jperry: http://www.jetbrains.com/teamcity/
[2012-04-11 19:56:08 -0400] Brad_K: the chef-jenkins cookbook allows you to treat your chef code just like any other project managed under jenkins.  pretty cool stuff.
[2012-04-11 19:58:00 -0400] Brad_K: okay, well  we don't do EC2.  to the degree that teamcity depends on ec2, we could not use it.
[2012-04-11 19:58:18 -0400] KarlHungus: how does the chef-jenkins cookbook work with a - in the name?
[2012-04-11 19:58:35 -0400] jperry: teamcity doesn't depend on ec2
[2012-04-11 19:58:38 -0400] cwj: KarlHungus: i have cookbooks with hyphens in the name, it works fine
[2012-04-11 19:58:47 -0400] cwj: roles also
[2012-04-11 19:58:50 -0400] Brad_K: a dash in the cookbook name is not a problem.
[2012-04-11 19:59:03 -0400] Brad_K: using dashes in roles will seriously hurt you if you try to integrate with zenoss.
[2012-04-11 19:59:24 -0400] KarlHungus: i have problems with hyphens in names causing chef to incorrectly name constants when using LWRPs
[2012-04-11 19:59:27 -0400] KarlHungus: NameError: wrong constant name Syslog-ngAppLog
[2012-04-11 19:59:39 -0400] cwj: not on my to-do list
[2012-04-11 19:59:43 -0400] Brad_K: i haven't seen anything like that.
[2012-04-11 19:59:53 -0400] Brad_K: KarlHungus: what version of chef are you running?
[2012-04-11 19:59:59 -0400] KarlHungus: 0.10.8
[2012-04-11 20:00:02 -0400] cwj: yeah i can see how that would cause a problem with lwrps
[2012-04-11 20:00:11 -0400] cwj: since the namespace is generated automatically
[2012-04-11 20:00:29 -0400] KarlHungus: right, and - isn't going to get treated as the end of a word when camel casing
[2012-04-11 20:00:42 -0400] Brad_K: i'm not sure what versions of what LWRPs we're using, but i know that syslog-ng is not one of them.  we're using rsyslog instead of syslog-ng.
[2012-04-11 20:01:06 -0400] KarlHungus: i'm switching from rsyslog to *anything* else, but thats besides the point
[2012-04-11 20:05:07 -0400] KarlHungus: i suppose that this means: Cookbooks can be anmed using hyphens (-), if and only if, they do not use lightweight providers.
[2012-04-11 20:06:06 -0400] AntonZ: is Atomic-Pinguin here ?
[2012-04-11 20:10:49 -0400] KarlHungus: http://tickets.opscode.com/browse/CHEF-2454
[2012-04-11 20:10:59 -0400] KarlHungus: that seems to indicate my problem is resolved
[2012-04-11 20:12:20 -0400] Brad_K: jperry: teamcity doesn't seem to support jira, which is our ticketing system.  atlassian does provide some integration with teamcity through confluence, but i don't know if that would also include jira through confluence to teamcity.
[2012-04-11 20:14:11 -0400] KarlHungus: and the corresponding gsub *should* work, hrm. however its not in 0.10.8 even though its closed.
[2012-04-11 20:14:22 -0400] jperry: teamcity integrates with jira
[2012-04-11 20:14:30 -0400] jperry: well to a degree
[2012-04-11 20:14:46 -0400] jperry: where if you specify a jira key in your commit message it will add a link
[2012-04-11 20:15:30 -0400] jperry: @Brad_K - Do you know what attribute or method I can call to check in my recipes whether I'm running in chef-solo or chef-client?
[2012-04-11 20:15:57 -0400] Brad_K: there was something in the wiki that i ran across.  let me see if i can find it.
[2012-04-11 20:16:07 -0400] AntonZ: Atomic-Penguin, got a question for you, come out :)
[2012-04-11 20:16:32 -0400] atomic-penguin: just ask your question, no need to ask permission
[2012-04-11 20:17:19 -0400] AntonZ: aye-aye - befre when we instaleld oracle we used VNC, how do we go about now, afer using your cookbook ?
[2012-04-11 20:17:20 -0400] Axsuul: Anyone recommend a good cookbook for creating postgres users (preferably, superusers)?
[2012-04-11 20:18:13 -0400] atomic-penguin: Bam, http://ckbk.it/vnc
[2012-04-11 20:18:14 -0400] AntonZ: i'm talking about graphical interface, what did you intend people to use ?
[2012-04-11 20:18:33 -0400] atomic-penguin: Oh, you mean configuring VNC
[2012-04-11 20:18:54 -0400] AntonZ: no, no, i meant, if there was something lareayd par tof your cookbook, not nesesserily vnc, but something else perhaps
[2012-04-11 20:19:35 -0400] atomic-penguin: http://community.opscode.com/cookbooks/vnc/source
[2012-04-11 20:19:42 -0400] atomic-penguin: See "depends" lines
[2012-04-11 20:20:26 -0400] AntonZ: gotcha
[2012-04-11 20:20:34 -0400] AntonZ: thank you Sir
[2012-04-11 20:22:25 -0400] jperry: @Brad_K - thx
[2012-04-11 20:23:23 -0400] Brad_K: jperry: check out http://wiki.opscode.com/display/chef/Chef+Configuration+Settings
[2012-04-11 20:23:42 -0400] jperry: @Brad_K - thx
[2012-04-11 20:24:47 -0400] Brad_K: it should be accessible as something like chef::config[:solo] as a boolean, if i'm reading the page correctly.
[2012-04-11 20:34:21 -0400] KarlHungus: ahh. yep. the bug i'm hitting is fixed, but not until 0.10.10
[2012-04-11 20:34:27 -0400] KarlHungus: fuuun
[2012-04-11 20:36:57 -0400] dbgster: I'm looking at this file here: https://github.com/gchef/bootstrap-cookbook/blob/master/definitions/bash_aliases.rb  where exactly are the aliases defined? confused what's going on here.
[2012-04-11 20:37:38 -0400] dbgster: oh ok, so source looks in /files
[2012-04-11 20:40:36 -0400] nicholasf: how hard is it to switch from managed chef to chef solo?
[2012-04-11 20:40:54 -0400] nicholasf: is it just a matter of creating the solo config and then a file to list my current nodes?
[2012-04-11 20:43:21 -0400] jperry: should I be able to use Chef::EncryptedDataBagItem.load in chef-solo?
[2012-04-11 20:43:41 -0400] jperry: I am getting [Wed, 11 Apr 2012 22:43:31 +0200] FATAL: NoMethodError: undefined method `unpack' for #<Hash:0x000000131bbd78>
[2012-04-11 20:43:48 -0400] jperry: when I pass in a valid key
[2012-04-11 20:44:15 -0400] jperry: If I pass in a valid databag such as
[2012-04-11 20:44:16 -0400] jperry: Chef::EncryptedDataBagItem.load("key_files", "aws")
[2012-04-11 20:44:21 -0400] jperry: it returns an object
[2012-04-11 20:44:37 -0400] jperry: but when I add Chef::EncryptedDataBagItem.load("key_files", "aws")["production"]
[2012-04-11 20:44:40 -0400] jperry: I get the unpack failure
[2012-04-11 20:48:37 -0400] Brad_K: jperry: the ability for chef-solo to access data bags at all is very new.  i'm not sure how fully baked it is.
[2012-04-11 20:48:46 -0400] jperry: oh
[2012-04-11 20:49:13 -0400] jperry: it returns an object if I just try to access the contents of the encrypted databag
[2012-04-11 20:49:25 -0400] jperry: but when I added the hash key I get that message
[2012-04-11 20:49:45 -0400] Brad_K: you probably don't have the shared secret downloaded to your node.  that's usually done as part of the bootstrap process.
[2012-04-11 20:49:56 -0400] jperry: it's local
[2012-04-11 20:50:15 -0400] jperry: if that was wrong wouldn't I get a different message than undefined method unpack?
[2012-04-11 20:50:30 -0400] Brad_K: not sure.
[2012-04-11 20:51:18 -0400] jperry_: gotta run, I'll see if I can get it working then post what I did
[2012-04-11 20:51:24 -0400] jperry_: thanks Brad_K
[2012-04-11 21:21:18 -0400] nicholasf: hi, it'd be ideal if I could define an application, specify the cookbooks it requires, and aim it at a node? Has anyone configured anything like this?
[2012-04-11 21:21:23 -0400] mgalkiewicz: Hi guys. I have a problem with chef-client and openssl https://gist.github.com/2362724
[2012-04-11 21:21:26 -0400] nicholasf: I'm wondering if I could doit using a data-bag
[2012-04-11 21:21:42 -0400] dbgster: when setting up a new chef project, i have this folder structure:  /chef/cookbooks    do most cookbooks have dependancies to opscode's cookbooks?
[2012-04-11 21:21:42 -0400] chip-: Happiness is a completely green 'knife status' report.
[2012-04-11 21:21:47 -0400] nicholasf: actually, I suppose I'm just calling an application a role
[2012-04-11 21:23:18 -0400] afallows: nicholasf: Roles are a perfect way to define an application and its cookbook dependencies. I might be unclear on what you want to do but I think roles are all you'll need.
[2012-04-11 21:23:44 -0400] nicholasf: afallows: yes, they are I think. Thanks. It's just a matter of thinking through the best way to configure things
[2012-04-11 21:23:51 -0400] nicholasf: I have generic roles - like 'web' and 'db'
[2012-04-11 21:24:18 -0400] nicholasf: but I think I also need application specific roles like 'portal' and  'SSO'
[2012-04-11 21:24:20 -0400] afallows: Just make a role called application1 with a run list that has "recipe[dependency1], recipe[dependency2], recipe[config-application]" or something like that.
[2012-04-11 21:25:16 -0400] afallows: Roles are also nestable. For example, every server type I manage has a few common reqs, so I have role[company-server], role[server-type-one], role[server-type-two], etc.
[2012-04-11 21:25:43 -0400] nicholasf: yeh, Im thinking that my application1 role will include the web role in its run list
[2012-04-11 21:25:44 -0400] nicholasf: etc.
[2012-04-11 21:25:57 -0400] nicholasf: cheers
[2012-04-11 21:29:20 -0400] mgalkiewicz: installing ssl-cert helped
[2012-04-11 21:32:28 -0400] nicholasf: also where do peeps store their confidential info? like ssl certs, private keys for chef, etc?
[2012-04-11 21:32:42 -0400] nicholasf: I'm thinking about centralizing it all in one secure git repo
[2012-04-11 21:37:19 -0400] aeiou: I've just found all the opscode cookbooks - lots of really nice stuff in there. How should one take an opscode recipe and cusomize it? I'd like to maintain upgradeability with the source on github whilst making changes - what is the correct way to do this?
[2012-04-11 21:41:24 -0400] juanje: nicholasf: usually they are stored in encrypted databags http://wiki.opscode.com/display/chef/Encrypted+Data+Bags
[2012-04-11 21:42:07 -0400] cwj: aeiou: i am using librarian-chef to manage the cookbooks in my repo, so the tact i am taking is to fork the per-cookbook repo from opscode-cookbooks and make my changes in a branch
[2012-04-11 21:42:31 -0400] cwj: then librarian can install cookbooks i've modified from my fork
[2012-04-11 21:42:44 -0400] juanje: nicholasf: there are some cookbooks that use them for consulting the ssh-keys and ssl-certs
[2012-04-11 21:43:07 -0400] AntonZ: guys you know when you create a volume on amazon, through their interface, they over snapshots of LVM volumes, do you know whats behind those volumes ?
[2012-04-11 21:44:50 -0400] aeiou: cwj, ahh ok so fork and rebase?
[2012-04-11 21:45:07 -0400] aeiou: that makes sense
[2012-04-11 21:45:33 -0400] dbgster: are opscode cookbooks dependant on each other, or they are standalone?
[2012-04-11 21:45:46 -0400] aeiou: cwj, what does librarian-chef do and do you have a public repo where i could look at your setup so I can see how it all works together?
[2012-04-11 21:46:47 -0400] jtimberman: dbgster: depends. many of the cookbooks have dependencies on others.
[2012-04-11 21:47:01 -0400] cwj: aeiou: https://github.com/applicationsonline/librarian is the site for librarian
[2012-04-11 21:47:01 -0400] jtimberman: dbgster: rather under the SRP (Single Responsibility Principle)
[2012-04-11 21:47:40 -0400] cwj: its basically Bundler for chef cookbooks
[2012-04-11 21:47:45 -0400] jtimberman: aeiou: one of the goals of our cookbooks is that people don't have to modify the recipes themselves to customize them, and instead use data through attributes.
[2012-04-11 21:47:48 -0400] cwj: take a look at the Cheffile examples there
[2012-04-11 21:48:02 -0400] dbgster: dbgster: what do you mean "rather under..", meaning rather they should have been designed with SRP in mind?
[2012-04-11 21:48:39 -0400] jtimberman: they are generally designed with SRP in mind.
[2012-04-11 21:48:46 -0400] aeiou: jtimberman, ahh so you are saying you *shouldnt* need to fork the recipes
[2012-04-11 21:48:51 -0400] jtimberman: aeiou: right.
[2012-04-11 21:49:05 -0400] jtimberman: aeiou: like, you might need to make modifications if we didn't account for your special flavor of linux :)
[2012-04-11 21:49:13 -0400] jtimberman: (I don't know what you're running so that's a generalization)
[2012-04-11 21:49:13 -0400] aeiou: got you
[2012-04-11 21:49:38 -0400] jtimberman: you may need to customize templates.
[2012-04-11 21:49:55 -0400] aeiou: whats a typical use case, select all of the recipes you want from opscode github and add them all to one git repo as submodules?
[2012-04-11 21:50:07 -0400] jtimberman: because what I did for many of our cookbooks is: install on a system, grab the config file, make attributes for common config setting changes, and ship that.
[2012-04-11 21:50:21 -0400] jtimberman: aeiou: download them from the Chef Community Site.
[2012-04-11 21:50:26 -0400] jtimberman: with "knife cookbook site download"
[2012-04-11 21:50:41 -0400] miah: librarian-chef
[2012-04-11 21:50:42 -0400] miah: <3
[2012-04-11 21:50:47 -0400] jtimberman: or, if you're using git and want to have it automatically extract in your cookbooks directory and set up a tracking branch, use 'knife cookbook site install'
[2012-04-11 21:50:51 -0400] nect: I have the datastax cassandra cookbook which is referencing node[:cloud] but nowhere in any of their cookbooks is it assigning the variable. Is there some other standard cookbook that handles the node[:cloud] hash?
[2012-04-11 21:50:56 -0400] jtimberman: miah :)
[2012-04-11 21:51:22 -0400] mattray: nect: ohai is populating that
[2012-04-11 21:51:30 -0400] nect: ah
[2012-04-11 21:51:45 -0400] miah: i'm starting to implement librarian on a cookbook basis to make dealing with vagrant / chef-solo a little easier.
[2012-04-11 21:51:48 -0400] mattray: nect: and it would be empty if run on real hardware or if the cloud detection isn't working right
[2012-04-11 21:51:58 -0400] miah: TEST ALL THE THINGS
[2012-04-11 21:52:13 -0400] jtimberman: miah: i use chef-client with my vagrants :)
[2012-04-11 21:52:16 -0400] nect: I am running chef-solo so.. that would be empty
[2012-04-11 21:52:22 -0400] jtimberman: http://jtimberman.housepub.org/blog/2012/03/18/multivm-vagrantfile-for-chef/
[2012-04-11 21:52:33 -0400] jtimberman: nect: chef-solo runs ohai
[2012-04-11 21:52:42 -0400] nect: is the :cloud variable populated as well?
[2012-04-11 21:52:47 -0400] jtimberman: ohai is a library that runs plugins to populate variables.
[2012-04-11 21:52:50 -0400] jtimberman: er, attributes.
[2012-04-11 21:52:51 -0400] mattray: yeah, but chef-solo doesn't sound like a good fit for Cassandra IMO
[2012-04-11 21:53:00 -0400] nect: mattray, it's for dev purposes
[2012-04-11 21:53:09 -0400] nect: only a single node
[2012-04-11 21:53:10 -0400] mattray: nect: gotcha
[2012-04-11 21:53:17 -0400] miah: jtimberman: ya thats a good way too
[2012-04-11 21:53:25 -0400] jtimberman: miah: I KNOW!
[2012-04-11 21:53:27 -0400] jtimberman: hehehehehe
[2012-04-11 21:53:29 -0400] mattray: I'd expect the cookbook would use search to find other cassandra nodes
[2012-04-11 21:53:36 -0400] jtimberman: we have a similar thing for our internal testing stack
[2012-04-11 21:53:38 -0400] aeiou: maybe best to explain myself a little fuller :)
[2012-04-11 21:53:45 -0400] nect: mattray, that's how the datastax one does it now
[2012-04-11 21:53:46 -0400] jtimberman: schisamo hooked it up and i stole his bits.
[2012-04-11 21:53:56 -0400] nect: it needs much more work, but it's a starting point
[2012-04-11 21:54:17 -0400] mattray: nect: you could block out the search with a check for chef solo
[2012-04-11 21:54:24 -0400] nect: I did that already
[2012-04-11 21:54:42 -0400] miah: interesting
[2012-04-11 21:54:44 -0400] nect: I was under the impression it was erroring on the node[:cloud] but you guys say it gets populated
[2012-04-11 21:54:53 -0400] nect: going to dig deeper now
[2012-04-11 21:54:54 -0400] nect: thx
[2012-04-11 21:54:58 -0400] aeiou: I'd like to use chef/vagrant to manage a virtual dev environment for me and my collegues OSX development machines. Probably looking to use ubuntu. I'd like to pick and choose lots of different packages (php/mysql/apache/varnish/.) and then have all of this configuration put into a git repository on github, then allow my collegues to git clone my repo and run "vagrant up" - whats the best way to go about this :)
[2012-04-11 21:55:15 -0400] juanje: jtimberman: I use both, chef-solo and chef-client, depends what I want to test. But vagrant+chef-* is a totally win for testing cookbooks and lwrp :-)
[2012-04-11 21:55:44 -0400] aeiou: so many new words "vagrant, chef, knife" etc, I am a bit lost :)
[2012-04-11 21:55:45 -0400] miah: mostly, i am working on getting my vagrant set up in a way so that i can do basic testing before i commit things and they run through travis
[2012-04-11 21:56:11 -0400] jtimberman: aeiou: step 1. create a chef repository (chef-repo) with a cookbooks directory, Vagrantfile. 2. download and extract cookbooks into the chef-repo/cookbooks. 3. push the chef-repo to github (private repo, probably)
[2012-04-11 21:56:31 -0400] jtimberman: juanje: sure :)
[2012-04-11 21:56:48 -0400] jtimberman: juanje: i use solo sometimes, but rarely. most often when i want to test something and i'm on a plane.
[2012-04-11 21:57:11 -0400] jtimberman: like, the LWRP example I wrote for our fundamentals materials was composed at 30k+ feet.
[2012-04-11 21:57:20 -0400] nect: what variable from ohai populates the cloud variable?
[2012-04-11 21:57:26 -0400] jtimberman: nect: the "cloud" plugin.
[2012-04-11 21:58:14 -0400] nect: from what I can tell there's no cloud hash when I run ohai on the cli
[2012-04-11 21:58:15 -0400] aeiou: jtimberman: brilliant, thank you very much
[2012-04-11 21:58:16 -0400] juanje: jtimberman: I use it when im offline as well, but also for create a new cookbook and see the read dependencies without mess with my chef server
[2012-04-11 21:59:07 -0400] juanje: s/read/real/
[2012-04-11 21:59:24 -0400] knuckolls: knife-spork doesn't seem to want to look in my site-cookbooks folder to bump version numbers.
[2012-04-11 21:59:26 -0400] knuckolls: any pointers?
[2012-04-11 22:00:14 -0400] juanje: jtimberman: Nice! a +30k feet LWRP :-P
[2012-04-11 22:00:15 -0400] juanje: hehe
[2012-04-11 22:00:16 -0400] nect: jtimberman: I run ohai on both a local vagrant vm as well as my EC2 instance and both have no cloud / private ip info
[2012-04-11 22:01:07 -0400] jtimberman: nect: ec2 should have 'cloud'
[2012-04-11 22:01:10 -0400] jtimberman: node['cloud']
[2012-04-11 22:01:15 -0400] jtimberman: in the node object
[2012-04-11 22:01:21 -0400] nect: I am running ohai directly
[2012-04-11 22:03:03 -0400] xdissent: aeiou: also, there's chef-hatch http://github.com/xdissent/chef-hatch-repo
[2012-04-11 22:04:29 -0400] nect: jtimberman: I take it running "$ ohai" doesn't output any cloud info? Chef does some magic?
[2012-04-11 22:05:50 -0400] jtimberman: nect: https://github.com/opscode/ohai/blob/master/lib/ohai/plugins/cloud.rb
[2012-04-11 22:05:58 -0400] jtimberman: that is the code that populates the cloud attribute
[2012-04-11 22:07:28 -0400] aeiou: what does "vagrant_main" package do?
[2012-04-11 22:08:12 -0400] nicholasf: what's the best way to ensure a user is created on a server?
[2012-04-11 22:09:11 -0400] miah: if i want to add a cookbook that is in vagrants cwd do i have to add "." to cookbooks_path ?
[2012-04-11 22:09:38 -0400] jtimberman: nicholasf: manage it with the 'user' resource.
[2012-04-11 22:09:44 -0400] jtimberman: resources?
[2012-04-11 22:09:44 -0400] bawt: resources is http://wiki.opscode.com/display/chef/Resources
[2012-04-11 22:09:47 -0400] jtimberman: !botsnack
[2012-04-11 22:09:47 -0400] bawt: jtimberman: =D
[2012-04-11 22:09:49 -0400] nicholasf: thanks jtimberman
[2012-04-11 22:11:29 -0400] juanje: miah: you mean the cookbook is in the same directory that the Vagrantfile? not in a subdirectory
[2012-04-11 22:12:13 -0400] miah: right
[2012-04-11 22:13:01 -0400] juanje: miah: I'm almost sure you need to
[2012-04-11 22:14:55 -0400] miah: hrm
[2012-04-11 22:16:55 -0400] juanje: it seems that you have to define '.' path
[2012-04-11 22:17:32 -0400] juanje: if you don't defina any (in chef-solo), I think it uses 'cookbooks' as a default
[2012-04-11 22:17:43 -0400] miah: yes, it does
[2012-04-11 22:22:29 -0400] patcon: hey guys, if we want to access a resource attribute value in the only_if conditional, anyone know the cleanest way to do that?
[2012-04-11 22:24:19 -0400] patcon: i'll give the pc = pear_channel do... approach a try first, but it strike me as something that only works in the next resource :)
[2012-04-11 22:24:49 -0400] aeiou: [default] Waiting for VM to boot. This can take a few minutes.
[2012-04-11 22:24:55 -0400] aeiou: has been about 20 minutes :/
[2012-04-11 22:34:07 -0400] miah: now i wonder if vagrant respects cookbook 'name' specifications or just uses directory  names?
[2012-04-11 22:34:10 -0400] miah: i guess we'll see in a minute
[2012-04-11 22:34:24 -0400] Brad_K: aeiou: yeah, i've seen that before with Rackspace.  sometimes you can create another node to take the place of the one that is hanging, and then go back and delete the other one once the new node is up and running.
[2012-04-11 22:38:56 -0400] juanje: miah: AFAK, vagrant has nothing to do with that. I mean, vagrant mount the cookbook directory and then run chef-solo (inside the vm) with a config file that set the cookbooks path and the rest of chef-solo stuff
[2012-04-11 22:39:23 -0400] miah: ah right
[2012-04-11 22:39:24 -0400] juanje: is not vagrant who look for the cookbooks, but chef-solo
[2012-04-11 22:39:29 -0400] miah: ok
[2012-04-11 22:49:35 -0400] nicholasf: is anyone else using metachef?
[2012-04-11 22:49:56 -0400] nicholasf: it requires ruby 1.9.x to run, which is really fking stupid because chef sets up with ruby 1.8.7
[2012-04-11 22:51:40 -0400] yfeldblum: patcon, why would you need to do that?
[2012-04-11 22:53:09 -0400] patcon: yfeldblum: got it working, i think, but just needed to use the version from a php_pear in the only_if logic. didn't feel like i should need to declare a variable :)
[2012-04-11 22:54:02 -0400] miah: the default template sets chef up with ruby 1.8.7. no reason you cant change that though.
[2012-04-11 22:55:16 -0400] nicholasf: miah: ok, how do I change that?
[2012-04-11 22:55:17 -0400] rafaelmagu: Good morning from New Zealand!
[2012-04-11 22:55:49 -0400] senthilr: nice place
[2012-04-11 22:56:22 -0400] rafaelmagu: Most of the time, yes
[2012-04-11 22:56:22 -0400] rafaelmagu: :D
[2012-04-11 22:56:24 -0400] rafaelmagu: Quick question: how does I access environment attributes from within a recipe?
[2012-04-11 22:56:30 -0400] rafaelmagu: do*
[2012-04-11 22:56:46 -0400] miah: attributes are flattened
[2012-04-11 22:56:50 -0400] rafaelmagu: Tried using environment[:dynect][:username]
[2012-04-11 22:56:53 -0400] rafaelmagu: But that didn't work
[2012-04-11 22:56:55 -0400] miah: so you would just access them as they were eny other attribute
[2012-04-11 22:56:59 -0400] rafaelmagu: Ahh
[2012-04-11 22:57:04 -0400] miah: node[:dynect][:username]
[2012-04-11 22:57:07 -0400] rafaelmagu: So node[:dynect][:username]
[2012-04-11 22:57:08 -0400] rafaelmagu: Gotcha
[2012-04-11 22:57:46 -0400] nicholasf: miah: how can I change the default ruby version to 1.9.3 instead of 1.87?
[2012-04-11 22:57:57 -0400] miah: modify your bootstrap template
[2012-04-11 22:58:21 -0400] miah: http://wiki.opscode.com/display/chef/Custom+Knife+Bootstrap+Script
[2012-04-11 22:58:26 -0400] rafaelmagu: Out of curiosity, is there an official 12.04 bootstrap template available?
[2012-04-11 22:58:56 -0400] rafaelmagu: The one I found as a Gist install rvm root-only, but that didn't seem to work that well
[2012-04-11 22:59:05 -0400] miah: i just use the default currently
[2012-04-11 22:59:06 -0400] rafaelmagu: Had to modify it to remove the root-only part
[2012-04-11 22:59:15 -0400] rafaelmagu: 10.04 didn't seem to work for me
[2012-04-11 22:59:18 -0400] nicholasf: miah: sorry, where can I find the bootstrap template?
[2012-04-11 22:59:23 -0400] miah: nicholasf: read that url
[2012-04-11 22:59:27 -0400] rafaelmagu: Doing a netboot install of beta 2
[2012-04-11 22:59:29 -0400] nicholasf: will do thanks
[2012-04-11 23:00:56 -0400] rafaelmagu: Here's another one: I've seen posts about forcing nodes to run chef-client again by running "knife cluster kick"
[2012-04-11 23:01:24 -0400] miah: no idea
[2012-04-11 23:01:28 -0400] rafaelmagu: Is there something similar to that but working on a single node?
[2012-04-11 23:01:31 -0400] miah: chef runs every 30 minutes by default as a daemon
[2012-04-11 23:01:37 -0400] rafaelmagu: Really?
[2012-04-11 23:01:38 -0400] rafaelmagu: Hmm
[2012-04-11 23:01:47 -0400] rafaelmagu: I must be doing something wrong with the bootstrap, then
[2012-04-11 23:02:12 -0400] rafaelmagu: "knife status" shows nodes that haven't pinged back in 400+ hours
[2012-04-11 23:03:07 -0400] miah: well, bootstrap generally shows you the output of chef as it runs, you should be able to see errors as they come up
[2012-04-11 23:03:16 -0400] rafaelmagu: What part of the bootstrap configures chef-client to run as daemon?
[2012-04-11 23:03:30 -0400] rafaelmagu: Assuming the default bootstrap
[2012-04-11 23:03:40 -0400] miah: well that depends on your configuration
[2012-04-11 23:03:53 -0400] miah: during my bootstrap, i connect my chef clients to my servers and set them up as daemons
[2012-04-11 23:04:00 -0400] miah: there is a chef-client cookbook for managing much of that
[2012-04-11 23:05:50 -0400] rafaelmagu: Cool
[2012-04-11 23:06:00 -0400] rafaelmagu: Reading the cookbook now
[2012-04-11 23:06:07 -0400] rafaelmagu: That's how the daemon gets set
[2012-04-11 23:06:16 -0400] rafaelmagu: Gonna put that into my setup now
[2012-04-11 23:07:14 -0400] patcon: yfeldblum: as advice to a new rubyist, is this the ugliest way to do this ever? https://gist.github.com/2363364 :)
[2012-04-11 23:12:42 -0400] rafaelmagu: Whoa
[2012-04-11 23:12:50 -0400] rafaelmagu: MacBook just kernel panic'ed
[2012-04-11 23:12:54 -0400] rafaelmagu: Crazy
[2012-04-11 23:20:36 -0400] miah: happens all the time
[2012-04-11 23:21:44 -0400] jtimberman: rafaelmagu: runnign vagrant?
[2012-04-11 23:21:56 -0400] jtimberman: virtualbox is... not the most stable piece of software i've used for virtual machines.
[2012-04-11 23:22:11 -0400] rafaelmagu: jtimberman: nah
[2012-04-11 23:22:33 -0400] rafaelmagu: was typing into Terminal.app and it just panicked
[2012-04-11 23:35:45 -0400] aslan: I am getting a strange 401 error
[2012-04-11 23:36:09 -0400] aslan: i am using the exact same validator.pem on my other servers and they authenticate fine
[2012-04-11 23:37:24 -0400] aslan: the two differences i am aware of is that the servers that work are using chef 0.9.14 and ruby 1.8.7 and the new one is using chef 0.9.18 and ruby 1.9
[2012-04-11 23:37:29 -0400] aslan: could that be a reason?
[2012-04-11 23:39:48 -0400] aslan: anyone here?
[2012-04-11 23:40:54 -0400] juanje: aslan: here are some common reason for you to have that error: http://wiki.opscode.com/display/chef/Common+Errors
[2012-04-11 23:41:10 -0400] aslan: juanje: i read those
[2012-04-11 23:41:14 -0400] aslan: none of them apply
[2012-04-11 23:41:26 -0400] aslan: i have a validator that i know it works
[2012-04-11 23:41:28 -0400] juanje: ops
[2012-04-11 23:42:14 -0400] aslan: i get INFO: Client key /etc/chef/client.pem is not present - registering
[2012-04-11 23:42:14 -0400] aslan: [Wed, 11 Apr 2012 16:41:59 -0700] WARN: HTTP Request Returned 401 Unauthorized: Failed to authenticate. Ensure that your client key is valid.
[2012-04-11 23:42:22 -0400] juanje: could you pastebin the output?
[2012-04-11 23:42:31 -0400] juanje: oh, there
[2012-04-11 23:43:20 -0400] aslan: or this in debug mode https://gist.github.com/2363511
[2012-04-11 23:43:47 -0400] aslan: i use the exact same validator on my other servers and it works fine
[2012-04-11 23:44:15 -0400] juanje: hummm.. do you have the same time in both machines?
[2012-04-11 23:44:32 -0400] aslan: yeah its not a time issue
[2012-04-11 23:44:36 -0400] aslan: i double checked
[2012-04-11 23:44:44 -0400] juanje: Ok, i got that error once
[2012-04-11 23:48:47 -0400] hoover_damn: so runit users, how do you enforce ulimit -n 65535 && ulimit -S 65535?
[2012-04-11 23:49:01 -0400] hoover_damn: I set it, but the second I run chpst, bam, lost.
[2012-04-11 23:49:14 -0400] hoover_damn: limits.conf is only easy if your AMI is setup that way from bootup so please don't suggest that.
[2012-04-11 23:49:19 -0400] hoover_damn: my thought is to drop the chpst
[2012-04-11 23:49:26 -0400] hoover_damn: but :( i like chpst
[2012-04-11 23:50:19 -0400] aslan: here is both client and server 401 error https://gist.github.com/2363511 any idea?
[2012-04-11 23:52:12 -0400] pcn: hoover_damn can you run it as softlimit for those resources?
[2012-04-11 23:53:21 -0400] juanje: aslan: I'm cheking the logs and looking but I don't see much, sorry :-/
[2012-04-11 23:53:41 -0400] aslan: juanje: yeah its a strange one
