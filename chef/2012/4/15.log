[2012-04-15 00:34:07 -0400] mrtazz: I'm trying to get encrypted data bags working and I always get "bad decrypt"
[2012-04-15 00:34:35 -0400] mrtazz: now I just saw that the encrypted values all have an appended "\n"
[2012-04-15 00:34:43 -0400] mrtazz: is that how it is supposed to be?
[2012-04-15 00:34:43 -0400] matschaffer: yfeldblum_: https://gist.github.com/2389043
[2012-04-15 00:35:19 -0400] matschaffer: looks like maybe chef's downloader makes a fork call
[2012-04-15 00:37:09 -0400] matschaffer: oh wait
[2012-04-15 00:37:11 -0400] matschaffer: master right
[2012-04-15 00:37:38 -0400] yfeldblum_: matschaffer, right, the commit i just pushed :P
[2012-04-15 00:38:07 -0400] matschaffer: so chef master as well? or just librarian?
[2012-04-15 00:38:14 -0400] matschaffer: and is there's a rake cmd to install it?
[2012-04-15 00:38:53 -0400] yfeldblum_: librarian master
[2012-04-15 00:38:56 -0400] yfeldblum_: rake install
[2012-04-15 00:39:09 -0400] matschaffer: easy enough :)
[2012-04-15 00:39:18 -0400] yfeldblum_: or just use /path/to/libarian-checkout/bin/librarian-chef install --verbose
[2012-04-15 00:40:04 -0400] matschaffer: yfeldblum_: worked like a charm
[2012-04-15 00:40:08 -0400] matschaffer: you want the verbose output?
[2012-04-15 00:40:50 -0400] matschaffer: hrm there wasn't anyway
[2012-04-15 00:40:57 -0400] matschaffer: s/anyway/any/
[2012-04-15 00:41:02 -0400] matschaffer: well either way, seems to be working
[2012-04-15 00:42:35 -0400] yfeldblum_: matschaffer, --verbose is usually for debugging info if something didn't work
[2012-04-15 00:42:43 -0400] yfeldblum_: just in case
[2012-04-15 00:43:09 -0400] yfeldblum_: and thanks for testing it out
[2012-04-15 00:44:27 -0400] matschaffer: np
[2012-04-15 00:49:29 -0400] matschaffer: yfeldblum_: the specs mostly pass too. Two failures on git_spec.rb
[2012-04-15 00:49:38 -0400] matschaffer: I'd paste it but it's littered with ansi color codes
[2012-04-15 01:02:18 -0400] yfeldblum_: ok
[2012-04-15 01:02:26 -0400] yfeldblum_: yeah the git source shells out to `git`
[2012-04-15 01:37:58 -0400] matschaffer: yfeldblum_: my usual git command works fine here, gotta figure out how to get these ansi code out of there and maybe make sense of it
[2012-04-15 02:24:13 -0400] Kwanasolis: matschaffer: look into git with --porcilien I believe
[2012-04-15 02:24:27 -0400] Kwanasolis: matschaffer: it is script friendly and has a frozen output so you can code against it
[2012-04-15 02:25:03 -0400] Kwanasolis: porcelain even
[2012-04-15 04:34:15 -0400] schuckles: hi
[2012-04-15 04:34:26 -0400] jtimberman: hi!
[2012-04-15 04:34:43 -0400] schuckles: i'm wondering if knife can be used to provision a windows ec2 AMI
[2012-04-15 04:34:57 -0400] jtimberman: "yes" but "no"
[2012-04-15 04:35:02 -0400] schuckles: ?
[2012-04-15 04:35:05 -0400] jtimberman: i believe it times out
[2012-04-15 04:35:11 -0400] jtimberman: before it gets to bootstrap it
[2012-04-15 04:35:22 -0400] schuckles: yea, it times out on SSHD
[2012-04-15 04:35:38 -0400] jtimberman: so you have to do it in two steps. provision the AMI, and when it is booted, then bootstrap it.
[2012-04-15 04:35:43 -0400] schuckles: which makes sense because windows doesn't have SSH until it's been bootstrapped
[2012-04-15 04:36:02 -0400] schuckles: thats sorta what i figured
[2012-04-15 04:36:05 -0400] schuckles: rats
[2012-04-15 04:36:55 -0400] schuckles: well, thanks for your input greatly appreciated :-)
[2012-04-15 05:17:11 -0400] akraut: hey folks
[2012-04-15 05:21:59 -0400] akraut: I'm having trouble with the chef-webui
[2012-04-15 05:22:16 -0400] akraut: After I log in, all I can get is a "No Method Error"
[2012-04-15 05:23:25 -0400] akraut: knife still works fine, though.
[2012-04-15 05:25:24 -0400] akraut: Ah, crap, I think I know what happened. It looks like I have a node with no node name
[2012-04-15 05:31:22 -0400] |shad0w|: O
[2012-04-15 05:31:37 -0400] |shad0w|: I've been through the desert on a node with no name it felt good to be out of the rain
[2012-04-15 05:34:36 -0400] akraut: Yep, that was it.
[2012-04-15 05:35:03 -0400] akraut: All better. Thanks rubber ducky's. :)
[2012-04-15 05:49:53 -0400] akraut: Is there a handy list of chef search snippets somewhere?
[2012-04-15 05:50:31 -0400] akraut: I'd like to use knife ssh to check the chef-client service of all the nodes that haven't checked in within the last 24 horus.
[2012-04-15 05:53:19 -0400] owen1: yfeldblum_: did the rvm recipe works for you? i am getting: curl -Ls https://raw.github.com/wayneeseguin/rvm/master/binscripts/rvm-installer ) --version head --branch stable   returned 1
[2012-04-15 05:59:48 -0400] owen1: any good tutorial/guide for using chef solo on real server (not vm)? i found this - https://github.com/grempe/chef-solo-bootstrap but not sure if it's relevant since it's 3 years old
[2012-04-15 06:00:16 -0400] coderanger: akraut: Search isn't really good for that kind of thing
[2012-04-15 06:00:29 -0400] coderanger: akraut: Check the solr docs though
[2012-04-15 06:00:37 -0400] coderanger: in general it isn't great at comparison queries
[2012-04-15 06:00:43 -0400] akraut: coderanger: How would you recommend doing that?
[2012-04-15 06:01:38 -0400] coderanger: akraut: Manual iteration :-/
[2012-04-15 06:01:46 -0400] coderanger: Or setup a couch view
[2012-04-15 06:02:52 -0400] akraut: coderanger: Yeah, ah, hadn't thought have having couch do it for me. That's a good idea.
[2012-04-15 06:04:03 -0400] coderanger: Keep in mind a future version of chef will stop using couch, so that won't work indefinitely
[2012-04-15 06:04:20 -0400] coderanger: (but the SQL schema has an updated_at field which works similarly)
[2012-04-15 06:05:37 -0400] akraut: That's disappointing. Our company's application uses couch, so I have a very nicely sized bigcouch cluster backing chef.
[2012-04-15 06:05:59 -0400] coderanger: I'm sure you know our pain then ;-)
[2012-04-15 06:20:18 -0400] akraut: Heh, yeah, I just know how to manage the pain. What is it switching to?
[2012-04-15 06:28:39 -0400] coderanger: SQL
[2012-04-15 06:40:33 -0400] akraut: Well, that's managable, then.
[2012-04-15 08:25:22 -0400] BryanWB_: ohai chefs!
[2012-04-15 08:42:31 -0400] BryanWB_: oh fuck me, i totally can't remember git rebase
[2012-04-15 10:00:07 -0400] eugenmayer: anybody could fix that reaccuring issue, that solr crashes overnight and cannot be restart due to permissions issues on the pid / logs?
[2012-04-15 10:00:09 -0400] eugenmayer: Pretty anoying
[2012-04-15 10:28:18 -0400] amz: Hello
[2012-04-15 10:29:58 -0400] eugenmayer: Hi
[2012-04-15 10:30:28 -0400] eugenmayer: The chef UI seriously needs some polishing ( not CSS wise, useability and functions)
[2012-04-15 10:33:01 -0400] BryanWB_: eugenmayer, they hired a ui guy, should get a lot better in 0.11
[2012-04-15 10:33:10 -0400] eugenmayer: Wonderful!
[2012-04-15 10:33:33 -0400] eugenmayer: IMO, 70% of chefs potentials get lost there.
[2012-04-15 10:36:03 -0400] meineerde: eugenmayer: well, in the tradition of configuration as code: just don't use the web ui. I don't :)
[2012-04-15 10:36:16 -0400] eugenmayer: meineerde: hey, you here!
[2012-04-15 10:36:25 -0400] meineerde: I'M EVERYWHERE!
[2012-04-15 10:36:31 -0400] eugenmayer: OMG!
[2012-04-15 10:36:42 -0400] meineerde: YOU SAID IT, MAN!
[2012-04-15 10:37:22 -0400] eugenmayer: meineerde: did saw you here, just over there in chili :)
[2012-04-15 10:38:48 -0400] eugenmayer: meineerde: btw. we finished the solr integration for chili ( including permissions ) and nearly done a full integration of chili-wiki to Drupal Wiki ( including permissions and members and stuff like that ). Looking forward to release some of those stuff. By the way, we released a chosen-lib plugin and a "project-ng-selector"what about chili having chosen in the next release, can we help?
[2012-04-15 10:40:42 -0400] meineerde: eugenmayer: (don't want to spoil the channel) I'm really (!) busy until at least the end of this month I'm starting t think bout the next steps after that
[2012-04-15 10:41:17 -0400] meineerde: eugenmayer: but thanks. Some of these things will be really valuable.
[2012-04-15 10:41:21 -0400] eugenmayer: Ok - never mind. Will visit you over there in 2-3 weeks, maybe you have more bandwith. Just one step after the other :)
[2012-04-15 10:43:04 -0400] meineerde: thanks
[2012-04-15 10:43:17 -0400] eugenmayer: Dont forget guys - its sunday. No working!
[2012-04-15 10:43:53 -0400] eugenmayer: Its about Tea, Cake, Cofee, Wifes and all this
[2012-04-15 10:44:12 -0400] meineerde: the uni doesn't know (or at least appreciate) sundays :(
[2012-04-15 10:44:30 -0400] eugenmayer: meineerde: @which Univirsity are you?
[2012-04-15 10:44:42 -0400] eugenmayer: (if i may ask)
[2012-04-15 10:44:54 -0400] meineerde: eugenmayer: http://www.hpi.uni-potsdam.de/
[2012-04-15 10:45:09 -0400] eugenmayer: Ah, du you know Prof. Schindelhauer?
[2012-04-15 10:45:46 -0400] meineerde: nope, never heard of him
[2012-04-15 10:46:21 -0400] eugenmayer: He used to teach over there, but he switched over to Freiburg
[2012-04-15 10:48:15 -0400] eugenmayer: meineerde: pretty neat stuff you have therecomparing to Freiburg, seems to be heaven over there
[2012-04-15 10:54:27 -0400] meineerde: eugenmayer: doesn't freiburg also have a software engineering excellence center?
[2012-04-15 10:54:36 -0400] meineerde: but yeah, could be worse :)
[2012-04-15 10:54:40 -0400] eugenmayer: are you serious?
[2012-04-15 10:54:57 -0400] eugenmayer: Freiburg, by far, has the worse SWT lectures in germany, pretty sure
[2012-04-15 10:55:27 -0400] eugenmayer: we "might" have an "o.k." "forma software verifcation" lecture, but anything to engeneering is seriously so bad.
[2012-04-15 10:56:29 -0400] eugenmayer: Actually there is not much left of freiburg
[2012-04-15 10:57:00 -0400] meineerde: mmm, then I must have mixed you up with with augsburg -_-"
[2012-04-15 10:57:31 -0400] eugenmayer: "Planung" has been bought out by Basel just recently, our Head has been bought by Berlin after winning the Leipnitz preis, the KI / Human robotics have been bought by Bonn
[2012-04-15 10:58:02 -0400] meineerde: and formal software verification is something you always need in real life. There's not one day were I don't prove my software to be mathematically correct
[2012-04-15 10:58:04 -0400] eugenmayer: Augsburg and SWT is frist class, a collegue of mine hase done his master Phd there - he was impressed
[2012-04-15 10:58:46 -0400] eugenmayer: he has done his bachelor in Freiburg though - more or less he told me, that those are to worlds. Its like "grundschule" and "Univirsity"
[2012-04-15 10:59:55 -0400] eugenmayer: (and that was back in time, when all those first class Profs. were still in Freiburg). Now we have left one pretty good stochastic prof and of course the "logics" prof, know world wide ( but his lectures are useless ). Pretty strange what happened to Freiburg IT-Part the last 4 years
[2012-04-15 11:01:02 -0400] meineerde: I know some guys doing their physics doctors in Freiburg. They seem to do rather well
[2012-04-15 11:02:25 -0400] eugenmayer: Physics is pretty good here, also MST and medicin. Of course all those "teachers" like our university and BWL is pretty ok here. But IT is basically completly dieing or dead - depends on were you set the minimal quality :)
[2012-04-15 11:03:12 -0400] eugenmayer: I think Freiburg, over all, is a good University, but as iam rather interested in the IT part, i judge it bad ( as of my POV )
[2012-04-15 11:03:40 -0400] meineerde: time to leave then :)
[2012-04-15 11:04:00 -0400] eugenmayer: When i continue studiiing, yes :)
[2012-04-15 11:44:52 -0400] kds: hi, help me please - is it a way to use chef to install debian packages that require interactive confirmation for replacing changinng configuration files? and if so, explain it please in few words, thank you
[2012-04-15 11:50:43 -0400] laurent\: kds: http://wiki.opscode.com/display/chef/Resources#Resources-Package you'll to use the response_file thing to provide preseed debconf answers. have a look at the openldap::server recipe
[2012-04-15 11:51:27 -0400] ranjibd: response_file?
[2012-04-15 11:52:50 -0400] ranjibd: kds: which distro you are using?
[2012-04-15 11:52:56 -0400] laurent\: debian
[2012-04-15 11:53:23 -0400] eugenmayer: kds: you can use preseed
[2012-04-15 11:53:30 -0400] kds: debian/ubuntu
[2012-04-15 11:53:37 -0400] laurent\: bbl (having a perl afternoon, don't ask me why ! :-))
[2012-04-15 11:53:41 -0400] eugenmayer: also the java-recipe
[2012-04-15 11:54:34 -0400] eugenmayer: kds: basically you add a file to yourcookbook/files/mypackage.seed and then you use this as response_file when installing with package "mypackage" do
[2012-04-15 11:54:44 -0400] eugenmayer: response_file mypackage.seed
[2012-04-15 11:54:50 -0400] eugenmayer: (be aware, no path)
[2012-04-15 11:55:00 -0400] eugenmayer: this seed file has the usual format, so
[2012-04-15 11:55:18 -0400] eugenmayer: packagename        debconfvar/name          type  value
[2012-04-15 11:55:26 -0400] eugenmayer: (every line, one var)
[2012-04-15 11:55:40 -0400] kds: great, thank you all, i'll try preseeding it now
[2012-04-15 11:56:24 -0400] ranjibd: laurent\: perl ? :0)
[2012-04-15 11:57:01 -0400] eugenmayer: have a look at
[2012-04-15 11:57:02 -0400] eugenmayer: https://github.com/opscode-cookbooks/mysql/blob/master/templates/default/mysql-server.seed.erb
[2012-04-15 11:57:11 -0400] eugenmayer: kds: ^^
[2012-04-15 11:57:34 -0400] eugenmayer: https://github.com/opscode-cookbooks/mysql/blob/master/recipes/server.rb#L43
[2012-04-15 11:57:44 -0400] kds: hm, can't find preseeding example in openldap recipe
[2012-04-15 11:57:54 -0400] eugenmayer: this is the advanced usage, if you seed file needs dynamic vars, static can be done using files/
[2012-04-15 11:58:09 -0400] eugenmayer: https://github.com/opscode-cookbooks/mysql/blob/master/recipes/server.rb#L38
[2012-04-15 11:58:30 -0400] eugenmayer: https://github.com/opscode-cookbooks/mysql/blob/master/recipes/server.rb#L77
[2012-04-15 11:58:42 -0400] Babar: eugenmayer: hehe, good thing I taught you that trick :)
[2012-04-15 11:58:44 -0400] eugenmayer: iam not sure, why here, response_file is not used
[2012-04-15 11:58:54 -0400] eugenmayer: Babar: they did it differently :)
[2012-04-15 11:59:05 -0400] eugenmayer: Babar: well iam glad to help and give back, if i learned it :)
[2012-04-15 11:59:28 -0400] eugenmayer: Babar: they basically dont use response_file at all, when doing it with templates
[2012-04-15 11:59:54 -0400] Babar: yeah, which is stupid, because it should work just the same
[2012-04-15 11:59:57 -0400] eugenmayer: maybe, because that recipe is older, AFAIK that "you can also use tempaltes as seeds" was introduced later
[2012-04-15 12:00:06 -0400] Babar: maybe they wrote the recipe before the patch got merged :)
[2012-04-15 12:00:09 -0400] Babar: right
[2012-04-15 12:00:11 -0400] eugenmayer: probably
[2012-04-15 12:01:06 -0400] eugenmayer: kds: be aware, that if you _reinstall_ a package ( so a configured one ) the response_file way will not work
[2012-04-15 12:02:05 -0400] Babar: yeah, what he means is that you cannot change the preseed values using a response_file. If you re-install it, it will use the values saved in debconf, so the ones from the first install.
[2012-04-15 12:02:18 -0400] Babar: which might explain why mysql is done that way, so it's easy to change settings
[2012-04-15 12:02:37 -0400] eugenmayer: no, that will not work in mysql
[2012-04-15 12:02:46 -0400] eugenmayer: you have to call dpkg-reconfigure no-reload
[2012-04-15 12:02:56 -0400] eugenmayer: to have reconfiguration work relyable
[2012-04-15 12:03:20 -0400] eugenmayer: calling https://github.com/opscode-cookbooks/mysql/blob/master/recipes/server.rb#L39
[2012-04-15 12:03:29 -0400] eugenmayer: just before doing the upgrade will not lead to reconfiguration
[2012-04-15 12:04:24 -0400] eugenmayer: well, maybe to be more specific
[2012-04-15 12:04:44 -0400] eugenmayer: iam only 80% sure for the upgrade-thingy, so if the package version really changes PLUS reconfiguration
[2012-04-15 12:04:51 -0400] eugenmayer: iam 100% for "only changing configuration"
[2012-04-15 12:04:56 -0400] kds: it looks working when you need to path through wizards, but can i use in in case when i have package version 1, installing version 2 and have several  changing files that i want to confirm to override/not override
[2012-04-15 12:04:57 -0400] eugenmayer: (so no real upgrade)
[2012-04-15 12:05:38 -0400] eugenmayer: kds: you can even use the "interactive mode" when calling chef-client on the server
[2012-04-15 12:05:45 -0400] eugenmayer: if you actually know, you need to interact somehow
[2012-04-15 12:17:15 -0400] kds: yeah, interactive mode looks like only available way, because confirmation requests cannot be preceeded :(
[2012-04-15 12:53:23 -0400] BryanWB_: nacer_, around?
[2012-04-15 12:53:32 -0400] nacer_: BryanWB_: yup
[2012-04-15 12:54:55 -0400] BryanWB_: nacer_, am refactoring the tomcat lwrp, would u mind taking a look and commenting? https://github.com/bryanwb/tomcat/blob/refactor_lwrp/README.md
[2012-04-15 12:56:37 -0400] nacer_: ok let me waking hup
[2012-04-15 13:02:56 -0400] BryanWB_: miah_, supsup
[2012-04-15 13:07:25 -0400] nacer_: BryanWB_: sound nice
[2012-04-15 13:07:39 -0400] nacer_: BryanWB_: i don't see any weird stuff
[2012-04-15 13:07:44 -0400] BryanWB_: nacer_, do the x_opts, xx_opts, d_opts make sense?
[2012-04-15 13:08:21 -0400] BryanWB_: correspond to -X<something>  -XX: <something  and -D<foo>
[2012-04-15 13:09:48 -0400] itwasntandy: sounds sensible
[2012-04-15 13:10:05 -0400] BryanWB_: itwasntandy, tks
[2012-04-15 13:10:07 -0400] itwasntandy: although historically I've broken the type of operations down by function
[2012-04-15 13:10:09 -0400] itwasntandy: rathe than name
[2012-04-15 13:10:34 -0400] BryanWB_: itwasntandy, yeah, i was trying that too but there are so many variations
[2012-04-15 13:10:38 -0400] itwasntandy: true
[2012-04-15 13:10:47 -0400] BryanWB_: esp. among the -X and -XX
[2012-04-15 13:11:09 -0400] BryanWB_: the jmx opts fit together but the -D don't seem to in my experience
[2012-04-15 13:11:26 -0400] BryanWB_: itwasntandy, what other function/grouping of options can u think of?
[2012-04-15 13:12:39 -0400] itwasntandy: I mean on the tomcat6 lwrp I wrote, as its just for us (Expedia), I've put in the groupings I care about: one lot for GC, one lot for heap, one lot for logging, one lot for profiling.
[2012-04-15 13:13:21 -0400] BryanWB_: itwasntandy, is ur lwrp public?
[2012-04-15 13:13:37 -0400] itwasntandy: but downside of that is I then have to store the -XX / -X etc along with each value
[2012-04-15 13:13:50 -0400] itwasntandy: no, as its not really useful for other people at the minute I'm afraid
[2012-04-15 13:14:10 -0400] itwasntandy: it puts stuff in weird places, for historical reasons :)
[2012-04-15 13:14:24 -0400] BryanWB_: s/historical/business/  ;)
[2012-04-15 13:14:46 -0400] itwasntandy: nah its historical, I've only been here 6 months
[2012-04-15 13:14:47 -0400] itwasntandy: :P
[2012-04-15 13:14:47 -0400] nacer_: BryanWB_: yeah t make sense
[2012-04-15 13:15:20 -0400] BryanWB_: nacer_, what do u think about grouping options by GC, logging, profiling, heap, rather than x_opts, xx_opts, d_opts  ?
[2012-04-15 13:18:39 -0400] nacer_: BryanWB_: i don't like it
[2012-04-15 13:18:47 -0400] BryanWB_: nacer_, why not?
[2012-04-15 13:18:57 -0400] nacer_: BryanWB_: too much option
[2012-04-15 13:19:48 -0400] itwasntandy: nacer_: my rational, is it makes it easier to check what the configuration is, if you keep things of similar function together
[2012-04-15 13:20:19 -0400] itwasntandy: and also means that you could easily ensure your GC settings ae the same between different environments
[2012-04-15 13:20:54 -0400] itwasntandy: but enable tweaking of logging (e..g debug in dev) and profiling in dev envs
[2012-04-15 13:20:58 -0400] BryanWB_: itwasntandy, nacer_ , here is a mockup grouped by function https://gist.github.com/2392764
[2012-04-15 13:21:47 -0400] nacer_: BryanWB_: i am comming back later "Breakfeast time"
[2012-04-15 13:21:52 -0400] BryanWB_: nacer_, np ;)
[2012-04-15 13:22:56 -0400] BryanWB_: itwasntandy,  my problem is that i will likely have additional gc  or profiling options that I don't want to change the lwrp every time to add a new one
[2012-04-15 13:36:11 -0400] kds: eugenmayer: if you are interested in, i found a way that should do the trick, it's apt-get  -o DPkg::Options::="--force-confold" -o DPkg::Options::="--force-confdef" install PACKAGE, and all files will be automatically keeped
[2012-04-15 13:38:37 -0400] kds: is it a way to pass parameters to apt-get when chef installing a package ?
[2012-04-15 13:43:42 -0400] kds: found it, sorry, thanks to all
[2012-04-15 13:53:30 -0400] itwasntandy: bryanwb: yeh fair point. I got round that by just having strings I enter all the values for a section into, which isn't ideal, but works ok for us.
[2012-04-15 13:56:07 -0400] BryanWB_: itwasntandy, the logging opts go on the command line? don't they just go into logging.properties?
[2012-04-15 13:57:07 -0400] BryanWB_: itwasntandy, on second thought, dont' think i need x_opts, since there aren't so many options for -X, only need xx_opts, d_opts
[2012-04-15 14:11:18 -0400] itwasntandy: bryanwb_: we provide an override for the log4j.xml in dev. Hence why I said what works for us, may not work elsewhere. :)
[2012-04-15 14:11:21 -0400] itwasntandy: bryanwb_: will look more at your provider when in the ofifce tomorrow. on 3g connectivity, as in france at the minute, and think I just hit my roaming quota, as got 30+s latency!
[2012-04-15 14:24:49 -0400] BryanWB_: itwasntandy, tks for taking a look
[2012-04-15 15:19:29 -0400] bmeynell_: Anyone been able to install knife-ec2 on Ubuntu 11.10? I'm getting "Error installing knife-ec2: ERROR: Failed to build gem native extension." after "sudo gem install knife-ec2". Installed chef via apt. gem -v => 1.8.10; Chef: 0.8.16;
[2012-04-15 15:45:58 -0400] BryanWB_: bmeynell_, do u have build-essential ubunut package installed?
[2012-04-15 18:12:32 -0400] hoover_damn: 0.8.16?
[2012-04-15 18:12:32 -0400] bawt: 0.8.16 is released.
[2012-04-15 18:12:34 -0400] hoover_damn: wow that is old
[2012-04-15 18:17:06 -0400] bendrix415: i am using the deploy resource to deploy my custom application from git using the default action: sync
[2012-04-15 18:18:38 -0400] bendrix415: if a folder gets deleted on the node in my custom app, will the next chef run recreate the folder since it will be out of sync with git
[2012-04-15 18:19:01 -0400] cwj: bendrix415: no
[2012-04-15 18:19:28 -0400] cwj: you could write an execute job that would do a git checkout or whatever to pull down the missing files
[2012-04-15 18:20:20 -0400] cwj: if you are using deploy_revision chef will assume nobody has messed with the deploy directory until you give it a new revision to push
[2012-04-15 18:20:52 -0400] bendrix415: gotcha
[2012-04-15 18:21:04 -0400] cwj: and when using the plain deploy resource, chef will redeploy the repo or app every time even if nothing has changed, unless you guard it with only_if/not_if
[2012-04-15 18:23:42 -0400] bendrix415: i guess that will work, if i have servers offline between deployments and a server comes up and it will grab either a revision or master that would be different and redeploy
[2012-04-15 18:26:09 -0400] bendrix415: just looking for the best way to deploy my custom apps; I started with using remote_file pointing to a tar file with bash execute for the logic
[2012-04-15 18:29:32 -0400] cwj: i use deploy_resource for deploying a C daemon, a django app and a static website thats compiled with nodejs
[2012-04-15 18:30:19 -0400] cwj: you can move the bash logic into your deploy resource, get the flexibility of using the deploy resource and not have to really change very much
[2012-04-15 18:46:30 -0400] jtimberman: bawt: forget 0.8.16
[2012-04-15 18:46:30 -0400] bawt: aight
[2012-04-15 19:25:00 -0400] dbgster: in a role.rb file, how do I list multiple recipes in my run list?
[2012-04-15 19:25:29 -0400] dbgster: getting an error, mine looks like:  run_list( "recipe[abc]", "recipe[def]" )
[2012-04-15 19:25:37 -0400] dbgster: why is that wrong?
[2012-04-15 19:27:16 -0400] dbgster: sorry, but mine spans multiple lines, i'm getting: syntax error, unexpected '\n', expecting ')'
[2012-04-15 19:29:36 -0400] Babar: mine span multiple lines too
[2012-04-15 19:30:08 -0400] dbgster: hmm..ok.
[2012-04-15 19:30:33 -0400] Babar: oh, in fact I have one with run_list, as I put a role, but the other one just has recipes "blah", "foo", \n "bar", "..."
[2012-04-15 19:42:23 -0400] cwj: just lose the parens
[2012-04-15 19:57:52 -0400] z: 0.10.10?
[2012-04-15 19:58:08 -0400] z: jtimberman: any word on how the beta is going for that?
[2012-04-15 20:04:46 -0400] dbgster: babar: yeah it was the ()
[2012-04-15 20:04:51 -0400] dbgster: cwj: thanks
[2012-04-15 20:05:05 -0400] cwj: sure
[2012-04-15 20:08:15 -0400] ranjibd: whats up
[2012-04-15 20:30:53 -0400] coderanger: Playing around with possible layouts for the opscode sites, what do people think of this? http://dl.dropbox.com/u/3962871/Screenshots/accordionmockup2.001.png
[2012-04-15 20:32:17 -0400] ranjibd: coderanger: looks like wiki
[2012-04-15 20:32:43 -0400] coderanger: Hah, I guess it does somewhat
[2012-04-15 20:32:58 -0400] ranjibd: coderanger: thats intended ?
[2012-04-15 20:33:03 -0400] coderanger: Not really
[2012-04-15 20:33:10 -0400] coderanger: Just riffing on the existing design
[2012-04-15 20:33:13 -0400] quasi: quite a few menus
[2012-04-15 20:33:30 -0400] Mithrandir: the bar on the left should be left-aligned, it's hard to read now.
[2012-04-15 20:33:45 -0400] Mithrandir: and the facebook/twitter icons ought to line up with the search box
[2012-04-15 20:34:09 -0400] Mithrandir: from the colour scheme, it's not clear what are links and what's not.
[2012-04-15 20:34:26 -0400] z: coderanger: Not sure I like that actually, those kind of sites don't tend to look good on varying resolutions. Mixed width.
[2012-04-15 20:34:42 -0400] ranjibd: there should be more diagrams, instead of loads of text .
[2012-04-15 20:35:01 -0400] coderanger: z: It is spec'd to work on 97% of the screens people use on our site
[2012-04-15 20:35:11 -0400] coderanger: (read: >=1280px wide)
[2012-04-15 20:35:14 -0400] z: coderanger: yah and the 3% will be annoyed ;(
[2012-04-15 20:35:29 -0400] coderanger: z: Also IE6 users ;-)
[2012-04-15 20:35:44 -0400] Mithrandir: actually, it looks like only the orange bits are links, which is weird
[2012-04-15 20:36:14 -0400] coderanger: Mithrandir: The content is just a screencap from the existing site, didn't touch it
[2012-04-15 20:36:23 -0400] ranjibd: coderanger: do u support lynx ? :-D
[2012-04-15 20:36:36 -0400] z: coderanger: precedent amongst UX/UI folks right now with examples like Engadget, HP.com, The Verge... it all suggests that ^^^ stuff like that doesn't accommodate a potentially varied readership, using whatever browser(s) make sense
[2012-04-15 20:37:37 -0400] coderanger: z: Our userbase is somewhat more specific, I pulled stats from our Googalytics data before starting
[2012-04-15 20:37:38 -0400] z: coderanger: If you're going to use UserAgent to detect mobile folks and punt them to a special "mobile site" then you might be able to design for the 97% on the main >=1280px point, but IMO, you are far better just sticking to making it 1024px or 1280px and play with a vertically flowing design
[2012-04-15 20:38:08 -0400] coderanger: z: The existing site is ever worse on mobile since the menus are based on hover
[2012-04-15 20:38:32 -0400] coderanger: (note, hp.com also suffers from this problem ;-)
[2012-04-15 20:39:00 -0400] z: I actually think the opscode.com design right now is pretty good. It needs fixes like the hover stuff.
[2012-04-15 20:39:32 -0400] z: e.g; the main splash at http://www.opscode.com/
[2012-04-15 20:39:36 -0400] coderanger: This is the fix for hover-based menus, pull them out into their own accordion
[2012-04-15 20:40:28 -0400] z: I'm guessing that as always, opinions are like assholes. Everyone has one, and quite often, you think the other guys stinks.
[2012-04-15 20:41:01 -0400] z: But I /really/ think that accordion design is *not* the right way to fix your hover issue, and that it is a "two steps back" on Opscode.com as it is today :)
[2012-04-15 20:41:10 -0400] coderanger: Heh, if there is a way to fix the menus and keep the page narrower, I'm all for it
[2012-04-15 20:41:48 -0400] coderanger: The only other option I've come up with is the current abuse of contxtnav tabs which is live on opscode.com >_<
[2012-04-15 20:42:28 -0400] coderanger: Doing a two-layer menu horizontally just doesn't work
[2012-04-15 20:42:47 -0400] z: something like http://modernizr.com/ lets you do...
[2012-04-15 20:42:51 -0400] z: html.touch { .... }
[2012-04-15 20:42:58 -0400] z: html.no-touch { ... }
[2012-04-15 20:43:22 -0400] z: so you might be able to make desktop-based users see a hover-driven menu
[2012-04-15 20:43:32 -0400] z: and require the tablet users to click with their finger to see the dropdown
[2012-04-15 20:44:02 -0400] coderanger: Hover menus don't work on desktop either ...
[2012-04-15 20:44:14 -0400] coderanger: You can't see the other pages in the current section without hovering
[2012-04-15 20:44:20 -0400] coderanger: it kills navigation discovery
[2012-04-15 20:44:38 -0400] coderanger: The problem isn't the touch, it is the information hiding of the menu being hidden 99% of the time
[2012-04-15 20:45:14 -0400] z: but I'm guessing this "problem" affects >50% of sites
[2012-04-15 20:45:30 -0400] z: so why is it something which you care about solving via adding width + accordion?
[2012-04-15 20:46:18 -0400] coderanger: because I want to be better than all of them :)
[2012-04-15 20:46:23 -0400] z: I mean I could see how for a Wiki this would be problematic. You want to drive people to information easily, which means presenting them with the breadcrumbs necessary to do that, not hiding them in a menu 99% of the time
[2012-04-15 20:46:33 -0400] z: But for what is largely a Marketing/Sales site
[2012-04-15 20:46:53 -0400] z: then I'm not sure its a win to "solve" this problem
[2012-04-15 20:47:10 -0400] z: e.g; you're trading a visually streamlined design for something wide, with a "clunky" navigation accordion
[2012-04-15 20:48:37 -0400] z: and IME the look/feel of ths site actually does a lot of 'selling'. call it first impressions, call it corny, say that "our users are different, they're technical" all you want, *but* remember behind every techie is the pointy-hair who has to approve the $120-600+ per month for Hosted Chef, and they will expect it to be visually "flawless".
[2012-04-15 20:49:24 -0400] z: NB: we should refer to this henceforth as the 'Great Marmite Discussion of 2012' :)
[2012-04-15 21:01:13 -0400] dbgster: trying to install the mongod recipe, getting: NoMethodError: undefined method `apt_repository' for #<Chef::Recipe:0xb6bba510>
[2012-04-15 21:01:27 -0400] dbgster: ok ignore that, i need apt.
[2012-04-15 21:02:40 -0400] ranjibd: dbgster: mongod recipe should declare dependency on apt
[2012-04-15 21:04:01 -0400] dbgster: ranjibd: it did, and I added the apt recipe and cookbook, now getting: NameError: wrong constant name Apt.Repositor
[2012-04-15 21:04:12 -0400] dbgster: (during a chef-solo run, in the stacktrace)
[2012-04-15 21:18:07 -0400] cwj: does your mongodb recipe include a line like 'include_recipe "apt"' ?
[2012-04-15 21:21:46 -0400] dbgster: cwj checking
[2012-04-15 21:25:22 -0400] dbgster: strange how the mongodb.gz extracts to 'mongodb 2'
[2012-04-15 21:27:14 -0400] dbgster: cwj: I don't see any include_recipe apt anywhere in the mongodb recipe files
[2012-04-15 21:28:01 -0400] cwj: ok, that recipe will probably not be able to use the apt_repository resource which the apt cookbook provides unless there is a include_recipe line referencing apt
[2012-04-15 21:29:23 -0400] dbgster: cwj: strange as it says it  depends on it: https://github.com/edelight/chef-cookbooks/blob/master/mongodb/metadata.rb
[2012-04-15 21:30:42 -0400] cwj: yeah the dependency tells chef your node needs the cookbook, but include_recipe is the part that sort of activates whats inside the cookbook
[2012-04-15 21:31:30 -0400] cwj: like, you can put the default 'apt' recipe in the node's run list and it will do some things
[2012-04-15 21:31:49 -0400] cwj: but its not quite the same
[2012-04-15 21:33:26 -0400] dbgster: yes I added apt to my base role
[2012-04-15 21:33:33 -0400] dbgster: but the error is still present
[2012-04-15 21:35:57 -0400] dbgster: it seems to be combing from the lwrp providers: http://pastebin.com/k43CNf7w
[2012-04-15 21:36:43 -0400] cwj: right, its looking through all the resources implemented by LWRPs in other cookbooks
[2012-04-15 21:36:57 -0400] cwj: which is why include_recipe is important
[2012-04-15 21:37:09 -0400] cwj: add include_recipe 'apt' to the top of your mongodb recipe
[2012-04-15 21:37:16 -0400] dbgster: cwj: i see, just confused as to how others could be using it with such an obvious bug?
[2012-04-15 21:37:22 -0400] dbgster: k
[2012-04-15 21:38:32 -0400] cwj: is this the mongodb recipe from the community site?
[2012-04-15 21:38:39 -0400] dbgster: yes
[2012-04-15 21:38:42 -0400] cwj: i am under the impression there are a couple of broken things about that recipe
[2012-04-15 21:38:45 -0400] dbgster: maybe I am using it wrong.
[2012-04-15 21:39:05 -0400] dbgster: my recipe is  "recipe[mongodb::10gen_repo]"
[2012-04-15 21:39:12 -0400] dbgster: i'll try just the mongodb recipe for now
[2012-04-15 21:39:37 -0400] cwj: i think the 10gen_repo recipe gets included in the default recipe
[2012-04-15 21:39:46 -0400] cwj: and the default recipe has an include_recipe for apt
[2012-04-15 21:39:55 -0400] cwj: or somehting like that
[2012-04-15 21:40:15 -0400] dbgster: i don't see it, but i'm probably missing it :)
[2012-04-15 21:43:34 -0400] dbgster: ok i commented out the mongo recipe, and still getting the error, so its not in that recipe it seems.
[2012-04-15 21:43:51 -0400] dbgster: I have the apt recipe defined with:  recipe[apt]
[2012-04-15 21:44:49 -0400] dbgster: i removed mongo and apt, still getting the same error, that this is strange
[2012-04-15 23:48:26 -0400] dbgster: cwj: ok the apparent bug was actually in the apt cookbook.
[2012-04-15 23:48:38 -0400] dbgster: i removed the apt/ folder and it works now.
