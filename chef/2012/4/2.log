[2012-04-02 00:30:15 -0400] pcn: nohai chefs
[2012-04-02 00:30:29 -0400] pcn: Ah, that didn't come out right
[2012-04-02 00:31:15 -0400] pcn: Has anyone done any recent work with cloudformation and chef?  Or cloudformation as a way to prototype before moving to chef?
[2012-04-02 00:47:18 -0400] hoover_damm: pcn, there was some ways of doing blueprints that could go into cf
[2012-04-02 00:50:50 -0400] coderanger: cloudformation and chef are somewhat orthogonal
[2012-04-02 00:51:00 -0400] coderanger: CF does provisioning, Chef does configuration
[2012-04-02 00:54:18 -0400] hoover_damm: https://s3.amazonaws.com/cloudformation-examples/IntegratingAWSCloudFormationWithOpscodeChef.pdf
[2012-04-02 00:54:27 -0400] hoover_damm: does have a pretty good example of how to get started with Chef
[2012-04-02 00:54:36 -0400] hoover_damm: coderanger, you guys gonna take on provisioning?
[2012-04-02 00:54:39 -0400] hoover_damm: or hoping someone else will?
[2012-04-02 00:54:48 -0400] hoover_damm: coderanger, likely a loaded question that you can't answer
[2012-04-02 00:55:11 -0400] coderanger: "Not this week" :)
[2012-04-02 00:55:33 -0400] coderanger: It isn't out of the question, but I don't think we would object if someone made a better solution first
[2012-04-02 00:55:33 -0400] hoover_damm: problem is how I want to man up doesn't jive with my team on this
[2012-04-02 00:55:46 -0400] coderanger: orchestration is higher on our list, but even that is still a big question
[2012-04-02 00:56:10 -0400] hoover_damm: well I think it all ties together in the end, but I don't think 1 organization can accept the responsibility of the full cycle
[2012-04-02 00:56:29 -0400] coderanger: Yeah, it will have to be an ecosystem, not a "solution"
[2012-04-02 00:56:39 -0400] hoover_damm: absolutely
[2012-04-02 00:56:46 -0400] hoover_damm: pluggable enough you can pop in your own cloud code
[2012-04-02 00:56:50 -0400] hoover_damm: or built around deltacloud
[2012-04-02 00:57:16 -0400] hoover_damm: because I can't speak for anyone else in here, but the thought of having to write a provisioning system that supports 32+IaaS's
[2012-04-02 00:57:25 -0400] hoover_damm: would make me tell someone pull request or GTFO
[2012-04-02 00:58:35 -0400] hoover_damm: coderanger, well if you guys ever have talks about the problem or need a hand :) I'm in seattle and other then freelance consulting I have time
[2012-04-02 00:59:02 -0400] hoover_damm: I'd love to see these problems started on, I realize nothing can happen overnight
[2012-04-02 00:59:06 -0400] hoover_damm: but yeah provisioning, orchestration
[2012-04-02 00:59:21 -0400] hoover_damm: it would be wonderful to see a new company take on those solutions that could plug into chef or puppet
[2012-04-02 00:59:24 -0400] hoover_damm: and just be a part of the lifecycle
[2012-04-02 01:57:33 -0400] pcn: I'm seeing that there are a lot of options to use cloudformation for some orchestration - at the very least "block until event" which is important
[2012-04-02 01:58:29 -0400] pcn: And the setup scripts look like crappy templates.  I'm in a position where for devs "cfn just works" but I'm looking at it and thinking "really?  But why would you want to maintain that".
[2012-04-02 01:58:39 -0400] pcn: Anyway, gotta get my head outta my ass and take a better look at it
[2012-04-02 03:12:33 -0400] flaccid: pcn: this is #chef not cloudformation
[2012-04-02 03:18:43 -0400] atomic-penguin: Yar, I've never heard of cloudformation
[2012-04-02 04:25:07 -0400] coderanger: Its basically spiceweasel for AWS
[2012-04-02 04:25:26 -0400] coderanger: You can make a JSON file with all your AWS moving pieces and spawn them all at once
[2012-04-02 04:32:46 -0400] hoover_damm: or cluster chef
[2012-04-02 04:33:01 -0400] hoover_damm: various light forms of provisioning
[2012-04-02 04:33:07 -0400] hoover_damm: very yakky
[2012-04-02 04:36:35 -0400] hoover_damm: basically this is where having a full time provisioning solution that then would kick off to chef or puppet or goatcheese
[2012-04-02 04:36:39 -0400] hoover_damm: would be handy
[2012-04-02 04:55:09 -0400] flaccid: hoover_damm: sorry whats the problem?
[2012-04-02 05:09:03 -0400] BryanWB: ohai chefs!
[2012-04-02 05:09:16 -0400] savant: ohai!
[2012-04-02 05:10:25 -0400] erikh: hey.
[2012-04-02 05:10:44 -0400] erikh: BryanWB: sorry I never got around to reviewing your cookbook; I've been mega-busy.
[2012-04-02 05:11:04 -0400] BryanWB: erikh: np
[2012-04-02 05:11:49 -0400] flaccid: which cookbook>
[2012-04-02 05:14:13 -0400] BryanWB: flaccid: ark   http://github.com/bryanwb/chef-ark
[2012-04-02 05:28:41 -0400] jtimberman: erikh: i started writing up a data bag item to deploy chef-dashboard via our application cookbook :)
[2012-04-02 05:29:40 -0400] flaccid: BryanWB: sorry what standard is ark?
[2012-04-02 05:30:59 -0400] BryanWB: flaccid: standard? none
[2012-04-02 05:31:10 -0400] flaccid: fail.
[2012-04-02 05:37:37 -0400] c64: Hi Guys
[2012-04-02 05:37:44 -0400] c64: I'm having a dissagreement here at work
[2012-04-02 05:38:00 -0400] savant: i know how to win
[2012-04-02 05:38:04 -0400] c64: The adamhjk/chef-jenkins
[2012-04-02 05:38:12 -0400] savant: tell the other person that PHP is clearly the superior programming language
[2012-04-02 05:38:32 -0400] c64: is that for CI of our aplication
[2012-04-02 05:38:36 -0400] c64: or of cookbopoks themselves
[2012-04-02 05:38:53 -0400] advait: i want to know that how can we delete the organization from hosted chef server?
[2012-04-02 05:43:22 -0400] flaccid: c64: you failed to mention the disagreement
[2012-04-02 05:43:57 -0400] flaccid: or it just doesn't make sense, at least to me
[2012-04-02 05:44:03 -0400] c64: whether chef-jenkins is for CI of _cookbooks"
[2012-04-02 05:44:14 -0400] flaccid: yeah not helping
[2012-04-02 05:44:14 -0400] c64: or apllicatino which are DEPLOYED BY cookbooks
[2012-04-02 05:44:18 -0400] flaccid: english?
[2012-04-02 05:44:18 -0400] bawt: english is no problem
[2012-04-02 05:44:25 -0400] flaccid: drunk?
[2012-04-02 05:44:34 -0400] c64: better
[2012-04-02 05:44:43 -0400] c64: what does the chef-jenkins do?
[2012-04-02 05:45:02 -0400] flaccid: is this a trick questions
[2012-04-02 05:45:08 -0400] c64: no
[2012-04-02 05:45:25 -0400] flaccid: have you asked the author?
[2012-04-02 05:45:29 -0400] flaccid: have you read doc on jenkins?
[2012-04-02 05:45:40 -0400] c64: We read teh doc
[2012-04-02 05:45:45 -0400] flaccid: are you flaming?
[2012-04-02 05:45:46 -0400] c64: Use Jenkins to drive continuous deployment and synchronization of your Chef Environments from a git repository
[2012-04-02 05:46:06 -0400] flaccid: and?
[2012-04-02 05:46:15 -0400] c64: I have chef environements - dev and production
[2012-04-02 05:46:20 -0400] c64: and an applicatino which sits in git
[2012-04-02 05:46:38 -0400] c64: does this drive continuous deployment of my application to my chef environemetns?
[2012-04-02 05:46:45 -0400] BryanWB: c64: man, wish i could answer you intelligently but I haven't played w/ it myself :(
[2012-04-02 05:46:47 -0400] flaccid: i also published this with chef jenkins yay http://www.rightscale.com/library/server_templates/Jenkins-CI/33182
[2012-04-02 05:47:17 -0400] flaccid: c64: probably not, though your question is vague
[2012-04-02 05:47:53 -0400] c64: Hmmm - how to explain this
[2012-04-02 05:47:57 -0400] c64: we have a java application
[2012-04-02 05:48:16 -0400] flaccid: you don't seem good at explaining anything unfortunately
[2012-04-02 05:48:49 -0400] c64: then please ask the questions which will help the most
[2012-04-02 05:48:57 -0400] c64: which will help *you* the most
[2012-04-02 05:49:14 -0400] flaccid: thats your job dude, if you can't do it, hit the eject button
[2012-04-02 05:49:21 -0400] c64: excuse me?
[2012-04-02 05:49:38 -0400] flaccid: flaccid: thats your job dude, if you can't do it, hit the eject button
[2012-04-02 05:49:44 -0400] c64: all I'm asking is if anyone knows what the chef-jenkins project does
[2012-04-02 05:49:48 -0400] c64: if the answer is no
[2012-04-02 05:50:02 -0400] c64: then I will continue my search
[2012-04-02 05:50:09 -0400] flaccid: thats not what you asked
[2012-04-02 05:50:17 -0400] flaccid: and 'does' is a stupid question
[2012-04-02 05:50:22 -0400] c64: [08:44] <c64> what does the chef-jenkins do?
[2012-04-02 05:50:35 -0400] flaccid: what does world peace do c64 ?
[2012-04-02 05:50:38 -0400] BryanWB: seem like reasonable questions to me
[2012-04-02 05:50:42 -0400] BryanWB: i would ask the same
[2012-04-02 05:50:45 -0400] flaccid: can you answer that or should i continue my search?
[2012-04-02 05:50:54 -0400] jtimberman: advait: Send an email to support@opscode.com with your organization name you want deleted and someone will respond tomorrow during our normal support hours.
[2012-04-02 05:51:43 -0400] flaccid: c64: to put it short. "chef-jenkins sets up jenkins via Chef"
[2012-04-02 05:51:45 -0400] flaccid: got it?
[2012-04-02 05:51:49 -0400] c64: This isn't an IRC cjhannel of people whovolunteer their time to help with "world peace"
[2012-04-02 05:51:52 -0400] c64: and if it was
[2012-04-02 05:52:01 -0400] c64: I would hope that someone would have something intelligent to say
[2012-04-02 05:52:03 -0400] BryanWB: flaccid: pls stop trolling, c64 has legitimate questions
[2012-04-02 05:52:13 -0400] flaccid: thank you for substantiating my point, c64
[2012-04-02 05:52:28 -0400] c64: this IS a room where people volunteer their time to help with Chef
[2012-04-02 05:52:29 -0400] BryanWB: c64: sorry i can't help u
[2012-04-02 05:52:34 -0400] c64: Thank you, Bryan
[2012-04-02 05:52:37 -0400] BryanWB: c64: absolutely correct
[2012-04-02 05:52:37 -0400] flaccid: BryanWB: yes, did you ansewr them?
[2012-04-02 05:52:39 -0400] c64: I'll try to contact adam
[2012-04-02 05:52:58 -0400] BryanWB: flaccid: nope, but i am not putting him down for asking either
[2012-04-02 05:53:16 -0400] flaccid: BryanWB: niether am i. its called asking for clarification.
[2012-04-02 05:53:27 -0400] c64: [08:49] <flaccid> thats your job dude, if you can't do it, hit the eject button
[2012-04-02 05:53:30 -0400] flaccid: flaccid: c64: to put it short. "chef-jenkins sets up jenkins via Chef"
[2012-04-02 05:53:37 -0400] c64: [08:44] <flaccid> english?
[2012-04-02 05:53:43 -0400] c64: [08:45] <flaccid> is this a trick questions
[2012-04-02 05:53:44 -0400] flaccid: it is english
[2012-04-02 05:53:56 -0400] flaccid: sorry, what do you need to know c64 ?
[2012-04-02 05:54:19 -0400] jtimberman: flaccid: dude
[2012-04-02 05:54:19 -0400] c64: Flaccid - fnichol/chef-jenkins does that
[2012-04-02 05:54:35 -0400] flaccid: c64: of couse it does
[2012-04-02 05:54:35 -0400] jtimberman: flaccid: please be civil.
[2012-04-02 05:54:40 -0400] c64: it seems that adamhjk / chef-jenkins does something else
[2012-04-02 05:54:45 -0400] flaccid: i don't understand any of this jtimberman
[2012-04-02 05:54:52 -0400] flaccid: wtf is going on
[2012-04-02 05:55:50 -0400] c64: (fnichol/chef-jenkins has a useful description - " Installs and configures Jenkins CI server & node slaves")
[2012-04-02 05:56:12 -0400] jtimberman: c64: adamhjk/chef-jenkins is a workflow for promoting cookbooks through Chef environments through jenkins.
[2012-04-02 05:56:41 -0400] jtimberman: I'm afraid I don't know the details on how it works or how to use it off hand, I've not played with it at all.
[2012-04-02 05:56:50 -0400] c64: thanks jtimberman : so I wouldn't use it to deploy my application, only the code that deploys my application :-)
[2012-04-02 05:57:00 -0400] jtimberman: c64: yeah. the cookbooks you're using.
[2012-04-02 05:57:08 -0400] c64: flaccid: you can complain about *that* :-)
[2012-04-02 05:57:25 -0400] jtimberman: c64: someone on the mailing list might be able to provide further assistance.
[2012-04-02 05:57:31 -0400] jtimberman: lists.opscode.com, chef list.
[2012-04-02 05:57:38 -0400] c64: cool
[2012-04-02 05:58:17 -0400] flaccid: sorry, i'm so confused here, there is nothing to complain abou. c64 seems like a troll
[2012-04-02 05:58:21 -0400] c64: and crafting tables?
[2012-04-02 05:58:35 -0400] c64: I"m not short!
[2012-04-02 05:58:43 -0400] c64: naw - I'm just need to Chef
[2012-04-02 05:58:47 -0400] c64: and thrown into the deep end
[2012-04-02 05:58:54 -0400] jtimberman: he's not trolling.
[2012-04-02 05:59:03 -0400] flaccid: c64 then do that instead of pushing buttons.
[2012-04-02 05:59:06 -0400] jtimberman: naming things is hard and confusing.
[2012-04-02 05:59:36 -0400] flaccid: spend you time learning chef instead of mocking people here
[2012-04-02 05:59:48 -0400] c64: wait, flaccid  - who mocked who here?
[2012-04-02 05:59:53 -0400] c64: oh, nevermind
[2012-04-02 05:59:54 -0400] BryanWB: flaccid: pls man
[2012-04-02 05:59:59 -0400] jtimberman: Seriously.
[2012-04-02 06:00:07 -0400] flaccid: what am i missing?
[2012-04-02 06:00:15 -0400] c64: thank you BryanWB and jtimberman : until now, I've had only good experiences here
[2012-04-02 06:00:19 -0400] flaccid: this is like a tween bitch convention atm
[2012-04-02 06:00:38 -0400] jtimberman: flaccid: Your tone is not appreciated sir.
[2012-04-02 06:00:55 -0400] flaccid: jtimberman: which tone is that? i'd like to improve
[2012-04-02 06:01:51 -0400] c64: ahhhh I see
[2012-04-02 06:01:57 -0400] c64: flaccid: I understand your confusion
[2012-04-02 06:02:12 -0400] c64: you're a contributor to the fnichol/chef-jenkins
[2012-04-02 06:02:22 -0400] flaccid: huh?
[2012-04-02 06:02:27 -0400] c64: and I was discussing a separate project
[2012-04-02 06:03:12 -0400] flaccid: i don't contribute to that thing c64
[2012-04-02 06:03:18 -0400] flaccid: what are you going on about?
[2012-04-02 06:03:26 -0400] c64: Update metadata. e8022099f2 Browse code flaccid authored a month ago
[2012-04-02 06:03:28 -0400] flaccid: c64 ^^ ?
[2012-04-02 06:03:41 -0400] flaccid: and?
[2012-04-02 06:04:53 -0400] c64: So when I was asking about chef-Jenkins, you probably though I was talking about the project  you know
[2012-04-02 06:05:12 -0400] c64: and not the OTHER chef-jenkins - a completeky separate project
[2012-04-02 06:06:00 -0400] flaccid: negative
[2012-04-02 06:06:06 -0400] c64: ok
[2012-04-02 06:06:08 -0400] c64: ok
[2012-04-02 06:06:15 -0400] c64: nevermind than
[2012-04-02 06:06:17 -0400] c64: then*
[2012-04-02 06:06:19 -0400] flaccid: if you didn't realize, forking is normal
[2012-04-02 06:06:43 -0400] flaccid: and i only forked to generate sufficient metadata
[2012-04-02 06:07:10 -0400] flaccid: so if you don't mind stopping the lynch, i'd appreciate it coz i also copped it from jtimberman
[2012-04-02 06:07:21 -0400] c64: what lynch?
[2012-04-02 06:07:34 -0400] c64: hmmmm.
[2012-04-02 06:15:04 -0400] erikh: jtimberman: whoa! thanks dude
[2012-04-02 06:15:25 -0400] erikh: it still has a few bugs, I hope to fix them tomorrow.
[2012-04-02 08:42:22 -0400] Anand: i can see the org. on hosted chef server. but when i click on regenerate key link it shows message of "Organization not found. (Error 32033)". What could be the reason??
[2012-04-02 08:54:02 -0400] Anand: ok...Its beacause of i have deleted the organization validator...have created with same name and its working
[2012-04-02 08:55:45 -0400] lflux: anyone know why knife ssh would cause SOLR stacktraces
[2012-04-02 08:57:10 -0400] coderanger: knife ssh uses search to find the nodes
[2012-04-02 08:57:20 -0400] coderanger: so if you give it a bad search or the index is corrupt ...
[2012-04-02 08:57:50 -0400] lflux: everything else works, it's just knife ssh
[2012-04-02 08:57:54 -0400] lflux: how do I reindex?
[2012-04-02 08:58:36 -0400] lflux: https://gist.github.com/2267522 this is what it's giving me
[2012-04-02 08:59:25 -0400] coderanger: Give it a query
[2012-04-02 08:59:32 -0400] coderanger: knife ssh '*:*' uptime
[2012-04-02 09:00:32 -0400] lflux: ah thanks
[2012-04-02 09:00:45 -0400] lflux: kinda bad that it gives a solr error from just knife ssh
[2012-04-02 10:21:52 -0400] geekyogi: guys.. I find it very difficult to follow so many terminologies related to chef..
[2012-04-02 10:22:06 -0400] geekyogi: please suggest me a link where I can just tryout chef
[2012-04-02 10:22:21 -0400] geekyogi: step by step instructions..
[2012-04-02 10:32:23 -0400] luisico: step by step for what?
[2012-04-02 10:32:26 -0400] luisico: installation?
[2012-04-02 10:32:26 -0400] bawt: installation is http://wiki.opscode.com/display/chef/Installation
[2012-04-02 10:34:51 -0400] BryanWB: geekyogi: u should start w/ hosted chef to learn chef
[2012-04-02 10:35:10 -0400] BryanWB: geekyogi: it's free for 5 nodes, b4 setting up your own chef-server
[2012-04-02 10:35:17 -0400] BryanWB: ark?
[2012-04-02 10:35:18 -0400] bawt: ark is http://wiki.opscode.com/display/chef/Ark
[2012-04-02 10:35:30 -0400] geekyogi: cool.. I've chef-server installed
[2012-04-02 10:35:41 -0400] geekyogi: I wanna try some cookbooks on a machine
[2012-04-02 10:36:19 -0400] BryanWB: roidrage: u entirley on ubuntu or do u have centos in your stack as well?
[2012-04-02 10:36:42 -0400] roidrage: BryanWB: ubuntu only
[2012-04-02 10:36:54 -0400] BryanWB: geekyogi: http://wiki.opscode.com/display/chef/Cookbook+Fast+Start+Guide
[2012-04-02 10:37:26 -0400] roidrage: wrote a little ruby library a while back that does fork, pid and stdout redirects to logs, just going to use that for now, easier than everything else :/
[2012-04-02 10:37:29 -0400] BryanWB: roidrage: managing services across ubuntu and centos is the bane of my existence
[2012-04-02 10:37:33 -0400] BryanWB: lol
[2012-04-02 10:37:44 -0400] BryanWB: roidrage: runit doesn't do everything u need?
[2012-04-02 10:37:51 -0400] roidrage: i don't know runit
[2012-04-02 10:38:30 -0400] BryanWB: the chef-erati all love runit, i haven't used it myself but i would just use that if I could stick w/ ubuntu
[2012-04-02 10:38:32 -0400] roidrage: no one so far could give me a compelling reason to use it
[2012-04-02 10:39:21 -0400] roidrage: i'm sure it's great, but yeah
[2012-04-02 10:39:32 -0400] roidrage: everyone has their own favorite supervisor, no one has a rational reason why ;)
[2012-04-02 10:39:44 -0400] BryanWB: well, i can tell u which ones are bad ;)
[2012-04-02 10:39:59 -0400] roidrage: which ones? and why?
[2012-04-02 10:40:30 -0400] BryanWB: sysv in my opinion is a major pain
[2012-04-02 10:41:04 -0400] BryanWB: i am wary of investing time in upstart because it is already obsolete to systemd, and systemd is well, completely untested
[2012-04-02 10:41:23 -0400] roidrage: lovely
[2012-04-02 10:41:45 -0400] BryanWB: so upstart may be good enough, but RHEL and family are already kicking it out the door
[2012-04-02 10:42:06 -0400] roidrage: yeah, and the version shipped with ubuntu 11.10 lacks some features i'd need
[2012-04-02 10:42:48 -0400] roidrage: so i'm using monit and my tiny daemonizing wrapper
[2012-04-02 10:43:08 -0400] roidrage: it's not perfect, but that's also because the tool it wraps only logs to stdout right now, something that needs to be fixed either way
[2012-04-02 10:44:31 -0400] BryanWB: start-stop-daemon isn't good enough for u? that's a pretty good built-in tool on ubuntu for handling most of what ur talking about
[2012-04-02 10:48:44 -0400] roidrage: it almost does the job
[2012-04-02 10:52:46 -0400] roidrage: gradual change :)
[2012-04-02 10:52:56 -0400] roidrage: would like to move this over eventually, but needs more fixes to do that
[2012-04-02 11:02:56 -0400] geekyogi: thanks guys
[2012-04-02 11:19:31 -0400] ayesha: Hi, I am a chef newbie. I had a doubt related to the Package resource. What happens when we just use "package <pkg_name>" without any actions and attributes ?
[2012-04-02 11:21:53 -0400] BryanWB: ayesha: default action is to install it
[2012-04-02 11:22:32 -0400] ayesha: ok thanks BryanWB :)
[2012-04-02 11:28:57 -0400] sampikesley: but that's just me
[2012-04-02 11:37:49 -0400] BryanWB: sampikesley: +1
[2012-04-02 11:42:52 -0400] ayesha: i agree sampikesley
[2012-04-02 12:42:29 -0400] specialsauce: afternoon all
[2012-04-02 12:43:12 -0400] specialsauce: does anyone know if it is possible to have one environment file inherit attributes from another?
[2012-04-02 12:43:31 -0400] specialsauce: I can't find any docs on this and I've made several stabs at trying it without success
[2012-04-02 12:45:15 -0400] specialsauce: ie i want the inheritance of attributes to be (default attributes in recipes) <- (default attributes for all environments) <- (overrides per-environment)
[2012-04-02 12:47:20 -0400] sampikesley: make a base role that's common to all environments?
[2012-04-02 12:47:48 -0400] specialsauce: i'm already using roles, but I need to set attributes
[2012-04-02 12:48:01 -0400] specialsauce: i am setting attributes per-environment in environment files
[2012-04-02 12:48:08 -0400] specialsauce: but there's a lot of redundancy
[2012-04-02 12:48:25 -0400] specialsauce: so I'd like to have a single master set of attributes they all inherit and can override
[2012-04-02 13:00:06 -0400] sampikesley: so, a base role
[2012-04-02 13:10:10 -0400] sampikesley: then in your sub-roles, 'run_list "role[base]"'
[2012-04-02 13:42:28 -0400] BryanWB: anybody know how replace irb in shef w/ pry?
[2012-04-02 13:53:34 -0400] geekbri: Is there anyway to store the stdout from an "execute" command in a variable?
[2012-04-02 13:54:39 -0400] BryanWB: geekbri, not sure, but u can use Chef::ShellOut instead then use that stdout
[2012-04-02 13:54:51 -0400] geekbri: BryanWB: but can I use shellout in a provider?
[2012-04-02 13:55:09 -0400] Alex_R: Hi, I'm having a strange problem. I deleted a node + client. I deleted the /etc/chef/client.pem file. When running chef-client i get "409 Conflict: Client already exists". I am manually checking in the CouchDB database and that node / client does not exist! Is there any cache?
[2012-04-02 13:55:25 -0400] Alex_R: I am using my own chef-server
[2012-04-02 13:55:35 -0400] BryanWB: http://rubydoc.info/gems/chef/0.10.8/Chef/ShellOut geekbri
[2012-04-02 13:55:52 -0400] BryanWB: geekbri: u have to put shellout in a ruby_block
[2012-04-02 13:56:12 -0400] atomic-penguin: No you can't capture output from an execute, that is why there is Shellout
[2012-04-02 13:56:58 -0400] yfeldblum_: geekbri, why do you need to capture the output?
[2012-04-02 13:57:48 -0400] geekbri: yfeldblum_: Im trying to check the version of redis, so im calling "redis-server -v | cut -d ' ' -f 4"
[2012-04-02 13:58:05 -0400] afallows: Question: Suppose I want to copy SSH key files as part of a chef recipe (in particular, a key to enable the node to pull from private github repos). Do I need to do something special to make sure the file copies properly?
[2012-04-02 14:02:47 -0400] specialsauce: sampikesley: thanks for your reply. I'm not sure if I'm being stupid, but my attributes are being set per-environment. Are you suggesting to move the default attributes to role-based instead, and then just override at the per-environment level? that could work, apologies for the misunderstanding
[2012-04-02 14:08:06 -0400] sampikesley: yes
[2012-04-02 14:08:17 -0400] sampikesley: that's roughly what I'm doing
[2012-04-02 14:08:26 -0400] sampikesley: with a side-order of databags
[2012-04-02 14:10:16 -0400] yfeldblum_: geekbri, "checking stuff" is when you do not use a resource (`execute` is a resource) - that's when you shell out uisng Mixlib::ShellOut, or if it's a only_if/not_if guard, you just use a string and chef will turn that into a Mixlib::ShellOut for you
[2012-04-02 14:10:53 -0400] geekbri: yfeldblum_: ah ok, cool.  so execute is just for doing things, and shellout is more for, gimmie some info
[2012-04-02 14:11:31 -0400] sampikesley: inheritance and overrides can be quite slippery concepts for the Chef Noob (I am still quite noob-ish)
[2012-04-02 14:11:40 -0400] yfeldblum_: geekbri, ya
[2012-04-02 14:11:43 -0400] sampikesley: So, I'm going to write it down and draw some pictures
[2012-04-02 14:12:09 -0400] sampikesley: Partly to get it straight in my head, partly because it might help other noobs
[2012-04-02 14:12:35 -0400] afallows: Teaching others is one of the best ways to improve your own understanding.
[2012-04-02 14:12:54 -0400] yfeldblum_: geekbri, Chef resources in general (`execute`, `file`, `mount`, etc.) are for declaring "ABC will be in XYZ state by the end of the run" - that model doesn't really work for asking questions
[2012-04-02 14:13:58 -0400] sampikesley: I did create a dummy Chef server and created a bunch of recipes and envs and roles with names like "DEFAULT" and so on
[2012-04-02 14:14:10 -0400] specialsauce: sampikesley, I think it would help, I have googled several times for chef best practices and there are a few docs out there, but not covering the best way to do this kind of stuff
[2012-04-02 14:14:12 -0400] sampikesley: which all came with their own attributes
[2012-04-02 14:14:52 -0400] sampikesley: tweaking these allowed me to better understand the precedences
[2012-04-02 14:25:30 -0400] dle: hi, I see the page "Server API" and I not found the route "users", do you know if it's implemented ? thanks
[2012-04-02 14:38:28 -0400] geekbri: yfeldblum_: the only issue I see with this is that ShellOut happens after execute.  execute happens during compile time, and I'm guessing shellout happens after that.
[2012-04-02 14:43:52 -0400] yfeldblum_: geekbri, other way around
[2012-04-02 14:44:31 -0400] geekbri: yfeldblum_: hrm, that wasn't the result I was getting, i'll play around perhaps I had something wrong
[2012-04-02 14:45:17 -0400] yfeldblum_: geekbri, all resources are acted upon (their actions are executed) during the convergence phase; a line like `test -f /etc/asdf` at the top-level of your recipe will happen during the compilation phase, when your recipe is executed
[2012-04-02 14:46:17 -0400] geekbri: yfeldblum_: and what happens if that shellout is nested inside of a function that is called from within a resource??
[2012-04-02 14:47:46 -0400] yfeldblum_: geekbri, what do you mean by "within a resource"?
[2012-04-02 14:48:34 -0400] yfeldblum_: geekbri, for example, the content of only_if/not_if strings/blocks are executed during the convergence phase, not during the compilation phase
[2012-04-02 14:48:36 -0400] geekbri: so lets so youre writing an LWRP.  Inside of it you use remote_file to download a tarball, for the sake of not having a gross mess, you want to unzip and build it within seperate functions.  You use ShellOut to untar and build it
[2012-04-02 14:51:31 -0400] yfeldblum_: geekbri, the code inside a provider's action method is executed during the convergence phase - this applies to all providers, including those shipped with chef as well as your own lightweight providers
[2012-04-02 14:54:30 -0400] yfeldblum_: geekbri, if you're using the remote_file resource inside your lightweight provider's action method, you can also use the execute resource there to untar/build instead of shelling out directly
[2012-04-02 15:05:56 -0400] geekbri: yfeldblum_: right, thats actualy what im doing.  The problem is I wanted to check the out put of a shell out command inside of the provider as well.  This causes problems because if I try to use shellout it runs much after the execute commands do
[2012-04-02 15:06:32 -0400] geekbri: yfeldblum_: but I can't read output from the execute resource.... so It seems there is no way for me to check the output of a shell command via ShellOut before any execute command runs.
[2012-04-02 15:06:56 -0400] yfeldblum_: geekbri, hmm, can you gist it?
[2012-04-02 15:07:18 -0400] geekbri: yfeldblum_: Sure, I just hacked it up a bunch trying to get it to work, let me try and fix it real quick to be readable again
[2012-04-02 15:09:17 -0400] ErraticSeattle: good morning
[2012-04-02 15:09:47 -0400] erratic: I'm noticing this morning that some of my chef-clients havent checked in for more than 30 hours
[2012-04-02 15:09:50 -0400] erratic: whats the deal with that
[2012-04-02 15:09:59 -0400] erratic: are they going to or are they just chillin
[2012-04-02 15:11:45 -0400] erratic: oh never mind
[2012-04-02 15:11:56 -0400] erratic: I see theres something in the runlist for one of them that no longer exists
[2012-04-02 15:12:10 -0400] erratic: thanks logs
[2012-04-02 15:13:32 -0400] geekbri: yfeldblum_: it looks like ShellOut takes over the current running process?
[2012-04-02 15:14:05 -0400] yfeldblum_: geekbri, it shouldn't; only Kernel#exec does that
[2012-04-02 15:14:26 -0400] yfeldblum_: geekbri, or maybe i'm not sure what you mean
[2012-04-02 15:14:39 -0400] geekbri: yfeldblum_: no you understand me, im probably just wrong.  Let me gist this.
[2012-04-02 15:15:07 -0400] geekbri: yfeldblum_: https://gist.github.com/2284263
[2012-04-02 15:15:16 -0400] geekbri: yfeldblum_: so basically everything else seems to run before shellout
[2012-04-02 15:16:35 -0400] geekbri: yfeldblum_: err not what I meant to say, it seems like shellout takes over the shell and then nothign else runs
[2012-04-02 15:17:20 -0400] erratic: http://localhost:4040/environments/_default/edit
[2012-04-02 15:18:15 -0400] erratic: that seems broken
[2012-04-02 15:20:21 -0400] yfeldblum_: geekbri, (1) you're doing it all wrong :P
[2012-04-02 15:20:37 -0400] geekbri: yfeldblum_: very open to suggestions!
[2012-04-02 15:20:54 -0400] yfeldblum_: geekbri, Kernel#puts returns nil, so your #version method will always return nil so long as you `puts cmd.stderr` at the end
[2012-04-02 15:21:19 -0400] geekbri: yfeldblum_: I was just trying to see if the information was coming out from the command.
[2012-04-02 15:21:24 -0400] geekbri: yfeldblum_: and when it was coming out.
[2012-04-02 15:21:51 -0400] yfeldblum_: geekbri, sure
[2012-04-02 15:22:11 -0400] geekbri: yfeldblum_: I mean I'm sure its all sorts of worng anyway because it seems to try to unpack the tarball before it actually downloads it.
[2012-04-02 15:22:16 -0400] geekbri: yfeldblum_: any suggestions?
[2012-04-02 15:23:39 -0400] yfeldblum_: geekbri, that is correct, and the reason is that in #download you add a `remote_file` resource to the calling recipe's resources collection for delayed execution, but in #unpack and #build you make some resources and then execute them immediately, so their executions happen first
[2012-04-02 15:24:01 -0400] geekbri: yfeldblum_: Ah I see, that explains that.  Is it possible to fire off the remote_file right away too?
[2012-04-02 15:24:37 -0400] yfeldblum_: geekbri, yes, using `action :nothing` and `.run_action(:create)` or whatever the right action is, just like you do for the `execute` resources
[2012-04-02 15:25:20 -0400] geekbri: yfeldblum_: gotcha, thanks.  I'll play around with this more.  Sorry I'm new to writing LWRP's so Im just trying to figure this all out.  I have a couple cookbooks I want to write (then release assuming they aren't garbage) so this is ab it of a learning process over here :)
[2012-04-02 15:25:43 -0400] erratic: geekbri today I get to write a cook book too
[2012-04-02 15:25:50 -0400] erratic: not happy about it
[2012-04-02 15:26:03 -0400] yfeldblum_: geekbri, good luck!
[2012-04-02 15:26:03 -0400] geekbri: erratic: Oh I enjoy it... I just dont usually get to write really general ones I can release :)
[2012-04-02 15:26:05 -0400] erratic: the cookbook I pulled from the git repo does package "rsync" and thats it
[2012-04-02 15:26:06 -0400] erratic: lol
[2012-04-02 15:26:07 -0400] geekbri: yfeldblum_: why thank ya
[2012-04-02 15:26:29 -0400] erratic: yeah its ok
[2012-04-02 15:26:31 -0400] erratic: I dont mind it
[2012-04-02 15:26:45 -0400] erratic: I want to be done with this project though so i can get back to coding on php and javascript
[2012-04-02 15:27:10 -0400] erratic: I came in saturday to craft the iptables cookbook to work the way I want it to
[2012-04-02 15:27:11 -0400] erratic: works great
[2012-04-02 15:27:31 -0400] erratic: I just made a recipe for every role and a corresponding template for each recipe
[2012-04-02 15:27:59 -0400] erratic: which wasn't really the hard part so much as dealing with iptables
[2012-04-02 15:28:55 -0400] erratic: I've got some other issues with chef-server I need to figure out
[2012-04-02 15:29:01 -0400] erratic: like I just noticed:
[2012-04-02 15:29:18 -0400] erratic: http://localhost:4040/environments/_default/edit err_empty_response
[2012-04-02 15:29:28 -0400] erratic: nothing shows up in chef-server -l debug about it
[2012-04-02 15:29:37 -0400] erratic: or any of the others haven't checked expander and solr
[2012-04-02 15:30:02 -0400] erratic: the webui one didn't produce any errors about it
[2012-04-02 15:55:18 -0400] erratic: I can kinda see why there isn't really a very comprehensive rsync / xinetd cookbook
[2012-04-02 16:03:27 -0400] geekbri: yfeldblum_: Thanks... I was able to sort most of this out now properly and in order.  I really appreciate the guidance.
[2012-04-02 16:16:33 -0400] erratic: my rsyncd recipe works
[2012-04-02 16:16:42 -0400] erratic: I included xinetd in it
[2012-04-02 16:24:56 -0400] erratic: what's the best way to use chef-client::cron
[2012-04-02 16:25:18 -0400] erratic: I just want to add something like  rsync://pub@10.179.109.178/htdocs /var/www/
[2012-04-02 16:27:05 -0400] erratic: Im guessing node["chef_client"]["cron"]["hour"] - The hour that chef-client will run as a cron task, only applicable if the you set "cron" as the "init_style"
[2012-04-02 16:37:14 -0400] erratic: .... why json why not yaml
[2012-04-02 16:40:35 -0400] erratic: ....
[2012-04-02 16:40:39 -0400] erratic: this is not what I wanted
[2012-04-02 16:41:01 -0400] afallows: What would be the cleanest way to have a recipe add a line to a file on the client only if the line isn't already in the file? For example, adding a line to /etc/apt/sources.list?
[2012-04-02 16:42:33 -0400] sampikesley: afallows: have it add a separate file within /etc/apt/sources.list.d/
[2012-04-02 16:42:37 -0400] ranjibd: execute "echo ''line' > file" {not_if "grep 'line' file"}
[2012-04-02 16:42:53 -0400] erratic: what would be a way to just have chef-client run rsync -aPv rsync://pub@10.179.109.178/htdocs /var/www/ everytime chef-client runs
[2012-04-02 16:43:01 -0400] erratic: so I dont have to dick around with cron
[2012-04-02 16:43:01 -0400] erratic: lol
[2012-04-02 16:43:26 -0400] ryan-eme: are you triggering your chef-client run with knife or is that scheduled too?
[2012-04-02 16:43:29 -0400] ranjibd: samkottler, yeah that much cleaner .
[2012-04-02 16:43:31 -0400] erratic: I really dont wanna figure out how to inject something into crontab -e or something ridiculous with a recipe that seems kind of dumb
[2012-04-02 16:43:33 -0400] sampikesley: afallows: he's right, but do that anyway
[2012-04-02 16:43:49 -0400] erratic: ryan-eme chef-client runs as an init.d script and stays running
[2012-04-02 16:44:05 -0400] ryan-eme: that sounds scary
[2012-04-02 16:44:24 -0400] erratic: opscode's ubuntu guide.
[2012-04-02 16:44:25 -0400] afallows: sampikesley: Oh right, separate file, that's much easier.
[2012-04-02 16:45:13 -0400] ranjibd: erratic, just specify a cron resource
[2012-04-02 16:45:15 -0400] ranjibd: cron?
[2012-04-02 16:45:16 -0400] bawt: cron is http://wiki.opscode.com/display/chef/Resources#Resources-Cron
[2012-04-02 16:46:01 -0400] erratic: oh oh oh oh
[2012-04-02 16:46:03 -0400] erratic: nice
[2012-04-02 16:46:05 -0400] erratic: thanks
[2012-04-02 16:46:23 -0400] erratic: ha lolz
[2012-04-02 16:47:40 -0400] erratic: thank you!
[2012-04-02 16:49:17 -0400] yfeldblum_: geekbri, np
[2012-04-02 16:53:46 -0400] afallows: Aaand yep, that was easy.
[2012-04-02 16:58:19 -0400] sampikesley: :)
[2012-04-02 17:06:00 -0400] erratic: BOOM!
[2012-04-02 17:06:08 -0400] erratic: done with this
[2012-04-02 17:06:18 -0400] erratic: oh
[2012-04-02 17:06:22 -0400] erratic: mysql replication...
[2012-04-02 17:06:42 -0400] erratic: I did the server master slave stuff through chef and set it up so I can specify the server-id in the json
[2012-04-02 17:06:58 -0400] erratic: but I still need to figure out how I might go about doing the rest of the stuff that you have to do in SQL
[2012-04-02 17:33:53 -0400] savant: When setting node attributes, what is the difference between using a string and using a symbol?
[2012-04-02 17:34:12 -0400] savant: For example, I am using default["elasticsearch"]["version"] = "stable"
[2012-04-02 17:34:21 -0400] savant: is there a benefit to using a symbol?
[2012-04-02 17:35:51 -0400] cwj: savant: i think using symbols is depreciated
[2012-04-02 17:35:59 -0400] cwj: at least foodcritic warns against it
[2012-04-02 17:36:22 -0400] savant: why
[2012-04-02 17:36:30 -0400] jtimberman: its not deprecated.
[2012-04-02 17:36:30 -0400] savant: and I think you might mean "deprecated"
[2012-04-02 17:36:46 -0400] savant: is using symbols bad?
[2012-04-02 17:36:53 -0400] savant: Sorry, the docs are a bit obtuse at times :(
[2012-04-02 17:36:55 -0400] jtimberman: it doesn't make a difference for attributes.
[2012-04-02 17:37:01 -0400] jtimberman: use which one you like writing.
[2012-04-02 17:37:14 -0400] savant: what is the standard?
[2012-04-02 17:37:21 -0400] jtimberman: We teach, in Chef Fundamentals, to use strings because it is the principle of least surprise.
[2012-04-02 17:38:00 -0400] savant: what would surprise me about symbols
[2012-04-02 17:38:04 -0400] jtimberman: almost everyone knows the notation hash_thing["key"], but hash_thing[:key] is unfamiliar to people who don't work in Ruby regularly.
[2012-04-02 17:38:21 -0400] jtimberman: by almost everyone I mean almost everyone who is familiar with interpreted languages.
[2012-04-02 17:38:24 -0400] pcn: If you get data from data bags you will often find that you can't reference the keys as symbols.  That is very surprising
[2012-04-02 17:38:58 -0400] savant: hmmm good thing I dont use data bags in chef-solo!
[2012-04-02 17:39:34 -0400] savant: ugh really? I JUST missed the nyc chef fundamentals training
[2012-04-02 17:41:36 -0400] savant: jtimberman: pcn: thanks for the info :)
[2012-04-02 17:48:42 -0400] c_t: symbols are a bit surprising coming from perl, fwiw
[2012-04-02 18:03:53 -0400] jtimberman: c_t: perl has enough confusing sigils as it is
[2012-04-02 18:05:57 -0400] savant: heh
[2012-04-02 18:06:18 -0400] erratic: jtimberman yeah I saw those symbols and was like wtf
[2012-04-02 18:24:43 -0400] jordan_c: is it possible that something my recipe could be wiping the temp rendered template before it gets moved into place?
[2012-04-02 18:26:55 -0400] pcn: jordan_c extremely unlikely
[2012-04-02 18:27:20 -0400] pcn: What's going wrong?
[2012-04-02 18:27:38 -0400] KarlHungus: what are others doing to track upstream changes to vendor cookbooks?
[2012-04-02 18:27:51 -0400] pcn: Nothing good
[2012-04-02 18:27:58 -0400] KarlHungus: 'cookbook site' works fairly well for opscode cookbooks
[2012-04-02 18:28:25 -0400] pcn: Yeah, but makes it hard to keep local changes, etc.  I'm waiting for the great breakup of the repo to happen
[2012-04-02 18:28:32 -0400] KarlHungus: it happened
[2012-04-02 18:28:44 -0400] KarlHungus: https://github.com/opscode-cookbooks
[2012-04-02 18:29:08 -0400] jordan_c: pcn I'm seeing this error http://privatepaste.com/4b18235c08
[2012-04-02 18:29:29 -0400] pcn: Well howdy, I will start fixing up my git
[2012-04-02 18:29:51 -0400] KarlHungus: pcn: what workflow are you going to use?
[2012-04-02 18:30:18 -0400] pcn: jordan_c does /etc/tomcat6 exist?
[2012-04-02 18:30:56 -0400] jordan_c: aha!
[2012-04-02 18:31:16 -0400] jordan_c: that would probably do it...
[2012-04-02 18:33:31 -0400] jordan_c: trying to migrate the opscode tomcat cookbook to use ark lwrp install instead of jpackage repository, running into all sorts of fun
[2012-04-02 18:42:46 -0400] miah: moin
[2012-04-02 18:51:43 -0400] hoover_damm: afternoon
[2012-04-02 19:04:17 -0400] BryanWB_: /etc/tomcat6 ? the horror!
[2012-04-02 19:06:18 -0400] jordan_c: just working with the defaults from the tomcat recipe before I fix it up more once I get it working
[2012-04-02 19:07:15 -0400] jordan_c: also no need for /etc/ in theat comment "tomcat? the horror!" work for me ;-)
[2012-04-02 19:09:04 -0400] KarlHungus: i currently use a 'base' role to load up all the default cookbooks i want a node to have. turns out i need a bit more logic. specifically, i *dont* want ntpd on node that are jails
[2012-04-02 19:09:23 -0400] KarlHungus: whats a good pattern for this? can i simply use node['platform'] in the role?
[2012-04-02 19:09:56 -0400] bdha: erikh: ping
[2012-04-02 19:10:14 -0400] Mithrandir: KarlHungus: that's one way.  I have different base roles.
[2012-04-02 19:10:26 -0400] BryanWB_: jordan_c, which tomcat recipe?
[2012-04-02 19:10:39 -0400] Mithrandir: I'm not entirely happy about the different base roles, since it ends up with duplication and I think roles should be smarter objects than just json.
[2012-04-02 19:10:54 -0400] BryanWB_: i actually think tomcat is a fine app server but i don't like the rpm from jpackage
[2012-04-02 19:11:00 -0400] KarlHungus: Mithrandir: i'm in the same boat
[2012-04-02 19:11:36 -0400] KarlHungus: i try not to put that sort of logic in my cookbooks
[2012-04-02 19:11:37 -0400] jordan_c:  BryanWB_ http://community.opscode.com/cookbooks/tomcat/source
[2012-04-02 19:12:02 -0400] KarlHungus: and i'm trying to get away from having a cookbook for this organization that simply contains this sort of logic
[2012-04-02 19:12:11 -0400] Mithrandir: KarlHungus: so what I want is a way to have a classify step, I think.
[2012-04-02 19:12:28 -0400] Mithrandir: holoway: ^ ; thoughts?
[2012-04-02 19:12:44 -0400] BryanWB_: jordan_c,  i recommend this one but i am biased https://github.com/bryanwb/cookbooks/tree/master/tomcat
[2012-04-02 19:13:35 -0400] KarlHungus: Mithrandir: i was solving this by having "#{company_name}::base" in the base role's run_list
[2012-04-02 19:13:43 -0400] KarlHungus: but that feels clumsy and gross
[2012-04-02 19:13:48 -0400] Mithrandir: KarlHungus: sure, that's one way to do it.  It's a hack, though.
[2012-04-02 19:13:53 -0400] jtimberman: Mithrandir: KarlHungus: I made a "base_dispatch" cookbook in a recent refactoring to make our java-quick-start work on rhel in addition to ubuntu.
[2012-04-02 19:14:01 -0400] BryanWB_: i need to blog about maven  + tomcat setups
[2012-04-02 19:14:07 -0400] Mithrandir: (as you note)
[2012-04-02 19:14:24 -0400] Mithrandir: jtimberman: yeah, similar solution.  I wonder if it should be part of chef itself.
[2012-04-02 19:14:38 -0400] jtimberman: Mithrandir: dunno. like, platform_run_list in roles?
[2012-04-02 19:15:05 -0400] jtimberman: problem of course being that roles are purely declarative being json on the server.
[2012-04-02 19:15:35 -0400] Mithrandir: jtimberman: yes, I don't think they should be purely declarative.  I want a step that's run before the compile phase (I think) where a node can classify itself.
[2012-04-02 19:16:36 -0400] erratic: sigh
[2012-04-02 19:17:09 -0400] Mithrandir: like, if a machine has the first IP on a given subnet, it's likely I want it to have the firewall role.
[2012-04-02 19:17:48 -0400] jordan_c:  BryanWB_ cool thanks, this looks like you've done a much more thorough job of doing what I've been attempting
[2012-04-02 19:18:46 -0400] BryanWB_: jordan_c, the api will change a bit in the next few weeks but not a lot
[2012-04-02 19:19:15 -0400] BryanWB_: jordan_c, waiting to push to opscode-cookbooks/java until i am a bit more satisfied w/ api
[2012-04-02 19:19:31 -0400] jordan_c: java or tomcat?
[2012-04-02 19:19:39 -0400] BryanWB_: jordan_c, tomcat
[2012-04-02 19:20:30 -0400] BryanWB_: jordan_c,  can i pick your brain for a minute about features for tc cookbook?
[2012-04-02 19:20:41 -0400] erikh: bdha: pong
[2012-04-02 19:21:03 -0400] jordan_c: BryanWB_ sure, although I'm not sure how much help I will be
[2012-04-02 19:22:26 -0400] erikh: bdha: I've gotta bail for a bit; can you shoot me a /msg and we can chat when we're both around?
[2012-04-02 19:23:25 -0400] BryanWB_: jordan_c, do u need any jvm params besides maxpermgen, -Xmx, and Xms ?
[2012-04-02 19:23:35 -0400] jordan_c: let me take a look
[2012-04-02 19:25:07 -0400] jordan_c:  -server -Xms128m -Xmx512m -XX:MaxPermSize=256m -ea -Duser.timezone=UTC -Dfile.encoding=UTF8
[2012-04-02 19:26:46 -0400] BryanWB_: jordan_c, is that the only tomcat app u have?
[2012-04-02 19:26:48 -0400] erratic: OMG
[2012-04-02 19:26:58 -0400] erratic: boss brought daniels broiler for lunch ^____________^
[2012-04-02 19:27:17 -0400] erratic: was part of the deal for coming into work on saturday
[2012-04-02 19:27:33 -0400] BryanWB_: or have other requirements?  and do u need to have multiple tc instances on the same machine? i think i may be the only one w/ that requirement
[2012-04-02 19:28:12 -0400] jordan_c: that's pretty much the standard config for us BryanWB_ - there are several webapps that run together in different tomcat instances on different machines for the app
[2012-04-02 19:28:55 -0400] jordan_c: there are some jmx_opts as well
[2012-04-02 19:29:05 -0400] BryanWB_: jordan_c, that would be helpful
[2012-04-02 19:29:13 -0400] jordan_c: -Dcom.sun.management.jmxremote.port=9004 -Dcom.sun.management.jmxremote.authenticate=false -Dcom.sun.management.jmxremote.ssl=false
[2012-04-02 19:29:19 -0400] BryanWB_: jordan_c, as your reqs today, will proably be mine in a few weeks
[2012-04-02 19:29:53 -0400] jordan_c: just recently moved away running two tomcat instances on the same machine which I'm glad for
[2012-04-02 19:31:09 -0400] jordan_c: but that required symmlinked tomcat_homes and different ports and such - It's madness I'm glad is done with - probably not a very common use case
[2012-04-02 19:33:34 -0400] BryanWB_: jordan_c, really? we do it all the time, tho not sure a good idea
[2012-04-02 19:35:51 -0400] jordan_c: maybe it's more standard that I thought :-) I work for a virtual private coud shop so spinning new vms for easy segregation of apps isn't really a big deal as the annoyance of dealing with multiple tomcats running on the same VM
[2012-04-02 19:42:12 -0400] BryanWB_: jordan_c, if u have 2 jvms on the same linux vm, don't u save any memory overhead as shared .so's are only loaded once?
[2012-04-02 19:42:12 -0400] BryanWB_: just speculating
[2012-04-02 19:43:02 -0400] BryanWB_: jordan_c, what is that `-ea` option?
[2012-04-02 19:43:21 -0400] jordan_c: I believe so, definately more resource efficient running multiple tomcats on the same VM than running multiple VMs with one tomcat each
[2012-04-02 19:45:41 -0400] jordan_c: BryanWB_ enable assertions
[2012-04-02 19:45:49 -0400] BryanWB_: ah
[2012-04-02 19:46:29 -0400] jordan_c: that's only for dev
[2012-04-02 19:50:00 -0400] jordan_c: BryanWB_ does your tomcat cookbook work with opscode java, or do I need to grab your java as well?
[2012-04-02 19:50:59 -0400] BryanWB_: jordan_c, it works w/ opscode java
[2012-04-02 19:53:44 -0400] BryanWB_: gnight all, sleepy time in europe
[2012-04-02 20:04:08 -0400] jhowarth: Do owner and group for resources not work on windows platforms?
[2012-04-02 20:19:58 -0400] reset: jhowarth: owner and group will be fixed in Chef 0.10.10
[2012-04-02 20:34:16 -0400] erratic: the hell is cafe beef babe
[2012-04-02 20:34:51 -0400] erratic: oh
[2012-04-02 20:35:02 -0400] Hush: for some reason I'd hate to see what that pulls up on google images
[2012-04-02 20:35:15 -0400] erratic: lol
[2012-04-02 20:35:24 -0400] erratic: tranny joke, good one
[2012-04-02 20:35:33 -0400] erratic: actually
[2012-04-02 20:35:46 -0400] erratic: the irst image appears to be a decedant steak dinner
[2012-04-02 20:36:02 -0400] erratic: much like the lunch I had today, that my boss bought me for working saturday
[2012-04-02 20:37:12 -0400] afallows: erratic: Well done.
[2012-04-02 20:37:50 -0400] erratic: s/decedant/decadent
[2012-04-02 20:39:31 -0400] dyer: Anyone have a good way of handling multiple secure data bags ? For example when I bootstrap an instance I would like the a different secret key to be pushed to each "class" of server ( customer, qa, prod )
[2012-04-02 20:40:04 -0400] linuxtrader: Easy:   What port is used chef-client to chef-server on a 30 minute interval?    Re: Private Chef
[2012-04-02 21:08:08 -0400] ErraticSeattle: blah
[2012-04-02 21:08:50 -0400] savant: yeah thats how i feel
[2012-04-02 21:09:14 -0400] ErraticSeattle: dude I went to sleep at like 3 this morning then woke up at 6:30 x_x
[2012-04-02 21:09:33 -0400] ErraticSeattle: mainly because I wanted to stay up all night so I'll go to sleep real early tonight and wake up early tomorrow
[2012-04-02 21:09:34 -0400] savant: I went to sleep around 5 and woke up at 9:15
[2012-04-02 21:09:48 -0400] ErraticSeattle: and kinda get back into that habit which is so easy to lose track of...
[2012-04-02 21:09:52 -0400] savant: because i was eating cookies and drinking soda
[2012-04-02 21:10:02 -0400] ErraticSeattle: hahah
[2012-04-02 21:10:33 -0400] ErraticSeattle: at least you werent drinking beer and smoking weed like Im sure some people were
[2012-04-02 21:10:50 -0400] ErraticSeattle: those poor bastards...
[2012-04-02 21:11:05 -0400] ErraticSeattle: I only say that because I've been there
[2012-04-02 21:11:09 -0400] ErraticSeattle: o_O
[2012-04-02 21:11:29 -0400] ErraticSeattle: I remember one time
[2012-04-02 21:11:33 -0400] savant: haha
[2012-04-02 21:11:41 -0400] ErraticSeattle: I just went into my office and went to sleep in the floor.
[2012-04-02 21:11:54 -0400] ErraticSeattle: was ridiculous
[2012-04-02 21:12:13 -0400] ErraticSeattle: it was the kinda job where I could get away with that because I put in enough time ahead of time or when it was necesarry
[2012-04-02 21:12:21 -0400] ErraticSeattle: and nobody cared?
[2012-04-02 21:12:23 -0400] ErraticSeattle: but still
[2012-04-02 21:12:37 -0400] ErraticSeattle: going to work with x's for eyes sucks
[2012-04-02 21:16:28 -0400] dikim33: Hi, I have an error when running "chef-solr-installer -f". http://pastebin.com/4xYVUpbq
[2012-04-02 21:16:57 -0400] dikim33: can anyone please help me out?
[2012-04-02 21:20:53 -0400] ErraticSeattle: I assume you noticed the operation not permitted and file exists errors
[2012-04-02 21:21:00 -0400] ErraticSeattle: do you need to run it as root?
[2012-04-02 21:22:30 -0400] dikim33: ErraticSeattle: No, I don't think I have to run it as root.
[2012-04-02 21:23:46 -0400] dgtized: question on the use of action :upgrade versus action :install, I've noticed several recipes use :upgrade, which initially seemed like a good idea, but after struggling with postgres upgrading underneath an application that doesn't support a restart, I'm wondering if I should have either a maintainence role for upgrade, or always use install and do upgrades by rebuilding the machine?
[2012-04-02 21:27:35 -0400] dikim33: I am wondering if "chef-solr-installer -f" is broken on chef-0.10.8?
[2012-04-02 21:31:27 -0400] nect: When I run chef-client I keep getting this error.. "Illegal instruction" and it dies. I'm running 10.8, CentOS 6.2, ruby 1.8.7 pl 352. Any ideas?
[2012-04-02 21:31:52 -0400] nect: it dies on any template resource
[2012-04-02 21:32:25 -0400] nect: it processes several packages as well as a directory, but dies on the template
[2012-04-02 21:47:24 -0400] ryan-eme: so I want to call knife ssh -i -c as user nobody from a web app
[2012-04-02 21:47:49 -0400] ryan-eme: I assume that means I need to sign up a fake user and invite to my organization on hosted chef
[2012-04-02 21:47:51 -0400] ryan-eme: to get a client pem
[2012-04-02 21:47:54 -0400] ryan-eme: is there an easier way?
[2012-04-02 21:50:44 -0400] wamcvey: Is there any guidance on recommended/required versions of ruby to run Chef with? I've been working just fine with ruby 1.8.7, but I've hit some cookbooks from the community site that are apparently coded in ruby 1.9 and cause syntax errors with my current installation. I'm hesitant/reluctant to possibly break other cookbooks if I jump up to 1.9.x, and I've not seen any docs on opscode that gives guidance to cookbook authors on what they should 
[2012-04-02 21:52:29 -0400] spyvsspy: hi, my chef server just started lagging
[2012-04-02 21:52:41 -0400] spyvsspy: anything imparticular I should check for other than th standard stuff?
[2012-04-02 21:55:46 -0400] Mousey: hi
[2012-04-02 21:56:12 -0400] Mousey: anyone know where i can find a fedora packages repo for chef-(server|client)?
[2012-04-02 21:58:23 -0400] dikim33: It seems that chef-solr does not run : http://pastebin.com/A8VjaARK
[2012-04-02 21:58:38 -0400] dikim33: Can anyone please take a look at it?
[2012-04-02 21:58:47 -0400] erratic: dikim33 Im looking
[2012-04-02 21:58:56 -0400] dikim33: erratic: thanks
[2012-04-02 21:59:01 -0400] erratic: first of all, try starting it with -l debug
[2012-04-02 21:59:13 -0400] erratic: that helped me alot
[2012-04-02 21:59:20 -0400] |shad0w|: did you install chef-server with the rvm version currently in use?
[2012-04-02 21:59:25 -0400] |shad0w|: it can't seem to find the gem
[2012-04-02 21:59:40 -0400] erratic: copy that
[2012-04-02 21:59:56 -0400] erratic: did you install this from gems git or apt?
[2012-04-02 22:00:15 -0400] dikim33: erratic: it seems that there is no more log message.
[2012-04-02 22:00:22 -0400] dikim33: erratic: I installed it from gems
[2012-04-02 22:00:48 -0400] erratic: well i dont want to say try running gem install chef-solr just yet
[2012-04-02 22:01:00 -0400] erratic: but see if there's like a gem status chef-solr that indicates whether or not its installed first
[2012-04-02 22:01:22 -0400] erratic: because like shadow said, its not running because that gem either isn't in the correct path or its not installed at all
[2012-04-02 22:02:24 -0400] dikim33: erratic: oh, I got a runtime error from "gem status chef-solr".
[2012-04-02 22:02:43 -0400] spyvsspy: hvae you tried it with rvmsudo
[2012-04-02 22:02:44 -0400] erratic: I donno if gem status is correct I just made that up
[2012-04-02 22:02:50 -0400] |shad0w|: gem list
[2012-04-02 22:02:54 -0400] erratic: gem --help
[2012-04-02 22:02:56 -0400] erratic: or gem list
[2012-04-02 22:03:02 -0400] spyvsspy: why are you running it with su anyway?
[2012-04-02 22:03:28 -0400] dikim33: yes, gem list shows the installed one and chef-solr is there.
[2012-04-02 22:03:48 -0400] |shad0w|: gem list as root or the user you are now?
[2012-04-02 22:03:50 -0400] dikim33: spyvsspy: it was in init script.
[2012-04-02 22:04:06 -0400] erratic: (>= 0)
[2012-04-02 22:04:13 -0400] |shad0w|: actually su - chef -c "gem list"
[2012-04-02 22:04:32 -0400] dikim33: I just try to see what happens because it does not show anything while "service chef-solr start".
[2012-04-02 22:05:32 -0400] dikim33: |shad0w|: it could not find "gem".
[2012-04-02 22:05:41 -0400] dikim33: root@chef:/usr/local/bin# su - chef -c "gem list"
[2012-04-02 22:05:41 -0400] dikim33: -su: gem: not found
[2012-04-02 22:05:59 -0400] dikim33: Sorry for flooding the message.
[2012-04-02 22:06:31 -0400] |shad0w|: so your chef user needs the right rvm env that chef-server was installed under
[2012-04-02 22:07:00 -0400] dikim33: Oh, that explains.. |shad0w|
[2012-04-02 22:07:15 -0400] |shad0w|: or it likely does
[2012-04-02 22:07:28 -0400] |shad0w|: if gem isn't in path which chef-solr binary is it picking up?
[2012-04-02 22:07:36 -0400] |shad0w|: su - chef -c "which chef-solr"
[2012-04-02 22:08:11 -0400] dikim33: |shad0w|: actually I have to run it as my username dikim2
[2012-04-02 22:08:30 -0400] dikim33: http://pastebin.com/fC0GnNXc
[2012-04-02 22:08:37 -0400] dikim33: I got a different error message.
[2012-04-02 22:08:59 -0400] |shad0w|: probably a permissions error
[2012-04-02 22:09:13 -0400] |shad0w|: what user do you plan on running chef-server-api and chef-server-webui under?
[2012-04-02 22:09:19 -0400] |shad0w|: or whatever the bins are under 10.x
[2012-04-02 22:10:55 -0400] dikim33: |shad0w|: that is a really good question.. how can I delegate the user "chef" to run my chef which is setup on my .rvm?
[2012-04-02 22:20:47 -0400] wamcvey: So I installed chef server via apt-get from opscode and it's running with ruby 1.8. Yet community cookbooks seem to be accepting cookbooks that have ruby 1.9 syntax that causes syntax errors in ruby1.8. Am I just kind of screwed from using these cookbooks (in particular, am trying to use hadoop_cluster and hbase_cluster, both of which depend on metachef, which appears to be a 1.9 based cookbook.) And is this common in the chef world to have int
[2012-04-02 22:31:02 -0400] btm: wamcvey: Using Chef from debian packages (apt) is for the benefit of people who prefer apt packages. Debian/Ubuntu haven't switched to Ruby 1.9 as their default yet.
[2012-04-02 22:32:28 -0400] btm: wamcvey: Ruby 1.8 is quite old, and you'll see many developers aren't writing code (or cookbooks) that support it. If you don't have strong feelings about Ruby and package managers, just use the Omnibus installer (in beta) at http://www.opscode.com/chef/install
[2012-04-02 22:33:21 -0400] btm: wamcvey: If you do have strong feelings about package management or ruby, YMMV based on how those feelings mix with the feelings with those who have preceeded you and made relevant choices. :)
[2012-04-02 22:35:18 -0400] jdeamattson: Any plans to add Amazon Linux to the Platform drop down for the Omnibus installer?
[2012-04-02 22:35:35 -0400] wamcvey: btm: thanks for the recommendation. Seems odd though that the apt repository couldn't/wouldn't just depend on ruby1.9 (a separate package, but very much available on Ubuntu 10.04 LTS (from more than  2 years ago)
[2012-04-02 22:35:49 -0400] jdeamattson: While the Omnibus installer supports Amazon Linux, it is not an option at http://www.opscode.com/chef/install/
[2012-04-02 22:35:57 -0400] wamcvey: btm: not the apt repository... I mean the deb package for chef.
[2012-04-02 22:36:52 -0400] btm: jdeamattson: at some point before final annoucement those will be reconciled. More platforms may make it in before then.
[2012-04-02 22:37:15 -0400] jdeamattson: Ok. Should I open a bug for it, or are you tracking it? btm
[2012-04-02 22:39:01 -0400] jdeamattson: Two questions about the Omnibus installer btm:
[2012-04-02 22:39:19 -0400] jdeamattson: First, btm, how do I determine the version of Ruby being installed?
[2012-04-02 22:39:33 -0400] btm: wamcvey: there's a whole world of process and history behind the status of ruby packaging and debian/ubuntu won't fit into this channel. Debian is in the process of moving its default ruby to 1.9, and with it Opscode is working on getting new packages to go along with that change.
[2012-04-02 22:40:00 -0400] wamcvey: btm: Omnibus installer only seems to handle the chef client, right?
[2012-04-02 22:40:17 -0400] btm: jdeamattson: /opt/opscode/embedded/bin/ruby -v
[2012-04-02 22:40:51 -0400] btm: jdeamattson: I don't think we need a specific bug for that, but if you file one and assign it to me I'll be sure to take care of it. :)
[2012-04-02 22:40:56 -0400] jdeamattson: Second, btm, is there anything that would block my using it for other applications?
[2012-04-02 22:41:11 -0400] jdeamattson: btm, I actually meant prior to install. I wanted to see what version it will install.
[2012-04-02 22:42:40 -0400] btm: wamcvey: Right. If you want a Chef Server, you've got to build it to your preferences. The new Omnibus framework due out in a month or so should be able to build an OSS Chef server, but I don't think we will be building it ourselves and offering the packages by then.
[2012-04-02 22:42:47 -0400] jdeamattson: btm:  It would appear other than pulling the rpm and looking at it, I won't be able to tell.
[2012-04-02 22:44:08 -0400] jdeamattson: btm: I try to write and file good bugs. If filing one will help you, I will do it. If it will be noise in the system, I won't :-) Always feel good to give me feedback on my bugs and what was or wasn't good for you guys.
[2012-04-02 22:44:09 -0400] jtimberman: jdeamattson: nothing is *blocking* you from using the ruby in the omnibus built package of chef for other things, but that's not recommended as it may lead to confusion.
[2012-04-02 22:44:13 -0400] btm: jdeamattson: There isn't really a way to tell the ruby version before hand yet. The new Omnibus we wrote in Ruby can generate a manifest and we will display that eventually somehow.
[2012-04-02 22:44:16 -0400] jtimberman: its intended to stand alone and be self contained
[2012-04-02 22:44:42 -0400] jtimberman: jdeamattson: if you want to install a ruby for your applications, you should write a cookbook to do that.
[2012-04-02 22:44:43 -0400] jdeamattson: jtimberman: That is what I thought. But I wanted to look for any potential gotchas before hitting it.
[2012-04-02 22:45:23 -0400] btm: jdeamattson: As jtimberman notes, you shouldn't use that Ruby for anything. We will never prevent it from breaking other things than what it is designed for. Switching from one version of Omnibus to the next may come with a different, "more better," ruby.
[2012-04-02 22:45:24 -0400] jtimberman: yeah. the gotchas are, that ruby isn't in the default system PATH (by design) and is a "nonstandard" or "uncommon" location.
[2012-04-02 22:45:31 -0400] wamcvey: btm: well, to use 1.9 based cookbooks, my server will need to use ruby 1.9 as well, right?  If I simply apt-get install ruby1.9 on the server and restart chef, I'm assuming chef won't just magically choose to use the new interpretter, right?
[2012-04-02 22:45:45 -0400] jdeamattson: jtimberman: Helpful. You make a good point about installing my own.
[2012-04-02 22:46:03 -0400] btm: wamcvey: no, because you're installing the debian way, and debian is still Ruby 1.8.
[2012-04-02 22:46:46 -0400] wamcvey: btm: debian/ubuntu ship with ruby 1.8, but they make available 1.9... just like they ship python2, but python3 is still installabable for any app that depends on it.
[2012-04-02 22:46:48 -0400] jdeamattson: jtimberman, btm : Amazon caused a lot of grief for folks on Amazon Linux last week. I am working to dig out from under it and address the issues I raised with you and which were mostly related to their nonsense....
[2012-04-02 22:46:57 -0400] jtimberman: jdeamattson: there's cookbooks out there for it now - fnichol made cookbooks for rvm and rbenv. we used to maintain one called 'ruby' but it has languished and needs to be updated and brought back under being maintained so we have a sane path for installing ruby after omnibus
[2012-04-02 22:47:27 -0400] jdeamattson: jtimberman: Would it be worth my looking at picking up the ruby cookbook and working on it?
[2012-04-02 22:47:31 -0400] btm: wamcvey: also, there really shouldn't be a dependency between the version of ruby on your server and the cookbooks your server serves. It's the client's ruby that's more important.
[2012-04-02 22:47:54 -0400] btm: jdeamattson: Yeah, I followed a couple bugs related to Amazon breaking their ruby.
[2012-04-02 22:48:06 -0400] |shad0w|: did they release the new ruby build tools for omnibus yet?
[2012-04-02 22:48:21 -0400] jdeamattson: btm: They did more than that. They broke yum in some cases, forced people to upgrade packages in others, etc.
[2012-04-02 22:48:55 -0400] btm: wamcvey: I understand that Debian has a Ruby 1.9 package, but debian packaging doesn't work you want it to currently.
[2012-04-02 22:49:32 -0400] jdeamattson: btm: Other than dropping back to a source build as the alternative, we had to upgrade our version of nginx this AM, since they pulled the previous build from the yum repo for all versions of Amazon Linux.
[2012-04-02 22:49:41 -0400] btm: |shad0w|: we have not opened up the ruby-omnibus repository yet. we could, but all the juicy bits are still in another private repo and we need to migrate them.
[2012-04-02 22:50:06 -0400] |shad0w|: btm have an eta (won't hold you to it) yet
[2012-04-02 22:50:46 -0400] btm: |shad0w|: Before ChefConf. (May 15-17)
[2012-04-02 22:50:47 -0400] |shad0w|: I want to build clients packages with mcollective and a custom graphite client into it
[2012-04-02 22:50:48 -0400] jdeamattson: jtimberman, btm: Are you considering an option to allow someone to specify a list of gems to be installed by the Omnibus installer? Allow us to not have to do sideway installs, etc.
[2012-04-02 22:50:49 -0400] aslan: hi guys... what is the best way to upgrade a package. I want to upgrade my nginx. I wonder what the best practice is considering i want to have least amount of interruption or down time in my server?
[2012-04-02 22:50:53 -0400] |shad0w|: btm, juicy
[2012-04-02 22:50:58 -0400] tarrant: I'm attempting to setup backups for our chef_server. The chef_server_backup.rb script makes sense but it doesn't seem to backup the clients. This means that if the server were to die then I would have to regenerate pems for all the clients correct?
[2012-04-02 22:50:59 -0400] wamcvey: btm: I appreciate you telling me... you can perhaps understand my frustration when the install page for the Server (http://wiki.opscode.com/display/chef/Installing+Chef+Server) gives the options for installing the server without any of the considerations/limitations for the option that is listed first and is most direct.
[2012-04-02 22:51:04 -0400] |shad0w|: trying to convince the boss to pay for me to go too
[2012-04-02 22:51:38 -0400] jdeamattson: jtimberman, btm Have been going through the Omnibus stuff and it looks slick.
[2012-04-02 22:54:07 -0400] btm: wamcvey: The server has a bunch of moving parts. Unfortunately that contributes to an increasing number of caveats based on an infinite number if installation combinations (method, OS, OS version, etc) and use cases. I'm sorry it's not easier. We will use the Omnibus OSS Server to make a more functional stack for those who don't have strong feelings about system administration and operating systems soon.
[2012-04-02 22:54:09 -0400] wamcvey: btm: to confirm... I don't need to upgrade my server to use the bootstrap installation... I just need to update my chef-clients for the nodes that I want to be able to handle ruby 1.9 based cookbooks (using the omnibus installer)? Is there a way to have 'knife bootstrap' do this for me?
[2012-04-02 22:55:19 -0400] btm: wamcvey: use the chef-full bootstrap to use the omnibus installer https://github.com/opscode/chef/blob/master/chef/lib/chef/knife/bootstrap/chef-full.erb
[2012-04-02 22:55:49 -0400] btm: wamcvey: this page should help if you don't know where to put that: http://wiki.opscode.com/display/chef/Custom+Knife+Bootstrap+Script
[2012-04-02 22:56:23 -0400] btm: wamcvey: The Chef-server version Ruby shouldn't care about whats in the recipes themselves.
[2012-04-02 22:56:48 -0400] jhowarth: What is the plugin path for ohai on windows?
[2012-04-02 22:58:07 -0400] |shad0w|: btm, is the new ruby-omnibus build adding in the shadow gem? iirc the current one doesn't which is aggrevating if you are doing user password mgmt
[2012-04-02 22:59:18 -0400] btm: |shad0w|: not to date. really we rebuilt the ground up. It was more about rebuilding the framework and we're now using it for most of our internal projects as well.
[2012-04-02 23:00:03 -0400] |shad0w|: just curious as to why that would be excluded
[2012-04-02 23:01:41 -0400] btm: |shad0w|: we're also building a huge-ier continous integration infrastructure to run integration tests against multiple platforms. Tossing a Gem in one place might do unknown things in others. No reason I know not to add it, but we're moving heavy objects right now.
[2012-04-02 23:03:12 -0400] wamcvey: btm: ok... thanks... will need to do more research, but the links should help. I do think there should should be a wikipage that gives frank caveats (or at least links to opened/closed tickets) associated with the choices on that Install+Chef+Server wiki page (especially wrt ruby versions). I don't think it's unreasonable to read that page and want to jump on the stability of a vendor released apt repository based release.
[2012-04-02 23:03:59 -0400] |shad0w|: btm, the new build framework should allow me to alter the gems installed easily enough though right?
[2012-04-02 23:04:17 -0400] |shad0w|: I started peaking at the current build stuff, but stopped when I saw a new build framework was coming out soon
[2012-04-02 23:04:42 -0400] |shad0w|: hopefully it will get me away from my current localized packages I'm building
[2012-04-02 23:05:51 -0400] btm: wamcvey: I think the problem is that the caveats list would be very difficult to sort. I'm very familiar with debian packaging and one of the original Chef developers, so you happened to come in here when someone was here who could apply your specific situation to a lot of relevant experience. If you were having a similar problem on CentOS, my answer would certainly be different. :)
[2012-04-02 23:07:18 -0400] btm: |shad0w|: well. it's easy to add gems if you want to rebuild the packages yourself. you should be able to add gems afterward with '/opt/opscode/embedded/bin/gem install' but there can be issues if that isolated build environment doesn't have everything you need (rears its ugly head when you're installing a gem that has to build a C extension)
[2012-04-02 23:07:46 -0400] |shad0w|: btm, I don't want to depend on a local compiler
[2012-04-02 23:08:12 -0400] |shad0w|: and yeah, I'll be doing my own builds
[2012-04-02 23:08:23 -0400] |shad0w|: just want to jam a few extra things in that I'll want on every client server
[2012-04-02 23:08:31 -0400] |shad0w|: that are ruby based
[2012-04-02 23:08:38 -0400] btm: |shad0w|: I suspect a chroot could be crafted if needed. That'd be interesting.
[2012-04-02 23:09:02 -0400] wamcvey: btm: Not to beat a dead horse or anything,  but on the 'Installing Chef Server' wiki page, it literally says: "On Debian or Ubuntu, install Chef from Opscode's apt repository with apt-get."  I understand the problems of cross platform compatibility matrixes... but when you have a section specifically for Debian/Ubuntu that says "do something", it might be good to also link to a page that also explains "oh yeah, you'll also run into ruby compati
[2012-04-02 23:09:05 -0400] |shad0w|: don't really need that, just a few extra gems to orchestration and metrics
[2012-04-02 23:09:25 -0400] |shad0w|: s/to/for
[2012-04-02 23:10:54 -0400] btm: |shad0w|: yeah, right now that is just editing omnibus/config/software/chef.clj and jamming another gem into the gem install line. or if you're jamming a lot int, cargo culting that file and adding another step in omnibus/projects/chef-full.clj.
[2012-04-02 23:11:10 -0400] btm: |shad0w|: currently the ruby-omnibus project is pretty similar.
[2012-04-02 23:12:01 -0400] jtoft: Quick question; I may be doing something wrong, but I it doesn't seem so. So I have this data bag ganglia_clusters, and I have an item uploaded to it with the name:main. When I run `knife search ganglia_clusters "*:*"` it returns 0 items found, however when I run `knife data bag show ganglia_clusters` it returns main, and when I run `knife data bag show ganglia_clusters main` it shows the correct json item. search(:ganglia_clusters, "*:*").each { |h| p h } does
[2012-04-02 23:12:02 -0400] jtoft: display anything either. Am I doing it right?
[2012-04-02 23:14:25 -0400] btm: jtoft: search is a separate part of the chef-server than what stores the databags. you'll want to look at chef-solr and chef-expander. make sure they're running and look in their logs when you save the data bag or a node.
[2012-04-02 23:14:26 -0400] |shad0w|: jtoft, are you using hosted or local chef-server?
[2012-04-02 23:14:42 -0400] btm: I'm late for dinner, I gotta run all. GL.
[2012-04-02 23:14:43 -0400] |shad0w|: and what btm said if you're running your own chef-server
[2012-04-02 23:17:21 -0400] jtimberman: and rabbitmq
[2012-04-02 23:22:30 -0400] jtoft: |shad0w|: chef-server, but the data bags are definitely there, because they show up when I run the knife data bag show. They just don't seem to be searchable.
[2012-04-02 23:22:36 -0400] jtoft: Nodes are definitely searchable
[2012-04-02 23:22:51 -0400] jtoft: and data bags are saying they're there, work properly when I do a data bag show
[2012-04-02 23:22:54 -0400] jtoft: but failing the search
[2012-04-02 23:23:44 -0400] |shad0w|: what version of chef-server are you running?
[2012-04-02 23:23:59 -0400] jtoft: 10.8
[2012-04-02 23:24:25 -0400] |shad0w|: have a lot of users on the servers and/or windows servers?
[2012-04-02 23:24:37 -0400] jtoft: Nope, 2 nodes.
[2012-04-02 23:24:40 -0400] jtoft: all linux
[2012-04-02 23:24:44 -0400] jtoft: All two of them
[2012-04-02 23:24:57 -0400] |shad0w|: massive ammounts of attrib data on either of the nodes
[2012-04-02 23:25:01 -0400] jtoft: negative
[2012-04-02 23:25:02 -0400] |shad0w|: first thought that comes to mind is http://tickets.opscode.com/browse/CHEF-2346
[2012-04-02 23:25:27 -0400] |shad0w|: and when I hit something similar in 0.9.x it stopped indexing anything new
[2012-04-02 23:25:40 -0400] jtoft: search works fine for nodes
[2012-04-02 23:25:41 -0400] jtoft: just
[2012-04-02 23:25:45 -0400] jtoft: so not working for data bags
[2012-04-02 23:25:57 -0400] |shad0w|: have you changed an attrib on one of the nodes and seen if the change ends up in search?
[2012-04-02 23:26:50 -0400] |shad0w|: have you tried editing the databag again to see if search updates?
[2012-04-02 23:28:15 -0400] jtoft: |shad0w|: yea.. recreated it multiple times, none of them in general are showing up it seems
[2012-04-02 23:28:24 -0400] jtoft: nodes are though, and they get updated properly
[2012-04-02 23:29:43 -0400] jtoft: so like: `knife search icinga "*:*"` = 0 items found; and.  `knife data bag show icinga` = hostgroup_includes, service_templates
[2012-04-02 23:29:58 -0400] jtoft: which doesn't make a lot of sense to me.
[2012-04-02 23:30:33 -0400] jdeamattson: jtimberman, btm: What is the version of Ruby installed by the Omnibus installer currently?
[2012-04-02 23:31:05 -0400] |shad0w|: chef dumps things to be searched into rabbitmq, chef-expander consumes these and dumps them into solr. Something is borked in that path
[2012-04-02 23:31:21 -0400] |shad0w|: s/searched/indexed/
[2012-04-02 23:31:41 -0400] jtoft: sure, k
[2012-04-02 23:32:23 -0400] |shad0w|: CHEF-2346 is the most common these days
[2012-04-02 23:32:54 -0400] jtoft: |shad0w|: don't have a lot of attributes, it's pretty vanilla as it sits
[2012-04-02 23:32:59 -0400] |shad0w|: most people hit it when they have large user bases coming from ldap
[2012-04-02 23:33:13 -0400] |shad0w|: ie, ohai data
[2012-04-02 23:34:28 -0400] jtimberman: jdeamattson: i think its 1.9.2-p180
[2012-04-02 23:34:32 -0400] |shad0w|: if you put chef-expander into debug and do a knife index rebuild you might get some useful logs
[2012-04-02 23:34:34 -0400] jtimberman: jdeamattson: /opt/opscode/embedded/bin/ruby -v
[2012-04-02 23:34:42 -0400] jtimberman: (if you have it installed)
[2012-04-02 23:34:48 -0400] jtimberman: gotta run
[2012-04-02 23:34:50 -0400] jdeamattson: jtimberman: Haven't run it yet, so I can't do that.
[2012-04-02 23:35:01 -0400] jdeamattson: jtimberman: When are you looking at going to 1.9.3?
[2012-04-02 23:35:35 -0400] jtimberman: jdeamattson: i don't know, btm might, but he's run off. i need to run off as well.
[2012-04-02 23:35:54 -0400] jdeamattson: Go. Take care and have a good evening.
[2012-04-02 23:36:05 -0400] jdeamattson: Will buy you the beverage of your choice at Chef-Con...
[2012-04-02 23:44:57 -0400] jtoft: So I'm getting the following: Cannot load Databag Item main - (Merb::ControllerExceptions::NotFound) when I upload a databag using knife data bag from file.
[2012-04-02 23:45:20 -0400] jtoft: seems to be happening for every data bag item I upload
[2012-04-02 23:46:56 -0400] bnd: Hey all, I have a pretty basic question. I've just been trying out the chef trial and working though the worstation setup for fedora at http://wiki.opscode.com/display/chef/Workstation+Setup+for+CentOS%2C+Red+Hat%2C+Fedora.
[2012-04-02 23:47:54 -0400] bnd: Towards the bottom of the page it says to get ORGANISATION-validator.pem from my profile (I signed up for a trial hosted account)
[2012-04-02 23:49:10 -0400] jtoft: Think my ControllerException may have something to do with my version of couchdb? Using 1.1.1
[2012-04-02 23:49:19 -0400] |shad0w|: could be
[2012-04-02 23:49:20 -0400] bnd: I can't work out where to get that file from. I can get it to give me USERNAME.pem but not the other two. I imageine I am looking in the wrong place. Does anyone know where I get them from.
[2012-04-02 23:49:24 -0400] |shad0w|: where is that error coming from?
[2012-04-02 23:49:38 -0400] |shad0w|: knife/chef/chef-expander ?
[2012-04-02 23:49:39 -0400] jtoft: |shad0w|: that's in the server.log when I make a request to add that data bag
[2012-04-02 23:51:46 -0400] |shad0w|: yeah, could be a couchdb issue
[2012-04-02 23:52:09 -0400] |shad0w|: so changes are still showing up in knife show data bag foo?
[2012-04-02 23:52:33 -0400] |shad0w|: that exception is coming from chef-server-api-0.10.8/app/controllers/data_item.rb btw
[2012-04-02 23:53:06 -0400] bnd: I think I found it. Sorry for bothering you guys.
[2012-04-02 23:53:14 -0400] |shad0w|: are these new databags or when you edit currently existing ones?
[2012-04-02 23:53:30 -0400] |shad0w|: from file will throw a spurious error on first load
[2012-04-02 23:55:59 -0400] jtoft: couple of people are saying it fails with 1.1.1
[2012-04-02 23:55:59 -0400] jtoft: http://comments.gmane.org/gmane.comp.sysutils.chef.user/3168
