[2012-12-31 04:19:06 -0500] tamouse__: goodnite all
[2012-12-31 06:04:20 -0500] BryanWB__: ohai chefs!
[2012-12-31 10:13:54 -0500] meineerde: pong
[2012-12-31 10:14:00 -0500] meineerde: meh...
[2012-12-31 10:21:15 -0500] mattt: pawng
[2012-12-31 10:23:33 -0500] meineerde: *table tennis
[2012-12-31 10:37:18 -0500] specialsauce_: ohai chefs
[2012-12-31 10:43:14 -0500] mattt: HAAAAI
[2012-12-31 10:53:05 -0500] nn0101: badminton
[2012-12-31 11:21:24 -0500] mattt: how is everyone today?
[2012-12-31 11:27:00 -0500] nn0101: not shabby. missing hungry jacks.
[2012-12-31 11:32:54 -0500] mattt: nn0101: hungry who?
[2012-12-31 11:33:24 -0500] nn0101: mattt: http://www.hungryjacks.com.au/
[2012-12-31 11:34:37 -0500] meineerde: aka. burger king
[2012-12-31 11:38:01 -0500] mattt: why the name change?
[2012-12-31 11:38:09 -0500] mattt: i remember seeing burger kings in NZ
[2012-12-31 11:38:25 -0500] mattt: and first time i've heard someone say they're missing BK :P
[2012-12-31 11:40:19 -0500] meineerde: mattt: trademarks, as always :) http://en.wikipedia.org/wiki/Hungry_Jack's#History_of_.22Burger_King.22_in_Australia
[2012-12-31 11:40:41 -0500] meineerde: but yeah, I guess you should get better burgers than that everywhere in the world :)
[2012-12-31 11:41:32 -0500] mattt: to be fair, there aren't really any better chains in the UK
[2012-12-31 11:41:53 -0500] mattt: unless you want to spend 10 quid for a burger and chips
[2012-12-31 11:42:35 -0500] Babar: but in UK, you still have Wendy's, right?
[2012-12-31 11:42:51 -0500] Babar: soon I'll be in CA and I can get some In&Out :)
[2012-12-31 11:43:00 -0500] mattt: Babar: nope
[2012-12-31 11:43:20 -0500] mattt: we have ... wimpies?
[2012-12-31 11:43:23 -0500] mattt: never dared to go in there tho :)
[2012-12-31 11:43:38 -0500] nn0101: mattt: being broke doesn't help dude
[2012-12-31 11:44:10 -0500] mattt: nn0101: heh, yeah, when i was living in NZ i used to buy this super cheap burger king combo from time to time
[2012-12-31 11:44:16 -0500] mattt: it was freaky cheap like $3 :-/
[2012-12-31 11:44:35 -0500] meineerde: mattt: well, 10 money isn't too bad when you get something for it, like, you know, taste
[2012-12-31 11:45:24 -0500] nn0101: mattt: :(
[2012-12-31 11:46:13 -0500] mattt: you guys all in au?
[2012-12-31 11:46:19 -0500] mattt: isn't it like NYE now or something?  :)
[2012-12-31 11:46:33 -0500] nn0101: almost
[2012-12-31 15:58:43 -0500] BryanWB: agoddard_, around?
[2012-12-31 16:08:05 -0500] Teduardo: Anyone know of a script that will take data from Ohai and simply insert it somewhere queriable in Mongodb?
[2012-12-31 16:10:00 -0500] erratic: you could just write a cookbook that does like...
[2012-12-31 16:10:30 -0500] erratic: nodes.each.do |anode| mongodb.omnom(anode.to_jsonorwhatever)
[2012-12-31 16:11:26 -0500] erratic: end
[2012-12-31 16:12:04 -0500] Teduardo: Ah, sorry I need to catalog the systems as we're unboxing them before chef is involved; something similar to what puppet-razor (will eventually do) but with persistent data.
[2012-12-31 16:13:31 -0500] Teduardo: also similar to what nephology (will eventually do)
[2012-12-31 16:14:45 -0500] erratic: Ive never used ohai with out chef, for a second I almost asked how would you even but I sorta just remembered they were two separate projects on github if my memory serves me right, I assume you mean to install ohai, then when you run `ohai` which just spits out a bunch of json I assume you could use a command line mongodb client that you installed to dump the stdout of ohai to a db somewhere...
[2012-12-31 16:15:18 -0500] Teduardo: yeah, really would just pxeboot a linux distro img with ohai already in it
[2012-12-31 16:15:32 -0500] erratic: erratic@ChefServer:~$ gem install ohai
[2012-12-31 16:15:32 -0500] erratic: Fetching: ohai-6.14.0.gem (100%)
[2012-12-31 16:15:32 -0500] erratic: ERROR:  While executing gem ... (Gem::FilePermissionError) You don't have write permissions into the /usr/local/rvm/gems/ruby-1.9.3-p327 directory.
[2012-12-31 16:15:33 -0500] Teduardo: it would dump it's info $somewhere and turn itself off
[2012-12-31 16:15:35 -0500] erratic: erratic@ChefServer:~$
[2012-12-31 16:15:36 -0500] erratic: ya seems legit
[2012-12-31 16:15:57 -0500] erratic: oh maybe like
[2012-12-31 16:15:59 -0500] erratic: sec
[2012-12-31 16:16:17 -0500] erratic: check ohai --help
[2012-12-31 16:16:28 -0500] erratic: default behavior for me is stdout
[2012-12-31 16:16:39 -0500] erratic: maybe that output is coming from stderr or something tho
[2012-12-31 16:17:15 -0500] Teduardo: sure sure; I just didnt know if anyone had already done this yet =D so thats why I was asking, maybe we could work on it together instead of in parallel
[2012-12-31 16:17:40 -0500] Teduardo: I could also probably just use chef and just not install the client on the systems once they're provisioned
[2012-12-31 16:17:58 -0500] erratic: so ohai &> but that might write a trailing or leading return value too so I donno sounds like either something is wrong with your pxe boot image or the default behavior of ohai isn't what you expect or erratic@ChefServer:~$ ohai > blah
[2012-12-31 16:18:01 -0500] erratic: erratic@ChefServer:~$ head -n 1 blah
[2012-12-31 16:18:04 -0500] erratic: {
[2012-12-31 16:18:40 -0500] erratic: Im also running ohai on a provisioned node which may make a diff
[2012-12-31 16:19:10 -0500] erratic: you might dig through strace ohai on on one of the machines you're trying to get info from
[2012-12-31 16:19:33 -0500] erratic: it looks like mine is actually going through a knife config
[2012-12-31 16:21:09 -0500] Teduardo: this script actually seems to work OK as far as gathering the info; the server end of it doesn't work at all, so maybe i'll just hack it up https://github.com/edolnx/nephology-client/blob/master/nephology-client.pl
[2012-12-31 16:21:19 -0500] Teduardo: thanks!
[2012-12-31 16:22:31 -0500] erratic: well figuring this kinda stuff out on my own I generally do pretty ok with, trying to help somebody else not so much
[2012-12-31 16:22:34 -0500] erratic: lol
[2012-12-31 18:03:03 -0500] dysinger: so  environments.  I've only ever had separate orgs before to make sure there was a sandbox in between the stages. MYLAPTOP->CI->QA->STG->PROD.   I'm trying to use environments for this as they've been here for a couple years now (seems like anyway).  I'm seeing some leakage though in trying to use them. Roles & data bags for example.  How do you all keep your promotion pipeline straight with environments?
[2012-12-31 18:04:40 -0500] chip-: Generally, lightweight roles that contain only a run list or if they do have attributes, only contain global overrides of defaults from community cookbooks that will be the same regardless of environment.
[2012-12-31 18:05:16 -0500] dysinger: but if you're run list has to change in a role, then it would be applied in production immediately.
[2012-12-31 18:05:19 -0500] dysinger: right?
[2012-12-31 18:05:27 -0500] chip-: True.
[2012-12-31 18:05:39 -0500] dysinger: grr your
[2012-12-31 18:06:56 -0500] dysinger: I'm looking for clean separation and clear promotion of everything.
[2012-12-31 18:07:00 -0500] chip-: This is solely my opinion of course: Generally I try to set up two patterns for roles. Either a role maps to a cookbook 1:1 (apache2 role), or a role is a roll-up of other roles (Webserver). Then if I need temporary granularity in run lists, I use per-environment run lists only until the environments all have run list parity again.
[2012-12-31 18:08:08 -0500] chip-: Data bags are a different beast, because they're a database that gets shared across the whole infrastructure, regardless of environment, so the structure of that data might need to change to reflect that.
[2012-12-31 18:09:23 -0500] chip-: (For example, we're testing adding a Varnish cache to the front-end web servers. So we'd switch to per-environment run lists in the web server role, adding varnish role into the run list for dev, then promote to test, then promote to stage, then promote to prod. Once all run lists are in parity, delete the per-environment run lists, go back to default.)
[2012-12-31 18:11:30 -0500] dysinger: interesting.  so you only add the single new cookbook & a few attributes. still get to leverage of the roles that have been tested before & already in production this way?
[2012-12-31 18:11:48 -0500] yfeldblum: dysinger, chef-environments provide absolutely no isolation
[2012-12-31 18:12:06 -0500] yfeldblum: dysinger, they provide certain constraints which may be useful to you (or not), but no isolation
[2012-12-31 18:12:17 -0500] chip-: Truth. They're good for promoting cookbooks, but if you want full sandboxing you need separate orgs or chef servers.
[2012-12-31 18:12:35 -0500] dysinger: bummer.  that's what I'm discovering.
[2012-12-31 18:12:37 -0500] yfeldblum: chip-, multitenancy*
[2012-12-31 18:12:45 -0500] yfeldblum: chip-, multitenancy too
[2012-12-31 18:13:09 -0500] chip-: We are in vehement agreement.
[2012-12-31 18:13:22 -0500] yfeldblum: chip-, i prefer violent agreement
[2012-12-31 18:13:34 -0500] chip-: I hear that and I think mosh pit
[2012-12-31 18:13:43 -0500] yfeldblum: chip-, ^-^
[2012-12-31 18:14:03 -0500] dysinger: I think it's just asking for trouble with hundreds of nodes & a half dozen people in the mix to tip-toe around the work-arounds.  which means back to separate orgs...
[2012-12-31 18:14:08 -0500] yfeldblum: dysinger, environments may be good for things like having two production deployments in two datacenters or something like that
[2012-12-31 18:14:22 -0500] dysinger: y
[2012-12-31 18:14:33 -0500] chip-: I think environments can be VERY useful, but I'd need the ability to diagram to show you why
[2012-12-31 18:14:34 -0500] yfeldblum: dysinger, where they need to know about each other and do cross-dc replication etc
[2012-12-31 18:14:43 -0500] yfeldblum: dysinger, as an example
[2012-12-31 18:14:56 -0500] yfeldblum: dysinger, where it provides see-through boxes, but no isolation
[2012-12-31 18:15:00 -0500] dysinger: y that makes sense
[2012-12-31 18:15:25 -0500] dysinger: but that's still all 'production'
[2012-12-31 18:15:37 -0500] yfeldblum: dysinger, right
[2012-12-31 18:15:44 -0500] chip-: Say you use a typical deployment such as: Datacenter, (pod / availability zone), logical environment (dev/stage/prod), hostgroup (web server, database server, cache server).
[2012-12-31 18:16:31 -0500] chip-: So your config could be at any of these levels: Datacenter, pod, logical environment, hostgroup, and (intersection of hostgroup + datacenter) or (intersection of host group + pod), depending.
[2012-12-31 18:16:57 -0500] chip-: or I guess intersection of hostgroup + logical, if you want.
[2012-12-31 18:17:04 -0500] chip-: Whichever makes most sense for you.
[2012-12-31 18:17:24 -0500] chip-: So you could use roles to model all of these places, and have a datacenter role, a pod role, a logical role, a hostgroup role, and intersection roles.
[2012-12-31 18:17:24 -0500] chip-: OR
[2012-12-31 18:17:46 -0500] chip-: you could use environments to model datacenter, pod, or hostgroup, and then you get the intersection implicitly.
[2012-12-31 18:17:51 -0500] chip-: and cut your number of roles significantly.
[2012-12-31 18:18:08 -0500] dysinger: interesting
[2012-12-31 18:19:07 -0500] yfeldblum: chip-, dysinger, environments being akin to uberroles in a sense
[2012-12-31 18:19:16 -0500] chip-: Much easier to discuss with a whiteboard and knowledge of your particular infrastructure, but hopefully that gives you some idea.
[2012-12-31 18:20:02 -0500] dysinger: thanks I'll noodle on it some more
[2012-12-31 18:20:15 -0500] chip-: Also important: Default attributes in roles take precedence over default attributes in environments, but override attributes in environments take precedence over override attributes in roles.
[2012-12-31 18:20:37 -0500] tam|work: fun, innit
[2012-12-31 18:21:01 -0500] chip-: So you can use an environment to say "Every host in the ORD datacenter forwards to this MTA and uses these DNS resolvers"
[2012-12-31 18:21:18 -0500] chip-: knowing that'll always get picked up by every host in the environment if specified as an override.
[2012-12-31 18:21:22 -0500] chip-: er
[2012-12-31 18:21:26 -0500] chip-: *as an environment override
[2012-12-31 18:41:18 -0500] ckm: when running knife bootstrap windows winrm .., this error message has return ERROR: WinRM::WinRMHTTPTransportError: Bad HTTP response returned from server (500)
[2012-12-31 18:41:26 -0500] ckm: any idea what cause this.
[2012-12-31 18:41:50 -0500] ckm: The install.msi has been pulled into remote node
[2012-12-31 18:42:12 -0500] ckm: I turn on -VV but it does not help to find where goes wrong
[2012-12-31 18:42:18 -0500] ckm: any suggestion?
[2012-12-31 18:44:06 -0500] josephholsten: ohai!
[2012-12-31 18:44:53 -0500] josephholsten: http://www.opscode.com/chef/install/  has 'unspecified' in the 'Select an Operating System' drop down. any ideas where I should file the bug?L
[2012-12-31 18:45:04 -0500] josephholsten: oops, 'undefined'
[2012-12-31 18:46:15 -0500] josephholsten: this looks to be something windows-like, as its version options are 2003r2, 2008, 2008r2, 2012
[2012-12-31 18:46:46 -0500] josephholsten: and its installer is an msi
[2012-12-31 18:50:25 -0500] ckm: the target node is windows 7
[2012-12-31 18:50:42 -0500] ckm: so anywhere we can workaround this?
[2012-12-31 18:51:02 -0500] ckm: or the target machine has to be win2k8?
[2012-12-31 19:19:37 -0500] pasties: Can anyone recommend a good book on picking up Chef? I see there is an Oreilly book in the works but it doesn't look like it's going to be available until September
[2012-12-31 19:23:44 -0500] leifmadsen: pasties: there is test-driven development with chef, but I think it is probably kind of old now
[2012-12-31 19:23:50 -0500] leifmadsen: I basically learned via the wiki
[2012-12-31 19:24:04 -0500] pasties: leifmadsen: I've checked that out and it isn't what I'm looking for
[2012-12-31 19:24:16 -0500] leifmadsen: maybe you can better define what you're looking for :)
[2012-12-31 19:24:22 -0500] leifmadsen: but there is no other books that I'm aware of
[2012-12-31 19:24:24 -0500] pasties: The wiki and docs all seem to be very eclectic and missing quite a bit of information
[2012-12-31 19:24:36 -0500] pasties: or at least make the information obtuse and hard to find
[2012-12-31 19:24:50 -0500] pasties: I'm looking for more information on writing recipes from scratch
[2012-12-31 19:25:20 -0500] pasties: In general the information seems to be there but some things are unclear
[2012-12-31 19:25:36 -0500] pasties: I've also been looking through other cookbooks trying to figure things out
[2012-12-31 19:26:18 -0500] pasties: Best practices would also be nice, I did see the gem that runs linting on a cookbook, but it looks like you need to write tests for it to actually perform the linting
[2012-12-31 19:27:49 -0500] pasties: For an example of the strange and obtuse/missing information is there seems to be three common yet separate definitions of attributes inside of a cookbook
[2012-12-31 19:28:30 -0500] pasties: there are attribute files, which is just a hash, an "attribute" keyword within the metadata file and one under resources
[2012-12-31 19:28:56 -0500] pasties: the metadata file and the resources "attribute" keyword have different sets of valid values, and common syntaxes
[2012-12-31 19:29:37 -0500] pasties: is there any comprehensive resource available that goes through this kind of stuff?
[2012-12-31 19:30:24 -0500] lehrblogger: pasties: fwiw, much of this was confusing for me too. there's a series of video tutorials that helped me figure out how the different pieces interact
[2012-12-31 19:30:32 -0500] lehrblogger: http://nathenharvey.com/blog/2012/12/06/learning-chef-part-1/ is the first one
[2012-12-31 19:30:55 -0500] pasties: thanks :) I'll give those a go
[2012-12-31 19:31:10 -0500] lehrblogger: re attributes, the kind in the attributes file are variables you'll be using in different places in the cookbook
[2012-12-31 19:31:25 -0500] lehrblogger: the kind in the resources are more like arguments or parameters that you're passing through
[2012-12-31 19:31:43 -0500] lehrblogger: and i haven't done anything with attributes in the metadata.rb files, although i'm pretty new to chef my self
[2012-12-31 19:32:29 -0500] pasties: I suspect attributes in the metadata file are more for documentation purposes or perhaps they make the options clearer to hosted chef's web UI
[2012-12-31 19:32:36 -0500] lehrblogger: (someone who knows more might have a better explanation though)
[2012-12-31 19:32:42 -0500] lehrblogger: ah, ok
[2012-12-31 19:33:18 -0500] pasties: *shrug* just a guess though
[2012-12-31 19:33:38 -0500] pasties: I've been trying to write recipes and test them locally with chef-solo
[2012-12-31 19:34:45 -0500] lehrblogger: i haven't tried to use chef-solo yet. it seemed like most of the documentation, and especially the getting started guides, were for hosted chef, so i signed up for the free plan
[2012-12-31 19:35:45 -0500] pasties: I looked at the hosted chef and just assumed it would be harder to diagnose issues with cookbooks I was writing if there was all that infrastructure in the way
[2012-12-31 19:36:57 -0500] mattt: supposedly it's more straightforward to get going w/ hosted chef
[2012-12-31 19:37:15 -0500] lehrblogger: ah, maybe it is harder? you have to remember to re-upload the cookbook every time you change something, which takes a couple of seconds, but usually my vagrant provision takes much longer than that anyway, and i can just && them together
[2012-12-31 19:38:40 -0500] lehrblogger: are you using vagrant?
[2012-12-31 19:39:12 -0500] pasties: nah I am using virtual machines but it's a snapshotted instance on a KVM cluster
[2012-12-31 19:39:31 -0500] lehrblogger: hm, ok
[2012-12-31 19:43:29 -0500] pwelch: anyone use knife-linode lately?
[2012-12-31 19:59:48 -0500] tam|work: one thing the metadata.rb file does that is important is set the version number for the cookbook -- this is important if you have different environments that need different versions of a particular cookbook
[2012-12-31 20:00:24 -0500] tam|work: this is something i just learned last week, as i needed it for some changes in our dev stuff that is moving to qa machines this week, but won't work with our staging and production servers
[2012-12-31 20:01:08 -0500] tam|work: so i can set the qa environment to the updated cookbook's version, and leave stage/prod's environments alone
[2012-12-31 20:01:48 -0500] pasties: tam|work: Is that in regards to my query? I'm wasn't talking about the variables being defined there but the actual "attribute" DSL keyword
[2012-12-31 20:02:21 -0500] pasties: let me find one of opscodes cookbooks to demonstrate what I'm talking about
[2012-12-31 20:02:24 -0500] tam|work: no, just kind of in passing about what metadata.rb is good for
[2012-12-31 20:03:18 -0500] pasties: ah alright
[2012-12-31 20:04:09 -0500] tam|work: i'm still a n00b with chef. i'm learning it sort of in earnest right now as our devops is on vac, and things needed to be done
[2012-12-31 20:04:43 -0500] pasties: sort of in the same boat :)
[2012-12-31 20:11:54 -0500] pasties: I don't suppose there is a way to access the run_context within shef?
[2012-12-31 20:26:42 -0500] tam|work: i guess i'm finding this: http://wiki.opscode.com/display/chef/Metadata#Metadata-attribute confusing.
[2012-12-31 20:30:12 -0500] pasties: yep thats what I was talking about earlier
[2012-12-31 20:30:31 -0500] tam|work: yeah, i just went to look at it, and o.O
[2012-12-31 20:30:52 -0500] pasties: I suspect that is for providing configuration options through hosted-chef, I haven't touched hosted-chef yet so I'm not sure if that's accurate
[2012-12-31 20:30:54 -0500] tam|work: i didn't even know there was an "attribute" dsl keyword
[2012-12-31 20:30:59 -0500] pasties: there are actually two
[2012-12-31 20:31:05 -0500] pasties: there is another one in LWRPs
[2012-12-31 20:31:07 -0500] pwelch: btm: you commented on my ticket before I could add a pull request :)
[2012-12-31 20:31:14 -0500] pasties: and it has a completely different syntax
[2012-12-31 20:31:38 -0500] tam|work: thing is, chef docu is *littered* with the word "attribute"
[2012-12-31 20:31:41 -0500] pasties: I think the attributes in the metadata file are mostly for documentation
[2012-12-31 20:31:45 -0500] pasties: yeah it is
[2012-12-31 20:32:06 -0500] tam|work: maybe they're something the recipe can somehow make use of if it wants to?
[2012-12-31 20:32:09 -0500] pasties: Here's an existing cookbook that makes use of it
[2012-12-31 20:32:09 -0500] pasties: https://github.com/opscode-cookbooks/sudo/blob/master/metadata.rb
[2012-12-31 20:32:11 -0500] tam|work: but dunno
[2012-12-31 20:32:21 -0500] tam|work: i waws reading the nginx cookbook
[2012-12-31 20:32:48 -0500] leifmadsen: hey all -- just starting to try out the maven cookbook to deploy my own jar files, but the provider seems fairly simple. I have a settings.xml file that I want to use, and curious if anyone has used that cookbook with their own settings.xml file before?
[2012-12-31 21:00:53 -0500] programmerq: I'm doing some more playing with vagrant, and it seems like it's even better at helping me get my chef-repo up and running than I previously had thought.
[2012-12-31 21:01:27 -0500] pasties: ls
[2012-12-31 21:01:28 -0500] leifmadsen: it's pretty awesome :)
[2012-12-31 21:01:30 -0500] pasties: whoops
[2012-12-31 21:01:58 -0500] programmerq: before, we had just been using vagrant ssh to get our cookbooks onto the vm, we didn't even look at the chef provisioner that comes with vagrant.
[2012-12-31 21:02:04 -0500] programmerq: but it works very very nicely.
[2012-12-31 21:03:01 -0500] tam|work: i used vagrant on my own projects for a while, simply because it made stuff easier to deal with
[2012-12-31 21:03:11 -0500] tam|work: i am now intrigued by using it with chef
[2012-12-31 21:04:17 -0500] leifmadsen: programmerq: yep -- the way I use it now is in development, I spin up a chef server via chef_solo in the Vagrantfile, provision the chef server, upload all my local cookbooks, roles and data bags automatically, then provision VMs with that chef server
[2012-12-31 21:04:28 -0500] leifmadsen: that way every developer has their own chef server locally to provision and work from
[2012-12-31 21:04:48 -0500] leifmadsen: if I make a change to a cookbook, I just do "vagrant provision chef_server some_vm"
[2012-12-31 21:04:57 -0500] leifmadsen: then latest changes are uploaded, and deployed to VM
[2012-12-31 21:04:57 -0500] tam|work: i'mma talk to our devops when he returns to see if we can do that
[2012-12-31 21:05:12 -0500] leifmadsen: it's an amazing development workflow
[2012-12-31 21:05:16 -0500] tam|work: yeah
[2012-12-31 21:05:39 -0500] leifmadsen: I can just do 'vagrant destroy --force && vagrant up' and get a full new environment
[2012-12-31 21:05:47 -0500] leifmadsen: usually do that at the start of every sprint
[2012-12-31 21:05:49 -0500] tam|work: we're doing this rails site, with a million moving parts and stuff, and it's *still* the case that devs are merging in stuff that's untested in the whole code base
[2012-12-31 21:05:59 -0500] leifmadsen: then you don't end up with things building on things and not being able to reproduce the environment
[2012-12-31 21:06:05 -0500] tam|work: and if they had their own complete environment to test in, they could easily preflight stuff
[2012-12-31 21:06:12 -0500] leifmadsen: exactly
[2012-12-31 21:06:28 -0500] leifmadsen: just came from one company and got all that setup, and now doing that again at the new company
[2012-12-31 21:06:32 -0500] leifmadsen: coming along quite nicely now
[2012-12-31 21:06:40 -0500] leifmadsen: automate everything! :)
[2012-12-31 21:06:58 -0500] tam|work: plus, then, they see what they're working on not only in the behind-the-scenes state, but can see what it will look like to our users
[2012-12-31 21:07:07 -0500] tam|work: yus!
[2012-12-31 21:07:16 -0500] tam|work: no rules without tools!
[2012-12-31 21:07:23 -0500] tam|work: continuous integration!
[2012-12-31 21:07:27 -0500] tam|work: continuous testing!
[2012-12-31 21:07:33 -0500] tam|work: continuous deployment!
[2012-12-31 21:07:36 -0500] leifmadsen: yep, each dev would get their own physical machine with 16GB of RAM and could spin up a pretty reasonable duplicate of production
[2012-12-31 21:07:48 -0500] tam|work: yupyup
[2012-12-31 21:07:59 -0500] tam|work: all the devs here have 16gb mbp retinas
[2012-12-31 21:08:01 -0500] leifmadsen: does take some time to get everything going, but once you do, it's great
[2012-12-31 21:08:05 -0500] tam|work: no excuses
[2012-12-31 21:08:05 -0500] leifmadsen: perfect
[2012-12-31 21:08:22 -0500] leifmadsen: then use gerrit + jenkins for code reviews and such
[2012-12-31 21:08:28 -0500] leifmadsen: code quality goes up quite a bit
[2012-12-31 21:08:41 -0500] tam|work: dunnot gerrit
[2012-12-31 21:08:49 -0500] tam|work: we had jenkins but dumped it for teamcity
[2012-12-31 21:09:13 -0500] tam|work: current dev processes will change shortly
[2012-12-31 21:09:35 -0500] leifmadsen: heh
[2012-12-31 21:09:58 -0500] leifmadsen: you're not doing anything magical that everyone else isnt' already moving towards :)
[2012-12-31 21:15:20 -0500] programmerq: leifmadsen: how do you use gerrit? I read the intro page for it, but that doesn't really explain what exactly a gerrit workflow looks like.
[2012-12-31 21:16:20 -0500] programmerq: oh, it's just accept/reject of commits. that could be handy.
[2012-12-31 21:16:48 -0500] tam|work: leifmadsen: the main reason they will be changing is because of removal of certain people
[2012-12-31 21:17:15 -0500] leifmadsen: programmerq: used via checkout and branch of your code, make changes, run git-review which opens a review, triggers jenkins tests via zuul, jenkins gives a +1 review if it passes, or -1 on fail, do code reviews via humans, sign off, jenkins does another test, if pass, gerrit merges to master (never done via a human)
[2012-12-31 21:17:59 -0500] programmerq: that'd be super handy
[2012-12-31 21:18:14 -0500] tam|work: oh that does sound good
[2012-12-31 21:18:59 -0500] tam|work: currently, CR is done here by pull request at github, and if someone likes it, it gets merged
[2012-12-31 21:19:10 -0500] tam|work: it is a hot mess
[2012-12-31 21:19:49 -0500] tam|work: we've come a long, long way in 3 months since i've strated
[2012-12-31 21:19:52 -0500] tam|work: started*
[2012-12-31 21:19:53 -0500] programmerq: so there'd have to be a PM or a dev basically dedicated to reviewing things commit-by-commit, no?
[2012-12-31 21:20:03 -0500] tam|work: CI is no longer red; it used to never be green
[2012-12-31 21:20:16 -0500] leifmadsen: tam|work: ya in former location we had that workflow and it worked well, as long as 1) person who opens code review is not allowed to merge it themselves and 2) you don't just allow anyone to merge
[2012-12-31 21:20:34 -0500] tam|work: you'd hope so? but no, they're picked up by anyone and merged
[2012-12-31 21:20:39 -0500] leifmadsen: programmerq: well, everyone can review, but allocation 1-2 people to allow sign off
[2012-12-31 21:20:39 -0500] btm: pwelch: hah. the links and the tense of your sentance probably made me think it was already there. :)
[2012-12-31 21:20:48 -0500] leifmadsen: tam|work: that's a mangerial problem :)
[2012-12-31 21:20:54 -0500] tam|work: quite
[2012-12-31 21:21:16 -0500] leifmadsen: fyi I got the maven stuff all working it looks like by just uploading my own settings.xml file to the $HOME/.m2/ directory, so weeee!
[2012-12-31 21:21:18 -0500] programmerq: or, more specifically, the problem is to convince management that the workflow is good enough that they are willing to take that problem on
[2012-12-31 21:21:33 -0500] leifmadsen: now I need to go out and get a 26'r of vodka
[2012-12-31 21:21:38 -0500] tam|work: we're in transition from an offshore team that "did things their own way" to a local team that spends time thinking about what we're building and why
[2012-12-31 21:21:40 -0500] pwelch: btm: It helped though. Its been awhile since I added a ticket/fix and I know the workflow has been adjusted since then. Thanks for the comment
[2012-12-31 21:21:54 -0500] programmerq: one team I'm working with refuses to even write unit tests
[2012-12-31 21:22:02 -0500] programmerq: or do proper schema migration scripts
[2012-12-31 21:22:09 -0500] programmerq: or set up a CI box
[2012-12-31 21:22:11 -0500] tam|work: programmerq: i fought that when i started
[2012-12-31 21:22:48 -0500] tam|work: the rspec tests were few and far between, almost all "QA" (read grunt testing) was by manually poking at the application via the browser
[2012-12-31 21:22:59 -0500] programmerq: oh, and it's all ugly horribly php code
[2012-12-31 21:23:24 -0500] programmerq: yeah, they rely on "QA" as well
[2012-12-31 21:23:28 -0500] tam|work: someone there had the bright idea to not only have schema migrations, but *content* migrations in the code base using the same rails db migration stuff
[2012-12-31 21:23:38 -0500] tam|work: well, at least this is ruby
[2012-12-31 21:23:58 -0500] tam|work: although they do some awfully java-ish things in ruby
[2012-12-31 21:24:53 -0500] tam|work: it's hard enough to get devs to realize that databases are NOT the same as code, and then now we have CONTENT in there as well
[2012-12-31 21:25:53 -0500] tam|work: they didn't think that testing migrations was necessary
[2012-12-31 21:26:03 -0500] tam|work: and didn't quite understand why they kept breaking
[2012-12-31 21:27:01 -0500] tam|work: but in less than 3 months, we've gone from constant red CI to a place where if CI is red, everyone drops everything to fix it
[2012-12-31 21:27:35 -0500] tam|work: and where there was < 30% covereage to > 60% coverage (not that test coverage means all *that* much, but still)
[2012-12-31 21:30:07 -0500] tam|work: i had a few of teh local devs here comment on this tiny script i wrote, the bulk of which was ripped from a rake task someone else wrote, and say it was the best looking bit of code they'd seen from this place; the kicker, it's because i put comments in the code explaining why i was doing what i was doing, and what i had learned from research along the way
[2012-12-31 21:30:16 -0500] tam|work: crikey
[2012-12-31 21:30:45 -0500] tam|work: why don't people normally do that??
[2012-12-31 21:31:11 -0500] tam|work: when i go back to this script in 6 months, i wont' have to repeat all the research
[2012-12-31 22:11:11 -0500] tmichael: hit a wall with multi-vm configuration.  seems all host-only vm's get same ip and macaddr
[2012-12-31 22:11:21 -0500] tmichael: when i try to override in config ssh fails to connect
[2012-12-31 22:11:34 -0500] tmichael: Vagrant couldn't determine the SSH port for your VM! Vagrant attempts to...
[2012-12-31 22:11:45 -0500] tmichael: whoops.  wrong channel :)
[2012-12-31 22:12:31 -0500] tam|work: jee, it was all making perfects sense here, too
[2012-12-31 22:12:34 -0500] tam|work: :D
[2012-12-31 22:13:07 -0500] tmichael: i'd be impressed if someone had the answer anyway :)
[2012-12-31 22:13:26 -0500] mattt: :P
[2012-12-31 22:13:38 -0500] tam|work: my answer would be use bridge mode
