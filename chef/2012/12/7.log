[2012-12-07 00:02:52 -0500] programmerq: kallistec: since my company has a private chef license, is there any kind of official phone support or anything?
[2012-12-07 00:08:22 -0500] oddover: hi chefs. is anyone using chef to add the epel repo?
[2012-12-07 00:08:33 -0500] oddover: I'm just curious how that'd be done
[2012-12-07 00:10:09 -0500] oddover: *facepalm* why didn't I try google first? lol
[2012-12-07 00:10:13 -0500] oddover: https://github.com/opscode/cookbooks/blob/master/yum/recipes/epel.rb
[2012-12-07 00:10:42 -0500] pranas: hi!
[2012-12-07 00:11:56 -0500] pranas: maybe someone encountered "Error Syncing Cookbooks" when chef-client fails to fetch data from hosted chef s3?
[2012-12-07 00:12:57 -0500] kindsol: ohai
[2012-12-07 00:13:22 -0500] kindsol: Chef Development workflow survey still open (one question)
[2012-12-07 00:13:23 -0500] kindsol: http://www.surveymonkey.com/s/L5892ZQ
[2012-12-07 00:13:35 -0500] kindsol: please give your input.
[2012-12-07 00:13:41 -0500] pranas: sure
[2012-12-07 00:14:14 -0500] kindsol: I hope to publish results to mailing list tomorrow or monday
[2012-12-07 00:14:23 -0500] kindsol: thx!
[2012-12-07 00:14:27 -0500] pranas: what mailing list?
[2012-12-07 00:14:43 -0500] jtimberman: pranas: lists.opscode.com
[2012-12-07 00:14:53 -0500] pranas: thx, i'll join
[2012-12-07 00:19:04 -0500] kallistec: programmerq: I know the support hours depend on what support level you have, but not sure about phone support
[2012-12-07 00:19:12 -0500] kallistec: ssd7: ping ^^
[2012-12-07 00:19:46 -0500] whack: kallistec, miah: thanks for the tips earlier, I was able to find the bug in opscode-account.
[2012-12-07 00:21:40 -0500] ssd7: pranas: If you have private chef you can call the support number or file a ticket at support@opscode.com and we can help you out
[2012-12-07 00:21:43 -0500] ssd7: grr
[2012-12-07 00:21:48 -0500] ssd7: that was suppose to be programmerq
[2012-12-07 00:22:14 -0500] pranas: ssd7: i'm using free hosted chef account
[2012-12-07 00:22:27 -0500] pranas: just researching chef
[2012-12-07 00:29:27 -0500] ssd7: pranas: Right, sorry I meant that for programmerq but didn't watch the tab completion carefully
[2012-12-07 00:30:50 -0500] pranas: np
[2012-12-07 00:31:05 -0500] pranas: i'm going to fill a ticket and see what happens
[2012-12-07 01:06:13 -0500] mrk_: any recommendation of where to get started with this? https://github.com/acrmp/chefspec i am having a hard time with the README.md :p
[2012-12-07 01:37:47 -0500] troyready: kallistec: thanks again for your help earlier with my proxying setup! After getting the forward proxy defined properly in the chef-client config, everything is running smoothly.
[2012-12-07 03:25:03 -0500] ohlol: why would an lwrp's resource defaults not get set?
[2012-12-07 03:29:37 -0500] jtimberman: ohlol: OHAI
[2012-12-07 03:29:40 -0500] ohlol: yo
[2012-12-07 03:29:40 -0500] jtimberman: not get set how
[2012-12-07 03:29:43 -0500] ohlol: ok so
[2012-12-07 03:29:51 -0500] jtimberman: EXPLAIN YOSLEF
[2012-12-07 03:29:51 -0500] ohlol: https://github.com/sensu/sensu-chef/blob/master/resources/check.rb#L7
[2012-12-07 03:30:11 -0500] ohlol: plus https://github.com/sensu/sensu-chef/blob/master/providers/check.rb#L4
[2012-12-07 03:30:22 -0500] ohlol: if i don't set interval in a sensu_check
[2012-12-07 03:30:29 -0500] ohlol: it doesn't get added to the file that gets created
[2012-12-07 03:30:33 -0500] ohlol: (same for others w/defaults)
[2012-12-07 03:30:40 -0500] ohlol: here's the resource object
[2012-12-07 03:31:07 -0500] ohlol: <sensu_check[ntpd_process] @resource_name: :sensu_check @name: "ntpd_process" @noop: nil @before: nil @params: {} @provider: nil @allowed_actions: [:nothing, :create, :delete] @action: :create @updated: false @updated_by_last_action: false @supports: {} @ignore_failure: false @retries: 0 @retry_delay: 2 @source_line: "/tmp/vagrant-chef-1/chef-solo-1/cookbooks/sensu/recipes/base_checks.rb:1:in `from_file'" @elapsed_time: 0 @cookbook_name
[2012-12-07 03:31:07 -0500] ohlol: : :sensu @recipe_name: "base_checks" @command: "/usr/lib/nagios/plugins/check_procs -w 1:2 -c 1:2 -C ntpd" @handlers: ["default"]>
[2012-12-07 03:31:29 -0500] ohlol: i just did "p new_resource" in the provider to get that
[2012-12-07 03:31:45 -0500] jtimberman: try with key.to_sym
[2012-12-07 03:31:48 -0500] jtimberman: on line 5
[2012-12-07 03:31:57 -0500] ohlol: in provider?
[2012-12-07 03:32:02 -0500] jtimberman: ya
[2012-12-07 03:32:11 -0500] ohlol: i changed that to new_resource.name => new_resource
[2012-12-07 03:32:14 -0500] ohlol: and it wasnt in there
[2012-12-07 03:32:15 -0500] ohlol: fwiw
[2012-12-07 03:33:00 -0500] ohlol: https://gist.github.com/768df50cd6f7228de410
[2012-12-07 03:33:04 -0500] ohlol: like that?
[2012-12-07 03:33:12 -0500] jtimberman: ya
[2012-12-07 03:33:56 -0500] ohlol: aw fuck i vagrant destroy'ed instead of provision
[2012-12-07 03:33:59 -0500] ohlol: gonna be a min :-P
[2012-12-07 03:34:52 -0500] jtimberman: i never do that
[2012-12-07 03:35:14 -0500] ohlol: i do sometimes when i change a ton
[2012-12-07 03:35:25 -0500] ohlol: but usually just provision
[2012-12-07 03:40:23 -0500] ohlol: jtimberman: no dice :(
[2012-12-07 03:40:39 -0500] ohlol: lemme get you a gist
[2012-12-07 03:42:11 -0500] ohlol: jtimberman: https://gist.github.com/c10824782815c12a5a79
[2012-12-07 03:47:28 -0500] jtimberman: hm
[2012-12-07 03:50:32 -0500] jtimberman: oh derp that's just used in the file content ><
[2012-12-07 03:52:24 -0500] jtimberman: i don't know why the resource in shef isn't showing the attributes, i'm not seeing that with my local system using the 'yum_repository' lwrp too
[2012-12-07 03:53:22 -0500] ohlol: jtimberman: i'm not even running shef :P
[2012-12-07 03:53:29 -0500] ohlol: you are or are not?
[2012-12-07 03:53:34 -0500] jtimberman: well, i did..
[2012-12-07 03:53:41 -0500] jtimberman: how are you getting the resource object? :)
[2012-12-07 03:53:59 -0500] ohlol: Kernel#p ftw
[2012-12-07 03:54:38 -0500] jtimberman: k
[2012-12-07 03:54:48 -0500] jtimberman: well,  => <yum_repository[things] @resource_name: :yum_repository @name: "things" @noop: nil @before: nil @params: {} @provider: nil @allowed_actions: [:nothing, :add, :remove, :update] @action: :add @updated: false @updated_by_last_action: false @supports: {} @ignore_failure: false @retries: 0 @retry_delay: 2 @source_line: "(irb#1):1:in `irb_binding'" @elapsed_time: 0 @cookbook_name: nil @recipe_name: nil>
[2012-12-07 03:55:01 -0500] jtimberman: is what i see in shef from yum_repository "things"
[2012-12-07 03:55:10 -0500] jtimberman: but that resource has abunch of resource attributes
[2012-12-07 03:56:38 -0500] ohlol: hmm
[2012-12-07 03:56:54 -0500] ohlol: arent some of the resource attributes in thee?
[2012-12-07 03:56:55 -0500] ohlol: there
[2012-12-07 03:57:06 -0500] ohlol: mine has the ones i specify but not the defaults
[2012-12-07 03:57:58 -0500] ohlol: jtimberman: check #sensu
[2012-12-07 04:00:49 -0500] jtimberman: ohlol: well, Chef::Log.warn("Ohai, I want to has sensu defaults: #{new_resource.interval}")
[2012-12-07 04:00:53 -0500] jtimberman: :)
[2012-12-07 04:00:55 -0500] jtimberman: in the provider
[2012-12-07 04:01:11 -0500] ohlol: word
[2012-12-07 04:01:23 -0500] ohlol: thx for the help :D
[2012-12-07 04:01:35 -0500] ohlol: how is rubby formed
[2012-12-07 04:04:34 -0500] jtimberman: i don't know
[2012-12-07 04:04:37 -0500] jtimberman: https://github.com/opscode-cookbooks/sudo/commit/8be9e7fe425f2d4b1cbf43ade6f04ea2be6d2cf5
[2012-12-07 04:30:51 -0500] ohlol: any best practices for removing unmanaged files?
[2012-12-07 04:31:10 -0500] ohlol: i found the unmanaged_directory cookbook but it doesn't handle subdirectories etc well
[2012-12-07 05:37:00 -0500] jimjimovich: I'd like to save a json file with attributes for a node. Can someone point me in the right direction for doing that?
[2012-12-07 05:44:48 -0500] jimjimovich: never mind, I guess it's not a good idea after all ;)
[2012-12-07 05:49:34 -0500] aruntomar: jimjimovich: you should look at data bags
[2012-12-07 05:50:17 -0500] jimjimovich: aruntomar: thanks. That's kind of what I'm getting from the docs. I'm wondering what the best way is to store a list of users that will be added to each individual node.
[2012-12-07 06:08:03 -0500] aruntomar: jimjimovich: well, you can store the list of users anywhere eg: as a csv or yaml, or database or ldap and just connect to them and create users either directly using the "user" resource or create databag and then use it. choice is upto you.
[2012-12-07 06:09:22 -0500] jimjimovich: so many choices :)
[2012-12-07 06:12:06 -0500] ssd7: heya friends
[2012-12-07 06:17:58 -0500] jimjimovich: I'm trying to make a data bag following the instructions in the docs. I have a json file in data_bags/packages/standard.json  but when I call "knife data bag from file packages standard.json"  I get the error:  ERROR: The object you are looking for could not be found Response: No data bag 'packages' could be found. Please create this data bag before adding items to it.
[2012-12-07 06:18:43 -0500] aruntomar: jimjimovich: have u created the data bag named packages?
[2012-12-07 06:20:11 -0500] jimjimovich: aruntomar: I'm a bit confused about that, honestly. How do I do that?
[2012-12-07 06:21:20 -0500] BryanWB_: ohai chefs!
[2012-12-07 06:22:32 -0500] jimjimovich: okay, I ran "knife data bag create packages" ... is that creating the data bag on the server?
[2012-12-07 06:23:14 -0500] aruntomar: jimjimovich: yes
[2012-12-07 06:23:48 -0500] aruntomar: jimjimovich: the process is, first create the data bag and then create the data bag items
[2012-12-07 06:24:00 -0500] jimjimovich: aruntomar: thanks
[2012-12-07 06:24:44 -0500] jimjimovich: Thinking ahead ... I'm doing this all on hosted chef for testing out chef, but our university won't have money to pay for it. Will transferring all this work to our own chef server be relatively easy?
[2012-12-07 06:26:09 -0500] aruntomar: jimjimovich: you can deploy open source chef server on a machine or vm etc and use it
[2012-12-07 06:27:22 -0500] aruntomar: jimjimovich: migrating the nodes could be a pain, but regarding the source (cookbooks, databags etc) . you just need to configure your workstation to point to the new chef server and upload all the data. that's it.
[2012-12-07 06:28:41 -0500] jimjimovich: okay. thanks for the info. i'm just working with some test nodes at the moment. I wanted to test it out after spending 2 weeks trying to get puppet to do what I need. I'm finding chef much more suited for our needs.
[2012-12-07 06:28:56 -0500] ndowns: jimjimovich: I suggest starting here: http://wiki.opscode.com/display/chef/Installation
[2012-12-07 06:29:35 -0500] ndowns: jimjimovich: the instructions are well written and should take you through uploading all of your cookbooks, roles etc.
[2012-12-07 06:30:07 -0500] jimjimovich: great!  I'm finding the docs to be very nicely written.
[2012-12-07 06:30:48 -0500] jimjimovich: I want to test a few things out to make sure I can actually do what I need before installing the server myself.  I found installing the clients and workstations to be pretty straight forward
[2012-12-07 06:31:13 -0500] jimjimovich: we need to use it to manage some servers, but also about 40 Ubuntu desktops
[2012-12-07 06:31:29 -0500] ndowns: it should work well!
[2012-12-07 06:32:11 -0500] jimjimovich: is the open source chef basically the same as hosted chef?
[2012-12-07 06:32:18 -0500] jimjimovich: i mean the server
[2012-12-07 06:33:27 -0500] ndowns: I think the hosted chef version has additional stuff on the backend for opscode's hosting purposes.
[2012-12-07 06:33:41 -0500] ndowns: but end user wise, it works the same as far as I have noticed.
[2012-12-07 06:34:13 -0500] ndowns: we use open chef daily for managing hundreds of servers
[2012-12-07 06:34:47 -0500] jimjimovich: that's great. i'm starting to be really glad that i had that really frustrating day with puppet which made me start digging into chef!
[2012-12-07 06:35:35 -0500] ndowns: I had never used config management until I started at my current job. My old job used custom built RPM's and other scripts to manage servers.
[2012-12-07 06:35:39 -0500] ndowns: It was rough.
[2012-12-07 06:36:36 -0500] ssd7: jimjimovich: Hosted Chef also has a more elaborate access control system, will typically get new server-side features first, and will typically get varoius performance improvements and fixes first.  But, from a chef-client's perpsective, they are very very similar.
[2012-12-07 09:04:46 -0500] dkannan: gem_package does not accept param for user and group ? http://docs.opscode.com/chef/resources.html#package
[2012-12-07 09:37:26 -0500] ndonegan_: I'm having fun and games with a chef install where the expander log is showing a constant loop of Starting cluster worker 1 followed by worker 1 (PID: XXXX) died with status 1. Is there any way of getting the worker to the debug level. chef-expanderctl log-level debug is timing out :/
[2012-12-07 09:45:08 -0500] jeekl: How do you guys import certs into the java keystore from chef-cookbooks? Any cookbooks to recommend?
[2012-12-07 10:24:29 -0500] ndonegan: Problem turned out to be rabbitmq misbehaving.
[2012-12-07 10:43:52 -0500] KarlFreeman: Is there a way of setting a node attribute from a command? back ticks don't seem to be working
[2012-12-07 10:50:35 -0500] aruntomar: KarlFreeman: which commands output you would like to assign to node attrib?
[2012-12-07 10:51:12 -0500] KarlFreeman: I'm grep'ing over files to add to an array of files
[2012-12-07 10:59:49 -0500] aruntomar: KarlFreeman: well it takes the output of commands and assigns to attribs, i just tested it. will paste the gist
[2012-12-07 11:02:42 -0500] aruntomar: KarlFreeman: https://gist.github.com/4232537
[2012-12-07 11:26:27 -0500] jimjimovich: can you search for a match for an item inside a json array in a data bag?
[2012-12-07 11:27:28 -0500] jimjimovich: I'm making a data bag for my users and want to be able to assign one or more nodes to each user
[2012-12-07 11:38:51 -0500] jimjimovich: figured it out ... good docs!
[2012-12-07 11:45:11 -0500] AikiLinux: Hello , i am trying to find a way to combine resource from 2 recipes in the same cookbook to perform a task
[2012-12-07 11:47:25 -0500] AikiLinux: I have a recipe that adds files and subdirs to a directory,and then notifies a service to reload, that is in recipe A , in recipe B , there is the service declaration, i want to have a way to check that the new configuration file pass validation before the service action is triggered
[2012-12-07 11:51:02 -0500] BryanWB_: notifies(:service => "foo", :action => :restart)
[2012-12-07 12:03:11 -0500] AikiLinux: BryanWB_, was that for me ?
[2012-12-07 12:03:19 -0500] BryanWB_: AikiLinux: y
[2012-12-07 12:04:09 -0500] AikiLinux: then you missed the point of my post
[2012-12-07 12:05:08 -0500] AikiLinux: i do want to do the reload but only if a check that validates the configuration changes added by the other recipe
[2012-12-07 12:05:47 -0500] AikiLinux: has passed and exited with the code of 0 , if it failed i do not want the service the be notified
[2012-12-07 12:06:07 -0500] AikiLinux: or more to the point to, not to action the reload
[2012-12-07 12:06:14 -0500] masterkorp: AikiLinux: if the resource is set properly, that resource only only notifies other service if the same configuration changes
[2012-12-07 12:08:14 -0500] AikiLinux: as I said, the issue is that my recipe is adding new subdirs and files to a "parent" directory, so once it does that i want to run a validation check and only then reload the service
[2012-12-07 12:35:40 -0500] masterkorp: have a resource do a validation ??
[2012-12-07 12:38:23 -0500] zeroXten: anyway of getting ruby_block to execute Chef resources etc? I get errors like template not defined etc
[2012-12-07 12:44:12 -0500] zeroXten: ah http://tickets.opscode.com/browse/CHEF-2756
[2012-12-07 14:24:31 -0500] gchristensen: if I have a role which has another role in its run list, will those attributes be deep-merged?
[2012-12-07 14:38:34 -0500] gchristensen: I have these two roles, database and database-trailing. database sets up the general configuration, including the root and replication password, and then database-trailing includes that role. Here is a gist showing almost all the code: https://gist.github.com/220d5f1bd489835b4252 it seems that the attributes set in database are completely overwritten by the new role. Do attributes simply not get
[2012-12-07 14:38:36 -0500] gchristensen: merged in this case? Do I need to move mosto f these into a cookbook recipe?
[2012-12-07 14:59:01 -0500] dysinger: it's not possible to add node attributes in client.rb is it ?
[2012-12-07 14:59:29 -0500] dysinger: I can set node_name & chef_environment there but it's unclear if I can do more
[2012-12-07 15:00:27 -0500] dysinger: actually it's node_name and environment that end up morphing to name & chef_environment
[2012-12-07 15:10:49 -0500] jblaine: Where does a non-Ruby-developer start when wanting to start adding tests to cookbooks?
[2012-12-07 15:11:19 -0500] zeroXten: i'm trying to use the work around in http://tickets.opscode.com/browse/CHEF-2756 but I'm getting a "NoMethodError: undefined method `source=' for Chef::Resource::Template" error. Any suggestions?
[2012-12-07 15:11:32 -0500] jblaine: rspec/minitest/test-kitchen/cucumber-chef/jimbotest/mycooltool-of-the-week ...
[2012-12-07 15:12:30 -0500] jblaine: By non-ruby-developer I mean "Don't assume I already write Ruby code with tests"
[2012-12-07 15:13:01 -0500] BryanWB_: jblaine: minitest is the easiest to get started w/
[2012-12-07 15:14:54 -0500] jblaine: So this is where to start? https://github.com/btm/minitest-handler-cookbook
[2012-12-07 15:15:50 -0500] BryanWB_: jblaine: that's where i would start
[2012-12-07 15:15:57 -0500] jblaine: BryanWB: Thanks
[2012-12-07 15:16:16 -0500] BryanWB_: jblaine: i am pretty sure i have a blog post somehwhere about how to start writing tests w/ it
[2012-12-07 15:18:16 -0500] jblaine: BryanWB: Found it
[2012-12-07 15:21:03 -0500] BryanWB_: jblaine: iirc u need less boilerplate w/ newest version of minitest-chef gem
[2012-12-07 15:23:50 -0500] ssd7: Ohai Chefs
[2012-12-07 15:25:18 -0500] pattersonc: is there any docs on the data available in the new_resource obj when using deploy_resource?
[2012-12-07 15:25:55 -0500] gchristensen: I have these two roles, database and database-trailing. database sets up the general configuration, including the root and replication password, and then database-trailing includes that role. Here is a gist showing almost all the code: https://gist.github.com/220d5f1bd489835b4252 it seems that the attributes set in database are completely overwritten by the new role. Do attributes simply not get
[2012-12-07 15:25:57 -0500] gchristensen: merged in this case? Do I need to move most of these into a cookbook recipe?
[2012-12-07 15:29:24 -0500] awgross: Anyone have some good practices for how to get consistent commit hooks when keeping each cookbook as a separate repo w/ Berkshelf?
[2012-12-07 15:40:01 -0500] sunil_: is there a way to find out what run_lists a client from the client machine?  first-boot.json only has the main role name but not the expanded role name..
[2012-12-07 15:40:23 -0500] barnacles_: gchristensen: the database-trailing role is overwriting the database attributes, isn't that the desired behavior?
[2012-12-07 15:43:29 -0500] jblaine: sunil_: Run chef-client in whyrun mode?
[2012-12-07 15:43:53 -0500] sunil_: ooh whats that? whyrun
[2012-12-07 15:48:15 -0500] barnacles_: "In short, whyrun tells you why Chef would make changes to your system, without executing the changes"
[2012-12-07 15:48:16 -0500] sunil_: good stuff..
[2012-12-07 15:51:17 -0500] jackl0phty: @BryanWB_ Yo what up dude?  I'm writing a syslog-ng cookbook trying to use ark to compile from source. Need to pass configure an env var. How I do that?
[2012-12-07 15:51:53 -0500] jackl0phty: I tried the environment option. it says must be kind of hash! Can't I pass it an attribute?
[2012-12-07 15:52:05 -0500] gchristensen: barnacles_: idealy I'd like to have them merge, applying the root and repl passwords, cache sizes, etc. when I set them both to default_attributes() or override_attributes() the -trailing role still ignores the passwords.
[2012-12-07 15:54:00 -0500] barnacles_: gchristensen: Ahh
[2012-12-07 15:54:46 -0500] BryanWB_: jackl0phty: environment attribute
[2012-12-07 15:55:20 -0500] jackl0phty: @BryanWB_ oh yea. let me try that.
[2012-12-07 15:55:34 -0500] BryanWB_: jackl0phty:    environment  { :JAVA_HOME => "/usr/local/foo" }       becomes JAVA_HOME=/usr/local/foo
[2012-12-07 15:55:57 -0500] gchristensen: barnacles_: I'd like for it to override the max_connections and cache_size, but otherwise use the settings from the database role.
[2012-12-07 15:56:29 -0500] jackl0phty: @BryanWb_ ahh think I got it.  Syntax was off.
[2012-12-07 15:56:41 -0500] BryanWB_: gr8
[2012-12-07 16:01:38 -0500] barnacles_: gchristensen: Not sure why it's doing that. http://wiki.opscode.com/display/chef/Deep+Merge
[2012-12-07 16:01:53 -0500] barnacles_: gchristensen: have you tried setting them both as override attributes, just to see
[2012-12-07 16:02:13 -0500] gchristensen: I remember doing that, but I may be lying to myself. I'll do it now just to make sure.
[2012-12-07 16:06:08 -0500] barnacles_: gchristensen: let me make those roles and try it out as well
[2012-12-07 16:08:51 -0500] barnacles_: gchristensen: the gist you sent worked for me...it keeps all the attributes and merges them as you want
[2012-12-07 16:09:16 -0500] gchristensen: huh. well I guess I'm doing something wrong :P
[2012-12-07 16:10:09 -0500] barnacles_: gchristensen: try excluding the mysql cookbook and see how the attributes come out
[2012-12-07 16:10:43 -0500] gchristensen: will do
[2012-12-07 16:13:49 -0500] eka: q: how to put many cookbooks together ? example, need to install nginx and mongo db?
[2012-12-07 16:14:55 -0500] barnacles_: eka: Using roles. http://docs.opscode.com/essentials_roles.html
[2012-12-07 16:15:08 -0500] eka: barnacles_: thanks... I meant ... directory wise
[2012-12-07 16:15:19 -0500] barnacles_: eka: lol...
[2012-12-07 16:15:35 -0500] eka: barnacles_: but that I will need also
[2012-12-07 16:15:38 -0500] eka: :)
[2012-12-07 16:16:24 -0500] awgross: listening to "Reusable Cookbooks" on youtube, "nginx's is turing complete and awful" <- this
[2012-12-07 16:16:44 -0500] eka: sorry new to chef... I mean each cookbook has a directory tree inside right... so at the same level can I put nginx/ mongodb/ mycookbook/ and they will be able to relate each other?
[2012-12-07 16:19:57 -0500] awgross: eka: correct, if your cookbooks/ directory has each of those inside of it
[2012-12-07 16:20:12 -0500] awgross: you shouldn't have to many issues
[2012-12-07 16:20:16 -0500] awgross:  (at a small scale)
[2012-12-07 16:20:27 -0500] eka: awgross: so I can create my own that refers to nginx and mongodb etc... right?
[2012-12-07 16:20:51 -0500] awgross: eka: you should be, but make sure you update the metadata with the appropriate depends line
[2012-12-07 16:21:00 -0500] eka: awgross: thanks
[2012-12-07 16:21:56 -0500] barnacles_: gchristensen: how's it going? Get it working?
[2012-12-07 16:23:16 -0500] gchristensen: barnacles_: still bootstrapping the server :P I took out most of the recipes to see how it comes together without them.
[2012-12-07 16:23:47 -0500] barnacles_: gchristensen: ahh ok
[2012-12-07 16:24:15 -0500] _Legion_: I am wondering if any chance opscode is doing something like education.10gen.com in a near future?
[2012-12-07 16:25:16 -0500] gchristensen: okay, so that was a good test, barnacles_ - the attributes merged as I was hoping. I suppose at this point I need to start debugging the recipes.
[2012-12-07 16:26:11 -0500] barnacles_: gchristensen: Interesting, good luck
[2012-12-07 16:26:19 -0500] gchristensen: thank you for your help!
[2012-12-07 16:26:25 -0500] barnacles_: gchristensen: no problem
[2012-12-07 16:29:48 -0500] eka: is there any tutorial on how to put some cookbooks together?
[2012-12-07 16:34:37 -0500] aruntomar: eka: http://wiki.opscode.com/display/chef/Home
[2012-12-07 16:34:55 -0500] eka: aruntomar: yea... too much... lol
[2012-12-07 16:35:42 -0500] aruntomar: eka: you'll have to understand it if you want to use it
[2012-12-07 16:36:34 -0500] eka: aruntomar: ok
[2012-12-07 16:43:40 -0500] zuazo: $ ohai!
[2012-12-07 16:45:39 -0500] jtimberman: _Legion_: we're working on expanding and improving our training program, but it's still too early to discuss
[2012-12-07 16:46:53 -0500] _Legion_: jtimberman: thanks for the answer.
[2012-12-07 16:49:36 -0500] _0x783czar: I'm still a bit green with ruby, but for some reason my template file is failing when I try my chef-run.  I'm getting an error "can't convert Symbol into Integer".  The only part of my template with any ruby in it is this "export LOCAL_IP=<%= node[:network][:interfaces][:eth0][:routes][:src] %>"  Any ideas what this means?
[2012-12-07 16:52:28 -0500] gchristensen: barnacles_: at this point I'm starting to question my eyes ("was it ever wrong?") - it seems to be working like a dream now. thank you so much!
[2012-12-07 16:52:51 -0500] barnacles_: gchristensen: No problem, that happens
[2012-12-07 16:53:37 -0500] barnacles_: _0x783czar: You'll need a [0] or something between your [:routes][:src] (i'm assuming). So something like node[:network][:interfaces][:eth0][:routes][0][:src] maybe?
[2012-12-07 16:54:21 -0500] _0x783czar: barnacles_: hmmm....
[2012-12-07 16:54:45 -0500] barnacles_: _0x783czar: Just guessing though, based on what my attribute setup looks like.
[2012-12-07 17:05:02 -0500] seif: hello, I just installed knife-windows (by running "gem install knife-windows") but I dont see any new commands added to knife, which I run "knife --help | grep win" I get nothing. Installing on Windows 7 with ruby193 and chef 10.16.2
[2012-12-07 17:05:15 -0500] seif: any tips where to look to find out what is going on?
[2012-12-07 17:05:44 -0500] _0x783czar: barnacles_: yup, I think that was it
[2012-12-07 17:06:00 -0500] barnacles_: _0x783czar: awesome, glad it's working for you
[2012-12-07 17:06:28 -0500] _0x783czar: barnacles_: yup, I think that was it
[2012-12-07 17:06:36 -0500] _0x783czar: oops, sent that twice
[2012-12-07 17:06:44 -0500] barnacles_: _0x783czar: awesome, glad it's working for you
[2012-12-07 17:06:44 -0500] _0x783czar: barnacles_: thanks for the help
[2012-12-07 17:06:47 -0500] barnacles_: oops me too ;)
[2012-12-07 17:06:51 -0500] _0x783czar: haha
[2012-12-07 17:06:54 -0500] barnacles_: no problem
[2012-12-07 17:25:49 -0500] teukka: is there a way to enforce resource evaluatation at compile time for an lwrp without the need to call run_action for it?
[2012-12-07 17:26:04 -0500] seif: right, so chef-client on windows get installed with an embedded ruby interpretter, any way to tell it not to use the embedded one?
[2012-12-07 17:26:12 -0500] teukka: my lwrp creates other resources that I need to be queued
[2012-12-07 17:41:28 -0500] teukka: ok, should be possible by defining #after_created for the resource. with the price of missed notifications, which is fine for me
[2012-12-07 17:45:31 -0500] Virunga: Hi, when i try to replicate the example about the jsonFile report handler i get an error http://ideone.com/JoK4O9 . Did anyone meet this error before? Could help me, please?
[2012-12-07 17:46:22 -0500] Virunga: TypeError: can't convert nil into String
[2012-12-07 17:46:41 -0500] Virunga: Is the report bad-formed ?
[2012-12-07 17:49:27 -0500] ranjibd: does the validation key in hosted chef behaves stored differently ?
[2012-12-07 17:50:18 -0500] ranjibd: our validation key has stopped working.. and `knife client show org-validator -a public_key` shows nothing
[2012-12-07 17:50:31 -0500] ranjibd: not sure sure if thats normal
[2012-12-07 17:51:02 -0500] awgross: ranjibd: do a knife client list
[2012-12-07 17:51:28 -0500] awgross: if your validator doesn't show up in the list
[2012-12-07 17:51:33 -0500] awgross: then you need to rekey
[2012-12-07 17:51:42 -0500] awgross: you can regenerate your keys on the opscode website
[2012-12-07 17:51:49 -0500] ranjibd: awgross, i can see the validation client via `knife client list`, but knife client show , shows the publick key field as empty
[2012-12-07 17:51:58 -0500] awgross: ranjibd: very strange
[2012-12-07 17:52:27 -0500] ranjibd: awgross, yes i can, but then i have to re distribute it across the team members
[2012-12-07 17:52:43 -0500] awgross: true
[2012-12-07 17:53:07 -0500] ranjibd: awgross, so you mean this is not normal? I'll raise a support ticket
[2012-12-07 17:53:52 -0500] awgross: ranjibd: well
[2012-12-07 17:53:58 -0500] awgross: ranjibd: my public key is blank as well
[2012-12-07 17:54:05 -0500] awgross: ranjibd: so i think you are having a different issue
[2012-12-07 17:57:26 -0500] ranjibd: oh.. alright
[2012-12-07 18:00:42 -0500] kindsol: Chef Development workflow survey still open (one question) http://www.surveymonkey.com/s/L5892ZQ
[2012-12-07 18:00:42 -0500] kindsol: I've got 50 responses, so I will publish the results to the mailing list today at noon PST.  If haven't already please take 2min and help get more data. Last chance and thanks!
[2012-12-07 18:01:29 -0500] awgross: yfeldblum: hey, quick question.  How do you handle standardizing git hooks across your many cookbooks, since they are all separate repos (when using librarian-chef)
[2012-12-07 18:02:40 -0500] Virunga: Guys, could anyone help with that json error?
[2012-12-07 18:05:16 -0500] jbz: Virunga:  Just joined, can you repost?  (no guarantees but willing to have a butcher)
[2012-12-07 18:05:59 -0500] Virunga: When i try to replicate the example about the jsonFile report handler i get an error http://ideone.com/JoK4O9 . Did anyone meet this error before? Could help me, please?
[2012-12-07 18:06:06 -0500] Virunga: jbz: thanks!
[2012-12-07 18:06:20 -0500] kindsol: Virunga: my guess would be that the report is, as you say, bad-formed
[2012-12-07 18:06:33 -0500] Virunga: kindsol: it isn't i validated it!
[2012-12-07 18:06:45 -0500] Virunga: Valid JSON.
[2012-12-07 18:06:57 -0500] kindsol: posting the report might be helpful.  just make sure there is no sensitive information in it
[2012-12-07 18:07:12 -0500] kindsol: hmmmm
[2012-12-07 18:07:14 -0500] jbz: Virunga:  Whenever I get that error, it's almost always because some variable the code expects wasn't set and is thus nil
[2012-12-07 18:08:04 -0500] Virunga: kindsol: i validate it on JSONLint.com and it doesn't allow to share the result, but i can show you a screenshot if you want .
[2012-12-07 18:08:27 -0500] kindsol: i trust you ;)
[2012-12-07 18:08:58 -0500] Virunga: jbz: could be a bug of chef in your opinion?
[2012-12-07 18:09:17 -0500] zuazo: Virunga: check if IO.read is reading the file properly
[2012-12-07 18:09:22 -0500] jbz: Virunga:  While it certainly *could* be, it never has been in my experience
[2012-12-07 18:09:30 -0500] kindsol: i don't understand why the template resource code is involved at all
[2012-12-07 18:09:30 -0500] Virunga: zaiste: did it. It does.
[2012-12-07 18:10:37 -0500] Virunga: Zeelot: oh, do you mean if it reads the file?
[2012-12-07 18:10:48 -0500] Virunga: Or if it did but not properly?
[2012-12-07 18:11:11 -0500] Virunga: I didn't though to the second option
[2012-12-07 18:11:24 -0500] zuazo: Virunga: yes, check what IO.read is returning
[2012-12-07 18:11:30 -0500] zuazo: just in case
[2012-12-07 18:12:09 -0500] Virunga: yes, did it. :(
[2012-12-07 18:12:46 -0500] Virunga: Look at this http://ideone.com/nehVik
[2012-12-07 18:13:17 -0500] Virunga: JSON::ParserError: 710: unexpected token at 'var/chef/reports/chef-run-report-20121207172932.json'
[2012-12-07 18:13:43 -0500] Virunga: The / is absent, can be this?
[2012-12-07 18:13:45 -0500] Virunga: Moh..
[2012-12-07 18:14:22 -0500] hasp-air: hey guys, not sure if folks knew about this, but i just saw it.  REally cool to see Riot Games putting their stuff out there
[2012-12-07 18:14:23 -0500] hasp-air: https://github.com/RiotGames
[2012-12-07 18:15:00 -0500] Virunga: God, i'm desperate.
[2012-12-07 18:15:08 -0500] awgross: hasp-air: check out berkshelf.com
[2012-12-07 18:15:12 -0500] barnacles_: hasp-air: oh cool
[2012-12-07 18:15:25 -0500] hasp-air: awgross: lemme check it out
[2012-12-07 18:15:40 -0500] zuazo: Virunga: no, you removed the IO.read in this second parsing example
[2012-12-07 18:15:51 -0500] barnacles_: RiotGames made berkshelf? woa
[2012-12-07 18:16:19 -0500] Virunga: zuazo: yes, to see whether it worked.
[2012-12-07 18:16:20 -0500] hasp-air: awgross: sweet
[2012-12-07 18:16:32 -0500] hasp-air: thats nice right there
[2012-12-07 18:16:34 -0500] hasp-air: very nice
[2012-12-07 18:16:39 -0500] hasp-air: thanks for the hook up
[2012-12-07 18:18:16 -0500] Virunga: Well, thank you for you support guys! :)
[2012-12-07 18:24:12 -0500] daneroo: is there a good way to 'wait until a condition is true' before going on with a recipe, (or sending a notify of some kind to a block)
[2012-12-07 18:26:55 -0500] caryp: Virunga: maybe use File.read() instead of IO.read()
[2012-12-07 18:27:07 -0500] Virunga: caryp: i'll try.
[2012-12-07 18:27:14 -0500] caryp: http://ruby.about.com/od/tasks/a/The-Json-Gem.htm
[2012-12-07 18:30:50 -0500] devinus: can anybody convince me to use Chef over Salt?
[2012-12-07 18:31:27 -0500] barnacles_: devinus: devinus I am the future you. Please you must use chef over salt!
[2012-12-07 18:31:32 -0500] Virunga: caryp: thanks for your advide.
[2012-12-07 18:31:46 -0500] Virunga: I'm making an installation now and then i'll try.
[2012-12-07 18:31:50 -0500] devinus: barnacles_ :)
[2012-12-07 18:32:55 -0500] awgross: devinus: we looked at it (granted, after having started using chef) and the main turn off for us was that it was not nearly as mature and did not seem to have as large of a community around it.
[2012-12-07 18:33:14 -0500] awgross: devinus: we were excited for it because we are a python shop and liked the idea of being all python instead of python/ruby
[2012-12-07 18:33:37 -0500] awgross: devinus: We didn't dig in super far to get a good contrast on the technical merits however
[2012-12-07 18:40:55 -0500] zuazo: Virunga: looking at your initial example, the problem seems to be in the name of a template
[2012-12-07 18:41:08 -0500] zuazo: apparently has no name
[2012-12-07 18:41:27 -0500] Virunga: zuazo: do you mean the path name is wrong?
[2012-12-07 18:41:44 -0500] zuazo: the template resource name
[2012-12-07 18:41:50 -0500] zuazo: template "my_name" do ...
[2012-12-07 18:41:50 -0500] Virunga: oh
[2012-12-07 18:43:10 -0500] eka: awgross: is this usually used with chef-solo? https://github.com/opscode/chef-repo
[2012-12-07 18:43:50 -0500] awgross: eka: yeah, i started with something like that
[2012-12-07 18:43:58 -0500] awgross: it makes it easy when learning to have everything in once place
[2012-12-07 18:44:02 -0500] Virunga: zuazo: the name of a template resource inside a recipe is wrong.
[2012-12-07 18:44:04 -0500] eka: awgross: ok thanks
[2012-12-07 18:44:25 -0500] awgross: eka: are you going to be using Chef-Solo with Vagrant?
[2012-12-07 18:44:39 -0500] Virunga: zuazo: i mean, there's a template without name, is this the problem?
[2012-12-07 18:44:51 -0500] Virunga: I'll check the recipe i made...
[2012-12-07 18:45:03 -0500] eka: awgross: with vagrant just for developing the cookbooks... chef-solo will be used for our servers at linode
[2012-12-07 18:45:04 -0500] zuazo: yes, it seems
[2012-12-07 18:45:24 -0500] eka: awgross: will use fabric to execute it remotely
[2012-12-07 18:45:27 -0500] awgross: eka: ok, I recommend using Chef-Server once you get over a few servers, but your decision
[2012-12-07 18:45:37 -0500] eka: awgross: why?
[2012-12-07 18:45:43 -0500] Virunga: zuazo: thank you so much. I was in dead end.
[2012-12-07 18:45:52 -0500] awgross: eka: it allows you to run Chef-Client as a daemon, we have ours executing every half hour
[2012-12-07 18:46:15 -0500] awgross: eka: prevents us from forgetting to update a server for some reason, then runnign chef-client ourselves and getting surprised
[2012-12-07 18:46:38 -0500] awgross: eka: additionally you have access to search, which is nice for orchestration
[2012-12-07 18:46:41 -0500] zuazo: Virunga: ur welcome ;)
[2012-12-07 18:46:55 -0500] eka: awgross: ok so maybe that would be a version 2 :)
[2012-12-07 18:46:56 -0500] awgross: eka: finally, most of the tools and tutorials for more advanced usage all expect Chef-Server
[2012-12-07 18:47:10 -0500] awgross: eka: exactly, use Chef-Solo while you get your head around things, it is more straightforward
[2012-12-07 18:49:43 -0500] ranjibd: Virunga, try parsing it with mixlib-json
[2012-12-07 18:51:58 -0500] Virunga: ranjibd: i'll try, thanks! I'm going to eat.
[2012-12-07 18:58:47 -0500] poolpog: HI
[2012-12-07 18:59:03 -0500] poolpog: so, in the "groups" resource, there are a few possible actions...
[2012-12-07 18:59:19 -0500] poolpog: what is the difference betweeen the "manage" and the "modify" actions?
[2012-12-07 18:59:23 -0500] poolpog: is there a document on that?
[2012-12-07 18:59:25 -0500] poolpog: thanks
[2012-12-07 18:59:41 -0500] poolpog: http://wiki.opscode.com/display/chef/Resources#Resources-Group
[2012-12-07 18:59:48 -0500] poolpog: (for reference)
[2012-12-07 19:00:52 -0500] isotope: is it okay to use multiple not_if statements in a single recipe?
[2012-12-07 19:01:25 -0500] barnacles_: isotope: how are you using them? In different resources? Sure
[2012-12-07 19:01:29 -0500] btm: Epic @Opscode Cookbook Code Review begins live. join: http://bit.ly/RePDaH, watch: http://youtu.be/xfnhn0snrno
[2012-12-07 19:02:45 -0500] isotope: in the same resource
[2012-12-07 19:03:06 -0500] isotope: I want to check multiple conditions
[2012-12-07 19:03:29 -0500] isotope: I can do it in a single not_if using &&
[2012-12-07 19:03:53 -0500] barnacles_: isotope: but visually you want to see if it's possible with multiple?
[2012-12-07 19:04:06 -0500] isotope: yeah I just think its cleaner
[2012-12-07 19:04:34 -0500] isotope: also will it respect both not_if
[2012-12-07 19:04:58 -0500] isotope: so if the first not_if statment is true and the second is false
[2012-12-07 19:05:20 -0500] isotope: I guess I'll just test it out
[2012-12-07 19:05:24 -0500] barnacles_: isotope: yea lol
[2012-12-07 19:05:36 -0500] isotope: Doh!
[2012-12-07 19:05:44 -0500] isotope: I'll get back to you with the results
[2012-12-07 19:07:09 -0500] poolpog: what cookbooks and code are you reviewing right now, bryan mclellan and crew?
[2012-12-07 19:07:35 -0500] poolpog: also, is this basically just Opscode's developer sprint meetings?
[2012-12-07 19:07:50 -0500] poolpog: also, also, is there a "Hangout" address?
[2012-12-07 19:07:54 -0500] poolpog: sorry, URL
[2012-12-07 19:08:10 -0500] awgross: poolpog: http://bit.ly/RePDaH is the hangout
[2012-12-07 19:08:19 -0500] poolpog: cool, thanks
[2012-12-07 19:08:25 -0500] awgross: poolpog: they are just reviewing bug fixes for various cookbooks
[2012-12-07 19:08:54 -0500] poolpog: thanks, I'm just curious
[2012-12-07 19:14:15 -0500] poolpog: thanks for the info... Is there a way we can leverage this cookbook review thing to have our own cookbooks reviewed?
[2012-12-07 19:14:39 -0500] poolpog: or is bug-specific, or is it only cookbooks we are sharing with the community, or what?
[2012-12-07 19:14:57 -0500] _0x783czar: The hangout feed is only showing his face, not the code... :(
[2012-12-07 19:15:02 -0500] awgross: poolpog: they are reviewing fixes submitted to cookbooks at github.com/opscode-cookbooks/
[2012-12-07 19:15:07 -0500] poolpog: ok
[2012-12-07 19:15:11 -0500] awgross: poolpog: there is such a thing as Chef Office Hours
[2012-12-07 19:15:12 -0500] barnacles_: isotope: got any results?
[2012-12-07 19:15:18 -0500] awgross: poolpog: i dont knwo when that runs however
[2012-12-07 19:15:23 -0500] poolpog: ok
[2012-12-07 19:15:47 -0500] poolpog: this is all very interesting to me, so I apologize if I fire off too many questions at once
[2012-12-07 19:16:03 -0500] awgross: poolpog: np
[2012-12-07 19:23:53 -0500] Ravi_Nanjegowda: hi
[2012-12-07 19:24:11 -0500] Ravi_Nanjegowda: [root@ip-10-253-7-123 subsys]# /usr/bin/chef-server-webui
[2012-12-07 19:24:12 -0500] Ravi_Nanjegowda: Merb root at: /usr/lib64/ruby/gems/1.8/gems/chef-server-webui-10.16.2
[2012-12-07 19:24:14 -0500] Ravi_Nanjegowda:  ~ No Gemfile found! If you're generating new app with merb-gen this is fine, otherwise run: bundle init to create Gemfile
[2012-12-07 19:24:15 -0500] Ravi_Nanjegowda: Loading init file from ./config/init.rb
[2012-12-07 19:24:16 -0500] Ravi_Nanjegowda: /usr/lib/ruby/1.8/net/http.rb:560:in `initialize': Error connecting to http://locahost:4000/users/admin - getaddrinfo: Name or service not known (SocketError)
[2012-12-07 19:24:18 -0500] Ravi_Nanjegowda: from /usr/lib/ruby/1.8/net/http.rb:560:in `open'
[2012-12-07 19:24:46 -0500] Ravi_Nanjegowda: anyone help me on this?
[2012-12-07 19:25:47 -0500] zuazo: Ravi_Nanjegowda: "locahost" should be "localhost"
[2012-12-07 19:29:35 -0500] Virunga: ranjibd: it worked, thank you!!!!!!! But why?
[2012-12-07 19:36:13 -0500] Ravi_Nanjegowda: Thanks zuarzo
[2012-12-07 19:36:30 -0500] Ravi_Nanjegowda: That was stupid mistake i made, couldnt figure out
[2012-12-07 19:37:05 -0500] Virunga: It didn't work properly though, the :node key returns nil
[2012-12-07 19:37:10 -0500] Virunga: Uff
[2012-12-07 19:37:13 -0500] Virunga: :(
[2012-12-07 19:37:58 -0500] zuazo: Ravi_Nanjegowda: np, sometimes happens :)
[2012-12-07 20:03:32 -0500] danryan: Yo chefs, are not_if/only_if blocks run at compile or execution time?
[2012-12-07 20:03:32 -0500] siezer: converge time
[2012-12-07 20:03:32 -0500] danryan: snaps
[2012-12-07 20:03:33 -0500] danryan: siezer: thanks!
[2012-12-07 20:03:33 -0500] siezer: np!
[2012-12-07 20:03:33 -0500] jbz: siezer: http://i.imgur.com/yTsWl.png
[2012-12-07 20:03:33 -0500] jbz: danryan: Ooh, good Q.  I was about to answer off the top of my head and went ".uh, wait."
[2012-12-07 20:03:34 -0500] siezer: jbz thanks I've been trying to find that actually =)
[2012-12-07 20:03:34 -0500] jbz: siezer: Heh I hacked that together a while back
[2012-12-07 20:03:34 -0500] jbz: Forgot to put 'apologies to xkcd' on that version :-P
[2012-12-07 20:03:34 -0500] danryan: Any good examples of using ruby_block for conditional resources?
[2012-12-07 20:03:34 -0500] miah: BryanWB_: want me to throw something at him?
[2012-12-07 20:03:35 -0500] BryanWB_: ha, u cud ;)
[2012-12-07 20:03:47 -0500] danryan: I have a recipe that just installs a bunch of gem deps, but not all are needed if a server doesn't have a recipe/role in its run_list. I feel like ruby_block would be the right thing to use
[2012-12-07 20:04:11 -0500] jbz: danryan:  IIRC only ruby code *outside resoruces* is executed at compile
[2012-12-07 20:04:33 -0500] jbz: implying that ruby code *within* resources is executed at execution time
[2012-12-07 20:04:52 -0500] BryanWB_: u could ask him how provision in chef-workflow-testlib knows when `provision(role)` can account for a webapp that takes a long time to boot
[2012-12-07 20:05:03 -0500] BryanWB_: miah: ^^
[2012-12-07 20:05:17 -0500] BryanWB_: besides adding a godawful sleep statement into a recipe
[2012-12-07 20:06:04 -0500] danryan: jbz: right, I think that's what I want (maybe?). I'm just worried the recipe it looks for won't be in the run list yet
[2012-12-07 20:06:19 -0500] danryan: though I'm pretty sure I'm wrong
[2012-12-07 20:06:32 -0500] danryan: node and its attrs should be complete at convergence...
[2012-12-07 20:07:45 -0500] chewie71: Question about knife bootstrap.  I need to set bootstrap-proxy for it to download from opscode.  That part works.  At the end though when it tries to register with my internal chef-server it fails...I'm assuming because it's still trying to go out through the proxy.  Is there a way to get around this?
[2012-12-07 20:17:56 -0500] chewie71: Question about knife bootstrap.  I need to set bootstrap-proxy for it to download from opscode.  That part works.  At the end though when it tries to register with my internal chef-server it fails...I'm assuming because it's still trying to go out through the proxy.  Is there a way to get around this?
[2012-12-07 20:21:14 -0500] chewie71: The only solution I have at the moment is run knife bootstrap twice....first time with bootstrap-proxy so it can connect to Opscode and run until it fails to register with the chef-server....second time without bootstrap-proxy where it will then finish and register with the chef-server....  any other ideas?
[2012-12-07 20:33:56 -0500] Virunga: I think i understood the problem. It's a God damn bug.
[2012-12-07 20:34:18 -0500] Virunga: Look at this https://github.com/opscode/chef/blob/master/lib/chef/resource.rb#L653
[2012-12-07 20:34:31 -0500] Virunga: "@name" should be "name"
[2012-12-07 20:34:37 -0500] Virunga: :D
[2012-12-07 20:38:24 -0500] Virunga: Yep, i just modified the source code and it worked.
[2012-12-07 20:39:40 -0500] zuazo: Virunga: perhaps you should open a ticket about it
[2012-12-07 20:40:21 -0500] Virunga: zaiste: i'll do it, after some other research and test.
[2012-12-07 20:40:30 -0500] Virunga: node is still nil and i don't know why
[2012-12-07 20:40:33 -0500] oddover: Hi chefs. If I want to only do something after a package gets installed (not a specific pkg, but *any* pkg), how would I do that?
[2012-12-07 20:40:47 -0500] Virunga: But it doesn't give error.
[2012-12-07 20:40:59 -0500] oddover: My first thought is to use the subscribes attribute
[2012-12-07 20:48:34 -0500] uncommitted: how do I resolve this error? FATAL: NameError: uninitialized constant Chef::Recipe::Opscode
[2012-12-07 20:48:47 -0500] uncommitted: I've got the latest openssl cookbook
[2012-12-07 20:53:05 -0500] ssd7: uncommitted: Can you post more of the stack trace somewhere (might need to run with -ldebug to get the stack trace)?
[2012-12-07 20:56:52 -0500] uncommitted: sure, here's the entire trace http://pastebin.com/ZVnufQiK
[2012-12-07 20:59:06 -0500] _0x783czar: oddover: what would you be wanting to do?  Perhaps you could write a definition
[2012-12-07 21:01:14 -0500] oddover: _0x783czar: What I'm looking to do is rebuild the whatis database everytime a new package is installed
[2012-12-07 21:05:28 -0500] _0x783czar: well, in a definition you can chain two resources together.  It might not be the ideal solution, but it's the first one that comes to mind.
[2012-12-07 21:06:17 -0500] _0x783czar: so you would basically create a definition that would wrap the package resource and then run a ruby_block resource which would then rebuild the database.
[2012-12-07 21:06:34 -0500] _0x783czar: Although, I want to believe there's an easier way...
[2012-12-07 21:06:40 -0500] oddover: hmm. I dont really think I need to to be a definition. I'd rather do it in a recipe if possible.
[2012-12-07 21:06:41 -0500] _0x783czar: or a better way.
[2012-12-07 21:06:45 -0500] uncommitted: include the openssl recipe and that fixes that part
[2012-12-07 21:11:45 -0500] isotope: The answer to my previous question was yes you can use multiple not_if statements in a single resource
[2012-12-07 21:11:53 -0500] isotope: it will respect both
[2012-12-07 21:11:56 -0500] zuazo: uncommitted: I would say the gitolite recipe needs a "depends openssl"
[2012-12-07 21:12:18 -0500] uncommitted: zuazo: you are correct, that solved it
[2012-12-07 21:12:20 -0500] _0x783czar: isotope: will it 'and' them together?
[2012-12-07 21:14:57 -0500] barnacles_: isotope: awesome, thanks for testing that
[2012-12-07 21:16:13 -0500] isotope: I tested it with one true and one false in result in different orders
[2012-12-07 21:16:47 -0500] isotope: as long as there is at least one true result it won't execute
[2012-12-07 21:16:53 -0500] isotope: which is what I was hoping for
[2012-12-07 21:17:28 -0500] _0x783czar: isotope: cool so it is an and
[2012-12-07 21:17:40 -0500] isotope: yes it is
[2012-12-07 21:18:05 -0500] barnacles_: isotope: did you try a combination of not_if and only_if?
[2012-12-07 21:18:11 -0500] zuazo: an "or" for not_if's
[2012-12-07 21:18:15 -0500] isotope: no
[2012-12-07 21:18:30 -0500] isotope: just 2 not_if's one with a true result, one with fals
[2012-12-07 21:18:32 -0500] isotope: e
[2012-12-07 21:18:42 -0500] barnacles_: k
[2012-12-07 21:19:37 -0500] zuazo: AFAIK all conditions must be met, all only_if and not_if conditions
[2012-12-07 21:20:56 -0500] _0x783czar: zuazo: I've used one not_if and one only_if before and found that they are ANDed together
[2012-12-07 21:21:13 -0500] _0x783czar: but I've never used multiple of each, good to know that it works
[2012-12-07 21:26:28 -0500] jaycole: I need assistance diagnosing this issue:  I'm using the opscode cookbook for installing rabbitmq and when i chef my box i get this:
[2012-12-07 21:26:28 -0500] jaycole: ...
[2012-12-07 21:26:28 -0500] jaycole: [2012-12-07T13:15:43-08:00] FATAL: Stacktrace dumped to /var/chef/cache/chef-stacktrace.out
[2012-12-07 21:26:29 -0500] jaycole: [2012-12-07T13:15:43-08:00] FATAL: NoMethodError: undefined method `default_action' for #<Class:0x7f8c21d40c60>
[2012-12-07 21:26:29 -0500] jaycole: $ head /var/chef/cache/chef-stacktrace.out
[2012-12-07 21:26:29 -0500] jaycole: Generated at Fri Dec 07 13:15:43 -0800 2012
[2012-12-07 21:26:29 -0500] jaycole: NoMethodError: undefined method `default_action' for #<Class:0x7f8c21d40c60>
[2012-12-07 21:26:30 -0500] jaycole: /var/chef/cache/cookbooks/rabbitmq/resources/plugin.rb:21:in `class_from_file'
[2012-12-07 21:26:30 -0500] jaycole: ...
[2012-12-07 21:26:31 -0500] jaycole: ideas?
[2012-12-07 21:27:19 -0500] miah: which version of chef are you running?
[2012-12-07 21:27:54 -0500] miah: my guess is its something before chef 0.10.10
[2012-12-07 21:28:12 -0500] jaycole: chef 10.8
[2012-12-07 21:28:16 -0500] miah: there you go
[2012-12-07 21:28:19 -0500] jaycole: boom
[2012-12-07 21:28:37 -0500] jaycole: thx.   lemme look into updating.
[2012-12-07 21:28:58 -0500] miah: http://tickets.opscode.com/browse/CHEF-1789
[2012-12-07 21:29:20 -0500] jaycole: nice.
[2012-12-07 21:35:47 -0500] magoo_: is the database cookbook in the opscode repo the best source for a database and database_user resource?
[2012-12-07 21:37:15 -0500] magoo_: i'm already using the postgres cookbook combined with some scripts for adding the application database and user but I'd like to move to using a resource for that
[2012-12-07 21:39:37 -0500] magoo_: i also found this: https://github.com/coroutine/chef-postgresql which uses the database and database_user resource but there's a PR in the queue to remove them in favor of manual user and db creation. Not sure I understand the point of that
[2012-12-07 21:43:22 -0500] scotthn: heya. has anyone had any issues with knife bootstrap not sourcing the path correctly and not finding sudo? i'm sure i'm doing something stupid...
[2012-12-07 21:46:52 -0500] troyready: scotthn: can't say that I have. In my experience, things are executed just as I'd expect with my login shell and environment variables
[2012-12-07 21:48:10 -0500] scotthn: troyready: yeah I've had success on various linux flavors, i'm now having issues with solaris 10.
[2012-12-07 22:40:17 -0500] cek: wondering why is puppet having 2600 issues open
[2012-12-07 22:41:40 -0500] programmerq: so, we're looking into knife-block. It seems to do a good job of managing knife.rb files, but it seems to leave managing keys up to the user.
[2012-12-07 22:42:12 -0500] programmerq: can anyone shed some light on a knife-block workflow with regard to the keys associated with the knife.rb files?
[2012-12-07 22:42:54 -0500] mattray: if anyone is using spiceweasel, I have a compelling reason to spend the next 4 days writing version 2.0, so send any feature ideas please
[2012-12-07 22:43:33 -0500] makmanalp: anyone know how to use chef-rewind to reset a notifies statement?
[2012-12-07 22:43:38 -0500] makmanalp: notifies nil doesn't seem to work
[2012-12-07 22:43:55 -0500] makmanalp: and neither does notifies :nothing
[2012-12-07 22:47:41 -0500] littleidea: does anyone have a good centos/redhat httpd cookbook?
[2012-12-07 22:47:57 -0500] timsmith: apache2
[2012-12-07 22:48:03 -0500] timsmith: should work just fine on centos
[2012-12-07 22:48:07 -0500] programmerq: mattray: looks like spiceweasel fills a fabulous role. Haven't used it yet. I'm curious what your reasons are.
[2012-12-07 22:48:39 -0500] barnacles_: littleidea: Yea, I use apache2 for my centos
[2012-12-07 22:49:02 -0500] littleidea: cool
[2012-12-07 22:49:23 -0500] mattray: programmerq: I'm adding cluster support, more validation and possibly librarian and berkshelf support
[2012-12-07 22:50:21 -0500] yfeldblum: mattray, what kind of cluster support?
[2012-12-07 22:53:23 -0500] mattt: what's the defacto way of managing mysql grants w/ chef ?
[2012-12-07 22:54:17 -0500] mattray: yfeldblum: a short-hand syntax wrapping nodes as clusters, then creating/refresh/deleting them all at once
[2012-12-07 22:56:04 -0500] yfeldblum: mattray, how about a way to define a role <-> cluster mapping for certain roles, and a way to demand a cluster of size K for a given role?
[2012-12-07 22:56:05 -0500] mattray: yfeldblum: I'm writing a "Cloud Launcher" for a Dell thing, and figured I'd just add the missing features to spiceweasel
[2012-12-07 22:56:51 -0500] yfeldblum: mattray, but the size K for each cluster is not part of the yaml; that's just via CLI
[2012-12-07 22:57:17 -0500] mattray: yfeldblum: here's what I'm currently thinking https://gist.github.com/4237219
[2012-12-07 22:57:59 -0500] mattray: yfeldblum: count the nodes in "mycloud" for example, add a tag when they get created and search on that to ensure they're all there
[2012-12-07 22:58:28 -0500] mattray: simple, but it "should" work
[2012-12-07 22:59:22 -0500] yfeldblum: mattray, use named params, not positional params
[2012-12-07 22:59:30 -0500] mattt: n/m, this looks like it'll work https://github.com/opscode/cookbooks/tree/master/database
[2012-12-07 22:59:42 -0500] mattray: yfeldblum: ?
[2012-12-07 22:59:45 -0500] mattray: example?
[2012-12-07 23:00:02 -0500] littleidea: ok, rephrase, does anyone have an httpd/apache cookbook that stays red hat style on the configs?
[2012-12-07 23:00:37 -0500] yfeldblum: mattray, instead of "- role[base],role[haproxy]", use "run-list: role[base],role[haproxy]"
[2012-12-07 23:00:50 -0500] programmerq: littleidea: I asked that same question to the opscode guy that came out and did training for us, and the answer I got was there might be one in the community somewhere but he wasn't aware of one. (At least I think that was his answer)
[2012-12-07 23:00:53 -0500] mattray: yfeldblum: gotcha
[2012-12-07 23:00:54 -0500] programmerq: that was back in May though
[2012-12-07 23:01:19 -0500] littleidea: programmerq: this is me asking the community :)
[2012-12-07 23:01:30 -0500] littleidea: asking for a friend...
[2012-12-07 23:01:40 -0500] programmerq: indeed. If you find anything, I'd be interested to know.
[2012-12-07 23:01:53 -0500] littleidea: programmerq: cool
[2012-12-07 23:19:46 -0500] miah: it wouldn't be hard to modify the apache2 cookbook to do it 'redhat style' if needed
[2012-12-07 23:33:02 -0500] mikeg: Has anyone ever seen a case where a chef run fails but there is no failed-run-data.json produced?
[2012-12-07 23:34:59 -0500] mikeg: I'm having a problem where we have a call to put a file in Chef::Config[:file_cache_path].  but the file doesn't get written there so the run eventually failes.  I also noticed that the .json doesn't get written either.  so it seems as if it has intermittent problems writing to the cache directory.  the same run list works fine in the other 2 nodes in the pool
[2012-12-07 23:35:45 -0500] mikeg: server does't have disk space issues.  and perms on the cache dir are fine.  I even completely removed it and let chef recreate it.
