[2012-12-26 02:24:43 -0500] tongueroo: hey guys, i was wondering how you guys achieve the node['a']['b'] = 'value'
[2012-12-26 02:25:15 -0500] tongueroo: it looks like node['a'] is a Chef::Node::Attribute
[2012-12-26 02:25:42 -0500] tongueroo: so how does node['a'] return a value when its vs not the class itself
[2012-12-26 03:30:24 -0500] cheffer: How does a team of three DevOps work on same opscode hosted organization?, if one uploads a recipie with errors it affects every one else? Are there patterns/workflow for team in Chef?
[2012-12-26 03:31:46 -0500] doritostains: when using the "action :grant" from the Database cookbook I get "Cannot find a resource for grant_statement on ubuntu version 12.04". all other resources work
[2012-12-26 03:32:39 -0500] doritostains: anyone else have this problem too?
[2012-12-26 03:39:29 -0500] danryan: doritostains: have you added "depends 'database'" to your cookbook's metadata.rb?
[2012-12-26 03:39:53 -0500] doritostains: danryan: yes
[2012-12-26 03:40:18 -0500] danryan: Can you gist your recipe?
[2012-12-26 03:44:10 -0500] sethvargo: cheffer: I just sent you a private message to discuss your question
[2012-12-26 03:45:03 -0500] sethvargo: doritostains: make sure you have depends 'database' in your metadata and make sure you are using the latest databases cookbook (and make sure you dont have it locked in an env)
[2012-12-26 03:46:54 -0500] doritostains: https://gist.github.com/4377695
[2012-12-26 03:47:12 -0500] doritostains: it dies at "grant"
[2012-12-26 03:47:36 -0500] sethvargo: doritostains: what version of the database cookbook?
[2012-12-26 03:47:51 -0500] doritostains: 1.3.8
[2012-12-26 03:48:19 -0500] doritostains: just did a knife cookbook show database
[2012-12-26 03:48:27 -0500] sethvargo: is that the version on the server though?
[2012-12-26 03:48:49 -0500] doritostains: i'll do an upload right now
[2012-12-26 03:50:06 -0500] doritostains: yes it's the only version on the server
[2012-12-26 03:50:07 -0500] sethvargo: doritostains: okay, but what about in your envs? are you locking cookbook versions?
[2012-12-26 03:50:09 -0500] sethvargo: ok
[2012-12-26 03:50:44 -0500] sethvargo: what version of ruby?
[2012-12-26 03:52:18 -0500] doritostains: on the node?
[2012-12-26 03:52:24 -0500] sethvargo: yea
[2012-12-26 03:53:44 -0500] doritostains: it's pointing to 1.8.7
[2012-12-26 03:54:55 -0500] sethvargo: hmmm i wonder if that has something to do with it.
[2012-12-26 03:55:06 -0500] sethvargo: it may actually be an issue with the mysql gem at that point
[2012-12-26 03:55:11 -0500] sethvargo: can you add the stacktrace to that gist?
[2012-12-26 04:00:25 -0500] doritostains: https://gist.github.com/4377720
[2012-12-26 04:02:26 -0500] sethvargo: are you locking any cookbook versions?
[2012-12-26 04:02:44 -0500] sethvargo: wait, is this for gitlab?
[2012-12-26 04:04:54 -0500] doritostains: yeah but I'm installing a different app. I looked there to see how users are setup
[2012-12-26 04:07:25 -0500] sethvargo: hmm im not 100% sure
[2012-12-26 04:07:44 -0500] sethvargo: idk if jtimberman is in the house, but he's a better judge than me
[2012-12-26 04:09:00 -0500] doritostains: well thanks so much for trying so hard
[2012-12-26 04:09:07 -0500] doritostains: really appreciate it
[2012-12-26 04:11:18 -0500] sethvargo: sorry :/
[2012-12-26 06:06:33 -0500] lehrblogger: hi, i'm trying to access an environment attribute from within a cookbook's attributes file, but it seems like the environment attribute isn't yet defined.
[2012-12-26 06:06:40 -0500] lehrblogger: it doesn't seem to matter if it's a default or override environment attribute. is this the expected behavior? is there a way around it?
[2012-12-26 06:06:56 -0500] lehrblogger: (this is a simplification of the problem i was having a couple nights ago, in case anyone was around then)
[2012-12-26 07:57:32 -0500] cheffer: Hi There!, I am finding that getting everything working as specific user (for deployments) is harder than just get something up and running with root? Is it just me or others agree with me? So I end up first getting something up and running (even if running as root is easy) and then when I get to clean my environment I go back to use daemons with right user?  Wondering what others think?
[2012-12-26 08:00:34 -0500] aruntomar: cheffer: chef runs as a root user. do if you are creating directories or deploying applications, you'll have to remember to tell chef about the ownership. later, to run the services as particular user, there are various ways depending on application but generally using sudo or su works
[2012-12-26 08:04:56 -0500] cheffer: aruntomar: In general, in my work when I am trying to deploy an application which has to run as a "user" , its always take lot more effort to get al the permissions in place , and when there are urgency people start using sudo everywhere to start services (because it works), I am wondering if you also have observed in your implemnetations?
[2012-12-26 08:06:07 -0500] cheffer: Wondering if this is a common phenomenon or its just me and my organisation that's facing this?
[2012-12-26 08:12:17 -0500] aruntomar: cheffer: no it's not common.
[2012-12-26 08:12:51 -0500] aruntomar: cheffer: if your cookbooks/code are written considering how you want to deploy app, they'll work and won't be hard to deploy again and again
[2012-12-26 08:13:44 -0500] aruntomar: cheffer: say you want to deploy redmine, using nginx + unicorn, obviously nginx will run as user nginx and you want to run unicorn as user 'redmine', you can do that. it's not a big problem.
[2012-12-26 08:20:45 -0500] cheffer: aruntomar: Ok
[2012-12-26 08:20:50 -0500] cheffer: aruntomar: Thanks
[2012-12-26 08:34:15 -0500] cheffer: Is there a workflow for developer to be productive while building infrastructure with Chef? e.g, Is vagrant+chef better way VS using hosted opscode server + ec2 servers with knife-ec2?
[2012-12-26 08:34:32 -0500] cheffer: any pointers?
[2012-12-26 08:55:55 -0500] jimjimovich: is it possible to use unicode characters in a Chef recipe?
[2012-12-26 09:05:36 -0500] jimjimovich: I guess you need a little # encoding: utf-8 magic for it to work
[2012-12-26 12:46:24 -0500] cassianoleal: hi, anyone around?
[2012-12-26 12:46:37 -0500] cassianoleal: I'm having a bit of problem spinning up a vagrant VM with chef_client provisioner
[2012-12-26 12:55:31 -0500] jimjimovich: Anyone know how to use UTF-8 in a template file?  I found this, but still can't get it to work.   http://tickets.opscode.com/browse/CHEF-3304
[2012-12-26 14:20:48 -0500] turtlebender_: Anyone know if something recently changed with the chef installer?  It's installing version 11.alpha now
[2012-12-26 14:23:12 -0500] Death_Syn: egad
[2012-12-26 15:00:32 -0500] kryptek: happy holidays everyone
[2012-12-26 15:10:19 -0500] mmittelstadt: The install.sh is downloading a .deb ostensibly named, 10.16.2-522, but after installation it is version 11.0.0.alpha.  Anyone else seeing this?  (ubuntu 12.04 64-bit)
[2012-12-26 15:30:53 -0500] btm: mmittelstadt: that's been filed as CHEF-3726. I'm looking into it.
[2012-12-26 15:35:25 -0500] mmittelstadt: Thanks.
[2012-12-26 15:43:34 -0500] gazoombo: I'm running into an issue that looks like it's been filed as http://tickets.opscode.com/browse/COOK-2117 - are there any known workarounds? (I'm still pretty new to Chef)
[2012-12-26 15:48:10 -0500] gazoombo: I'm getting an error like: "FATAL: NameError: mysql_database_user[myuser] (myapp_app::default line 28) had an error: NameError: Cannot find a resource for grant_statement on ubuntu version 12.04"
[2012-12-26 15:49:12 -0500] bflad_laptop: gazoombo: looks like this commit broke it: https://github.com/opscode-cookbooks/database/commit/4caf9e61abd753b8a65572bd7f95e15631ba2043
[2012-12-26 15:49:59 -0500] bflad_laptop: you can use a released version before that commit, or try michaelklapper's grant_statement branch.
[2012-12-26 15:57:09 -0500] gazoombo: ok, I'll just use michaelklapper's grant_statement branch then.
[2012-12-26 16:20:18 -0500] sethvargo: Is it possible to add methods to the node object? For example, I want to add a def production? method that I can use
[2012-12-26 16:21:54 -0500] sethvargo: Hi nathenharvey
[2012-12-26 16:24:04 -0500] bflad_laptop: sethvargo: outside of using node.chef_environment ?
[2012-12-26 16:24:09 -0500] sethvargo: right
[2012-12-26 16:24:22 -0500] sethvargo: so we have multiple production envs
[2012-12-26 16:24:31 -0500] sethvargo: and I want to be able to "group them"
[2012-12-26 16:26:17 -0500] bflad_laptop: I'd be tempted to give them an assigned role then combine the two searches
[2012-12-26 16:28:54 -0500] sethvargo: but there has to be a way to monkey-patch the node object
[2012-12-26 16:32:04 -0500] bflad_laptop: seems a little dirty to try and extend Chef::Node rather than use the available primitives though, at least for me. :) nothing preventing you from setting an attribute as a "production" flag as well
[2012-12-26 16:47:47 -0500] sethvargo: bflad: dirty, yes. DRY, yes. clean, yes. helpful, yes
[2012-12-26 16:47:48 -0500] sethvargo: https://gist.github.com/2ab0ad4d772177d29443
[2012-12-26 16:50:08 -0500] bflad: where would that code go?
[2012-12-26 16:51:27 -0500] bflad: and is there more to your production? checking than just the chef_environment like you have there?
[2012-12-26 17:12:04 -0500] sethvargo: bflad: yes, a lot more complexity. and that would be a library
[2012-12-26 17:12:44 -0500] bflad: well then yeah, that makes more sense.
[2012-12-26 17:13:31 -0500] bflad: guessing if you extend it in a library then it available to all cookbooks since you're extending the object
[2012-12-26 17:20:58 -0500] anpl: Hi
[2012-12-26 17:21:18 -0500] anpl: I get the follwing error while boot strapping
[2012-12-26 17:23:25 -0500] anpl: http://pastie.org/5580839
[2012-12-26 17:23:33 -0500] anpl: FATAL: LoadError: no such file to load -- moneta/basic_file
[2012-12-26 17:23:39 -0500] sethvargo: anpl: this is a known issue
[2012-12-26 17:23:46 -0500] anpl: I guess it's related to moneta version
[2012-12-26 17:23:50 -0500] sethvargo: http://lists.opscode.com/sympa/arc/chef/2012-12/msg00386.html
[2012-12-26 17:24:01 -0500] sethvargo: Here's the official ticket: http://tickets.opscode.com/browse/CHEF-3721
[2012-12-26 17:24:18 -0500] sethvargo: If you update chef, the issue is resolved, or you can lock moneta on your own in your Gemfile
[2012-12-26 17:25:55 -0500] anpl: thanks sethvargo
[2012-12-26 17:26:44 -0500] anpl: I do not use -d option while bootstrapping, should I create a template erb file
[2012-12-26 17:27:07 -0500] sethvargo: depends on the customizations you need
[2012-12-26 17:28:16 -0500] anpl: I just need to fix this issue, no other customization required
[2012-12-26 17:28:42 -0500] anpl: I want to update chef or lock moneta version
[2012-12-26 17:29:25 -0500] anpl: sethvargo:update chef in workstation? or the chef-client in node
[2012-12-26 17:30:08 -0500] sethvargo: both
[2012-12-26 17:32:42 -0500] anpl: can I specify the version of chef needed while bootstrapping using knife command line
[2012-12-26 17:33:45 -0500] sethvargo: bootstrap-version
[2012-12-26 17:33:53 -0500] sethvargo: (that's dash-dash, not )
[2012-12-26 17:34:04 -0500] sethvargo: - - (without the space)
[2012-12-26 17:35:09 -0500] anpl: ok thanks sethvargo:
[2012-12-26 17:40:15 -0500] anpl: just confirming --bootstrap-version 10.16.4 like this right?
[2012-12-26 17:41:55 -0500] gregp76: hi chefs
[2012-12-26 17:43:25 -0500] gregp76: i'm trying to make decision in a recipe based on server manufacturer - something like dmi results
[2012-12-26 17:43:42 -0500] gregp76: what is the right way to access this data - is this an attribute?
[2012-12-26 17:44:45 -0500] maplebed: from ohai.
[2012-12-26 17:45:20 -0500] maplebed: (so yes, an attribute, or if it's not a default attribute, write an ohai plugin to populate it.)
[2012-12-26 17:46:11 -0500] maplebed: run 'ohai' on one of your servers to see what it creates or 'knife node show -l <hostname>' to show all current attributes.
[2012-12-26 17:46:55 -0500] gregp76: and than i call ohai from within a recipe?
[2012-12-26 17:47:09 -0500] maplebed: no, the contents of ohai are populated as attributes.
[2012-12-26 17:47:15 -0500] gregp76: k
[2012-12-26 17:47:24 -0500] gregp76: let me check, thanks
[2012-12-26 17:48:32 -0500] maplebed: so for example, ohai output tells me that 'lsb' has an item 'codename', which on my server is 'precise'.  So I can say node.lsb.codename == precise to trigger stuff that's supposed to happen there.
[2012-12-26 17:52:40 -0500] anpl: Thanks sethvargo, it worked!
[2012-12-26 17:52:42 -0500] gregp76: for me "knife search node "dmi_system_manufacturer:Dell*" " returns bunch of resutes
[2012-12-26 17:53:27 -0500] gregp76: results, but when i run this in shef on the node "chef > node.attribute?('dmi_system_manufacturer')
[2012-12-26 17:53:27 -0500] gregp76:  => false
[2012-12-26 17:54:18 -0500] gregp76: but this actually works
[2012-12-26 17:54:19 -0500] gregp76: chef > node.dmi.system.manufacturer
[2012-12-26 17:54:20 -0500] gregp76:  => "Dell Inc."
[2012-12-26 17:59:06 -0500] btm: gregp76: that's actually node[:dmi][:system][:manufacturer]. the underscores in search are because solr won't let us pass it nested variables.
[2012-12-26 17:59:55 -0500] sethvargo: btm: node['dmi']['system']['manufacturer'] looks nicer
[2012-12-26 18:02:08 -0500] btm: sethvargo: that's a bike shed.
[2012-12-26 18:02:50 -0500] sethvargo: btm: ? what's that mean lol?
[2012-12-26 18:03:16 -0500] btm: sethvargo: I'll tell you in 1 hour.
[2012-12-26 18:03:27 -0500] btm: sethvargo: in the interim, read about C. Northcote Parkinson.
[2012-12-26 18:04:39 -0500] sethvargo: btm: ill be waiting patiently
[2012-12-26 18:05:48 -0500] eka: hi
[2012-12-26 18:06:27 -0500] eka: if I have cookbooks A and B and they run in that order, and A sets an attribute on @node, will that attribute be available no cookbook B?
[2012-12-26 18:15:03 -0500] UForgotten: so I'm having an annoyance with chef provisioning and yum.  mainly it's a yum issue but I'm curious how people have worked around this. I need it to install a package from a specific repo. I could not find how to get yum to use one repo / include only, all I see is excluding all the other repos, which is a pita
[2012-12-26 18:16:33 -0500] maplebed: can you pass yum a custom config file that overrides the repository location?
[2012-12-26 18:16:49 -0500] maplebed: (I don't fight this battle, sticking to apt rather than yum.)
[2012-12-26 18:19:24 -0500] UForgotten: maplebed: thats what I've tried but it causes nothing but pain, too many variations to template. From what I can tell it works by excluding repositories instead of including, which is annoying.
[2012-12-26 18:19:58 -0500] gregp76: i figured this out up to the point of array creation
[2012-12-26 18:20:00 -0500] UForgotten: there should be a way to tell yum to get a package from a specific repo, and I had asked before about it and nobody could find a way to do it without excluding all the repos but the right one. Totally backwards.
[2012-12-26 18:20:25 -0500] gregp76: i need to make an array that looks like:
[2012-12-26 18:20:42 -0500] gregp76: subscriptions node.roles, "dell"
[2012-12-26 18:21:00 -0500] gregp76: but this is not how it's supposed to look like
[2012-12-26 18:21:37 -0500] maplebed: A friend just sent me http://sysadvent.blogspot.com/2012/12/day-24-twelve-things-you-didnt-know.html - fantastic read.
[2012-12-26 18:23:27 -0500] maplebed: gregp76: sorry, I don't understand the question.
[2012-12-26 18:23:48 -0500] gregp76: i figured this out
[2012-12-26 18:23:49 -0500] gregp76: subscriptions node.roles
[2012-12-26 18:23:50 -0500] gregp76: +  if node[:dmi][:system][:manufacturer] =~ /Dell/
[2012-12-26 18:23:50 -0500] gregp76: +    subscriptions << "dell"
[2012-12-26 18:23:51 -0500] gregp76: +  end
[2012-12-26 18:25:14 -0500] maplebed: you might consider switching that around to use a ruby case statement, assuming you have multiple hardware vendors in the picture.
[2012-12-26 18:25:44 -0500] maplebed: case node[:dmi][:system][:manufacturer]
[2012-12-26 18:25:53 -0500] maplebed: when /Dell/i
[2012-12-26 18:25:55 -0500] maplebed:   do stuff
[2012-12-26 18:26:01 -0500] maplebed: when /HP/
[2012-12-26 18:26:03 -0500] maplebed:   do other stuff
[2012-12-26 18:26:04 -0500] maplebed: end
[2012-12-26 18:26:05 -0500] maplebed: etc.
[2012-12-26 18:28:47 -0500] gregp76: thanks - now we are only dell but i'll not this
[2012-12-26 19:27:18 -0500] gregp76: still struggling with this - "if node[:dmi][:system][:manufacturer] =~ /Dell/ " returns attribute not defined on VMs
[2012-12-26 19:28:14 -0500] gregp76: trying to add check - "if node.attribute?('dmi.system.manufacturer')" doesn't work either
[2012-12-26 19:28:34 -0500] btm: if node[:dmi] && node[:dmi][:system] && node[:dmi][:system][:manufacturer] =~ /Dell/
[2012-12-26 19:29:21 -0500] gregp76: http://pastebin.com/BNfi68st
[2012-12-26 19:32:13 -0500] btm: gregp76: node.attribute?('dmi.system.manufacturer') <-- not valid syntax. it would be best for you to forget about node.attribute?
[2012-12-26 19:32:17 -0500] wilsondkw: does deep merge work w/ attributes defined in cookbook attribute files? if yes, I must be doing something wrong.
[2012-12-26 19:32:45 -0500] gregp76: checking
[2012-12-26 19:36:17 -0500] btm: gregp76: https://gist.github.com/4382499
[2012-12-26 19:37:29 -0500] btm: gregp76: your VMs probably don't have the dmi system tree so ohai isn't populating it. ruby is upset because you're asking for the manufacturer variable inside the system variable inside the dmi variable which might not exist.
[2012-12-26 19:38:20 -0500] gregp76: thanks i think the if node[:dmi] && node[:dmi][:system] && node[:dmi][:system][:manufacturer] =~ /Dell/ works on both types
[2012-12-26 19:39:40 -0500] eka: is there any way to enter a chef console with chef-solo? I want to check @node attributes etc...
[2012-12-26 19:39:57 -0500] miah: eka: shef
[2012-12-26 19:40:06 -0500] miah: or, pry
[2012-12-26 19:40:12 -0500] eka: miah: nice thanks
[2012-12-26 19:40:25 -0500] miah: http://pryrepl.org/
[2012-12-26 19:40:29 -0500] miah: if you dont know..
[2012-12-26 19:40:45 -0500] eka: miah: yes but pry don't give me node attributes
[2012-12-26 19:40:59 -0500] miah: if you invoke pry via chef during runtime it does
[2012-12-26 19:41:08 -0500] eka: miah: how?
[2012-12-26 19:41:12 -0500] btm: wilsondkw: attribute loading file in Chef 10 is a bit hairy. load order isn't usually predictable. but by the end of the compilation phase everything should be deep merged.
[2012-12-26 19:41:24 -0500] miah: eka: read the docs on the link i provided
[2012-12-26 19:41:32 -0500] eka: miah: thanks
[2012-12-26 19:42:15 -0500] eka: miah: agh binding.pry in a recipe, ok but shed will do thanks a lot
[2012-12-26 19:42:19 -0500] wilsondkw: btm: thanks
[2012-12-26 19:44:15 -0500] cheflevelramen: Hi All, question about the Users cookbook. Is there a best practice for assigning users to groups based on the environment. For example, I don't care if my devsare a part of the wheel group on a test/sandbox instance, but in prod they would obviously not be a part of this group since it has sudo privileges. I'd rather not create two different data bags for each user. Any easy way to do this?
[2012-12-26 19:45:20 -0500] miah: modify the cookbook?
[2012-12-26 19:46:27 -0500] cheflevelramen: miah: yea, I could do that, though it seems to get messy modifying community cookbooks, so I'd rather not. I'm sure others must run into this issue too, so I'm curious what others have done to solve this problem.
[2012-12-26 19:47:15 -0500] miah: fork, modify, submit pull request.
[2012-12-26 19:48:03 -0500] cheflevelramen: miah: bah, seems like I've been having to do that pretty often for very basic functionality. I can do that again for this cookbook if no one else has any other solution.
[2012-12-26 19:48:13 -0500] wilsondkw: btm: here is a problem I have w/ cookbook attributes & deep merge: I set a default array attribute ( ['rhnreg']['activation']['keys'] ) in the attribute file for my "rhnregister" cookbook. then, also set the same attribute with different array values in my "java-rhn" cookbook. When I run a recipe from both cookbooks on a node, I only get the attribute values from the rhnregister cookbook attribute file.
[2012-12-26 19:48:24 -0500] labria: hey guys
[2012-12-26 19:48:36 -0500] wilsondkw: If I run my java-rhn recipe alone, I get the values from it's cookbook attrib file.
[2012-12-26 19:48:51 -0500] labria: tell me, is there a "right" or canonical way to pass parameters to a ruby block?
[2012-12-26 19:49:25 -0500] labria: I mean, of course, the ruby_block resource
[2012-12-26 19:49:54 -0500] wilsondkw: btm: of course, I'm looking for the attributes to merge so I get an array populated with values from the attrib files of both cookbooks
[2012-12-26 19:51:37 -0500] btm: wilsondkw: is ['rhnreg']['activation']['keys'] and array? i.e. when you set it are you saying: node.default['rhnreg']['activation']['keys'] = [ 'value_for_this_cookbook' ] ?
[2012-12-26 19:51:51 -0500] btm: ( an array, not and array)
[2012-12-26 19:52:16 -0500] sethvargo: cheflevelramen: I've been re-thinking the user's cookbook here: https://github.com/sethvargo-cookbooks/user
[2012-12-26 19:52:54 -0500] btm: sethvargo: bike shedding: http://en.wikipedia.org/wiki/Parkinson's_law_of_triviality
[2012-12-26 19:54:15 -0500] sethvargo: btm: okay, but i have a blog post upcoming that the way attributes are accessed is not trivial
[2012-12-26 19:54:33 -0500] cheflevelramen: sethvargo: I was just looking at your cookbook! Looks very good. I believe defining users as resources rather than data bag items is a much better and flexible approach. I'm going to give it a shot.
[2012-12-26 19:54:47 -0500] spox: how can i see what version of a cookbook is loaded from within a recipe?
[2012-12-26 19:54:50 -0500] sethvargo: well, it does both, be careful
[2012-12-26 19:55:01 -0500] sethvargo: cheflevelramen:  ^^
[2012-12-26 19:55:17 -0500] sethvargo: cheflevelramen: i tried to make a hybrid of fnichol's work and the existing opscode cb
[2012-12-26 19:55:43 -0500] cheflevelramen: sethvargo: Awesome. Looks very good. Thanks for the help
[2012-12-26 19:56:12 -0500] wilsondkw: btm: should be an array. here is how I checked. I have following in my recipes: keys = node['rhnreg']['activation']['keys'] ... Chef::Log.info "Note: here in rhnregister recipe, rhnreg activation keys is a #{keys.class}"
[2012-12-26 19:56:18 -0500] sethvargo: cheflevelramen: np. please note it's a WIP, so issues and PRs are greatly welcome. ive been backed up lately and haven't given it the attention it deserves
[2012-12-26 19:57:58 -0500] cheflevelramen: sethvargo: No problem. I'm happy to provide feedback, PRs. I'm doing all my work on Amazon Linx. Is the cookbook pretty OS agnostic? If changes need to be made to make it work for Amazon linux I'll submit a PR
[2012-12-26 19:58:43 -0500] sethvargo: cheflevelramen: it's linux-based
[2012-12-26 19:58:57 -0500] cheflevelramen: sethvargo: Cool, well I'll let you know how it goes. Thanks!
[2012-12-26 20:00:05 -0500] wilsondkw: btm: output from the chef-client run is: "Note: here in rhnregister recipe, rhnreg activation keys is a Array" I do the same check in my java-rhn recipe and get output indicating an array
[2012-12-26 20:00:43 -0500] btm: sethvargo: After watching folks argue for years on the mailing list, hipchat, twitter, polls, etc., over which method of accessing attributes is best; strings, symbols or accessor methods, I'd be surprised if you find a way to make it not a bike shed.
[2012-12-26 20:01:13 -0500] sethvargo: btm: how about statistical proof? :)
[2012-12-26 20:01:57 -0500] btm: sethvargo: only if you can statistically prove that the difference is so significant as to overrule personal preference.
[2012-12-26 20:02:25 -0500] sethvargo: btm: well, it's been 2 years since my last behavioral economics class I'll have to remember how to measure preferences first :/
[2012-12-26 20:08:33 -0500] btm: wilsondkw: I think the fact that you're putting your variable in the name of a resource is tricking you, as that will be interpreted when it is seen during compilation rather than at the end of it. Try creating a ruby block and accessing @node from inside it.
[2012-12-26 20:11:14 -0500] wilsondkw: btm: let me check my understanding. are you saying my test to check that it's an array may be invalid?
[2012-12-26 20:11:51 -0500] btm: wilsondkw: rather how you're testing for the content.
[2012-12-26 20:12:35 -0500] wilsondkw: btm: sorry. I don't think I understand ..
[2012-12-26 20:13:25 -0500] btm: wilsondkw: just a minute and I'll see if I can reporoduce your issue.
[2012-12-26 20:26:53 -0500] btm: wilsondkw: what is your Chef server?
[2012-12-26 20:38:53 -0500] wilsondkw: btm: hosted chef
[2012-12-26 20:41:00 -0500] maplebed: anybody have an easy method for deleting chef-managed nodes on ec2?  At the moment, I have to do a bunch of stuff (knife node delete, knife client delete, knife ec2 server delete, remove the route53 record, and clean up the ebs volumes.)  I'd love a knife plugin or even just a shell script that does all of that.
[2012-12-26 20:45:28 -0500] Death_Syn: you can't knife ec2 server delete?
[2012-12-26 20:45:46 -0500] maplebed: sure, that shuts down the instance.  doesn't do the rest of the stuff.
[2012-12-26 20:45:48 -0500] sethvargo: Death_Syn: that wont change DNS records or routes
[2012-12-26 20:46:04 -0500] sethvargo: maplebed: I just && (or ;) those commands together with a few bash variables
[2012-12-26 20:46:12 -0500] sethvargo: that was ; ), not a smiley
[2012-12-26 20:46:13 -0500] Death_Syn: hmm
[2012-12-26 20:46:25 -0500] maplebed: also, annoyingly, knife ec2 server delete takes the AWS instance ID, not my hostname.  (i.e. i-123456 not web24)
[2012-12-26 20:46:48 -0500] maplebed: I don't want to have to look that up, since clearly it's a known value (at the very least, a node attribute)
[2012-12-26 20:46:48 -0500] Death_Syn: that is pretty annoying.  it doesn't take a -N param?
[2012-12-26 20:47:01 -0500] wilsondkw: btm: apologies. got knocked off. any ideas RE the deep merge of attribs in multiple cookbook attrib files?
[2012-12-26 20:47:08 -0500] sethvargo: knife node delete $NODE; knife client delete $NODE; knife ec2 server delete $NODE; curl -d "username:x" -d "password:y" http://api.mydns.org/dns/delete/whatever
[2012-12-26 20:47:47 -0500] sethvargo: maplebed: you can use the aws gem to find the instance ID first
[2012-12-26 20:47:47 -0500] maplebed: sethvargo: that's my plan (wrapping it in a shell script) if I can't find a nice cheffy way of doing it.
[2012-12-26 20:48:13 -0500] sethvargo: maplebed: or gem it
[2012-12-26 20:48:26 -0500] maplebed: but it seems like there *should* be a more cheffy way of saying 'knife cleanup <nodename>' and have it do everything.
[2012-12-26 20:48:39 -0500] sethvargo: maybe ill write a knife plugin :)
[2012-12-26 20:48:43 -0500] maplebed: \o/
[2012-12-26 20:49:07 -0500] btm: maplebed: knife ec2 server delete has a purge option that will delete the node and client as well.
[2012-12-26 20:49:56 -0500] maplebed: btm: sweet!  I suppose I should go read the source for that.  knife ec2 delete --help doesn't.  (help, that is.)
[2012-12-26 20:49:57 -0500] maplebed: :P
[2012-12-26 20:50:10 -0500] sethvargo: maplebed: knife ec2 server delete node-name FQDN purge && (something to delete ur dns)
[2012-12-26 20:50:14 -0500] sethvargo: or listen to btm
[2012-12-26 20:50:31 -0500] maplebed: do you know if purge also does ebs volumes?
[2012-12-26 20:51:29 -0500] btm: maplebed: ssd7 has a nice script here too: https://github.com/stevendanna/knife-hacks/blob/master/exec/clean-ec2-cruft.rb
[2012-12-26 20:52:59 -0500] maplebed: btm: that looks nice.  thanks.  I knew I wouldn't have to do as much work as I thought.  Thanks, crowd!  :)
[2012-12-26 20:53:16 -0500] btm: James Sulinski used to have a knife exec script too, but his blog appears down.
[2012-12-26 21:02:54 -0500] maplebed: btm: thanks for that repo URL.  I also especially like https://github.com/stevendanna/knife-hacks/blob/master/shell/knife_completion.sh
[2012-12-26 21:12:23 -0500] littleidea: anyone manage a bunch of RHEL and is willing to explain how they handle automating managing subscription stuff?
[2012-12-26 21:13:57 -0500] jblaine: +1
[2012-12-26 21:14:22 -0500] jblaine: littleidea: We manage ~130 RHEL and don't automate that part past a hand-run script
[2012-12-26 21:14:23 -0500] littleidea: also, LMAO if you RHEL
[2012-12-26 21:14:55 -0500] littleidea: s/RHEL/computers/
[2012-12-26 21:15:28 -0500] jblaine: Ahem. Sure as hell have been bit a whole lot more by Ubuntu in prod than RHEL.
[2012-12-26 21:15:32 -0500] cwj: s/computers/exist/
[2012-12-26 21:15:53 -0500] littleidea: jblaine, so what's your process to add a machine? do you have a lot of dynamic provisioning
[2012-12-26 21:15:54 -0500] jblaine: 1 2 3 not it distro battle
[2012-12-26 21:16:00 -0500] littleidea: fuck an Ubuntu
[2012-12-26 21:16:23 -0500] littleidea: https://twitter.com/littleidea/status/283818400390713344
[2012-12-26 21:16:37 -0500] pcn: ohai chefs
[2012-12-26 21:16:38 -0500] jblaine: littleidea: Currrently kickstart + post, then 30-min CM runs
[2012-12-26 21:17:05 -0500] pcn: Is there a simple to get the stdout+stderr from an execute resource into the log?
[2012-12-26 21:17:07 -0500] jblaine: littleidea: We don't use the new cert-based subscription
[2012-12-26 21:17:28 -0500] wilsondkw: littleidea: we're starting to work on managing rhn registration & channel subscription via Chef now ..
[2012-12-26 21:17:30 -0500] jblaine: littleidea: We use the older "classic" RHN crap via rhn_reg_ks or whatever the hell it's called
[2012-12-26 21:18:05 -0500] pcn: Or do I have to do resource = execute ...  action=:none ; and then log "log_action" do log(resource.execute())
[2012-12-26 21:18:23 -0500] wilsondkw: littleidea: we use rhnreg_ks in combination w/ activation keys provided via data bags.
[2012-12-26 21:19:50 -0500] littleidea: wilsondkw: any chance you will publish any of that?
[2012-12-26 21:20:41 -0500] littleidea: step 1 for me right now is trying figure out how the rhn subscription stuff even works
[2012-12-26 21:20:54 -0500] littleidea: so a working example would be swell
[2012-12-26 21:21:09 -0500] littleidea: or if anyone has suggested reading
[2012-12-26 21:22:28 -0500] wilsondkw: littleidea: yes. prolly late this week or early next. I'm stuck on a deep merge issue w/ attributes from cookbook attribute files at the moment.
[2012-12-26 21:23:37 -0500] littleidea: may $DEITY have mercy on your soul
[2012-12-26 21:23:46 -0500] wilsondkw: littleidea: if you're willing to troubleshoot w/ me I might be able to rationalize publishing it earlier ;-)
[2012-12-26 21:24:25 -0500] littleidea: wilsondkw: well, I'm trying to solve the problem over here.
[2012-12-26 21:24:52 -0500] littleidea: I'm going to have physical hosts and virtual guests that are all supposed to be RHEL
[2012-12-26 21:25:34 -0500] littleidea: both hosts and guests should ideally be fully automated installs
[2012-12-26 21:25:52 -0500] littleidea: guests will tend to change more than hosts
[2012-12-26 21:26:02 -0500] wilsondkw: littleidea: cool. where are you in the effort?
[2012-12-26 21:26:16 -0500] littleidea: s/RHEL/anything
[2012-12-26 21:26:42 -0500] littleidea: wilsondkw: learning how rhn subscriptions actually work
[2012-12-26 21:26:59 -0500] wilsondkw: working w/ RHEL certainly makes package management harder.
[2012-12-26 21:27:29 -0500] littleidea: once I understand how they work, I'll work on automation
[2012-12-26 21:27:53 -0500] wilsondkw: littleidea: we're currently using RHN Classic. you using that or the new RH Subscription Management?
[2012-12-26 21:27:56 -0500] littleidea: but if I had a semi working example, should help me
[2012-12-26 21:28:20 -0500] littleidea: wilsondkw: iunno
[2012-12-26 21:29:17 -0500] littleidea: it's an enterprisey IT greenfield scenario, I'm guessing they are probably using the new stuff
[2012-12-26 21:29:33 -0500] littleidea: but I can confirm
[2012-12-26 21:31:27 -0500] wilsondkw: littleidea: if you've got access to your systems in the RHN web console, you can find them either under Subscriptions-> Classic Management-> Registered Systems, or Subscriptions-> Certificate Based-> Registered Consumers
[2012-12-26 21:42:15 -0500] Twirrim: careful littleidea, there be dragons.
[2012-12-26 21:42:32 -0500] littleidea: looks like they are using classic
[2012-12-26 21:42:53 -0500] littleidea: Twirrim: caution: the interwebs may be distracting
[2012-12-26 21:45:26 -0500] littleidea: is the community consensus to use Berkshelf now?
[2012-12-26 22:08:28 -0500] UForgotten: I haaven't been able to get an answer elsewhere but I'll try here.  I'm trying to install a package that is on multiple repositories, but want to prefer one.  For the sake of logistics across multiple platforms it's not easy to add exclusions in the repo files. Is there a way to do a yum install from a specific repo using chef? disable/enable don't appear to work from the command line for an install.
[2012-12-26 22:09:14 -0500] bluethundr: hey guys.. I might be confused on one point.. I have bootstrapped my chef server so that it can also be it's own client.. the bootstrap seems to have worked but when I list the nodes I don't see any at all.. what could I be doing wrong?
[2012-12-26 22:09:15 -0500] bluethundr: http://pastie.org/5581776
[2012-12-26 22:11:01 -0500] willsalt: i have migrated my chef server to a new node on aws. backed up all certs, configs and couch db, then stopped chef server on the new server and extracted/imported everything, which works. however when i try to register new clients to the server it errors
[2012-12-26 22:11:35 -0500] willsalt: with: HTTP Request Returned 401 Unauthorized: Failed to authenticate. Ensure that your client key is valid.
[2012-12-26 22:12:43 -0500] willsalt: http://pastie.org/5581792
[2012-12-26 22:12:47 -0500] willsalt: any ideas?
[2012-12-26 22:14:17 -0500] tamouse__: what is the deal with REMOVED?
[2012-12-26 22:14:59 -0500] willsalt: i removed some data that would identify the nodes.
[2012-12-26 22:15:14 -0500] willsalt: from the pastie
[2012-12-26 22:18:42 -0500] bluethundr: sorry about the newb question, but I'm ankle deep in chef after having worked with puppet for a while. but how do I register a client with my new chef server ? is it not with the knife bootstrap command?
[2012-12-26 22:18:51 -0500] willsalt: tamouse_: any idea?
[2012-12-26 22:18:59 -0500] willsalt: yeah with the knife bootstrap command
[2012-12-26 22:19:36 -0500] bluethundr: ok cool. well the bootstrap seems to go ok but when I go knife node list I don't see any nodes at all
[2012-12-26 22:19:45 -0500] bluethundr: not sure why that would be
[2012-12-26 22:19:52 -0500] willsalt: what about knife client list?
[2012-12-26 22:20:43 -0500] bluethundr: ok yes I see the host in there..
[2012-12-26 22:21:23 -0500] bluethundr: I must be confused on that term because I see the FQDN of the host in that list but also the username I use with chef listed
[2012-12-26 22:22:54 -0500] bluethundr: so when knife configure -i asks
[2012-12-26 22:22:57 -0500] bluethundr: Please enter a clientname for the new client: [root]
[2012-12-26 22:23:07 -0500] bluethundr: I assumed it was asking for a username
[2012-12-26 22:23:11 -0500] willsalt: so client name should be the nodes name
[2012-12-26 22:23:25 -0500] willsalt: a client is basically the authentication keypair
[2012-12-26 22:23:29 -0500] willsalt: for that node
[2012-12-26 22:23:49 -0500] bluethundr: hmm ok
[2012-12-26 22:25:54 -0500] willsalt: are you specifying the node name with -N when bootstrapping it?
[2012-12-26 22:26:04 -0500] willsalt: it should create the corresponding node swell as the client i thought
[2012-12-26 22:27:23 -0500] bluethundr: no I am not
[2012-12-26 22:27:38 -0500] willsalt: agh specify the node name and it will create the node too :)
[2012-12-26 22:28:04 -0500] bluethundr: this is the command that I used
[2012-12-26 22:28:04 -0500] bluethundr: knife bootstrap chef.jokefire.com ubuntu12.04-apt -x root -P 'secret'
[2012-12-26 22:28:08 -0500] willsalt: you can then specify recipes or roles in the run list and it will execute them on that node when you run chef-client
[2012-12-26 22:28:25 -0500] bluethundr: ok cool
[2012-12-26 22:28:34 -0500] willsalt: i hope that password really isn't secret ;)
[2012-12-26 22:28:42 -0500] willsalt: and jokefire.com isn't your address ;)
[2012-12-26 22:28:43 -0500] bluethundr: I have to say in my short run with chef I'm really digging it
[2012-12-26 22:28:44 -0500] bluethundr: ahhhh no
[2012-12-26 22:28:45 -0500] bluethundr: lol
[2012-12-26 22:28:52 -0500] bluethundr: whoopps
[2012-12-26 22:28:54 -0500] bluethundr: yes
[2012-12-26 22:29:09 -0500] willsalt: might want to change that  now :)
[2012-12-26 22:29:14 -0500] bluethundr: should've obscured it.. sigh.. sorry long day
[2012-12-26 22:29:14 -0500] willsalt: use ssh keys :)
[2012-12-26 22:29:24 -0500] willsalt: haha its cool
[2012-12-26 22:29:29 -0500] bluethundr: lol
[2012-12-26 22:29:30 -0500] willsalt: irc logs thats all
[2012-12-26 22:29:37 -0500] bluethundr: indeed
[2012-12-26 22:30:20 -0500] bluethundr: so if I had said : knife bootstrap -N chef.mydmoain.com ubuntu12.04-apt -x root -P 'secret' it would have created the node as well
[2012-12-26 22:30:46 -0500] willsalt: should do :)
[2012-12-26 22:31:20 -0500] willsalt: if you've already bootstrapped it just delete /etc/chef/client.pem
[2012-12-26 22:31:31 -0500] willsalt: and rebootstrap
[2012-12-26 22:33:18 -0500] bluethundr_: why thanks for the tip..! I'll go do that now
[2012-12-26 22:33:24 -0500] willsalt: maybe client.rb too
[2012-12-26 22:33:46 -0500] bluethundr_: ahh now I see it in the node list.. rockin'
[2012-12-26 22:35:02 -0500] bluethundr: so a role would be a username essentially and a node would be a host that you would control with knife
[2012-12-26 22:36:25 -0500] tamouse__: sorry, had to go do stuff
[2012-12-26 22:36:57 -0500] willsalt: thats coo tamouse, realised i needed to delete the whole db before restore
[2012-12-26 22:37:03 -0500] tamouse__: ok
[2012-12-26 22:37:09 -0500] willsalt: bluethundr: rtfm ;) but...
[2012-12-26 22:37:25 -0500] willsalt: a role is a collection of cookboks
[2012-12-26 22:37:52 -0500] bluethundr: ok I deserved that :) but thanks
[2012-12-26 22:37:56 -0500] willsalt: and metadata that will be applied to the node, and the cookbooks can use
[2012-12-26 22:38:12 -0500] willsalt: if i were you, id start with the ntp cookbook
[2012-12-26 22:38:19 -0500] willsalt: just install that and see how it works
[2012-12-26 22:38:19 -0500] btm: wilsondkw: kallistec says 'Don't think those were ever merged. I guess if you want that, you have to set_unless an empty array and then append
[2012-12-26 22:38:25 -0500] bluethundr: ok cool.. yeah I need a good starting point
[2012-12-26 22:38:50 -0500] willsalt: bluethundr: chef is pretty confusing at first, but its way way nicer than puppet...
[2012-12-26 22:39:17 -0500] willsalt: and the documentation isn't actually that bad
[2012-12-26 22:39:24 -0500] willsalt: at all anymore
[2012-12-26 22:39:36 -0500] willsalt: use the webgui too, that will make it a little clearer
[2012-12-26 22:39:46 -0500] bluethundr: ok yeah that's cool... and I agree the docs seem pretty decent
[2012-12-26 22:39:49 -0500] willsalt: its normally on :4040
[2012-12-26 22:40:22 -0500] bluethundr: yeah I plan to proxy it to https .. there were some good docs on that.. not sure if I'm going to take that on today
[2012-12-26 22:40:34 -0500] bluethundr: my priority is to get a couple of nodes into chef
[2012-12-26 22:40:54 -0500] bluethundr: reason I chose to start working with chef is that I use a cloud management tool called scalr
[2012-12-26 22:41:10 -0500] bluethundr: sclar is pretty nice.. but they've integrated their services into chef
[2012-12-26 22:42:02 -0500] bluethundr: but I've been workign with puppet forever and I have to say i've always dug it. thought it was the coolest thing on the planet once i started getting used to it
[2012-12-26 22:44:13 -0500] willsalt: yeah, i could never get into puppet, the whole unordered execution was horrible, along with stages, and no real CMDB. stored configs suck
[2012-12-26 22:45:19 -0500] willsalt: interested to see whats happening with erchef though!
[2012-12-26 22:45:23 -0500] bluethundr: well I have to say I have to agree with you there about stages
[2012-12-26 22:45:27 -0500] willsalt: chef 11.0 that is
[2012-12-26 22:45:50 -0500] bluethundr: sounds intriguing
[2012-12-26 22:46:28 -0500] willsalt: yeah, its erland, mysql or postgresql
[2012-12-26 22:47:00 -0500] miah: erlang =)
[2012-12-26 22:47:31 -0500] bluethundr: I've heard good things about erlang as well.. never played around with it tho
[2012-12-26 22:49:04 -0500] willsalt: ah erlang type :)
[2012-12-26 22:49:24 -0500] willsalt: *typo :|
[2012-12-26 22:49:34 -0500] willsalt: i thought maybe erlang was a strange choice?
[2012-12-26 22:49:44 -0500] tamouse__: am i hearing this correctly? chef 11 is going to erlang from ruby?
[2012-12-26 22:50:11 -0500] bluethundr_: I rather like that chef uses couchdb .. are you saying that mysql or postgres will be options in the new version?
[2012-12-26 22:50:18 -0500] willsalt: yeah
[2012-12-26 22:50:30 -0500] willsalt: couched will be deprecated
[2012-12-26 22:50:34 -0500] willsalt: *couchdb
[2012-12-26 22:50:37 -0500] bluethundr_: dang .. another language to learn :(
[2012-12-26 22:50:40 -0500] willsalt: man whats with my spelling
[2012-12-26 22:50:46 -0500] bluethundr_: hehee
[2012-12-26 22:50:48 -0500] willsalt: nah, i think the del will stay the same
[2012-12-26 22:50:51 -0500] willsalt: *DSL
[2012-12-26 22:51:00 -0500] bluethundr_: that's cool
[2012-12-26 22:51:08 -0500] willsalt: they won't change the DSL
[2012-12-26 22:51:33 -0500] willsalt: but it will mean that you will be able to do quires on your database instead of writing loads of code to do something that sql could do easily
[2012-12-26 22:52:04 -0500] cheflevelramen: will you still be able to use embedded ruby in your recipes?
[2012-12-26 22:52:28 -0500] willsalt: not sure
[2012-12-26 22:52:36 -0500] cwj: the server API will be erlang, theres no erlang going into chef-client or chef-solo
[2012-12-26 22:53:17 -0500] willsalt: cwj: will we be able to run sql quires in our recipes?
[2012-12-26 22:54:33 -0500] cwj: willsalt: not afaik, unless you want to configure the database to be available and use ruby in your recipe to do so
[2012-12-26 22:54:52 -0500] cwj: afaik the search available to chef-client will not change
[2012-12-26 22:57:47 -0500] cwj: its my understanding that the erchef/mysql stuff that is being released in chef 11 is bringing the open source chef up to speed with the hosted/private chef platform
[2012-12-26 22:57:56 -0500] bluethundr: willsalt: yeah that part of it is actually cool... couchdb is definitely in the 'neat' category of things I want to learn more about.. but mysql on the other hand is something I'm very used to and comfy with
[2012-12-26 22:58:14 -0500] cwj: so, as far as i understand, if you already use hosted chef or private chef, you are already using chef 11 on the server die
[2012-12-26 22:58:26 -0500] cwj: er server side
[2012-12-26 23:00:05 -0500] btm: the Chef Server 11 API is nearly equivalent to the Chef Server 10 API. We have internal tools testing both APIs to verify this. For the most part the client doesn't care if the server is implemented in erlang or ruby.
[2012-12-26 23:00:27 -0500] miah: (or python)
[2012-12-26 23:00:30 -0500] cwj: btm: let me know if i've said something thats wrong, don't want to be spreading inaccurate info
[2012-12-26 23:00:46 -0500] cwj: a lot of people seem to be confused about erchef
[2012-12-26 23:00:55 -0500] miah: totally
[2012-12-26 23:00:56 -0500] btm: There's no plan to add a specific DSL for doing SQL queries against the data. My gut says thats a bit of an antipattern and an interface like search should be able to do what you want.
[2012-12-26 23:00:57 -0500] wilsondkw: btm: thanks. I'll try to figure out "set_unless an empty array and then append" in the next few days
[2012-12-26 23:02:32 -0500] btm: Hosted Chef and Private Chef have various versions of erchef under the hood as it's constantly under development. After a few more months there won't be any further development on Chef Server 10 from Opscode except for major bug fixes and security updates.
[2012-12-26 23:03:28 -0500] btm: Chef Client 11 is Ruby and will stay that way. It's not that different than Chef Client 10, except for various improvements, some of which are breaking changes (like cookbook segments are loaded in a specific order).
[2012-12-26 23:03:45 -0500] btm: You can see a list of those changes here: http://wiki.opscode.com/display/chef/Breaking+Changes+in+Chef+11
[2012-12-26 23:04:48 -0500] btm: cheflevelramen: Cookbooks are evaluated on the client, not the server, so you can most certainly continue to embed ruby in your recipes.
[2012-12-26 23:06:17 -0500] btm: bluethundr: Our engineers have a lot of experience with CouchDB, and it just won't scale stabily in our use case. The choice to move to another database was from lessons learned running Hosted Chef (the largest Chef server on the planet)
[2012-12-26 23:07:51 -0500] cheflevelramen: btm: Cool, glad to hear that
[2012-12-26 23:08:52 -0500] bluethundr: btm: hmm that's very interesting... and I'm very aware of mysql's scalability... but if you were already using a schemaless DB like couch why not transition to another one such as mongodb which also has proven scalability?
[2012-12-26 23:10:37 -0500] charity_: is anyone here familiar with the chef cassandra cookbook
[2012-12-26 23:10:50 -0500] charity_: i am having a hard time getting ec2snitch to work, and don't understand the comment in recipes/ec2snitch.rb
[2012-12-26 23:10:50 -0500] charity_: # To use this, you MUST install contrib/property_snitch and set the keyspace[:e
[2012-12-26 23:10:51 -0500] charity_: # to org.apache.cassandra.locator.PropertyFileEndPointSnitch.  See contrib/prop
[2012-12-26 23:10:52 -0500] charity_: # in the cassandra distribution for details.
[2012-12-26 23:11:10 -0500] charity_: it seems like maybe the lines got truncated
[2012-12-26 23:12:12 -0500] btm: charity_: please use http://gist.github.com rather than pasting multiple lines into the channel.
[2012-12-26 23:12:20 -0500] charity_: apologies
[2012-12-26 23:13:43 -0500] bluethundr: funny.. I just upgraded my website to cassandra 1.1.8.. took all of about 2 minutes.. love working with cassandra
[2012-12-26 23:14:00 -0500] bluethundr: of course I haven't automated the upgrade with chef... yet :D
[2012-12-26 23:14:40 -0500] charity_: yeah, cassandra seems awesome, setting it up with chef has been nontrivial though
[2012-12-26 23:19:29 -0500] bluethundr: yeah I could see that... cassandra is much faster on writes than reads tho.. which is killer in some situations but not of very much use in others.. so you have to pick and choose
[2012-12-26 23:21:56 -0500] bluethundr: dang!! the opscode wiki is 'down for maintenance'... just when I need to get stuff done... wah wah wah wahhhh.. murphy's law!
[2012-12-26 23:22:31 -0500] miah: docs.opscode.com
[2012-12-26 23:24:25 -0500] bluethundr: miah: tha'ts helpful. thanks!
[2012-12-26 23:25:36 -0500] btm: bluethundr: not everyone agrees that mongodb's scalability is so simply proven, nor appropriate for every use case. Opscode Engineering evaluated a number of different databases on multiple levels, e.g. scalability, ease of use, longevity, public familiarity, performance, and licensing.
[2012-12-26 23:29:31 -0500] btm: storing a node in any sort of database is often like trying to put a square peg in a round hole.
[2012-12-26 23:29:55 -0500] bluethundr: btm.. interesting.. .my current boss used to work at foursquare.. they vetted their database options pretty well also.. and they settled on mongodb.. not that I'm insisting it would have been right for chef's next step in evolution.. from what we've seen so far your engineers must really be on their game
[2012-12-26 23:30:10 -0500] bluethundr: hmm interesting statement
[2012-12-26 23:31:20 -0500] miah: bluethundr: http://www.youtube.com/watch?v=FRFekZrLNas
[2012-12-26 23:31:34 -0500] btm: bluethundr: it doesn't mean that someone shouldn't use mongodb. For instance, if 4sq loses your checkin or Chef loses your node save, the consequences of those are very different. Those pieces of data are also very different sizes.
[2012-12-26 23:31:36 -0500] bluethundr: oh I think I know what this is... clicking anyway ;)
[2012-12-26 23:32:04 -0500] bluethundr: that's very true
[2012-12-26 23:32:41 -0500] bluethundr: who cares if you loose a facebook status update or a 4sq checking? it's just not very important.. but a chef node? your'e right SQL is the way to go
[2012-12-26 23:33:18 -0500] miah: i think its mostly 'this server is stable' vs 'this stuff is new and cool but still immature'
[2012-12-26 23:33:30 -0500] bluethundr: miah: this is very intersting thanks for the youtube link
[2012-12-26 23:33:33 -0500] miah: and less 'sql is the answer'
[2012-12-26 23:33:50 -0500] Mez: hey all - I've created a definition, which I'm calling from another cookbook - however, it's complaining that the template for that definition doesn't exist in the cookbook the definition is being called from - any help?
[2012-12-26 23:34:07 -0500] miah: Mez: does your cookbook have a 'depends' in the metadata ?
[2012-12-26 23:34:18 -0500] Mez: miah - nope :)
[2012-12-26 23:35:41 -0500] btm: bluethundr: the CAP theorem and ACID are valuable trains of thought to read about if you're not familiar with them too.
[2012-12-26 23:36:04 -0500] Mez: miah - it does now, but now it just says file not found
[2012-12-26 23:36:13 -0500] miah: make sure you're doing it right =)
[2012-12-26 23:36:19 -0500] bluethundr: btm: yep I've read up on them thanks
[2012-12-26 23:36:56 -0500] Mez: miah: that's the problem - not sure if I am :)
[2012-12-26 23:37:23 -0500] miah: docs.opscode.com
[2012-12-26 23:38:02 -0500] Mez: miah - I find the opscode docs kinda hard to follow except the examples :(
[2012-12-26 23:38:13 -0500] miah: im not going to do your homework for you
[2012-12-26 23:38:52 -0500] Mez: miah, mind if I /msg ?
[2012-12-26 23:39:09 -0500] miah: http://docs.opscode.com/config_rb_metadata.html
[2012-12-26 23:39:11 -0500] miah: read
[2012-12-26 23:39:23 -0500] miah: why msg. you can find the answer there with less time.
[2012-12-26 23:39:39 -0500] willsalt: anyone got any idea why, the chef-validator cert differs on a new server that i have created? i have stopped all chef services, couch-db, and rabbitmq, and restored my old server, (/etc/chef/, /var/lib/chef, /var/lib/couchdb etc) started couched then imported the database via couchdb-load and the chef validator vert differs still
[2012-12-26 23:40:08 -0500] Mez: miah, because the /msh is not to do with the question I'm asking here, it's more of me wanting to have a quiet word.
[2012-12-26 23:44:16 -0500] miah: heh
[2012-12-26 23:44:27 -0500] miah: feel free to ignore me if you dont like me
[2012-12-26 23:45:01 -0500] maplebed: how do I walk an attribute tree?  t.each {|a| ...} isn't doing it for me.
[2012-12-26 23:45:05 -0500] Mez: miah, my comments are purely aimed to make you aware that certain things can affect a community.
[2012-12-26 23:45:36 -0500] btm: willsalt: the chef-validator is a public/private key-pair. whats in couchdb and whats in /etc/chef/validation.pem need to sync up. that's my only advice.
[2012-12-26 23:46:29 -0500] willsalt: hmm, i think i know what happened...
[2012-12-26 23:46:53 -0500] btm: miah + Mez: please don't poke each other. If you're grumpy, keep it to yourself or work it out outside the channel please.
[2012-12-26 23:47:58 -0500] Mez: btm: this is why I did it via /msg
[2012-12-26 23:48:14 -0500] Mez: also - I found http://tickets.opscode.com/browse/CHEF-1490
[2012-12-26 23:48:18 -0500] Mez: which explains my issue.
[2012-12-26 23:51:22 -0500] miah: i am full of <3
[2012-12-26 23:53:14 -0500] btm: Chef 10.16.4 is offically out http://www.opscode.com/blog/2012/12/26/chef-10-16-4-released/
[2012-12-26 23:53:35 -0500] miah: hot
