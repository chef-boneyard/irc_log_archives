[2012-12-05 00:02:16 -0500] Guest22789: Does anyone know what the certs in /etc/chef/certificates is used for?  Are they just for the WebUI?   Or are they what is used to sign/generate the /etc/chef/validation.pem and /etc/chef/webui.pem certs?
[2012-12-05 00:09:49 -0500] appamatto: I'm thinking of switching from Joyent to AWS because it seems like a more standard chef/knife environment
[2012-12-05 00:10:20 -0500] appamatto: Is it pretty simple to, say, use RDS in the production environment but MySQL in a Vagrant/dev environment
[2012-12-05 00:15:27 -0500] WPsites: I'm having trouble adding two bits of info to the json of my role. It seems to be due to the name/key clashing, so one item gets dropped by the knife parser or something
[2012-12-05 00:15:39 -0500] WPsites: Here is my json structure https://gist.github.com/4193981 and here is the config file I'm trying to emulate http://cookbook.logstash.net/recipes/syslog-pri/#parsing-bsd-syslog-format. I've added the field "received_from" I just need to add "received_at" but I just can't get my head around adding 2 "add_field" items into the same structure? HELP
[2012-12-05 00:49:52 -0500] edelschaedel: anyone know how to properly reference the name of the environment that a node is in?   This doesn't seem to work <%= node['chef_environment'] %>
[2012-12-05 00:52:53 -0500] jtimberman: edelschaedel: node.chef_environment
[2012-12-05 00:53:06 -0500] jtimberman: its a method on Chef::Node that returns the environment, it isn't an attribute.
[2012-12-05 00:57:00 -0500] edelschaedel: jtimberman: thanks!
[2012-12-05 01:04:42 -0500] jhunter: using shef testing out a recipe
[2012-12-05 01:05:09 -0500] jhunter: how to search all my roles like how i'm searching nodes here?
[2012-12-05 01:05:12 -0500] jhunter: chef >
[2012-12-05 01:05:16 -0500] jhunter: whoops
[2012-12-05 01:05:16 -0500] jhunter: chef > search(:node, "roles:*") do |n|
[2012-12-05 01:05:23 -0500] siezer: enter the recipe context first
[2012-12-05 01:05:29 -0500] siezer: type 'recipe'
[2012-12-05 01:05:42 -0500] jhunter: oh?
[2012-12-05 01:06:05 -0500] siezer: yep! vs the "attribute" context, where you can simulate reading your attributes files
[2012-12-05 01:06:43 -0500] jhunter: yeah this still returning nothing
[2012-12-05 01:06:43 -0500] jhunter: chef:recipe > search(:role, "roles:*") do |r|
[2012-12-05 01:06:43 -0500] jhunter: chef:recipe > puts r.inspect
[2012-12-05 01:06:43 -0500] jhunter: chef:recipe ?> end => true
[2012-12-05 01:06:44 -0500] jhunter: chef:recipe >
[2012-12-05 01:07:04 -0500] jhunter: that true should be on a newline, but yeah.. still nothing
[2012-12-05 01:07:09 -0500] siezer: did you shef -z so it reads your config and connects to chef-server?
[2012-12-05 01:07:37 -0500] jhunter: chef > root@dev-justinh:~# shef -c /etc/chef/client.rb
[2012-12-05 01:07:37 -0500] jhunter: loading configuration: /etc/chef/client.rb
[2012-12-05 01:07:38 -0500] jhunter: Session type: standalone
[2012-12-05 01:07:38 -0500] jhunter: Loading..[Wed, 05 Dec 2012 01:07:22 +0000] INFO: Run List is []
[2012-12-05 01:07:38 -0500] jhunter: [Wed, 05 Dec 2012 01:07:22 +0000] INFO: Run List expands to []
[2012-12-05 01:07:39 -0500] jhunter: done.
[2012-12-05 01:08:10 -0500] siezer: hrm try -z
[2012-12-05 01:08:21 -0500] fromonesrc: jtimberman or anyone knowledgeable about windows_task on https://github.com/opscode-cookbooks/windows?
[2012-12-05 01:09:55 -0500] fromonesrc: I've got a win 2008 box with chef throwing "Cannot find a resource for windows_task on windows version 6.1.7601"
[2012-12-05 01:10:10 -0500] jhunter: yeah -z seems to be doing something different, but still empty set returned on that same search
[2012-12-05 01:10:12 -0500] jhunter: hef > root@dev-justinh:~# shef -z -c /etc/chef/client.rb
[2012-12-05 01:10:15 -0500] jhunter: loading configuration: /etc/chef/client.rb
[2012-12-05 01:10:17 -0500] jhunter: Session type: client
[2012-12-05 01:10:20 -0500] jhunter: Loading..[Wed, 05 Dec 2012 01:08:37 +0000] INFO: Run List is [role[SJC], role[MySQL-mysqldir], recipe[mysql::client-5.5_percona], recipe[mysql::dirs], recipe[fileserver::fileserver_master], recipe[mysql::5.1-configs], recipe[mysql::tools], recipe[chef::chef_disabled], recipe[php], recipe[php::module_mysql], recipe[jira]]
[2012-12-05 01:10:25 -0500] jhunter: [Wed, 05 Dec 2012 01:08:37 +0000] INFO: Run List expands to [common, ganglia::monitor, nagios::client, syslog-ng::client, kernel-modules::blacklist, snmpd::agent, racktables::populate, ohai, openssh, git::global_config, mysql::client-5.5_percona, mysql::dirs, fileserver::fileserver_master, mysql::5.1-configs, mysql::tools, chef::chef_disabled, php, php::module_mysql, jira]
[2012-12-05 01:10:30 -0500] jhunter: .[Wed, 05 Dec 2012 01:08:38 +0000] INFO: Loading cookbooks [apache2, apt, build-essential, chef, chef_handler, common, console, deploy_wrapper, fileserver, fuse, ganglia, git, hosts, jira, kernel-modules, logrotate, lvm, megaraid, motd-tail, mysql, nagios, networking, nfs, nsswitch, ntp, ohai, openssh, perl, php, platform, racktables, resolver, ruby, runit, sar, sass, snmpd, ssh_keys, ssl, subversion, sudo, sysctl, syslog-ng, timezone, ub
[2012-12-05 01:10:36 -0500] jhunter: oof.. sorry for the paste
[2012-12-05 01:10:57 -0500] siezer: haha no prob. gist.github.com
[2012-12-05 01:11:05 -0500] jhunter: i can search :node to my heart's content.. but :role seems to be not so easy
[2012-12-05 01:11:16 -0500] siezer: strange
[2012-12-05 01:11:41 -0500] siezer: sometimes shef behaves a little funny
[2012-12-05 01:11:51 -0500] jhunter: yeah
[2012-12-05 01:11:52 -0500] jhunter: https://gist.github.com/4211009
[2012-12-05 01:12:01 -0500] siezer: I usually only use it to demonstrate the compile phase to people
[2012-12-05 01:12:55 -0500] siezer: jhunter try https://gist.github.com/4211019
[2012-12-05 01:13:53 -0500] siezer: er
[2012-12-05 01:14:11 -0500] jhunter: yeah retry that plz :D
[2012-12-05 01:14:18 -0500] siezer: reload
[2012-12-05 01:14:52 -0500] siezer: search(:role, "name:*")
[2012-12-05 01:14:55 -0500] jhunter: aha
[2012-12-05 01:15:02 -0500] jhunter: awesome.. ty
[2012-12-05 01:15:12 -0500] jhunter: one final q
[2012-12-05 01:15:35 -0500] jhunter: in the context of an actual recipe tho, how best to do that search? i'm in the 'recipe' context of shef
[2012-12-05 01:16:01 -0500] jhunter: sample from an actual recipe: devhosts = search(:node, "roles:DevHost")
[2012-12-05 01:16:36 -0500] jhunter: well, lemme see if i can just s// stuff out and that'll jfw
[2012-12-05 01:16:55 -0500] jhunter: ah i guess so
[2012-12-05 01:16:59 -0500] jhunter: tyvm, siezer
[2012-12-05 01:17:23 -0500] siezer: just remember that your node and role objects are indexed json docs on chef-server... so you can search for any field and any solr syntax
[2012-12-05 01:17:27 -0500] siezer: so usually
[2012-12-05 01:18:50 -0500] siezer: search(:node, 'recipes:apache2\:\:mod_proxy_ajp' AND AND chef_environment:#{node.chef_environment}")
[2012-12-05 01:18:52 -0500] siezer: or something
[2012-12-05 01:20:27 -0500] jhunter: ohhhhhh
[2012-12-05 01:20:27 -0500] jhunter: ok
[2012-12-05 01:20:31 -0500] jhunter: right on.. thx
[2012-12-05 01:20:46 -0500] siezer: np
[2012-12-05 01:20:52 -0500] siezer: dinnertime! later
[2012-12-05 02:22:50 -0500] miah: hi
[2012-12-05 02:57:02 -0500] jtimberman: miah: howdy!
[2012-12-05 03:07:42 -0500] miah: hows go
[2012-12-05 03:14:21 -0500] jtimberman: i need a faster server :)
[2012-12-05 03:33:44 -0500] githubble: hey I just came across https://github.com/cramerdev/capistrano-chef and want to implement something similar ... integrate capistrano with chef ... any best practices ... thanks in advance
[2012-12-05 03:46:00 -0500] jtimberman: githubble: uhm, just use that gem?
[2012-12-05 03:46:09 -0500] jerf: greetings
[2012-12-05 03:46:27 -0500] jerf: oh just my luck jtimberman is here :)
[2012-12-05 03:46:28 -0500] githubble: jtimberman gem install *gemfile* ?
[2012-12-05 03:47:22 -0500] jerf: i've been messing around with my own hosted chef-server and a few test clients..but I've run into one annoyance that I can't seem to track down
[2012-12-05 03:47:25 -0500] jtimberman: githubble: gem install capistrano-chef, or you can clone the git repository and use it locally
[2012-12-05 03:47:41 -0500] githubble: I like either > brb
[2012-12-05 03:47:47 -0500] jerf: No routes match the request: /reports/nodes/CLIENT-TEST/runs   ..this error is reported by merb
[2012-12-05 03:48:07 -0500] jerf: not sure why run history stuff isn't found on the server at all..
[2012-12-05 03:49:33 -0500] jerf: resource_reporter::node_load_completed spits out an error stating that maybe the feature is not supported on the server,  but i don't see anything in server.rb to change
[2012-12-05 03:51:16 -0500] githubble: jtimberman have cloned the repo .... some assistance with deploying it with my local chef would be handy (pack of twinkies coming your way) cheers
[2012-12-05 03:52:06 -0500] jtimberman: githubble: the repository has a readme, it should give instruction on how to use it.
[2012-12-05 03:52:40 -0500] jtimberman: jerf: if you're using Opscode Hosted Chef, it's best to email support@opscode.com about that.
[2012-12-05 03:52:52 -0500] jerf: jt, its my own chef server
[2012-12-05 03:53:46 -0500] jtimberman: jerf: how are you running chef client?
[2012-12-05 03:54:03 -0500] jtimberman: or, can you gist your client.rb?
[2012-12-05 03:54:10 -0500] jerf: initially ran via knife ec2 create instance
[2012-12-05 03:54:14 -0500] jerf: now just using sudo chef-client
[2012-12-05 03:54:55 -0500] jerf: it looks like its a server setting i need to change..just cant find any documentation on where to enable it..crawling thru chef codebase as we speak
[2012-12-05 03:57:10 -0500] githubble: jtimberman hmmm not 100$ clear on when files are used in Capistrano Chef
[2012-12-05 03:57:20 -0500] jerf: and i tried  chef-client -R as well just in case but it looks like a server issue
[2012-12-05 03:57:24 -0500] jerf: since merb cant resolve the route
[2012-12-05 03:57:28 -0500] githubble: jtimberman it seems to use the same files as capistrano
[2012-12-05 03:57:59 -0500] jtimberman: jerf: the -R option is not a feature available in open source chef server at this time.
[2012-12-05 03:58:21 -0500] jerf: oh..
[2012-12-05 03:58:32 -0500] jerf: so i should just disable run history reporting on my clients?
[2012-12-05 03:58:45 -0500] jerf: seems like it'd be useful, oh well :(
[2012-12-05 04:04:37 -0500] jerf: not sure how to turn that off then...
[2012-12-05 04:06:46 -0500] jerf: ok enable_reporting FALSE  in client.rb seems to do it
[2012-12-05 04:07:20 -0500] jerf: just got concerned seeing that 404, but there's nothing i can but disable it unless i go hosted jtimberman?
[2012-12-05 04:09:00 -0500] jtimberman: jerf: I can't really say much else about it, since that's not officially released :)
[2012-12-05 04:09:42 -0500] jerf: fair enough
[2012-12-05 04:09:56 -0500] jerf: glad im not going crazy then, thnx!
[2012-12-05 04:28:36 -0500] tolland: is there a endpoint that I can use to test the server API auth?
[2012-12-05 04:28:56 -0500] tolland: the hosted server returns 400 against a / request
[2012-12-05 04:29:05 -0500] tolland: ie a null request
[2012-12-05 04:46:07 -0500] miah: even for a HEAD rather than a GET ?
[2012-12-05 04:46:28 -0500] miah: but it would be nice if there was a /test url too
[2012-12-05 04:47:00 -0500] miah: your test could use a client key and perform a standard but boring query
[2012-12-05 04:53:37 -0500] jtimberman: there will be a fully executable test suite in Chef 11 :)
[2012-12-05 04:53:48 -0500] jtimberman: runs *all* the API endpoints and integration goodness.
[2012-12-05 04:54:54 -0500] bluepojo: woo
[2012-12-05 04:54:58 -0500] bluepojo:  /highfive
[2012-12-05 04:55:29 -0500] jerf: chef 11 for xmas plz?
[2012-12-05 04:58:52 -0500] jtimberman: I don't have an ETA, but stay tuned to the mailing list
[2012-12-05 06:30:19 -0500] BryanWB_: ohai chefs!
[2012-12-05 06:38:13 -0500] odyssey4me: ohai :p
[2012-12-05 07:05:28 -0500] chef_00: Hi There, I am continuously having trouble using postgresql cookbook, It fails at bash[assign-postgres-password] http://pastie.org/private/s6lmfidqbhpib0rnovnvfw , It will be great if someone can throw some light on this :)
[2012-12-05 07:07:16 -0500] chef_00: I see that there has been issues like this reported in past (https://github.com/opscode-cookbooks/postgresql/pull/5) but cant understand the fix
[2012-12-05 07:11:08 -0500] chaos: chef_00, your postgres doesn't listen on unix socket
[2012-12-05 07:20:29 -0500] chef_00: chaos, Thanks for reply, I am using default node attributes I am only setting this in my role file http://pastie.org/private/zss1jepaccu420ysw8sxuw
[2012-12-05 07:28:33 -0500] chaos: chef_00, can you do psql -h localhost?
[2012-12-05 08:40:16 -0500] chef_00: chaos, no i can't connect to local postgres and ps ax list no pg running. When I try service postgresql start, it does not complain with any errors but niether starts the server , here is output of my pg_config http://pastie.org/private/jlhlhajizy7ljp1ngqiizq
[2012-12-05 09:06:03 -0500] chaos: chef_00, on previous link you shown json with postgresql key and version 9.2
[2012-12-05 09:06:17 -0500] chaos: and now you config is for pg 9.1
[2012-12-05 09:54:54 -0500] dkannan: inside a role (ruby format) i cannot query node attributes ?
[2012-12-05 09:59:07 -0500] dkannan: http://pastie.org/private/swnmqau2f4esu6jf6q9vg
[2012-12-05 10:18:57 -0500] aruntomar: dkannan: first require 'chef'
[2012-12-05 10:19:20 -0500] aruntomar: dkannan: then rather then node.xxx  use Chef::Node
[2012-12-05 10:27:03 -0500] chef_00: hey chaos, I removed all that config and running on all default attributes, I passed the previous issue but now postgres still complains saying the service can not be started by root http://pastie.org/private/hibzmo1ktxmjxxo4zp3a
[2012-12-05 10:28:31 -0500] chef_00: can anyone please help? when I run sudo chef-client , it will always try to start postgres as root user, how do I tell my postgres recipe to run as different user?
[2012-12-05 10:32:12 -0500] specialsauce: hey anyone got time to help with a chef-server not starting issue? http://pastie.org/5483133
[2012-12-05 10:35:29 -0500] specialsauce: chef_00: the service is started using the default service provider for your OS, so probably just using an init script or whatever. If so, you might find you can specify the user inthe init script, or in /etc/sysconfig/* or in /etc/default/* or similar
[2012-12-05 10:36:02 -0500] specialsauce: alternatively, if you installed from RPM, rebuild the RPM so it uses a different user by default
[2012-12-05 10:40:31 -0500] chef_00: specialsauce: I am on ubuntu , opscode's postgres cookbook default configuration creates /etc/init.d/postgresql which is reponsible for starting the service, how do I change its behavior through attributes ? (I am a bit new to Chef)
[2012-12-05 10:44:00 -0500] aruntomar: chef_00: chef client runs as root by default. on my centos system with postgres in the /etc/init.d/postgres-9.2 this is the line that starts the database. " echo -n "$PSQL_START"
[2012-12-05 10:44:00 -0500] aruntomar:         $SU -l postgres -c "$PGENGINE/postmaster -p '$PGPORT' -D '$PGDATA' ${PGOPTS} &" >> "$PGLOG" 2>&1 < /dev/null
[2012-12-05 10:44:01 -0500] aruntomar: "
[2012-12-05 10:44:09 -0500] specialsauce: if yu're using the opscode one, I don't think from the looks of things that it puts a different start script in place, it just uses the default one from the package provider
[2012-12-05 10:44:18 -0500] specialsauce: so you'd need to take a look at the package, as posted above
[2012-12-05 10:44:21 -0500] specialsauce: this is not a chef issue
[2012-12-05 10:44:51 -0500] dkannan: aruntomar: Chef::Node needs chef-server it seems. http://rubydoc.info/gems/chef/10.16.2/Chef/Node#find_or_create-class_method
[2012-12-05 10:45:00 -0500] dkannan: aruntomar: i am using chef-solo
[2012-12-05 10:45:19 -0500] aruntomar: dkannan: oh..... my bad, i assumed u r on chef server
[2012-12-05 10:46:52 -0500] aruntomar: chef_00: focus on the $SU -l postgres, that's the key. check ur startup file and let us know
[2012-12-05 11:01:23 -0500] chef_00: aruntomar:  how do you change the startup file via chef?
[2012-12-05 11:02:03 -0500] aruntomar: chef_00: what's the user in the startup file
[2012-12-05 11:03:02 -0500] aruntomar: chef_00: you can write your own startup file and push it via cookbook_file resource or you could write a template (which gives you much more flexibility) and then use "template" resource
[2012-12-05 11:10:11 -0500] chef_00: aruntomar:  this is how my  /etc/init.d/postgresql file looks http://pastie.org/private/tsg5cwhvmgmr7tmltwkccw where can I add info about user that will start the postgres service
[2012-12-05 11:14:05 -0500] zts: dkannan: Chef::Node does not need chef-server
[2012-12-05 11:14:40 -0500] zts: dkannan: but you can't access node data within a role, as the role isn't interpreted in the context of a node
[2012-12-05 11:15:10 -0500] zts: dkannan: not sure exactly how it works with Chef Solo, but I'd imagine it's the same as client-server - the ruby role is interpreted to produce the json role, and that's what is fed into the Chef run
[2012-12-05 11:17:28 -0500] dkannan: zts: this is what i tried. http://pastie.org/private/jhogsjii15ltmsbvlkbzya
[2012-12-05 11:18:14 -0500] dkannan: zts: tried the same is shef as well
[2012-12-05 11:18:42 -0500] zts: dkannan: I'm guessing that Chef::Node#find_or_create means "load it from the Chef Server (if it exists), or create one" - but that's not the only way to create a node
[2012-12-05 11:19:31 -0500] dkannan: zts: oh. i have some attributes defined in a user cookbook. need to access it in a role
[2012-12-05 11:19:43 -0500] dkannan: zts: am using chef-solo
[2012-12-05 11:21:21 -0500] zts: dkannan: yeah, you can't really do that.  Can you solve the problem the other way around?  That is, the user cookbook makes use of the data in the role?
[2012-12-05 11:22:05 -0500] dkannan: zts: the role was override-ing some attributes
[2012-12-05 11:24:33 -0500] dkannan: zts: right now am passing an env variable to chef-solo. ie. http://pastie.org/private/bxvqtfomic3q6cotlstnw
[2012-12-05 11:28:19 -0500] zts: dkannan: yes.  If you know up-front (before you start Chef) what the variables should be set to, you can pass them in like that, or write them as JSON in your dna.json, or a role, or something else
[2012-12-05 11:28:58 -0500] zts: dkannan: if you need to compute the value of the variable (eg, loop over all users and pick out the ones with role: "deploy"), you'll probably want to do that in a cookbook
[2012-12-05 11:28:59 -0500] aruntomar: chef_00: i tried finding that option in ubuntu, still not able to find it. so tell me how are u installing postgres? package manager or source or some stack?
[2012-12-05 11:29:30 -0500] dkannan: zts: thanks
[2012-12-05 11:40:14 -0500] jviney: Hi all - I'm new to chef, been trying it out for a few days and have run into a problem. I'm using the rbenv cookbook to install ruby, and then subsequent to that I reference node[:languages][:ruby][:ruby_bin] expecting to find the newly installed ruby, but it points to the one there previously (from vagrant in my case). A subsequent recipe then fils because it is not pointing to the correct ruby version. If I launch a new shell and ru
[2012-12-05 11:40:25 -0500] jviney: fine, because ohai runs again, and finds the new ruby. From what I can tell, you can't really refresh the ohai data half way through running chef - is that correct? And if that's the case do I need to find a different way to reference the ruby version installed by rbenv? Thanks in advance!
[2012-12-05 11:51:35 -0500] zts: jviney: you can use the "ohai" resource to reload ohai in a run, so I'd try that first: http://wiki.opscode.com/display/chef/Resources#Resources-Ohai
[2012-12-05 11:52:28 -0500] zts: jviney: if it works, you'll probably want to arrange things so that it only does that when a new ruby has been installed (to avoid running ohai twice for every Chef run)
[2012-12-05 11:53:27 -0500] jviney: zts: i tried doing t hat, and although it does reload it - i think the recipes that are going to be run have already been compiled (i'm not 100% sure about this). so where they've already done string substitution eg "#{node[:languages][:ruby][:bin_dir}}" just refreshing ohai isn't enough because those strings have already been determined. at leats that's what appears to be happenning i think
[2012-12-05 11:54:15 -0500] specialsauce: hey anyone got time to help with a chef-server not starting issue? http://pastie.org/5483133
[2012-12-05 11:57:12 -0500] specialsauce: (if I run it in foreground without the user and group as specified, then it runs fine as root)
[2012-12-05 11:59:09 -0500] chef_00: aruntomar: Thanks for looking at the option for me, actually I am using https://github.com/opscode-cookbooks/postgresql with all default values on ubuntu precise distribution
[2012-12-05 12:00:14 -0500] chef_00: aruntomar: surprisingly the default settings which is the most basic config , I am finding difficulty
[2012-12-05 12:13:54 -0500] zts: jviney: ah, yeah that sounds entirely possible.  Would it be possible to avoid the string substitutions that are causing you problems?  (can you pastebin a dependent recipe?)
[2012-12-05 12:56:38 -0500] masterkorp: hello
[2012-12-05 13:04:54 -0500] Virunga: Hi, knife cookbook show [cookbook_name] works, but i can't see anything else of a cookbook, for example the attribute file
[2012-12-05 13:05:21 -0500] Virunga: knife cookbook show cb attributes isn't working
[2012-12-05 13:05:46 -0500] Virunga: How could i do? Am i doing something wrong?
[2012-12-05 13:28:02 -0500] zts: Virunga: knife cookbook show <cookbook> <version> attributes - see the examples here http://wiki.opscode.com/display/chef/Managing+Cookbooks+With+Knife#ManagingCookbooksWithKnife-show
[2012-12-05 13:30:06 -0500] Virunga: zts: oh, i thought the version was optional, thank you!
[2012-12-05 13:34:23 -0500] Virunga: I needed this command to understand better this error http://ideone.com/eOagYR . This is the first time i met it. It happens only with that recipe, do you know what could cause that error, please?
[2012-12-05 13:34:36 -0500] zts: Virunga: no problem - you'd imagine that it would use the latest version as a default, but apparently not
[2012-12-05 13:34:47 -0500] superbaloo: dear chef users. would it be possible to add some code in providers files outside action blocks ? Like path and variables i would use in every of my actions (create / delete actions, i'm acting on the same files, copy paste code for generating thos paths is inefficient)
[2012-12-05 13:35:03 -0500] Virunga: The recipe exists http://ideone.com/xDLbbZ .
[2012-12-05 13:36:42 -0500] fabio: hello, on a clean install on a ubuntu12.04 server i get this  LoadError: no such file to load -- mysql
[2012-12-05 13:36:48 -0500] zts: Virunga: ah, but your overridden runlist is looking for recipe "default" in cookbook "recipes"
[2012-12-05 13:36:50 -0500] fabio: when I use the database cookbook
[2012-12-05 13:36:54 -0500] zts: [2012-12-05T13:31:55+00:00] WARN: Overridden Run List: [recipe[recipes]]
[2012-12-05 13:37:30 -0500] Virunga: zts: yes but i can't really understand why, i added the -o option wiht recipe[pasa] argument
[2012-12-05 13:38:12 -0500] zts: Virunga: what was the exact commandline you used?  Depending on your shell, you'll need to quote that argument - "recipe[pasa]" or recipe
[2012-12-05 13:38:16 -0500] zts: gah
[2012-12-05 13:38:22 -0500] zts: recipe\[pasa\] - or something like that
[2012-12-05 13:39:08 -0500] Virunga: zts: i'm using bash, but with other recipes it works smoothly.
[2012-12-05 13:39:09 -0500] fabio: anyone knows a bug in a mysql-database recipes?
[2012-12-05 13:39:26 -0500] fabio: with a simple :create in the database/default.rb recipe, i get the gem is not installed
[2012-12-05 13:39:30 -0500] Virunga: zts: for example sudo chef-client -o recipe[eigen] works
[2012-12-05 13:39:35 -0500] fabio: but mysql recipe installs fine
[2012-12-05 13:39:40 -0500] Virunga: [2012-12-05T13:38:43+00:00] WARN: Overridden Run List: [recipe[eigen]]
[2012-12-05 13:40:31 -0500] Virunga: It's really weird...
[2012-12-05 13:40:45 -0500] Virunga: What did i do? xD ahrg
[2012-12-05 13:41:05 -0500] zts: Virunga: that's me out of ideas then, I'm afraid :)
[2012-12-05 13:41:27 -0500] Virunga: zts: gosh.. Thanks for your support! :)
[2012-12-05 13:42:24 -0500] zts: np :)
[2012-12-05 13:43:25 -0500] Virunga: fabio: maybe you need to install the mysql gem. Try to look the doc on the community web site.
[2012-12-05 13:44:26 -0500] fabio: Virunga, is not installed with the standard mysql recipe?
[2012-12-05 13:45:20 -0500] Virunga: fabio: i don't remember, but these informations are on the opscode community web page of mysql
[2012-12-05 13:45:42 -0500] Virunga: Mysql cookbook.
[2012-12-05 13:46:06 -0500] fabio: http://ry4an.org/unblog/post/chef_mysql_database_vagrant/
[2012-12-05 13:46:16 -0500] fabio: it seems there is another bug in another cookbook
[2012-12-05 13:46:25 -0500] fabio: I will try this url
[2012-12-05 13:47:39 -0500] Virunga: fabio: i'll have to use that cookbook soon, in case i'll let you know something.
[2012-12-05 13:48:20 -0500] fabio: really frustrating because the gem was already installed in the previous mysql::server recipe
[2012-12-05 13:48:24 -0500] fabio: ok
[2012-12-05 13:49:11 -0500] fabio: i think is because Vagrant
[2012-12-05 13:50:01 -0500] fabio: there are tons of entries in google about my problem, but still dont understand
[2012-12-05 13:51:23 -0500] Virunga: Damn, i'm using vagrant too.
[2012-12-05 13:53:07 -0500] fabio: I dont understand why the people uses this if it doesnt work with a mysql+database clean cookbooks
[2012-12-05 13:53:17 -0500] fabio: at least
[2012-12-05 13:57:29 -0500] Virunga: fabio: are you italian?
[2012-12-05 14:00:46 -0500] fabio: Virunga, im spanish
[2012-12-05 14:01:04 -0500] fabio: I solved the provision errors with the snippet in the url
[2012-12-05 14:01:39 -0500] fabio: but now, my action                   INFO: Processing mysql_database[si_crud] action create (database::default line 30)
[2012-12-05 14:01:52 -0500] fabio: dumps no erros, but the database is not created
[2012-12-05 14:04:10 -0500] fabio: im using default.rb and master.rb remains untouched
[2012-12-05 14:04:18 -0500] Virunga: On nodes which may use the database cookbook's mysql resources, also use the ruby recipe
[2012-12-05 14:04:21 -0500] Virunga: says the doc
[2012-12-05 14:04:37 -0500] Virunga: And mysql::sever don't include it
[2012-12-05 14:04:55 -0500] Virunga: Maybe it concurs to the problem.
[2012-12-05 14:27:07 -0500] specialsauce: hey anyone got time to help with a chef-server not starting issue? http://pastie.org/5483133
[2012-12-05 14:27:16 -0500] specialsauce: (if I run it in foreground without the user and group as specified, then it runs fine as root)
[2012-12-05 14:39:48 -0500] Virunga: Server attribute file of the mysql cookbook has this row default['mysql']['bind_address'] = attribute?('cloud') ? cloud['local_ipv4'] : ipaddress
[2012-12-05 14:40:12 -0500] Virunga: But in Shef, ipaddress gives an error.
[2012-12-05 14:40:37 -0500] Virunga: Where's defined that method
[2012-12-05 14:40:41 -0500] Virunga: ?
[2012-12-05 14:40:58 -0500] Virunga: Not in library...
[2012-12-05 14:43:59 -0500] zts: Virunga: that would be node.ipaddress, I believe
[2012-12-05 14:44:52 -0500] Virunga: zts: you're right! Thank you.
[2012-12-05 14:44:59 -0500] zts: np
[2012-12-05 14:45:02 -0500] Virunga: eheh
[2012-12-05 15:42:43 -0500] wildfire: hi, it seems knife defaults to looking in ./chef/knife/knife.rb
[2012-12-05 15:43:28 -0500] wildfire: for me, that file causes a " undefined method `log_level' for main:Object (NoMethodError)"
[2012-12-05 15:43:46 -0500] wildfire: but if I move it away, and point to another file, things work
[2012-12-05 15:44:08 -0500] wildfire: I'm finding that even if I pass '-c ' to knife, it seems to default to ./chef/knife/knife.rb
[2012-12-05 15:44:11 -0500] wildfire: is that expected?
[2012-12-05 15:44:34 -0500] wildfire: and what is the rationale behind defaulting to looking for knife.rb in that location
[2012-12-05 16:18:16 -0500] wildfire: OK. Finally I understand.
[2012-12-05 16:18:39 -0500] wildfire: basically: knife looks in 'chef/knife' for *extensions* but in .chef/knife.rb for the configuration
[2012-12-05 16:18:43 -0500] wassy121_: wildfire, I'm interested.  What happened?
[2012-12-05 16:19:04 -0500] wassy121_: Oooh, crap.  I see how that is super confusing
[2012-12-05 16:19:23 -0500] wildfire: so when it looks like 'chef/knife/' (no '.') and reads in knife.rb; the first line is 'log_level'
[2012-12-05 16:19:42 -0500] wildfire: the knife program *then* tries to load a sub-command called 'log_level', etc.
[2012-12-05 16:20:14 -0500] wildfire: migrating the file 'chef/knife/knife.rb' to '.chef/knife.rb' and things work
[2012-12-05 16:21:45 -0500] martinisoft: is there any sensible way to manage multiple knife configs?
[2012-12-05 16:21:55 -0500] martinisoft: (have two hosted chef accounts to manage)
[2012-12-05 16:22:16 -0500] wassy121_: https://gist.github.com/1860681
[2012-12-05 16:22:23 -0500] wassy121_: has a reasonable way to do what you need
[2012-12-05 16:22:50 -0500] zts: martinisoft: I use knife-block for that
[2012-12-05 16:22:56 -0500] juliancdunn: martinisoft: I used to just set up shell aliases
[2012-12-05 16:23:06 -0500] juliancdunn: kp2() { knife "$@" -c ~/.chef/the_other_knife.rb; }
[2012-12-05 16:24:21 -0500] zts: https://github.com/greenandsecure/knife-block
[2012-12-05 16:25:19 -0500] martinisoft: ah cool
[2012-12-05 16:25:26 -0500] martinisoft: was about to ask zts if that link was the one
[2012-12-05 16:25:37 -0500] martinisoft: hard to find via google without getting shopping lists for knife blocks
[2012-12-05 16:26:02 -0500] wassy121: I've found a lot of google searches for "chef knife SOMETHING" return interesting results
[2012-12-05 16:33:11 -0500] martinisoft: zts: thanks for that, gonna give it a spin :)
[2012-12-05 16:33:20 -0500] zts: martinisoft: no problemo!
[2012-12-05 16:33:26 -0500] mattray: When did Ubuntu start putting the landscape-client daemon on boxes?
[2012-12-05 16:33:39 -0500] martinisoft: mattray: since the previous LTS at least
[2012-12-05 16:33:58 -0500] martinisoft: also as of 11.10 they have whoopsie
[2012-12-05 16:34:07 -0500] martinisoft: (crash reporter)
[2012-12-05 16:34:08 -0500] mattray: yeah, whoopsie is in the annoyances cookbook
[2012-12-05 16:34:22 -0500] mattray: wondering if I need to remove the landscape-client too
[2012-12-05 16:34:36 -0500] martinisoft: landscape-common I keep around for the pretty MOTD
[2012-12-05 16:34:39 -0500] martinisoft: with system stats
[2012-12-05 16:34:49 -0500] martinisoft: I ditch the client :)
[2012-12-05 16:34:49 -0500] mattray: fair enough
[2012-12-05 16:35:00 -0500] mattray: ahh, lemme try that
[2012-12-05 16:36:22 -0500] martinisoft: Also there is a trick to disable the URL that pops up where it says "Register this system with landscape at..."
[2012-12-05 17:01:48 -0500] jtimberman: martinisoft: i think someone posted a 'chef-vm' project on github recently
[2012-12-05 17:02:53 -0500] martinisoft: ah neat
[2012-12-05 17:03:00 -0500] martinisoft: hmm, looks like knife-block
[2012-12-05 17:03:27 -0500] martinisoft: or like knife-block rvm style
[2012-12-05 17:03:36 -0500] drnfx: after i add a recipe to the runlist of the node, i run chef-client on the node correct?
[2012-12-05 17:03:48 -0500] martinisoft: drnfx: yup
[2012-12-05 17:04:07 -0500] martinisoft: jtimberman: https://github.com/trobrock/chefvm <- that one right?
[2012-12-05 17:05:00 -0500] drnfx: subsequently, if i create a role with the necessary runlists
[2012-12-05 17:05:14 -0500] drnfx: if i add a role to a node, that will run all those recipes correct/
[2012-12-05 17:05:32 -0500] martinisoft: drnfx: yup
[2012-12-05 17:05:51 -0500] drnfx: thank you
[2012-12-05 17:06:31 -0500] jtimberman: martinisoft: could be :) I don't remember who's project just that someone tweeted about it
[2012-12-05 17:08:50 -0500] awgross: if anyone here uses Sublime Text for writing recipes, check out https://github.com/cabeca/SublimeChef
[2012-12-05 17:08:53 -0500] awgross: just discovered it
[2012-12-05 17:09:10 -0500] awgross: great for some autocompletes
[2012-12-05 17:09:37 -0500] hasp-air: NICE!!
[2012-12-05 17:09:40 -0500] hasp-air: thats money
[2012-12-05 17:09:42 -0500] hasp-air: thanks for sharing
[2012-12-05 17:10:15 -0500] awgross: np
[2012-12-05 17:10:18 -0500] leifmadsen: awgross: huh... neat.
[2012-12-05 17:10:40 -0500] mobilemike: What's the "right" way to access the node's name in a recipe, for he purposes of setting the hostname/fqdn based on it?
[2012-12-05 17:10:57 -0500] leifmadsen: awgross: woah, looking at the video.... very nice.
[2012-12-05 17:11:53 -0500] awgross: mobilemike: ohai should populate that, check out node['hostname']
[2012-12-05 17:12:04 -0500] awgross: or just run ohai and look through and see if it has what you are looking for
[2012-12-05 17:13:29 -0500] mobilemike: hostname is the default for an EC2 instance, which is set to the internal DNS entry. I actually want to _change_ hostname to be what I named the node. Seem's like it would be a common thing to do, but I'm not finding much.
[2012-12-05 17:13:58 -0500] awgross: mobilemike: oh i see
[2012-12-05 17:14:34 -0500] awgross: new_hostname = Chef::Config[:node_name].gsub(/_/, '-')
[2012-12-05 17:14:54 -0500] awgross: mobilemike: thats what I use to get what I named the node and swap out the hostname
[2012-12-05 17:15:05 -0500] mobilemike: Huh. Okay. Seems hawkish, which makes me think I'm swimming a bit upstream.
[2012-12-05 17:15:14 -0500] mobilemike: *hackish
[2012-12-05 17:15:34 -0500] awgross: mobilemike: not really, EC2 is a bit strange compared to most, since the hostname is very random
[2012-12-05 17:15:39 -0500] mobilemike: The fact that it's not an attribute makes me think I'm not "supposed" to use it for some reason.
[2012-12-05 17:16:01 -0500] awgross: mobilemike: ohai grabs system information, and is merged with any attributes you set
[2012-12-05 17:16:43 -0500] mobilemike: Yea, i suppose that makes sense. It doesn't really care about the chef client or it's config.
[2012-12-05 17:16:43 -0500] awgross: when bootstrapping and registering, your node name etc is brought in by knife and templated into a file
[2012-12-05 17:17:29 -0500] awgross: client.rb
[2012-12-05 17:17:44 -0500] awgross: so you could read that file, but its better practice to use the Chef:Config stuff
[2012-12-05 17:18:16 -0500] mobilemike: Yup, got it. One last thing, why do you gsub the _?
[2012-12-05 17:18:29 -0500] awgross: hostnames cant have them
[2012-12-05 17:18:34 -0500] mobilemike: Ahhh...
[2012-12-05 17:18:37 -0500] awgross: but they can have -
[2012-12-05 17:18:48 -0500] awgross: i lean towards _
[2012-12-05 17:18:56 -0500] awgross: since ruby/python like those in various names, but not -
[2012-12-05 17:19:03 -0500] awgross: so I only use dash when I absolutely have to
[2012-12-05 17:19:17 -0500] awgross: since ruby/python dont like those in various names*
[2012-12-05 17:19:20 -0500] mobilemike: gotcha
[2012-12-05 17:19:22 -0500] mobilemike: Thx
[2012-12-05 17:24:59 -0500] jtimberman: hostnames can't have _ per the RFC, but people use hostnames with _ anyway :(
[2012-12-05 17:25:31 -0500] Death_Syn: ubuntu and rhel6 wouldn't let us install boxes with _ un hostnames
[2012-12-05 17:25:34 -0500] jtimberman: just like email address RFC allows pretty much anything on the left side of the @, but many sites don't allow me+filterablekeyword@domain.com
[2012-12-05 17:26:00 -0500] Death_Syn: we're transitioning to hyphenated hostnames here
[2012-12-05 17:44:48 -0500] c_t: ohai chefs
[2012-12-05 17:45:05 -0500] fromonesrc: hi c_t!
[2012-12-05 18:10:47 -0500] moos3: anyone with rhel servers using chef to manage networks ?
[2012-12-05 18:36:43 -0500] dysinger: does anyone have code that will poll ec2 & remove nodes that have been terminated?
[2012-12-05 18:36:52 -0500] dysinger: (remove from chef-platform)
[2012-12-05 18:37:12 -0500] miah: moin
[2012-12-05 18:42:21 -0500] dyer: Question, is it possible to use another hash besides sha256 ?
[2012-12-05 18:42:36 -0500] dyer: referring to checksums in remote_file
[2012-12-05 18:44:42 -0500] miah: why would you?
[2012-12-05 18:46:40 -0500] dyer: Well for example in Maven each artifact has a sha1 and md5 already generated
[2012-12-05 18:46:46 -0500] miah: https://github.com/opscode/chef/blob/master/lib/chef/checksum_cache.rb
[2012-12-05 18:46:54 -0500] dyer: and if I were to use s3 each item already has a md5 generated
[2012-12-05 18:47:03 -0500] miah: i see md5 in there. but i haven't read the code through to know that it works
[2012-12-05 18:58:07 -0500] dyer: miah, but u see my point though, I have several other tools that generate sha1 and md5 checksums of artifacts as they come out of CI, I am just wondering if I could use them rather then having to create and manage another checksum
[2012-12-05 19:00:09 -0500] uncommitted: having a problem uploading the latest git cookbook, says that it depends on runit >=0.0.0 (which is listed as 0.16.0)
[2012-12-05 19:00:21 -0500] uncommitted: ERROR: Cookbook git depends on cookbook runit, version >= 0.0.0,
[2012-12-05 19:00:22 -0500] uncommitted: ERROR: which is not currently being uploaded and cannot be found on the server.
[2012-12-05 19:01:59 -0500] kallistec: uncommitted: `knife cookbook upload git runit`
[2012-12-05 19:02:03 -0500] khimera: Any idea how I can go by checking if a service exist?  only_if  [php-fpm is installed] for example?
[2012-12-05 19:02:03 -0500] dysinger: what's the best way to run chef-client omnibus as service ongoing these days? we used to have the chef-client cookbook which did a gem install w/ runit/etc service IIRC
[2012-12-05 19:02:54 -0500] uncommitted: kallistec: root@auxo:~/chef-repo/cookbooks# knife cookbook upload git runit
[2012-12-05 19:02:54 -0500] uncommitted: Uploading runit          [0.16.0]
[2012-12-05 19:02:55 -0500] uncommitted: Uploading git            [1.0.3]
[2012-12-05 19:02:55 -0500] uncommitted: ERROR: Cookbook git depends on cookbook runit, version >= 0.0.0,
[2012-12-05 19:02:55 -0500] uncommitted: ERROR: which is not currently being uploaded and cannot be found on the server.
[2012-12-05 19:03:27 -0500] uncommitted: weird, eh?
[2012-12-05 19:03:42 -0500] kallistec: uncommitted: odd. Does runit show up in cookbook list?
[2012-12-05 19:04:03 -0500] uncommitted: yesroot@auxo:~/chef-repo/cookbooks# knife cookbook show runit
[2012-12-05 19:04:05 -0500] uncommitted: runit   0.16.0  0.15.0
[2012-12-05 19:04:16 -0500] uncommitted: maybe I should remove 0.15.0 ?
[2012-12-05 19:05:04 -0500] kallistec: give it a shot, but you shouldn't need to
[2012-12-05 19:06:26 -0500] uncommitted: no change :/
[2012-12-05 19:08:25 -0500] kallistec: uncommitted: run with -VV and see what it says
[2012-12-05 19:09:04 -0500] uncommitted: just shows some http header info, then fails with the same message
[2012-12-05 19:09:17 -0500] miah: dyer: totally
[2012-12-05 19:10:19 -0500] uncommitted: removed the runit depends, then it fails on yum (which is also there)
[2012-12-05 19:10:48 -0500] uncommitted: oh, it's the comma's
[2012-12-05 19:10:51 -0500] uncommitted: I think
[2012-12-05 19:11:47 -0500] kallistec: uncommitted: makes sense. Code looks like this:
[2012-12-05 19:11:48 -0500] kallistec: ui.error "Cookbook #{cookbook.name} depends on cookbook #{cookbook_name} version #{version},"
[2012-12-05 19:11:57 -0500] uncommitted: https://github.com/opscode-cookbooks/git/blob/master/metadata.rb
[2012-12-05 19:12:04 -0500] uncommitted: that's incorrect
[2012-12-05 19:12:22 -0500] kallistec: Deeeeeerp
[2012-12-05 19:12:26 -0500] uncommitted: the os one is fine, the depends one is not
[2012-12-05 19:12:44 -0500] kallistec: paging jtimberman ^^
[2012-12-05 19:12:49 -0500] uncommitted: :p
[2012-12-05 19:13:00 -0500] kallistec: wonder if his phone number is in pagerduty
[2012-12-05 19:13:29 -0500] red5|ryan: do you work for pagerduty?
[2012-12-05 19:13:31 -0500] kallistec: it's been years since I rickrolled someone on PD
[2012-12-05 19:13:39 -0500] kallistec: nope, opscode
[2012-12-05 19:13:48 -0500] red5|ryan: oh. so either way you can see his PD. :D
[2012-12-05 19:16:33 -0500] jtimberman: commas are cool
[2012-12-05 19:17:11 -0500] kallistec: jtimberman: can we nuke the commas and ship? impossible to upload the cookbook as it is now
[2012-12-05 19:17:12 -0500] uncommitted: , , , , , chameleon
[2012-12-05 19:17:40 -0500] masterkorp: http://sphotos-g.ak.fbcdn.net/hphotos-ak-ash4/s480x480/483627_439947939394320_1941758400_n.jpg
[2012-12-05 19:17:41 -0500] jtimberman: kallistec: ya
[2012-12-05 19:17:44 -0500] masterkorp: err
[2012-12-05 19:21:22 -0500] ekristen: how can I obtain a certain version of a cookbook off my chef server?
[2012-12-05 19:21:41 -0500] jtimberman: kallistec: shipping
[2012-12-05 19:21:45 -0500] kallistec: woot
[2012-12-05 19:22:24 -0500] siezer: ~.
[2012-12-05 19:23:40 -0500] uncommitted: 1.1.0 w00t
[2012-12-05 19:23:45 -0500] jtimberman: uncommitted, kallistec: shipped, v1.1.0, includes update for installing git 1.8.0
[2012-12-05 19:24:00 -0500] jtimberman: fwiw, this is why we recommend you download the cookbooks from the site and use those rather than using the git repos
[2012-12-05 19:24:09 -0500] jtimberman: or, using the git repos master branch :)
[2012-12-05 19:24:16 -0500] uncommitted: jtimberman, thank you good sir
[2012-12-05 19:35:14 -0500] yann2: hey - how is the name of a cookbook defined - by the name of its folder? if I got a cookbook "collectd-librato", am I right to think that the variables for this module will be set with node[:collectd-librato][:version] and not node[:collectd_librato][:version]?  cf https://github.com/librato/collectd-librato-cookbook/blob/master/attributes/collectd_librato.rb
[2012-12-05 19:36:04 -0500] yann2: I don't get why that module uses this: "recipes/default.rb:include_recipe "collectd-librato::build""  and then all its variable like this "Email" => node[:collectd_librato][:email]
[2012-12-05 19:37:01 -0500] yann2: http://tickets.opscode.com/browse/CHEF-2454   oh dear :(
[2012-12-05 19:42:53 -0500] siezer: ~.
[2012-12-05 19:42:54 -0500] siezer: ~>
[2012-12-05 19:42:54 -0500] siezer: ~>
[2012-12-05 19:42:54 -0500] siezer: ~
[2012-12-05 19:44:31 -0500] miah: try hitting enter first
[2012-12-05 19:45:16 -0500] kallistec: lol
[2012-12-05 19:49:10 -0500] miah: yann2: a cookbook can reference attributes of any name. they do _not_ have to match the name of the cookbook (which is defined by folder name or metadata.rb name entry)
[2012-12-05 19:49:40 -0500] yann2: miah, oh, thanks for that, I didn't know.
[2012-12-05 19:50:27 -0500] yann2: another question: is it common practice to have a "company" cookbook, like puppet's site/ folder, where I would distribute company-specific files and templates?
[2012-12-05 19:51:54 -0500] siezer: this internet connection is driving me nuts.
[2012-12-05 19:51:56 -0500] dougireton: yann2: See this link: http://devopsanywhere.blogspot.com/2012/11/how-to-write-reusable-chef-cookbooks.html
[2012-12-05 19:52:25 -0500] dougireton: it discusses company-specific or "wrapper" cookbooks
[2012-12-05 19:53:49 -0500] yann2: oh god this websites' toolbar goes *across* my scrollbar wtf
[2012-12-05 19:53:52 -0500] yann2: but thanks :)
[2012-12-05 19:54:38 -0500] miah: yann2: wrapper cookbooks and roles are popular ways to implement that
[2012-12-05 20:01:14 -0500] _0x783czar: am I allowed to create folders under the 'files' directory in a cookbook that don't have to do with file specificity (like ubuntu or centos) for organization?
[2012-12-05 20:01:51 -0500] btm: .@opscode knife code review live today, join: http://bit.ly/YBc39b, watch: http://youtu.be/wz2B4Dl-ozM
[2012-12-05 20:03:13 -0500] jbz: _0x783czar: If you do so, you should put them in a subdir named 'default' I believe.
[2012-12-05 20:03:26 -0500] _0x783czar: jbz: ah yes, thanks
[2012-12-05 20:03:41 -0500] jbz: _0x783czar: Oh wait, sorry, you want *folders*my bad.  Unsure.
[2012-12-05 20:04:27 -0500] _0x783czar: jbz: yeah I want to keep them organized, so I wanted to put a 'hooks' and 'lib' directory to store the files.
[2012-12-05 20:04:34 -0500] jbz: hm
[2012-12-05 20:04:41 -0500] yann2: dougireton, and what's your take on it? my take would be, do we really need wrapper? or can I just say, the templates/files to be used are variables, by default node[:module][:var], but could be overwritten to point to other templates/files
[2012-12-05 20:07:30 -0500] jbz: _0x783czar: I don't know if you can use subdirs/paths inside the appropriate file specificity location.
[2012-12-05 20:13:46 -0500] dougireton: yann2: Ideally, you don't need a wrapper cookbook, and you can just override the attributes in a role or environment, or "app" cookbook
[2012-12-05 20:15:50 -0500] yann2: dougireton, ideally - my take is that to keep templates reasonnably simple, you can only get them to cover 90% of the needs
[2012-12-05 20:16:10 -0500] yann2: else you'd need to parameterize every single parameter, which leads to huge, unmaintainable templates
[2012-12-05 20:16:48 -0500] dougireton: it's a balancing act we are still trying to figure out
[2012-12-05 20:20:13 -0500] yann2: puppet has faced a similar problem, I'd recommend reading the presentations from example42 http://www.example42.com/  (/me coming from the puppet world)
[2012-12-05 20:22:14 -0500] jtimberman: yann2: dunno... this template is pretty short, and supports every possible option in postgresql :) https://github.com/opscode-cookbooks/postgresql/blob/master/templates/default/postgresql.conf.erb
[2012-12-05 20:24:06 -0500] yann2: colleagues had to extend a class because they just wanted a nasty "rewritelockmap" or whatever it was called
[2012-12-05 20:25:01 -0500] yann2: not sure to like that postgresql one, you get no defaults
[2012-12-05 20:25:16 -0500] _0x783czar: jbz: I just tested it out, it works!  Just need to put the directories under the appropriate file specificity directory (like default) and then provice the path relative to there as the source attribute.
[2012-12-05 20:25:21 -0500] yann2: sr actually you do, right :)
[2012-12-05 20:25:31 -0500] jbz: _0x783czar: Ah, neat!  Thanks for letting me know!
[2012-12-05 20:27:32 -0500] _0x783czar: jbz: yeah, so if I put the file in cookbooks/foo/files/default/hooks/hook1.sh  then my source attribute would be `source "hooks/hook1.sh"`
[2012-12-05 20:28:43 -0500] jtimberman: yann2: defaults are set in the 'attributes/default.rb' in the cookbook based on platform, using the default options that came from the respective platform packages.
[2012-12-05 20:52:02 -0500] rb1980: i have a ruby "function" in my recipe that gets called every time chef runs. Is there a way I can make it only get called with a "notify" when a cookbook_file is copied?
[2012-12-05 20:54:26 -0500] geekbri: rb1980: call it in side of a ruby_block ?
[2012-12-05 20:55:07 -0500] geekbri: rb1980: you shoudl be able to use it inside of a ruby_block, set the action for that block to nothing, then have your cookbook_file notify it to run
[2012-12-05 20:55:14 -0500] geekbri: I've never tried that, but it seems like it should work :)
[2012-12-05 20:55:26 -0500] jtimberman: notifies :create, "ruby_block[mything]"
[2012-12-05 20:55:35 -0500] jtimberman: ruby_block action is create not run :)
[2012-12-05 20:55:39 -0500] geekbri: sorry, i was close ;)
[2012-12-05 20:55:59 -0500] rb1980: ah, ok i was looking at run/execute but that is geared for external script
[2012-12-05 20:56:02 -0500] geekbri: It's also worth noting that your function right now goes off at compile time, where as your function inside of a ruby block will be run at execution time.
[2012-12-05 20:57:12 -0500] rb1980: thanks, thats good stuff
[2012-12-05 20:59:41 -0500] josephholsten: is there a way to see which client pushed the last change to a data bag?
[2012-12-05 20:59:59 -0500] josephholsten: would that be in a db, or a log?
[2012-12-05 21:03:16 -0500] btm: @opscode cookbooks code review: join: http://bit.ly/QI2gcA, watch:  http://youtu.be/hNBFTRk9d0s
[2012-12-05 21:06:11 -0500] bmcgee: ohai. I'm using the application_ruby with unicorn enabled. No matter what I do I can't restart the unicorn processes. Nothing works. My app works ok but obviously updating is impossible
[2012-12-05 21:06:17 -0500] bmcgee: i have to rebuild the entire box
[2012-12-05 21:06:26 -0500] bmcgee: anyone got any ideas?
[2012-12-05 21:06:36 -0500] bmcgee: the box has enough resources, isn't swapping or anything
[2012-12-05 21:06:41 -0500] bmcgee: only using 1 child process for now
[2012-12-05 21:15:44 -0500] pabst^: ok so, I personally prefer chef over puppet. I am trying to write out a document outlining the reasons for using chef over puppet with AWS, anybody have anything good? My preferences are merely based on personal preference so I am kind of struggling to come with any content to submit to my client... Any help would be appreciated!
[2012-12-05 21:18:04 -0500] spdgoat: I did a bit of research over the last couple of weeks. I found a lot of blog posts of people who were on puppet and switching to chef. But I didn't find anyone who had said they were switching the other way
[2012-12-05 21:18:32 -0500] pabst^: Did you find any particular reasons why?
[2012-12-05 21:19:26 -0500] pabst^: My client is currently on puppet, and they aren't happy with the puppet install, honestly that is because the company who implemented puppet did a horrible job. They want to scrap it and start over, but I need to convince them to use chef. So I am looking for something to claim its technically superior
[2012-12-05 21:19:56 -0500] spdgoat: Scriptability was what most people pointed to. Puppet was much easier to get started with, but started to make things difficult when you wanted to do complex deployments. Chef was tougher to pick up, but made things simple for complex use cases
[2012-12-05 21:20:16 -0500] pabst^: yeah thats the main thing I see
[2012-12-05 21:20:53 -0500] spdgoat: In general, they both seem to be good, and certainly better than banging something together on your own.
[2012-12-05 21:21:10 -0500] pabst^: is it safe to say that puppet is limited by its own dsl scripting?
[2012-12-05 21:21:34 -0500] pabst^: no doubt, ive hobbled together a few of my own before chef or puppet, and used puppet for years, i just gained a preference for chef in recent years
[2012-12-05 21:21:43 -0500] spdgoat: I've started using berkshelf, it seems like a huge win. You can tests your cookbooks with vagrant as your developing, no setup required.
[2012-12-05 21:22:09 -0500] pabst^: I haven't used puppet with AWS, so I don't know how well it integrates, chef integrates well in my opinion, do you know if one integrates better than the other?
[2012-12-05 21:22:15 -0500] spdgoat: Yeah, safe to say that ruby is more flexible than puppet DSL, I think, since it's a general programming language
[2012-12-05 21:23:08 -0500] spdgoat: Sorry, I haven't used puppet. I just evaluated based on docs, community, and other's opinions. I understand they're both good tools, and you can probably make a mess with both too. :-)
[2012-12-05 21:23:21 -0500] pabst^: Yep, I agree. :)
[2012-12-05 21:23:25 -0500] pabst^: Thats where I am struggling
[2012-12-05 21:23:52 -0500] pabst^: I have a hard time saying anything horrible about puppet, other than, i PERSONALLY like Chef better.
[2012-12-05 21:25:36 -0500] kaerast: we had this conversation at work earlier, we understand it's generally harder to make a mess in puppet because you can't just intersperse Ruby code with puppet dsl code
[2012-12-05 21:26:15 -0500] kaerast: and I kind of see the point, forcing people to put their ruby code in external templates kind of sounds like a good idea
[2012-12-05 21:26:26 -0500] kaerast: but I've never used puppet properly
[2012-12-05 21:26:50 -0500] pabst^: haha, by the looks of what this company that deployed puppet for my client did, its pretty easy... the mere layout is awful, but thats i think a lack of general infrastructure knowledge
[2012-12-05 21:27:37 -0500] kreedy: Is anyone doing any kind of locking (via a databag or something) for code deploys to multiple machines?
[2012-12-05 21:27:42 -0500] kreedy: I'm thinking of writing something like https://github.com/websterclay/chef-dominodes (or extending it) that would let you specify a threshold of what percentage of machines can run the block at the same time.
[2012-12-05 21:27:53 -0500] kreedy: don't want to reinvent the wheel though :)
[2012-12-05 21:28:09 -0500] pabst^: thanks for your input, I really appreciate it
[2012-12-05 21:30:10 -0500] kaerast: kreedy, oh that looks nice - I'd suggest supporting something other than databags too though, that way I can use it to restart the Chef server.
[2012-12-05 21:30:44 -0500] khimera: hi. not sure if this is a issue with chef resource git but it looks like my php files permissions are being set to 777. owner/group is correct but is it possible to change permissions while pulling?
[2012-12-05 21:31:26 -0500] spdgoat: What does the command in your recipe look like?
[2012-12-05 21:31:47 -0500] kreedy: kaerast: hmm. there'd have to be some sort of shared storage outside of chef for it to work for those restarts.
[2012-12-05 21:32:15 -0500] kreedy: redis would be an easy addition
[2012-12-05 21:32:38 -0500] khimera: spdgoat: http://pastebin.com/tQppuWSU  nothing crazy
[2012-12-05 21:32:44 -0500] kreedy: or memcache
[2012-12-05 21:32:53 -0500] khimera: hmm
[2012-12-05 21:33:03 -0500] kreedy: i guess it would really depend on what your infrastructure already has in place
[2012-12-05 21:33:25 -0500] kaerast: yeah, redis or memcache would be good for me - but I guess even then you're still relying on *something* staying up
[2012-12-05 21:33:48 -0500] kaerast: the option to choose though would be nice
[2012-12-05 21:34:05 -0500] kreedy: true
[2012-12-05 21:34:26 -0500] spdgoat: khimera: maybe specify a user/group? Could be a umask value in the owner if they're not that way in git. Only other thought is you're writing to some filesystem that doesn't support the proper permissions, like samba or NFS?
[2012-12-05 21:34:37 -0500] kreedy: on the chef realm, i'm debating databag versus node attributes + search
[2012-12-05 21:34:59 -0500] khimera: spdgoat: thanks I will try that, i'll have a look into all that.
[2012-12-05 21:36:29 -0500] terbeaux: hello
[2012-12-05 21:36:41 -0500] kaerast: to update the search data though you'd have to re-run chef-client, which might not work well
[2012-12-05 21:36:48 -0500] terbeaux: i am using the homebrew cookbook to install packages
[2012-12-05 21:36:56 -0500] CosmicCat: hi folks, chef is kicking my ass right now. I will be bringing many questions here the next few days. thanks in advance for help
[2012-12-05 21:37:05 -0500] terbeaux: this works on 4 other osx 10.6 machines
[2012-12-05 21:37:23 -0500] terbeaux: except for one an error is thrown indicating that brew should not be run as root.
[2012-12-05 21:38:21 -0500] kaerast: terbeaux, I spotted a pull request related to that homebrew issue earlier this week. Somebody might know more about the status of that than me
[2012-12-05 21:38:50 -0500] terbeaux: yeah, i pulled that pull request into my local repo
[2012-12-05 21:38:58 -0500] kreedy: kallistec: true. thanks for pointing that out
[2012-12-05 21:39:09 -0500] terbeaux: then it gets permission errors while trying to write to a directory
[2012-12-05 21:39:10 -0500] kreedy: or call node.save right away
[2012-12-05 21:39:15 -0500] kaerast: terbeaux, ah ok, so you probably know more about the issue than me
[2012-12-05 21:39:25 -0500] terbeaux: as if the directories are created as root still but the command is executed as the specified user
[2012-12-05 21:39:55 -0500] terbeaux: this is the one: https://github.com/opscode-cookbooks/homebrew/pull/13
[2012-12-05 21:46:22 -0500] awgross: anyone seen a bug where the git provider is creating and switching to a deploy branch?
[2012-12-05 21:46:43 -0500] awgross: it downloads the master branch correctly
[2012-12-05 21:46:54 -0500] awgross: but then by the end of the run, it has somehow created a local deploy branch
[2012-12-05 21:52:17 -0500] awgross: nevermind this is documented in the provider page
[2012-12-05 21:52:21 -0500] awgross: jsut really really strange way to do things
[2012-12-05 21:54:16 -0500] barefoot: did this never come to fruition? http://tickets.opscode.com/browse/COOK-1063
[2012-12-05 21:58:39 -0500] dyer: hey guys, question, I am trying to test a chef run in a dark environment right now and I have a remote_file resource which should be skipped because of a not_if clause ( http://bit.ly/QI8uJJ ).  I have tested this in shef and it skips the resource as expected however in chef-solo it fails w/ a socket error.  Shouldnt it be skipped entirely ?
[2012-12-05 22:02:26 -0500] LowWalker: greetings all, anyone know what ntp server I need to synch with to get knife to be able to talk to hosted chef?
[2012-12-05 22:03:08 -0500] barefoot: http://support.ntp.org/bin/view/Servers/WebHome#Finding_A_Time_Server ?
[2012-12-05 22:05:19 -0500] LowWalker: @barefoot so any ntp server is fine?
[2012-12-05 22:05:47 -0500] dysinger: Is there an easy way to take all the ohai data & merge it in with another hash ?
[2012-12-05 22:06:23 -0500] dtss-abc: Hello
[2012-12-05 22:07:10 -0500] barefoot: LowWalker: what makes you think you need a specific one?
[2012-12-05 22:07:40 -0500] LowWalker: @barefoot being that it was hosted by chef I would think the one they used would be preferred
[2012-12-05 22:07:54 -0500] LowWalker: but
[2012-12-05 22:08:17 -0500] LowWalker: @barefoot but synced to fedora pool and it didn't give error, so thanks
[2012-12-05 22:09:49 -0500] barefoot: :)
[2012-12-05 22:09:53 -0500] kindsol: ohai
[2012-12-05 22:10:42 -0500] kindsol: "Chef isn't prescriptive in terms of workflow, thus allowing different people to do it the way that works best for them." -Adam
[2012-12-05 22:10:42 -0500] kindsol: Given the workflow styles outlined on the wiki:   http://wiki.opscode.com/display/chef/Cookbook+Workflows
[2012-12-05 22:10:42 -0500] kindsol: Please join my simple survey and let me know what works best for you:
[2012-12-05 22:10:43 -0500] kindsol:   http://www.surveymonkey.com/s/L5892ZQ
[2012-12-05 22:10:43 -0500] kindsol: I will post the results to the Chef mailing list.
[2012-12-05 22:10:43 -0500] kindsol: Thanks!
[2012-12-05 22:12:03 -0500] abe: is there any way to specify cookbook collision in metadata.rb?
[2012-12-05 22:12:13 -0500] abe: eg. depends on cookbook NOT beting htere?
[2012-12-05 22:12:21 -0500] abe: *beeing, *there
[2012-12-05 22:12:57 -0500] kindsol: http://wiki.opscode.com/display/chef/Metadata#Metadata-conflicts
[2012-12-05 22:13:01 -0500] kindsol: conflicts
[2012-12-05 22:13:26 -0500] abe: @kindsol thanks
[2012-12-05 22:13:49 -0500] kindsol: np
[2012-12-05 22:15:02 -0500] jtimberman: i don't think that is actually enforced though
[2012-12-05 22:15:54 -0500] kindsol: ah, good point
[2012-12-05 22:16:59 -0500] jtnz: Just wondering what peoples opinion is on recipe + attributes file or role containing recipe with attributes in role?
[2012-12-05 22:24:06 -0500] jviney: zts: (from hours ago) sure here you go: http://pastebin.com/dkQZtWf2 . I guess my question more generally is what is the recommended way of having ohai data change like that part way through a chef run?
[2012-12-05 22:25:25 -0500] jviney: zts: http://pastebin.com/L3QcEtDD
[2012-12-05 22:25:46 -0500] cwj: jtnz: when i first encountered the idea of using wrapper recipes/cookbooks instead of roles, i felt some internal resistance to the idea. now that i have written a couple of cookbooks to do things that i would otherwise have used roles for, i am starting to feel like ditching roles is the better approach for a great many cases.
[2012-12-05 22:27:14 -0500] cwj: jtnz: and jtimberman's blog post about how he berkshelf-ified his personal chef repo was very helpful in that regard, because it taught me a new thing about overriding the attributes of resources in a wrapper cookbok
[2012-12-05 22:28:11 -0500] barnacles: cwj: got the link to that post?
[2012-12-05 22:28:22 -0500] cwj: sure
[2012-12-05 22:28:23 -0500] cwj: http://jtimberman.housepub.org/blog/2012/11/19/chef-repository-berkshelf-conversion/
[2012-12-05 22:28:39 -0500] barnacles: cwj: Thanks mate
[2012-12-05 22:28:44 -0500] cwj: you bet
[2012-12-05 22:31:55 -0500] jtimberman: cwj: :D
[2012-12-05 22:32:14 -0500] cwj: :D
[2012-12-05 22:32:27 -0500] cwj: also that post came at just the right time for me to put that knowledge to use
[2012-12-05 22:32:59 -0500] cwj: built a bad-ass cookbook for cheffing up our internal jenkins config with jobs configured by jenkins-job-builder
[2012-12-05 22:33:07 -0500] uncommitted: jtimberman: just fyi, there may still be something wrong with that git cookbook
[2012-12-05 22:33:20 -0500] uncommitted: seems to be hanging on the runit service
[2012-12-05 22:46:08 -0500] maek: using the option :foo mixlib cli for a knife plugin for a -d option is it possible for it to catch more then 1 thing, like -d foo bar baz? if I put them in "'s it works but that seems janky
[2012-12-05 22:48:16 -0500] kallistec: maek: you have to use a trick like this: https://github.com/opscode/chef/blob/master/lib/chef/application/knife.rb#L35
[2012-12-05 22:48:52 -0500] kallistec: https://github.com/opscode/chef/blob/master/lib/chef/knife/node_show.rb#L35
[2012-12-05 22:49:16 -0500] maek: kallistec: im sorry. I dont get the trick. can you elaborate please? thanks alos!
[2012-12-05 22:49:18 -0500] maek: also
[2012-12-05 22:50:21 -0500] kallistec: mixlib config uses a hash internally, so each time you give a --whatever, it will replace the previous one
[2012-12-05 22:50:47 -0500] kallistec: but you can use the proc argument to append to an array instead
[2012-12-05 22:51:04 -0500] kallistec: and then use that array later
[2012-12-05 22:51:29 -0500] kallistec: the one for -VV is the same idea except you're incrementing an integer
[2012-12-05 22:52:07 -0500] uncommitted: that git cookbook issue seems to resolve when using runit 0.15.0, seems to be problems with runit 0.16.0 (just fyi)
[2012-12-05 22:54:28 -0500] maek: reading
[2012-12-05 22:54:57 -0500] maek: kallistec: thanks!
[2012-12-05 22:56:34 -0500] jtnz: cwj, Thanks. One downside of using recipe's for everything that I can think of (or have a misunderstanding of) is that if you use lots of include_recipe 's, then you can't readily search to see where that runs. Does that sound right?
[2012-12-05 22:57:15 -0500] cwj: jtnz: check out the difference between recipe: and recipes: when you search
[2012-12-05 22:57:25 -0500] cwj: same with role: and roles:
[2012-12-05 22:57:45 -0500] jtnz: cwj, thanks, I'll take a look
[2012-12-05 22:58:28 -0500] cwj: after a successful chef run, a node's run_list will be expanded out and the 'roles' and 'recipes' attributes will be populated with elements of the expanded run list
[2012-12-05 22:58:58 -0500] jtnz: cwj, even including any recipes added via include_recipe?
[2012-12-05 22:59:24 -0500] cwj: so the caveat is that if you are using include_recipe to load recipe foo, you wont be able to find nodes with recipe foo until they've completed a chef run
[2012-12-05 22:59:30 -0500] cwj: yeah i believe so
[2012-12-05 22:59:53 -0500] jtnz: cwj, cool, that's what I thought.
[2012-12-05 23:03:45 -0500] jtnz: cwj, hmm, I just tried using knife preflight (a handy plugin that simplifies searching) and it doesn't show a recipe that I know runs a lot. I'll try using regular search and see if I can get something.
[2012-12-05 23:06:13 -0500] jtnz: cwj, After some investigation, it appears that include_recipe recipes don't show up in a nodes recipes list
[2012-12-05 23:07:02 -0500] jtnz: cwj, Hence I think I'll prefer to use Roles, but I'll still check out jtimberman's blog post.
[2012-12-05 23:09:59 -0500] jtimberman: jtnz: i don't say anything about roles specifically
[2012-12-05 23:10:07 -0500] jtimberman: however, i still use them.
[2012-12-05 23:10:09 -0500] jtimberman: i like them.
[2012-12-05 23:12:08 -0500] jtnz: jtimberman, Yea, to me it seems clearer to encapsulate recipe(s) in a Role, setting appropriate attribs in there too, and apply the Role to nodes. That way you can see _exactly_ what's running on a given node without needing to dig.
[2012-12-05 23:13:02 -0500] jtnz: jtimberman, although I'm not hugely experienced and so I might just be going about things wrong.
[2012-12-05 23:15:13 -0500] miah: kinda
[2012-12-05 23:17:43 -0500] cwj: jtnz: but you cant version a role, so its harder for me to promote changes through qa/stage/prod
[2012-12-05 23:17:59 -0500] cwj: or rather, its way too easy to promote stuff i dont want to promote
[2012-12-05 23:20:16 -0500] jtnz: cwj, Interesting. We limit cookbook versions on environments to control our releases (and use data bags for specific application versions). I am only learning though ;)
[2012-12-05 23:27:23 -0500] jtimberman: cwj: i think the "you can't version roles" is a red herring :)
[2012-12-05 23:27:39 -0500] jtimberman: but i also don't have that particular use case.
[2012-12-05 23:28:05 -0500] jtimberman: gotta run
[2012-12-05 23:30:15 -0500] cwj: me too
[2012-12-05 23:30:20 -0500] cwj: with the running
[2012-12-05 23:32:43 -0500] gyre008: is anyone finding server naming convention such a pain ...
[2012-12-05 23:32:58 -0500] awgross: gyre008: in what way?
[2012-12-05 23:34:03 -0500] gyre008: like...we are trying to figure out how to name our servers in a way so that we could get an idea what is their purpose and also stay in line somehow with chef and having chef stuff sort of desrcribing our infrastructure
[2012-12-05 23:34:07 -0500] maplebed: it's all the prepended 0s, isn't it?
[2012-12-05 23:34:15 -0500] maplebed: ;)
[2012-12-05 23:34:16 -0500] gyre008: haha I wish! :)
[2012-12-05 23:34:51 -0500] gyre008: like...at the moment we have 3 environments..then few app servers and bunch of decoupled service servers...
[2012-12-05 23:34:56 -0500] yann2: jtimberman, running in the cookbooks interconnections now - firewalling? monitoring? logrotate? interesting subject too, I'd love to find a nice way to solve it
[2012-12-05 23:35:14 -0500] gyre008: and obviously DB servers etc..\
[2012-12-05 23:42:40 -0500] maek: kallistec: so that works, thanks much. I do -f foo -f bar -f baz and it populates an array. Do you have an opinion on how to document the way that works in the :description ? thanks again!
[2012-12-05 23:44:00 -0500] kallistec: maek: other tools that do that say things like "(can be used more than once)
[2012-12-05 23:45:20 -0500] maek: kallistec: that works. thanks
[2012-12-05 23:48:32 -0500] alexw: Hmmm - having a few issues with using vagrant and ec2
[2012-12-05 23:48:43 -0500] alexw: on ec2, ubuntu, current_user = ubuntu
[2012-12-05 23:48:52 -0500] alexw: with vagrant, ubuntu, current_user = root
[2012-12-05 23:48:56 -0500] alexw: but it should be vagrant
[2012-12-05 23:49:32 -0500] alexw: is there a better option to finding the current_user
[2012-12-05 23:49:37 -0500] alexw: i'm using node.current_user
[2012-12-05 23:54:46 -0500] tmichael: have base recipe that will probably run on all systems except 2.  want to add something to recipe to short-circuit if certain conditions are met
[2012-12-05 23:54:59 -0500] tmichael: sort of a recipe wide not_if.  I can have unless statement at top, but rather than wrapping whole recipe was wondering if way to just short circuit with exit or next or something like that.
[2012-12-05 23:56:39 -0500] maek: tmichael: do these 2 boxes have a unique node attribute?
[2012-12-05 23:57:26 -0500] tmichael: maek: yeah, will use existence of role and/or hostname.  have conditions all set.  just need way to do exit/skip from within the recipe
[2012-12-05 23:57:41 -0500] tmichael: testing if  ; exit 0; end in shef exits out of shef.  trying a few other things too
[2012-12-05 23:57:58 -0500] maek: you could wrap the include_recipe in a test for those role or hostnames?
[2012-12-05 23:57:59 -0500] tmichael: i know i can just wrap whole recipe in conditional, but a little ugly
