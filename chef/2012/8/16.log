[2012-08-16 00:00:20 -0400] erratic: ieeexplore.ieee.org/xpls/abs_all.jsp?arnumber=5935024
[2012-08-16 00:02:57 -0400] trobrock: miah: what script should knife bootstrap run?
[2012-08-16 00:04:02 -0400] yfeldblum: miah, i hear regexps are good for parsing html and sql
[2012-08-16 00:04:15 -0400] erratic: yfeldblum lol
[2012-08-16 00:06:00 -0400] miah: bootstrap?
[2012-08-16 00:06:16 -0400] miah: oh.. bawt is apparently crying in a corner somewhere.
[2012-08-16 00:06:21 -0400] erratic: yfeldblum http://effbot.org/zone/xml-scanner.htm
[2012-08-16 00:07:38 -0400] erratic: bawtlet
[2012-08-16 00:08:28 -0400] erratic: I should go home
[2012-08-16 00:08:44 -0400] erratic: and eat or something or get coffee then go home or something
[2012-08-16 00:09:30 -0400] miah: soon as veewee finishes building this box i'm out
[2012-08-16 00:09:37 -0400] erratic: I fixed my vagrant problems today
[2012-08-16 00:09:37 -0400] miah: then home to resume hacking on this nagios cookbook
[2012-08-16 00:10:04 -0400] erratic: miah I have a few knife plugins and cookbooks I want to implement for my own stuff
[2012-08-16 00:10:12 -0400] erratic: Ive got a whole list started
[2012-08-16 00:10:12 -0400] erratic: lol
[2012-08-16 00:10:30 -0400] miah: my 'cookbooks' list for work has ~80 items on it
[2012-08-16 00:11:19 -0400] erratic: I also dropped windows on my laptop all together so I dont have to screw around as much to get stuff installed and / or working right
[2012-08-16 00:11:51 -0400] miah: fun. ok. out
[2012-08-16 00:12:00 -0400] erratic: toodles
[2012-08-16 00:12:08 -0400] erratic: im outta here too
[2012-08-16 00:15:03 -0400] cheeseplus: ha, I use windows purely as a game console at this point
[2012-08-16 00:15:47 -0400] cheeseplus: I like to think of it as a DirectX hypervisor
[2012-08-16 00:17:51 -0400] yfeldblum: cheeseplus, indeed the window manager is a directx compositor
[2012-08-16 00:18:38 -0400] cheeseplus: directX is one of the better things about the OS
[2012-08-16 00:19:08 -0400] yfeldblum: cheeseplus, the so i hear
[2012-08-16 00:19:57 -0400] yfeldblum: cheeseplus, well, at any rate, i hear about opengl being a royal PITA (but i don't see such complaints about directx)
[2012-08-16 00:20:14 -0400] cheeseplus: it depends on who you talk to
[2012-08-16 00:20:33 -0400] cheeseplus: OpenGL has many noted issues (Khronos is so slow sometimes)
[2012-08-16 00:20:46 -0400] cheeseplus: but directX does weird shit like invert the vertex notation
[2012-08-16 00:21:10 -0400] cheeseplus: once you are locked into 360/PC development MS does go a long way to make it very easy to develop for
[2012-08-16 00:21:21 -0400] cheeseplus: the 360 SDK is super easy to use and debug
[2012-08-16 00:21:59 -0400] yfeldblum: cheeseplus, they do - same with .net IMO, even though i am now on linux writing in ruby
[2012-08-16 00:22:28 -0400] cheeseplus: yea, they do make your life easier with the toolsets/chains
[2012-08-16 00:22:47 -0400] cheeseplus: the problems are with what you actually have to use to get them working properly
[2012-08-16 00:23:01 -0400] yfeldblum: cheeseplus, closures, array comprehensions, events, property getters & setters, and working bindings to COM functions and regular shared-library exported functions
[2012-08-16 00:23:22 -0400] yfeldblum: cheeseplus, there's plenty to like in C#
[2012-08-16 00:23:32 -0400] cheeseplus: totally
[2012-08-16 00:23:43 -0400] cheeseplus: we used that for lots of game dev tools
[2012-08-16 00:23:56 -0400] cheeseplus: python where we needed easy lightweight, C# for everything else
[2012-08-16 00:24:18 -0400] yfeldblum: cheeseplus, what's the status of ironpython?
[2012-08-16 00:24:36 -0400] cheeseplus: never actually used it
[2012-08-16 00:24:49 -0400] cheeseplus: we used the standard python
[2012-08-16 00:25:12 -0400] yfeldblum: cheeseplus, you didn't need to integrate the "easy lightweight" with the rest of the stuff?
[2012-08-16 00:26:05 -0400] cheeseplus: yfeldblum: typically not
[2012-08-16 00:26:30 -0400] cheeseplus: we would use python to just manipulate files, strip game builds down, stuff like that
[2012-08-16 00:26:52 -0400] cheeseplus: also perforce scripting - but they have apis for like every language
[2012-08-16 00:30:19 -0400] erk: hey guys if u turn on one of ur nodes back online, does chef server knows its up time again?
[2012-08-16 00:30:40 -0400] erk: or do i have to use knife client on that node to tell chef-server i (this node) is back online?
[2012-08-16 00:30:56 -0400] erk: because the last check-in time is still 13 days ago
[2012-08-16 00:30:58 -0400] erk: thanks
[2012-08-16 00:42:04 -0400] cheeseplus: erk: the node should be pulling
[2012-08-16 00:42:43 -0400] cheeseplus: so you shouldn't have to, each chef-client run should do that
[2012-08-16 01:23:59 -0400] erk: oh my bad i was away for dinner. but no, the node doesn't automatically pulls
[2012-08-16 01:25:52 -0400] erk: cheesepl_: thanks. no it doesn't pull automatically.
[2012-08-16 01:26:23 -0400] cheesepl_: is chef-client running on it?
[2012-08-16 01:29:12 -0400] erk: cheesepl_: the funny thing is, there is no chef-client on the node! i bootstrap the node a few weeks again. and it was connected to the server...
[2012-08-16 01:29:40 -0400] cheesepl_: erk: oh wow
[2012-08-16 01:29:41 -0400] erk: cheesepl_: i see /etc/chef/ folder but no service chef* commands at all, except it has knife on it
[2012-08-16 01:29:43 -0400] cheesepl_: that is bad
[2012-08-16 01:30:06 -0400] cheesepl_: did the bootstrap fail?
[2012-08-16 01:30:51 -0400] erk: cheesepl_: i dont think they fail. if it fail, i dont think knife client would be there?
[2012-08-16 01:31:13 -0400] erk: cheesepl_: is it possible for me to examine again?
[2012-08-16 01:31:33 -0400] cheesepl_: well a bootstrap should install chef-client so either it failed or something came along and removed it
[2012-08-16 01:32:05 -0400] cheesepl_: it is odd that knife is there though
[2012-08-16 01:32:54 -0400] erk: cheesepl_: yeah... somewhere in the wiki it said just go on the machine and use knife to update ur machine, so i never paid attention to whether chef was actually installed correctly.
[2012-08-16 01:33:09 -0400] erk: cheesepl_: do u think re-bootstrap again is bad?
[2012-08-16 01:33:59 -0400] cheesepl_: it will fail if the client is already registered
[2012-08-16 01:34:20 -0400] cheesepl_: you'd want to do a knife node delete
[2012-08-16 01:34:58 -0400] cheesepl_: "knife node delete <NODE>"
[2012-08-16 01:36:04 -0400] erk: cheesepl_: i assume knife client delete <node> should also be issued?
[2012-08-16 01:36:21 -0400] cheesepl_: probably
[2012-08-16 01:36:28 -0400] cheesepl_: I always do both
[2012-08-16 01:45:48 -0400] erk: cheesepl_: thanks. here is the tracelog  http://pastebin.com/U5bx3M0b     basically it ran with empty run list.. and said could not found node node1
[2012-08-16 01:50:14 -0400] cheesepl_: it couldn't find it but then it registers it
[2012-08-16 01:55:33 -0400] erk: cheesepl_: but thats the only error that i received (even with -VV). i shutdown the machine, the last check in was 5 mins, so now i bootup it said 10 mins ago and still does not have chef installed
[2012-08-16 01:55:57 -0400] cheesepl_: what OS?
[2012-08-16 01:56:29 -0400] erk: cheesepl_: thanks. it's Ubuntu 10.04LTS
[2012-08-16 01:58:06 -0400] cheesepl_: based on that log, it definitely had to be installed
[2012-08-16 01:58:46 -0400] cheesepl_: is there a chef-client at /etc/init.d/chef-client ?
[2012-08-16 01:59:30 -0400] erk: cheesepl_: i think all apt install will show up in apt history log. according to the log, the last one was august 2. last time i boot up prior to today.
[2012-08-16 01:59:34 -0400] erk: cheesepl_: no there isn;t.
[2012-08-16 02:00:09 -0400] erk: cheesepl_: /etc/chef$ ls returns -->    client.pem  client.rb  first-boot.json  validation.pem
[2012-08-16 02:01:30 -0400] freerobby: Does anybody know why a template would regenerate and update when there has been no change in content?
[2012-08-16 02:01:38 -0400] freerobby: e.g. I see "[Thu, 16 Aug 2012 01:48:25 +0000] INFO: template[/opt/torquebox/current/jboss/standalone/configuration/standalone-ha.xml] backed up to /var/chef/backup/opt/torquebox/current/jboss/standalone/configuration/standalone-ha.xml.chef-20120816014825"
[2012-08-16 02:01:55 -0400] freerobby: but when I run "diff /var/chef/backup/opt/torquebox/current/jboss/standalone/configuration/standalone-ha.xml.chef-20120816014825 /opt/torquebox/current/jboss/s
[2012-08-16 02:01:55 -0400] freerobby: tandalone/configuration/standalone-ha.xml" I get no difference.
[2012-08-16 02:02:10 -0400] erk: cheesepl_: and the apt does not contain chef installation, so it was never installed even at the first try few weeks ago.
[2012-08-16 02:02:53 -0400] erk: cheesepl_: funny thing is: ruby is not even installed on that machine... am i supposed to fufill the depend myself? i thought bootstrap supposes to...
[2012-08-16 02:02:58 -0400] freerobby: It's a nontrivial issue because when a rebuild occurs, it fires off all of the respective notifications.
[2012-08-16 02:03:27 -0400] cheesepl_: erk: if it's bootstrapped with the new scripts it uses an embedded ruby
[2012-08-16 02:04:14 -0400] erk: cheesepl_: okay. so that explains why knife works... weird how chef is not installed but knife exists
[2012-08-16 02:04:54 -0400] cheesepl_: is there a chef folder in /opt?
[2012-08-16 02:05:29 -0400] erk: cheesepl_: yes sir.
[2012-08-16 02:05:54 -0400] erk: cheesepl_: oh i see the chef-client there
[2012-08-16 02:08:36 -0400] cheesepl_: so it's strangely not putting it in your path but that is ok
[2012-08-16 02:09:08 -0400] cheesepl_: I need to take a break and grab some pizza, bbiab
[2012-08-16 02:25:33 -0400] erk: cheesepl_: thanks for the help. it seems odd and wierd as it should add to init.d  if what you said i strue about auto pull
[2012-08-16 02:26:00 -0400] cheesepl_: you can just run it as a daemon
[2012-08-16 02:26:08 -0400] cheesepl_: without an init script
[2012-08-16 02:29:43 -0400] erk: cheesepl_: yeah i would be susprise if i am the only one expericening this. but thanks! enjoy ur pizza
[2012-08-16 02:31:04 -0400] hoover_damm: erk, the chef-client cookbook should automate the startup
[2012-08-16 02:31:06 -0400] hoover_damm: fyi
[2012-08-16 02:31:19 -0400] hoover_damm: you shouldn't have to write that
[2012-08-16 02:31:40 -0400] erk: hoover_damm: apparently it doesn't. it exists in /opt/ and no init. so after a shutdown it doesn't checkin with chef-server :(
[2012-08-16 02:32:33 -0400] erk: hoover_damm: wait did u say chef-client cookbook? it should come with it right? or i actually have to add it to the role?
[2012-08-16 02:33:40 -0400] erk: hoover_damm: i was expecting knife bootstrap 192.168.1.29 -d chef-full -x nodeadmin -P password --sudo -VV    this will install at its best abililty according to distro maybe i am wrong lol
[2012-08-16 02:34:28 -0400] hoover_damm: erk, you had the chef-client cookbook?
[2012-08-16 02:34:40 -0400] hoover_damm: erk, no you have to add the chef-client cookbook to the runlist to
[2012-08-16 02:34:55 -0400] erk: hoover_damm: let me try that. thanks
[2012-08-16 02:34:57 -0400] hoover_damm: erk, https://github.com/opscode-cookbooks/chef-client
[2012-08-16 02:35:26 -0400] hoover_damm: based on your 'init style' it will setup chef-client / enforce it being setup
[2012-08-16 02:35:36 -0400] hoover_damm: if you modify the template ensure to modify the template in the cookbook
[2012-08-16 02:35:46 -0400] hoover_damm: it's meant to be used on every server you use chef on :)
[2012-08-16 02:40:47 -0400] erk: hoover_damm:  yes. i am bootstrapping :) i will try
[2012-08-16 02:56:27 -0400] a|i: I'm getting this error with chef-client:
[2012-08-16 02:56:29 -0400] a|i: STDERR: Could not create directory '/nonexistent/.ssh'.
[2012-08-16 02:56:38 -0400] a|i: Failed to add the host to the list of known hosts (/nonexistent/.ssh/known_hosts).
[2012-08-16 02:56:47 -0400] a|i: Permission denied (publickey).
[2012-08-16 02:57:07 -0400] a|i: does chef-client try to run ssh as user nobody?
[2012-08-16 02:57:38 -0400] erk: hoover_damm: yes it works. thanks! very nice. this should be the default cookbook added to every bootstrap as built-in
[2012-08-16 02:57:52 -0400] erk: cheesepl_: just to follow up. chef-client cookbook will do the trick for me :) thanks to you
[2012-08-16 03:05:41 -0400] a|i: where does chef store the deploy private key?
[2012-08-16 03:39:51 -0400] miah: moin
[2012-08-16 03:48:25 -0400] lusis: sooooooo I can't find any documentation on giving a client permissions to create/list nodes and clients in Hosted Chef
[2012-08-16 03:48:38 -0400] miah: doh
[2012-08-16 03:48:54 -0400] lusis: a client in hosted chef with admin privileges is not the same as a client in OSS chef with admin privileges
[2012-08-16 03:49:46 -0400] miah: right
[2012-08-16 03:50:03 -0400] miah: you looked at this http://wiki.opscode.com/display/chef/Hosted+Chef+Authorization ?
[2012-08-16 03:50:04 -0400] a|i: why is that after uploading a cookbook to opscode server it's version is 0?
[2012-08-16 03:50:08 -0400] miah: i havent relaly looked at hosted-chef acls yet
[2012-08-16 03:51:01 -0400] miah: a|i: does your cookbook have metadata that specifies a version?
[2012-08-16 03:51:25 -0400] lusis: miah: yep I was reading over that earlier. Problem is no documentation around the API where it differs =(
[2012-08-16 03:51:31 -0400] miah: doh
[2012-08-16 03:51:32 -0400] a|i: miah: I had this cookbook overriding the application cookbook in my site-cookbook/
[2012-08-16 03:52:00 -0400] a|i: miah: it didn't need another metadata file and have been working for 2 years.
[2012-08-16 03:52:10 -0400] a|i: seems like opscode changed things around?
[2012-08-16 03:52:31 -0400] lusis: isn't site-cookbook deprecated already? I can't keep up
[2012-08-16 03:52:32 -0400] lusis: =P
[2012-08-16 03:52:34 -0400] miah: the world moved forward without you
[2012-08-16 03:52:41 -0400] a|i: damn
[2012-08-16 03:52:43 -0400] miah: lusis: i _never_ used it
[2012-08-16 03:52:49 -0400] lusis: I used to use it
[2012-08-16 03:52:59 -0400] lusis: but cookbook shadowing was wonky to begin with
[2012-08-16 03:53:00 -0400] a|i: miah: what's the solution for this?
[2012-08-16 03:53:17 -0400] lusis: I could be wrong on the deprecation thing
[2012-08-16 03:53:20 -0400] lusis: don't hold me to that
[2012-08-16 03:53:26 -0400] miah: a|i: based on the 3 sentences i know about your environment.. there could be endless solutions.
[2012-08-16 03:53:42 -0400] a|i: miah: what's the quickest?
[2012-08-16 03:53:52 -0400] miah: i dont even know what version of chef you're on now. if you're talking about things from 2 years ago... much has changed.
[2012-08-16 03:54:16 -0400] a|i: Chef 0.10.0
[2012-08-16 03:54:50 -0400] a|i: would it help if I upgrade chef-client?
[2012-08-16 03:55:41 -0400] miah: i dont even fully understand your problem =)
[2012-08-16 03:56:17 -0400] miah: i need to dig back into this nagios cookbook
[2012-08-16 03:56:24 -0400] a|i: miah: I had this site-cookbook working happily for a long time, now I just made a tiny change, and uploaded it to server.
[2012-08-16 03:56:45 -0400] a|i: miah: but then noticed after running chef-client nothing happens.
[2012-08-16 03:57:21 -0400] a|i: miah: that was because of the modified cookbook was uploaded to version 0.0.0
[2012-08-16 04:12:09 -0400] nilsga: I'm having a very strange problem with encrypted data bags. No matter what, I get the error "bad decrypt". I am sure that I use the same key for encrypting and decrypting
[2012-08-16 04:12:22 -0400] nilsga: openssl rand -base64 512 > /tmp/my_data_bag_key
[2012-08-16 04:12:32 -0400] nilsga: knife data bag create dnsimple credentials --secret --secret-file /tmp/my_data_bag_key
[2012-08-16 04:12:47 -0400] nilsga: nife data bag show dnsimple credentials --secret-file /tmp/my_data_bag_key
[2012-08-16 04:12:56 -0400] nilsga: ERROR: OpenSSL::Cipher::CipherError: bad decrypt
[2012-08-16 04:13:55 -0400] nilsga: any ideas?
[2012-08-16 04:14:03 -0400] miah: try recreating the databag
[2012-08-16 04:17:49 -0400] nilsga: Yes, I have done that
[2012-08-16 04:17:53 -0400] nilsga: starting with a fresh one
[2012-08-16 04:18:54 -0400] nilsga: knife data bag delete dnsimple
[2012-08-16 04:37:01 -0400] a|i: wow github.com/opscode/cookbooks has been deprecated?
[2012-08-16 04:37:28 -0400] a|i: does that mean having N submodules now?
[2012-08-16 04:37:31 -0400] a|i: not good.
[2012-08-16 04:42:05 -0400] miah: lol no
[2012-08-16 04:42:15 -0400] miah: look at librarian or berkshelf
[2012-08-16 04:51:29 -0400] a|i: miah: librarian?
[2012-08-16 04:52:28 -0400] a|i: miah: got it, thanks!
[2012-08-16 04:54:15 -0400] BryanWB_: ohai #chefs!
[2012-08-16 04:55:29 -0400] d2kagw: Hai :P
[2012-08-16 04:58:48 -0400] miah: hiya BryanWB_
[2012-08-16 04:59:53 -0400] BryanWB_: miah: hey! u seen the `berks cookbook` command? 'tis awesom
[2012-08-16 05:00:23 -0400] miah: ya
[2012-08-16 05:01:04 -0400] BryanWB_: miah: i may be in SF for a couple days at end of Nov. will u be around?
[2012-08-16 05:01:52 -0400] miah: yes
[2012-08-16 05:02:15 -0400] BryanWB_: kewl, would be gr8 to hang
[2012-08-16 05:02:25 -0400] miah: definitely!
[2012-08-16 05:02:39 -0400] miah: AHAH. there we go. now I know why this code is broke
[2012-08-16 05:05:32 -0400] miah: vagrant + a gcc bootstrap on a macbook air = ugh
[2012-08-16 05:07:00 -0400] miah: BryanWB_: i am rewriting the nagios cookbook
[2012-08-16 05:07:24 -0400] miah: now it uses ark too
[2012-08-16 05:07:27 -0400] BryanWB_: miah: nice!
[2012-08-16 05:09:17 -0400] miah: omg github maintenance mode
[2012-08-16 05:09:41 -0400] d2kagw: miah: tellll me about it.
[2012-08-16 05:20:16 -0400] cwj: omg
[2012-08-16 05:20:33 -0400] BryanWB_: github apocalypse
[2012-08-16 05:20:51 -0400] miah: hah
[2012-08-16 05:21:04 -0400] miah: they are fixing some things. i'm all for people fixing things =)
[2012-08-16 05:29:05 -0400] atomic-penguin: gitpocalypse now
[2012-08-16 05:29:30 -0400] miah: yay its done
[2012-08-16 05:29:33 -0400] BryanWB_: ok, back in action
[2012-08-16 05:29:41 -0400] BryanWB_: atomic-penguin: good evening ;)
[2012-08-16 05:29:51 -0400] atomic-penguin: Good morning
[2012-08-16 05:30:19 -0400] atomic-penguin: I'm up late monitoring the tf2 servers, I just updated
[2012-08-16 05:30:27 -0400] BryanWB_: tf2?
[2012-08-16 05:30:36 -0400] atomic-penguin: http://teamfortress.com
[2012-08-16 05:32:07 -0400] d2kagw: lol
[2012-08-16 05:32:17 -0400] atomic-penguin: Yeah, apparently it isn't working either.  Maybe it caught a bug from github
[2012-08-16 05:32:46 -0400] atomic-penguin: too many people hit F5 on it today, probably
[2012-08-16 05:33:57 -0400] countdigi: i was addicted to that game.. finally kicked it
[2012-08-16 05:34:13 -0400] atomic-penguin: I had two of the first 40 servers up, 7,000 people in queue waiting to play.
[2012-08-16 05:34:19 -0400] atomic-penguin: Complete CDN failure
[2012-08-16 05:36:17 -0400] miah: lol
[2012-08-16 05:37:52 -0400] atomic-penguin: I switched my content provider to Norway, downloaded the update before the servers finished updating
[2012-08-16 07:37:23 -0400] koolhead11: hi all
[2012-08-16 08:57:56 -0400] cnf: damn zimbra wile of wank
[2012-08-16 09:37:13 -0400] UukGoblin: so I've just tested this "Substitute an Array with a Hash" from http://wiki.opscode.com/display/chef/Deep+Merge and it's wrong
[2012-08-16 09:37:25 -0400] UukGoblin: :y ends up being '2' as expected
[2012-08-16 09:39:22 -0400] UukGoblin: Precedence from http://wiki.opscode.com/display/chef/Attributes also seems to be wrong, I set a default attribute in an attribute file, and then set the same default attribute in a role, and I end up having the value from the attribute file
[2012-08-16 09:39:39 -0400] UukGoblin: and "default attributes applied in an attributes file" are supposed to have the lowest priority
[2012-08-16 09:39:52 -0400] UukGoblin: sorry, I set it in a recipe, not role
[2012-08-16 10:48:37 -0400] UukGoblin: okay, precedence was broken due to me having an old version of chef (0.8) - behaviour must have changed since then
[2012-08-16 10:49:09 -0400] UukGoblin: but I still claim a bug on the wiki in http://wiki.opscode.com/display/chef/Deep+Merge at "Substitute an Array with a Hash"
[2012-08-16 10:49:55 -0400] UukGoblin: or I'm doing something wrong.
[2012-08-16 10:51:03 -0400] UukGoblin: does this deep merging only work for role and env attributes, and not ones set in the recipe or an attribute file?
[2012-08-16 11:01:17 -0400] ashb: UukGoblin: fairly sure attribute merging should work for ones set via attribute files and roles too.
[2012-08-16 11:39:26 -0400] UukGoblin: ashb, so I have an attribute file and a recipe
[2012-08-16 11:39:32 -0400] UukGoblin: and I don't get how this merging works, really
[2012-08-16 11:40:49 -0400] UukGoblin: setting one attribute to [ 1, 2, 3 ] in an attribute file and then the same one to [ 4, 5, 6 ] in a recipe results in [ 4, 5, 6 ] - no merging occured
[2012-08-16 11:41:43 -0400] UukGoblin: also when I set it to { :x => 1, :y => 2 } in a recipe and { :z => 3 } in an attribute file, I also ended up with just {:x => 1, :y => 2}
[2012-08-16 11:43:10 -0400] _rc_: it merges between defaults and attributes in roles/environments.  what you're stating in the recipe is what the recipe will use
[2012-08-16 11:51:53 -0400] UukGoblin: _rc, right, I'll try to set up a role... that might be a good next step for me to learn anyway
[2012-08-16 12:20:19 -0400] UukGoblin: ok, yeah, wrote a role, got merging to work, and I'm 99.9% sure there's a bug on the wiki now. :-)
[2012-08-16 12:34:13 -0400] masterkorp: http://pastie.org/4521212
[2012-08-16 12:34:41 -0400] masterkorp: Guys i need an extra pair of eyes, do you see any typo or mussing comma there ?
[2012-08-16 12:35:01 -0400] masterkorp: /var/chef/cache/cookbooks/feedfetcher/recipes/default.rb:129: syntax error, unexpected kDO_BLOCK, expecting $end
[2012-08-16 12:35:03 -0400] masterkorp: config_files.each do |config|
[2012-08-16 12:35:07 -0400] masterkorp: i get thos
[2012-08-16 12:52:03 -0400] rgsteele: Is it possible to dynamically set an attribute *name*?
[2012-08-16 12:53:41 -0400] rgsteele: Nevermind, silly question.  Need coffee, apparently.
[2012-08-16 13:17:22 -0400] stormerider: morning folks
[2012-08-16 13:17:56 -0400] stormerider: i made my blog post about Elastic Beanstalk under Ubuntu here: http://bit.ly/Pfwsdb -- comments/corrections/questions welcome :)
[2012-08-16 13:22:42 -0400] ashb: this app is a fucking mess
[2012-08-16 13:23:00 -0400] yfeldblum: ashb, refactor it!
[2012-08-16 13:23:22 -0400] ashb: I do the bits i touch
[2012-08-16 13:23:37 -0400] ashb: its day 3 of a contract and I'm not enjoying it hugely so far
[2012-08-16 13:24:01 -0400] ashb: https://gist.github.com/c2f81d74b23da4766e4e
[2012-08-16 13:24:31 -0400] yfeldblum: ashb, i see the problem
[2012-08-16 13:24:42 -0400] yfeldblum: ashb, some of those elements are missing inline padding and font-face styles
[2012-08-16 13:25:03 -0400] yfeldblum: ashb that h4 in particular needs `font-family: 'Comic Sans'` in there
[2012-08-16 13:30:08 -0400] BryanWB_: btm, i am working on some public vagrant boxes to for use in cookbooks such as java, maven, and others
[2012-08-16 13:30:50 -0400] BryanWB_: btm: any chance opscode could host them? the resulting Vagrantfile won't be very useful if it points to a box behind my corporate firewall :p
[2012-08-16 13:36:12 -0400] fish_: I should be dead fucking simple, but it isn't: I create a file based on node attributes. but I don't want to create that file if node[:foo] isn't there
[2012-08-16 13:36:42 -0400] fish_: how do I do that? I tried only_if node[:foo] but this isn't working because my content node[:foo]... is still evaluated
[2012-08-16 13:36:50 -0400] BryanWB_: if node[:foo] ;  file "foobar"  ; end
[2012-08-16 13:37:02 -0400] yfeldblum: if node.include?("foo") ; file "/path/to/asdf" ; end
[2012-08-16 13:37:19 -0400] fish_: hrm I tried this as well.. but maybe I just some other problem then
[2012-08-16 13:37:21 -0400] yfeldblum: or you can use #has_key? as an alias for #include?
[2012-08-16 13:37:26 -0400] fish_: ok thanks, I'll try
[2012-08-16 13:43:48 -0400] PapaSierra: something strange: with vagrant my cookbooks were fine, then i edited a (unrelated) recipe, it provisioned fine. then i thought i'd wipe the vm and provision again just to test and now chef dies because of this error http://www.hastebin.com/kogugexija.txt to do with apt. i can't figure out where to look for the error
[2012-08-16 14:04:00 -0400] masterkorp: I having a weird error
[2012-08-16 14:04:10 -0400] masterkorp: masterkorp chef-repo (master) $ knife data bag from file xmlteam data_bags/xmlteam/sbnation.json
[2012-08-16 14:04:12 -0400] masterkorp: ERROR: The object you are looking for could not be found
[2012-08-16 14:04:14 -0400] masterkorp: Response: Cannot load data bag xmlteam
[2012-08-16 14:04:27 -0400] masterkorp: yet the file is there and the syntax is correct
[2012-08-16 14:04:49 -0400] mattray: masterkorp: have you done a "knife data bag create xmlteam"?
[2012-08-16 14:05:06 -0400] mattray: gotta have a data bag before you can add items to it
[2012-08-16 14:05:21 -0400] masterkorp: mattray: would that overwrite the file
[2012-08-16 14:05:37 -0400] mattray: no, it's just creating the data bag on the server
[2012-08-16 14:05:52 -0400] mattray: what does "knife data bag show xmlteam" respond with?
[2012-08-16 14:06:16 -0400] masterkorp: oh
[2012-08-16 14:06:44 -0400] masterkorp: we use capistrano that deploy with knife and somehow did not create it
[2012-08-16 14:07:23 -0400] mattray: after that you should be able to add your sbnation.json to it
[2012-08-16 14:07:43 -0400] mattray: masterkorp: SBNation? Cool
[2012-08-16 14:08:01 -0400] yfeldblum: masterkorp, $ knife data bag from file xmlteam sbnation.json
[2012-08-16 14:08:42 -0400] yfeldblum: masterkorp, and also create the data bag first before PUTing the item
[2012-08-16 14:08:56 -0400] masterkorp: yeah i know that
[2012-08-16 14:09:16 -0400] masterkorp: just noticed now that the file was not created at begining
[2012-08-16 14:09:23 -0400] masterkorp: mattray: yeah i work there :p
[2012-08-16 14:10:05 -0400] mattray: masterkorp: so the data bag itself is not a file, just the JSON items you put in it (to be pedantic)
[2012-08-16 14:10:32 -0400] masterkorp: i know :)
[2012-08-16 14:10:41 -0400] mattray: and you can leave off the directories
[2012-08-16 14:10:49 -0400] mattray: here's an example I have:
[2012-08-16 14:10:52 -0400] mattray: knife data bag create pxe_dust
[2012-08-16 14:10:53 -0400] mattray: knife data bag from file pxe_dust default.json
[2012-08-16 14:10:53 -0400] mattray: knife data bag from file pxe_dust ubuntu-lucid-amd64.json
[2012-08-16 14:10:53 -0400] mattray: knife data bag from file pxe_dust ubuntu-precise-amd64.json
[2012-08-16 14:10:59 -0400] masterkorp: i know
[2012-08-16 14:11:21 -0400] mattray: lemme know if you have any more questions, good luck!
[2012-08-16 14:12:18 -0400] UukGoblin: mattray, can you modify wiki.opscode.com?
[2012-08-16 14:12:28 -0400] UukGoblin: as in, a page on it?
[2012-08-16 14:12:28 -0400] masterkorp: the problem was that the file was alredy in the remote git, so capistrano did not saw the diferences and did not upload
[2012-08-16 14:12:28 -0400] mattray: UukGoblin: absolutely, it's a wiki
[2012-08-16 14:12:47 -0400] masterkorp: mattray: http://pastie.org/private/pctvzgazqg1qoiixgoo94a
[2012-08-16 14:12:57 -0400] UukGoblin: mattray, http://wiki.opscode.com/display/chef/Deep+Merge at "Substitute an Array with a Hash"
[2012-08-16 14:13:13 -0400] yfeldblum: "Why learn more than one language when Java is already Turing-complete?" - when did this happen?
[2012-08-16 14:13:19 -0400] UukGoblin: mattray, I believe the result should be { :x => "1", :y => "2" }, not { :x => "1", :y => "3" }
[2012-08-16 14:13:49 -0400] mattray: UukGoblin: feel free to update it
[2012-08-16 14:13:57 -0400] mattray: UukGoblin: we encourage it! :)
[2012-08-16 14:14:11 -0400] UukGoblin: ugh... I'd have to sign up or sth? :-)
[2012-08-16 14:14:21 -0400] mattray: yfeldblum: ?
[2012-08-16 14:14:51 -0400] mattray: UukGoblin: well, there is that. It keeps down on spammers
[2012-08-16 14:14:52 -0400] yfeldblum: UukGoblin, to whom does this matter?
[2012-08-16 14:15:30 -0400] UukGoblin: yfeldblum, confused the hell out of me when I was reading it.
[2012-08-16 14:15:40 -0400] yfeldblum: UukGoblin, i can't think of any case where someone is doing this and isn't Doing Things Wrong
[2012-08-16 14:15:40 -0400] mattray: yfeldblum: even examples meant to show weirdness should be correct
[2012-08-16 14:15:51 -0400] mattray: correct weirdness?
[2012-08-16 14:15:56 -0400] UukGoblin: yfeldblum, and you provided a useless answer of "garbage in, garbage out" when in fact it's just a bug on the wiki.
[2012-08-16 14:16:59 -0400] railsraider: how do i check if a recipe is in the runlist i thought i can do if node.runlist.includes?(recipe_name)
[2012-08-16 14:17:55 -0400] BryanWB_: node.recipes.include? recipe_name iirc
[2012-08-16 14:18:14 -0400] railsraider: it's run_list not runlist
[2012-08-16 14:18:40 -0400] railsraider: BryanWB_: thanks that'll work too
[2012-08-16 14:20:15 -0400] UukGoblin: mattray, OK, I've done it :->
[2012-08-16 14:20:57 -0400] mattray: UukGoblin: thanks!
[2012-08-16 14:21:38 -0400] mattray: the wiki is definitely a living document, updates are appreciated
[2012-08-16 14:22:59 -0400] mattray: just replaced the Chef 0.11s with Chef 11 :)
[2012-08-16 14:26:19 -0400] shillinm|afk: anyone ever run into an issue where the chef created files (from template) are unreadable by a process, but if you cat the same file to a new file, they are fine?
[2012-08-16 14:26:49 -0400] JoshuaMiller: File permissions / ownership?
[2012-08-16 14:27:02 -0400] shillinm: no its the exact same, its very odd
[2012-08-16 14:27:16 -0400] shillinm: in fact, with postfix it even went as far as to say "master.cf not found" even though it was right there
[2012-08-16 14:27:35 -0400] shillinm: I did "cat master.cf > master.cf.new ; mv -f master.cf.new master.cf"
[2012-08-16 14:27:39 -0400] shillinm: and it worked?!?
[2012-08-16 14:28:08 -0400] JoshuaMiller: It worked, as in starting the postfix process?
[2012-08-16 14:28:12 -0400] shillinm: yes
[2012-08-16 14:28:35 -0400] yfeldblum: sounds like perms and ownership to me ...
[2012-08-16 14:28:40 -0400] JoshuaMiller: Hmm...SELinux?
[2012-08-16 14:28:49 -0400] yfeldblum: or that
[2012-08-16 14:28:55 -0400] shillinm: thats a good thought.
[2012-08-16 14:29:08 -0400] JoshuaMiller: If you've got selinux involved, look at /var/log/messages
[2012-08-16 14:29:13 -0400] JoshuaMiller: also, la -laZ
[2012-08-16 14:30:10 -0400] specialsauce: shillinm, could be weird non-std charset characters or something maybe? Try md5summing the 2 files, or edit the file in an editor that can view special linebreak chars etc?
[2012-08-16 14:30:24 -0400] j|: anyone have any pointers for working with the apache2 cookbook? Can't seem to get the template to interpolate the server_alias parameter in a template.. :P
[2012-08-16 14:30:41 -0400] j|: using the web_app resource.
[2012-08-16 14:30:56 -0400] shillinm: lots of suggestions.  bbs
[2012-08-16 14:31:54 -0400] shillinm: selinux was enabled as this is a fresh install.  lemme revert to snapshot, disable, and try again
[2012-08-16 14:35:04 -0400] shillinm: mother eff.  it worked.  Thanks a lot JoshuaMiller
[2012-08-16 14:35:44 -0400] JoshuaMiller: woot
[2012-08-16 14:37:15 -0400] j|: when utilizing resource parameters in templates, should one index hashes with symbols or strings? I keep finding different examples. Does it matter?
[2012-08-16 14:39:25 -0400] shillinm: looks like its time to find/create an SELinux cookbook
[2012-08-16 14:39:40 -0400] houst0n: Heya guys :) I'm messing around a bit here, but I've hit a bit of a weird problem. I have a cookbook with two recipies, one that drops some files and another that uses them. If I put them both in the run_list then the one which drops the files doesn't seem to run at all, and the second script which uses the files bails out since they're not there ....
[2012-08-16 14:40:10 -0400] houst0n: But if I add the 'drop-files' one, it adds them, *then* add the second recipe to the node's run_list, then it works
[2012-08-16 14:41:20 -0400] houst0n: Does that sound err, right? Is there some logic when you have a recipe with template blocks that I'm missing in the docu?
[2012-08-16 14:41:25 -0400] yfeldblum: shillinm, the easier approach is to nuke selinux :D
[2012-08-16 14:42:11 -0400] sampikesley: anybody using cucumber-chef?
[2012-08-16 14:42:26 -0400] siezer: selinux::disable yo
[2012-08-16 14:42:44 -0400] houst0n: Any of you guys using chef on solaris btw?
[2012-08-16 14:43:09 -0400] siezer: houst0n we're totally stepping up our solaris game. whats your question?
[2012-08-16 14:43:12 -0400] houst0n: <-- masochist
[2012-08-16 14:43:40 -0400] houst0n: Nothing really, I can give you a hand if you need any solaris stuff though, I've been doing it for a rather long time
[2012-08-16 14:43:48 -0400] houst0n: (was paid to port linux code to solaris for some years)
[2012-08-16 14:44:26 -0400] houst0n: My current gig is rather heavy on zones etc and they do *everything* by hand, figured it's time to fix that
[2012-08-16 14:44:45 -0400] siezer: aha. yea we're putting proper ips, pkgin, pkg etc providers into chef.. there are very well written zfs, zones, and zpool cookbooks out there
[2012-08-16 14:45:07 -0400] siezer: I'm currently trying to get some things working on smartos
[2012-08-16 14:45:16 -0400] houst0n: I bashed together a knife bootstrap thing if you'd be interested. It drags in a rather mad amount of deps though
[2012-08-16 14:45:50 -0400] siezer: houst0n we've got omnibus installers for solaris 9, 10, and 11 both x86 and sparc
[2012-08-16 14:46:06 -0400] houst0n: Ah, I must have missed 'em. Doh!
[2012-08-16 14:46:16 -0400] siezer: yea they don't currently detect with install.sh
[2012-08-16 14:46:17 -0400] siezer: but
[2012-08-16 14:46:29 -0400] siezer: you can custom bootstrap them and pull from the s3 bucket
[2012-08-16 14:46:29 -0400] siezer: se
[2012-08-16 14:46:31 -0400] siezer: c
[2012-08-16 14:46:36 -0400] siezer: http://s3.amazonaws.com/opscode-full-stack
[2012-08-16 14:47:12 -0400] houst0n: Yeah I'm still trying to get my head aroudn all this stuff
[2012-08-16 14:47:17 -0400] siezer: make a custom bootstrap script pull those down, then do an /opt/opscode/embedded/bin/gem update chef for the latest version
[2012-08-16 14:47:34 -0400] siezer: omnibus == everything above libc in a box
[2012-08-16 14:47:46 -0400] houst0n: Ahh, okay that makes more sense
[2012-08-16 14:48:00 -0400] houst0n: What are you doing for gcc? I thought there was some dep somewhere that needed native bindings
[2012-08-16 14:48:07 -0400] houst0n: SUNWgcc ?
[2012-08-16 14:48:16 -0400] siezer: probably
[2012-08-16 14:48:34 -0400] houst0n: Hm. It's not terribly common to have gcc kicking around on sunos boxes
[2012-08-16 14:48:42 -0400] siezer: cope would know better
[2012-08-16 14:48:43 -0400] houst0n: And it's very ancient. On 5.10 anyway
[2012-08-16 14:48:57 -0400] houst0n: I was using our own gcc for it heh
[2012-08-16 14:49:23 -0400] houst0n: Hence the ~300mb of deps just to get gem working ;)
[2012-08-16 14:49:42 -0400] siezer: aha
[2012-08-16 14:49:45 -0400] siezer:  /usr/sfw/bin/wget http://mirror.opencsw.org/opencsw/pkgutil.pkg
[2012-08-16 14:49:49 -0400] siezer: pkgutil -y -i gcc4core gcc4g++ gcc4objc flex bison autoconf automake
[2012-08-16 14:50:00 -0400] houst0n: Yeah, opencsw stole their 'version' of gcc from us
[2012-08-16 14:50:10 -0400] siezer: well high five then
[2012-08-16 14:50:11 -0400] houst0n: They forked/stole blastwave
[2012-08-16 14:50:20 -0400] houst0n: I prefer to make other hand gestures
[2012-08-16 14:50:21 -0400] houst0n: ;)
[2012-08-16 14:50:26 -0400] siezer: haha
[2012-08-16 14:50:40 -0400] Mithrandir: kinda hard to steal free software, eh?
[2012-08-16 14:50:52 -0400] houst0n: Not the source, obviously
[2012-08-16 14:51:07 -0400] houst0n: The build system which wasn't open, the binary packages etc
[2012-08-16 14:51:20 -0400] houst0n: w/e :}
[2012-08-16 14:52:31 -0400] houst0n: This was some time ago and no one really cares anymore. Best of luck to them. S11 should erase the requirement for such things anyway
[2012-08-16 14:56:02 -0400] RadishR: hello, I'm trying to get the knife ec2 server create thing to work and running into problems when I'm running it on a node that already has chef installed
[2012-08-16 14:56:19 -0400] RadishR: (node, AMI)
[2012-08-16 14:56:39 -0400] RadishR: I added a user-data script that uninstalls chef-client, but it seems that it is, somehow, still trying to run it
[2012-08-16 14:57:00 -0400] RadishR: uninstalls the rubygem and deletes bin/chef-client
[2012-08-16 14:57:26 -0400] RadishR: what do I need to do to remove chef-client from a machine, so I can force it to bootstrap as a new node?
[2012-08-16 14:57:56 -0400] mattray: RadishR: just remove /etc/chef
[2012-08-16 14:58:05 -0400] mattray: RadishR: then you can re-bootstrap it
[2012-08-16 14:58:14 -0400] RadishR: I did that...it complained that /etc/chef didn't exist
[2012-08-16 14:58:15 -0400] mattray: and remove the client for it from the server
[2012-08-16 14:58:36 -0400] mattray: did you run knife bootstrap from another machine, or just chef-client on the box?
[2012-08-16 14:59:23 -0400] RadishR: knife ec2 server create -E XXX -I ami-YYY -x ZZZ -r "role[base]" -N testserver02
[2012-08-16 14:59:38 -0400] RadishR: the AMI it's trying to bootstrap off of already has chef-client installed
[2012-08-16 14:59:59 -0400] RadishR: so when the ec2 create thing runs chef-client it tries to register as the wrong node, and dies horribly
[2012-08-16 15:00:17 -0400] RadishR: if I run it off a stock AMI it's fine, because it goes through the whole 'install chef' process
[2012-08-16 15:00:38 -0400] RadishR: I might be running into a concurrency issue...I have sshd waiting 10 seconds before it starts
[2012-08-16 15:00:48 -0400] mattray: RadishR: is it complaining that the client already exists?
[2012-08-16 15:01:20 -0400] mattray: if so, "knife client delete testserver02"
[2012-08-16 15:01:28 -0400] RadishR:  HTTP Request Returned 401 Unauthorized: Failed to authenticate. Ensure that your client key is valid.
[2012-08-16 15:01:48 -0400] mattray: remove the client.pem and delete the client from the server with knife, then try
[2012-08-16 15:02:03 -0400] RadishR: knife client show testserver02 returns 'not found'
[2012-08-16 15:02:12 -0400] mattray: that's good
[2012-08-16 15:02:27 -0400] mattray: gist the chef-client on that ec2 box?
[2012-08-16 15:03:21 -0400] RadishR: when I ssh to the box it doesn't exist
[2012-08-16 15:03:35 -0400] RadishR: no idea where it's running chef-client from
[2012-08-16 15:04:11 -0400] mattray: when you do knife ec2 server create it's installing chef
[2012-08-16 15:07:06 -0400] siezer: RadishR look in /opt/opscode/embedded
[2012-08-16 15:22:54 -0400] RadishR: I wonder if the userdata script is deleting chef-client after the chef-client run
[2012-08-16 15:23:03 -0400] RadishR: so it isn't there by the time I ssh in
[2012-08-16 15:23:32 -0400] RadishR:  opt/opscode/embedded does not exist (with a leading /)
[2012-08-16 15:23:57 -0400] RadishR: I already delay sshd by 10 seconds, maybe that's not enough time?
[2012-08-16 15:25:16 -0400] RadishR: it complains about not being able to find validation.pem at the moment (WARN: Failed to read the private key /etc/chef/validation.pem: #<Errno::ENOENT: No such file or directory - /etc/chef/validation.pem>)
[2012-08-16 15:26:27 -0400] luckymike: RadishR: what provider are you running on?
[2012-08-16 15:26:35 -0400] luckymike: not Rackspace managed cloud by chance?
[2012-08-16 15:26:58 -0400] RadishR: ec2
[2012-08-16 15:27:01 -0400] RadishR: aws
[2012-08-16 15:27:42 -0400] RadishR: it'd be nice if I could pass an option to bootstrap to tell it to replace the node
[2012-08-16 15:27:53 -0400] RadishR: not replace so much as "start from scratch and rebootstrap"
[2012-08-16 15:28:12 -0400] cjblomqvist: I get `load_dependency': undefined method `to_spec' whenever I try to start chef-server after installing it - using Ruby version 1.8.7 - any pointers? Do I need to update Ruby?
[2012-08-16 15:28:13 -0400] siezer: you can use a custom bootstrap script to dothat
[2012-08-16 15:28:38 -0400] siezer: knife bootstrap ip.of.some.machine -d customboot
[2012-08-16 15:28:48 -0400] siezer: where customboot.erb is located in .chef/bootstrap
[2012-08-16 15:29:02 -0400] RadishR: where do I find the "fullinstall" that knife ec2 server create uses?
[2012-08-16 15:29:19 -0400] RadishR: I have a bunch of ubuntu1XX.gems/.apt files
[2012-08-16 15:29:41 -0400] dpetzel: I'm running into "ArgumentError: Cannot find a version for node" with a fresh install of 10.12 and Ohai: 6.14.0 using the omnibus installation on Windows 2008 R2. I see a few tickets about this error on older versions of Chef and Ohai, but they all indicate fixes. Does anyone else see this issue on 10.12?
[2012-08-16 15:30:14 -0400] siezer: RadishR
[2012-08-16 15:30:14 -0400] siezer: .rvm//gems/ruby-1.9.3-p125/gems/chef-10.12.0/lib/chef/knife/bootstrap/chef-full.erb
[2012-08-16 15:30:18 -0400] siezer: for me anyway
[2012-08-16 15:30:46 -0400] siezer: mkdir -p .chef/bootstrap ; cp thattemplet .chef/bootstrap/customboot.erb
[2012-08-16 15:30:52 -0400] RadishR: ah, there we go
[2012-08-16 15:30:54 -0400] siezer: emacs it and you're ready to roll
[2012-08-16 15:31:11 -0400] RadishR: let's see if I can figure out how it tells if it needs to run the validator again
[2012-08-16 15:31:27 -0400] siezer: by default it will install chef fresh
[2012-08-16 15:32:08 -0400] siezer: if you need to "rebootstrap" all you need to do is delte the node's client and node off of chef-server, and remove /etc/chef/client.pem from the node
[2012-08-16 15:32:10 -0400] siezer: but
[2012-08-16 15:32:26 -0400] RadishR: well, I need to do this as part of the bootstrap script
[2012-08-16 15:32:35 -0400] siezer: you can probably just run chef-client -j /etc/chef/first-boot.json from the node without having to do all that
[2012-08-16 15:32:46 -0400] RadishR: so the first line should be to delete /etc/chef/client.pem
[2012-08-16 15:32:56 -0400] RadishR: I don't actually want to remove the node from chef-server
[2012-08-16 15:33:09 -0400] RadishR: the issue is that the AMIs are created from servers that have a working chef installation
[2012-08-16 15:33:34 -0400] RadishR: and I want to launch more servers like the ones that already exist, but the new servers need a new name in chef (or they screw with the ohai stuff)
[2012-08-16 15:33:41 -0400] btm: BryanWB_: send me an email about what they are? We've got some public images we're putting up for test-kitchen that should be released soon that may server the same purpose or maybe it would be appropriate to add there.
[2012-08-16 15:33:54 -0400] erratic: mornin yall
[2012-08-16 15:34:13 -0400] RadishR: so I think I just need to remove chef/client.pem
[2012-08-16 15:34:23 -0400] RadishR: and that should fix the bootstrap to pretend like it's a new node, yes?
[2012-08-16 15:34:58 -0400] siezer: aha
[2012-08-16 15:34:59 -0400] siezer: well
[2012-08-16 15:35:34 -0400] siezer: removing /etc/chef/client.pem will definitely force it to re-register with chef server
[2012-08-16 15:35:38 -0400] siezer: however
[2012-08-16 15:36:04 -0400] siezer: the node_name needs to be unique
[2012-08-16 15:36:22 -0400] siezer: by default, chef uses the fqdn as determined by ohai as the node_name
[2012-08-16 15:36:44 -0400] siezer: so if you're just using default ec2 hostnames you should be good with just deleting the key
[2012-08-16 15:37:01 -0400] RadishR: well, I'm passing a -N option to the knife ec2 server create
[2012-08-16 15:37:06 -0400] RadishR: so that should be good
[2012-08-16 15:37:19 -0400] siezer: if you have it set to something semantically meaningful, you'll need to nmake sure that /etc/chef/client.pem | grep node_name is unique
[2012-08-16 15:37:24 -0400] siezer: word you should be good then
[2012-08-16 15:38:04 -0400] Urocyon: Is this a good channel for berkshelf questions, or is there another channel for that?
[2012-08-16 15:39:44 -0400] geekbri: Github doens' thave bash syntax highlighting?  What is this 1874!
[2012-08-16 15:40:56 -0400] yfeldblum: geekbri, if you put "#!/usr/bin/env ruby" at the top, it will work better
[2012-08-16 15:40:59 -0400] RadishR: yay! thanks siezer, adding rm /etc/chef/client.pem to the start of the bootstrap script fixed my problem
[2012-08-16 15:41:19 -0400] siezer: np
[2012-08-16 15:42:53 -0400] mattray: Urocyon: unless there is a #berkshelf, this is probably the place for it
[2012-08-16 15:43:21 -0400] Urocyon: I didn't find one, so I guess this is it.
[2012-08-16 15:43:59 -0400] jackery: I'm having a rabbitmq connection issue after installing the omnibus chef-client package on my chef server. Has anyone ever seen anything like this? I'm unable to add new clients to my chef server.
[2012-08-16 15:48:25 -0400] Urocyon: Let's start with the cookbook directory.  After installing shims, should you be committing those shimmed files to your chef repository?  Or should you be gitignoring cookbooks all together?
[2012-08-16 15:49:39 -0400] erratic: https://gist.github.com/6c16b106acc20cad4603 I'm thinking about refactoring this into a knife module for backing up and restoring to/from JSON files.. is there any specific guideline I should follow for os compatability (see line 64 and 65 for an example of what I'm talking about..mkdir -p doesn't work on windows)
[2012-08-16 15:49:59 -0400] geekbri: Urocyon: this page can be somewhat helpful at times http://vialstudios.com/guide-authoring-cookbooks.html
[2012-08-16 15:50:01 -0400] erratic: actually I should probably be using fileutils for that
[2012-08-16 15:50:32 -0400] erratic: opscode / knife doesn't have anything like an lwrp that's preferred does it ?
[2012-08-16 15:51:04 -0400] Urocyon: geekbri: that does look very helpful.
[2012-08-16 15:51:14 -0400] geekbri: Urocyon:  ;)
[2012-08-16 15:51:15 -0400] geekbri: err
[2012-08-16 15:51:16 -0400] geekbri: :)
[2012-08-16 15:52:14 -0400] cheeseplus: erratic: are you trying to backup the chef server itself?
[2012-08-16 15:52:24 -0400] Urocyon: ok, let me look through that and see what questions I have left.
[2012-08-16 16:02:06 -0400] Urocyon: geekbri: Ran into a berks problem already following that.  I couldn't execute "berks cookbook".  "could not find task "cookbook"
[2012-08-16 16:02:43 -0400] geekbri: I unfortunately haven't gotten to play much with berkshelf yet as I am currently using librarian.  Just haven't had time to muck around.  Sounds like a missing rake task to me, strange.
[2012-08-16 16:02:55 -0400] geekbri: Thats just a guide I had bookmarked for "later reading" and I skimmed through parts of it
[2012-08-16 16:03:13 -0400] Urocyon: Problem seems to be gem installed 0.3.7 for me.
[2012-08-16 16:06:16 -0400] yfeldblum: Berkshelf uses Thor
[2012-08-16 16:06:48 -0400] yfeldblum: not Rake
[2012-08-16 16:06:53 -0400] geekbri: Ah ok.
[2012-08-16 16:10:08 -0400] BryanWB_: Urocyon: have us een this http://vialstudios.com/guide-authoring-cookbooks.html
[2012-08-16 16:10:10 -0400] BryanWB_: ?
[2012-08-16 16:10:17 -0400] BryanWB_: that should explain a lot
[2012-08-16 16:10:32 -0400] BryanWB_: and listening to the ffs episode on it as well
[2012-08-16 16:10:45 -0400] BryanWB_: i would assist as well but i gotta go
[2012-08-16 16:11:03 -0400] Urocyon: It did!   I got blocked a bit in that my version of berkshelf doesn't have the cookbook task.  Will look into updating here in a few minutes and giving it another go.
[2012-08-16 16:19:45 -0400] geekbri: Man, why is managing my chrome bookmarks such a challenge.
[2012-08-16 16:20:13 -0400] yfeldblum: geekbri, because it's the modern age, where you manage kindlemarks and ipadmarks
[2012-08-16 16:20:25 -0400] yfeldblum: geekbri, what's a bookmark?
[2012-08-16 16:20:44 -0400] geekbri: Those things that I keep adding to but never look through!
[2012-08-16 16:26:40 -0400] xerxas: Hi all ! Can I check whether a directory if empty ?
[2012-08-16 16:26:57 -0400] xerxas: would sth like only_if Dir("mypath").empty? would work ?
[2012-08-16 16:28:25 -0400] xerxas: sorry
[2012-08-16 16:28:39 -0400] xerxas: only_if do Dir("mypath").empty? end
[2012-08-16 16:36:57 -0400] erk: is it normal after isntalling chef-server for the first time status is empty on the webui page?
[2012-08-16 16:40:37 -0400] yfeldblum: erk, the status page lists the status of all the chef-managed nodes, and you haven't created any of those yet
[2012-08-16 16:41:53 -0400] erk: yfeldblum: shouldn't chef-server node automatically shows up the first time we do knife configure -i?
[2012-08-16 16:42:23 -0400] yfeldblum: erk, there's a client, but of course there's no node
[2012-08-16 16:43:02 -0400] erk: yfeldblum: are you saying i have to manually knife node add <chef-server-node-name> ?
[2012-08-16 16:43:15 -0400] erk: yfeldblum: add*
[2012-08-16 16:43:43 -0400] yfeldblum: erk, no, i'm saying that `knife configure -i` doesn't, and isn't supposed to, add a node
[2012-08-16 16:44:33 -0400] erk: yfeldblum: when i experimented with chef last time, i remember seeing my chef-server node shows up right away, and thats where i go WHAAAAA
[2012-08-16 16:44:57 -0400] yfeldblum: erk, perhaps because last time, the experiment was a different experiment?
[2012-08-16 16:45:22 -0400] erk: yfeldblum: in general, should chef-server machine exists as a node to chef-server?
[2012-08-16 16:45:29 -0400] erk: yfeldblum: perhas :(
[2012-08-16 16:45:42 -0400] yfeldblum: erk, no, not in general; some people do it that way, and some people do not
[2012-08-16 16:46:03 -0400] yfeldblum: erk, but it's absolutely not the default way to do it, so unless you do it explicitly, it won't happen
[2012-08-16 16:46:58 -0400] erk: yfeldblum: i see. thank you very much, yfeldblum .
[2012-08-16 16:47:24 -0400] yfeldblum: erk, no problem
[2012-08-16 16:50:31 -0400] ivey: Urocyon:
[2012-08-16 16:50:38 -0400] ivey: Urocyon: did you get an answer on your shims dir?
[2012-08-16 16:51:20 -0400] Urocyon: not really.  I did git a reference to a helpful document I'm just getting back to.
[2012-08-16 16:51:24 -0400] ivey: we gitignore cookbooks/ and let each dev/CI box pull them down
[2012-08-16 16:51:57 -0400] ivey: the shims basically are there for vagrant
[2012-08-16 16:52:34 -0400] ivey: if you're not using vagrant, you don't even really need to install with --shims
[2012-08-16 16:53:11 -0400] Urocyon: was planning on using vagrant, so I'll probably use them.
[2012-08-16 16:54:34 -0400] Urocyon: I'm converting from a current chef repository, which has all the cookbooks in the cookbook directory some of them are mine, some are modified versions of opscode cookbooks, some are vanilla opscode cookbooks.
[2012-08-16 16:56:11 -0400] Urocyon: I'm guessing though that I should no longer be keeping cookbooks in my repository that maybe I should just add cookbooks to my .gitignore but I haven't found anything saying that explicitly.
[2012-08-16 17:03:04 -0400] erk: yfeldblum: funny how it now shows up as a node magically. funny!
[2012-08-16 17:03:18 -0400] ivey: Urocyon:
[2012-08-16 17:03:28 -0400] ivey: damn, sorry, this client does tab completion weird
[2012-08-16 17:03:36 -0400] ivey: anyway yeah we have no cookbooks in our chef-repo
[2012-08-16 17:03:36 -0400] Urocyon: bad client!
[2012-08-16 17:04:16 -0400] ivey: each application has a berksfile that pulls in the app cookbook, and then app cookbooks have berksfile that pulls in deps
[2012-08-16 17:04:26 -0400] ivey: and our CI server upload to chef
[2012-08-16 17:05:06 -0400] ivey: we're not at the point of saying "this is the right way" more "this is what we're trying" so YMMV
[2012-08-16 17:06:54 -0400] chip-: ivey: I read 'deps' as 'derps'
[2012-08-16 17:07:10 -0400] Urocyon: In some cases I have added recipes to opscode cookbooks or made minor tweaks to an opscode cookbook.  How can I go about preserving that information as I move to berkshelf and how should I do that in the future?
[2012-08-16 17:07:36 -0400] ivey: chip-: lol we use a different tool for derp management
[2012-08-16 17:07:55 -0400] Urocyon: the derp-hammer!
[2012-08-16 17:08:12 -0400] ivey: Urocyon: we're super strict about our forking and mods. if we make mods to a community cookbook we wait until it's merged back in to use it, or we make a real fork with a new name
[2012-08-16 17:08:26 -0400] ivey: because we want to treat versions of cookbooks as software artifacts
[2012-08-16 17:09:01 -0400] ivey: but you can point a berksfile to a specific SHA in a git repo, so just keep your changes in a fork, and point to your branch
[2012-08-16 17:10:13 -0400] Urocyon: sounds reasonable.
[2012-08-16 17:12:42 -0400] Urocyon: Also a good way to get around the version conflict problem.
[2012-08-16 17:14:18 -0400] Urocyon: On foodfightshow I heard about wrapping cookbooks with another cookbook to solve some problems.  Do you do that, ivey?
[2012-08-16 17:14:39 -0400] ivey: yeah sometimes. we don't use roles at all
[2012-08-16 17:14:48 -0400] ivey: that was me on the show, btw
[2012-08-16 17:15:05 -0400] ivey: the other one with the bad skype
[2012-08-16 17:15:38 -0400] ivey: so yeah, we may have a cookbook that pulls in another cookbook or 2, sets some attrs, and that's all it does
[2012-08-16 17:15:56 -0400] bmhatfield: I have a dumb question: If I wanted to recreate a chef client from an existing private key, is there an easy process for that?
[2012-08-16 17:16:11 -0400] ivey: but some of what's working for us is overkill for most. because we have tons of devs and tons of envs
[2012-08-16 17:16:13 -0400] chip-: Having a weird issue with the apt cookbook, where apt-get update isn't getting called even though my run list includes apt::default
[2012-08-16 17:16:27 -0400] chip-: calling it via solo/Vagrant against the standard precise64 box file
[2012-08-16 17:17:06 -0400] chip-: It's causing issues with downstream cookbooks, particularly java & postgres, which try to install from package against an outdated apt repo.
[2012-08-16 17:17:15 -0400] chip-: er, downlist
[2012-08-16 17:22:05 -0400] chip-: Before I go to custom forks of these cookbooks that just force an apt update on every run, anyone else dealt with this behavior?
[2012-08-16 17:24:23 -0400] meineerde: chip-: the default apt recipe only runs apt-get update once every 24 hours to avoid excessive resource consumption
[2012-08-16 17:25:25 -0400] chip-: meineerde: Right, but since these machines are base images that could not have run apt-get update within the last 24h because they've just been provisioned about 45 seconds before the chef run, then apt-get update should trigger.
[2012-08-16 17:27:12 -0400] meineerde: chip-: I think there was once a bug that the update might only be scheduled after package versions were determined.
[2012-08-16 17:27:32 -0400] hoover_damm: chip-, remember freshly installed images have fresh indexes
[2012-08-16 17:28:15 -0400] chip-: hoover_damm: not in this case, it's coming from a pre-baked .box file, so the index is stale.
[2012-08-16 17:28:25 -0400] hoover_damm: chip-, chip- https://github.com/opscode-cookbooks/apt/blob/master/recipes/default.rb#L45
[2012-08-16 17:28:44 -0400] meineerde: chip-: in this case, the problem is that apt-get update is only run during convergence while the postgres cookbook tries to install the package before to have it available during setup
[2012-08-16 17:28:51 -0400] hoover_damm: chip-, work up from there
[2012-08-16 17:29:13 -0400] chip-: Yeah I think my issue is line 25.
[2012-08-16 17:29:28 -0400] chip-: Trying commenting out the first apt-get-update block right now.
[2012-08-16 17:35:02 -0400] Urocyon: ivey: we are using roles right now, but since listening to the show I've been experimenting with putting more of that information into cookbook wrappers.
[2012-08-16 17:35:38 -0400] ivey: cool
[2012-08-16 17:35:50 -0400] ivey: would love to hear what you think after trying it some
[2012-08-16 17:37:22 -0400] Urocyon: so far, so good. Often, when setting up a role, I end up realizing I need to add a package or two to the system, I want to set up a couple of directories, etc and so I would end up writing a recipe to support the role anyway.
[2012-08-16 17:38:02 -0400] chip-: Man, still happening.
[2012-08-16 17:38:14 -0400] chip-: Second recipe in a run list is being processed before the first, any idea why? https://gist.github.com/3371939
[2012-08-16 17:41:46 -0400] chip-: (Both cookbooks are reasonably off-the-shelf)
[2012-08-16 17:42:16 -0400] Urocyon: chip- I recall it being a postgresql thing.  I hit it too.   Give me a sec to review the recipe and I'll tell you where it is.
[2012-08-16 17:48:41 -0400] Urocyon: chip- it's not jumping out at me right now.   I recall it being some marker on a resource that made it execute the recipe early.
[2012-08-16 17:53:05 -0400] Urocyon: chip- I remembered!   It's in those packages definitions in client.   Where  it has action :nothing and end.run_action(:install)
[2012-08-16 17:53:22 -0400] chip-: thanks
[2012-08-16 17:53:23 -0400] Urocyon: That makes it install during the evaluation phase of a chef run.
[2012-08-16 17:53:28 -0400] chip-: that was driving me crazy.
[2012-08-16 17:55:04 -0400] Urocyon: chip- discussed here: http://tickets.opscode.com/browse/COOK-1391
[2012-08-16 17:56:29 -0400] Urocyon: chip- also here http://tickets.opscode.com/browse/COOK-1011
[2012-08-16 17:57:14 -0400] Urocyon: Looks like it was actually fixed in COOK-1441
[2012-08-16 17:57:32 -0400] Urocyon: or will be
[2012-08-16 18:01:51 -0400] erratic: https://gist.github.com/ffea2a0b1401f671e755
[2012-08-16 18:02:35 -0400] hoover_damm: ivey, cookbook wrappers huh? sounds like the basic end point I got to
[2012-08-16 18:02:46 -0400] erratic: its that _default.json file
[2012-08-16 18:03:06 -0400] ivey: hoover_damm: basically a cookbook that does what a role does, so it acts like a versionable role
[2012-08-16 18:03:25 -0400] hoover_damm: ivey, yep
[2012-08-16 18:03:40 -0400] hoover_damm: ivey, then wrap some cookbook design patterns and semver patterns
[2012-08-16 18:03:47 -0400] hoover_damm: ivey, and move forward
[2012-08-16 18:04:04 -0400] ivey: yeah
[2012-08-16 18:04:19 -0400] hoover_damm: unfortunately roles really should be renamed to environments
[2012-08-16 18:04:19 -0400] ivey: lusis: see? it's not crazy. other people are doing it too. :P
[2012-08-16 18:04:32 -0400] hoover_damm: and environments should be renamed to bigcollectionsofdata?
[2012-08-16 18:04:34 -0400] hoover_damm: i don't know
[2012-08-16 18:04:52 -0400] ivey: i don't think we need roles anymore, personally. environments + cookbooks do what roles did in 0.9
[2012-08-16 18:05:19 -0400] yfeldblum: roles are fine ...
[2012-08-16 18:05:20 -0400] cheeseplus: i find roles in conjunction with attribute merging rather useful
[2012-08-16 18:05:22 -0400] cwj: huh i use both roles and environments heavily
[2012-08-16 18:05:50 -0400] yfeldblum: roles are composable; environments are not
[2012-08-16 18:06:03 -0400] cheeseplus: ^
[2012-08-16 18:06:17 -0400] bmhatfield: Does anyone know how I can change the public key associated with a chef api client? knife client edit doesn't actually work  the public key is reset the next time I do a knife client edit.
[2012-08-16 18:07:53 -0400] hoover_damm: ivey, also do remember most people will I'm wrong because of various silly reasons
[2012-08-16 18:08:10 -0400] hoover_damm: my most favorite is being a chef 0.6 user for 2 years longer then required
[2012-08-16 18:08:14 -0400] yfeldblum: indeed the ideal scenario is each node's run_list has exactly one role, and that role is a top-level role that delegates to a bunch of other recipes and roles
[2012-08-16 18:08:50 -0400] hoover_damm: ivey, but I got to this point with a client when I reviewed their stuff and it's like their roles were just assignments to recipes with nothing more then that.
[2012-08-16 18:09:17 -0400] ivey: for us, it's that we can't test. 1 bad role and you can break prod. with versions, that doesn't happen.
[2012-08-16 18:09:19 -0400] hoover_damm: ivey, that's the moment I realized that roles were in err
[2012-08-16 18:09:29 -0400] hoover_damm: ivey, that's the most common problem
[2012-08-16 18:09:33 -0400] hoover_damm: requires multiple chef servers
[2012-08-16 18:09:36 -0400] hoover_damm: or orgs to test
[2012-08-16 18:23:29 -0400] wjknight: afternoon all
[2012-08-16 18:23:43 -0400] bassclef: i'm trying to install chef-server via bootstrap laters on CentOS 6.3
[2012-08-16 18:23:53 -0400] bassclef: but it fails with 2 errors when compiling gecode
[2012-08-16 18:24:19 -0400] bassclef: any ideas why?
[2012-08-16 18:24:31 -0400] bassclef: seems like its all out dated
[2012-08-16 18:24:48 -0400] bassclef: as i ran into errors with yum repos in the beginning still trying to pull 6-5
[2012-08-16 18:24:54 -0400] bassclef: instead of 6-7 and had to fix that.
[2012-08-16 18:25:06 -0400] bassclef: is there an updated bootstrap method for modern linux flavors?
[2012-08-16 18:25:17 -0400] hoover_damm: lol @ centos being modern
[2012-08-16 18:25:41 -0400] bassclef: not here to argue favorite linux flavors
[2012-08-16 18:25:51 -0400] matschaffer: bassclef: I've seen bootstrap be weird on rhel linux before. Could have happened again
[2012-08-16 18:26:04 -0400] hoover_damm: bassclef, nahh i don't find them to be modern as el5 was based on fedora 6/7/8... rhel6 is based on ..
[2012-08-16 18:26:04 -0400] matschaffer: actually I think it was centos even (like 1.5 years ago though)
[2012-08-16 18:26:59 -0400] bassclef: so i'm assuming no one has any suggestions?
[2012-08-16 18:27:23 -0400] bassclef: seems to me that opscode isn't really keeping things updated... unless it pertains to their payfor servies
[2012-08-16 18:27:26 -0400] bassclef: services
[2012-08-16 18:27:35 -0400] hoover_damm: looks like someone used http://rpm.aegisco.com/aegisco/rhel/6/x86_64/gecode-3.5.0-1.el5.x86_64.rpm for gecode
[2012-08-16 18:27:38 -0400] hoover_damm: at one point
[2012-08-16 18:27:39 -0400] hoover_damm: rebuilding that rpm
[2012-08-16 18:27:45 -0400] chip-: Yes, jump immediately to assuming the worst about people who are in the channel. That will work out great for you.
[2012-08-16 18:28:12 -0400] bassclef: when did i assume the worst?
[2012-08-16 18:28:15 -0400] bassclef: about anyone?
[2012-08-16 18:28:23 -0400] bassclef: man kids on the internet have giant sandy vaginas
[2012-08-16 18:28:24 -0400] bassclef: seriously
[2012-08-16 18:29:04 -0400] matschaffer: bassclef: I'd love to hear it from an opscode rep, but I get the feeling they're focusing pretty heavily on the new chef server
[2012-08-16 18:29:16 -0400] chip-: Urocyon: Totally fixed my issue, thanks.
[2012-08-16 18:29:25 -0400] bassclef: thanks mat
[2012-08-16 18:29:37 -0400] matschaffer: bassclef: there was a foodfight show where they talked about it
[2012-08-16 18:29:41 -0400] bassclef: is there a flavor of linux that is a bit more chef friendly that they recommend?
[2012-08-16 18:29:49 -0400] matschaffer: typically ubuntu
[2012-08-16 18:30:03 -0400] bassclef: yuck
[2012-08-16 18:30:06 -0400] bassclef: srsly?
[2012-08-16 18:30:08 -0400] hoover_damm: matschaffer, basically I think Opscode is awesome and hope they keep up the good work
[2012-08-16 18:30:11 -0400] matschaffer: seems to get the most attention for some reason
[2012-08-16 18:30:17 -0400] bassclef: people actually use ubuntu in production environments?
[2012-08-16 18:30:33 -0400] matschaffer: hoover_damm: oh for sure, just speculating on why the bootstrapper would be broken on centos
[2012-08-16 18:30:50 -0400] matschaffer: honestly I can't wait for the new chef server to get released
[2012-08-16 18:30:55 -0400] matschaffer: works great hosted
[2012-08-16 18:31:09 -0400] matschaffer: bassclef: so I hear ;)
[2012-08-16 18:31:11 -0400] hoover_damm: matschaffer, i'm torn.. between erlchef and omnibus-server
[2012-08-16 18:31:22 -0400] hoover_damm: and omnibus-server would fix baseclef's problems
[2012-08-16 18:31:28 -0400] hoover_damm: he just needs to ask for a beta of it
[2012-08-16 18:31:39 -0400] matschaffer: hoover_damm: omnibus-server? is that like omnibus but for installing the ruby chef-server?
[2012-08-16 18:31:50 -0400] hoover_damm: matschaffer, working chef-server out of a omnibus install
[2012-08-16 18:32:07 -0400] bassclef: hoover_damm: you should look at this from the standpoint that what if i had never used chef and didn't know its awesomeness?
[2012-08-16 18:32:27 -0400] bassclef: someone new coming in would be pushed away when finding "official" install methods that are out dated and don't work
[2012-08-16 18:32:33 -0400] hoover_damm: bassclef, your attitude sucks and I'm not going to even bother answering your question
[2012-08-16 18:32:34 -0400] bassclef: and end up using puppet or something
[2012-08-16 18:32:41 -0400] bassclef: i didn't ask a question
[2012-08-16 18:32:44 -0400] hoover_damm: you lost me at your sandy vagina comment
[2012-08-16 18:32:47 -0400] hoover_damm: don't talk to me
[2012-08-16 18:32:50 -0400] bassclef: your mastery of the english language is awesome
[2012-08-16 18:32:58 -0400] bassclef: you act like your 12
[2012-08-16 18:33:00 -0400] bassclef: grow up
[2012-08-16 18:33:03 -0400] matschaffer: let me know when you guys finish
[2012-08-16 18:33:07 -0400] bassclef: "Talk to the hand face not listening"
[2012-08-16 18:33:07 -0400] chip-: aaaand there's the ignore list
[2012-08-16 18:33:20 -0400] bassclef: oh boy
[2012-08-16 18:33:38 -0400] hoover_damm: matschaffer, :) he's ignored and we're moving on
[2012-08-16 18:33:44 -0400] bassclef: lol
[2012-08-16 18:33:52 -0400] bassclef: kids on the internet are so tough
[2012-08-16 18:34:53 -0400] bassclef: yawn
[2012-08-16 18:35:58 -0400] j2d3_: wow - there are a lot of people in this room. I have a quick, easy question i think - running chef solo -
[2012-08-16 18:37:41 -0400] j2d3_: i would like to know how, in a template, to reference the argument I pass to provision an environment... so - i run "rake provision[test]" where "test" is the environment...
[2012-08-16 18:38:29 -0400] j2d3_: and in a template, how would i refer to the variable whose value is "test" - the argument I passed in
[2012-08-16 18:38:33 -0400] j2d3_: ?
[2012-08-16 18:40:27 -0400] chip-: is test an actual chef-environment? (http://wiki.opscode.com/display/chef/Environments)
[2012-08-16 18:40:46 -0400] chip-: (I don't know a ton about solo, so I'm not sure if chef environments are even available to solo)
[2012-08-16 18:41:35 -0400] jgriffin: hi, anyone know of a cookbook for puma.io?
[2012-08-16 18:41:55 -0400] j2d3_: this is my first time using chef solo, and I actually don't really know if it's an "actual chef environment" - or what would make it one... eek - sorry.
[2012-08-16 18:44:05 -0400] j2d3_: here's a little bit of the Rakefile where it takes my arguments and does things with them.
[2012-08-16 18:44:06 -0400] j2d3_: task :provision, :name, :app, :upgrade do |t,args|   config = get_environment_config args[:name]   app = args[:app] || "thoth"    config["apps"][app]["servers"].each do |ssh_target,run_list|     puts "provisioning #{ssh_target} as role [#{run_list}]"     chefify(ssh_target, ssh_key_path)      dna_file = get_dna_file(run_list)     # get our cookbooks, roles, and confuguration into the kitchen     sh %Q[cd #{HERE} && rsync -e 'ssh -i #{ssh_
[2012-08-16 18:44:15 -0400] j2d3_: ugh sorry i should use a pastebin or something.
[2012-08-16 18:45:22 -0400] j2d3_: http://pastebin.com/embed_js.php?i=9uVKatad
[2012-08-16 18:46:55 -0400] bassclef: alright, seems like Ubuntu is my best bet :/
[2012-08-16 18:46:57 -0400] j2d3_: that's the first place the args i pass to "provision" - so what i wonder is how can i refer to that arg later down the line in a template.
[2012-08-16 18:47:04 -0400] bassclef: good thing I use rackspace
[2012-08-16 18:47:14 -0400] bassclef: click click done
[2012-08-16 18:48:32 -0400] m_george: had anyone heard of an instance where ohai is not longer adding the rackspace attribute to the added attributes for a rackspace cloud server?
[2012-08-16 18:48:41 -0400] j2d3_:  that's the first place the args i pass to "provision" *get processed*
[2012-08-16 18:55:42 -0400] JoshuaMiller: No longer, under what circumstance?
[2012-08-16 18:57:38 -0400] mattray: m_george: did it used to and stopped or never worked?
[2012-08-16 19:00:44 -0400] m_george: mattray: it was working and has now stopped. If i am reading the code correctly, it looks like there is a new arp value not reckognized in: has_rackspace_mac in the rackspace plugin for ohai
[2012-08-16 19:01:09 -0400] mattray: m_george: yeah, there are some fixes needed for knife rackspace
[2012-08-16 19:03:50 -0400] m_george: mattray: the servers are provisioning, it's just that ohai isn't adding the rackspace attribute anymore so certain recipes of mine are now failing.
[2012-08-16 19:07:50 -0400] jordane: m_george: We had the same issue the other week. if you're using a recent enough version of ohai you can use ohai hints to tell it that the server is in a rackspace environment
[2012-08-16 19:08:20 -0400] m_george: jordane, where can i find info about ohai hints
[2012-08-16 19:08:35 -0400] jtimberman: huh, looks like he left.
[2012-08-16 19:08:38 -0400] jtimberman: (bassclef)
[2012-08-16 19:08:52 -0400] jordane: m_george: http://www.opscode.com/blog/2012/05/30/ohai-6-14-0-released/
[2012-08-16 19:09:02 -0400] jordane: look at the hints section, and the bug list that was fixed
[2012-08-16 19:11:29 -0400] m_george: jordane, thanks. Any tips on creating that hint file during provisioning with knife-rackspace
[2012-08-16 19:13:15 -0400] jordane: m_george: we just create it in our bootstrap. a simple "echo {} >> /etc/chef/hints/ohai/rackspace.json" is all you need
[2012-08-16 19:14:42 -0400] jordane: m_george: if you don't use custom bootstrap scripts, they're pretty easy, see http://wiki.opscode.com/display/chef/Custom+Knife+Bootstrap+Script
[2012-08-16 19:15:23 -0400] m_george: jordan, thanks i was just starting to look at that
[2012-08-16 19:15:56 -0400] beandip: If I have an attribute that is an array of values and I want a cookbook to add to that array while keeping whatever values were set in it prior how can I do that?
[2012-08-16 19:16:38 -0400] beandip: I tried node.set["attribute"] = node["attribute"] | [ new array vlues]
[2012-08-16 19:16:41 -0400] beandip: no workie
[2012-08-16 19:29:36 -0400] bemu: Does anyone know the correct Ubuntu syntax for: not_if { Chef::Provider::Package::Yum::YumCache.instance.installed_version("rsyslog") }
[2012-08-16 19:31:53 -0400] david415: what's a good way for a chef recipe to check if a file exists?
[2012-08-16 19:32:23 -0400] david415: i guess i don't need chef api for that... just some simple ruby...
[2012-08-16 19:32:52 -0400] matschaffer: david415: I've done `not_if { File.exists?  }` or sometimes `not_if "test -f "`
[2012-08-16 19:32:59 -0400] matschaffer: not sure which one's better
[2012-08-16 19:33:18 -0400] david415: could do if File.exist?(filename) ...
[2012-08-16 19:33:48 -0400] matschaffer: yeah, the only thing to watch out for is pre/post convergence there
[2012-08-16 19:33:57 -0400] matschaffer: like if the file gets created by some other resource in the recipe
[2012-08-16 19:34:04 -0400] matschaffer: if File.exist? might happen too early
[2012-08-16 19:42:33 -0400] erratic: http://i.imgur.com/8JGqz.gif
[2012-08-16 19:43:15 -0400] geekbri: You might want to do ::File.exists
[2012-08-16 19:43:34 -0400] matschaffer: erratic: that's awesome
[2012-08-16 19:43:46 -0400] erratic: matschaffer its trippin me out
[2012-08-16 19:44:07 -0400] matschaffer: it's funny though, I can only sometimes get the middle one moving the same as the one on the right
[2012-08-16 19:44:15 -0400] erratic: hehehehe
[2012-08-16 19:44:16 -0400] matschaffer: usually it looks like it's rotating the same as the left one for me
[2012-08-16 19:44:37 -0400] matschaffer: our eyes are stoopid
[2012-08-16 19:44:48 -0400] erratic: lol
[2012-08-16 19:45:45 -0400] matschaffer: erratic: incase you don't watch "a show" http://ashow.zefrank.com/episodes/25
[2012-08-16 19:45:53 -0400] matschaffer: fun episode
[2012-08-16 19:47:11 -0400] erratic: lol
[2012-08-16 19:48:39 -0400] erratic: I love these
[2012-08-16 19:50:01 -0400] erratic: <3
[2012-08-16 19:53:49 -0400] erratic: matschaffer http://en.wikipedia.org/wiki/Thinking,_Fast_and_Slow
[2012-08-16 19:54:14 -0400] erratic: my coworker was just telling me about it
[2012-08-16 19:54:19 -0400] erratic: and it sounds pretty awesome
[2012-08-16 19:54:35 -0400] matschaffer: sure does
[2012-08-16 19:55:21 -0400] erratic: think I'll see how much it is on amazon
[2012-08-16 19:55:47 -0400] matschaffer: $13 for the kindle edition
[2012-08-16 19:55:50 -0400] matschaffer: threw it on the wish list :)
[2012-08-16 19:55:57 -0400] erratic: yeah
[2012-08-16 19:56:01 -0400] erratic: looking at it now
[2012-08-16 20:15:24 -0400] erratic: http://en.wikipedia.org/wiki/Asus_Eee_Pad_Transformer_Prime
[2012-08-16 20:15:25 -0400] erratic: want
[2012-08-16 20:17:16 -0400] Urocyon: I think I'm being ruby ignorant here, but I'd like to get a newer version of Berkshelf installed (gems has 0.3.7)  Is there a handy way to get gem to install from github source into my rbenv?
[2012-08-16 20:17:31 -0400] Urocyon: Or is that something maybe bundler does?
[2012-08-16 20:17:37 -0400] erratic: On December 22, 2011, toy maker Hasbro filed a lawsuit against Asus for copyright infringement. Hasbro requested that Asus change the name of the Prime, claiming that the name "Transformer Prime" is using its Transformers franchise to sell tablets. Failing the name change, they are requesting that Asus not be allowed to release the Prime, and that they pay punitive damages.[12] Asus said that
[2012-08-16 20:17:37 -0400] erratic: the Prime's rollout would not be affected.[13] However, a US judge denied Hasbro's request to block sales late May 2012, citing that "the tablets actually do transform"
[2012-08-16 20:17:40 -0400] erratic: hahahahahaha
[2012-08-16 20:17:50 -0400] ivey: there are 0.4.0 pre release gems out the, but yes, you can point at a git repo in Gemfile
[2012-08-16 20:18:03 -0400] ivey: berkshelf 0.4.0 is waiting on a few things, last o checked
[2012-08-16 20:18:28 -0400] ivey: if you just want the pre release, gem install berkshelf --pre
[2012-08-16 20:24:31 -0400] Urocyon: ivey: thanks!  I was following along with http://vialstudios.com/guide-authoring-cookbooks.html, but it has you use some things that 0.3.7 doesn't have.
[2012-08-16 20:24:52 -0400] ivey: yeah he's using the 0.4.0 pre gems there probably
[2012-08-16 20:24:57 -0400] ivey: we need to get 0.4.0 out
[2012-08-16 20:33:15 -0400] david415: matschaffer: this seems to work https://github.com/scribd/percona-install/blob/master/recipes/portable_ip.rb
[2012-08-16 20:33:30 -0400] david415: had to use delayed actions...
[2012-08-16 20:35:49 -0400] ntiwari: hello
[2012-08-16 20:36:36 -0400] ntiwari: i m new to chef and had question...is this the right place to discuss  about Chef setup and stuffs related to it
[2012-08-16 20:37:17 -0400] ntiwari: should i be emailing to the developers?
[2012-08-16 20:39:15 -0400] berwin: i think this is the right place
[2012-08-16 20:39:23 -0400] ntiwari: ok...
[2012-08-16 20:40:08 -0400] ntiwari: i have windows and i want to use Chef for auto-deployment of web applications..
[2012-08-16 20:40:38 -0400] berwin: ntiwari: i have little windows experience
[2012-08-16 20:40:47 -0400] ntiwari: k
[2012-08-16 20:41:01 -0400] berwin: ntiwari: do you want your chef server to be a windows box, or just the chef clients?
[2012-08-16 20:41:32 -0400] ntiwari: actually both wud be on windows...
[2012-08-16 20:41:54 -0400] berwin: i know there is support for the client to run on windows, but i don't think there is for the server...
[2012-08-16 20:42:03 -0400] ntiwari: ok...
[2012-08-16 20:42:22 -0400] ntiwari: server anyways wud be on cloud provided by chef?
[2012-08-16 20:42:23 -0400] berwin: you could just run chef-solo though, and then you don't need a server
[2012-08-16 20:42:42 -0400] ntiwari: actually using hosted chef
[2012-08-16 20:42:44 -0400] berwin: oh true, you could do that.  i have my own chef server, so i don't use hosted chef
[2012-08-16 20:42:50 -0400] ntiwari: will that work for my case?
[2012-08-16 20:42:57 -0400] berwin: yes, that would work just fine
[2012-08-16 20:43:05 -0400] ntiwari: ok
[2012-08-16 20:43:07 -0400] ntiwari: cool
[2012-08-16 20:45:12 -0400] ntiwari: i went to the maangement console in my account and clicked on quickstart where i had 2 options : building a java web application stack or a ruby on rails stack...i tried both...java option had some issues so i tried ruby on rails...this option created an instance for me on the amazon ec2 cloud...so now i have a ruby on rails instance
[2012-08-16 20:45:53 -0400] ntiwari: Is that the right approach
[2012-08-16 20:45:53 -0400] ntiwari: ?
[2012-08-16 20:46:43 -0400] ntiwari: how does both the options differ?
[2012-08-16 20:46:44 -0400] berwin: ntiwari: are you trying to create a EC2 windows instance?
[2012-08-16 20:47:03 -0400] ntiwari: yes.
[2012-08-16 20:47:07 -0400] berwin: ahh
[2012-08-16 20:47:42 -0400] ntiwari: remember i told u i went to quick start
[2012-08-16 20:47:42 -0400] berwin: so when you say management console, do you mean the AWS management console?
[2012-08-16 20:47:46 -0400] ntiwari: no
[2012-08-16 20:47:50 -0400] ntiwari: opscode's
[2012-08-16 20:48:26 -0400] ntiwari: in quickstart of opscode they give 2 options
[2012-08-16 20:48:34 -0400] berwin: i have no experience with the opscode management console since i don't use hosted chef, so someone else is going to have to help you
[2012-08-16 20:48:57 -0400] ntiwari: https://manage.opscode.com/quick-start/new/
[2012-08-16 20:49:05 -0400] ntiwari: alrigh
[2012-08-16 20:49:27 -0400] ntiwari: but its a general question
[2012-08-16 20:50:26 -0400] ntiwari: i wonder if there is any tutorial video for chef on windows
[2012-08-16 20:50:38 -0400] ntiwari: that wud be really helpful
[2012-08-16 20:50:58 -0400] berwin: well what was the exact error?
[2012-08-16 20:51:02 -0400] ntiwari: like a demo for setting up...and how we can use each of their products
[2012-08-16 20:51:32 -0400] ntiwari: it wasnt able to install java because i guess the cookbook doesnt support it
[2012-08-16 20:51:57 -0400] ntiwari: so it couldnt create an instance which can deploy a java web application
[2012-08-16 20:52:19 -0400] ntiwari: when i say cookbook doesnt support it, i meant for windows
[2012-08-16 20:52:35 -0400] ntiwari: so thats why i switched to ruby on rails web application
[2012-08-16 20:52:36 -0400] berwin: i would suggest an ubuntu instance....that seems more supported than windows, especially if you are setting up a webserver
[2012-08-16 20:52:45 -0400] ntiwari: and it didnt complain
[2012-08-16 20:52:59 -0400] ntiwari: oh
[2012-08-16 20:53:24 -0400] ntiwari: thats not an option for me...coz the company where i work they use windows
[2012-08-16 20:53:36 -0400] ntiwari: even on servers (windows 2003/2008 R2)
[2012-08-16 20:55:06 -0400] erratic: http://www.youtube.com/watch?v=JnkAb70jisM
[2012-08-16 20:55:36 -0400] qhartman: Survey time: What's your opinion on doing "aptitude dist-upgrade" (or equivalent) during a chef-client run? The opinions around here are pretty sharply split between it being a good idea and bad.
[2012-08-16 21:00:38 -0400] berwin: should be fine to do that
[2012-08-16 21:01:59 -0400] qhartman: I agree. The two schools of thought seem to be "Sure, it's always good to be running the latest packages, so it's good" and "That could break something unexpectedly and isn't idempotent, so it's bad, and should be handled outside chef."
[2012-08-16 21:02:29 -0400] qhartman: Just trying to get a feel for if there is any kind of consensus around it.
[2012-08-16 21:02:32 -0400] berwin: well, we use redhat for most of our stuff, and we have a daily cron script that runs yum -y update
[2012-08-16 21:02:52 -0400] qhartman: Doesn't that just update the package cache though, not install new stuff?
[2012-08-16 21:02:57 -0400] berwin: the problem with ubuntu is that sometimes when you are upgrading packages you get prompted for config changes
[2012-08-16 21:03:07 -0400] berwin: no, it installs new stuff
[2012-08-16 21:03:18 -0400] berwin: it's equivalent to apt-get dist-upgrade
[2012-08-16 21:03:20 -0400] qhartman: Does It? I thought that was "yum -y upgrade"
[2012-08-16 21:04:01 -0400] berwin: the man page says this: upgrade: Is the same as the update command with the --obsoletes flag set. See update for more details.
[2012-08-16 21:04:15 -0400] qhartman: ah, I was thinking of "makecache"
[2012-08-16 21:04:31 -0400] berwin: haha
[2012-08-16 21:04:50 -0400] berwin: guess it's whatever you are used to :-/
[2012-08-16 21:05:27 -0400] berwin: i just hate it when i'm upgrading ubuntu packages and i get prompted in order to ask me if i want the new config file or the old one
[2012-08-16 21:05:37 -0400] qhartman: Yeah, it seems like sooooo many things are just harder and/or fragile on RPM-based stuff.
[2012-08-16 21:05:40 -0400] berwin: makes doing automated upgrades really difficult
[2012-08-16 21:05:53 -0400] qhartman: that can be overridden IIRC
[2012-08-16 21:06:37 -0400] berwin: IIRC?
[2012-08-16 21:06:45 -0400] qhartman: if I remember correctly
[2012-08-16 21:06:51 -0400] berwin: lol, ok
[2012-08-16 21:06:57 -0400] berwin: i think you are correct
[2012-08-16 21:07:49 -0400] qhartman: I think -y on aptitude will skip those
[2012-08-16 21:07:57 -0400] qhartman: not sure about apt-get, I never use it
[2012-08-16 21:08:09 -0400] berwin: hmm, i always use apt-get
[2012-08-16 21:08:13 -0400] berwin: what's the difference?
[2012-08-16 21:08:37 -0400] qhartman: they are both front-ends to dpkg, but aptitude's dependency resolution seems to be smarter most of the time
[2012-08-16 21:08:56 -0400] qhartman: I've used it since I started using debian-likes and I've never had upgrade problems
[2012-08-16 21:08:57 -0400] berwin: so they are two separate systems?  not related at all?
[2012-08-16 21:09:05 -0400] matschaffer: david415: from looking at this I wonder why not skip the exists check and have the execute subscribe to the cookbook_file resource
[2012-08-16 21:09:12 -0400] matschaffer: maybe someone said that already though )
[2012-08-16 21:09:13 -0400] matschaffer: :)
[2012-08-16 21:09:14 -0400] qhartman: but I know several people who use apt-get and have
[2012-08-16 21:09:31 -0400] qhartman: mostly superstition I'm sure, but it's what I'm used to. It can also do searching, so you don';t have to remember to use apt-cache
[2012-08-16 21:09:36 -0400] matschaffer: oh, maybe I'm misinterpreting though
[2012-08-16 21:10:01 -0400] qhartman: berwin, they are related in that they use the same repos and on-disk info, but they are different internally
[2012-08-16 21:10:08 -0400] Babar: berwin: as he said, they're both frontend to dpkg. The only thing apt-get and aptitude do is conflict resolution / dependency checking (mostly)
[2012-08-16 21:10:12 -0400] qhartman: one could think of aptitude as a "super" apt-get
[2012-08-16 21:10:25 -0400] berwin: ok, cool
[2012-08-16 21:10:26 -0400] qhartman: but that's a matter of opinion
[2012-08-16 21:10:48 -0400] Babar: I don't like aptitude's interface, therefore I never use it :) Only when apt-get has issues with something, and in all my cases, aptitude was never that much smarter.
[2012-08-16 21:10:51 -0400] qhartman: also, if you run it w/o arguments you get a menu-driven front-end that some people like, though I've always found it klunky
[2012-08-16 21:11:06 -0400] Babar: (but ok, most of the cases were because I screwed up in the first place, or I had some hardware issues)
[2012-08-16 21:11:18 -0400] Babar: qhartman: tried dselect? :)
[2012-08-16 21:11:24 -0400] qhartman: Babar, hah
[2012-08-16 21:13:01 -0400] qhartman: but aptitude is to apt-get what yum is to up2date (roughly)
[2012-08-16 21:13:28 -0400] qhartman: (except that neither of the apt's are trying to polish a turd the way the others are.... )
[2012-08-16 21:14:53 -0400] erratic: polishing turds is funny
[2012-08-16 21:15:25 -0400] berwin: one of the main reasons we don't use ubuntu is because the automated installation is more difficult.  with redhat we use kickstart installs
[2012-08-16 21:15:41 -0400] berwin: not impossible, but we've had more issues with it
[2012-08-16 21:15:57 -0400] erratic: with debootstrap?
[2012-08-16 21:15:59 -0400] erratic: really
[2012-08-16 21:16:11 -0400] erratic: debootstrap has like never failed me...
[2012-08-16 21:16:48 -0400] berwin: i don't think deboostrap works for network installs
[2012-08-16 21:17:06 -0400] Babar: what?
[2012-08-16 21:17:14 -0400] erratic: debootstrap lenny ./lenny-chroot http://ftp.us.debian.org/debian
[2012-08-16 21:17:34 -0400] qhartman: I've had good luck with debootsrap as well
[2012-08-16 21:17:44 -0400] berwin: PXE based installs
[2012-08-16 21:17:50 -0400] qhartman: Every time I touch something that uses RPMs though I end wanting to flip tables.
[2012-08-16 21:18:24 -0400] erratic: http://www.howtoforge.com/pxe_booting_debian
[2012-08-16 21:18:32 -0400] erratic: qhartman I hate rpm so much
[2012-08-16 21:18:40 -0400] qhartman: yes
[2012-08-16 21:18:42 -0400] erratic: theres a reason I quit using redhat after redhat 6
[2012-08-16 21:18:58 -0400] qhartman: My last RH was 7.2 (or 7.3), it's been awhile)
[2012-08-16 21:19:20 -0400] erratic: looking back on 6 is infuriating
[2012-08-16 21:19:26 -0400] erratic: my computer got owned so many times
[2012-08-16 21:19:35 -0400] qhartman: sadly we have to support Centos at work, and it's a constant source of pain for us
[2012-08-16 21:19:39 -0400] qhartman: heh
[2012-08-16 21:20:02 -0400] Babar: net installs you have FAI, or if you want to do it manually, just tune the response file
[2012-08-16 21:20:16 -0400] qhartman: Yeah, I remember I had a 6.x box get hit with some worm that caused me a bunch of grief... Called Melinda maybe? Can't remember for sure....
[2012-08-16 21:20:29 -0400] berwin: well, i guess we haven't put as much effort into it as with redhat
[2012-08-16 21:20:30 -0400] erratic: qhartman sendmail
[2012-08-16 21:20:44 -0400] qhartman: erratic, ah yes
[2012-08-16 21:20:53 -0400] jtimberman: http://lists.opscode.com/sympa/arc/chef/2012-08/msg00206.html
[2012-08-16 21:21:14 -0400] jtimberman: If you use the mysql, postgresql and/or database cookbooks.
[2012-08-16 21:21:16 -0400] jtimberman: read that
[2012-08-16 21:21:17 -0400] reset: jtimberman: http://tickets.opscode.com/browse/COOK-1561 - we need to lock to mysql >= 1.3.0 on the database cookbook
[2012-08-16 21:21:32 -0400] reset: https://github.com/opscode-cookbooks/database/pull/9
[2012-08-16 21:21:34 -0400] jtimberman: reset: indeed!
[2012-08-16 21:22:14 -0400] Babar: berwin: generating a response file is very easy. And that's what you have to use with chef when you want to automate things which requires debconf interaction
[2012-08-16 21:23:11 -0400] berwin: you basically run through the install one time in order to generate the response file, is that how it works?
[2012-08-16 21:23:27 -0400] qhartman: jtimberman, nice, thanks for the pointer
[2012-08-16 21:26:30 -0400] reset: jtimberman: thanks for picking that up so quickly
[2012-08-16 21:26:43 -0400] terbeaux: hello! i am a new contributor and i would like to provide a more descriptive error message for a specific stacktrace: http://tickets.opscode.com/browse/CHEF-3357
[2012-08-16 21:27:19 -0400] terbeaux: can someone give me a high level overview of how i could add an error inspector or how to proceed?
[2012-08-16 21:28:01 -0400] jtimberman: reset: done
[2012-08-16 21:28:08 -0400] reset: thanks dude
[2012-08-16 21:28:09 -0400] jtimberman: reset: pinned postgresql 1.0.0 too
[2012-08-16 21:28:13 -0400] jtimberman: no, thank you! :D
[2012-08-16 21:28:17 -0400] jtimberman: You're welcome.
[2012-08-16 21:28:45 -0400] reset: everyone at Riot was very happy today about the speed that this was handled with
[2012-08-16 21:28:50 -0400] reset: they say thank you
[2012-08-16 21:28:54 -0400] jtimberman: Cool :)
[2012-08-16 21:29:18 -0400] mattray: reset: thanks!
[2012-08-16 21:29:47 -0400] reset: jtimberman: do you think it would be possible to release a new version of tomcat to the community site? I added the users recipe and it's a requirement for a guide that I'm working on for authoring a cookbook
[2012-08-16 21:30:00 -0400] erratic: http://stackoverflow.com/questions/3884715/what-alternatives-to-irb-are-there
[2012-08-16 21:30:04 -0400] erratic: that is immensely useful
[2012-08-16 21:30:13 -0400] reset: internal testers of the e-guide keep getting tripped up because they need to use a git source with Berkshelf to get the cookbook instead of just from the community site
[2012-08-16 21:35:56 -0400] miah: alternatives to irb? just use pry.
[2012-08-16 21:36:14 -0400] erratic: I just want colorization and tab completion
[2012-08-16 21:36:21 -0400] miah: pry has that
[2012-08-16 21:36:30 -0400] erratic: cool thanks
[2012-08-16 21:38:08 -0400] erratic: haha cute logo
[2012-08-16 21:39:54 -0400] cloudpokerdb: afternoon all
[2012-08-16 21:46:11 -0400] jtimberman: reset: v0.11.0 for tomcat released :)
[2012-08-16 21:48:25 -0400] reset: nice
[2012-08-16 21:48:26 -0400] reset: thanks man!
[2012-08-16 21:48:45 -0400] jtimberman: <3
[2012-08-16 21:58:03 -0400] cloudpokerdb: which .pem files do i copy in /etc/chef on the server to my workstation
[2012-08-16 21:58:12 -0400] cloudpokerdb: i dont have a USERNAME.pem
[2012-08-16 21:58:20 -0400] cloudpokerdb: is it client.pem and validation.pem?
[2012-08-16 21:58:44 -0400] erratic: whats a good ssl provider to go with..
[2012-08-16 21:58:53 -0400] erratic: besides verisign
[2012-08-16 21:59:00 -0400] erratic: who is not good because they're insanely expensive
[2012-08-16 21:59:01 -0400] erratic: lol
[2012-08-16 21:59:19 -0400] erratic: whatever its all a pyramid scheme
[2012-08-16 21:59:54 -0400] cloudpokerdb: wat?
[2012-08-16 22:00:25 -0400] erratic: and I dont want to go with startssl
[2012-08-16 22:01:01 -0400] dhawth: is there a chef mailing list
[2012-08-16 22:01:11 -0400] ashb: mailing list?
[2012-08-16 22:01:17 -0400] erratic: https://blog.startcom.org/?page_id=2
[2012-08-16 22:01:23 -0400] ashb: enobawt
[2012-08-16 22:01:25 -0400] ashb: yes there is
[2012-08-16 22:01:27 -0400] dhawth: nevermind, found it
[2012-08-16 22:01:44 -0400] ashb: good I wont have to give you a lmgtfy link then
[2012-08-16 22:01:44 -0400] dhawth: I clicked on the wrong thing on the lists.opscode.com page and it told me there were no lists
[2012-08-16 22:01:45 -0400] dhawth: it lied
[2012-08-16 22:01:48 -0400] ashb: ah
[2012-08-16 22:01:51 -0400] erratic: actually this is the right link
[2012-08-16 22:01:51 -0400] erratic: https://blog.startcom.org/
[2012-08-16 22:01:56 -0400] dhawth: y'all should fix that
[2012-08-16 22:01:57 -0400] dhawth: it shouldn't lie
[2012-08-16 22:02:02 -0400] dhawth: lying is bad
[2012-08-16 22:02:14 -0400] ashb: what did you click on? where?
[2012-08-16 22:02:48 -0400] dhawth: on lists.opscode.com click on "chef" under "Open Source"
[2012-08-16 22:03:29 -0400] ashb: dhawth: ah yeah. send an email to the list about it (I don't work at opscode so can do nothing more than you can)
[2012-08-16 22:05:18 -0400] jtimberman: dhawth: http://lists.opscode.com/sympa/lists
[2012-08-16 22:05:28 -0400] dhawth: yeah, found that
[2012-08-16 22:06:37 -0400] dhawth: jtimberman: I sent you mail yesterday or the day before
[2012-08-16 22:07:16 -0400] dhawth: was going to poke you today to find out if I should have sent it somewhere else
[2012-08-16 22:08:12 -0400] jassinpainAgain: anyone able to point me in the right direction on this templete https://gist.github.com/3373998
[2012-08-16 22:08:21 -0400] jassinpainAgain: is just walking the list of all nodes
[2012-08-16 22:09:02 -0400] jassinpainAgain: running 0.10.8
[2012-08-16 22:13:57 -0400] dhawth: just out of curiosity, who should I talk to about some chef development contract work
[2012-08-16 22:14:26 -0400] chip-: Hiring some or getting hired for some?
[2012-08-16 22:14:31 -0400] dhawth: hiring some
[2012-08-16 22:14:37 -0400] erratic: heh
[2012-08-16 22:14:46 -0400] erratic: probably hoover_damm
[2012-08-16 22:14:55 -0400] erratic: I think he does stuff like that Im not sure tho
[2012-08-16 22:15:08 -0400] erratic: I dont have time anymore
[2012-08-16 22:15:10 -0400] josephholsten: dhawth: I know there's a bunch of independent contractors I could point you to, unless you're wanting someone from opscode
[2012-08-16 22:15:39 -0400] dhawth: someone from opscode would be ideal, or at the least I'd like to run our ideas by them for inclusion in chef proper
[2012-08-16 22:16:11 -0400] josephholsten: oh, are we talking cookbook dev, or changes to the client/server?
[2012-08-16 22:16:22 -0400] chip-: or plugin dev, or
[2012-08-16 22:16:24 -0400] dhawth: changes to knife specifically
[2012-08-16 22:17:05 -0400] josephholsten: ok, good
[2012-08-16 22:17:54 -0400] erratic: http://www.whichssl.com/
[2012-08-16 22:19:23 -0400] jassinpainAgain: http://www.opscode.com/services/
[2012-08-16 22:21:35 -0400] jassinpainAgain: nobody has any comments on my gist?
[2012-08-16 22:21:42 -0400] jassinpainAgain: https://gist.github.com/3373998
[2012-08-16 22:22:57 -0400] FU-JoBu: Hi all
[2012-08-16 22:25:35 -0400] scalp42: hi all
[2012-08-16 22:26:25 -0400] FU-JoBu: I've got a question regarding the use of default_attributes and how to override them
[2012-08-16 22:26:55 -0400] scalp42: Does anyone have an idea on how to "lock" a node from running recipes ? I remember seeing a knife plugin last year which I guess was sort of checking the node to only run once.
[2012-08-16 22:26:56 -0400] FU-JoBu: I would like to create a variable called 'nr_install_key' which will have a boolean attribute set
[2012-08-16 22:27:19 -0400] FU-JoBu: to false
[2012-08-16 22:27:37 -0400] scalp42: node.run_list.remove("recipe[blabla]") inside the recipe would do the trick but its hackish
[2012-08-16 22:28:22 -0400] FU-JoBu: then in the recipe, I check if the node has the default_attribute set to true or false, set the variable based on that, and then execute a command with that variable
[2012-08-16 22:31:45 -0400] det: when i start chef-server again it keeps saying this:  Failed to kill PID 22135 with INT: Process is deceased or zombi
[2012-08-16 22:32:01 -0400] det: but the process i dont see . i cant find that zombie process evne if it exists
[2012-08-16 22:38:57 -0400] erratic: dude its so hot outside
[2012-08-16 22:39:00 -0400] erratic: Im not going home
[2012-08-16 22:39:16 -0400] erratic: I could go home and sit in my room for like 5 minutes and be drenched in sweat
[2012-08-16 22:39:21 -0400] erratic: Im good
[2012-08-16 22:39:55 -0400] erratic: my screen is missing off my window too
[2012-08-16 22:40:03 -0400] erratic: so when I sleep the mosquitos come in and bite me
[2012-08-16 22:40:15 -0400] erratic: and I'm not having that
[2012-08-16 22:40:23 -0400] erratic: I may go stay at a hotel or something
[2012-08-16 22:40:24 -0400] scalp42: @det can you check /var/lock
[2012-08-16 22:40:28 -0400] erratic: lol
[2012-08-16 22:40:37 -0400] scalp42: do you see anything related to chef in there?
[2012-08-16 22:41:42 -0400] det: scalp42: i will in a minute
[2012-08-16 22:41:46 -0400] det: scalp42: thanks
[2012-08-16 22:41:51 -0400] berwin: erratic: where do you live?
[2012-08-16 22:42:06 -0400] det: scalp42: no only apache2 lvm whoopise
[2012-08-16 22:42:12 -0400] det: scalp42: i dont see chef
[2012-08-16 22:42:41 -0400] FU-JoBu: Does this look correct:
[2012-08-16 22:42:52 -0400] FU-JoBu: if not node['tvplus-webconfig']['nr_commercial_key']
[2012-08-16 22:42:56 -0400] FU-JoBu: nr_install_key =  "free_key";
[2012-08-16 22:42:59 -0400] FU-JoBu: else
[2012-08-16 22:43:02 -0400] FU-JoBu: nr_install_key = "paid_key";
[2012-08-16 22:43:05 -0400] FU-JoBu: end
[2012-08-16 22:43:16 -0400] scalp42: det:  I remember something about /var/lock/subsys or something, which stops from restarting the process
[2012-08-16 22:43:33 -0400] FU-JoBu: i would define 'nr_commercial_key' in the attributes file for the recipe
[2012-08-16 22:43:40 -0400] miah: if you
[2012-08-16 22:43:41 -0400] FU-JoBu: to false
[2012-08-16 22:43:58 -0400] FU-JoBu: and set the default_attribute for the few nodes I want to use the paid_key as 'true'
[2012-08-16 22:44:00 -0400] miah: if you're using /etc/init.d/chef-server to restart chef, you could always look at how that script is working and what its doing to determine the current 'pid'
[2012-08-16 22:44:22 -0400] miah: likely, /var/run/chef-server.pid, but i don't recall
[2012-08-16 22:44:27 -0400] gregburek: o:q
[2012-08-16 22:44:43 -0400] miah: sup gregburek
[2012-08-16 22:44:45 -0400] gregburek: sorry, window problems
[2012-08-16 22:44:49 -0400] miah: SURE
[2012-08-16 22:44:49 -0400] det: scalp42: should the pid files be gone after i stopped them?
[2012-08-16 22:44:53 -0400] gregburek: I lurk lurk lurk
[2012-08-16 22:45:00 -0400] miah: it depends on what created the pid file
[2012-08-16 22:45:08 -0400] miah: and if the process exited cleanly
[2012-08-16 22:45:10 -0400] scalp42: det:  yeah when you stop the service, shit should get removed, with just the pid in there that was used
[2012-08-16 22:45:19 -0400] det: scalp42: run/chef/ i see expander.pid server-webui-main.pid and server-main.pid
[2012-08-16 22:45:27 -0400] miah: there you go, server-main.pid
[2012-08-16 22:45:28 -0400] det: scalp42: all right let me abck them up and remove them
[2012-08-16 22:45:31 -0400] miah: i bet that has '22135' in it
[2012-08-16 22:45:44 -0400] scalp42: det:  miah is better than me :p
[2012-08-16 22:46:01 -0400] miah: not just better, superior in every way.
[2012-08-16 22:46:05 -0400] miah: :P
[2012-08-16 22:46:06 -0400] scalp42: yep
[2012-08-16 22:46:10 -0400] det: miah: ahhhh ahhahaha  well we w=ill wait and see!
[2012-08-16 22:46:19 -0400] scalp42:  /bow
[2012-08-16 22:46:22 -0400] miah: cat /var/run/chef/server-main.pid
[2012-08-16 22:47:19 -0400] miah: i think i've fixed the majority of my stupid bugs in nagios cookbook. but now i feel like i need to make chef-ark idempotent
[2012-08-16 22:50:23 -0400] det: miah: it keeps failing. the server.main.pid is always there just fails all the time
[2012-08-16 22:51:07 -0400] miah: make sure the server is stopped
[2012-08-16 22:51:14 -0400] miah: rm /var/run/chef/server-main.pid
[2012-08-16 22:51:18 -0400] miah: then start it
[2012-08-16 22:51:51 -0400] det: miah: no luck :/
[2012-08-16 22:52:03 -0400] det: miah: still say "fail" in a big fat red font!
[2012-08-16 22:52:30 -0400] miah: check that /var/run/chef and /var/log/chef are owned by chef with group chef
[2012-08-16 22:53:32 -0400] det: miah: are we supposed to have the user chef after installing chef-server?
[2012-08-16 22:53:49 -0400] miah: possibly. depends on how you installed it.
[2012-08-16 22:54:01 -0400] scalp42: im seeing : chef:x:110:117:Chef Daemon,,,:/var/lib/chef:/bin/false
[2012-08-16 22:54:04 -0400] det: miah: through source ubuntu
[2012-08-16 22:54:24 -0400] scalp42: but its for solr
[2012-08-16 22:54:29 -0400] det: scalp42: ah yeah at some point when i looked at htop i see chef too
[2012-08-16 22:56:22 -0400] miah: solr and chef server both run as user chef iirc
[2012-08-16 22:58:12 -0400] det: miah: sadly none of the option works out
[2012-08-16 22:58:23 -0400] det: miah: whether its the acc i normally use or chef:chef
[2012-08-16 22:58:51 -0400] miah: what do the logs say?
[2012-08-16 22:58:57 -0400] miah: anything in /var/log/chef?
[2012-08-16 22:59:19 -0400] det: i changed knife.rb from http://localhost:4000 to http://<domain>:4000 and so i wanna restart. hold on a minute yes there are still in the log dirc. let me look
[2012-08-16 23:00:20 -0400] det: miah: the records are old. they are like an hour ago
[2012-08-16 23:00:50 -0400] cloudpokerdb: natgeo just had a bad ass show on all the mars rovers
[2012-08-16 23:04:16 -0400] miah: what user is chef trying to run as?
[2012-08-16 23:05:29 -0400] det: miah: i always use sudo because it will complain permission denied.
[2012-08-16 23:05:39 -0400] det: miah:   4 drwxr-xr-x 4 chef    chef     4096 Aug 16 18:03 chef   from /etc/
[2012-08-16 23:06:38 -0400] miah: hrm?
[2012-08-16 23:06:50 -0400] miah: what is your normal startup procedure?
[2012-08-16 23:18:07 -0400] jhowarth: I'm trying to bootstrap a box that uses a cookbook that has a lot of depending cookbooks.  The json with information about all of the cookbooks that is returned by the chef server is coming back truncated, and so chef-client fails on a json parse error.  It is not coming back truncated when I use smaller cookbooks.  Is this a known problem?
[2012-08-16 23:18:35 -0400] det: miah: startup procedure? init is that what u are asking?
[2012-08-16 23:23:17 -0400] sascha_d: so I'm trying to run shef on windows, but run_chef gives me => true instead of actually doing anything useful. Windows bug or sascha bug?
[2012-08-16 23:28:57 -0400] anthroprose: I have the following values set in my client.rb config file... log_level :debug --  log_location "/var/log/chef-client.log" -- verbose_logging true ... but when I run a bootstrap on something with -VV, I only get the 'verbose' logging into the file "DEBUG: read 116 bytes", all the actual info only goes to STOUT.. ??
[2012-08-16 23:29:35 -0400] anthroprose: i.e. there is much more info in STDOUT than there is in the file.... which is where I wanted it all to go anyways
[2012-08-16 23:37:22 -0400] sascha_d: It was a sascha bug. jonlives is my new hero for the best shef blog ever.
[2012-08-16 23:47:04 -0400] crftr: Q: I created an FPM for ruby1.9.3, but now I need to figure out a way to fetch it from S3 and install it with dpkg.  Any suggestions?
[2012-08-16 23:48:32 -0400] crftr: (it's actually just a .deb knowing it was created through FPM doesn't matter)
[2012-08-16 23:48:50 -0400] chip-: crftr: use a ppa instead?
[2012-08-16 23:51:02 -0400] crftr: chip-: that could be cool fpm was just so easy.  But unfortunately fpm doesn't have ppa as an output
[2012-08-16 23:51:14 -0400] ampledata: oh man that would be great
[2012-08-16 23:51:40 -0400] crftr: how difficult is it to create a ppa?
[2012-08-16 23:52:10 -0400] ampledata: watch where you point that thing
[2012-08-16 23:52:21 -0400] chip-: You have to make a source package, and then upload that to launchpad to make a ppa
[2012-08-16 23:52:44 -0400] ampledata: so it'd just be an action after creating a deb
[2012-08-16 23:53:11 -0400] crftr: ah.  thanks.  I'll investigate further
[2012-08-16 23:57:36 -0400] miah: you can use fpm to generate your source package
