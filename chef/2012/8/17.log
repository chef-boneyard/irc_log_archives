[2012-08-17 00:18:05 -0400] crftr: chip-, ampledata: I think I may just do the remote_file + dpkg_package dance as seen at http://stackoverflow.com/a/9898849/18213
[2012-08-17 00:18:19 -0400] chip-: crftr: at least use the ark cookbook.
[2012-08-17 00:18:48 -0400] crftr: what will that provide?
[2012-08-17 00:19:29 -0400] crftr: (looking at the community page now I gotcha)
[2012-08-17 00:19:33 -0400] crftr: slick
[2012-08-17 00:24:10 -0400] miah: hrm. i think i have found some more issues in the php book
[2012-08-17 00:33:10 -0400] hoover_damm: miah, that should tell you something about php no?
[2012-08-17 00:46:56 -0400] d2kagw: Hi all. Does anyone have a work around or proposed fix for this known bug that stops the PG gem from being installed on Ubuntu 12.04? http://tickets.opscode.com/browse/COOK-1406
[2012-08-17 01:00:03 -0400] gmcinnes: Stupid question. When are role attributes saved to a node?
[2012-08-17 01:03:51 -0400] hoover_damm: d2kagw, the pg gem works in 12.04
[2012-08-17 01:03:57 -0400] hoover_damm: d2kagw, there is an issue if you use omnibus
[2012-08-17 01:04:15 -0400] hoover_damm: the work around is to not use omnibus
[2012-08-17 01:05:46 -0400] d2kagw: hoover_damm: yah, bootstrapping using the 12.04 gem method.
[2012-08-17 01:05:59 -0400] hoover_damm: d2kagw, should work using regular system ruby and rubygems
[2012-08-17 01:06:00 -0400] yfeldblum: gmcinnes, at the end of the next successful chef-client run
[2012-08-17 01:06:17 -0400] gmcinnes: yeah. that's what I thought.
[2012-08-17 01:06:37 -0400] d2kagw: hoover_damm: yeah, I noticed that if I ran the gem install pg command manually it worked fine.
[2012-08-17 01:06:48 -0400] hoover_damm: d2kagw, weird
[2012-08-17 01:06:58 -0400] gmcinnes: but they are *available* to the node in the meantime, right?  ie. If I'm building a new node on a first time chef run, if there are attributes set in a role it has, it should be able to access them?
[2012-08-17 01:08:02 -0400] hoover_damm: gmcinnes, are you overriding or setting?
[2012-08-17 01:08:15 -0400] hoover_damm: gmcinnes, if you set the first run should apply them as is and access them immediately
[2012-08-17 01:08:20 -0400] pedahzur_: Anyone know of a good cookbook for NIS?
[2012-08-17 01:08:24 -0400] hoover_damm: and if you override they should work out of the box
[2012-08-17 01:10:20 -0400] gmcinnes: hoover_damm: set, I'd say.  They're just set as default_attributes() in the role.rb And then that node is a member of the role
[2012-08-17 01:10:24 -0400] pedahzur_: hoover_damm: I take it that's a no? :)
[2012-08-17 01:10:41 -0400] hoover_damm: pedahzur_, no idea... haven't looked... it's just that's fun to do
[2012-08-17 01:11:03 -0400] hoover_damm: gmcinnes, right so ohai should run, then it loads the roles, sets them
[2012-08-17 01:13:36 -0400] pedahzur_: hoover_damm: 584 cookbooks, and not 1 for NIS. :)
[2012-08-17 01:13:57 -0400] gmcinnes: yeah. ok. so this is definitely vagrant fail.  Vagrant pulls the correct role, in the dna.json file it sets up for chef_server provisioning, but that dna.json file doesn't seem to have any mention of attributes
[2012-08-17 01:14:37 -0400] gmcinnes: I'm really confused by why it even seems to set up a dna.json file when it claims to be doing chef_server provisioning.
[2012-08-17 01:15:18 -0400] hoover_damm: pedahzur_, nice is a little more complicated then a simple chef cookbook normally
[2012-08-17 01:15:22 -0400] hoover_damm: pedahzur_, nis*
[2012-08-17 01:15:34 -0400] hoover_damm: pedahzur_, and at the same time, it's very easy to setup
[2012-08-17 01:15:54 -0400] pedahzur_: hoover_damm: Right, realy easy to set up, at least on the client side.  The client side is all I need for now.
[2012-08-17 01:16:14 -0400] hoover_damm: oh that should be a pretty simple cookbook to write then :)
[2012-08-17 01:16:20 -0400] hoover_damm: fortunately
[2012-08-17 01:16:22 -0400] pedahzur_: hoover_damm: Yeah.
[2012-08-17 01:30:48 -0400] ntiwari: hi...have a question whether Chef supports auto-deployment for windows or not
[2012-08-17 02:59:08 -0400] erratic: so we jigglin errrrrr
[2012-08-17 03:17:12 -0400] jtimberman: d2kagw: the only workaround i have from a bit of testing is to build and install postgresql under the omnibus installation itself.
[2012-08-17 03:17:18 -0400] jtimberman: vs installing the client packages.
[2012-08-17 03:18:15 -0400] d2kagw: jtimberman: I was able to get it working through the gem bootstrap, so crisis averted for now :P
[2012-08-17 03:18:29 -0400] jtimberman: d2kagw: k, sorry we don't have a better solution right now, its really annoying.
[2012-08-17 03:18:52 -0400] jtimberman: but i thought it best to ship what we had (re: the updates earlier today) because it is at least better than not working at all (which was the problem before)
[2012-08-17 03:19:27 -0400] d2kagw: jtimberman: yeah - this is my first week playing with Chef and the learning curve has been massssiiiive - especially since nearly every cookbook i've used has had some issue that's required further research or tinkering.
[2012-08-17 03:20:06 -0400] d2kagw: not that we're past that stuff it's **smooth sailing**, but getting started has taken a lot more effort than we would have hoped
[2012-08-17 03:20:51 -0400] jtimberman: d2kagw: i'm sorry about that, are there particular other cookbooks that you had trouble with thaty ou recall? did you find workarounds, or opened tickets?
[2012-08-17 03:22:19 -0400] d2kagw: I was chatting with Matt Ray earlier in the week who helped squish a bug that was stopping apt-get update from running. Which in turn caused a lot of headaches.
[2012-08-17 03:22:43 -0400] d2kagw: we submitted a few bugs - almost all have been looked at by one of you folks at Opscode.
[2012-08-17 03:23:04 -0400] d2kagw: have to say though - the community has been super helpful
[2012-08-17 03:25:10 -0400] bemu: d2kagw: Keep in mind that it sounds like a lot of the issues you're encountering are related to the software you're using and/or community cookbooks, rather than Chef itself. While Chef definitely has a learning curve, it gets much easier (and quickly), as you get an idea as to how things work. The software/cookbook issues only get easier as you get more familiar with the software you're managing, and the cookbooks you're using.
[2012-08-17 03:25:33 -0400] jtimberman: bemu: Yeah
[2012-08-17 03:25:34 -0400] jtimberman: that.
[2012-08-17 03:25:45 -0400] bemu: I would just urge you to lower your expectations for the cookbooks -- plan to review and edit every cookbook you use, and you'll be much more satisfied. Still a lot easier than writing all your own.
[2012-08-17 03:25:47 -0400] jtimberman: Also, I hate that everything is "slightly different" between various distributions.
[2012-08-17 03:26:08 -0400] bemu: jtimberman: We need to get a new mongodb cookbook up on the community site.
[2012-08-17 03:26:27 -0400] bemu: It's a travesty to have the edelight one the only mongodb cookbook available there.
[2012-08-17 03:26:29 -0400] jtimberman: bemu: I don't maintain that though.
[2012-08-17 03:26:40 -0400] d2kagw: bemu: true - but the cookbooks are part of Chef wether we like it or not. All told, i'm really happy with where we're at - but the cookbooks (not chef) are letting the product down
[2012-08-17 03:26:42 -0400] bemu: yah, impetus on me/us :)
[2012-08-17 03:27:00 -0400] bemu: We just wrote a fresh one recently, but it needs some love before being releasable.
[2012-08-17 03:27:02 -0400] jtimberman: I'm definitely willing to hear ideas about how that should be accomplished though, as it is clearly of interest, despite that I/we (Opscode) don't use MongoDB.
[2012-08-17 03:27:23 -0400] bemu: We have a lottt we want to contribute back -- just need to get over these migrations (away from IaaS's)
[2012-08-17 03:27:29 -0400] jtimberman: This seems a similar scenario as to the Redis cookbook discussion a few months ago
[2012-08-17 03:28:06 -0400] bemu: jtimberman: yah, don't get me wrong, the edelight cookbook does work with bug fixes. It's just way, way too bulky for most people's uses, and consequently far too complicated.
[2012-08-17 03:28:12 -0400] bemu: It's also super brittle.
[2012-08-17 03:28:49 -0400] bemu: I would encourage keeping the edelight one up, but also having a much more simple version, akin to what we're using.
[2012-08-17 03:29:13 -0400] miah: sup
[2012-08-17 03:29:17 -0400] jtimberman: miah: ohai!
[2012-08-17 03:29:20 -0400] bemu: Hey!
[2012-08-17 03:29:20 -0400] miah: hihi
[2012-08-17 03:29:23 -0400] jtimberman: miah: how's the nagios cookbook going?
[2012-08-17 03:29:24 -0400] miah: how goes ?
[2012-08-17 03:29:31 -0400] miah: jtimberman: its going =)
[2012-08-17 03:29:33 -0400] jtimberman: hehehe
[2012-08-17 03:29:40 -0400] jtimberman: new database-related cookbooks today!
[2012-08-17 03:29:41 -0400] bemu: Our nagios cookbook is horrendous :(
[2012-08-17 03:29:46 -0400] miah: i need to fix a few minor solo related issues
[2012-08-17 03:29:50 -0400] jtimberman: solo?
[2012-08-17 03:29:58 -0400] jtimberman: ;)
[2012-08-17 03:29:59 -0400] bemu: We took an old community one and added NRPE proxy support >:(
[2012-08-17 03:30:04 -0400] miah: https://github.com/miah/nagios/tree/refactor
[2012-08-17 03:30:11 -0400] bemu: so bad.
[2012-08-17 03:30:12 -0400] miah: jtimberman: testing with solo
[2012-08-17 03:30:27 -0400] miah: i need to mock out a databag for testing
[2012-08-17 03:30:28 -0400] miah: thats all
[2012-08-17 03:30:31 -0400] bemu: miah: We might be interested in testing the new one!
[2012-08-17 03:30:37 -0400] miah: then i can get back to hacking on the lwrp
[2012-08-17 03:30:45 -0400] bemu: (when you feel reasonably complete)
[2012-08-17 03:30:47 -0400] miah: i found a issue in the php cookbook as well
[2012-08-17 03:31:13 -0400] jtimberman: bemu: I wonder if 10gen has one they want to share :)
[2012-08-17 03:31:19 -0400] jtimberman: mongodb cookbook
[2012-08-17 03:31:23 -0400] bemu: I'm pretty sure they don't.
[2012-08-17 03:31:28 -0400] bemu: But I can ask.
[2012-08-17 03:31:29 -0400] jtimberman: bummer
[2012-08-17 03:31:31 -0400] jtimberman: :D
[2012-08-17 03:31:46 -0400] jtimberman: miah: the one where the pear thing doesn't catch the right exception
[2012-08-17 03:32:07 -0400] miah: jtimberman: nah, package.rb wasn't working right on centos 6
[2012-08-17 03:32:15 -0400] miah: it kept trying to install php53 packages regardless
[2012-08-17 03:32:33 -0400] jtimberman: gaw
[2012-08-17 03:32:38 -0400] jtimberman: i hate that crap so much
[2012-08-17 03:32:44 -0400] miah: ya
[2012-08-17 03:33:07 -0400] jtimberman: lets version the supplemental repo's packages, but not the mainline ones!
[2012-08-17 03:33:09 -0400] miah: https://github.com/miah/php/commit/73c8191166eee5b85e41468a934672236acae5f5
[2012-08-17 03:33:11 -0400] miah: this works
[2012-08-17 03:33:24 -0400] jtimberman: miah: I see a lot of red
[2012-08-17 03:33:50 -0400] miah: though there is still a issue with php53 on module_gd so i need to keep looking at the php book but i really need to finish nagios
[2012-08-17 03:33:54 -0400] jtimberman: arugh. yeah. i wish value_for_platform did version >'s
[2012-08-17 03:34:07 -0400] bemu: Me too!
[2012-08-17 03:34:09 -0400] jtimberman: miah: rewrite your site in a different language (obviously!)
[2012-08-17 03:34:29 -0400] jtimberman: i think reset (jamie) submitted a ticket about that
[2012-08-17 03:35:01 -0400] miah: about which?
[2012-08-17 03:35:09 -0400] miah: well, nagios has a php dependency
[2012-08-17 03:35:59 -0400] bemu: Has anyone tested out Sentinel yet?
[2012-08-17 03:36:13 -0400] miah: what is that
[2012-08-17 03:36:30 -0400] bemu: http://redis.io/topics/sentinel
[2012-08-17 03:36:39 -0400] miah: oh ya
[2012-08-17 03:36:46 -0400] miah: i havent looked at it yet
[2012-08-17 03:36:53 -0400] miah: too busy rebuilding chef architecture
[2012-08-17 03:37:13 -0400] bemu: We'll probably benchmark/test within the next few sprints.
[2012-08-17 03:37:16 -0400] bemu: Will report back
[2012-08-17 03:37:17 -0400] miah: nice
[2012-08-17 03:37:46 -0400] bemu: We currently use redis very heavily on each server,  but I have shied away from using it in a central fashion
[2012-08-17 03:38:05 -0400] bemu: because the failover stuff would have had to be written, which is a good way to get woken up in the middle of the night.
[2012-08-17 03:38:15 -0400] miah: yup
[2012-08-17 03:38:33 -0400] bemu: In any case, heading out! Night all. Sorry to be AWOL, just crazy crazy busy.
[2012-08-17 03:38:56 -0400] bemu: We're doing in excess of 500M auctions / day now :D
[2012-08-17 03:39:38 -0400] miah: =)
[2012-08-17 03:39:46 -0400] miah: sounds awesome
[2012-08-17 03:39:48 -0400] miah: lets talk soon
[2012-08-17 03:40:43 -0400] pedahzur_: bemu: missed the conversation.  Who is doing the auctions?
[2012-08-17 03:40:44 -0400] bemu: Absolutely. Next SF DevOps is coming up, Matt Kocher is planning.
[2012-08-17 03:41:04 -0400] bemu: We are. We're a real time marketplace for mobile ads (and more, of course, but that is my baby)
[2012-08-17 03:41:56 -0400] bemu: Built with Chef, Python, Open source software & 1000+ servers :D
[2012-08-17 03:42:01 -0400] pedahzur_: bemu: Who is "we"? or are you allowed to tell that? :)
[2012-08-17 03:42:02 -0400] jtimberman: miah: Yeah so...
[2012-08-17 03:42:12 -0400] jtimberman: miah: does nagios *really have that php depdency?
[2012-08-17 03:42:27 -0400] miah: yes
[2012-08-17 03:42:31 -0400] bemu: I messaged you -- not really looking for the company name to come up in google searches :)
[2012-08-17 03:42:32 -0400] jtimberman: ok
[2012-08-17 03:43:21 -0400] miah: since 3.3.1 nagios it uses the Exfoliation web frontend
[2012-08-17 03:43:38 -0400] jtimberman: i don't know what those words mean.
[2012-08-17 03:43:43 -0400] jtimberman: :)
[2012-08-17 03:44:19 -0400] miah: http://exchange.nagios.org/directory/Addons/Frontends-(GUIs-and-CLIs)/Web-Interfaces/Themes-and-Skins/exfoliation/details
[2012-08-17 03:44:55 -0400] miah: there are several such modifications but this one has been incorporated into core
[2012-08-17 03:45:13 -0400] miah: Matt Wall's Exfoliation theme is now installed by default. You can reinstall the classic theme with "make install-classicui"
[2012-08-17 03:45:29 -0400] miah: so, i could make the cookbook ditch php and use the classicui
[2012-08-17 03:45:51 -0400] miah: i need to fix chef-ark so it accepts arguments to 'make install'
[2012-08-17 03:47:57 -0400] jtimberman: i need to talk to Bryanwb about taht
[2012-08-17 03:48:00 -0400] jtimberman: not that
[2012-08-17 03:48:03 -0400] jtimberman: but that cookbook :)
[2012-08-17 03:49:40 -0400] miah: ya
[2012-08-17 03:49:48 -0400] miah: i use it a lot
[2012-08-17 03:49:52 -0400] miah: but i have found some issues
[2012-08-17 03:50:03 -0400] miah: i may file some issues for it in a minute
[2012-08-17 03:50:44 -0400] miah: this documentary about quasars is hella cool though
[2012-08-17 03:52:00 -0400] maek: Is there a 'place' like report handlers or some thing where I can display a message after a successful chef-client run?
[2012-08-17 03:52:42 -0400] miah: why not just use a report handler?
[2012-08-17 03:53:30 -0400] atomic-penguin: Does anyone want a portal2 75% coupon?
[2012-08-17 03:56:31 -0400] jtimberman: cool
[2012-08-17 04:01:13 -0400] maek: miah: I only now about them in concept is that the way to go?
[2012-08-17 04:03:19 -0400] miah: maek: http://wiki.opscode.com/display/chef/Exception+and+Report+Handlers
[2012-08-17 04:04:32 -0400] maek: ty
[2012-08-17 05:27:33 -0400] maek: if im using chef-solo can I provide node attributes in the config.rb or do they have to be in json?
[2012-08-17 05:28:27 -0400] flaccid_: node.json
[2012-08-17 05:28:39 -0400] maek: has to be json?
[2012-08-17 05:28:47 -0400] maek: flaccid_: ty also
[2012-08-17 05:28:48 -0400] flaccid_: yes
[2012-08-17 05:28:51 -0400] maek: ok
[2012-08-17 05:29:16 -0400] BryanWB_: ohai chefs!
[2012-08-17 05:30:08 -0400] maek: flaccid_: one more stupid one. do I have to " false and true in json?
[2012-08-17 05:30:29 -0400] flaccid_: what do you mean
[2012-08-17 05:30:39 -0400] flaccid_: you don't have to do anything
[2012-08-17 05:30:44 -0400] flaccid_: unless you live in a country without civil rights
[2012-08-17 05:30:46 -0400] maek: "foo": false
[2012-08-17 05:30:48 -0400] maek: ok ty
[2012-08-17 05:30:56 -0400] flaccid_: "foo":"false" its string in json
[2012-08-17 05:30:57 -0400] maek: ish, america
[2012-08-17 05:31:12 -0400] maek: no quotes bool
[2012-08-17 05:31:15 -0400] flaccid_: afaik there is no boolean for node attributes
[2012-08-17 05:31:30 -0400] BryanWB_: maek:  there is boolean for node attrs
[2012-08-17 05:31:40 -0400] BryanWB_: no quotes, and same in json
[2012-08-17 05:31:47 -0400] maek: thanks
[2012-08-17 05:31:51 -0400] flaccid_: oh for real?
[2012-08-17 05:31:59 -0400] BryanWB_: flaccid_: yup
[2012-08-17 05:32:00 -0400] maek: yeah we use false bool for testing existence all the time
[2012-08-17 05:32:15 -0400] flaccid_: hmm, let me check something. i might be thinking for metadata
[2012-08-17 05:32:59 -0400] flaccid_: yeah sorry about that maek
[2012-08-17 05:33:17 -0400] flaccid_: i work at rs so coz we rely on metadata, i am limited to string or array, http://wiki.opscode.com/display/chef/Metadata#Metadata-attribute :(
[2012-08-17 05:35:04 -0400] maek: flaccid_: no worries. ty for the help :)
[2012-08-17 05:35:16 -0400] maek: BryanWB_: ty also
[2012-08-17 05:36:22 -0400] maek: flaccid_: what? rs?
[2012-08-17 05:38:24 -0400] flaccid_: RightScale
[2012-08-17 05:38:54 -0400] maek: is that run?
[2012-08-17 05:38:57 -0400] maek: er fun
[2012-08-17 05:39:13 -0400] maek: thats all done with chef?
[2012-08-17 05:39:19 -0400] maek: or you guys chef  your own boxes?
[2012-08-17 05:39:30 -0400] flaccid_: define run
[2012-08-17 05:39:40 -0400] flaccid_: dang straight
[2012-08-17 05:39:50 -0400] flaccid_: its an agent with chef-solo hooking up to the platform and such
[2012-08-17 05:41:40 -0400] miah: *yawn*
[2012-08-17 05:42:10 -0400] maek: crazy
[2012-08-17 05:42:44 -0400] flaccid_: not as crazy as miah
[2012-08-17 05:43:15 -0400] maek: so can you tell more. like chef-solo actually does the 'cloud management' of these nodes?
[2012-08-17 05:43:48 -0400] flaccid_: RightLink is the agent that the instances run which includes support for chef-solo
[2012-08-17 05:44:14 -0400] maek: and these are your platform nodes or customers random cloud nodes?
[2012-08-17 05:44:32 -0400] flaccid_: both, i work in support
[2012-08-17 05:44:58 -0400] maek: and this allows you to like say "I want a web server"
[2012-08-17 05:45:01 -0400] maek: and you have cookbooks for that
[2012-08-17 05:45:16 -0400] flaccid_: sure
[2012-08-17 05:45:19 -0400] maek: cool
[2012-08-17 05:46:13 -0400] flaccid_: chef already has all of that
[2012-08-17 05:52:44 -0400] maek: any idea why a pvcreate /dev/sdb says perm denied but works fine on cli?
[2012-08-17 06:00:15 -0400] sascha_d_: chef and windows exec issuing return code 42 for the subversion resource makes me cry
[2012-08-17 06:04:42 -0400] miah: bed time. laptop told me the battery is about to end. g'nites =)
[2012-08-17 06:54:57 -0400] maek: pre chef 10.12 you could see the actual commands running from like a package "foo" or an execute resource. is that possible to see still?
[2012-08-17 07:23:37 -0400] CurrentlyCooking: Hi all, this is the first time joining this channel
[2012-08-17 07:24:28 -0400] BryanWB_: CurrentlyCooking: welcome!
[2012-08-17 07:24:40 -0400] CurrentlyCooking: I am beginner to Chef - trying out Chef Server, Client, Work station installation.
[2012-08-17 07:25:12 -0400] CurrentlyCooking: Installed Chef Server, Work Station and a Client on Node
[2012-08-17 07:26:20 -0400] CurrentlyCooking: Need help on a cookbook - Assuming JDK, Tomcat all installed on a Node, I just want to copy a war file to Tomcat webapps from remote location
[2012-08-17 07:26:30 -0400] CurrentlyCooking: Is there a ready made cookbook available ?
[2012-08-17 07:26:48 -0400] CurrentlyCooking: Thanks Bryan
[2012-08-17 07:26:49 -0400] BryanWB_: there is a cookbook for tomcat, and java
[2012-08-17 07:27:12 -0400] BryanWB_: and use the remote_file  resource to copy the war to webapps
[2012-08-17 07:27:31 -0400] BryanWB_: see github.com/opscode-cookbooks/
[2012-08-17 07:28:03 -0400] CurrentlyCooking: okay Bryan, I downloaded couple of cookbooks from the above location -
[2012-08-17 07:28:59 -0400] CurrentlyCooking: I was under the impression that tomcat cookbook is for installing tomcat - and java is for JDK installation - please correct me if I am wrong
[2012-08-17 07:29:46 -0400] CurrentlyCooking: application_java cookbook also downloaded, but it has lot of dependencies
[2012-08-17 07:33:08 -0400] CurrentlyCooking: Bryan, Is there a simple guide using which I can create my own cookbook for this purpose.
[2012-08-17 07:35:17 -0400] BryanWB_: CurrentlyCooking: many
[2012-08-17 07:35:34 -0400] BryanWB_: CurrentlyCooking: i haven't used application_java so i don't have familiarity w/ it
[2012-08-17 07:35:42 -0400] CurrentlyCooking: thanks Bryan.
[2012-08-17 07:35:55 -0400] BryanWB_: CurrentlyCooking: i have written several java-related ones at  http://devopsanywhere.blogspot.com
[2012-08-17 07:36:15 -0400] CurrentlyCooking: Thanks much, will take a look at it
[2012-08-17 07:36:42 -0400] BryanWB_: CurrentlyCooking: and this one is a gud overview
[2012-08-17 07:36:45 -0400] BryanWB_: http://faodata.blogspot.it/2012_04_01_archive.html
[2012-08-17 07:37:07 -0400] CurrentlyCooking: Sure
[2012-08-17 07:37:15 -0400] CurrentlyCooking: thanks
[2012-08-17 07:37:17 -0400] BryanWB_: my custom tomcat cookbook  github.com/bryawnb/chef-tomcat  may meet your needs but I never use the default recipe
[2012-08-17 07:37:21 -0400] BryanWB_: so use that at your own risk
[2012-08-17 07:37:42 -0400] hoover_damm: BryanWB_, write a jboss cookbook?
[2012-08-17 07:37:45 -0400] hoover_damm: immutant?
[2012-08-17 07:38:04 -0400] BryanWB_: hoover_damm: what's your question exactly?
[2012-08-17 07:38:18 -0400] BryanWB_: i have a jboss cookbook but it isn't very versatile
[2012-08-17 07:38:34 -0400] BryanWB_: and it won't be until we either have partials in chef or i find a way to hack them in
[2012-08-17 07:38:58 -0400] hoover_damm: BryanWB_, those were statements more then questions
[2012-08-17 07:39:20 -0400] hoover_damm: beyond that you typo'd your link there
[2012-08-17 07:39:42 -0400] BryanWB_: ah, yes, typo'd my own name :p
[2012-08-17 07:39:53 -0400] BryanWB_: github.com/bryanwb/chef-tomcat
[2012-08-17 07:40:03 -0400] BryanWB_: immutant looks neat
[2012-08-17 07:40:18 -0400] hoover_damm: jboss for clojure
[2012-08-17 07:40:20 -0400] BryanWB_: partials would improve my jboss cookbooks 1000%
[2012-08-17 07:40:28 -0400] hoover_damm: basically you really want jboss if you do java
[2012-08-17 07:40:42 -0400] hoover_damm: you can use other things, and some people will argue that jetty works just fine
[2012-08-17 07:40:58 -0400] hoover_damm: but eventually we all have to grow up and realize the enterprise boys have good tools
[2012-08-17 07:41:03 -0400] hoover_damm: no reason to snub them
[2012-08-17 07:41:09 -0400] BryanWB_: mos def
[2012-08-17 07:43:03 -0400] maek: BryanWB_: partials like for rendering half a template?
[2012-08-17 07:43:55 -0400] BryanWB_: maek: for include a smaller erb template into larger erb template and rendering both
[2012-08-17 07:44:08 -0400] BryanWB_: would be very useful for gain xml config files, like jboss's
[2012-08-17 07:44:13 -0400] BryanWB_: s/gain/giant/
[2012-08-17 07:45:22 -0400] maek: oh yeah I agree
[2012-08-17 07:45:46 -0400] maek: had to build some gross data structures to accommodate hadoop configs
[2012-08-17 07:45:53 -0400] BryanWB_: ouch
[2012-08-17 07:56:56 -0400] jannel: can the chef server itself act as a node?
[2012-08-17 07:57:12 -0400] jannel: if it can, how do I make it a node?
[2012-08-17 08:01:29 -0400] specialsauce: maek: i feel your pain, we just did almost the exact same thing :-/
[2012-08-17 08:04:01 -0400] CurrentlyCooking: Bryan, was just trying out chef-tomcat. It has dependecies on logrotate, ark maven
[2012-08-17 08:04:12 -0400] CurrentlyCooking: where do I get them from
[2012-08-17 08:04:28 -0400] BryanWB_: community.opscode.com
[2012-08-17 08:05:05 -0400] CurrentlyCooking: okay, thanks
[2012-08-17 08:06:10 -0400] BryanWB_: CurrentlyCooking: the lwrp   "tomcat" is well-tested, same cannot be said for the default recipe
[2012-08-17 08:08:14 -0400] CurrentlyCooking: Sure Bryan, I will try "tomcat"
[2012-08-17 08:19:07 -0400] CurrentlyCooking: Bryan, need help - Just before I uploaded a cookbook "ntp" to Chef Server [running on Fedora 14]. It threw error "FATAL: TypeError: can't convert Symbol into Integer". I removed ntp cookbook assigned to node from web ui. Now I uploaded java and tomcat cookbooks. When I run the chef-client, it is throwing the same error at the end. How to remove the ntp cookbook from the node
[2012-08-17 08:27:02 -0400] CurrentlyCooking: Looks like Bryan, nice gentleman, away. Is there anyone else who could help me out resolve my question
[2012-08-17 08:50:23 -0400] BryanWB_: CurrentlyCooking: knife node edit  node.name.foo.org , remove ntp from run_list
[2012-08-17 09:32:56 -0400] CurrentlyCooking: BryanWB_: Thanks. I used -o switch to run the client and it removed ntp aswell
[2012-08-17 10:48:30 -0400] masterkorp: Hello this might not be a directly chef related problem
[2012-08-17 10:49:22 -0400] masterkorp: i have a directory /home/feedfetcher/feedfetcher_app/ with 755 mode and handwire:handwire onwership
[2012-08-17 10:49:31 -0400] masterkorp: handwire@stgfeedfetcher1:~$ cat /home/feedfetcher/feedfetcher_app/current/REVISION
[2012-08-17 10:49:34 -0400] masterkorp: cat: /home/feedfetcher/feedfetcher_app/current/REVISION: Permission denied
[2012-08-17 10:49:41 -0400] masterkorp: yet this fails
[2012-08-17 10:53:30 -0400] jannel: my chef-server stopped responding and now after restart the process dies after a while, nothing appears in the logs
[2012-08-17 10:53:34 -0400] jannel: any debugging tips?
[2012-08-17 11:03:49 -0400] BryanWB_: jannel: couchdb running?
[2012-08-17 11:16:05 -0400] jannel: BryanWB_: yes, and it is responding.
[2012-08-17 11:18:05 -0400] jannel: hmm. seems that the hostname had changed and rabbitmq died. :)
[2012-08-17 13:29:44 -0400] Schmidt: What do you guys use for provisioning new machines (installing, registrering with DNS, all that jazz). I've used the Foreman when I did Puppet work which is nice, but does not (yet) integrate with Chef.
[2012-08-17 13:34:28 -0400] BryanWB_: Schmidt: don't know about dns, but otherwise knife bootstrap does everything i need
[2012-08-17 13:34:57 -0400] BryanWB_: if u have a dynamic dns, u don't have to worry about that
[2012-08-17 13:36:13 -0400] Schmidt: Ah, sorry. By installation I meant OS installation preferably over PXE.
[2012-08-17 13:53:53 -0400] ntiwari: hello...had a quick question. Is auto-deployment supported for Windows on Hosted Chef?
[2012-08-17 13:54:59 -0400] ntiwari: i m trying to auto-deploy some instances of a java web application aws
[2012-08-17 13:55:10 -0400] ntiwari: *on aws
[2012-08-17 13:56:23 -0400] BryanWB_: Schmidt: argh dunno, mattray may have some insights on that whenever he shows up
[2012-08-17 14:04:24 -0400] Schmidt: BryanWB_: Alrighty, cheers! (I do know that The Foreman is plannig Chef support, but I am curious what "the other side" uses :)
[2012-08-17 14:18:45 -0400] CharlieSu: Ohai Chefs!  I'm currently pulling a hash down from a databag that is used to populate some templates, but I'm going to start getting this has from a remote website instead.  How can I ensure that if I get a 404 or other error code that the hash I obtain isn't going to overwrite what is curerntly in the template?  I'd like it to fail gracefully and not change anything if this remote site goes down temporarily ..
[2012-08-17 14:43:56 -0400] jtimberman: CharlieSu: wrap it in a begin/rescue
[2012-08-17 14:44:06 -0400] jtimberman: and rescue the net http exception (i forget off hand what it is)
[2012-08-17 15:54:43 -0400] CharlieSu: jtimberman: thanks..  I just wasn't sure if that would be affected by the 'anatomy of a chef run'
[2012-08-17 15:59:00 -0400] myusuf3: how does notifies work? I am trying to understand if I deploy changes to nginx.conf for example; I am wondering how I can notify things like supervisord to restart
[2012-08-17 16:00:11 -0400] spox: so long as the supervisord service has been defined, you just add a `notifes :restart, resources(:service => 'supervisord'), :immediately` in the template resource
[2012-08-17 16:00:20 -0400] cwj: myusuf3: for that case i think you would actually want to tell the supervisord service to subscribe to notifications from the template(?) resource managing nginx.conf
[2012-08-17 16:01:12 -0400] myusuf3: so i am using cookbook_file
[2012-08-17 16:01:21 -0400] myusuf3: would i add the notifies to that?
[2012-08-17 16:03:25 -0400] cwj: if you want supervisord service to subscribe to notifications from nginx.conf, you should have a subscribe statement in your supervisord service
[2012-08-17 16:03:45 -0400] jtimberman: http://bit.ly/test-kitchen
[2012-08-17 16:04:19 -0400] cwj: sounds like just what i've been wanting
[2012-08-17 16:04:32 -0400] cwj: copying vagrantfiles between projects gets kind of old
[2012-08-17 16:04:37 -0400] jtimberman: hehehehe
[2012-08-17 16:22:58 -0400] myusuf3: cwj, how would you go about doing that?
[2012-08-17 16:23:36 -0400] geekbri: I am pretty psyched about test-kitchen.  Now can opscode somehow provide me with some free time so I can play with it?!
[2012-08-17 16:24:35 -0400] cwj: myusuf3: see subscribes syntax here http://wiki.opscode.com/display/chef/Resources?focusedCommentId=15728641#Resources-Notifications
[2012-08-17 16:28:06 -0400] jtimberman: geekbri: thats what automating your infrastructure with chef gets you!
[2012-08-17 16:28:29 -0400] geekbri: jtimberman: yeah but I'm so busy automating my infrastructure with chef I don't have any time ;)
[2012-08-17 16:28:35 -0400] jtimberman: hehehehehe
[2012-08-17 17:36:31 -0400] btm: in case you've never heard of twitter, test-kitchen was released today https://bit.ly/test-kitchen H/T schisamo, jtimberman.
[2012-08-17 17:36:52 -0400] geekbri: Twitters?! WHazzat?
[2012-08-17 17:37:35 -0400] jcran: nice, thanks for the heads up
[2012-08-17 17:41:48 -0400] juliancdunn: how do I deal with a corrupted chef-validator client? I migrated from one chef server to another but now "knife client show chef-validator" is returning null
[2012-08-17 17:48:34 -0400] CharlieSu: juliancdunn: i believe you can remove the client from couch and restart the chef server.. It will regenerate one for you
[2012-08-17 17:53:36 -0400] FU-JoBu: hallo
[2012-08-17 17:57:19 -0400] juliancdunn: CharlieSu: it did not. I also moved the /etc/chef/validation.pem out of the way and it did not recreate it
[2012-08-17 18:08:44 -0400] miah: moin
[2012-08-17 18:15:13 -0400] btm: juliancdunn: I think removing the /etc/chef/validation.pem (or as configured in server.rb) and restarting the server should recreate it. if not, something is probably more broken. try log_level debug on the server and follow the logs?
[2012-08-17 18:18:31 -0400] juliancdunn: btm: yes, i tried then -- then I get this: https://gist.github.com/3381288
[2012-08-17 18:19:01 -0400] erk: Has anyone tried to ssh tunnel into the webui server
[2012-08-17 18:19:06 -0400] juliancdunn: that's either with or without the chef-validator entry in the couchdb
[2012-08-17 18:19:29 -0400] miah: i've used ssh tunnels for webui before, but then i stopped using webui.
[2012-08-17 18:19:36 -0400] erk: because when i do that it doesn't give me login page, so i assume it wont allow me
[2012-08-17 18:22:37 -0400] Urocyon: using berks 0.4.0.rc2  to try out some vagrant style testing, I'm running into an error creating a shim of the cookbook I'm actually testing.
[2012-08-17 18:22:42 -0400] Urocyon: I get "WARNING: Cannot write a shim for a path location source into a subdirectory of itself."
[2012-08-17 18:23:00 -0400] Urocyon: This looks like this problem: https://github.com/RiotGames/berkshelf/pull/80
[2012-08-17 18:23:36 -0400] Urocyon: Not sure if that was supposed to be fixed in 0.4.0 rc2 or not.
[2012-08-17 18:25:51 -0400] CharlieSu: Anyone using the omnibus updater cookbook?
[2012-08-17 18:25:54 -0400] leifmadsen: I think I'm having a Friday brain cramp. How do I return an array of the current nodes list of roles?
[2012-08-17 18:26:10 -0400] CharlieSu: I'm getting errors trying to DL the installer and I can't figure out why..   http://s3.amazonaws.com/opscode-full-stack/ubuntu-10.10-x86_64/chef-full_10.12.0-1_amd64.deb
[2012-08-17 18:28:21 -0400] CharlieSu: How can I install a new version of the omnibus installer manually
[2012-08-17 18:28:22 -0400] CharlieSu: ?
[2012-08-17 18:29:37 -0400] erk: miah: cool. thanks. still no luck. it says "this is chef rest api server" thats it. no login. sigh
[2012-08-17 18:32:44 -0400] Urocyon: I don't get the above error when I just run "berks install --shims"  But that doesn't seem to show up when I run "bundle exec vagrant provision"
[2012-08-17 18:37:39 -0400] Urocyon: ah.. bundle is looking specifically for 0.3.7 which was also on my system.  Interesting.  Not sure how to work around that.
[2012-08-17 18:41:10 -0400] wickett: in roles, is there a way to set override attributes based on environment?
[2012-08-17 18:42:17 -0400] wickett: sort of like the env_run_lists
[2012-08-17 18:42:35 -0400] Urocyon: Got it, I think.  Just added the appropriate version to my Gemfile.
[2012-08-17 18:53:50 -0400] ivey: Urocyon:
[2012-08-17 18:54:00 -0400] ivey: you can specify 0.4.0.pre in Gemfile
[2012-08-17 18:54:18 -0400] ivey: gem "berkshelf", ">= 0.4.0.pre" i think
[2012-08-17 18:54:57 -0400] ivey: gem "berkshelf", ">= 0.4.0.rc2" i mean
[2012-08-17 18:55:19 -0400] Urocyon: I was confused because I thought I only had 0.4.0 on my system, but the gem file didn't specify a prerelease version, so it grabbed 0.3.7 and used it.
[2012-08-17 18:55:38 -0400] Urocyon: I guess that's what I get for not knowing bundle all that well.
[2012-08-17 18:58:08 -0400] FU-JoBu: I'm trying to add a default_attribute in JSON via 'knife node edit'
[2012-08-17 18:58:23 -0400] FU-JoBu: but it keep telling me that it's not changed, so NOT saving
[2012-08-17 18:58:35 -0400] FU-JoBu: even though it differs from my attributes file
[2012-08-17 18:58:50 -0400] FU-JoBu: my attributes file essentially sets an attribute to 'false'
[2012-08-17 18:58:58 -0400] FU-JoBu: but for a specific node, I set it to 'true'
[2012-08-17 19:00:20 -0400] yfeldblum: FU-JoBu, you can't do that
[2012-08-17 19:00:43 -0400] yfeldblum: FU-JoBu, default-level attributes are assigned only during a chef-client run
[2012-08-17 19:01:03 -0400] yfeldblum: FU-JoBu, the only level you can assign outside of a chef-client run is normal-level attributes
[2012-08-17 19:01:33 -0400] FU-JoBu: hmm
[2012-08-17 19:01:50 -0400] FU-JoBu: this is only relevant when chef-client runs...
[2012-08-17 19:02:04 -0400] FU-JoBu: it sets a value for a config file
[2012-08-17 19:02:11 -0400] FU-JoBu: based on the boolean
[2012-08-17 19:02:20 -0400] FU-JoBu: within the recipe
[2012-08-17 19:02:29 -0400] FU-JoBu: so does it matter?
[2012-08-17 19:02:40 -0400] FU-JoBu: this is what I have in my attributes file:
[2012-08-17 19:02:41 -0400] FU-JoBu: default["tvplus-webconfig"]["nr-commercial-key"] = "false";
[2012-08-17 19:04:07 -0400] yfeldblum: FU-JoBu, firstly, `"false"` is a string value rather than a boolean value
[2012-08-17 19:04:25 -0400] yfeldblum: FU-JoBu, secondly, not sure what the question is
[2012-08-17 19:04:54 -0400] FU-JoBu: and this is what I'm adding to my node:
[2012-08-17 19:04:55 -0400] FU-JoBu: "default_attributes": {
[2012-08-17 19:04:55 -0400] FU-JoBu:     "tvplus-webconfig": {
[2012-08-17 19:04:55 -0400] FU-JoBu:       "nr-commercial-key": "true"
[2012-08-17 19:04:55 -0400] FU-JoBu:     }
[2012-08-17 19:04:55 -0400] FU-JoBu:   },
[2012-08-17 19:06:01 -0400] FU-JoBu: I've updated the attributes file, thanks
[2012-08-17 19:06:44 -0400] FU-JoBu: yfeldblum, how should I approach this?
[2012-08-17 19:07:03 -0400] yfeldblum: FU-JoBu, what are you trying to accomplish?
[2012-08-17 19:07:57 -0400] FU-JoBu: yfeldblum, I have a special case, where I don't want to use the same Software Key (in a config) for a single node
[2012-08-17 19:08:17 -0400] yfeldblum: FU-JoBu, so set it at the normal level with `knife node edit`
[2012-08-17 19:08:51 -0400] FU-JoBu: yfeldblum, so don't use it under default_attributes
[2012-08-17 19:09:03 -0400] yfeldblum: FU-JoBu, that's right
[2012-08-17 19:09:52 -0400] yfeldblum: FU-JoBu, default-level attributes are solely for use by roles/environments/cookbooks, but normal-level attributes are designed for use by sysadmins to control certain node attributes on a node-by-node basis
[2012-08-17 19:11:15 -0400] FU-JoBu: got it
[2012-08-17 19:11:17 -0400] FU-JoBu: I'll try that
[2012-08-17 19:11:49 -0400] FU-JoBu: yfeldblum, would I access it via node['tvplus-webconfig']['nr-commercial-key']
[2012-08-17 19:11:53 -0400] mhalligan: is there a weird set of precedences that make cookbook_files get installed later in a recipe's run or something?
[2012-08-17 19:11:58 -0400] FU-JoBu: or node['normal']['tvplus-webconfig']['nr-commercial-key']
[2012-08-17 19:12:43 -0400] mhalligan: in https://gist.github.com/c7466dad60e7e29e8729 that file never gets created and Chef errors out that the file is missing, on the next line when it tries to load the decrypted data bag
[2012-08-17 19:13:19 -0400] mhalligan: the only mention when running the client in debug mode is that6 log before the cookbook_file block
[2012-08-17 19:13:27 -0400] yfeldblum: FU-JoBu, you always query the value of a node's attributes in a recipe using node["tvplus-webconfig"]["nr-commercial-key"] - you never try to query just the default-level or normal-level attribute, because the whole point is to set them at different levels but query the merged value
[2012-08-17 19:14:26 -0400] yfeldblum: mhalligan, the cookbook_file block does NOT create a file on the local filesystem, and it is important you understand what it does exactly
[2012-08-17 19:14:44 -0400] yfeldblum: mhalligan, it records, in a list called the "resources collection", an entry describing what you want to happen eventually
[2012-08-17 19:15:55 -0400] yfeldblum: mhalligan, it records an object of type Chef::Resource::CookbookFile into the resources collection, and once all of the ruby code in all your recipes in the node's run-list has finished executing, chef will loop over the resources collection, inspect the difference between the declared resources and what's existent on the system, and change the system to bring it into line with the declared resources
[2012-08-17 19:16:41 -0400] yfeldblum: mhalligan, the file specified by the cookbook_file resource will never exist at any point during the execution of your recipe; chef only creates that file after all your recipes have completed executing
[2012-08-17 19:17:51 -0400] btm: mhalligan: http://wiki.opscode.com/display/chef/Anatomy+of+a+Chef+Run
[2012-08-17 19:18:07 -0400] btm: mhalligan: so the chef recipe is just ruby, and it will be evaluated as ruby in the compilation phase.
[2012-08-17 19:18:21 -0400] btm: mhalligan: but the resources aren't executed until convergence.
[2012-08-17 19:19:31 -0400] btm: mhalligan: so 'deploy_key =' is being evaluated as ruby before the cookbook_file has executed its action.
[2012-08-17 19:20:13 -0400] btm: mhalligan: if you put your ruby code in a ruby_block resource, it won't get executed until convergence and will be in the order you're looking for
[2012-08-17 19:20:17 -0400] btm: mhalligan: http://wiki.opscode.com/display/chef/Resources#Resources-RubyBlock
[2012-08-17 19:20:27 -0400] FU-JoBu: yfeldblum: so should I change default["tvplus-webconfig"]["nr-commercial-key"] = false;
[2012-08-17 19:20:38 -0400] FU-JoBu: yfeldblum: to: normal["tvplus-webconfig"]["nr-commercial-key"] = false;
[2012-08-17 19:20:43 -0400] yfeldblum: FU-JoBu, NO
[2012-08-17 19:21:20 -0400] yfeldblum: FU-JoBu, keep it at the default level in the attributes file and in the role
[2012-08-17 19:21:33 -0400] yfeldblum: FU-JoBu, normal is for use by sysadmins using `knife node edit`
[2012-08-17 19:21:48 -0400] mhalligan: yfeldblum/btm: thanks, I'll try to wrap my head around all of that.
[2012-08-17 19:22:29 -0400] yfeldblum: FU-JoBu, every time you *query* these values, you want to query the merged value - not the value at any particular level, but the value that comes from looking at all the levels and choosing the one with the highest precedence
[2012-08-17 19:22:44 -0400] FU-JoBu: ok
[2012-08-17 19:23:29 -0400] btm: juliancdunn: that error in your gist looks like there's an artifact in couchdb that is incomplete. i would probably add a debugging statement in the relevant code indicated by the backtrace to identify what document it is and delete it using futon.
[2012-08-17 19:24:02 -0400] btm: mhalligan: http://wiki.opscode.com/display/chef/Evaluate+and+Run+Resources+at+Compile+Time this should be a good explanation.
[2012-08-17 19:31:56 -0400] geekbri: does the create_if_missing action on the file resource still update owner/group if the file exists?
[2012-08-17 19:32:03 -0400] geekbri: or does it totally noop even if those aren't correct?
[2012-08-17 19:32:22 -0400] hoover_damm: geekbri, create_if_missing add's a not_if ::File.exists?
[2012-08-17 19:32:28 -0400] hoover_damm: so does 'creates'
[2012-08-17 19:32:57 -0400] geekbri: Does the touch action create the file if its missing like actual touch?
[2012-08-17 19:33:09 -0400] geekbri: Meh I'll just go look at the darn provider
[2012-08-17 19:33:53 -0400] geekbri: yup, touch calls action_create
[2012-08-17 19:34:36 -0400] juliancdunn: btm: ok thanks. I'm messing around with Futon right now
[2012-08-17 19:35:35 -0400] hoover_damm: geekbri, btw :touch always runs
[2012-08-17 19:35:36 -0400] hoover_damm: no matter what
[2012-08-17 19:35:47 -0400] hoover_damm: or at least it used to
[2012-08-17 19:38:08 -0400] geekbri: Defines always runs
[2012-08-17 19:38:13 -0400] geekbri: if you set action :nothing I would assume it doesn't run
[2012-08-17 19:38:44 -0400] hoover_damm: it doesn't run
[2012-08-17 19:38:49 -0400] hoover_damm: but if you run :touch it always creates the file
[2012-08-17 19:38:57 -0400] hoover_damm: updates mtime
[2012-08-17 19:39:55 -0400] geekbri: Yeah, I just checked the provider.  touch calls create which calls the enforce_ownership_and_permissions method so
[2012-08-17 19:39:59 -0400] geekbri: touch is what I was looking for :)
[2012-08-17 19:43:24 -0400] Jay_Levitt: are opscode cookbook contributions still expected to use Ruby 1.8 style?
[2012-08-17 19:43:51 -0400] yfeldblum: Jay_Levitt, no doubt
[2012-08-17 19:44:04 -0400] yfeldblum: Jay_Levitt, many people are running chef-client on ruby-1.8
[2012-08-17 19:44:15 -0400] Jay_Levitt: okie doke
[2012-08-17 19:44:42 -0400] Urocyon: ivey: I've made a fork of an opscode cookbook with some extra functionality and I want to add it as a dependency to another cookbook I'm writing.  What would be the best way to do that so berks can pick it up right for testing?  Should I add that to my cookbook's Berksfile?
[2012-08-17 19:45:22 -0400] ivey: yeah you could add it with a git path, make sure to point to a specific tag or branch
[2012-08-17 19:45:33 -0400] ivey: hopefully you're submitting your changes back upstream, yeah?
[2012-08-17 19:47:49 -0400] geekbri: You could always check the ruby version and do things differently for 1.8.x
[2012-08-17 19:48:29 -0400] CharlieSu: When using the User resource is there a way to specify more than one GID?
[2012-08-17 19:49:49 -0400] Urocyon: Ivey, that's the hope.  Though I may need to make it a bit cleaner.
[2012-08-17 19:50:14 -0400] Urocyon: ivey: this was a pretty simple one though, adding support for red hat family servers to the tftp cookbook.
[2012-08-17 19:50:27 -0400] ivey: cool
[2012-08-17 19:50:31 -0400] Urocyon: They use a different package and xinetd.
[2012-08-17 19:50:44 -0400] Urocyon: https://github.com/cete/tftp
[2012-08-17 19:51:36 -0400] Urocyon: I'm going to keep all my forks on github for pull requests and such.
[2012-08-17 19:52:52 -0400] CharlieSu: Looking at the source I don't think the User resource allows you to specify to GID's at once...
[2012-08-17 19:53:00 -0400] Urocyon: I'd like to use Berksfile to test it, but I don't want to litter the repository with berks files.   Is there a good way to berks install, test and then clean up afterwards?
[2012-08-17 19:54:15 -0400] ivey: why not include the Berksfile?
[2012-08-17 19:54:53 -0400] Urocyon: I'm not opposed.  Just didn't know what was good etiquette when updating others cookbooks.
[2012-08-17 19:57:45 -0400] hoover_damm: Urocyon, debian's pxe stuff requires tftpd-hpa to work... redhat's should still work on tftpd-hpa
[2012-08-17 19:57:50 -0400] hoover_damm: Urocyon, or at least it did for me back in 2010
[2012-08-17 19:57:55 -0400] Urocyon: Also, if Y run berks cookbook on it I also get some other extra files, like the Gemfile and chef ignore  and when I test, I get a cookbooks directory that I could add to .gitignore for the project.
[2012-08-17 19:58:35 -0400] Urocyon: hoover_damm where is that located?  It wasn't in my normal channels.
[2012-08-17 19:58:37 -0400] hoover_damm: Urocyon, sometimes that also becomes a nic thing... i had some redhat servers that wouldn't accept tftpd and only tftpd-hpa due to the nic
[2012-08-17 19:58:52 -0400] hoover_damm: hpa might not be in redhat
[2012-08-17 20:00:48 -0400] Urocyon: hoover_damm: yeah, I wasn't finding it in my usual repos, so I added some code to handle it with xinetd
[2012-08-17 20:00:57 -0400] Jay_Levitt: If a default attribute is an array, and I want to alter an element of that array in a recipe (i.e. now at the 'normal' level).. is that gonna hurt?
[2012-08-17 20:03:27 -0400] jtgiri_: hey guys, didn't cookbook_file used to have "user" and "group" attributes ? I just tested some of cookbooks on chef-solo it seems to be failing ,and I just checked the wiki I see cookbook_file doesn't have those attributes
[2012-08-17 20:08:16 -0400] Urocyon: ivey: how do you specify a sha in your berksfile?  I'm not seeing an example of that.   And can you do a > sha?
[2012-08-17 20:09:40 -0400] ivey: cookbook "mysql", git: "https://github.com/opscode-cookbooks/mysql.git", branch: "1.0.1"
[2012-08-17 20:09:41 -0400] ivey: branch can be a branch, tag, or sha1, since they're all the same thing in git really
[2012-08-17 20:10:13 -0400] Urocyon: sweet
[2012-08-17 20:10:27 -0400] Guest52011: php pdo database objects
[2012-08-17 20:15:50 -0400] Guest52011: objeziz
[2012-08-17 20:39:53 -0400] rburton-: In a custom chef recipe, params[:name] refers to the first argument of the definition. e.g., my_def "sample" do  end
[2012-08-17 21:11:07 -0400] mhalligan: yfeldblum/btm: thanks, I'll try to wrap my head around all of that.
[2012-08-17 21:12:52 -0400] rchady: So, just curious, what is the "best practice" for setting up things like a base repository list for a system?
[2012-08-17 21:13:05 -0400] rchady: (using zypper here)
[2012-08-17 21:15:52 -0400] korishev: how can I ensure that a cookbook has been run before another?  If the first cookbook writes attributes to the node, then saves, and I need this attributes in another cookbook?
[2012-08-17 21:20:42 -0400] erratic: run list order and http://wiki.opscode.com/display/chef/Metadata
[2012-08-17 21:22:51 -0400] erratic: compile compile compile compile compile compile
[2012-08-17 21:24:53 -0400] rchady: Looking for ideas on best practices on managing repos for a base setup
[2012-08-17 21:29:12 -0400] ampledata: i found putting each cookbook into it's own repo to be pretty beneficial, especially when using librarian or berkshelf
[2012-08-17 21:29:18 -0400] ampledata: ymmv
[2012-08-17 21:29:42 -0400] rchady: well, this is a suse system... so I'm looking to enforce which zypper repos are set on the system
[2012-08-17 21:39:06 -0400] julienphalip: Hello there. I'm having trouble installing Python using the https://github.com/opscode-cookbooks/python recipe with a Vagrant lucid32 box. I can't get either the 'package' or 'source' installation method to work. Can someone help me with that?
[2012-08-17 21:40:08 -0400] julienphalip: The package method always ignore whatever version of Python I configure in the attributes. And the source method fails with this error: "No targets specified and no makefile found"
[2012-08-17 21:41:14 -0400] julienphalip: What I'm trying to achieve is install multiple versions of Python on the same machine (from 2.4 to 3.3). But I can't even just one version to get installed properly so far.
[2012-08-17 21:42:18 -0400] julienphalip: Is anyone with some experience with the Python recipe able to help me troubleshoot this? Thanks!
[2012-08-17 21:43:21 -0400] rburton-: I suspect the create a service script must be a template and then have service kick it off
[2012-08-17 22:03:22 -0400] Urocyon: I'm aliasing bundle exec.  Getting tired of typing it.
[2012-08-17 22:04:08 -0400] countdigi: I use bex
[2012-08-17 22:05:49 -0400] countdigi: btw if u use modern rvm and bundler you don't need it
[2012-08-17 22:05:55 -0400] countdigi: see: http://blog.davidchelimsky.net/2011/07/18/stop-typing-bundle-exec/
[2012-08-17 22:09:00 -0400] Urocyon: countdigi: thanks. I've bookmarked that.
[2012-08-17 22:09:33 -0400] Urocyon: I'm new to bundle. I only started using it because of Berkshelf.
[2012-08-17 22:09:54 -0400] Urocyon: I'm really loving the vagrant testing part of berkshelf.
[2012-08-17 22:10:57 -0400] countdigi: cool i have to look into that - is it a replacement for librarian or complementary?
[2012-08-17 22:12:09 -0400] cwj: they don't really work together, but they are both useful
[2012-08-17 22:12:09 -0400] Urocyon: replacement
[2012-08-17 22:12:42 -0400] Urocyon: http://christian-trabold.de/librarian-chef-vs-berkshelf
[2012-08-17 22:12:53 -0400] cwj: i use librarian to manage my repo and berkshelf to enable testing of my individual cookbooks in vagrant boxes
[2012-08-17 22:13:30 -0400] countdigi: nice tx for the link
[2012-08-17 22:14:01 -0400] Urocyon: cwj why the split.  Why not use berkshelf on both?
[2012-08-17 22:16:31 -0400] Urocyon: Berkshelf is designed around a slightly different design than the usual chef repository.  My master repo branch is not currently berkified.
[2012-08-17 22:17:57 -0400] Urocyon: I'm currently going through my altered opscode cookbooks and moving those changes to their own repos where I can run berkshelf to test them and where I can more easily contribute my changes upstream.    Where I  have something specific to my organization I'm moving those changes to my own private repository.
[2012-08-17 22:18:22 -0400] Urocyon: moving them to their own cookbooks.
[2012-08-17 22:18:24 -0400] cwj: because i didn't learn about berkshelf until after i had already moved my repo to librarian
[2012-08-17 22:18:28 -0400] Urocyon: or to a wrapper cookbook.
[2012-08-17 22:18:36 -0400] cwj: although making the change from librarian to berkshelf would be much easier
[2012-08-17 22:18:47 -0400] cwj: since i have already done the repo dance you have described
[2012-08-17 22:19:20 -0400] Urocyon: Yeah, I started with a new company got chef all set up and ready to go, then said, wait a minute.. I'm going to redo this now.
[2012-08-17 22:19:56 -0400] Urocyon: Been a couple of days at relearning, but already berkshelf has me a lot happier about things.
[2012-08-17 22:25:07 -0400] jameson_: is node['IP'] reliable across providers (Linode, EC2, Rackspace) ?
[2012-08-17 22:34:33 -0400] kesse: when I bootstrap and i am told " INFO: HTTP Request Returned 401 Unauthorized: Failed to authenticate. Ensure that your client key is valid.", do i need to delete the client.pem from the workstation?
[2012-08-17 22:35:44 -0400] kesse: i mean the validation key
[2012-08-17 22:35:58 -0400] kesse: i just changed the host url from localhost:4000 to http://domain:4000
[2012-08-17 22:36:11 -0400] kesse: and i restarted chef-server, but will i also need to recreate the validation?
[2012-08-17 22:42:27 -0400] luckymike: what's the deal with template subdirectories not showing at manage.opscode.com
[2012-08-17 22:42:43 -0400] rburton-: Now this is a strange error "`method_missing': Attribute set is not defined! (ArgumentError)"
[2012-08-17 22:42:50 -0400] rburton-: don't see any attribute called 'set'
[2012-08-17 22:46:41 -0400] rburton-: figured it out :)
[2012-08-17 22:46:52 -0400] kesse: okay problem solved!
[2012-08-17 22:46:57 -0400] kesse: sweat~
[2012-08-17 22:47:12 -0400] rburton-: :D
[2012-08-17 23:15:50 -0400] pedahzur: Why does the mount resource require a mount before enable?  I have a situation where the NFS mount won't come up in the installer environment (where the chef script is being run) but comes up find after the system reboots.  Can I get the mount resource to add the mount to /etc/fstab without mounting it?
[2012-08-17 23:18:27 -0400] pedahzur: Hmm...seems you can do an enable without mount, although http://wiki.opscode.com/display/chef/Resources#Resources-Mount would imply otherwise.
[2012-08-17 23:40:02 -0400] cheeseplus: pedahzur: did you just set the action [:enable] ?
[2012-08-17 23:40:27 -0400] erk: i was looking at mysql cookbook
[2012-08-17 23:40:40 -0400] erk: it said "It will also install the Ruby Gem mysql"  why ruby gem version? why won't it use the apt-get version?
[2012-08-17 23:41:02 -0400] erk: postgresql seems to say the same thing too
[2012-08-17 23:41:14 -0400] pedahzur: cheeseplus: yup.  The opscode doc seemed to imply you had to mount before you could :enable
[2012-08-17 23:41:31 -0400] cheeseplus: pedahzur: cool, was curious as thats how I would have done it
[2012-08-17 23:42:04 -0400] pedahzur: Apparently you can't NFS mount in an installer environment. :)
[2012-08-17 23:42:10 -0400] cheeseplus: yea, the wiki just says it's the default action
[2012-08-17 23:42:13 -0400] erk: ah nvm the next line said will choose native if platform is known... okay... dont scare me like that :/
[2012-08-17 23:43:03 -0400] pedahzur: cheeseplus: According to that page, " For example, mount must happen before enable: action [:mount, :enable]"  But why?  If enable just puts it in fstab, if anything why wouldn't enable have to happen before mount?
