[2012-05-09 00:00:36 -0400] ssd7: cnf: ?
[2012-05-09 00:01:24 -0400] cnf: ssd7: asking for a company name (which i don't have) basically 3 times
[2012-05-09 00:02:43 -0400] ssd7: Ahh
[2012-05-09 00:03:02 -0400] cnf: also, where do i get my username.pem o,O
[2012-05-09 00:03:54 -0400] cnf: oh, found it
[2012-05-09 00:07:37 -0400] yfeldblum: cnf, company name or organization name?
[2012-05-09 00:07:55 -0400] cnf: yfeldblum: same non-existing thing, to me
[2012-05-09 00:09:28 -0400] yfeldblum: organization?
[2012-05-09 00:09:38 -0400] yfeldblum: meh, bawt doesn't have a definition for that
[2012-05-09 00:13:02 -0400] yfeldblum: cnf, it's the same concept as organizations on github
[2012-05-09 00:13:08 -0400] yfeldblum: cnf, nothing to do with companies per se
[2012-05-09 00:13:35 -0400] miah: its just a way to organize the group of servers and cookbooks you're working with
[2012-05-09 00:14:06 -0400] miah: if its your at home test network name it whatever you want
[2012-05-09 00:15:32 -0400] cnf: yes, i did enter some nonsense
[2012-05-09 00:15:56 -0400] cnf: still silly it insists on that data
[2012-05-09 00:16:04 -0400] miah: not really
[2012-05-09 00:16:16 -0400] miah: it has to do with the way the hosted chef platform works
[2012-05-09 00:16:32 -0400] miah: it wants a user, to have access to a organization, or group of ogranizations.
[2012-05-09 00:16:48 -0400] cnf: and a company, which you don't need
[2012-05-09 00:17:04 -0400] miah: right, but thats a unique identifier in the system
[2012-05-09 00:17:15 -0400] miah: its a key id
[2012-05-09 00:17:19 -0400] cnf: so is my username, and my email
[2012-05-09 00:17:39 -0400] cnf: bah, now what did i miss :(
[2012-05-09 00:17:43 -0400] miah: you're failing to see the point
[2012-05-09 00:18:01 -0400] miah: lets pretend you're a consultant who does chef work for various companies
[2012-05-09 00:18:21 -0400] miah: the way the system is set up. you can manage several different companies chef infrastructures
[2012-05-09 00:18:27 -0400] miah: and its completely segregated
[2012-05-09 00:19:26 -0400] yfeldblum: cnf, good architecture requires you to separate between user accounts and object-ownership accounts
[2012-05-09 00:19:52 -0400] cnf: yfeldblum: and none of that necessitates me to have a "company" at registration time
[2012-05-09 00:22:15 -0400] yfeldblum: cnf, it is, because it affects how you set up your chef-client configs & keys
[2012-05-09 00:22:29 -0400] yfeldblum: cnf, in later steps
[2012-05-09 00:22:33 -0400] cnf: does it? i haven't seen my company name used anywhere
[2012-05-09 00:22:50 -0400] bluepojo1: has anyone been able to build dep_selector on windows?
[2012-05-09 00:24:34 -0400] yfeldblum: cnf, yes
[2012-05-09 00:25:03 -0400] yfeldblum: cnf, also, not company, organization ... and not organization as in company ... organization as in, your little slice of hosted-chef
[2012-05-09 00:25:24 -0400] cnf: yfeldblum: it asks you for company at reg time...
[2012-05-09 00:26:37 -0400] miah: iirc, its not a required field
[2012-05-09 00:26:52 -0400] cnf: miah: it was for me
[2012-05-09 00:27:00 -0400] miah: N/A
[2012-05-09 00:27:12 -0400] miah: its not like the chef police are going to come bust down your door
[2012-05-09 00:27:48 -0400] miah: company: Organization of organizing organizers
[2012-05-09 00:27:53 -0400] cnf: yes, i know how to fill out fake info
[2012-05-09 00:28:10 -0400] miah: so why is this a issue? mountain != ant hill
[2012-05-09 00:28:33 -0400] yfeldblum: heh they just required all the fields on the registration page, except middle name
[2012-05-09 00:28:54 -0400] yfeldblum: yeah opscode prolly wants some leads
[2012-05-09 00:29:15 -0400] cnf: miah: because it is silly!
[2012-05-09 00:29:19 -0400] miah: all companies do. its your choice on what to give them.
[2012-05-09 00:30:17 -0400] miah: silly would be requiring telephone verification
[2012-05-09 00:30:46 -0400] yfeldblum: can't tell whether "south park chef" or "iron chef" would be the better image to represent the concept of "Chef police"
[2012-05-09 00:30:51 -0400] cnf: hey, even the name field is just silly dbase design
[2012-05-09 00:31:06 -0400] miah: you're free to submit bug reports
[2012-05-09 00:31:06 -0400] cnf: yfeldblum: southpark
[2012-05-09 00:31:17 -0400] cnf: yfeldblum: because i have no idea what an iron chef is
[2012-05-09 00:31:43 -0400] miah: http://www.youtube.com/watch?v=u2e9nTeIwFk
[2012-05-09 00:31:46 -0400] miah: ^- iron chef
[2012-05-09 00:31:57 -0400] hoover_damn: it's south park
[2012-05-09 00:32:05 -0400] hoover_damn: chef and his big salty chocolate balls
[2012-05-09 00:32:07 -0400] hoover_damn: are all over
[2012-05-09 00:32:22 -0400] hoover_damn: gosh that came out wrong
[2012-05-09 00:32:26 -0400] hoover_damn: and I can't think of a good way to fix it
[2012-05-09 00:32:32 -0400] cnf: wtf?
[2012-05-09 00:32:56 -0400] yfeldblum: hoover_damn, enough liquor to make you black out and forget you typed that ought to fix it
[2012-05-09 00:32:59 -0400] cnf: yeah, we don't have iron chef
[2012-05-09 00:33:00 -0400] cnf: i think
[2012-05-09 00:33:05 -0400] miah: 'we' ?
[2012-05-09 00:33:07 -0400] cnf: i don't have a tv though, so meh
[2012-05-09 00:33:22 -0400] cnf: miah: .be
[2012-05-09 00:34:31 -0400] miah: ah i see
[2012-05-09 00:35:17 -0400] hoover_damn: yfeldblum, http://brainspl.at/articles/2009/01/15/chef-suck-on-my-chocolate-salty-balls
[2012-05-09 00:38:42 -0400] cnf: o,O
[2012-05-09 00:39:39 -0400] cnf: why am i getting INFO: HTTP Request Returned 403 Forbidden: Must have READ permission on getting-started cookbook ?
[2012-05-09 00:43:05 -0400] cnf: i'm just following the http://wiki.opscode.com/display/chef/Fast+Start+Guide
[2012-05-09 00:45:44 -0400] flashmanbahadur: fish_: nice IPv6 address
[2012-05-09 00:46:45 -0400] cnf: grmbl, always something >,<
[2012-05-09 00:48:53 -0400] cnf: what's the use of a fast start guide if it's not accurate
[2012-05-09 00:50:38 -0400] cnf: can't i set permissions on cookbooks from knife?
[2012-05-09 00:56:09 -0400] cnf: paulmooring: not all that clear, tbh
[2012-05-09 00:56:21 -0400] paulmooring: ?
[2012-05-09 00:56:37 -0400] cnf: got chef-hosted running
[2012-05-09 00:56:43 -0400] cnf: and did the fast start guide
[2012-05-09 00:58:33 -0400] cnf: paulmooring: didn't even work properly ^^;
[2012-05-09 00:58:43 -0400] paulmooring: what was wrong with it
[2012-05-09 01:00:10 -0400] cnf: well i followed http://wiki.opscode.com/display/chef/Fast+Start+Guide, and it gives you a 403
[2012-05-09 01:00:17 -0400] cnf: you have to go into the web console
[2012-05-09 01:00:23 -0400] cnf: and change some burried permissions somewhere
[2012-05-09 01:01:21 -0400] paulmooring: any idea which step? I'd like to find it and fix it
[2012-05-09 01:01:58 -0400] cnf: paulmooring: somewhere before 9?
[2012-05-09 01:02:09 -0400] cnf: so i guess between 8 and 9
[2012-05-09 01:02:12 -0400] paulmooring: on OS X?
[2012-05-09 01:02:28 -0400] cnf: uhm, osx is the workstation
[2012-05-09 01:02:38 -0400] paulmooring: yeah that's what I meant thanks
[2012-05-09 01:02:39 -0400] cnf: the machine being controlled is a ubuntu
[2012-05-09 01:03:01 -0400] cnf: but knife should do the same thing, on any os, no?
[2012-05-09 01:03:07 -0400] paulmooring: It should
[2012-05-09 01:03:15 -0400] cnf: also, i couldn;t find how to fix it with knife
[2012-05-09 01:03:26 -0400] cnf: i had to go dig and mess with the web gui
[2012-05-09 01:03:38 -0400] paulmooring: But I haven't heard of any 403s so I'm guessing it's not a normal thing
[2012-05-09 01:04:30 -0400] cnf: i did find it on the opscode support site somewhere
[2012-05-09 01:05:28 -0400] paulmooring: I'll run through it tonight to try and track down the problem, we really do appreciate being made aware of these things
[2012-05-09 01:06:09 -0400] cnf: sure
[2012-05-09 01:06:14 -0400] cnf: i'm exhausted
[2012-05-09 01:06:20 -0400] cnf: and still confused :(
[2012-05-09 01:06:23 -0400] cnf: not a fun day
[2012-05-09 01:06:47 -0400] paulmooring: I'm on IRC for most of the day, so if you're still fighting it tomorrow feel free to ping me
[2012-05-09 01:07:01 -0400] cnf: thanks
[2012-05-09 01:10:06 -0400] cnf: how do i switch environments with knife?
[2012-05-09 01:16:10 -0400] cnf: hmm
[2012-05-09 01:16:16 -0400] cnf: aand i think i locked myself out
[2012-05-09 01:21:29 -0400] cnf: hmz, wt?
[2012-05-09 01:22:01 -0400] cnf: so i can switch envs in the web gui, and that env is what i'm using from knife?
[2012-05-09 01:28:35 -0400] cnf: right, i really seem to have messed up my ability to do stuff on chef-hosted...
[2012-05-09 01:33:03 -0400] cnf: wth? i remove permissions, and now it works??
[2012-05-09 01:36:45 -0400] cnf: i give up, i don't understand any of this
[2012-05-09 01:46:43 -0400] ssd7: cnf: The env drop down in the webui shouldn't affect knife.  When using knife you can use the -E ENVIRONMENT_NAME option for various commands
[2012-05-09 01:47:09 -0400] cnf: ssd7: it seems to me it does
[2012-05-09 01:47:19 -0400] ssd7: cnf: How so?
[2012-05-09 01:47:32 -0400] cnf: ssd7: but i'm getting permission denied left and right, and i am no longer sure what is causing it
[2012-05-09 01:47:48 -0400] cnf: don't know how to reset things either
[2012-05-09 01:48:51 -0400] ssd7: cnf: If you have time now I can try to help you fix it up.  You can also put in a ticket at help.opscode.com and one of us can take a look.
[2012-05-09 01:49:30 -0400] cnf: ssd7: i have time
[2012-05-09 01:59:19 -0400] yfeldblum: cnf, there is no API for the ACLs in hosted-chef, so knife can't control them; you can't "switch" environments with knife; the environment-"switching" in the hosted-chef webui is a visual gimmick only
[2012-05-09 02:01:31 -0400] cnf: yfeldblum: thnx, ssd7 is helping me, i'm having intermittent permission denied problems
[2012-05-09 02:32:52 -0400] jtimberman: yfeldblum: there *is* an API :)
[2012-05-09 02:33:12 -0400] jtimberman: yfeldblum: there isn't much in the way of managing the ACL/RBAC with the API through a knife plugin yet.
[2012-05-09 02:33:39 -0400] yfeldblum: jtimberman, manpage or it doesn't exist
[2012-05-09 02:34:29 -0400] jtimberman: yfeldblum: its mainly an internal API :P
[2012-05-09 02:34:44 -0400] jtimberman: I'd *love* to have a knife plugin instead of using the webui.
[2012-05-09 02:35:32 -0400] yfeldblum: jtimberman, i'm sure you have a commit bit at https://github.com/opscode/chef
[2012-05-09 02:37:55 -0400] jtimberman: yfeldblum: its not something that would go into chef, but a knife plugin
[2012-05-09 02:38:15 -0400] yfeldblum: jtimberman, who was responsible for the acronym LWRP? ... could they really not have been able to substitute another word for "weight"? perhaps a word that starts with "a"?
[2012-05-09 02:38:30 -0400] jtimberman: .... you're fired sir.
[2012-05-09 02:38:36 -0400] jtimberman: ;)
[2012-05-09 02:38:44 -0400] siezer: Light Ass Resource Provider. I like it.
[2012-05-09 02:39:01 -0400] siezer: to be contrasted with
[2012-05-09 02:39:08 -0400] yfeldblum: or even Light-Aight Resource & Provider
[2012-05-09 02:39:09 -0400] siezer: Heavy Ass Resource Providers
[2012-05-09 02:39:16 -0400] yfeldblum: heh
[2012-05-09 02:41:44 -0400] yfeldblum: jtimberman, henceforth, it shall be called "ackl/arrback"
[2012-05-09 02:44:18 -0400] yfeldblum: `knife ackl add 'client[jtimberman]'  --deny-all`
[2012-05-09 02:46:34 -0400] yfeldblum: jtimberman, any plans to add localization to nodes, roles, environments, & data bag items?
[2012-05-09 02:47:13 -0400] jtimberman: yfeldblum: hm?
[2012-05-09 02:50:23 -0400] yfeldblum: I18n.with_locale("klingon") { node["kajlsdfjakljbalksjd"] } #=> "/etc/nginx.conf"
[2012-05-09 02:56:09 -0400] jtimberman: uh, no?
[2012-05-09 02:56:14 -0400] jtimberman: like, no plans
[2012-05-09 02:56:22 -0400] jtimberman: patches welcome, etc
[2012-05-09 02:58:25 -0400] cnf: hmz
[2012-05-09 02:58:28 -0400] cnf: just my luck ^^;
[2012-05-09 02:58:42 -0400] jtimberman: cnf: sorry?
[2012-05-09 02:59:22 -0400] yfeldblum: jtimberman, no klingon-speaking enterprise customers?
[2012-05-09 02:59:24 -0400] cnf: jtimberman: oh, troubles, ssd7 was helping me for about an hour
[2012-05-09 02:59:38 -0400] cnf: jtimberman: but he had to go, so i'm now submitting the issue to support@
[2012-05-09 03:00:07 -0400] jtimberman: yfeldblum: not that i've encountered
[2012-05-09 03:00:16 -0400] jtimberman: cnf: Ah.
[2012-05-09 03:00:29 -0400] cnf: there, mail sent
[2012-05-09 03:01:01 -0400] yfeldblum: cnf, what did you try?
[2012-05-09 03:01:16 -0400] cnf: jtimberman: i'm having random and intermittent permission problems with knife upload
[2012-05-09 03:01:22 -0400] cnf: knife cookbook upload
[2012-05-09 03:02:08 -0400] yfeldblum: cnf, i mean, how did you try to resolve it?
[2012-05-09 03:02:18 -0400] cnf: uhm, i dno
[2012-05-09 03:02:25 -0400] jtimberman: cnf: its just knife cookbook upload?
[2012-05-09 03:02:30 -0400] cnf: ssd7 asked me to do stuff, and he was looking at stuff
[2012-05-09 03:02:30 -0400] jtimberman: might be intermittent issues w/ s3
[2012-05-09 03:02:38 -0400] cnf: i just did as he asked ^^/
[2012-05-09 03:03:07 -0400] cnf: jtimberman: well, i ended up with permission like this http://cl.ly/1e0H3g471X3R2r1T1l0f
[2012-05-09 03:03:19 -0400] yfeldblum: i'm pretty sure hosted-chef blocks `knife cookbook upload chef-stuxnet-cookbook`
[2012-05-09 03:03:40 -0400] jtimberman: cnf: looks like that is just the permission on the 'apt' cookbook.
[2012-05-09 03:03:52 -0400] jtimberman: yfeldblum: no
[2012-05-09 03:03:52 -0400] cnf: jtimberman: and every single cookbook i have tried
[2012-05-09 03:05:23 -0400] yfeldblum: cnf, where's your client?
[2012-05-09 03:05:31 -0400] cnf: yfeldblum: ?
[2012-05-09 03:05:38 -0400] cnf: what client?
[2012-05-09 03:06:25 -0400] yfeldblum: cnf, a "client" is the the thing you authenticate as in order to communicate with the chef-server-api
[2012-05-09 03:07:17 -0400] cnf: you mean the chef-client?
[2012-05-09 03:07:17 -0400] yfeldblum: cnf, so when you do `knife cookbook upload apt`, knife looks at your .chef/knife.rb for the client name and loads the private key file, and uses that to authenticate with the chef-server-api
[2012-05-09 03:07:29 -0400] cnf: ookay...
[2012-05-09 03:08:15 -0400] yfeldblum: cnf, you'll notice that there are two clients listed on the screenshot you linked, "lucid32" and "nullsense-validator", the latter being the client tied to the organization-wide validation key
[2012-05-09 03:08:34 -0400] cnf: sure
[2012-05-09 03:08:54 -0400] jtimberman: yfeldblum: users are not separate clients in hosted chef.
[2012-05-09 03:09:06 -0400] jtimberman: they're associated to the organization and assigned a group
[2012-05-09 03:09:21 -0400] jtimberman: they behave like API clients - still require a name and a private key
[2012-05-09 03:09:33 -0400] jtimberman: cnf: are the 403's intermittent in the same cookbook?
[2012-05-09 03:09:41 -0400] cnf: jtimberman: yep
[2012-05-09 03:09:43 -0400] jtimberman: like, if you upload 'apt' several times, does it only 403 sometimes?
[2012-05-09 03:09:55 -0400] jtimberman: sounds like a permission issue related to the S3 bucket created for your organization.
[2012-05-09 03:10:21 -0400] jtimberman: (hosted chef stores cookbooks in S3 currently
[2012-05-09 03:10:31 -0400] cnf: ok
[2012-05-09 03:10:43 -0400] jtimberman: in a private bucket only accessible when requests are signed with your user/api client private key
[2012-05-09 03:10:53 -0400] jtimberman: try, knife cookbook delete -yap apt
[2012-05-09 03:10:57 -0400] jtimberman: and upload it again.
[2012-05-09 03:11:03 -0400] cnf: jtimberman: i made a new organisation at ssd7's request
[2012-05-09 03:11:08 -0400] cnf: and tried with that
[2012-05-09 03:11:17 -0400] jtimberman: '-yap' is "yes to any prompt" "all versions" "purge all files"
[2012-05-09 03:11:29 -0400] cnf: it was fine for a few tries, and then came back
[2012-05-09 03:11:34 -0400] cnf: jtimberman: yeah, i tried purging
[2012-05-09 03:11:37 -0400] cnf: didn't help
[2012-05-09 03:13:05 -0400] jtimberman: i'm sorry
[2012-05-09 03:13:31 -0400] cnf: jtimberman: do you work for opscode?
[2012-05-09 03:13:33 -0400] jtimberman: i do
[2012-05-09 03:13:44 -0400] cnf: ah, well i made a ticket on my issue
[2012-05-09 03:14:00 -0400] yfeldblum: jtimberman, it couldn't be bad signatures or MITM could it?
[2012-05-09 03:14:09 -0400] jtimberman: i don't think so
[2012-05-09 03:14:25 -0400] cnf: jtimberman: but ssd7 said he'd look at it when he got back
[2012-05-09 03:14:59 -0400] yfeldblum: jtimberman, or weird encoding issues?
[2012-05-09 03:16:34 -0400] jtimberman: cnf: yeah, sorry I need to rest, coming down with something and need to teach tomorrow.
[2012-05-09 03:16:42 -0400] cnf: hehe, no worries
[2012-05-09 03:16:49 -0400] cnf: jtimberman: it's 5:16 am here :P
[2012-05-09 03:16:58 -0400] jtimberman: cnf: 8:15pm :)
[2012-05-09 03:17:03 -0400] cnf: :P
[2012-05-09 03:18:45 -0400] yfeldblum: jtimberman, feel better
[2012-05-09 03:58:42 -0400] msf: when using lwrp, if we want additional validation for "name", can we just overload name using attributes in the resource file ?
[2012-05-09 03:58:45 -0400] msf: ie.
[2012-05-09 03:59:53 -0400] msf: attribute :name, :regex => /^foo.*$/, :required => true, :kind_of => String
[2012-05-09 04:04:19 -0400] msf: ah
[2012-05-09 04:04:30 -0400] msf: no, I probably just need to overload initialize
[2012-05-09 05:20:18 -0400] BryanWB: ohai chefs!
[2012-05-09 05:23:46 -0400] miah: hi BryanWB
[2012-05-09 05:26:46 -0400] fafa34: hi, anyone tested chef-gelf plugin before? I would try it out: https://github.com/jellybob/chef-gelf , where should i add my graylog2 server details? what should I add into runlist ?  recipe[chef_handler] ? thx.
[2012-05-09 05:36:11 -0400] ranjibd: ohai
[2012-05-09 05:39:30 -0400] BryanWB: miah: hey
[2012-05-09 05:39:34 -0400] BryanWB: ranjibd: sup
[2012-05-09 05:39:56 -0400] BryanWB: miah: just curious, what do you use peering for w/ your haproxy instances?
[2012-05-09 05:40:04 -0400] BryanWB: i guess you are using stick tables?
[2012-05-09 05:40:42 -0400] BryanWB: your clients don't accept cookies?
[2012-05-09 05:42:08 -0400] miah: my clients have cookies
[2012-05-09 05:42:20 -0400] miah: mostly i track cookies
[2012-05-09 05:47:27 -0400] miah: i stick based on cookies, so peering keeps that consistent. if a client for some reason goes to another load balancer, it will keep that client on the same server
[2012-05-09 05:49:05 -0400] BryanWB: even if u use `cookie SRV insert indirect `
[2012-05-09 05:49:41 -0400] miah: haproxy doesn't insert any cookies. the api server itself does. haproxy just learns those cookies.
[2012-05-09 05:49:50 -0400] BryanWB: ah
[2012-05-09 05:50:07 -0400] BryanWB: so jsessionid ?
[2012-05-09 05:50:43 -0400] miah: nah. its our own cookie
[2012-05-09 05:52:47 -0400] miah: but you could look at it similarly as jsessionid
[2012-05-09 05:53:08 -0400] BryanWB: do you use halog? i am trying to see if i can use it to split the main log into individual logs by virtual_host
[2012-05-09 05:53:19 -0400] BryanWB: i.e. backend
[2012-05-09 05:53:52 -0400] miah: halog is just for analyzing the logs
[2012-05-09 05:54:28 -0400] miah: no reason to split if you can dump them into logstash
[2012-05-09 05:55:11 -0400] BryanWB: hmm, sounds smarter
[2012-05-09 06:10:01 -0400] miah: i think time for bed
[2012-05-09 06:12:58 -0400] BryanWB: laterz
[2012-05-09 06:20:54 -0400] ultimoo: How to programmatically access the chef_server_url inside of a recipe while it is executing?
[2012-05-09 06:25:28 -0400] msf: ultimoo: Chef::Config[:chef_server_url] ?
[2012-05-09 06:26:44 -0400] msf: gem install pry
[2012-05-09 06:26:55 -0400] msf: and then add this to your recipe
[2012-05-09 06:27:02 -0400] msf: require 'pry'
[2012-05-09 06:27:03 -0400] ultimoo: hey msf, that did work, thanks
[2012-05-09 06:27:03 -0400] msf: pry
[2012-05-09 06:27:11 -0400] msf: and then see what's available :-P
[2012-05-09 06:27:33 -0400] msf: :-)
[2012-05-09 06:27:42 -0400] ultimoo: ok, i'll give it a go. but for this particular case, just accessing it through the Chef::Config class works for me
[2012-05-09 06:27:51 -0400] msf: awesome :-)
[2012-05-09 06:28:14 -0400] msf: wasn't sure if that was accessible without import from inside a recipe
[2012-05-09 06:28:30 -0400] msf: err.. without require
[2012-05-09 08:41:21 -0400] cgriego: I keep seeing Merb::ControllerExceptions::Forbidden from Hosted Chef. 6 hours ago I gave up trying to upload stuff with knife because of the errors. Now knife works fine but chef-client fails with that same error.
[2012-05-09 08:43:52 -0400] cgriego: looks like someone else was seeing those same errors last night in IRC. no resolution? I checked the status site and twitter
[2012-05-09 09:20:54 -0400] nd___: What's the syntax in roles files for attributes? default_attributes(jenkins.server.home => '/home/jenkins')? Or default_attributes(jenkins[:server][:home] => '/home/jenkins/')?
[2012-05-09 09:25:23 -0400] nd___: Ok, I see it in http://tickets.opscode.com/browse/CHEF-494 thanks and sorry for bothering
[2012-05-09 10:13:18 -0400] viraptor: hi all, does anyone know why would chef save part of a default attributes tree into the node? there's default[:foo][:bar] in cookbook attributes and {"foo":{"baz":"quux"}} in role defaults, but node saves {"foo": {"baz":{}}} to normal attribs. - at no point does anything write to that tree
[2012-05-09 10:18:47 -0400] withnale: If I want to use capistrano to orchestrate chef runs is there a ruby method for doing this, or should I just spawn out to the shell to call knife/chef-client?
[2012-05-09 10:30:53 -0400] yfeldblum: BryanWB, maybe cluster the sessions instead?
[2012-05-09 10:45:38 -0400] BryanWB: yfeldblum: i think unnecessary
[2012-05-09 10:46:18 -0400] BryanWB: yfeldblum: haproxy has a sweet feature where u can a cookie based on the backend server that gets the initial request
[2012-05-09 10:46:38 -0400] BryanWB: if all my proxies have same list of backend servers, they set the same value for the cookie
[2012-05-09 10:46:50 -0400] BryanWB: so nothing to cluster, nothing to replicate
[2012-05-09 10:47:19 -0400] BryanWB: unless i end up w/ api clients that don't accept cookies, then I need some other mechanism to manage sessions.
[2012-05-09 10:49:03 -0400] BryanWB: yfeldblum: good morning btw ;) so bummed u wont' be at chefconf
[2012-05-09 10:50:20 -0400] yfeldblum: BryanWB, good morning
[2012-05-09 12:33:51 -0400] specialsauce: i'm completely perplexed.according to rubygems.org:
[2012-05-09 12:34:05 -0400] specialsauce: 1) chef has dependency net-ssh ~> 2.1.3
[2012-05-09 12:34:16 -0400] specialsauce: 2) chef has dependency net-ssh-multi ~> 1.1.0
[2012-05-09 12:34:37 -0400] specialsauce: 3) net-ssh-multi has dependency net-ssh >= 2.1.4
[2012-05-09 12:34:39 -0400] specialsauce: ...
[2012-05-09 12:34:51 -0400] specialsauce: how can I ever resolve that?
[2012-05-09 13:12:29 -0400] yfeldblum: specialsauce, net-ssh 2.1.4 will satisfy
[2012-05-09 13:16:03 -0400] specialsauce: yfeldblum: thanks, yeah i found that out by trial and error but isnt the dep listed wrong for chef? Does "~>!" allow minor version diffs?
[2012-05-09 13:16:52 -0400] yfeldblum: specialsauce, "~> 2.1.3" means ">= 2.1.3 && < 2.2"
[2012-05-09 13:17:40 -0400] yfeldblum: "~> a.b.c.x.y.z" means ">= a.b.c.x.y.z && < a.b.c.x.(y + 1)"
[2012-05-09 13:19:46 -0400] specialsauce: ah ok cool, ta
[2012-05-09 13:19:53 -0400] masterkorp: I have a recipe that uses apache_site. Do i need to add anything to the dependencies ?
[2012-05-09 13:22:14 -0400] eugenmayer: Hello, running  notifies :install, "package[openvpn]", :immediately
[2012-05-09 13:22:32 -0400] eugenmayer: i get a undefined method `action_install' for
[2012-05-09 13:22:37 -0400] railsraider: i want to copy a local file on the node from one directory to another do i need to use the rmote_file
[2012-05-09 13:22:41 -0400] eugenmayer: any ideas?
[2012-05-09 13:32:04 -0400] afallows: When using a git repo styled after the one borrowed from opscode, what needs to be in knife.rb for it to look in repo/.chef/bootstrap for bootstrap scripts?
[2012-05-09 13:39:24 -0400] eugenmayer: could it be thtat notifies :run, "execute[reconfigure]", :immediately actually runs AN execute which ahs this namenot specificly int he current reciepe?
[2012-05-09 13:42:06 -0400] eugenmayer: holy.thats i crucial :/
[2012-05-09 13:43:16 -0400] eugenmayer: means, i have a cookbook A and cookbook B both defining execute "foo" with different commands. Now, coobook A runs before B and cookbook by tries to notify:run "execute[foo]" it runs the command of A not B
[2012-05-09 13:43:34 -0400] hcastro: afallows: knife[:distro] https://gist.github.com/1718805
[2012-05-09 13:43:35 -0400] zts: eugenmayer: yes, resource names are global
[2012-05-09 13:43:37 -0400] eugenmayer: iam sure, that cant be desired, or rather, my "notify" call is wrong / not respecting namespace / wrong notations
[2012-05-09 13:43:59 -0400] eugenmayer: zts: not really, or? That makes absolutely no sense and is doomed to fail.
[2012-05-09 13:44:23 -0400] eugenmayer: zts: who is allowed to actually define an execute ressrouce called "install-package" then?
[2012-05-09 13:44:37 -0400] eugenmayer: cookbook zts or cookbooko eugenmayer?
[2012-05-09 13:44:46 -0400] eugenmayer: And who "knows" which are already defined..
[2012-05-09 13:44:48 -0400] gotime: hey guys, I am new to chef, I basically understand how chef works, it installs and configurs applications for you, but what is the suggested method to get the system from nothing to minimal install ?
[2012-05-09 13:44:53 -0400] zts: eugenmayer: both.  So choose useful resource names instead of ambiguous ones like that
[2012-05-09 13:45:05 -0400] eugenmayer: zts: oh goodness...
[2012-05-09 13:45:09 -0400] afallows: hcastro: Thanks for that refernce, but :distro isn't actually what I was looking for. What I want is to make sure chef knows where my bootstrap scripts are, not set a default (although setting a default is also good).
[2012-05-09 13:45:13 -0400] zts: eugenmayer: that behaviour is a feature for some resources (eg, Template), and a bit of a misfeature for others (like Execute)
[2012-05-09 13:45:28 -0400] zts: eugenmayer: so yes, you do have to be careful with the names you choose for things
[2012-05-09 13:45:37 -0400] eugenmayer: zts: sorry, that is no answer..using exectute "this_is_my_reciepe_namespace_prefix_AND_THATS_THE_THING_I_WANT_TO_DO"
[2012-05-09 13:45:57 -0400] hcastro: afallows: i believe it looks in that directory automatically -- are you trying to make it look somewhere else?
[2012-05-09 13:45:57 -0400] yfeldblum: eugenmayer, but that is the answer
[2012-05-09 13:46:00 -0400] eugenmayer: Wow, thats def. the first absolut "nogo" i found in chef, beside the "mash bug"
[2012-05-09 13:46:09 -0400] eugenmayer: yfeldblum: jap, i have to deal with it :)
[2012-05-09 13:46:24 -0400] zts: eugenmayer: gee, thanks for pointing that out.  All this time I thought that Chef was working really well for me, but it turns out that actually it's fatally flawed and I can't use it now
[2012-05-09 13:46:37 -0400] eugenmayer: yfeldblum: zts thanks for the hints! thats should be in red/purple/black with a deathhead in the docs..
[2012-05-09 13:46:38 -0400] zts: ...I probably shouldn't be on IRC today
[2012-05-09 13:46:41 -0400] hcastro: zts: back to the drawing board
[2012-05-09 13:46:56 -0400] yfeldblum: zts, may i recommend a collection of bash scripts instead?
[2012-05-09 13:47:09 -0400] gotime: how is it suggested to get a system installed before chef-client is installed?
[2012-05-09 13:47:17 -0400] zts: yfeldblum:)
[2012-05-09 13:47:20 -0400] afallows: hcastro: I'm trying to make it look in chef-repo/.chef/bootstrap, and I was asking what I need to make it do that.
[2012-05-09 13:47:40 -0400] afallows: I assume I need to provide a path to a repo, is that different from cookbook_path?
[2012-05-09 13:48:22 -0400] eugenmayer: zts: yfeldblum: i dont think you want to end up like this : http://pastie.org/3884339
[2012-05-09 13:48:25 -0400] gotime: any suggestions?
[2012-05-09 13:48:43 -0400] hcastro: afallows: according to this, it already looks in there by default: http://wiki.opscode.com/display/chef/Custom+Knife+Bootstrap+Script
[2012-05-09 13:48:46 -0400] UForgotten: good morning all.  I'm trying to find examples of how you can branch a recipe into doing different operations based on the os/platform
[2012-05-09 13:49:14 -0400] yfeldblum: gotime, by installing ruby, rubygems, the gems ohai & chef, creating a file /etc/chef/client.rb, creating a file /etc/chef/first-boot.json, copying the validation key, and running chef-client -j /etc/chef/first-boot.json
[2012-05-09 13:49:19 -0400] yfeldblum: gotime, or by using `knife bootstrap`
[2012-05-09 13:49:27 -0400] UForgotten: can you wrap multiple operations? it will get ugly if I have to use the unless/if stuff
[2012-05-09 13:49:34 -0400] eugenmayer: zts: yfeldblum we have this "method prefixing" in drupal due to the lack of namespaces in PHP in 4 .. and never still not used in 5.3..but as ruby got those, i find that pretty bad..as this actually lets you start to do hacks arround that. And for now, i found chef very intuitive and non-hack :/
[2012-05-09 13:50:06 -0400] gotime: yfeldblum, so us using something like kickstart still suggested to get the system up to a level where chef can start working?
[2012-05-09 13:51:09 -0400] railsraider: anyone knows a good users cookbook?
[2012-05-09 13:51:12 -0400] UForgotten: for example one recipe I want to say (pseudocode) install package, then if centos5 then:  1) template1 2) file1. if centos6 then: 2) template2 3)file2
[2012-05-09 13:51:31 -0400] afallows: hcastro: Ah, okay - it looks like it does check there by default, but you have to be in chef-repo when you run knife. I had thought it acted globally.
[2012-05-09 13:51:33 -0400] yfeldblum: gotime, yes, you can do it by hand, you can use `knife bootstrap` which comes with knife, and you can use other automation & orchestration tools to get chef installed & configured, and then chef can take care of the rest of the system configuration
[2012-05-09 13:53:30 -0400] BryanWB: gotime: i use kickstart , after that knife bootstrap
[2012-05-09 13:53:41 -0400] hcastro: gotime: kickstart and preseeding are fair game -- i've used both for machines in an on-premise data center
[2012-05-09 13:54:54 -0400] eugenmayer: gotime: basically all you need is the public key of chef on the client, then bootstrapping it with knife / and or deploy a json "first-boot" configuration before, or use the UI to configure the roles after the bootstrap
[2012-05-09 13:54:56 -0400] yfeldblum: gotime, you can also look into the chef-full installer, which installs ruby, rubygems, ohai, and chef for you
[2012-05-09 13:54:57 -0400] gotime: BryanWB. thanks <BryanWB> that is what I was trying to figure out, it was not excatly clear if chef could replace kickstart or now
[2012-05-09 13:55:37 -0400] BryanWB: but it's bettter if u have a knife plugin for your environment, then u can skip kickstart
[2012-05-09 13:55:54 -0400] BryanWB: gotime: like knife-ec2, knife-rackspace, knife-vsphere
[2012-05-09 13:55:56 -0400] eugenmayer: gotime: i think, chef cant basically do anything "before network is up". So here you rather will stick with preseed as metioned
[2012-05-09 13:56:28 -0400] eugenmayer: !knife-vsphere
[2012-05-09 13:56:29 -0400] yfeldblum: eugenmayer, this is likely a problem only with `execute`-style resources, which you should try to avoid anyway if you can, and not really a problem with `cookbook_file`, `template`, `package`, `service`, etc
[2012-05-09 13:56:48 -0400] gotime: I have not heard of "preseed" before
[2012-05-09 13:57:08 -0400] eugenmayer: yfeldblum: jap, the others are pretty save, as unique by the "key name"but execute is a horror here and you need it from time to time...
[2012-05-09 13:57:42 -0400] eugenmayer: yfeldblum: dont get me wrong, iam just wondering that it is not a "local first, then global" concept - it would make sense for any kind of ressrouces.
[2012-05-09 13:58:14 -0400] eugenmayer: yfeldblum: sure, i can deal with all of my reciepes, but i cant garantuee any "collusions" with "public" reciepes.
[2012-05-09 13:58:30 -0400] gotime: hcastro, thanks, that is what I thought in m 30 seconds of searching but I just wanted to make sure
[2012-05-09 13:58:41 -0400] eugenmayer: gotime: after the server is up, you can also preseed with chef, its build in support for it
[2012-05-09 13:59:00 -0400] yfeldblum: eugenmayer, the resources on your machine are global; the run-context's resource-collection tries to model the already-global resources on your machine
[2012-05-09 13:59:45 -0400] eugenmayer: yfeldblum: oops. Sorry, didnt undstand, you are far ahead with those chef-internals, sorry :/
[2012-05-09 14:01:09 -0400] yfeldblum: eugenmayer, every resource you declare in your recipe is intended to be a representation of some actual thing on your server; e.g., the resource `template "/etc/nginx.conf"` is intended to be a representation of the actual file on the actual server named `/etc/nginx.conf`
[2012-05-09 14:01:26 -0400] eugenmayer: sure, got that
[2012-05-09 14:01:58 -0400] yfeldblum: eugenmayer, files are global; packages are global; services are global; therefore, file resources in chef are global, package resources in chef are global, and service resources in chef are global
[2012-05-09 14:02:18 -0400] gotime: if I use somehting like knife-ec2 then can chef take care of installing the base os or do I still need to set up the base os by hand?
[2012-05-09 14:02:42 -0400] yfeldblum: eugenmayer, you're supposed to name your resources  in your recipes with the understanding that they reflect global things globally available on the server
[2012-05-09 14:03:09 -0400] eugenmayer: yfeldblum: yes, with background informations, its clear what the names should look like
[2012-05-09 14:03:23 -0400] eugenmayer: but i simply dont like using "stupid contextless names"...
[2012-05-09 14:03:38 -0400] eugenmayer: i dont want to name my "do that command" in the "icinga" reciepe
[2012-05-09 14:03:42 -0400] eugenmayer: "do that for icinga"
[2012-05-09 14:03:53 -0400] UForgotten: anyone using ruby to have two code paths in a single recipe based on an attribute?
[2012-05-09 14:04:32 -0400] yfeldblum: eugenmayer, well, then you're going to be fighting with the way chef is designed to work ... sorry ...
[2012-05-09 14:04:36 -0400] eugenmayer: it should be, by default, clear, what the context is. Yes, i undestand, there needs to be a global context and it makes sense and is usefull, but that kind of drawback is just bad by design. yfeldblum
[2012-05-09 14:04:53 -0400] eugenmayer: yfeldblum: no, i will stick with your advice and follow it
[2012-05-09 14:05:06 -0400] eugenmayer: yfeldblum: that does not mean, i must like it :)
[2012-05-09 14:05:11 -0400] yfeldblum: eugenmayer, path of least resistance :P
[2012-05-09 14:05:23 -0400] eugenmayer: the other path is "code" .. :)
[2012-05-09 14:06:57 -0400] yfeldblum: eugenmayer, recipes should contain less code and more resources; your complex code can go into providers instead of being in the recipe; providers have a protected method named `recipe_eval` that creates a new recipe sub-scope where resources declared in the sub-scope cannot conflict with resources declared in the main scope
[2012-05-09 14:07:22 -0400] yfeldblum: UForgotten, all the time
[2012-05-09 14:07:28 -0400] eugenmayer: yeah, maybe my "approach" with reciepes is wrong and thats why i run into that kind of issues
[2012-05-09 14:08:09 -0400] eugenmayer: yfeldblum: well, iam here to learn, for know, i find that pretty suboptimal but i did work with own LWRP or providers yet
[2012-05-09 14:08:13 -0400] UForgotten: yfeldblum, can you show me some examples similar to this: in one recipe file I want to say (pseudocode) install a package, then if centos5 then:  1) template1 2) file1, etc but if centos6 then: 2) template2 3)file2 but I would not like to use the only_if/not_if/etc - would like to run multiple actions based on a single if, can we do that?
[2012-05-09 14:09:29 -0400] UForgotten: cleaner/easier to read if we can branch the platform one time in one recipe instead of having two different recipes one for each platform
[2012-05-09 14:10:53 -0400] yfeldblum: UForgotten, http://wiki.opscode.com/display/chef/Recipes#Recipes-OtherRecipeDSLMethods
[2012-05-09 14:11:57 -0400] UForgotten: yfeldblum: this is helpful. thank you
[2012-05-09 14:12:27 -0400] yfeldblum: UForgotten, only use only_if/not_if when the thing you need to check isn't available yet during the compile phase, but is only available for checking during the convergence phase
[2012-05-09 14:13:06 -0400] yfeldblum: UForgotten, if you can check something reliably during the compile phase, do it then, in normal ruby if/unless, and not in only_if/not_if
[2012-05-09 14:13:32 -0400] UForgotten: yfeldblum: I guess I don't fully grok what is available in what phase yet :(
[2012-05-09 14:13:46 -0400] UForgotten: are ohai attributes available immediately/first?
[2012-05-09 14:13:59 -0400] yfeldblum: UForgotten, yes
[2012-05-09 14:14:44 -0400] yfeldblum: UForgotten, when your recipes run, the declare resources (but don't run them) and enqueue resource actions to be run later
[2012-05-09 14:15:02 -0400] yfeldblum: UForgotten, when all of the recipes have completed running, chef then looks at the resource actions you have enqueued, and runs them
[2012-05-09 14:16:13 -0400] UForgotten: so in what case would you want to use only_if/not_if?  I really need to get my head wrapped around.  I somewhat know how it works in puppet but chef feels different, mainly the syntax I think is what's throwing me.
[2012-05-09 14:21:42 -0400] specialsauce: i have a jenkins pipeline now of Ruby syntax check -> knife syntax check -> foodcritic checks. Anyone else using jenkins pipeline or similar and doing aything exciting with to test chef recipes?
[2012-05-09 14:23:31 -0400] backwacking: hey there. I have a chef server up and running and a client that is successfully launching ec2 instances with my recipes. I am confused about the data bag part of this. On my server I can see my data bags but on the client I can not. When I query for data bag info from the client does it reach out to the server for that info? Feels like a dumb question....
[2012-05-09 14:25:20 -0400] eherot: backwacking: it does
[2012-05-09 14:25:41 -0400] eherot: it does an http API request for them
[2012-05-09 14:26:20 -0400] backwacking: yeah thats what i thought. so something is wrong then. cause my 'knife data bag list' returns nothing.
[2012-05-09 14:26:39 -0400] eherot: it sounds like none of your data bags have been uploaded to the server
[2012-05-09 14:27:35 -0400] backwacking: let me poke around a bit more. Thanks!
[2012-05-09 14:28:53 -0400] eherot: what do you mean when you say you can see data bags on the server?  It sounds like they are not being stored in CouchDB if you cannot see them with knife data bag list
[2012-05-09 14:29:14 -0400] backwacking: if i run knife data bag list on the server they show up
[2012-05-09 14:29:21 -0400] backwacking: if i run the same from the client i see nothing
[2012-05-09 14:29:49 -0400] eherot: are you sure you're both talking to the same API endpoint (and both reaching it?)
[2012-05-09 14:30:09 -0400] backwacking: apparently i am not sure :).
[2012-05-09 14:30:19 -0400] eherot: the same "chef_server_url" in the config file, that is
[2012-05-09 14:30:29 -0400] backwacking: yes they are the same
[2012-05-09 14:31:41 -0400] jeekl: http://hastebin.com/punaqowisa.vbs why is a simple user block using usermod here? It wont create the user, just try to modify it... The same code works in a vagrant.
[2012-05-09 14:33:31 -0400] backwacking: eherot thanks for your help. i will dig around and see what I can find.
[2012-05-09 14:33:37 -0400] eherot: np
[2012-05-09 14:33:46 -0400] eherot: jeekl: sounds like it thinks the user already exists
[2012-05-09 14:35:05 -0400] eherot: pretty sure error code 6 means "user does not exist"
[2012-05-09 14:35:37 -0400] jeekl: eherot: Yesm exactly, if I try running that usermod line it gives me usermod: user 'kred' does not exist in /etc/passwd
[2012-05-09 14:35:49 -0400] jeekl: So, why won't it create the user?
[2012-05-09 14:37:26 -0400] eherot: jeekl: let me see if I can figure out how it checks
[2012-05-09 14:37:40 -0400] eherot: running chef-client with -l debug might show you the command it's using to check
[2012-05-09 14:40:47 -0400] jeekl: eherot: adding debug dosen't really tell me anything new http://hastebin.com/yijowesafo.parser3 :-/
[2012-05-09 14:41:21 -0400] eherot: it uses the ruby method Etc.getpwnam(USER)
[2012-05-09 14:41:26 -0400] eherot: wonder what that one does
[2012-05-09 14:42:13 -0400] eherot: actually, what do you get if you run this on your server:
[2012-05-09 14:42:13 -0400] eherot: ruby -retc -e'p Etc.getpwnam("eherot")'
[2012-05-09 14:42:17 -0400] eherot: err
[2012-05-09 14:42:26 -0400] eherot: instead of eherot, you'd want kred, obviously ;-)
[2012-05-09 14:43:01 -0400] jeekl: Aha!
[2012-05-09 14:43:10 -0400] jeekl: I get a hit!
[2012-05-09 14:43:19 -0400] jeekl: but the user is not in /etc/passwd
[2012-05-09 14:44:02 -0400] jeekl: hm, curiouser and curiouser...
[2012-05-09 14:44:39 -0400] eherot: this machine doesn't have some alternate form of user directory does it?
[2012-05-09 14:45:37 -0400] jeekl: yeah, ldap, but there's no kred user in ldap...
[2012-05-09 14:46:33 -0400] eherot: you sure?  what happens when you try to add it manually?
[2012-05-09 14:48:15 -0400] hoover_damn: sounds like nsswitch isn't configured correctly
[2012-05-09 14:48:25 -0400] hoover_damn: getpwnam should use the appropriate path to determine it
[2012-05-09 14:55:02 -0400] hippiehacker: $ bundle exec librarian-chef install
[2012-05-09 14:55:02 -0400] hippiehacker: Cheffile and Cheffile.lock are out of sync!
[2012-05-09 14:55:13 -0400] hippiehacker: that one puzzles me
[2012-05-09 15:08:10 -0400] yfeldblum: hippiehacker, deets?
[2012-05-09 15:08:51 -0400] hippiehacker: what is deets?
[2012-05-09 15:09:17 -0400] hippiehacker: I did a librarian-chef clean
[2012-05-09 15:09:26 -0400] yfeldblum: hippiehacker, details
[2012-05-09 15:09:56 -0400] hippiehacker: lemme clean up my Cheffile
[2012-05-09 15:09:59 -0400] hippiehacker: and post
[2012-05-09 15:11:15 -0400] hippiehacker: https://gist.github.com/2645319
[2012-05-09 15:11:25 -0400] jeekl: eherot, hoover_damn: Sorry had to run away for a bit. Yes, someone apparently added a kred user to ldap... That's the problem. Of course chef can't add it, since it's already tehre, and of course usermod can't mod it...
[2012-05-09 15:12:07 -0400] yfeldblum: hippiehacker, what version of librarian?
[2012-05-09 15:12:25 -0400] jeekl: so thanks, now I just need to hunt down whoever created this mess. :-)b
[2012-05-09 15:12:51 -0400] eherot: jeekl: in our system we just forbid chef from managing users on systems where ldap is in use
[2012-05-09 15:12:56 -0400] yfeldblum: hippiehacker, bundle exec librarian-chef version
[2012-05-09 15:12:59 -0400] eherot: they don't play well together :-)
[2012-05-09 15:13:32 -0400] hippiehacker: librarian-0.0.20
[2012-05-09 15:13:42 -0400] hippiehacker: current master from applicationonline
[2012-05-09 15:13:47 -0400] jeekl: eherot: Not a bad idea actually... How do you do that?
[2012-05-09 15:15:30 -0400] yfeldblum: hippiehacker, any output with --verbose ?
[2012-05-09 15:30:16 -0400] railsraider: trying to run the opscode users cookbook but on vagrant machine it fails because its searching for the cookbook on localhost:4000
[2012-05-09 15:30:25 -0400] railsraider: sorry for the databag[users[
[2012-05-09 15:30:30 -0400] gotime: join #bostonrb
[2012-05-09 15:30:52 -0400] railsraider: where do i define the chef server address , its in knife.rb already
[2012-05-09 15:31:55 -0400] railsraider: should it be in solo.rb?
[2012-05-09 15:34:20 -0400] hippiehacker: https://gist.github.com/2645319#file_log+output
[2012-05-09 15:40:42 -0400] yfeldblum: hippiehacker, huh ... so ... that shouldn't be happening ...
[2012-05-09 15:40:51 -0400] hippiehacker: heh, yea
[2012-05-09 15:41:00 -0400] hippiehacker: it's the webpi cookbook
[2012-05-09 15:41:04 -0400] hippiehacker: if I comment it out
[2012-05-09 15:41:05 -0400] hippiehacker: no erro
[2012-05-09 15:41:37 -0400] hippiehacker: going to try the official cookbook via git
[2012-05-09 15:42:50 -0400] hippiehacker: using    :git => 'https://github.com/opscode-cookbooks/webpi.git' fails too
[2012-05-09 15:44:31 -0400] hippiehacker: using cookbook 'webpi' with no params works, but I need to use a fork, using :path=>'/git/checkout/webpi' fails too
[2012-05-09 15:44:32 -0400] gale: What's involved in switching a node's chef server? Presuming all the cookbooks, roles etc are available on the new server?
[2012-05-09 15:45:11 -0400] atomic-penguin: gale, change the chef_server_url
[2012-05-09 15:46:47 -0400] atomic-penguin: gale, assuming you are managing that with the chef-client cookbook, change the node["chef_client"]["server_url"] attribute on that node
[2012-05-09 15:46:51 -0400] yfeldblum: hippiehacker, `:branch =>` is not recognized; use `:ref =>` instead
[2012-05-09 15:47:09 -0400] yfeldblum: hippiehacker, `:ref =>` covers branches, tags, and SHAs
[2012-05-09 15:47:28 -0400] hippiehacker: ahh, thanks
[2012-05-09 15:48:42 -0400] gale: atomic-penguin, presumably update the .pem file if required?
[2012-05-09 15:48:57 -0400] phantasm66: does the cookbook_file resource action "create_if_missing" handle the contents of the file? (example: if the file is already there... do nothing... if it is not there use our resource file... and if subsequently modified locally on the node, do not overwrite in in subsequent chef-client runs) ??
[2012-05-09 15:48:59 -0400] hippiehacker: is there a way to stop librarian-chef from making outbound connections when used from knife?
[2012-05-09 15:49:25 -0400] atomic-penguin: gale, depends if you get the client key over on to the other server or not
[2012-05-09 15:50:02 -0400] gale: atomic-penguin, of course it's just the public key on the server so can just copy that over - thanks
[2012-05-09 15:50:06 -0400] yfeldblum: hippiehacker, no, but that would be useful; open an issue at https://github.com/applicationsonline/librarian/issues
[2012-05-09 15:52:24 -0400] hippiehacker: I don't think the :ref is the issue
[2012-05-09 15:53:02 -0400] hippiehacker: as using it with or without :ref doesn't seem to have an affect (and it doesn't work when I avoid :git and use :path only
[2012-05-09 15:53:45 -0400] hippiehacker: maybe it's something librarian doesn't like about webpi repo
[2012-05-09 15:54:07 -0400] yfeldblum: hippiehacker, sure, but in general, librarian's git source doesn't recognize the `:branch` option; it only recognizes the `:ref` and `:path` options
[2012-05-09 15:54:31 -0400] hippiehacker: yes yes, that's good to know
[2012-05-09 15:57:44 -0400] yfeldblum: hippiehacker, i'm not sure what it is ... can you open an issue on this as well (and link to the gist)?
[2012-05-09 15:57:44 -0400] hippiehacker: Cheffile: cookbook 'webpi' #it was in there twice
[2012-05-09 15:57:54 -0400] hippiehacker: line:8 is the gist
[2012-05-09 15:58:12 -0400] yfeldblum: hippiehacker, hmm
[2012-05-09 15:59:01 -0400] yfeldblum: hippiehacker, did removing line 8 fix it?
[2012-05-09 15:59:04 -0400] hippiehacker: yes
[2012-05-09 15:59:13 -0400] hippiehacker: That's my bad, but maybe the dependency tree should break gracefully if the same cookbook is specified from multiple source (as I errantly did)
[2012-05-09 16:00:06 -0400] yfeldblum: hippiehacker, it should, which is why feedback from the field is really helpful
[2012-05-09 16:00:17 -0400] hippiehacker: hehe
[2012-05-09 16:00:20 -0400] hippiehacker: I'll open a ticket
[2012-05-09 16:00:22 -0400] hippiehacker: thanks yfeldblum
[2012-05-09 16:01:25 -0400] yfeldblum: hippiehacker, way ahead of you
[2012-05-09 16:03:43 -0400] hippiehacker: https://github.com/applicationsonline/librarian/issues/67
[2012-05-09 16:04:28 -0400] yfeldblum: hippiehacker, thank you
[2012-05-09 16:05:12 -0400] hippiehacker: Thanks for librarian 8)
[2012-05-09 16:06:13 -0400] yfeldblum: hippiehacker, #65 & #66 should cover the issue you were running into
[2012-05-09 16:07:03 -0400] hippiehacker: cool beans
[2012-05-09 16:26:49 -0400] gp5st: hello. i'm having problems with bootstrapping a windows machine.  I run knife bootstrap windows winrm &c and it goes through, runs the bootstrap script, but just exits at some seemily random point in the script with no error message.
[2012-05-09 16:32:06 -0400] hippiehacker: gp5st: I've seen that... put your command line and the bootstrap message into a gist
[2012-05-09 16:32:39 -0400] shuvo: cnf, you there?
[2012-05-09 16:33:03 -0400] gp5st: i can, hippiehacker, it's not terribly exciting though
[2012-05-09 16:33:21 -0400] hippiehacker: gp5st: do you know which template/distro you are using?
[2012-05-09 16:33:34 -0400] gp5st: windows and the msi installer one
[2012-05-09 16:33:43 -0400] gp5st: (not by choice)
[2012-05-09 16:33:45 -0400] hippiehacker: the default?
[2012-05-09 16:33:45 -0400] bawt_: the default is basic file or to start one application server for the webUI
[2012-05-09 16:34:36 -0400] shuvo: 42?
[2012-05-09 16:34:47 -0400] LinuxHorn: any eta on the 403 forbidden errors on cookbooks?
[2012-05-09 16:34:56 -0400] LinuxHorn: eta on it being fixed i meanz
[2012-05-09 16:35:05 -0400] LinuxHorn: status.opscode.com
[2012-05-09 16:35:57 -0400] c_t: huh
[2012-05-09 16:36:07 -0400] c_t: my lambada cookbook strangely remains available
[2012-05-09 16:36:52 -0400] LinuxHorn: it happens only on some of my cookbooks
[2012-05-09 16:37:45 -0400] c_t: but if any cookbook should be forbidden, it should be Lambada, the Forbidden Cookbook
[2012-05-09 16:38:02 -0400] gp5st: https://gist.github.com/c89e01c8ef0a7c46927c hippiehacker
[2012-05-09 16:38:17 -0400] LinuxHorn: heh
[2012-05-09 16:39:01 -0400] hippiehacker: gp5st: what version of chef?
[2012-05-09 16:39:10 -0400] gp5st: 0.10.8
[2012-05-09 16:39:11 -0400] hippiehacker: (where you run knife)
[2012-05-09 16:39:21 -0400] yfeldblum: cnf, yesterday wasn't your day
[2012-05-09 16:39:47 -0400] LinuxHorn: seems fixed now
[2012-05-09 16:40:12 -0400] gp5st: hippiehacker: it's 0.10.8 on both client, knife client, and server
[2012-05-09 16:40:37 -0400] hippiehacker: https://github.com/opscode/knife-windows/blob/master/lib/chef/knife/bootstrap/windows-chef-client-msi.erb is the distro/template you are using
[2012-05-09 16:41:07 -0400] gp5st: hippiehacker: yes
[2012-05-09 16:42:20 -0400] hippiehacker: gp5st: check and see if the client.rb and first-boot.json got created
[2012-05-09 16:42:27 -0400] gp5st: no, they do not
[2012-05-09 16:42:35 -0400] hippiehacker: probably not
[2012-05-09 16:43:15 -0400] hippiehacker: gp5st: I'm not sure what the issue is... what version of windows?
[2012-05-09 16:43:46 -0400] gp5st: 2008 rc2 datacenter edition
[2012-05-09 16:43:55 -0400] yfeldblum: what tools do people like to use to set up a highly-available tls-terminating load-balancer?
[2012-05-09 16:43:57 -0400] gp5st: at least that's what it was called in the ami
[2012-05-09 16:44:25 -0400] gp5st: yfeldblum: i don't know if this is the place for it. look into nginx or haproxy + stud (or stunnel)
[2012-05-09 16:45:10 -0400] Brad_K: yfeldblum: in that space, i really like nginx.
[2012-05-09 16:45:21 -0400] yfeldblum: rather, what tools do people like to use to make things like tls-terminating load-balancers highly-available?
[2012-05-09 16:45:35 -0400] yfeldblum: asking about the HA part
[2012-05-09 16:45:47 -0400] yfeldblum: not the LB/TLS part
[2012-05-09 16:45:59 -0400] yfeldblum: sorry for the disclarity
[2012-05-09 16:46:02 -0400] gp5st: nagios failover scripts and multiple LBs
[2012-05-09 16:46:37 -0400] Brad_K: we're looking at php+memcached to handle the session state, so that if a front-end nginx ssl load balancer goes away, then you can just fail that connection over to another machine.
[2012-05-09 16:46:49 -0400] gp5st: if i could get an error back from this windows bootstrap script i could at least attempt to deal with this:-\
[2012-05-09 16:47:36 -0400] gp5st: cd c:\
[2012-05-09 16:47:53 -0400] gp5st: sorry, wrong tell
[2012-05-09 16:48:34 -0400] Brad_K: it doesn't make sense to put load balancers in front of your load balancers.  so, if you can't keep that session state somewhere like memcached (where it can be accessed by multiple machines), then don't do SSL termination in the load balancer and instead let that go through to the back-end.
[2012-05-09 16:48:55 -0400] yfeldblum: anybody use linux-ha (heartbeat + pacemaker)?
[2012-05-09 16:49:11 -0400] Brad_K: not here.
[2012-05-09 16:49:19 -0400] yfeldblum: Brad_K, sessions are not an issue
[2012-05-09 16:49:29 -0400] eherot: yfeldblum: we do
[2012-05-09 16:49:47 -0400] gp5st: hippiehacker: any advice or guidance on where to go from here?
[2012-05-09 16:49:48 -0400] hoover_damn: yfeldblum, apache
[2012-05-09 16:50:00 -0400] hoover_damn: yfeldblum, the best highly-available tls-terminating load balancer is apache
[2012-05-09 16:50:14 -0400] hoover_damn: stud has memory issues
[2012-05-09 16:50:19 -0400] hoover_damn: stunnel is horrible
[2012-05-09 16:50:33 -0400] gp5st: i havn't yet encountered memory issues in stud
[2012-05-09 16:50:44 -0400] gp5st: stunnel doesn't scale very well
[2012-05-09 16:50:49 -0400] hoover_damn: stud leaks like a siv
[2012-05-09 16:51:06 -0400] hoover_damn: it might be better then a siv now but it was still pretty bad last i looked
[2012-05-09 16:51:07 -0400] yfeldblum: eherot, any words of wisdom? anything you can tell me about the order of magnitude of the learning curve & configuration complexity?
[2012-05-09 16:51:09 -0400] gp5st: have you tried newer builds? i havn't encountered any leaks like that
[2012-05-09 16:51:11 -0400] hoover_damn: and the peformance of stud degraded over time
[2012-05-09 16:51:11 -0400] Brad_K: yfeldblum: if sessions aren't an issue, then i don't know that i would worry about a separate specific solution for HA  we'd just list multiple IPs and let the client deal with it.
[2012-05-09 16:51:15 -0400] hoover_damn: which was key
[2012-05-09 16:51:16 -0400] gp5st: i've been using it for a few months now
[2012-05-09 16:51:29 -0400] hoover_damn: right you didn't have enough usage likely
[2012-05-09 16:51:35 -0400] hoover_damn: I had stud take down a box the other week
[2012-05-09 16:51:53 -0400] eherot: yfeldblum: it's a pain in the butt and prone to errors but it works usually.  It depends what methodology you're using for failover
[2012-05-09 16:51:59 -0400] Brad_K: apache doesn't scale.  lighttpd isn't too bad, but nginx screams.  and haproxy doesn't do SSL termination.
[2012-05-09 16:52:02 -0400] gp5st: we got some pretty heavy usage, so i wouldn't say it's a siv
[2012-05-09 16:52:07 -0400] hoover_damn: apache does scale Brad_K
[2012-05-09 16:52:15 -0400] eherot: we're in EC2 and fail over by grabbing elastic IPs from the broken machine to the working one
[2012-05-09 16:52:17 -0400] hoover_damn: I say so, crucally says so
[2012-05-09 16:52:25 -0400] hoover_damn: most people who don't know how to scale apache, are not configuring it right.
[2012-05-09 16:52:26 -0400] eherot: it's impossible to cause a conflict so that part's nice
[2012-05-09 16:52:26 -0400] yfeldblum: eherot, most likely, shared/floating ipaddr like on ec2?
[2012-05-09 16:52:36 -0400] hoover_damn: it's okay Brad_K to admit that Apache is better for SSL Terminating then nginx
[2012-05-09 16:52:39 -0400] hoover_damn: Brad_K, it's 100% true
[2012-05-09 16:52:48 -0400] eherot: the failover is slow but it's pretty fail safe
[2012-05-09 16:53:04 -0400] yfeldblum: hoover_damn, does apache stream all requests & all responses to its backends?
[2012-05-09 16:53:24 -0400] gp5st: we're planning on using route53 and just adjusting the dns and eating the few minutes of ttl
[2012-05-09 16:53:24 -0400] yfeldblum: hoover_damn, or at least all responses?
[2012-05-09 16:53:27 -0400] UForgotten: Has the apache vs nginx debate reached vi vs emacs epicness yet?
[2012-05-09 16:53:54 -0400] Brad_K: the apache multithreaded stuff doesn't work, and the per-process model doesn't scale to handle the C10k problem.
[2012-05-09 16:54:20 -0400] hoover_damn: yfeldblum, don't use proxypreservehost
[2012-05-09 16:54:22 -0400] hoover_damn: and yeah
[2012-05-09 16:54:45 -0400] Brad_K: I worked at AOL, i know what kind of shenanigans they went through to try to get apache to scale.  in the end, they just threw thousands and thousands of web servers at it.
[2012-05-09 16:54:56 -0400] hoover_damn: working at AOL doesn't count today brad
[2012-05-09 16:54:58 -0400] hoover_damn: it's okay
[2012-05-09 16:55:05 -0400] flashmanbahadur: so much hate
[2012-05-09 16:55:26 -0400] gp5st: can this be taken to an HA channel?
[2012-05-09 16:55:28 -0400] Brad_K: the critical problems that apache has have not been fixed since the days I worked at AOL.
[2012-05-09 16:55:36 -0400] yfeldblum: hoover_damn, while streaming everything (or all responses), can apache do layer-7 host-header routing? can it add forward-for/forward-port/forward-scheme headers?
[2012-05-09 16:55:48 -0400] specialsauce: yeah i think no more about apache in #chef pls
[2012-05-09 16:55:56 -0400] hoover_damn: yfeldblum, layer 7 insertion is beyond apache
[2012-05-09 16:56:18 -0400] hoover_damn: yfeldblum, at least imo
[2012-05-09 16:56:25 -0400] hoover_damn: yfeldblum, that's generally done by hardware or iptables
[2012-05-09 16:56:42 -0400] hoover_damn: yfeldblum, but we are speaking termination here so you want x-forwarded-for and forwarded-port and scheme
[2012-05-09 16:56:48 -0400] hoover_damn: yfeldblum, and apache can give those yessir
[2012-05-09 16:57:02 -0400] yfeldblum: hoover_damn, that's layer-7 ...
[2012-05-09 16:57:08 -0400] gp5st: soooo, anyone else having bootstrap issues on windows?
[2012-05-09 16:57:27 -0400] hoover_damn: yfeldblum, inserting it into the packet is layer 7...
[2012-05-09 16:57:28 -0400] afallows: With knife-ec2, is it possible to supply arguments like these ssh args: -o UserKnownHostsFile=/dev/null -o StrictHostKeyChecking=no ?
[2012-05-09 16:57:30 -0400] specialsauce: yeah i think no more about apache in #chef pls
[2012-05-09 16:57:31 -0400] specialsauce: yeah i think no more about apache in #chef pls
[2012-05-09 16:57:32 -0400] specialsauce: yeah i think no more about apache in #chef pls
[2012-05-09 16:57:41 -0400] UForgotten: But... but... we haven't reached http://en.wikipedia.org/wiki/Godwin's_law yet!
[2012-05-09 16:57:49 -0400] hoover_damn: yfeldblum, in this case you decrypt the packet, then pass it into whatever you want
[2012-05-09 16:58:04 -0400] hoover_damn: yfeldblum, such as haproxy or unicorn
[2012-05-09 16:58:21 -0400] hoover_damn: specialsauce, can you please stop repeating? if you don't like the conversation you are free to ignore.
[2012-05-09 16:59:05 -0400] gp5st: specialsauce: wanna have a conversation about hookers and blow? hoover_damn is free to ignore it
[2012-05-09 16:59:16 -0400] specialsauce: how i can read genuine queries when you lot are spamming off-topic....
[2012-05-09 16:59:53 -0400] specialsauce: this is pretty basic netiquette
[2012-05-09 17:00:06 -0400] gp5st: anyway, i need to take off. any suggestions for why bootstrapping just stops would be appriciated
[2012-05-09 17:00:14 -0400] hoover_damn: Actually if we're going to talk netiquitte your behavior is childish
[2012-05-09 17:00:20 -0400] specialsauce: <sigh>
[2012-05-09 17:00:25 -0400] afallows: Spamming about spam begets spamming about spamming about spam. Let's all be friends and talk #chef. How do I pass SSH arguments in when I'm using knife-ec2?
[2012-05-09 17:00:26 -0400] specialsauce: since you are intent on a fight, nevermind
[2012-05-09 17:00:54 -0400] hoover_damn: I'm really not.  I was having a conversation I didn't think people would get so emo over talking about apache
[2012-05-09 17:01:08 -0400] specialsauce: i've said move on
[2012-05-09 17:01:39 -0400] hoover_damn: starts with you
[2012-05-09 17:01:48 -0400] specialsauce: <sigh>
[2012-05-09 17:02:13 -0400] UForgotten: Any time I can avoid apache butthurt it is most appreciated.
[2012-05-09 17:02:22 -0400] specialsauce: ok, look i posted it *once*. you ignored it, probably because yo were so busy spamming about apache. only then did i post it 3 times ina row because it was the only way to make it stand out in the flood
[2012-05-09 17:02:50 -0400] specialsauce: now for the love of god, lets move on
[2012-05-09 17:02:53 -0400] flashmanbahadur: afallows: i dont think by default, id have to check the docs.  I monkey patch part of the classes knife ec2 calls so it should be possible if you check the source
[2012-05-09 17:03:00 -0400] miah: specialsauce: /ignore hoover_damn
[2012-05-09 17:03:13 -0400] specialsauce: yeah, i'm on it
[2012-05-09 17:05:24 -0400] afallows: flashmanbahadur: Thanks for the tip. I'd love to find a way to do it without monkey patching, since a bunch of folks will be using the tool and I don't want to maintain a bunch of patches.
[2012-05-09 17:05:34 -0400] afallows: But I'm noy above monkey patching.
[2012-05-09 17:05:37 -0400] afallows: not*
[2012-05-09 17:06:03 -0400] yfeldblum: afallows, it's ruby: monkey-patching is but a rite of passage
[2012-05-09 17:06:13 -0400] flashmanbahadur: fair enough, check out the docs for it, I cant say 100% for sure there isnt a way to do it properly
[2012-05-09 17:06:47 -0400] afallows: It's just that the default behavior of adding RSA fingerprints to known_hosts, while excellent in many use cases, is a nuisance when you cycle through AWS instances on a 254 IP block on a weekly basis.
[2012-05-09 17:06:53 -0400] flashmanbahadur: When running chef as a service/cron job is there a special way to be alerted to failures? An email if something fails would be nice
[2012-05-09 17:07:07 -0400] shuvo: flashmanbahadur, report ahandler
[2012-05-09 17:07:09 -0400] afallows: If there's a way outside of knife-ec2 to addess that issue, that would work too.
[2012-05-09 17:08:05 -0400] flashmanbahadur: afallows: I had that same issue
[2012-05-09 17:08:10 -0400] flashmanbahadur: heres my monkey patch to avoid it
[2012-05-09 17:08:10 -0400] shuvo: flashmanbahadur, and you know what's cool? ruby has the tlsmail gem to allow anyone to email to their gmail accounts. (special thanks to hoover_damn for the info)
[2012-05-09 17:08:22 -0400] flashmanbahadur: https://gist.github.com/2646785
[2012-05-09 17:08:24 -0400] flashmanbahadur: shuvo: thanks
[2012-05-09 17:09:02 -0400] flashmanbahadur: afallows: that monkey patch removes host key verification on launch, it also allows me to pass attrs "blah" in and read that in ohai for my recipes
[2012-05-09 17:10:27 -0400] shuvo: flashmanbahadur, you have a way to pass attributes to ohai (say from a recipe?) - I need to do that
[2012-05-09 17:11:03 -0400] flashmanbahadur: shuvo: can you elaborate a bit more? you mean like custom fields in ohai?
[2012-05-09 17:11:26 -0400] shuvo: flashmanbahadur, yes. I need to pass attributes to an ohai plugin
[2012-05-09 17:12:14 -0400] yfeldblum: afallows, flashmanbahadur, https://github.com/opscode/chef/blob/master/chef/lib/chef/knife/bootstrap.rb#L197
[2012-05-09 17:12:55 -0400] flashmanbahadur: nice
[2012-05-09 17:12:56 -0400] flashmanbahadur: thanks
[2012-05-09 17:15:53 -0400] yfeldblum: afallows, flashmanbahadur, it may also be useful to monkey-patch https://github.com/opscode/chef/blob/master/chef/lib/chef/knife/ssh.rb#L153-156 and somehow query the chef-server for pubkeys of nodes the chef-server knows about and AWS for pubkeys of the other VMs, write a knife-specific known-hosts file, and use that ...
[2012-05-09 17:16:34 -0400] flashmanbahadur: that would be cool
[2012-05-09 17:17:06 -0400] yfeldblum: afallows, flashmanbahadur, or at least open a ticket ... there would absolutely have to be some way of switching that in & out for people who use multiple clouds and/or multiple chef-servers
[2012-05-09 17:21:44 -0400] shuvo: flashmanbahadur, @all, I need to pass attributes to an ohai plugin (say from a recipe?). Could there be a way?
[2012-05-09 17:22:42 -0400] paulmooring: shuvo: no, in general if you need attributes from a recipe, it should be another attribute not an ohai plugin
[2012-05-09 17:23:14 -0400] yfeldblum: shuvo, no - also, don't do that; you can, however, make your own ohai plugin tailored for one specific machine ...
[2012-05-09 17:23:30 -0400] paulmooring: but you can pull other ohai plugin data from another ohai plugin
[2012-05-09 17:24:02 -0400] shuvo: yfeldblum, that sounds like a good idea, but what if I needed to change a variable in the ohai plugin through an external program?
[2012-05-09 17:24:33 -0400] paulmooring: shuvo: mind sharing your use case?
[2012-05-09 17:24:39 -0400] shuvo: it's possible to s/program/file.
[2012-05-09 17:26:50 -0400] shuvo: paulmooring, I would like to read a file on the node from my ohai plugin. the location of that file can change and hence it would be cool if I could pass it as an attribute instead of hardcoding into the plugin
[2012-05-09 17:28:26 -0400] paulmooring: shuvo: afaik you can't do that with Ohai, you would need to do that in an attribute instead.
[2012-05-09 17:28:26 -0400] yfeldblum: shuvo, hardcode the values and stick them in /etc/chef/ohai_plugins/, or look at https://github.com/opscode-cookbooks/ohai for tips on how to do it from chef
[2012-05-09 17:30:38 -0400] shuvo: paulmooring, yfeldblum: so the consensus is that ohai (and plugins) run before a chef-client run *and* hence, by design, it's not possible to pass attributes/parameters to ohai (and plugins) at runtime?
[2012-05-09 17:31:28 -0400] yfeldblum: shuvo, that's false; you can stick a cookbook early in your run-list that can drops an ohai plugin and triggers an ohai reload
[2012-05-09 17:32:32 -0400] paulmooring: shuvo: for the most part that's right, yfeldblum is right as well, but ohai isn't really designed to take parameters for it's plugins the intention is to gather static system data
[2012-05-09 17:33:52 -0400] paulmooring: You do have all of ruby available via Ohai, so there's definitely ways of pulling in external data, but imo that's not a good idea if attributes work for your purpose
[2012-05-09 17:35:43 -0400] shuvo: yfeldblum, paulmooring: Don't worry this is only for personal use and not going to make it to production :-D  where can I learn more about "you can stick a cookbook early in your run-list that can drops an ohai plugin and triggers an ohai reload"
[2012-05-09 17:36:01 -0400] shuvo: I know how to use the ohai plugin cookbook
[2012-05-09 17:36:43 -0400] shuvo: but I would like a rcp that generates the ohai plugin code from a templaet :-D
[2012-05-09 17:36:51 -0400] shuvo: .. and *then* run it
[2012-05-09 17:37:07 -0400] shuvo: this is going to be fun
[2012-05-09 17:37:09 -0400] yfeldblum: shuvo, read the ohai plugin cookbook and get ideas; you will, however, need to come up with your own cookbook that can do more complex/custom stuff
[2012-05-09 17:37:49 -0400] shuvo: hmm, any others leads to triggering an ohai reload so later cookbooks run on the new data?
[2012-05-09 17:38:57 -0400] yfeldblum: shuvo, on the other hand, you can use the ohai cookbook as-is, but your custom ohai plugin will have to check for a special file and read it to discover the special attribute, and then you will need another recipe right before ohai::default in your run-list that drops that special file so the ohai plugin can read it
[2012-05-09 17:43:24 -0400] shuvo: yfeldblum, sounds facinating! so the run_list of each node will basically read so: ['rcp["gen_that_file"'], rcp["ohai"], <other rcps>] ?
[2012-05-09 17:43:41 -0400] yfeldblum: shuvo, yep
[2012-05-09 17:44:08 -0400] yfeldblum: shuvo, the first recipe needs to drop the file at compile time, not at converge time
[2012-05-09 17:44:26 -0400] shuvo: yfeldblum, when can I buy you a beer? I am sick with a sore throat but now the world seems so nice :-D
[2012-05-09 17:44:41 -0400] shuvo: .. and that can be doen by having gen_that_file do an :immediately?
[2012-05-09 17:44:46 -0400] yfeldblum: shuvo, next time you're in baltimore?
[2012-05-09 17:45:01 -0400] yfeldblum: shuvo, no, :immediately still works in the converge phase
[2012-05-09 17:45:28 -0400] yfeldblum: shuvo, like this: https://github.com/opscode-cookbooks/ohai/blob/master/recipes/default.rb#L23-32
[2012-05-09 17:45:30 -0400] chip-: Anyone know a quick variable for dropping a timestamp into a template?
[2012-05-09 17:45:40 -0400] chip-: "Generated by Chef on host foo at date"
[2012-05-09 17:45:41 -0400] shuvo: time.Now
[2012-05-09 17:45:45 -0400] chip-: Thanks!
[2012-05-09 17:45:57 -0400] paulmooring: Time.now right?
[2012-05-09 17:46:00 -0400] chip-: What's the syntax for that in an erb?
[2012-05-09 17:46:08 -0400] paulmooring: as in capital T not N
[2012-05-09 17:46:08 -0400] yfeldblum: <%= Time.now.getutc %>
[2012-05-09 17:46:10 -0400] shuvo: chip-, hey dood, I learnt RUby last week, so google whatever I say to confirm will you :-D
[2012-05-09 17:46:22 -0400] chip-: shuvo: Trust but verify
[2012-05-09 17:46:37 -0400] chip-: Thanks all.
[2012-05-09 17:47:00 -0400] hoover_damn: chip-, avoid adding notifications to this template
[2012-05-09 17:47:13 -0400] hoover_damn: chip-, or you'll restart your service each time the time is updated
[2012-05-09 17:47:33 -0400] hoover_damn: other users have reported such bugs in here on year roll for example and it only lead's to /facepalm
[2012-05-09 17:47:37 -0400] hoover_damn: as the problem is not chef
[2012-05-09 17:47:50 -0400] paulmooring: chip-: +1 to hoover_damn
[2012-05-09 17:48:51 -0400] chip-: hoover_damn / paulmooring: Yikes, good catch. Come to think of it, the file's already got an mtime. Good enough!
[2012-05-09 17:53:47 -0400] shuvo: yfeldblum, after 6 minutes of thinking I can see that ALL I need to do is duplicate those 9 lines but use /directory/file/ since I want a file to exist instead from a template. sounds good?
[2012-05-09 17:54:47 -0400] yfeldblum: shuvo, go for it
[2012-05-09 17:56:17 -0400] shuvo: yfeldblum, *thank* you
[2012-05-09 17:57:03 -0400] yfeldblum: shuvo, not a problem
[2012-05-09 17:59:24 -0400] hippiehacker: gp5st: I wish there was a way to tell knife not delete the bootstrap.bat it creates if there is a failure
[2012-05-09 17:59:33 -0400] hippiehacker: so you could run it manually
[2012-05-09 17:59:55 -0400] hippiehacker: I've had similar issues, usually requiring me to modify the bootstrap .erb
[2012-05-09 18:00:41 -0400] hippiehacker: gp5st: I assume c:\opscode is populated
[2012-05-09 18:01:50 -0400] flashmanbahadur: would it be possible to write an ascii copy of this pic to the display whenever a monkey patch is used?
[2012-05-09 18:01:50 -0400] flashmanbahadur: http://1.bp.blogspot.com/-iE5qS91JhZ8/TZGs-jbbcKI/AAAAAAAAAIg/WptlSpNFcJU/s1600/Evil-Monkey-family-guy_flopped.png
[2012-05-09 18:04:30 -0400] yfeldblum: flashmanbahadur, someone needs to photoshop that monkey sitting on top of e.g. a tiled floor, where the tile is the icon for a diff or patch file
[2012-05-09 18:05:13 -0400] flashmanbahadur: haha
[2012-05-09 18:07:02 -0400] cobragoat: I'm getting this while trying to clone from git: cannot run wrap-ssh4git.sh: No such file or directory
[2012-05-09 18:12:15 -0400] jessicab: cobragoat - its looking in /files/default for the wrap-ssh4git.sh file, might want to make sure its in there
[2012-05-09 18:12:41 -0400] jessicab: cobragoat - you might also find this section in the wiki helpful - http://wiki.opscode.com/display/chef/Deploy+Resource#DeployResource-PrivateDeployExample
[2012-05-09 18:18:19 -0400] hippiehacker: any thoughts on getting a powershell powered not_if working: http://tickets.opscode.com/browse/COOK-1267
[2012-05-09 18:19:46 -0400] agoddard: hrmf.. I'm trying to recover a chef server which has a messed up couchdb instance.. my dumps are also corrupt I *think* from what I can see, but most of the data seems to be consistent. Any war stories that might lead me in the right directon
[2012-05-09 18:19:58 -0400] agoddard: ^ also, holy.crap.I.should.have.used.spiceweasel.
[2012-05-09 18:21:51 -0400] bdha: Same version of CouchDB?
[2012-05-09 18:22:40 -0400] agoddard: bdha: I tried with the same version (0.10.0) and then I tried with 1.0.1
[2012-05-09 18:23:11 -0400] agoddard: bdha: from what I've read, 1.0.1 should be happy with a db from 0.10.0 though
[2012-05-09 18:23:28 -0400] bdha: I don't have anything useful to say for recovering the data. But if you were moving to 1.1 you would see horrible, weird failure modes.
[2012-05-09 18:23:45 -0400] bdha: But yea. From what I understand 0.10.0 should be fine with 1.0.1.
[2012-05-09 18:24:21 -0400] agoddard: ah, k.. siq. I'm guessing some of the data must be corrupt, but even recovering some of it would be nice. Maybe I can figure out the important stuff from the dump itself.. yergh
[2012-05-09 18:24:34 -0400] agoddard: also, holy.crap.I.should.have.used.spiceweasel.
[2012-05-09 18:24:37 -0400] agoddard: :D
[2012-05-09 18:24:52 -0400] bdha: Heh, good luck. :)
[2012-05-09 18:25:39 -0400] agoddard: bdha: thanks :) fortunately we have a few chef servers... I should be able to grab an older backup as well, so shouldn't bee too painful (fingers crossed..)
[2012-05-09 18:25:48 -0400] shuvo: yes, spiceweasel is awesome: it's like chef for chef
[2012-05-09 18:26:29 -0400] shuvo: spiceweasel was the main reason why I decided to create my own chef server
[2012-05-09 18:28:04 -0400] cobragoat: jessicab: thx I missed that and was wondering how it was supposed to magically appear
[2012-05-09 18:29:20 -0400] jessicab: cobragoat - np, its a really common question.. that section was just added to the wiki last week actually
[2012-05-09 18:30:15 -0400] cobragoat: jessicab: ok thx. I feel a *little* better..
[2012-05-09 18:33:16 -0400] agoddard: ha, protip - nagios, sensu etc will remember your node->role configs if you loose couch and you're silly enough to forget to setup spiceweasel ;)
[2012-05-09 18:34:36 -0400] miah: or bosh maybe?
[2012-05-09 18:34:39 -0400] miah: https://github.com/cloudfoundry/oss-docs/blob/master/bosh/documentation/documentation.md#readme
[2012-05-09 18:41:01 -0400] geekbri: thats a lot of reading!
[2012-05-09 18:42:02 -0400] miah: yes =)
[2012-05-09 18:51:29 -0400] gp5st: hippiehacker: yes, c:\opscode is populated
[2012-05-09 18:51:41 -0400] gp5st: that's what i've been doing
[2012-05-09 18:51:48 -0400] gp5st: but i can't get it to give me an error message
[2012-05-09 18:51:56 -0400] gp5st: it just seems to stop running
[2012-05-09 18:52:26 -0400] hippiehacker: copy https://github.com/opscode/knife-windows/blob/master/lib/chef/knife/bootstrap/windows-chef-client-msi.erb to .chef/bootstrap/mycustom-fix.erb
[2012-05-09 18:52:46 -0400] gp5st: and use that as the distro?
[2012-05-09 18:52:51 -0400] hippiehacker: yea
[2012-05-09 18:52:55 -0400] gp5st: ok
[2012-05-09 18:53:06 -0400] gp5st: i've just been editing the base one, as bad of a practice that is:-p
[2012-05-09 18:53:12 -0400] hippiehacker: then you can at least modify it
[2012-05-09 18:53:13 -0400] hippiehacker: heh
[2012-05-09 18:53:51 -0400] gp5st: i've been adding echo "hi#" in it
[2012-05-09 18:54:04 -0400] gp5st: and it gets to or just passed installing the msi and just dies
[2012-05-09 18:54:06 -0400] gp5st: with no error
[2012-05-09 18:54:13 -0400] gp5st: is there a bash equiv of $?
[2012-05-09 18:54:57 -0400] cobragoat: jessicab: tell me this, should the source "wrap-ssh4git" actually be "wrap-ssh4git.sh" if the cookbook_file resource is cookbook_file "/tmp/private_code/wrap-ssh4git.sh"?
[2012-05-09 18:55:20 -0400] shuvo: anyone use keepnote?
[2012-05-09 18:55:32 -0400] jessicab: cobragoat - yes. i might actually need to edit that bit in the wiki too.. im not sure why the .sh was left off in the examples
[2012-05-09 18:55:38 -0400] shuvo: gp5st, bash equiv of $? on windows batch files?
[2012-05-09 18:55:38 -0400] cobragoat: jessicab: wondering if that's an error in the wiki
[2012-05-09 18:55:48 -0400] cobragoat: jessicab: ah cool
[2012-05-09 18:59:39 -0400] jessicab: cobragoat - yea, im not sure why i left that out, its edited now.. probably makes more sense this way
[2012-05-09 19:00:34 -0400] cobragoat: jessicab: it happens.. thx!
[2012-05-09 19:00:44 -0400] gp5st: shuvo: yes
[2012-05-09 19:01:07 -0400] gp5st: my bootstrap script is dying part-way through and I cannot figure out why
[2012-05-09 19:01:38 -0400] gp5st: https://gist.github.com/c89e01c8ef0a7c46927c
[2012-05-09 19:03:22 -0400] shuvo: gp5st, windows uses a akward way of getting return codes called 'ERRORLEVEL'. More here: http://www.robvanderwoude.com/errorlevel.php
[2012-05-09 19:04:08 -0400] gp5st: thanks
[2012-05-09 19:05:47 -0400] shuvo: gp5st, it's btter you use ruby to find the error code
[2012-05-09 19:05:58 -0400] shuvo: that way your code will also run on linux
[2012-05-09 19:06:11 -0400] gp5st: shuvo: that would be wonderful, except I can't get the bootstrap script to work
[2012-05-09 19:07:08 -0400] cobragoat: rvm info
[2012-05-09 19:07:17 -0400] cobragoat: oops..
[2012-05-09 19:08:25 -0400] gp5st: it seems to die when it's dumping stuff into a file, except it doesn't show an error.  It dies at this line often (> C:\chef\client.rb (
[2012-05-09 19:08:48 -0400] gp5st: well, before that line, anyway, i have an echo right before it and hte echo echos and then it exits
[2012-05-09 19:11:53 -0400] hoover_damn: lol never thought i'd hear someone say dos scripting is weird
[2012-05-09 19:12:46 -0400] gp5st: i havn't used windows in almost a decade.  I'm approaching this that the system works, it's just different
[2012-05-09 19:13:01 -0400] gp5st: and choosing not to judge. i just wish it would give me an error:(
[2012-05-09 19:13:21 -0400] cnf: hi everybody!
[2012-05-09 19:13:39 -0400] shuvo: hicnf, did you get around to having a working chef server?
[2012-05-09 19:14:00 -0400] cnf: shuvo: dno, ssd7__ replied, i just got home
[2012-05-09 19:14:03 -0400] cnf: looking niw
[2012-05-09 19:14:05 -0400] cnf: now
[2012-05-09 19:14:33 -0400] shuvo: oh, otherwise I can share my own set of scripts to setup your own working chef server using veewee and vagrant
[2012-05-09 19:15:04 -0400] cnf: shuvo: i don't have a vps of my own atm
[2012-05-09 19:22:27 -0400] gp5st: it's like it's incapable of writing echos to a file
[2012-05-09 19:22:32 -0400] cnf: hmm
[2012-05-09 19:22:50 -0400] gp5st: it writes the wget script ok
[2012-05-09 19:22:58 -0400] gp5st: then it sometimes writes the pem
[2012-05-09 19:23:04 -0400] gp5st: and then just stops before writing the config file
[2012-05-09 19:23:06 -0400] cnf: damned overzealous deps ^^;
[2012-05-09 19:23:47 -0400] rayrod2030: anybody else having issues bootstrapping with yum::epel?
[2012-05-09 19:25:17 -0400] cnf: isn't yum some rpm replacement thingie?
[2012-05-09 19:25:48 -0400] gp5st: deb:dpkg::rpm:yum iirc
[2012-05-09 19:26:08 -0400] cnf: ?
[2012-05-09 19:26:11 -0400] miah: yum isn't a replaement
[2012-05-09 19:26:17 -0400] gp5st: err dpkg:apt::rpm:yum
[2012-05-09 19:26:20 -0400] gp5st: is what i meant
[2012-05-09 19:26:22 -0400] miah: yum simplies installation and upgrading of packages
[2012-05-09 19:26:33 -0400] miah: yum == aptitude
[2012-05-09 19:26:45 -0400] cnf: right
[2012-05-09 19:26:49 -0400] cobragoat: barely
[2012-05-09 19:27:02 -0400] cnf: i generally don't like scripts depending on it
[2012-05-09 19:27:08 -0400] gp5st: huh?
[2012-05-09 19:27:12 -0400] gp5st: depending on what?
[2012-05-09 19:27:25 -0400] miah: rpm doesn't have a good way to fetch remote packages though
[2012-05-09 19:27:32 -0400] miah: so you really need yum, or zypper or something.
[2012-05-09 19:27:32 -0400] gp5st: you can depend on yum if you're in a fedora or rh env
[2012-05-09 19:27:33 -0400] cnf: yum / aptitude etc
[2012-05-09 19:29:31 -0400] cnf: right, ssd7__ seems to have fixed chef-hosted for me ^^;
[2012-05-09 19:29:43 -0400] cnf: now maybe the fast start guide won't give me errors all the time
[2012-05-09 19:30:22 -0400] gp5st: i don't understand why the script is '> file (contents)' shouldn't it be '(contents)>file'
[2012-05-09 19:34:45 -0400] gp5st: soo, it seems that the bootstrap file that is created from the template just isn't complete.  i'm looking at this one and it ends halfway throuhg the pem
[2012-05-09 19:35:35 -0400] geekbri: anybody know any good resources for authoring knife plugins beyond the wiki page from opscode?
[2012-05-09 19:35:55 -0400] geekbri: Perhaps a github project that uses some rad knife plugin patterns.
[2012-05-09 19:35:58 -0400] gp5st: geekbri: to be a PITA...other plugins
[2012-05-09 19:36:21 -0400] geekbri: gp5st: im fine with that, but if you know a particularly well written plugin that would be wonderful
[2012-05-09 19:36:52 -0400] gp5st: sorry, i only really use the ec2 one
[2012-05-09 19:39:21 -0400] gp5st: yes, i'm pretty sure for some reason only half this file is being rendered and stored
[2012-05-09 19:40:25 -0400] gp5st: and the knife-windows plugin, ofcourse, given my current heartache
[2012-05-09 19:40:34 -0400] hoover_damn: is it easier to read from an antipattern book then read from the wiki?
[2012-05-09 19:40:48 -0400] hoover_damn: geekbri, the best example of knife plugins is knife.
[2012-05-09 19:41:03 -0400] geekbri: ok i'll just browse the source
[2012-05-09 19:41:25 -0400] hoover_damn: geekbri, I modified someone's example in http://likens.us/blog/2012/03/29/knife-plugins/ which made my life easier.
[2012-05-09 19:41:45 -0400] hoover_damn: geekbri, and looking at the knife plugins is trully the best source
[2012-05-09 19:42:05 -0400] geekbri: Yeah.  I've already dug into the source pretty deep for other purposes.. I guess I might as well just do it for knife plugins as well
[2012-05-09 19:42:32 -0400] hoover_damn: how do you remove an runlist in ruby? look at knife ... https://github.com/opscode/chef/blob/master/chef/lib/chef/knife/node_run_list_remove.rb
[2012-05-09 19:42:43 -0400] hoover_damn: sure it's not plain english
[2012-05-09 19:42:50 -0400] hoover_damn: but it doesn't take much
[2012-05-09 19:46:02 -0400] geekbri: yeah im used to digging into source, I just for some reason didn't even think to dig around in knife itself
[2012-05-09 19:48:22 -0400] cobragoat: at times when I try to upload a single cookbook I get dependency complaints.. if I upload them all at once(-a) it works fine.. is this something I am doing wrong?
[2012-05-09 19:52:13 -0400] cobragoat: so deploy is just hanging asking for a passphrase for id_deploy.. there is no passphrase on the key and enter does nothing?
[2012-05-09 19:52:43 -0400] daaaan: do you have ssh agent running and the key loaded?
[2012-05-09 19:53:11 -0400] cobragoat: on the node I am spinning up? perhaps not.
[2012-05-09 19:53:56 -0400] cobragoat: didn't see anything about that in the deploy resource docs
[2012-05-09 20:14:51 -0400] cnf: i don't think i quite get environments... can you even properly use them with knife?
[2012-05-09 20:16:43 -0400] flashmanbahadur: cnf:  -E
[2012-05-09 20:17:05 -0400] cnf: flashmanbahadur: and if i don't use -E, it applies to all environments?
[2012-05-09 20:17:55 -0400] flashmanbahadur: cnf: it uses _default
[2012-05-09 20:18:07 -0400] shuvo: can I have branches of my source code that excludes certain directories from the main branch? think "views" in a SQL DB or something like .gitignore, but for branches
[2012-05-09 20:18:14 -0400] shuvo: git
[2012-05-09 20:18:39 -0400] cnf: flashmanbahadur: so once you start using -E, you need to keep using it?
[2012-05-09 20:18:48 -0400] flashmanbahadur: cnf: as far as I know, yes
[2012-05-09 20:18:50 -0400] gp5st: fudge
[2012-05-09 20:18:54 -0400] cnf: o,O
[2012-05-09 20:19:03 -0400] flashmanbahadur: cnf: not all knife commands care about -E
[2012-05-09 20:19:05 -0400] gp5st: whatever is created start_chef
[2012-05-09 20:19:18 -0400] gp5st: isn't quoting it correctly, and it's causing that part of the boostrap file to fail
[2012-05-09 20:19:27 -0400] flashmanbahadur: knife node/client list
[2012-05-09 20:19:31 -0400] gp5st: and hence it's not getting written to the bootstrap file, hence it fails
[2012-05-09 20:19:32 -0400] flashmanbahadur: seems to display everything regardless
[2012-05-09 20:19:52 -0400] flashmanbahadur: err
[2012-05-09 20:19:53 -0400] flashmanbahadur: without -E
[2012-05-09 20:19:57 -0400] flashmanbahadur: it shows everything
[2012-05-09 20:20:03 -0400] flashmanbahadur: you can also delete without -E
[2012-05-09 20:20:24 -0400] cnf: kinda confusing
[2012-05-09 20:22:36 -0400] gp5st: hmm, so i'm getting this error "\Microsoft was unexpected at this time.
[2012-05-09 20:22:50 -0400] gp5st: " when it runs, but if i run the line i think is offending by hand it works
[2012-05-09 20:22:54 -0400] gp5st: w/o an error
[2012-05-09 20:24:27 -0400] gp5st: ah, no, when it runs prefixed by cmd.exe /C like it does via knife then it fails in exactly the same way
[2012-05-09 20:26:39 -0400] cnf: i think i'm gonna stay away from environments for now
[2012-05-09 20:32:53 -0400] nyaray: Hello all! I'm trying to figure out how to best distribute and install a .deb-file on a bunch of nodes that have the same roll. One complicating issue is that I really don't know if the nodes should be pulling the deb or just receiving it passively before it is installed.
[2012-05-09 20:33:57 -0400] flashmanbahadur: is there a good way to check the process list easily for a "not_if" section?
[2012-05-09 20:34:20 -0400] flashmanbahadur: right now ps -ef | grep "blah" will always return true because it will find the shellout from ruby
[2012-05-09 20:36:23 -0400] flashmanbahadur: nevermind
[2012-05-09 20:36:31 -0400] flashmanbahadur: i thought I was already using the [] trick in grep
[2012-05-09 20:36:34 -0400] flashmanbahadur: but i guess I wasnt
[2012-05-09 20:37:02 -0400] nyaray: flashmanbahadur: the backtracking process is always different when you ask about it out loud :)
[2012-05-09 20:37:48 -0400] xuru: nyaray: you could always 'knife ssh "role:name" "wget blah blah; dpkg -i blah.deb' -x user ...
[2012-05-09 20:37:58 -0400] xuru: if it's a one time thing
[2012-05-09 20:39:29 -0400] nyaray: hm.. a problem is that I can't host it in a wget-able way since it would make it internetaccessible
[2012-05-09 20:39:49 -0400] nyaray: (we're paying for it, should've mentioned that. sorry)
[2012-05-09 20:40:03 -0400] yfeldblum: ps -ef | grep -vw grep | grep blah
[2012-05-09 20:41:03 -0400] gp5st: so i got rid of the line setting the path and just call chef-client directly, seems to bve working so far
[2012-05-09 20:42:05 -0400] nyaray: xuru: its for setting up service nodes internally, but I'd also like to be able to upgrade with the same (or a similar) recipe
[2012-05-09 20:42:08 -0400] flashmanbahadur: yfeldblum: yeah that was my next move
[2012-05-09 20:42:12 -0400] flashmanbahadur: I usually do
[2012-05-09 20:42:22 -0400] flashmanbahadur: ps -ef | grep 'my proces[s]'
[2012-05-09 20:44:51 -0400] trotter: hey everyone, is it possible for a node to delete both its own node and client from the chef server?
[2012-05-09 20:45:07 -0400] trotter: I have some ec2 machines that are autoscaling down, and I'd like them to be able to remove themselves from the server
[2012-05-09 20:45:42 -0400] trotter: I tried deleting the node, and that seemed to work fine. However, when I went to delete the client, I got a message saying "Response:  You are not allowed to take this action."
[2012-05-09 20:46:55 -0400] xuru: Q: I have "override_attributes" set in my role, but the recipe seems to be ignoring it.  Any ideas why this might be?  If I comment out it's default attributes in the cookbook it's self, it gets undefined errors.
[2012-05-09 20:47:04 -0400] yfeldblum: trotter, that's something that the chef-client shouldn't be doing ... something else (an orchestration layer) should be doing it ...
[2012-05-09 20:47:27 -0400] yfeldblum: xuru, gist?
[2012-05-09 20:47:45 -0400] trotter: yfeldblum: yea but that means I would now need an extra service that's just watching for nodes getting autoscaled away
[2012-05-09 20:47:57 -0400] trotter: much nicer / simpler to just have that in a shutdown script
[2012-05-09 20:50:31 -0400] yfeldblum: trotter, i don't see it that way ... you could also just run a script from time to time that scans chef-server & scans AWS and syncs
[2012-05-09 20:53:21 -0400] trotter: yfeldblum: fair enough I was just hoping I wouldn't even have to do that much :-)
[2012-05-09 20:53:32 -0400] trotter: but it's starting to sound like I'll write a script that does that and run it roughly every 5 minutes
[2012-05-09 20:53:33 -0400] xuru: yfeldblum: https://gist.github.com/2648714
[2012-05-09 20:53:33 -0400] yfeldblum: trotter, i prefer a little manual script-running (and building the right tools) to violating proper practice, because in the long run, it adds up
[2012-05-09 20:53:33 -0400] trotter: very ture
[2012-05-09 20:53:33 -0400] trotter: *true
[2012-05-09 20:56:21 -0400] yfeldblum: xuru, what part is failing?
[2012-05-09 21:03:12 -0400] xuru: yfeldblum: It always downloads version 1.0.2 instead of 1.2.0
[2012-05-09 21:04:41 -0400] xuru: when I comment out the defaults in the cookbook, it gets undefined errors
[2012-05-09 21:04:48 -0400] xuru: I thought that override attributes take precedence over defaults
[2012-05-09 21:05:16 -0400] mhalligan: any recommendations for collecting fragments of configuration files then assembling them at the end of the run?
[2012-05-09 21:25:47 -0400] xuru: yfeldblum: any ideas?  It's being a pain in the ass
[2012-05-09 21:27:59 -0400] yfeldblum: xuru, it looks like it should work ...
[2012-05-09 21:28:00 -0400] miah: mhalligan: lwrp
[2012-05-09 21:28:00 -0400] miah: youll has to write the codes
[2012-05-09 21:28:00 -0400] xuru: yfeldblum: yeah, it looks like it should  I'm looking through the docs on deep merge...
[2012-05-09 21:28:00 -0400] xuru: That may be my problem.  I have more then one role
[2012-05-09 21:28:01 -0400] yfeldblum: xuru, Chef::Log.info(node["couch_db"].to_hash)
[2012-05-09 21:28:01 -0400] xuru: ah, nice
[2012-05-09 21:28:03 -0400] bluepojo1: Has anyone been able to build dep-selector on windows?
[2012-05-09 21:28:03 -0400] bluepojo1: https://gist.github.com/2648755
[2012-05-09 21:28:03 -0400] bluepojo1: opscode/dep-selector
[2012-05-09 21:28:03 -0400] xuru: yfeldblum: I believe that I got past it  apparently you have to have your roles defined before any recipes in your run_list...
[2012-05-09 21:28:03 -0400] yfeldblum: xuru, that doesn't sound right
[2012-05-09 21:28:04 -0400] xuru: *shrug*
[2012-05-09 21:39:01 -0400] yfeldblum: stud haters, how recent is the experience justifying your hatred for stud?
[2012-05-09 21:40:06 -0400] xuru: lol
[2012-05-09 21:42:51 -0400] yfeldblum: 1 month? 1 year? 2 years?
[2012-05-09 21:43:48 -0400] bemu: I became a homophobic bigot 1.3 months ago. :D
[2012-05-09 21:44:42 -0400] yfeldblum: ya ya ya
[2012-05-09 21:45:08 -0400] yfeldblum: scalable tls unwrapping daemon haters
[2012-05-09 21:45:17 -0400] flagg0204: is it possible to specify environment in firt-boot.json?
[2012-05-09 21:45:29 -0400] bemu: One sec, trying to find something fujin said on the topic
[2012-05-09 21:46:42 -0400] miah: i use stud now. it works.
[2012-05-09 21:47:29 -0400] edelschaedel_: hey is there a way to list the cookbook versions running on either a specific server or role using knife?
[2012-05-09 21:47:54 -0400] bemu: I'm pretty sure Fujin said that most options built on libssl are viable after 1.0.0e
[2012-05-09 21:47:58 -0400] yfeldblum: flagg0204, probably - that's probably how knife bootstrap works
[2012-05-09 21:48:03 -0400] cobragoat: having problems restarting apache from the deploy resource. its a sudo/permissions thing. not sure exactly how to go about fixing  it.
[2012-05-09 21:48:34 -0400] yfeldblum: cobragoat, chef-client should be running as root; is it?
[2012-05-09 21:49:14 -0400] cobragoat: ah.. I think not
[2012-05-09 21:51:25 -0400] yfeldblum: bemu, any idea why? any idea what changed in libssl-1.0.0e?
[2012-05-09 21:52:02 -0400] bemu: I was looking, and can't find anything. Sorry :(
[2012-05-09 21:52:22 -0400] bemu: The 'news' on their site literally says "major bug fixes and security patches" or something.
[2012-05-09 21:56:48 -0400] valdezjoelt: hi
[2012-05-09 22:01:12 -0400] cnf: is there a way to have temporary clients/nodes?
[2012-05-09 22:03:30 -0400] paulmooring: cnf: there isn't but it's easy enough to delete them and just alias out a shell command
[2012-05-09 22:03:48 -0400] cnf: yeah, not for what i'm thinking
[2012-05-09 22:03:50 -0400] paulmooring: I use vagrant and just have an alias for destroying the machine and deleting the node and client
[2012-05-09 22:04:14 -0400] cnf: paulmooring: yeah, it's vagrant i'm thinking of, but not for me
[2012-05-09 22:05:55 -0400] cnf: paulmooring: i know expecting the devs to delete their created clients/nodes just isn't gonna happen ^^;
[2012-05-09 22:07:00 -0400] paulmooring: Make it a vagrant plugin
[2012-05-09 22:07:07 -0400] cnf: paulmooring: what would happen if multiple vagrant instances connected with the same name, and same /etc/chef/client.pem ?
[2012-05-09 22:07:21 -0400] paulmooring: over-ride vagrant destroy
[2012-05-09 22:07:24 -0400] paulmooring: cnf: bad things
[2012-05-09 22:07:26 -0400] cnf: paulmooring: what, make knife a vagrant plugin?
[2012-05-09 22:07:30 -0400] cnf: how bad?
[2012-05-09 22:07:35 -0400] paulmooring: no vagrant supports plugins
[2012-05-09 22:07:47 -0400] cnf: yes, i have a few installed
[2012-05-09 22:07:55 -0400] paulmooring: you could require the chef/knife gems, and add in a hook to vagrant destroy
[2012-05-09 22:08:07 -0400] yfeldblum: cnf, why have all those vagrant boxes talk to the same chef-server?
[2012-05-09 22:08:09 -0400] paulmooring: then just force vagrant to clean up the chef client/node
[2012-05-09 22:08:29 -0400] cnf: yfeldblum: because they should resemble the same production server
[2012-05-09 22:08:55 -0400] cnf: paulmooring: that would mean the dev need chef / knife installed
[2012-05-09 22:09:10 -0400] yfeldblum: cnf, should that not be based on the content of your chef-repo, rather than the content of any particular chef-server?
[2012-05-09 22:09:19 -0400] cnf: yfeldblum: huh?
[2012-05-09 22:09:58 -0400] cnf: yfeldblum: i'm not following you
[2012-05-09 22:10:09 -0400] paulmooring: cnf: so the devs don't have chef users/accounts at all?
[2012-05-09 22:10:09 -0400] maek: anyone know how to set EDITOR to a sed line to do a bulk knife node edit?
[2012-05-09 22:10:32 -0400] cnf: paulmooring: i don't know how i wanna set it up, i'm damn new to chef
[2012-05-09 22:10:33 -0400] yfeldblum: cnf, why not share the chef-repo, and permit the devs to set up their own chef-servers based on the chef-repo for their own VMs?
[2012-05-09 22:10:34 -0400] paulmooring: in .bashrc
[2012-05-09 22:10:42 -0400] paulmooring: or .bash_profile on OS X
[2012-05-09 22:10:42 -0400] cnf: yfeldblum: uhm, are you nuts?
[2012-05-09 22:11:07 -0400] cnf: yfeldblum: it's gonna be hard enough to get them to use VM's, let alone run their own chef stuff?
[2012-05-09 22:11:37 -0400] cnf: yfeldblum: and some are on windows
[2012-05-09 22:11:56 -0400] paulmooring: cnf: would it be easier to have them pull down the same client.pem on recreating the nodes?
[2012-05-09 22:12:08 -0400] paulmooring: no reason you would have to delete and recreate the node right?
[2012-05-09 22:12:36 -0400] cnf: paulmooring: well, that was my question, injected earlier, if i give em all the same client.pem, and all their vm's are named the same
[2012-05-09 22:12:40 -0400] cnf: what would happen
[2012-05-09 22:12:43 -0400] yfeldblum: cnf, chef isn't a setup script; it's configuration automation and systems integration
[2012-05-09 22:13:13 -0400] cnf: yfeldblum: i really don't follow what you are on about
[2012-05-09 22:13:14 -0400] paulmooring: a different client key per vm per dev, just not re-created on a destroy is what I was suggesting
[2012-05-09 22:13:50 -0400] cnf: paulmooring: hmz, so lots of work
[2012-05-09 22:14:28 -0400] yfeldblum: cnf, distribute preconfigured vagrant boxes, rather than unconfigured vagrant boxes with chef-client running
[2012-05-09 22:14:39 -0400] cnf: paulmooring: the idea was to point them to vagrant installers, and share 1 Vagrantfile with them all
[2012-05-09 22:15:01 -0400] cnf: yfeldblum: and then config on the server changes, and all those nice preconfigured vagrant boxes are worthless
[2012-05-09 22:15:11 -0400] yfeldblum: cnf, or use chef-solo
[2012-05-09 22:15:44 -0400] cnf: yfeldblum: i was at chef solo, people here told me chef-hosted made much more sense
[2012-05-09 22:15:55 -0400] cnf: yfeldblum: stop making me go in circles!
[2012-05-09 22:16:19 -0400] yfeldblum: cnf, yes, it makes more sense for a whole lot of things, like configuring servers ...
[2012-05-09 22:17:10 -0400] paulmooring: I'm inclined to agree with yfeldblum this is essentially the perfect use case for chef-solo
[2012-05-09 22:17:16 -0400] cnf: paulmooring: we aren't talking unix savvy devs here, so i need to make it as simple as possible for them.
[2012-05-09 22:17:48 -0400] cnf: what, and manage the production servers with -solo?
[2012-05-09 22:18:01 -0400] yfeldblum: cnf, stick a `git pull` in the vagrant shell provisioner to fetch the latest copy of the chef-repo, and then use the vagrant chef-solo provisioner
[2012-05-09 22:18:08 -0400] paulmooring: no, I'd stick with the server for production
[2012-05-09 22:18:13 -0400] paulmooring: but use the same cookbooks
[2012-05-09 22:18:32 -0400] cnf: paulmooring: that's just configuration hell...
[2012-05-09 22:18:46 -0400] yfeldblum: cnf, then every time they `vagrant up` or `vagrant provision`, they get the latest
[2012-05-09 22:18:57 -0400] yfeldblum: cnf, welcome to configuration
[2012-05-09 22:21:06 -0400] cnf: paulmooring: chef is confusing as all hell...
[2012-05-09 22:23:00 -0400] yfeldblum: cnf, yep
[2012-05-09 22:23:17 -0400] paulmooring: cnf: I think you're getting to tied up in trying to solve everything at once, there's a few options to make chef/vagrant do what you want using chef-solo is the simplest, but the joy of Chef is cookbooks are pretty portable, use chef-solo here, hosted chef there, one runs Debian another CentOS
[2012-05-09 22:23:53 -0400] cnf: paulmooring: so far cookbooks have been biting me left and right
[2012-05-09 22:24:14 -0400] cnf: so has chef, though (though ssd7 seems to have fixed that bit...)
[2012-05-09 22:24:29 -0400] paulmooring: ssd7__:  is pretty helpful
[2012-05-09 22:24:45 -0400] cnf: there was a bug or something on -hosted
[2012-05-09 22:24:53 -0400] cnf: and of course _i_ run into it
[2012-05-09 22:25:04 -0400] yfeldblum: cnf, http://status.opscode.com/
[2012-05-09 22:25:09 -0400] paulmooring: I work for Opscode in support so I'm more aware of it then I want to be :(
[2012-05-09 22:25:11 -0400] yfeldblum: cnf, yesterday wasn't your day
[2012-05-09 22:25:36 -0400] cnf: Permission Errors on Cookbooks << that was mine...
[2012-05-09 22:26:30 -0400] yfeldblum: latez
[2012-05-09 22:27:12 -0400] cnf: atm, i feel like a carpenter looking for a drill because i need a hole drilled, and keep getting told you i need to learn electromechanics and laws of magnetism etc before i can use a drill
[2012-05-09 22:28:06 -0400] paulmooring: cnf: that's a somewhat common first re-action, especially for people with no Ruby experience starting out with something like vagrant
[2012-05-09 22:28:27 -0400] cnf: tbh, vagrant has been a champ so far!
[2012-05-09 22:28:33 -0400] paulmooring: Sort of like learning to drive stick shift by racing formula one
[2012-05-09 22:28:55 -0400] cnf: yeah, it is all rather overwhelming
[2012-05-09 22:29:54 -0400] paulmooring: I still recommend choosing something simple you need done and writing a cookbook on Hosted Chef, imo most of the pieces seem much simpler taken one at a time
[2012-05-09 22:30:20 -0400] cnf: heh, nothing i need done is simple, really ^^;
[2012-05-09 22:31:07 -0400] cnf: i'll play some with a mock up cookbook
[2012-05-09 22:31:12 -0400] paulmooring: what about a base role? set up ntp, software repositories, sysctl
[2012-05-09 22:31:28 -0400] paulmooring: that's usually a soft but productive introduction to Chef
[2012-05-09 22:33:00 -0400] cnf: yeah
[2012-05-09 22:33:24 -0400] cnf: so far, i have come to the realization i'll have to write pretty much every recipe myself
[2012-05-09 22:33:33 -0400] miah: whys thats?
[2012-05-09 22:33:59 -0400] cnf: miah: because so far most cookbooks have either plain not worked for me, or done weird things
[2012-05-09 22:34:06 -0400] paulmooring: I think you'll find when you get 1 or 2 under your belt modifying stuff from the community site covers 95% of what you'll need
[2012-05-09 22:34:22 -0400] cnf: and i get a lot of people here telling me that that is what is expected, anyway
[2012-05-09 22:34:26 -0400] paulmooring: the problem is before you can do that you need to be able to understand how they work
[2012-05-09 22:34:36 -0400] paulmooring: also the postgres cookbook is weird
[2012-05-09 22:35:00 -0400] cnf: paulmooring: thing is, modifying means tracking and version control, which means more administration
[2012-05-09 22:35:15 -0400] cnf: and yes, that one was a major pain...
[2012-05-09 22:35:26 -0400] cnf: not a good idea to start with postgres ^^;
[2012-05-09 22:35:45 -0400] paulmooring: cnf: version control is pretty central to any good config management system not just Chef
[2012-05-09 22:36:11 -0400] cnf: paulmooring: of course, but the more cookbooks you can use unmodified, the more that is done centrally
[2012-05-09 22:37:49 -0400] miah: well. lots of the community cookbooks are written very proceduraly
[2012-05-09 22:38:06 -0400] miah: eg, 'default.rb' that ends up being ~70lines of jresource abuse
[2012-05-09 22:38:29 -0400] miah: guh. mega lag
[2012-05-09 22:38:33 -0400] bemu: You mean we can make recipes called things other than default.rb?
[2012-05-09 22:39:23 -0400] paulmooring: bemu: usually just client.rb then default.rb is a 1 line include client.rb :)
[2012-05-09 22:39:48 -0400] bemu: and client.rb has one resource, which is a definition.
[2012-05-09 22:40:25 -0400] paulmooring: I'm thinking about writing a Chef worst practices book now
[2012-05-09 22:40:31 -0400] cnf: ^^;
[2012-05-09 22:40:32 -0400] bemu: and the definition just uses an LWRP.
[2012-05-09 22:40:37 -0400] bemu: :B
[2012-05-09 22:40:51 -0400] cnf: meh, i still don't get half the chef concepts
[2012-05-09 22:40:59 -0400] cnf: (and the other half only vaguely :P )
[2012-05-09 22:41:06 -0400] bemu: We're just trollin'
[2012-05-09 22:41:13 -0400] bemu: Don't mind us.
[2012-05-09 22:41:27 -0400] bemu: Yes, there are some pretty bad recipes out there. But there are also some great ones.
[2012-05-09 22:41:51 -0400] bemu: It's also not always super easy to tell which are better than others, without reading the code and testing them. Or asking.
[2012-05-09 22:41:55 -0400] cnf: it's kinda weird seeing yum recipes on a debian box o,O
[2012-05-09 22:42:04 -0400] bemu: because there are numerous recipes for many projects, from numerous people.
[2012-05-09 22:42:15 -0400] bemu: You can build RPMs on debian too, iirc.
[2012-05-09 22:42:29 -0400] cnf: it's not used
[2012-05-09 22:42:46 -0400] cnf: the git cookbook had it as a dependency
[2012-05-09 22:42:59 -0400] cnf: it also has runit as a dependency
[2012-05-09 22:43:13 -0400] cnf: just in case you install to redhat, or want to run git::server
[2012-05-09 22:43:23 -0400] paulmooring: cnf: dependencies will pull in anything that might be used, but they aren't needed for every platform
[2012-05-09 22:43:38 -0400] cnf: i understand this, it just gets a bit messy
[2012-05-09 22:43:54 -0400] paulmooring: you'll see apt and yum get pulled in all the time and generally only 1 is used depending on the platform
[2012-05-09 22:44:03 -0400] bemu: cnf: That drives me crazy also.
[2012-05-09 22:45:08 -0400] cnf: paulmooring: is there a way to version your settings on -hosted? (or -server) for that matter?
[2012-05-09 22:45:30 -0400] paulmooring: what settings are you referring to?
[2012-05-09 22:45:49 -0400] cnf: well, everything ^^;
[2012-05-09 22:46:04 -0400] miah: you can version your roles etc with git
[2012-05-09 22:46:18 -0400] paulmooring: only cookbooks are versioned, the idea is that everything else should be in revision control
[2012-05-09 22:46:32 -0400] bemu: If anyone is in the SF / Bay Area, we're hosting a pre-Chef Conf hacknight on Monday: http://www.meetup.com/San-Francisco-DevOps/events/62187472/
[2012-05-09 22:46:33 -0400] miah: (even cookbooks should be in revision control)
[2012-05-09 22:46:34 -0400] cnf: yeah, that's what i mean
[2012-05-09 22:46:36 -0400] paulmooring: We like git and as such provide a base git chef repo
[2012-05-09 22:46:44 -0400] cnf: how do i put my -hosted config in hit
[2012-05-09 22:46:48 -0400] cnf: git*
[2012-05-09 22:46:55 -0400] miah: bemu: that reminds me =)
[2012-05-09 22:47:19 -0400] __chrisf__: I'm wondering if there is a known issue deploying Ubuntu 12.04 via KNIFE EC2 from Chef 0.10.04. I seem to get a failure due to Ruby and/or RubyGems as part of bootstrapping Chef-Client
[2012-05-09 22:47:23 -0400] paulmooring: cnf: in theory you use git as you go, you make your files and upload via knife using git add and git commit as needed
[2012-05-09 22:47:49 -0400] cnf: oh, so if i use knife directly, i'm kinda screwed?
[2012-05-09 22:47:54 -0400] paulmooring: there's also an unofficial backup script you can download the current state of everything but cookbooks using
[2012-05-09 22:48:03 -0400] bemu: hahah, jinx.
[2012-05-09 22:48:21 -0400] bemu: I beat you by 6 seconds. :D
[2012-05-09 22:48:36 -0400] miah: :P
[2012-05-09 22:48:51 -0400] bemu: Actually, vice versa.
[2012-05-09 22:49:14 -0400] bemu: chrisf: I think I read someone mentioning that. Not sure where, maybe mailing list?
[2012-05-09 22:49:27 -0400] cnf: hmz
[2012-05-09 22:49:27 -0400] paulmooring: I think ssd7__ has the latest version of the backup plugin https://github.com/stevendanna/knife-hacks
[2012-05-09 22:50:33 -0400] miah: you can also 'knife show role -fj'
[2012-05-09 22:50:38 -0400] miah: er, knife role show
[2012-05-09 22:50:41 -0400] miah: I ALWAYS DO THIS
[2012-05-09 22:51:05 -0400] atomic-penguin: cnf, if it makes you feel any better I spent several hours trying to troubleshoot an error my first day, turns out it was a bug with chef-server.  bugs happen
[2012-05-09 22:51:36 -0400] cnf: miah: ?
[2012-05-09 22:51:37 -0400] bawt_: miah: is there a specific way to reference the service... or can you just do like notifies :restart, resources(:service => 'service_name')
[2012-05-09 22:51:50 -0400] cnf: hmz
[2012-05-09 22:51:50 -0400] bemu: lol
[2012-05-09 22:51:52 -0400] cnf: o,O
[2012-05-09 22:51:54 -0400] atomic-penguin: bawt_, forget miah
[2012-05-09 22:51:54 -0400] bawt_: alright
[2012-05-09 22:52:03 -0400] bemu: miah: ?
[2012-05-09 22:52:03 -0400] bawt_: miah: is there a specific way to reference the service... or can you just do like notifies :restart, resources(:service => 'service_name')
[2012-05-09 22:52:06 -0400] cnf: damnit, this stuff really is HARD to get started with
[2012-05-09 22:52:11 -0400] bemu: cnf: ?
[2012-05-09 22:52:17 -0400] bemu: beemu: ?
[2012-05-09 22:52:20 -0400] bemu: bemu: ?
[2012-05-09 22:52:20 -0400] bawt_: bemu: is it dep_selector, or your ruby build that is trying this? typically, ruby code just calls `require` and lets the ruby VM sort out where the file is and whether it's ruby or compiled C
[2012-05-09 22:52:22 -0400] atomic-penguin: bawt_, forget miah:
[2012-05-09 22:52:22 -0400] bawt_: lemme take care of that for you
[2012-05-09 22:52:37 -0400] bemu: It's not that, it apparently logs your last question?
[2012-05-09 22:52:47 -0400] bemu: as long as it started with is?
[2012-05-09 22:52:55 -0400] atomic-penguin: atomic-penguin?
[2012-05-09 22:52:56 -0400] bemu: So weird.
[2012-05-09 22:52:56 -0400] bawt_: atomic-penguin is fucking awesome
[2012-05-09 22:53:02 -0400] bemu: no.
[2012-05-09 22:53:07 -0400] bemu: atomic-penguin: ?
[2012-05-09 22:53:08 -0400] bawt_: atomic-penguin: are you sure about that, it's the way puppet works I know, and I can handle it, but I want to be sure
[2012-05-09 22:53:24 -0400] bemu: lol.
[2012-05-09 22:53:29 -0400] cnf: break time, brain is getting overheated
[2012-05-09 22:53:30 -0400] miah: bawt_: <3
[2012-05-09 22:53:44 -0400] bemu: cnf: It'll all make sense soon.
[2012-05-09 22:53:53 -0400] cnf: right...
[2012-05-09 22:53:56 -0400] miah: =)
[2012-05-09 22:54:05 -0400] miah: cnf: it definitely will. just keep bugging us :P
[2012-05-09 22:54:48 -0400] bemu: You'll be happy to have learned, trust me.
[2012-05-09 23:15:00 -0400] yfeldblum: cnf, unfortunately, chef isn't a tool; it's a lifestyle
[2012-05-09 23:15:13 -0400] cnf: bs
[2012-05-09 23:16:37 -0400] bemu: hahaha.
[2012-05-09 23:23:17 -0400] agoddard: 'cause I'm a total fool, I wasn't using spiceweasel in one of our environments, and couch backups didn't work (?!).. so what to do? Reverse engineer roles from nagios hosts groups ;) https://gist.github.com/2649639/
[2012-05-09 23:26:01 -0400] agoddard: ^ well, it's nearly there, I forgot to use fqdns instead of IPs.. :-/
[2012-05-09 23:36:19 -0400] cgriego: I just got hit with the permission issue with chef-client again. Am I going to have to use -p every time I delete a cookbook now?
[2012-05-09 23:37:10 -0400] hoover_damn: using hosted?
[2012-05-09 23:37:16 -0400] cgriego: hoover_damn: yep
[2012-05-09 23:37:17 -0400] hoover_damn: or do you host your own?
[2012-05-09 23:37:24 -0400] cgriego: hoover_damn: hosted
[2012-05-09 23:37:27 -0400] hoover_damn: shouldn't have to use -p
[2012-05-09 23:37:48 -0400] cnf: hoover_damn: -hosted has uhm, issues last night
[2012-05-09 23:37:57 -0400] cnf: http://status.opscode.com/
[2012-05-09 23:37:58 -0400] jessicab: cgiego - last i heard that was resolved this morning.. sure it isnt an actual permissions issue?
[2012-05-09 23:38:19 -0400] hoover_damn: basically you have to purge because S3 is acting up
[2012-05-09 23:38:26 -0400] hoover_damn: files are hosted on s3 for hosted
[2012-05-09 23:38:31 -0400] hoover_damn: that would be my guess
[2012-05-09 23:38:44 -0400] hoover_damn: if it bugs you file a ticket with opscode so they can follow up and make sure it's fixed
[2012-05-09 23:38:59 -0400] hoover_damn: and it's good to see you on full chef cgriego :)
[2012-05-09 23:39:05 -0400] cgriego: jessicab: I'm the only one with access to the org I'm experiencing issues and I haven't touched the permissions
[2012-05-09 23:39:29 -0400] hoover_damn: cgriego, did you sign up last night?
[2012-05-09 23:41:36 -0400] jessicab: cgriego - odd.. was it already a cookbook that youve deleted since this morning and reuploaded too?
[2012-05-09 23:44:18 -0400] cgriego: hoover_damn: been messing around for a bit
[2012-05-09 23:44:42 -0400] cgriego: jessicab: yes, I had purged every cookbook and succesfully run chef since the issues this morning
[2012-05-09 23:45:04 -0400] mehlah: Is it possible to apply a given recipe to a node with creating a role for it, and adding it to the node ?
[2012-05-09 23:45:45 -0400] mehlah:  /with/without
[2012-05-09 23:45:46 -0400] mehlah: :)
[2012-05-09 23:57:16 -0400] shuvo_: How do I schedule a chef-client run immediately on specific nodes *without* using knife ssh. Assume chef-client is scheduled to run every 30 mins but there is no run locking
[2012-05-09 23:58:01 -0400] shuvo_: think "Oops I missed the last commit to the cookbook repo and I better make it right ASAP"
[2012-05-09 23:58:12 -0400] shuvo_: s/missed/messed
[2012-05-09 23:58:53 -0400] hoover_damn: there's many ways of running chef client... this isn't something that chef itself handles directly
[2012-05-09 23:59:09 -0400] hoover_damn: you can run chef-client with rundeck
[2012-05-09 23:59:20 -0400] hoover_damn: other people have configured rabbitmq and 0mq listners to kick off chef-client
