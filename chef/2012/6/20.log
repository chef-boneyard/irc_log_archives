[2012-06-20 00:00:16 -0400] miah: lols
[2012-06-20 00:00:29 -0400] yfeldblum: miah, think that could be related?
[2012-06-20 00:00:34 -0400] miah: YES INDEED
[2012-06-20 00:00:42 -0400] yfeldblum: miah, i'm just looking out code and throwing out wild guesses here
[2012-06-20 00:00:53 -0400] miah: i think it is though
[2012-06-20 00:01:01 -0400] yfeldblum: miah, i didn't see that in the openssh cookbook though
[2012-06-20 00:02:09 -0400] miah: i added logrotate and my run goes up to 4.5 seconds
[2012-06-20 00:02:12 -0400] miah: :/
[2012-06-20 00:02:21 -0400] setient: from what
[2012-06-20 00:02:25 -0400] miah: 0.4
[2012-06-20 00:02:29 -0400] LawrenceSeattle: If I want to do something in parallel across multiple hosts, knife ssh can do that right?
[2012-06-20 00:02:29 -0400] papertigers: yfeldblum: server = <%- @blah.keys.sort.each |key| -%><%= @blah[key] =%><%- end -%>
[2012-06-20 00:02:29 -0400] setient: yeah, thats bad.
[2012-06-20 00:02:46 -0400] papertigers: yeah doesnt work
[2012-06-20 00:03:27 -0400] yfeldblum: miah, in such cases i like to make my own cookbook or at least recipe whose sole purpose is to depend on the logrotate cookbook and include_recipe the logrotate recipe but re-open the logrotate package resource and change the declared actions array
[2012-06-20 00:03:45 -0400] miah: i'd rather fork and fix =)
[2012-06-20 00:04:12 -0400] yfeldblum: miah, at least until upstream is fixed, because i only like forking as a last resort in unusual cases
[2012-06-20 00:04:38 -0400] yfeldblum: miah, but forking & fixing certainly makes the whole structure a little simpler
[2012-06-20 00:05:01 -0400] ssd7: LawrenceSeattle: Yup, knife ssh will let you run some command across a set of your nodes.  The set is determined via search.
[2012-06-20 00:06:56 -0400] yfeldblum: papertigers, of course you've got to use a little bit more code than that
[2012-06-20 00:07:09 -0400] yfeldblum: papertigers, for example to get them comma-separated, you can do
[2012-06-20 00:07:34 -0400] yfeldblum: papertigers, server = <%= @blah.keys.sort.map{|k| @blah[k]}.join(",") %>
[2012-06-20 00:08:30 -0400] david415: yo
[2012-06-20 00:09:30 -0400] david415: i'm writing a percona-config cookbook with a line like this in the default recipe...
[2012-06-20 00:09:34 -0400] david415:   node.set["percona-config"]["server-id"] = "#{Random.rand(4294967295)}"
[2012-06-20 00:10:01 -0400] david415: FATAL: NameError: uninitialized constant Chef::Recipe::Random
[2012-06-20 00:10:13 -0400] david415: any ideas?
[2012-06-20 00:12:20 -0400] papertigers: yfeldblum: I am getting undefined method `keys'
[2012-06-20 00:14:37 -0400] hoover_damm: miah, how do you calculate server-id?
[2012-06-20 00:14:45 -0400] hoover_damm: miah, would you like my trick on how I generate server-id?
[2012-06-20 00:14:51 -0400] hoover_damm: on percona
[2012-06-20 00:15:05 -0400] miah: hoover_damm: please tell david415, as he's my coworker =)
[2012-06-20 00:15:17 -0400] miah: but i'm also curious to hear
[2012-06-20 00:15:23 -0400] miah: though, i think our method will work fine
[2012-06-20 00:15:37 -0400] miah: once we can figure out why we're derpy
[2012-06-20 00:16:05 -0400] hoover_damm: david415, :server_id => node['cloud']['private_ips'].first.split('.').collect {|o| o.to_i}.inject(0) {|acc,o| acc*256 + o}
[2012-06-20 00:16:21 -0400] hoover_damm: david415, modify node['cloud']['private_ips'].first to be like eth0's ip
[2012-06-20 00:16:35 -0400] hoover_damm: david415, basically uses the ipaddress stdlib to generate a unique / dependable id
[2012-06-20 00:16:38 -0400] hoover_damm: off of your ip
[2012-06-20 00:16:54 -0400] hoover_damm: provided you don't have 2 servers with the same ip
[2012-06-20 00:16:59 -0400] hoover_damm: you should never have a conflict
[2012-06-20 00:17:07 -0400] miah: thats a interesting way to do it
[2012-06-20 00:17:28 -0400] david415: hoover_damm: cool
[2012-06-20 00:17:51 -0400] hoover_damm: yep.  I refactored it into that at Engine Yard
[2012-06-20 00:18:09 -0400] hoover_damm: I neer pushed that up to opscode
[2012-06-20 00:18:12 -0400] hoover_damm: never*
[2012-06-20 00:19:35 -0400] david415: heh cloud
[2012-06-20 00:20:42 -0400] david415: i guess i'll grab the ip out of the node attributes...
[2012-06-20 00:20:49 -0400] hoover_damm: that was copy and pasted from a rackspace cookbook
[2012-06-20 00:20:57 -0400] hoover_damm: this is the cornerstone of sharing
[2012-06-20 00:21:11 -0400] david415: ah rackspace... cool.
[2012-06-20 00:21:16 -0400] hoover_damm: not really
[2012-06-20 00:21:20 -0400] hoover_damm: I hate rackspace
[2012-06-20 00:21:29 -0400] hoover_damm: nothing like waiting 10 minutes for a xm server create
[2012-06-20 00:21:38 -0400] david415: i will share my cookbook when done
[2012-06-20 00:22:24 -0400] papertigers: yfeldblum: search says it returns an array and note a hash
[2012-06-20 00:23:23 -0400] miah: oh. maybe it is an array. sorry. =)
[2012-06-20 00:23:34 -0400] miah: you can still pull out values
[2012-06-20 00:23:47 -0400] miah: iirc, its an array of hashes
[2012-06-20 00:25:39 -0400] miah: guh. i am missing apt already.
[2012-06-20 00:26:18 -0400] javawidget: I have a question - might be a bit more complex than my last fit of newbism...
[2012-06-20 00:26:25 -0400] javawidget: ;)
[2012-06-20 00:26:55 -0400] hoover_damm: miah, sometimes you miss apt... sometimes you don't
[2012-06-20 00:28:03 -0400] javawidget: can I somehow query chef for nodes in a particular env/role and include those nodes in my config file (erb template)
[2012-06-20 00:29:36 -0400] miah: no. i always miss it.
[2012-06-20 00:30:48 -0400] miah: mostly i hate redhat
[2012-06-20 00:31:12 -0400] miah: but thats really because i hate rpm's and how far behind redhat is on most things
[2012-06-20 00:31:19 -0400] hoover_damm: I've run just about every distro there is
[2012-06-20 00:31:23 -0400] miah: same
[2012-06-20 00:31:25 -0400] hoover_damm: there is no sweet happy story
[2012-06-20 00:31:44 -0400] hoover_damm: even ubuntu you end up grabbing the pole and shoving it up deep now and then
[2012-06-20 00:31:56 -0400] david415: hoover_damm: i don't like it but i've seen use of time() to set the server-id
[2012-06-20 00:32:09 -0400] david415: built it race condition
[2012-06-20 00:32:14 -0400] david415: yay
[2012-06-20 00:32:17 -0400] hoover_damm: using source based is appealing as you don't have to care about upstream
[2012-06-20 00:32:41 -0400] hoover_damm: but you end up screwing yourself as you have to maintain it
[2012-06-20 00:33:04 -0400] hoover_damm: likely more people will get pulled into OmniOS and others
[2012-06-20 00:33:14 -0400] hoover_damm: just because the Debian/Ubuntu/Redhat/CentOS drama is old
[2012-06-20 00:33:21 -0400] hoover_damm: and the fact that they are so far apart from each other
[2012-06-20 00:33:26 -0400] hoover_damm: should make you grind your teeth alot
[2012-06-20 00:33:32 -0400] hector: javawidget http://wiki.opscode.com/display/chef/Search
[2012-06-20 00:33:43 -0400] hoover_damm: david415, time? LOL
[2012-06-20 00:34:02 -0400] gp5st: hello.  I'm sorry if this is a dumb question.  inside my cookbook, how do i get the version of the cookbook?
[2012-06-20 00:34:05 -0400] hoover_damm: david415, that method I shared is something EY used for 2+years without an issue
[2012-06-20 00:34:18 -0400] hoover_damm: I can share the original ugly method if your curious
[2012-06-20 00:34:55 -0400] hector: gp5st version should be in metadata.rb file
[2012-06-20 00:34:59 -0400] josephholsten: I could really use a parallel `rake upload_all`
[2012-06-20 00:35:06 -0400] david415: that's OK. i got the idea... and it sounds good.
[2012-06-20 00:35:25 -0400] josephholsten: it's silly for knife cookbook upload -a to be sooo slow
[2012-06-20 00:35:27 -0400] gp5st: hector: yeah, but how do i access that inside a provider or recipie?
[2012-06-20 00:35:52 -0400] hoover_damm: josephholsten, it's slow because your files are being pushed from your local machine, to hosted, to s3
[2012-06-20 00:35:59 -0400] erikh: I wrote one
[2012-06-20 00:36:10 -0400] erikh: but I can't share it.
[2012-06-20 00:36:15 -0400] erikh: pester my old company to publish it
[2012-06-20 00:36:31 -0400] josephholsten: hoover_damm: local hosted chef server
[2012-06-20 00:36:37 -0400] erikh: parallel and only uploads if required.
[2012-06-20 00:45:42 -0400] hector: gp5st will this help you ? http://wiki.opscode.com/display/chef/Version+Constraints - couldn't find an example where cookbook version can be pulled from within a provider or recipe
[2012-06-20 00:46:43 -0400] josephholsten: erikh: how do you check if upload is required?
[2012-06-20 00:47:41 -0400] hoover_damm: josephholsten, then couchdb is slow
[2012-06-20 00:47:57 -0400] josephholsten: probably
[2012-06-20 00:48:14 -0400] erikh: josephholsten: there's a rest API for getting at the checksums
[2012-06-20 00:48:23 -0400] gp5st: hector: no, sorry.  what i'm trying to do is force my code to reinstall itself when the cook book version changes (as well as when the node config changes)
[2012-06-20 00:48:33 -0400] erikh: there's also a local cookbook class and a remote cookbook one
[2012-06-20 00:48:44 -0400] erikh: then, stuff that all into a thread pool
[2012-06-20 00:49:02 -0400] erikh: it's not a particularly involved script
[2012-06-20 00:49:15 -0400] erikh: anyhow, all the bits you need are already in chef, that's the good news.
[2012-06-20 00:50:44 -0400] erikh: if you put it together, please open-source it :)
[2012-06-20 00:54:28 -0400] gp5st: does webpi run really slowly for anyone else?
[2012-06-20 00:55:33 -0400] miah: i never use the webui
[2012-06-20 00:55:46 -0400] gp5st: miah, isn't it part of the iis cookbook?
[2012-06-20 00:55:59 -0400] gp5st: i didn't know i could get rid of it
[2012-06-20 00:56:18 -0400] miah: i dont run windows
[2012-06-20 00:56:28 -0400] gp5st: then why did you respond?
[2012-06-20 00:56:34 -0400] erikh: thought you made a typo
[2012-06-20 00:56:37 -0400] erikh: chef has a webui.
[2012-06-20 00:56:44 -0400] gp5st: oh
[2012-06-20 00:56:52 -0400] gp5st: i'm sorry, i misread miah's response
[2012-06-20 00:57:04 -0400] erikh: let's all have a hug now
[2012-06-20 00:57:09 -0400] gp5st: :-p
[2012-06-20 00:57:13 -0400] yfeldblum: miah, two good choices :P
[2012-06-20 00:57:25 -0400] hakunin: Guys, I can't seem to create some users on ubuntu 12.04 because ruby-shadow isn't detected. I tried both package "libshadow-ruby1.8", and chef_gem("ruby-shadow") { action :install }. Former says it's already installed. Latter says it fails trying to build... I setup chef using knife-solo. Any ideas?
[2012-06-20 00:57:27 -0400] miah: keeps me from crying myself to sleep =)
[2012-06-20 00:57:44 -0400] gp5st: trust me i wouldn't use windows if i had a choice.  the firm i joined uses C# and asp.net. I love C#, but hate the ecosystem around it.
[2012-06-20 00:57:57 -0400] erikh: hakunin: do you have a compiler installed?
[2012-06-20 00:57:59 -0400] gp5st: i'm also moving towards knife more and more. it's very capable:)
[2012-06-20 00:58:35 -0400] hakunin: erikh: i would assume chef-solo uses opscode bootstrap scripts that install it?
[2012-06-20 00:58:54 -0400] hakunin: erikh: sorry, knife-solo
[2012-06-20 00:58:57 -0400] erikh: hakunin: hrm. not sure.
[2012-06-20 00:59:08 -0400] erikh: matschaffer isn't around to answer that one, either.
[2012-06-20 00:59:33 -0400] erikh: what does `which gcc` return?
[2012-06-20 00:59:41 -0400] hakunin: erikh: is the question whether knife-solo uses opscode bootstrap or whether opscode bootstrap install compiler?
[2012-06-20 00:59:46 -0400] erikh: the latter.
[2012-06-20 01:00:00 -0400] erikh: well, really, just do you have a compiler or your system or not
[2012-06-20 01:00:00 -0400] Twirrim: I don't mind preferring microsoft or apple or whatever, but that particular director took it to extremes (hence one of our sister companies had to "drop everything" to create a Windows Phone 7 app ready for launch week, an app which still hasn't turned a profit)
[2012-06-20 01:00:24 -0400] hakunin: erikh: yeah which gcc returns nothing, but whereis gcc says: gcc: /usr/lib/gcc
[2012-06-20 01:00:31 -0400] erikh: ok
[2012-06-20 01:00:40 -0400] erikh: humor me; apt-get install build-essential
[2012-06-20 01:00:42 -0400] hakunin: erikh: gcc --version complains of lack of package
[2012-06-20 01:01:00 -0400] hakunin: erikh: you're probably right
[2012-06-20 01:01:09 -0400] erikh: your gems should build after that
[2012-06-20 01:01:24 -0400] erikh: unless you need another library, which you shouldn't for ruby-shadow
[2012-06-20 01:01:28 -0400] hakunin: definitely, i had no clue build-essential wasn't part of bootstrap, i'm an idiot
[2012-06-20 01:01:36 -0400] erikh: not an idiot!
[2012-06-20 01:01:43 -0400] hakunin: : )
[2012-06-20 01:01:48 -0400] erikh: anyhow I need to go. have fun!
[2012-06-20 01:01:52 -0400] hakunin: thanks!
[2012-06-20 01:06:04 -0400] erratic: omw
[2012-06-20 01:10:23 -0400] dbalatero: what's the right way to have new lines inside of data bag .json files?
[2012-06-20 01:10:30 -0400] dbalatero: i've been banging my head against the wall for a while
[2012-06-20 01:10:52 -0400] dbalatero: i'm getting JSON::ParserError: 743: unexpected token at '{ for strings that have literal \n's, i.e.  { key: "value\n" }
[2012-06-20 01:11:55 -0400] sivy: dbalatero: might need to escape them?\\\n
[2012-06-20 01:11:59 -0400] sivy: er,
[2012-06-20 01:12:01 -0400] sivy: \\n
[2012-06-20 01:12:33 -0400] dbalatero: sivy: that fails too :(
[2012-06-20 01:12:38 -0400] sivy: dbalatero: dunno then
[2012-06-20 01:15:16 -0400] dbalatero: ick, i wasn't quoting my keys
[2012-06-20 01:22:51 -0400] danderson: is there an omnibus installer for chef server?
[2012-06-20 01:23:04 -0400] danderson: google only reveals the client install script
[2012-06-20 01:57:11 -0400] williamherry: what's difference between client and node?
[2012-06-20 01:59:00 -0400] miah: a client doesn't necessarily have to be a node. you can have api clients.
[2012-06-20 02:04:38 -0400] erratic: bloop
[2012-06-20 02:07:40 -0400] yfeldblum: williamherry, a node represent something that has been configured by chef or is being configured by chef; a client represents something that can ask questions of and even tell information to a chef-server
[2012-06-20 02:08:33 -0400] yfeldblum: williamherry, in a chef-client run, both a node and a client are involved; but the different components of the process are split up into the different concepts
[2012-06-20 02:46:48 -0400] woozie: I knifed out a rackspace server just now and it did not bootstrap completely, no chef-client.  I remember this is something that would just happen, or do I need to include chef-client in a recipe now?
[2012-06-20 02:47:23 -0400] woozie: kinda fell out of the chef kitchen last few months :-|
[2012-06-20 02:48:36 -0400] woozie: http://dpaste.com/761447/
[2012-06-20 02:49:23 -0400] yfeldblum: woozie, if it's cloud, might as well delete the server and try again
[2012-06-20 02:50:05 -0400] hoover_damm: it's 12.04
[2012-06-20 02:50:21 -0400] hoover_damm: woozie, what version of chef? you might wanna make sure your bootstrap is updated for 12.04
[2012-06-20 02:50:35 -0400] hoover_damm: package names change now and then
[2012-06-20 02:50:38 -0400] hoover_damm: fun stuff
[2012-06-20 02:50:44 -0400] woozie: chef 0.10.8
[2012-06-20 02:50:58 -0400] hoover_damm: yep it lacked a 12.04 bootstrap
[2012-06-20 02:51:00 -0400] hoover_damm: get 0.10.12
[2012-06-20 02:51:12 -0400] woozie: thanks will do
[2012-06-20 03:22:59 -0400] bertobull: hi guys
[2012-06-20 03:23:30 -0400] hakunin: Is there a particular reason i see Ubuntu 10.04 used in every single example, even in more recent articles? Or is it really just because it was the latest at the time most things were written?
[2012-06-20 03:23:58 -0400] hakunin: just want to make sure i'm not running into deadend with my 12.04 setup
[2012-06-20 03:25:15 -0400] bertobull: trying to set up chef to provision a server. my setup is rails + apache2 and passenger. did this manually already, but now want to use chef. Any good tutorials out there or pointers?
[2012-06-20 03:26:01 -0400] yfeldblum: 10.04 is the long-term-support release preceding 12.04, so many people might choose it even over 10.10, 11.04, and 11.10
[2012-06-20 03:26:12 -0400] cheeseplus: bertobull: http://www.amee.com/blog/2011/12/22/ruby-1-9-2-rails-3-x-and-passenger-with-chef/
[2012-06-20 03:26:15 -0400] hakunin: bertobull: one of the recent (paid) railscasts does a superb job making chef-solo clear: http://railscasts.com/episodes/339-chef-solo-basics
[2012-06-20 03:27:34 -0400] bullardo: if I was part of the chef class is there any way to get a copy of the slides from last month?
[2012-06-20 03:27:42 -0400] hakunin: yfeldblum: i see, wasn't familiar with the concept of long term support release
[2012-06-20 03:27:57 -0400] hakunin: yfeldblum: do we know if 12.04 is that too?
[2012-06-20 03:28:16 -0400] hakunin: saw a couple of places migrating from 10.04 to 12.04
[2012-06-20 03:28:39 -0400] bertobull: thanks guys. I actually want to use chef server rather than chef-solo. Cheeplus, I skimmed that link, but didn't seem like what I was after. I simply want to provision a linode server
[2012-06-20 03:29:20 -0400] hakunin: bertobull: chef server requires you to provision a server in order to provision a server
[2012-06-20 03:29:23 -0400] cheeseplus: bertobull: there are definitely cookbook for the apps you want already out there, it's just a matter of tweaking them to your needs
[2012-06-20 03:29:59 -0400] hakunin: bertobull: fyi ryan bates in that railscast uses chef-solo to simply provision a linode
[2012-06-20 03:30:02 -0400] hoover_damm: hrm, makes me feel like I should send a pull request to add passenger support to the nginx cookbook
[2012-06-20 03:30:32 -0400] hakunin: LTS <- now i get it...
[2012-06-20 03:31:01 -0400] hakunin: 12.04 is LTS, yay!
[2012-06-20 03:32:31 -0400] cheeseplus: bertobull: are you looking for tutorials for the chef-server part as well as the client setup?
[2012-06-20 03:33:41 -0400] bertobull: Yep, got it. I'll go over the railscast and see what I can learn then
[2012-06-20 03:34:21 -0400] bertobull: Cheeseplus: Yes, I want to use opscode to host my configuration.
[2012-06-20 03:37:26 -0400] cheeseplus: bertobull: the fast start guide has instructions for hosted chef: http://wiki.opscode.com/display/chef/Fast+Start+Guide
[2012-06-20 03:38:26 -0400] bullardo: is there any good tutorials on automating zenoss by chance?
[2012-06-20 03:38:56 -0400] cheeseplus: http://www.opscode.com/blog/2011/01/27/webcast-recording-automating-zenoss-core-with-chef/
[2012-06-20 03:46:34 -0400] bertobull: cheeseplus: so I've done most of that already. I've used knife to install many cookbooks and uploaded them to my account. so I have the roles for my server and my db all uploaded to my account. Now I think I should ssh into my 'node' and run chef-client, but I'm confused. My node is a linode, how does chef even know about it?
[2012-06-20 03:48:48 -0400] cheesepl_: bertobull: when setting up the chef-client you will provide it keys and the address
[2012-06-20 03:49:33 -0400] cheesepl_: you can use knife bootstrap to do this
[2012-06-20 03:49:51 -0400] cheesepl_: a la: http://wiki.opscode.com/display/chef/Client+Bootstrap+Fast+Start+Guide
[2012-06-20 03:54:39 -0400] bertobull: Cheesepl_: awesome. thanks.
[2012-06-20 03:55:59 -0400] cheeseplus: bertobull: np, once you get that going you can check with "knife client list" and then you can run chef-client from the host
[2012-06-20 03:57:29 -0400] bertobull: cheeseplus: Ok, checking it out now
[2012-06-20 04:00:22 -0400] danryan: hey folks, I'm trying to bind mount a directory to another with chef, and I'm getting some strange behaviour: https://gist.github.com/f42dc84c20b826f104a4
[2012-06-20 04:01:14 -0400] danryan: Chef puts the mountpoint in fstab correctly, but it re-mounts it every time Chef is run. This is Ubuntu 10.04. My mount resource doesn't seem too out of the ordinary...
[2012-06-20 04:01:54 -0400] cheeseplus: danryan: the fstype is none, is that intended?
[2012-06-20 04:03:34 -0400] miah: hullos
[2012-06-20 04:04:39 -0400] danryan: cheeseplus: yessir, I don't want these mounts to show up in df -h (since /mnt is already listed)
[2012-06-20 04:04:44 -0400] miah: danryan: i dont think you need 'type'
[2012-06-20 04:05:01 -0400] danryan: miah: fstype in the mount resource block?
[2012-06-20 04:05:12 -0400] miah: you have the word 'type' in your fstab
[2012-06-20 04:06:28 -0400] miah: the third field is the type, but you do not need to specify the word 'type'
[2012-06-20 04:06:35 -0400] miah: http://linux.die.net/man/5/fstab
[2012-06-20 04:06:46 -0400] cheeseplus: danryan: trailing slash
[2012-06-20 04:07:09 -0400] miah: oh DERP ME
[2012-06-20 04:07:14 -0400] miah: i was looking at your mount.sh
[2012-06-20 04:07:18 -0400] miah: ignore my stupid ass for a moment
[2012-06-20 04:08:00 -0400] miah: it likely is trailing slash as cheeseplus said
[2012-06-20 04:10:22 -0400] cheeseplus: danryan: it seems that there was a report of the same thing at some point, hooray for google cache
[2012-06-20 04:11:16 -0400] miah: hopefully there isn't a report of me being a dumbass
[2012-06-20 04:12:32 -0400] danryan: oh
[2012-06-20 04:12:33 -0400] danryan: oh my
[2012-06-20 04:12:35 -0400] danryan: i uh
[2012-06-20 04:12:49 -0400] danryan: it's late, I swear...
[2012-06-20 04:13:02 -0400] danryan: thank you cheeseplus and miah!
[2012-06-20 04:13:15 -0400] cheeseplus: danryan: it's always the little things
[2012-06-20 04:13:20 -0400] miah: yes. i agree. its late =)
[2012-06-20 04:13:36 -0400] cheeseplus: sometimes just a second set of less tired eyes is all thats needed ;)
[2012-06-20 04:14:47 -0400] miah: i was half way home in the dark before i realized i was still wearing my sunglasses
[2012-06-20 04:24:10 -0400] danryan: hehe
[2012-06-20 04:24:17 -0400] danryan: yeap, I think it's bedtime for me :)
[2012-06-20 05:00:36 -0400] woozie: I updated my chef and I can build a vm on rackspace with knife. The vm now has chef-cilent and I can run manually although no /etc/init.d/chef-client script?
[2012-06-20 05:02:24 -0400] woozie: Maybe this isnt a chefism but a ubuntuism?
[2012-06-20 05:04:02 -0400] cheeseplus: woozie: it's not a daemon
[2012-06-20 05:06:08 -0400] cheeseplus: woozie: nm that first comment, what ubuntu version?
[2012-06-20 05:06:37 -0400] cheeseplus: I see a script on my 12.04 test VMs
[2012-06-20 05:07:15 -0400] woozie: I went back to 10.04 LTS jic
[2012-06-20 05:09:05 -0400] cheeseplus: woozie: how did you go about installing the chef-client?
[2012-06-20 05:09:33 -0400] cheeseplus: the omnibus installer or a package?
[2012-06-20 05:10:26 -0400] woozie: cheeseplus: knife rackspace server create -f 2 -I 112. I would assume the bootstrap script would install it... I see it downloading chef and chef client is there just no init.d
[2012-06-20 05:14:23 -0400] cheeseplus: woozie: yea I'd need to fire up something on rackspace to verify - for my part if I bootstrap ubuntu 12.04 nodes via knife bootstrap it definitely creates the init.d
[2012-06-20 05:15:50 -0400] cooper_: woozie: i've had to use the chef-client cookbook to install the init.d script
[2012-06-20 05:16:15 -0400] woozie: http://dpaste.com/761477/
[2012-06-20 05:16:36 -0400] woozie: oh yeah.. cookbook eh
[2012-06-20 05:18:41 -0400] cooper_: woozie: yeah, 'knife rackspace server create' creates the server and installs chef but you've got to tell chef-client if you want to be cron'ed or daemon-ized and the chef-client cookbook can do that
[2012-06-20 05:19:02 -0400] cooper_: *if you want *it* to be cron'ed or  daemon-ized
[2012-06-20 05:19:28 -0400] woozie: has it always been that way?
[2012-06-20 05:19:39 -0400] cooper_: AFAIK, yes
[2012-06-20 05:19:41 -0400] woozie: or did the boostrap change
[2012-06-20 05:19:42 -0400] woozie: hmm
[2012-06-20 05:19:57 -0400] cooper_: can't quite recall though :
[2012-06-20 05:19:57 -0400] woozie: I guess I must have had it in my old roles and didnt know it
[2012-06-20 05:19:58 -0400] cooper_: :S
[2012-06-20 05:20:49 -0400] woozie: but yeah, I just added the recipe and it made it the init. Thanks a lot
[2012-06-20 05:21:22 -0400] cooper_: woozie: welcome :)
[2012-06-20 05:35:52 -0400] williamherry: when I use knife ssh on workstation, does the command transfer to server?
[2012-06-20 05:41:21 -0400] cheeseplus: it uses the server to query for roles
[2012-06-20 05:41:45 -0400] cheeseplus: knife ssh "role:webserver" "sudo chef-client"
[2012-06-20 05:41:52 -0400] woozie: Anyone seen this before?   Chef::Exceptions::Exec: apt-get -q -y install apache2=2.2.14-5ubuntu8.9 returned 100, expected 0
[2012-06-20 05:42:04 -0400] woozie: ubuntu 8.9 ?
[2012-06-20 05:42:09 -0400] philwo: woozie: Yes.. it's usually fixed by running "apt-get update", but I don't know what the root cause is
[2012-06-20 05:42:25 -0400] williamherry: cheeseplus, and then the workstation directory connect to client with ssh, not through server? that's great
[2012-06-20 05:43:06 -0400] woozie: philwo: ah, indeed it did.. I assumed bootstrap did that
[2012-06-20 05:44:14 -0400] cheeseplus: williamherry: correct, knife only needs the server for search
[2012-06-20 05:44:37 -0400] woozie: philwo: maybe need the apt recipe? ... is this  a bug?
[2012-06-20 05:50:24 -0400] woozie: i'd like to think apt-get update and the init.d should be part of bootstrap, or I guess I'm always specifying a role.  little different operation than when I was more active last year.
[2012-06-20 05:50:55 -0400] erikh: well you know you can specify your own bootstrap templates.
[2012-06-20 05:51:03 -0400] erikh: --template-file to knife bootstrap
[2012-06-20 05:51:30 -0400] erikh: ours installs ruby and a few other naughty bits, but also does an update and installs build-essential.
[2012-06-20 05:53:06 -0400] woozie: ill look into it, thanks for the help... passing out
[2012-06-20 05:53:12 -0400] erikh: yeah it's about time for me, too
[2012-06-20 05:53:14 -0400] erikh: nn
[2012-06-20 05:56:20 -0400] hoover_damm: woozie, modify a file in /etc/default?
[2012-06-20 05:56:22 -0400] hoover_damm: woozie, apt-get -f install
[2012-06-20 05:56:33 -0400] hoover_damm: woozie, should present the prompt that has apt blocking the apache process
[2012-06-20 05:57:07 -0400] hoover_damm: woozie, if you want ubuntu to not prompt on configuration files you'll need to purge them from ucf... (man ucf)
[2012-06-20 05:58:38 -0400] hoover_damm: it's one of the reasons why :install is the best way to do things, and not :upgrade with Debian
[2012-06-20 05:58:56 -0400] hoover_damm: most distributions do something for /etc management... it just varies
[2012-06-20 05:59:37 -0400] hoover_damm: fwiw error 100 is just when apt is asking for a prompt and it's running in non-interactive mode (which is how chef runs it)
[2012-06-20 06:01:42 -0400] BryanWB_: ohai chefs!
[2012-06-20 06:08:31 -0400] hakunin: Is it me or chef gem suffered a serious version blunder... http://rubygems.org/gems/chef 0.10.10 => 10.12.0 :(
[2012-06-20 06:09:02 -0400] erikh: nah; they deliberately changed it as the low versioning was causing some, logistical issues
[2012-06-20 06:10:26 -0400] hakunin: erikh: interesting change, from "not settled on api yet" to "well-defined api, refined 10 times"
[2012-06-20 06:10:46 -0400] erikh: hakunin: it's a business decision. I don't like it either, but I can see the rationale
[2012-06-20 06:10:51 -0400] erikh: at this rate 1.0 wasn't coming anyhow.
[2012-06-20 06:11:05 -0400] hakunin: i see
[2012-06-20 06:11:41 -0400] erikh: also this: http://www.frozenpints.com/
[2012-06-20 06:11:55 -0400] erikh: this is #chef, and I can talk about man's greatest accomplishment RIGHT HERE.
[2012-06-20 06:14:02 -0400] hakunin: erikh: only have to watch out to stay on older version before knife-solo and such resolved their deps
[2012-06-20 06:14:20 -0400] hakunin: currently broke
[2012-06-20 06:14:47 -0400] erikh: mat was talking about it before; he's aware of it.
[2012-06-20 06:18:24 -0400] hakunin: i saw a pull request with a fix
[2012-06-20 06:18:30 -0400] hakunin: just need a release
[2012-06-20 06:35:55 -0400] hakunin: Unfortunate coincidence. First time I sat down to finally figure out chef a few days ago, got deep into scripting by now, and they had to make the version jump.
[2012-06-20 06:36:05 -0400] hakunin: Knife prepare installs chef 10.12.0 on the server, then knife cook looks for 0.10.4 and says "not found, please run prepare"...
[2012-06-20 06:38:13 -0400] hakunin: the "~>0.10.4" is hardcoded in knife-solo too :/
[2012-06-20 06:40:49 -0400] hakunin: time to switch to knife-solo master
[2012-06-20 07:09:39 -0400] BryanWB_: erikh: no fucking way, beer ice cream!
[2012-06-20 07:17:08 -0400] hakunin: nope, can't switch to master, did monkeypatch the version constraint, but can't avoid gem dependency mismatch so can't get it to work until new knife-solo comes out. grrr.
[2012-06-20 07:40:08 -0400] erikh: BryanWB_: I know, right?
[2012-06-20 08:10:06 -0400] rohrer: I'm running into a problem where node attributes seem to be empty even when set in a role. Details here: https://gist.github.com/7941a426274ad00f44f9
[2012-06-20 09:18:24 -0400] pehlert: Hey folks, as far as I understand it, the knife bootstrapping process does not set up cron or install chef-client as a service, is that correct? If yes, what's the best way to do this?
[2012-06-20 09:21:29 -0400] makuk66: add a role to the client that runs the chef-client recipe
[2012-06-20 09:22:18 -0400] makuk66: you could do the same with cron. I have cron pre-installed on my images so I don't bother
[2012-06-20 09:22:46 -0400] BryanWB_: rohrer: {passenger[:root_path]}   should be #{node[:passenger][:root_path]
[2012-06-20 09:22:55 -0400] BryanWB_: in ur template
[2012-06-20 09:50:42 -0400] railsraider: anyone had luck with rvm cookbook? i need to install Ree with it and tailing the log of the ruby install get's hanged on Generating RI - I used the following cookbook https://github.com/fnichol/chef-rvm
[2012-06-20 10:31:57 -0400] ashmere: has anyone else noticed that the omnibus_updater is broken on debian systems at the minute
[2012-06-20 10:59:19 -0400] dkannan: can templates have helpers, like in rails ?
[2012-06-20 11:06:45 -0400] specialsauce: ohai chefs, is there a known issue with chef-client on 0.10.4 with daemonised clients dying with "chef-client dead but pid file exists"? I've searched and couldn't find much
[2012-06-20 11:09:08 -0400] bmg: Hello! I am new to chef and want to use probably with Amazon EC. Where can i start best learning chef and what it can do for me at Amazon?
[2012-06-20 11:15:52 -0400] workmad3: bmg: the chef wiki
[2012-06-20 11:16:43 -0400] bmg: Hmm, ok. thought there is some specialized for EC
[2012-06-20 11:18:01 -0400] laurent\: ever tried to hostrename a chef server ? will I have to recreate every client certificates ?
[2012-06-20 11:19:31 -0400] dkannan: bmg: can try knife-ec2 and its docs
[2012-06-20 11:20:40 -0400] bmg: ok, thanks so far
[2012-06-20 11:21:02 -0400] williamherry: does chef support simulate deploy? I didn't find that within wiki
[2012-06-20 11:21:49 -0400] dkannan: williamherry: there is an application resource. am still trying out chef. so there might be a better way
[2012-06-20 11:22:09 -0400] dkannan: do u mean, like a dry-run ?
[2012-06-20 11:22:17 -0400] williamherry: yes
[2012-06-20 11:22:54 -0400] dkannan: adam was mentioning in the chefconf. they opscode will be introducing dry-run
[2012-06-20 11:23:50 -0400] dkannan: dunno if they released it. also mentioned that dry-run can lie. even in other systems. as the run can depend on system state
[2012-06-20 11:24:40 -0400] dkannan: what is recipe/libraries for ?
[2012-06-20 11:31:58 -0400] williamherry: does chef use ssl auth?
[2012-06-20 11:32:24 -0400] BryanWB_: bmg: i think there is a tutorial on wiki specifically for getting started w/ chef and ec2
[2012-06-20 11:32:43 -0400] BryanWB_: and chef can do everything for u on AWS
[2012-06-20 11:34:52 -0400] pehlert: Is there a default location to put "helpers" into? I'd like to create a helper that returns some network information of the default interface in a format other than what I get from ohai
[2012-06-20 11:38:28 -0400] bmg: BryanWB: thanks
[2012-06-20 11:56:43 -0400] dkannan: pehlert: dunno. but you can install the ohai cookbook and put your plugin there. it will be then available on the node
[2012-06-20 11:59:57 -0400] dkannan: http://wiki.opscode.com/display/chef/Resources#Resources-Directory
[2012-06-20 12:00:02 -0400] dkannan: why is chmod not applied recursively ?
[2012-06-20 12:01:49 -0400] dkannan: PING
[2012-06-20 12:03:09 -0400] ddosia: hello guys, cant figure out how to force apt-get update with "apt" cookbook in case if i add new apt_repository
[2012-06-20 12:03:27 -0400] ddosia: some hints?
[2012-06-20 12:05:04 -0400] ddosia: i add such: http://pastebin.com/cqVzNjLc
[2012-06-20 12:05:43 -0400] makuk66: dkannan: http://tickets.opscode.com/browse/CHEF-1327
[2012-06-20 12:05:48 -0400] zts: ddosia: the apt_repository provider runs apt-get update for you
[2012-06-20 12:05:51 -0400] ddosia: also i add recipe[apt] to my run_list before this recipe
[2012-06-20 12:05:54 -0400] zts: ddosia: so that shouldn't be necessary
[2012-06-20 12:06:30 -0400] ddosia: zts after adding this repo i want to install package from it, and could not find it until manualy do apt-get update
[2012-06-20 12:07:28 -0400] zts: ddosia: could you try removing the repository, then running again with debug logs and share the output?
[2012-06-20 12:07:57 -0400] zts: ddosia: you should be able to see in cookbooks/apt/providers/repository.rb a resource "execute "update package index" do" after it creates the file
[2012-06-20 12:08:45 -0400] ddosia: INFO: Processing execute[apt-get update] action nothing (/var/chef/cache/cookbooks/apt/providers/repository.rb line 95
[2012-06-20 12:08:49 -0400] ddosia: i see it in logs
[2012-06-20 12:09:27 -0400] zts: ddosia: the whole output, please.  It it defined with action :nothing and then calls run_action :run
[2012-06-20 12:13:30 -0400] dkannan: makuk66: do not see the problem. i specify my intentions - why is the system second guessing me ?
[2012-06-20 12:14:43 -0400] makuk66: dkannan: that ticket makes the same complaint as you do. It's marked unresolved. If you comment/vote on that ticket, it may improve the likelihood of this being addressed
[2012-06-20 12:14:54 -0400] ddosia: zts: http://pastebin.com/cfHZuGvP
[2012-06-20 12:20:44 -0400] specialsauce: sorry to repost, but hoping for a fresh pair of eyes - chefs, is there a known issue with chef-client on 0.10.4 with daemonised clients dying with "chef-client dead but pid file exists"? I've searched and couldn't find much
[2012-06-20 12:23:45 -0400] rohrer: should the --server-name argument for `knife rackspace create` be the FQDN or the hostname?
[2012-06-20 12:25:00 -0400] zts: ddosia: can you confirm which version of the apt cookbook you are using?
[2012-06-20 12:26:49 -0400] ddosia: zts: 1.4.2
[2012-06-20 12:30:26 -0400] zts: ddosia: to be honest with you, I'm confused about what's going on there.
[2012-06-20 12:30:44 -0400] zts: ddosia: this looks weird (note the different paths): [2012-06-20T16:10:14+04:00] INFO: file[/etc/apt/sources.list.d/ololo-source.list] created file /etc/apt/sources.list.d/unison-source.list
[2012-06-20 12:32:40 -0400] ddosia: zts s/unison/ololo/g
[2012-06-20 12:33:11 -0400] ddosia: broken sed ;)
[2012-06-20 12:33:56 -0400] zts: ddosia: if you've doctored the logs you're sharing, then all bets are off? :)
[2012-06-20 12:34:41 -0400] dkannan: is FQDN the same as the DNS endpoint ?
[2012-06-20 12:34:43 -0400] zts: ddosia: anyway, unfortunately I'm not sure.  It looks like that provider should notify "apt-get update", and that is what is documented.  It isn't doing the notifies as :immediately, but your log doesn't show it happening at all
[2012-06-20 12:38:02 -0400] ddosia: i dont cut any logs, just sed some string, so maybe notfications is broken? or wrong formed?
[2012-06-20 12:39:28 -0400] ddosia: INFO: Processing execute[apt-get update] action nothing (/var/chef/cache/cookbooks/apt/providers/repository.rb line 95)
[2012-06-20 12:40:02 -0400] ddosia: DEBUG: Doing nothing for execute[apt-get update]
[2012-06-20 12:40:21 -0400] ddosia: hmm, should it be such? "nothing" ...
[2012-06-20 12:47:56 -0400] ddosia: zts: if do: rm /var/lib/apt/periodic/update-success-stamp before run_list executes, all works
[2012-06-20 12:50:13 -0400] ddosia: or not, graah!
[2012-06-20 13:03:48 -0400] ddosia: some kind of magic, i clearly see apt-get update through ps -aux, but could dont install entire package b/c it is missing. When i do apt-get update manualy, after this i could install it
[2012-06-20 13:11:35 -0400] hippiehacker: https://gist.github.com/2959823 # trying to use application cookbook to deploy helloworld.war...
[2012-06-20 13:12:12 -0400] hippiehacker: basing the config off the application_java/readme.md
[2012-06-20 13:17:45 -0400] drrk: is there a recipe for configuring a client to send email, i've tried google, but it's not getting the right idea for chef or recipe, unless Jamie Oliver is a secret devops guru
[2012-06-20 13:30:08 -0400] hippiehacker: drrk: http://wiki.opscode.com/display/chef/Exception+and+Report+Handlers#ExceptionandReportHandlers-WritingaHandler
[2012-06-20 13:31:22 -0400] drrk: oh no sorry - for email in general, not just chef
[2012-06-20 13:31:36 -0400] drrk: i've found the postfix recipe
[2012-06-20 13:31:56 -0400] drrk: i'd prefer exim but i'm trying to stick to standard stuff
[2012-06-20 13:33:20 -0400] workmad3: drrk: there's cookbooks around for exim too
[2012-06-20 13:33:31 -0400] drrk: I can't find them
[2012-06-20 13:33:45 -0400] drrk: Search results for 'exim'
[2012-06-20 13:33:46 -0400] drrk: No results found.
[2012-06-20 13:36:57 -0400] drrk: gogole gives some, but they are not standard ones
[2012-06-20 13:37:16 -0400] cvanes: hi, im playing around with chef and setting up chef server but initially i want to test on the same node, do i need to install chef-client on the server node?
[2012-06-20 13:37:49 -0400] Oct: yes
[2012-06-20 13:39:09 -0400] woozie_: I am creating vms with knife rackspace server create, although ruby and gem is not installed once the vm is built? I am using chef 0.10.10 what is wrong with my bootstrap?
[2012-06-20 13:39:32 -0400] woozie_: creating ubuntu 10.04 LTS vm
[2012-06-20 13:44:10 -0400] ashmere: anyone got any of the opensource asset inventory softwares working with chef something like ocs-ng or glpi?
[2012-06-20 13:50:14 -0400] BryanWB_: ashmere:  I have not heard of it, but would love to know myself
[2012-06-20 13:52:01 -0400] sagar_: Hi, Currently I am interacting with the chef server (private chef) using the knife command. The knife command is invoked from a python script. QUESTION - can i use REST API's instead of knife in my python script
[2012-06-20 13:52:22 -0400] sagar_: based on details from http://wiki.opscode.com/display/chef/Server+API
[2012-06-20 13:53:06 -0400] specialsauce: anyone else at all seeing chef-client dieing when in daemon mode?
[2012-06-20 13:54:07 -0400] laurent\: ashmere: yeah that could be nice to write a simple cookbook that posts ohai data to glpi/osc
[2012-06-20 13:54:15 -0400] laurent\: ocs
[2012-06-20 13:54:44 -0400] laurent\: i'm not really using glpi/ocs, i'd rather try to replace them by chef :)
[2012-06-20 13:57:19 -0400] ashmere: so would like but until it has them I would like to have chef publish its information to something like ocs so that it is kept up to date
[2012-06-20 13:58:46 -0400] ashmere: laurent: "simple cookbook that posts ohai data to glpi/ocs" is well above my current understanding of writing cookbooks
[2012-06-20 13:59:12 -0400] rohrer: should the failed-run-data.json include the node attribute values including any overrides specified in the node's role?
[2012-06-20 13:59:25 -0400] rohrer: or am I looking in the wrong place?
[2012-06-20 14:03:35 -0400] laurent\: ashmere: ok, i think it would be more than a simple cookbook, it would need a library to tell chef-client how to post the data to ocs or glpi
[2012-06-20 14:15:57 -0400] yfeldblum: sagar_, yes, you can interact directly with the chef-server-api rest endpoint - and you probably should do that, instead of shelling out to knife
[2012-06-20 14:17:28 -0400] sagar_: yfeldblum: I have written my cookbooks, should i do any changes on chef server or the cookbooks to expose it as REST API
[2012-06-20 14:18:32 -0400] yfeldblum: sagar_, sorry, what do you want to expose as a rest api?
[2012-06-20 14:20:04 -0400] sagar_: yfeldblum: i mean if want to assign a run list to a node with a cookbook, do i need to change anything in the cookbook,
[2012-06-20 14:21:08 -0400] yfeldblum: sagar_, no
[2012-06-20 14:22:45 -0400] sagar_: yfeldblum: cuurently i am using this command in my python script ----  knife ssh 'name:Hadoop'  -a node.ipaddress 'sudo chef-client'
[2012-06-20 14:23:10 -0400] sagar_: yfeldblum: This can be done using the REST API
[2012-06-20 14:25:12 -0400] yfeldblum: sagar_, the part that runs the query "name:Hadoop" can be done against the chef-server rest api; but the part where you ssh into the the hadoop server must of course be done with ssh
[2012-06-20 14:29:15 -0400] sagar_: yfeldblum:thanks
[2012-06-20 14:38:57 -0400] railsraider: i remove apache2 and delete folders by hand, why does chef-client won't re-install them?
[2012-06-20 14:39:11 -0400] railsraider: it complains no such file or folder
[2012-06-20 14:39:43 -0400] railsraider: directory "#{node['apache']['dir']}/ssl" do
[2012-06-20 14:39:43 -0400] railsraider:   action :create
[2012-06-20 14:39:53 -0400] railsraider: i don't get it
[2012-06-20 14:40:20 -0400] specialsauce: railsraider: two things that spring to mind - 1) is the create recursive and 2) have you done a purge action in the package removal to get back to a compeltely clean slate
[2012-06-20 14:40:23 -0400] paulmooring: railsraider: you probably want to set recursive to true
[2012-06-20 14:40:45 -0400] railsraider: specialsauce: yes i did purge
[2012-06-20 14:41:08 -0400] railsraider: but how is it different than a clean install where it works
[2012-06-20 14:41:15 -0400] railsraider: its the opscode apache2 cookbook
[2012-06-20 14:41:42 -0400] paulmooring: does that package get installed?
[2012-06-20 14:42:07 -0400] railsraider: maybe i need to delete cache ? no it fails  Errno::ENOENT: No such file or directory - /etc/apache2/ssl
[2012-06-20 14:42:58 -0400] railsraider: seems like chef doesn't re-install but has somewhere stored a value for what it should be
[2012-06-20 14:43:03 -0400] paulmooring: Ok then the error on the directory resource isn't important, that errors because the package should create /etc/apache when it gets installed
[2012-06-20 14:44:07 -0400] paulmooring: if you run chef-client with `-l debug` it should tell you what happens on the package resource
[2012-06-20 14:46:43 -0400] geekbri: did opscode finish switching over to the erlang / mysql backend?
[2012-06-20 14:46:49 -0400] geekbri: the webui seems much snappier today for me than usual
[2012-06-20 14:47:17 -0400] paulmooring: geekbri: It's still a work in progress
[2012-06-20 14:47:41 -0400] geekbri: hrm, well maybe its just random but the webui doesn't seem as slow as it used to be :)
[2012-06-20 14:48:54 -0400] railsraider: paulmooring: dpkg: warning: files list file for package `apache2-prefork-dev' missing, assuming package has no files currently installed.
[2012-06-20 14:49:06 -0400] railsraider: i guess it didn't fully uninstall
[2012-06-20 14:50:26 -0400] paulmooring: you should be able to grep through `dpkg -l` and see if the package manager thinks it's installed
[2012-06-20 14:50:36 -0400] paulmooring: that's equivalent to what Chef does
[2012-06-20 14:50:59 -0400] paulmooring: assuming debian or ubuntu, I think it's rpm -q on RHEL/Cent
[2012-06-20 14:51:58 -0400] railsraider: ubuntu
[2012-06-20 14:52:17 -0400] railsraider: yeah its all there
[2012-06-20 14:55:59 -0400] railsraider: ok i removed all the packages after dpkg -l | grep apache2 and re-ran chef it works now! thanks paulmooring
[2012-06-20 15:04:43 -0400] tlowrimore: has node naming changed between 0.10.10 and 0.10.12?
[2012-06-20 15:05:12 -0400] tlowrimore: it now appears the fqdn is being used
[2012-06-20 15:05:42 -0400] tlowrimore: where in 0.10.10 we're just seeing the hostname as the node name (on chef server)
[2012-06-20 15:12:52 -0400] railsraider: when i have include_recipe "apache2" does it means run that before the following lines or just a reference to variables inside that recipe?
[2012-06-20 15:15:43 -0400] geekbri: railsraider: if you include a recipe it will run it at that point.
[2012-06-20 15:16:01 -0400] geekbri: railsraider: so if you use apache2, it will run whatever the "default" recipe is
[2012-06-20 15:16:35 -0400] railsraider: so if i  have a passenger recipe that includes apache2 i just need to put the passenger by itself in the run list?
[2012-06-20 15:22:10 -0400] RJ2: what's the best way to open a specific firewall port from all the ipaddresses of my other chef nodes?
[2012-06-20 15:22:20 -0400] RJ2: i don't have a vpn, all the nodes are different subnets
[2012-06-20 15:22:28 -0400] RJ2: i'm using ufw/firewall cookbook
[2012-06-20 15:23:11 -0400] RJ2: atm i'm thinking about hacking the ufw recipe to expand rules with source => :all_nodes to one rule per IP from doing a search(:node, 'name:*') or something
[2012-06-20 15:27:54 -0400] geekbri: Maybe I am being too simple, but could you use search to sniff out the nodes you wanted to add and pull out their ips from their attributes
[2012-06-20 15:29:33 -0400] RJ2: geekbri: that's what i'm suggesting more or less
[2012-06-20 15:29:53 -0400] geekbri: RJ2: yeah, i was totally fail at reading your entire conversation there
[2012-06-20 15:29:55 -0400] RJ2: so i can specify the rules like normal firewall rules as attributes, but have them expand to apply to all nodes' ip addresses
[2012-06-20 15:30:42 -0400] RJ2: i've already butchered the ufw recipe to support iptables port redirects, i guess i'll just mutilate it some more
[2012-06-20 15:30:45 -0400] geekbri: RJ2: thats what i've done in the past.  I don't know if it is "standard practice" or not... but i've created a library that i stick in the libraries sub dir
[2012-06-20 15:30:47 -0400] geekbri: then I just call it
[2012-06-20 15:31:09 -0400] RJ2: a library for what, do make a firewall change to all nodes?
[2012-06-20 15:31:46 -0400] geekbri: just connivence wrappers around search for different purposes.
[2012-06-20 15:31:51 -0400] RJ2: ok
[2012-06-20 15:32:06 -0400] geekbri: Like in my hadoop cookbook I have a class that can return assorted information like, all the IPs from all datanodes or things like that.
[2012-06-20 15:33:49 -0400] geekbri: anyway, yes what you are suggesting is probably how I would have done it too :)
[2012-06-20 16:04:15 -0400] hippiehacker: https://gist.github.com/2959823 # trying to use opscode application cookbook to deploy helloworld.war... I'm basing the config off the application_java/readme.md, but I'm confused by the error regarding the default action
[2012-06-20 16:07:55 -0400] pwf: hippiehacker: what's in /var/cache/chef/cookbooks/myplace/recipes/my_app.rb
[2012-06-20 16:08:15 -0400] pwf: that's where the error occurred
[2012-06-20 16:08:54 -0400] hippiehacker: pwf: https://gist.github.com/2959823#file_recipe_helloworld_war.rb
[2012-06-20 16:10:15 -0400] pwf: oh :/
[2012-06-20 16:10:56 -0400] hippiehacker: It's pretty straightforward
[2012-06-20 16:32:24 -0400] dkannan: how can i reference an attribute in a role. tried http://pastie.org/private/olx8o9asuagwpeiqmqjrxq
[2012-06-20 16:32:31 -0400] dkannan: but an getting an erorr
[2012-06-20 16:33:15 -0400] dkannan: http://pastie.org/private/olx8o9asuagwpeiqmqjrxq
[2012-06-20 16:39:26 -0400] hippiehacker: https://gist.github.com/2959823 is this a bug ?
[2012-06-20 16:48:44 -0400] paulmooring: hippiehacker: this could be the problem INFO: Application light-weight resource already initialized -- overriding!
[2012-06-20 16:49:11 -0400] paulmooring: hard to say w/o a more detailed log, but you might have 2 cookbooks creating an application resource
[2012-06-20 17:05:43 -0400] hoover_damm: hippiehacker, (/var/cache/chef/cookbooks/myplace/recipes/my_app.rb:1 isn't posted?
[2012-06-20 17:06:46 -0400] hoover_damm: so he can grok the changes
[2012-06-20 17:06:52 -0400] hoover_damm: s/he/i
[2012-06-20 17:12:29 -0400] miah: moin moin
[2012-06-20 17:12:36 -0400] matti: Hi hi
[2012-06-20 17:13:51 -0400] pwf: hoover_damm: he linked me to the first part of the gist when i asked for it, so i'm guessing the file was renamed when he ran it to get the stacktrace?
[2012-06-20 17:14:07 -0400] hoover_damm: pwf, that's what i thought too
[2012-06-20 17:14:22 -0400] hoover_damm: pwf, but the filename was off so i assumed he gisted it as a different name is all
[2012-06-20 17:15:04 -0400] cheeseplus: hoover_damm: that is helpdesk 101 ;)
[2012-06-20 17:23:06 -0400] hoover_damm: cheeseplus, it is
[2012-06-20 17:33:49 -0400] dbalatero: the first time I run chef-client, i get this error:  [2012-06-19T20:40:09-07:00] FATAL: NoMethodError: bash[compile_nginx_source] (nginx::source line 78) had an error: NoMethodError: undefined method `[]' for nil:NilClass
[2012-06-20 17:33:58 -0400] dbalatero: due to this line: https://github.com/opscode-cookbooks/nginx/blob/master/recipes/source.rb#L90
[2012-06-20 17:34:09 -0400] dbalatero: i think node.automatic_attrs is not populated
[2012-06-20 17:34:44 -0400] dbalatero: is that just a crappy boolean statement, and should it just check for those keys in automatic_attrs defensively?
[2012-06-20 17:34:48 -0400] dbalatero: or is there a better fix for that
[2012-06-20 17:35:50 -0400] jelder: is there a way to get chef-client to only log changes, not every little thing?
[2012-06-20 17:36:08 -0400] jelder: i'm at info now and it's way too noisy
[2012-06-20 17:36:49 -0400] dbalatero: jelder: the -l switch
[2012-06-20 17:36:54 -0400] dbalatero: jelder: do chef-client -h
[2012-06-20 17:37:08 -0400] dbalatero: you can change the log level
[2012-06-20 17:37:30 -0400] hector: does anyone know of a cookbook that utilizes data_bags and passes the data into a template ?
[2012-06-20 17:37:33 -0400] paulmooring: jelder: there's not more fine-grained control than log levels
[2012-06-20 17:38:01 -0400] paulmooring: you could bump it up to warn, but I suspect that's not enough info
[2012-06-20 17:38:14 -0400] jelder: exactly.
[2012-06-20 17:38:31 -0400] jelder: ideally it would only tell me about the deltas, or serious problems
[2012-06-20 17:38:59 -0400] ranjibd: hector, check the aws cookbook example
[2012-06-20 17:39:15 -0400] hector: thanks ranjibd
[2012-06-20 17:39:25 -0400] jelder: ok, another question
[2012-06-20 17:39:39 -0400] jelder: is there any way to get mongodb to use key-based auth without rewriting the cookbook?
[2012-06-20 17:41:04 -0400] ranjibd: jelder, i guess u have to refactor a little
[2012-06-20 17:41:54 -0400] ranjibd: mongod.conf template.. add a keyFile there for replset auth, for mongo user auth use the execute resource
[2012-06-20 17:42:37 -0400] ranjibd: optionally you can add an additional recipe in the cookbook that setup the auth , using an execute resource
[2012-06-20 17:42:43 -0400] jelder: ranjibd: i see this warning every time i run chef-client:
[2012-06-20 17:42:44 -0400] jelder: [2012-06-20T17:38:24+00:00] WARN: We are not using a configfile, as the daemons can be configured via commandline
[2012-06-20 17:43:42 -0400] hoover_damm: jelder, btw authentication is insane with mongodb
[2012-06-20 17:43:51 -0400] hoover_damm: it stiffles performance due to the locking to authenticate
[2012-06-20 17:43:56 -0400] jelder: hoover_damm: yes i am learning this
[2012-06-20 17:44:12 -0400] jelder: hoover_damm: which sucks since the point is to have this thing spread across regions
[2012-06-20 17:44:34 -0400] hoover_damm: ip security
[2012-06-20 17:44:35 -0400] hoover_damm: it's lame
[2012-06-20 17:44:38 -0400] jelder: and ssl isn't even available unless you pay 10gen
[2012-06-20 17:44:43 -0400] hoover_damm: don't host on aws
[2012-06-20 17:44:45 -0400] hoover_damm: it's silly
[2012-06-20 17:44:57 -0400] hoover_damm: if you want to host mongodb use metal
[2012-06-20 17:44:59 -0400] hoover_damm: real metal
[2012-06-20 17:44:59 -0400] hoover_damm: ssd
[2012-06-20 17:45:06 -0400] hoover_damm: ebs raiding vs ssd is silly
[2012-06-20 17:45:26 -0400] jelder: we're on raid10, 8 x 50gb
[2012-06-20 17:45:36 -0400] jelder: ebs is at least raid1 already
[2012-06-20 17:45:40 -0400] jelder: but i'm not optimistic
[2012-06-20 17:46:09 -0400] hoover_damm: i pay 750$ for a mtm dual quad-core with 4-disk raid-10 on SSD
[2012-06-20 17:46:13 -0400] hoover_damm: with 32gb of ram
[2012-06-20 17:46:17 -0400] hoover_damm: metal
[2012-06-20 17:46:24 -0400] hoover_damm: that replaced a 2.5k instance on EC2
[2012-06-20 17:46:27 -0400] hoover_damm: per month
[2012-06-20 17:46:43 -0400] hoover_damm: you can get SSD on the HVM based instances
[2012-06-20 17:46:55 -0400] hoover_damm: and if you raid all 4 ephemeral volumes you can easily get over 25k i/ops
[2012-06-20 17:47:00 -0400] hoover_damm: but that's a CRAPTON of money
[2012-06-20 17:47:06 -0400] jelder: yeah
[2012-06-20 17:47:24 -0400] jelder: we're hoping that a read-mostly workload plus slaveOk() will be enough to stay on ec2 for a while
[2012-06-20 17:47:49 -0400] hoover_damm: I use Voxel.  I wouldn't bother
[2012-06-20 17:48:05 -0400] hoover_damm: I've worked around more scaling problems in AWS then I can count
[2012-06-20 17:48:16 -0400] hoover_damm: I'm tired of working around problems that old school techniques don't have a problem with
[2012-06-20 17:48:28 -0400] hoover_damm: and metal shouldn't be oldschool but :) hehe
[2012-06-20 17:48:33 -0400] jelder: yeah they haven't been very responsive lately
[2012-06-20 17:48:38 -0400] jelder: the CORS thing is ridiculous
[2012-06-20 17:49:12 -0400] JasonBox: Oh
[2012-06-20 17:49:21 -0400] jelder: ( http://blog.jacobelder.com/2012/05/3-problems-aws-needs-to-address/ )
[2012-06-20 17:49:23 -0400] hoover_damm: my sales guy is an irc person jelder
[2012-06-20 17:49:37 -0400] hoover_damm: so if you are ever interested in voxel I can have him bug you
[2012-06-20 17:49:47 -0400] JasonBox: Interesting
[2012-06-20 17:50:07 -0400] hoover_damm: jelder, it's internap based with multiple regions
[2012-06-20 17:50:16 -0400] hoover_damm: jelder, you can get a cross connect between the regions to keep mongodb secure
[2012-06-20 17:50:22 -0400] hoover_damm: and avoid the latency of the web
[2012-06-20 17:50:31 -0400] jelder: oh, how's that?
[2012-06-20 17:50:42 -0400] hoover_damm: jelder, as my sales guy puts it... with Voxel you can either save 1/2 the cost of amazon
[2012-06-20 17:50:45 -0400] hoover_damm: or 1/3 of the cost
[2012-06-20 17:50:45 -0400] hoover_damm: your choice
[2012-06-20 17:50:51 -0400] jelder: haha
[2012-06-20 17:51:09 -0400] hoover_damm: it's internap.  You get private lines between their pops
[2012-06-20 17:51:24 -0400] hoover_damm: host mongodb in chicago, la, new york, etc
[2012-06-20 17:51:31 -0400] hoover_damm: all interconnected via private lines
[2012-06-20 17:51:46 -0400] jelder: oh with voxel. i thought you meant you could get secure interconnects with aws
[2012-06-20 17:51:47 -0400] jelder: i see
[2012-06-20 17:51:47 -0400] paulmooring: hoover_damm: Do you work for Voxel?
[2012-06-20 17:51:52 -0400] hoover_damm: no
[2012-06-20 17:51:58 -0400] hoover_damm: I am just a customer
[2012-06-20 17:52:01 -0400] hoover_damm: who finds them fantastic
[2012-06-20 17:52:07 -0400] paulmooring: ah, a happy one I take it
[2012-06-20 17:52:15 -0400] hoover_damm: very
[2012-06-20 17:52:22 -0400] hoover_damm: jelder, you can
[2012-06-20 17:52:39 -0400] hoover_damm: jelder, i'm getting a cross connect from Equinix (Ashburn) to NY... and then turning up our direct connect
[2012-06-20 17:52:44 -0400] hoover_damm: jelder, but that's a short term move
[2012-06-20 17:52:57 -0400] hoover_damm: jelder, as honestly we're tired of it.  The power Outage the other day did another -1 AWS
[2012-06-20 17:53:43 -0400] jelder: it didn't hit us, but from what i've read, things seemed to go pretty well
[2012-06-20 17:53:45 -0400] hoover_damm: and when I did a little benchmarking with http://www.phoronix-test-suite.com/?k=downloads and found that for the most part everything was 2.5x faster then AWS
[2012-06-20 17:53:53 -0400] jelder: i wouldn't expect any dc to never have an outage of some kind
[2012-06-20 17:53:55 -0400] hoover_damm: memory bandwidth was 4x more
[2012-06-20 17:54:06 -0400] hoover_damm: rofl
[2012-06-20 17:54:10 -0400] hoover_damm: you must be new to ops
[2012-06-20 17:54:24 -0400] jelder: 12 years or so
[2012-06-20 17:54:38 -0400] hoover_damm: really? and you expected to have that kind of outage?
[2012-06-20 17:54:41 -0400] hoover_damm: really lucky?
[2012-06-20 17:54:57 -0400] hoover_damm: or do I have really bad luck?
[2012-06-20 17:55:31 -0400] jelder: that only affected one az
[2012-06-20 17:55:40 -0400] jelder: you're supposed to build out for two at a minimum
[2012-06-20 17:56:08 -0400] hoover_damm: I was there for the Fisher Plaza Fire.
[2012-06-20 17:56:11 -0400] jelder: the major one last year, which took out  a whole region, yeah that was a disaster
[2012-06-20 17:56:26 -0400] hoover_damm: I view the small ones
[2012-06-20 17:56:28 -0400] hoover_damm: as well
[2012-06-20 17:56:34 -0400] hoover_damm: the big ones were pretty stupid human error
[2012-06-20 17:56:51 -0400] hoover_damm: small ones arn't talked about so much
[2012-06-20 17:57:01 -0400] hoover_damm: basically the fact that the EBS controllers went offline the way they did
[2012-06-20 17:57:07 -0400] hoover_damm: and not all my instances came back up
[2012-06-20 17:57:19 -0400] hoover_damm: I had to force terminate about half my us-east-1c instances as they didn't come back at all
[2012-06-20 17:57:32 -0400] chef-new-guy: any one successfully use iptables and figured out which ports are needed to be opened up for the outbound connection to hosted chef?
[2012-06-20 17:57:37 -0400] hoover_damm: and I had to wait for them to clear out of Amazon's queue before I could detach and evaluate what I lost
[2012-06-20 17:57:45 -0400] jelder: hoover_damm: ouch
[2012-06-20 17:58:06 -0400] jelder: did your customers notice?
[2012-06-20 17:58:09 -0400] hoover_damm: I'm not saying that Amazon is horrible.  I'm just personally tired
[2012-06-20 17:58:14 -0400] jelder: i hear you
[2012-06-20 17:58:15 -0400] hoover_damm: yep
[2012-06-20 17:58:27 -0400] hoover_damm: as we became more latent
[2012-06-20 17:58:29 -0400] hoover_damm: we got less sales
[2012-06-20 17:58:58 -0400] hoover_damm: it's unfortunate that one of the biggest reasons we want to move off of Amazon is to have all of our cpu time as ours
[2012-06-20 17:59:07 -0400] hoover_damm: and we're saving money every bit of the way
[2012-06-20 17:59:16 -0400] hoover_damm: everything we're getting is cheaper then Amazon by far
[2012-06-20 17:59:34 -0400] chef-new-guy: I would suggest joyent if you want to move to a good cloud vendor
[2012-06-20 17:59:35 -0400] hoover_damm: Sure i'm nice so my sales guy gives me 24hour turn around.  Which makes the cherry on top so much more
[2012-06-20 17:59:53 -0400] jelder: i'm curious, do you use the rest of aws? s3? sqs? cloudfront?
[2012-06-20 18:00:06 -0400] hoover_damm: is also http://baremetalcloud.com/index.php/en/
[2012-06-20 18:00:07 -0400] hoover_damm: good
[2012-06-20 18:00:17 -0400] hoover_damm: we're going to build out our own S3 replacement
[2012-06-20 18:00:21 -0400] hoover_damm: likely justing using Riak CS
[2012-06-20 18:00:34 -0400] geekbri: blech riak
[2012-06-20 18:00:36 -0400] jelder: if you had said anything other than riak i would have laughed
[2012-06-20 18:00:37 -0400] hoover_damm: s/justing using/just using
[2012-06-20 18:00:49 -0400] hoover_damm: well if your going to do S3 storage for stuff
[2012-06-20 18:00:53 -0400] hoover_damm: you have very little choice
[2012-06-20 18:00:57 -0400] hoover_damm: either build it yourself
[2012-06-20 18:01:07 -0400] hoover_damm: or grab the nearest tool that can help, and build the rest
[2012-06-20 18:01:34 -0400] hoover_damm: but other then S3 we don't use Cloudfront or SQS or any of that
[2012-06-20 18:01:53 -0400] jelder: what cdn do you use?
[2012-06-20 18:02:05 -0400] hoover_damm: basically think of it this way, 1/2 the price, or 1/3 the price... you decide
[2012-06-20 18:02:05 -0400] jelder: excuse me while i pry into every aspect of your architecture
[2012-06-20 18:02:09 -0400] hoover_damm: Internap is hungry on colo
[2012-06-20 18:02:11 -0400] jelder: clever
[2012-06-20 18:02:23 -0400] hoover_damm: very hungry
[2012-06-20 18:02:36 -0400] jelder: my only direct experience with them was terrible
[2012-06-20 18:02:38 -0400] hoover_damm: jelder, we'll move to interpnap's cdn likely
[2012-06-20 18:02:39 -0400] jelder: internap buston is a ghetto
[2012-06-20 18:02:42 -0400] jelder: boston
[2012-06-20 18:02:50 -0400] jelder: i guess technically somerville
[2012-06-20 18:02:57 -0400] hoover_damm: I've dealt with Seattle
[2012-06-20 18:03:01 -0400] hoover_damm: NY one seems to be fine
[2012-06-20 18:03:13 -0400] hoover_damm: I get 8ms from ec2 from NY on Voxel
[2012-06-20 18:03:17 -0400] hoover_damm: without a direct connect
[2012-06-20 18:03:33 -0400] hoover_damm: with the direct connect I imagine that'll be around 3-5ms max
[2012-06-20 18:03:34 -0400] hoover_damm: :)
[2012-06-20 18:03:48 -0400] jelder: well that's some solid advice to digest
[2012-06-20 18:03:50 -0400] jelder: thanks
[2012-06-20 18:08:35 -0400] hoover_damm: jelder, it's hard scaling mongodb on ec2 due to the very erratic latency of disks
[2012-06-20 18:08:52 -0400] hoover_damm: jelder, moving to real SSD that isn't chopped up time sliced... is a fantastic change
[2012-06-20 18:09:04 -0400] hoover_damm: jelder, no more random lag issues
[2012-06-20 18:09:06 -0400] hoover_damm: and other annoyances
[2012-06-20 18:09:15 -0400] jelder: it certainly does sound tempting
[2012-06-20 18:09:30 -0400] geekbri: good ole somerville
[2012-06-20 18:09:32 -0400] jelder: we're still figuring out what our needs are
[2012-06-20 18:10:56 -0400] jelder: geekbri: last time i was there, i remember seeing a lot of mobile fans pointed at servers, a lot of dust, a lot of busted crash carts, overloading with garbage, and their physical access control was a dude in a folding chair
[2012-06-20 18:11:15 -0400] geekbri: jelder: sounds like the type of thing i'd expect to see in somerville
[2012-06-20 18:11:35 -0400] jelder: the only DC in boston worth a damn is markley
[2012-06-20 18:11:41 -0400] geekbri: now all you need is somebody to take a photo of it with instagram and use a nice sephia filter
[2012-06-20 18:12:11 -0400] jelder: internal somerville is so retro it doesn't even need instagram
[2012-06-20 18:12:12 -0400] hoover_damm: jelder, that's the hardest part
[2012-06-20 18:12:18 -0400] hoover_damm: jelder, figuring it out
[2012-06-20 18:12:30 -0400] jelder: ^internap
[2012-06-20 18:12:50 -0400] hoover_damm: jelder, also i think it's the sales people that make it
[2012-06-20 18:13:16 -0400] jelder: fortunately, amazon doesn't have any sales people
[2012-06-20 18:14:35 -0400] randomautomator: hey guys i had a question about attributes in metadata.rb
[2012-06-20 18:14:50 -0400] randomautomator: why would you place attribs in metadata.rb instead of attributes/default.rb
[2012-06-20 18:17:08 -0400] mattray: you don't?
[2012-06-20 18:17:16 -0400] randomautomator: for instance the opscode mysql cookbook has the same attribs in two places
[2012-06-20 18:17:24 -0400] randomautomator: metadata.rb and attributes/default.rb
[2012-06-20 18:17:33 -0400] mattray: the metadata.rb is for legacy documentation purposes
[2012-06-20 18:17:42 -0400] mattray: I don't think it's used much anymore
[2012-06-20 18:18:06 -0400] mattray: jtimberman: want to weigh in? ^^
[2012-06-20 18:18:19 -0400] jtimberman: its not "legacy" :)
[2012-06-20 18:18:40 -0400] mattray: potato
[2012-06-20 18:18:50 -0400] c_t: I think metadata.rb is more for showing what the attributes are
[2012-06-20 18:19:02 -0400] jtimberman: cookbook metadata provides two things: package management type features (version, depends, etc) and documentation that can be machine parsed (since it gets translated to json)
[2012-06-20 18:19:05 -0400] c_t: whereas attributes/ is where you actually define them
[2012-06-20 18:19:28 -0400] c_t: my understanding could be entirely incorrect, however
[2012-06-20 18:20:09 -0400] randomautomator: ok so it's in metadata.rb so that the documentation on those values can be parsed?
[2012-06-20 18:22:33 -0400] tubbo: hi guys
[2012-06-20 18:22:44 -0400] tubbo: i got an error and i can't find more info about it
[2012-06-20 18:22:56 -0400] c_t: what's the error?
[2012-06-20 18:23:02 -0400] tubbo: googling the error, "HTTP Request Returned 403 Forbidden: Merb::ControllerExceptions::Forbidden", only turned up dead links to help.opscode.com
[2012-06-20 18:23:15 -0400] tubbo: has anyone else had this problem and could point me to the page where it's documented?
[2012-06-20 18:23:17 -0400] vegardx: In what context?
[2012-06-20 18:23:41 -0400] tubbo: vegardx: i ran `sudo chef-client` on the server. i can gist the output..
[2012-06-20 18:24:11 -0400] jelder: tubbo: stack trace would be helpful too
[2012-06-20 18:24:24 -0400] vegardx: tubbo: then check your client.rb and check that you have a valid user on the chef-server
[2012-06-20 18:24:31 -0400] doomviking: feels like a client.pem problem
[2012-06-20 18:24:36 -0400] c_t: and made sure your clock is synced
[2012-06-20 18:24:43 -0400] tubbo: doomviking: i thought it was but i regenerated client.pem and it still didn't fix it
[2012-06-20 18:24:52 -0400] c_t: I think that can cause 403 errors
[2012-06-20 18:28:37 -0400] grantr: can a chef-client node update a role?
[2012-06-20 18:28:53 -0400] nenemo: hi all
[2012-06-20 19:03:32 -0400] jelder: is anyone who is responsible for the mongodb cookbook around?
[2012-06-20 19:03:35 -0400] ypz: I am trying to knife bootstrap a new centos 6 node, how do I get the prebuilt chef-full  pkg to avoid compiling things during bootstrapping  process ?
[2012-06-20 19:04:09 -0400] mattray: ypz: that's the default bootstrap with 10.12
[2012-06-20 19:04:20 -0400] mattray: what version of chef do you have?
[2012-06-20 19:05:04 -0400] ypz: hi mattray, it is 10.12, but why it is still running gcc to compile things ?
[2012-06-20 19:05:21 -0400] ypz: is that expected behavior ?
[2012-06-20 19:05:24 -0400] mattray: gcc? what's in your runlist?
[2012-06-20 19:05:43 -0400] mattray: it doesn't need gcc for chef, but are you using some cookbook that's building something?
[2012-06-20 19:05:44 -0400] ypz: just tomcat
[2012-06-20 19:06:15 -0400] mattray: ypz: could you post the output on pastebin or somewhere?
[2012-06-20 19:06:41 -0400] hoover_damm: jelder, btw enabling auth is just the --auth command line and then enabling authentication
[2012-06-20 19:07:08 -0400] jelder: hoover_damm: that much i got, just trying to do it the chef way
[2012-06-20 19:07:11 -0400] hoover_damm: jelder, I can find some old cookbooks that do this if you want something to review and then add yourself
[2012-06-20 19:07:35 -0400] jelder: cook, i just forked the official one
[2012-06-20 19:07:45 -0400] jelder: cool, thanks
[2012-06-20 19:08:31 -0400] hoover_damm: jelder, https://github.com/engineyard/ey-cloud-recipes/blob/849f7476f703394bd64c2bfd1915af0d7d99e2fc/cookbooks/mongodb/recipes/default.rb#L81-L101
[2012-06-20 19:08:35 -0400] ypz: mattray let me try to get output to you
[2012-06-20 19:08:49 -0400] hoover_damm: I used to mock Tim because he did it
[2012-06-20 19:08:51 -0400] hoover_damm: so now you can profit
[2012-06-20 19:09:09 -0400] hoover_damm: actually was a pretty good early mongodb cookbook with authentication
[2012-06-20 19:14:12 -0400] cjs226: how (un)safe is it to allow 0.0.0.0 access to port 4000 with open source chef?  my environment is currently 100% AWS but we develop locally on our laptops
[2012-06-20 19:18:11 -0400] ypz: hi, mattray, here is the except from the output about gcc stuff:   http://pastebin.com/qCXhANJm
[2012-06-20 19:18:46 -0400] mattray: ypz: are you using an older version of knife-ec2?
[2012-06-20 19:19:19 -0400] mattray: gem-installed chef was the default if you hadn't specified a template
[2012-06-20 19:19:48 -0400] ypz: hm, i thought I had 0.10.10 installed,  but I have 0.10.8
[2012-06-20 19:21:32 -0400] mdxp: is there any way to see when a chef client was created?
[2012-06-20 19:28:06 -0400] javawidget: Thanks again for all of the help yesterday, jelder, hoover_damm, and everyone else.
[2012-06-20 19:30:35 -0400] pwf: is it wise to have 'if' statements in my attributes file
[2012-06-20 19:30:37 -0400] pwf: e.g.
[2012-06-20 19:31:03 -0400] pwf: i want to be able to change which branch my deploy resource uses by changing an attribute from 'trunk' to 'branch-whatever'
[2012-06-20 19:31:18 -0400] pwf: but the checkout url has a different layout depending on if it's trunk or branch
[2012-06-20 19:31:20 -0400] leifmadsen: should that be handled via environments?
[2012-06-20 19:31:48 -0400] leifmadsen: and using a data bag... ?
[2012-06-20 19:31:50 -0400] pwf: either way, i'd just want to change node[:svn][:branch] in the environment
[2012-06-20 19:32:22 -0400] pwf: http://wiki.opscode.com/display/chef/Deploy+Resource this is what i wanna use
[2012-06-20 19:32:26 -0400] pwf: no data bag needed
[2012-06-20 19:33:08 -0400] pwf: anyways, if i do something like "if node[:svn][:branch] == 'trunk'" in my attributes file, will it work like i expect
[2012-06-20 19:33:35 -0400] pwf: or are node/environment level attributes not set at that point and it will always use the default defined right before it
[2012-06-20 19:57:50 -0400] xuru: hi everyone.  I have a question about using the application deploy resource and the scm_provider of subversion  there doesn't seem any way to provide the username/password.  I get an error when i try to use the svn_username attribute like in the scm resource.  Anyway to do this?
[2012-06-20 19:59:15 -0400] xuru: plus, and examples of using chef to deploy django apps using subversion, would be awesome
[2012-06-20 20:01:56 -0400] nictrix: xuru, i use deploy resource with subversion; svn_username and svn_password work for me - are you also passing in scm_provider?
[2012-06-20 20:02:00 -0400] nictrix: scm_provider Chef::Provider::Subversion
[2012-06-20 20:02:58 -0400] nictrix: i use the timestamped_deploy resource
[2012-06-20 20:05:11 -0400] ribo: [2012-06-20T19:57:15+00:00] WARN: Accessing node by the variable @node is deprecated. Support will be removed in a future release.
[2012-06-20 20:05:22 -0400] ribo: so, if I go and change all my @node to node in my recipes
[2012-06-20 20:05:30 -0400] ribo: is that going to break systems using older versions?
[2012-06-20 20:07:13 -0400] yfeldblum: ribo, maybe; so you should, at the same time, try bring your systems up to date
[2012-06-20 20:07:59 -0400] ribo: k
[2012-06-20 20:12:52 -0400] xuru: nictrix: sorry, missed your post  I just passed the string "subversion" for the scm_provider, let me try it with Chef::Provider::Subversion
[2012-06-20 20:13:23 -0400] jtimberman: ribo: thats a pretty old change
[2012-06-20 20:13:49 -0400] jtimberman: ribo: what are the oldest chef versions you're using?
[2012-06-20 20:16:00 -0400] ribo: jtimberman: 10.8
[2012-06-20 20:16:36 -0400] jtimberman: ribo: that change was made in like, chef 0.8 somewhere, i think.
[2012-06-20 20:16:37 -0400] jtimberman: maybe earlier.
[2012-06-20 20:18:36 -0400] geekbri: Question of curiosity.  Why not just change the chef version to 1.0.0 instead of rotating 0.10.X -> 10.X.0
[2012-06-20 20:19:37 -0400] ribo: jtimberman: hmm ok. I've been using it for a long time, and rebuild my cluster nodes often, I probably just missed it
[2012-06-20 20:20:12 -0400] ribo: jtimberman: there's no caveats about using 'node' instead of '@node' as far as scope, right?
[2012-06-20 20:20:23 -0400] jtimberman: ribo: its the same object, but you should just use 'node'
[2012-06-20 20:20:29 -0400] ribo: k, thanks
[2012-06-20 20:21:10 -0400] jtimberman: geekbri: because we had already been referring to versions as "Chef 9", "Chef 10" and "Chef 11" (the latter for later half of the year roadmap conversations)
[2012-06-20 20:21:23 -0400] jtimberman: that is, internally referring
[2012-06-20 20:21:30 -0400] geekbri: yeah I figured that is what you meant
[2012-06-20 20:21:39 -0400] geekbri: I mean it doesn't really matter which way you do it.. I was simply curious :)
[2012-06-20 20:22:50 -0400] ypz: hi, mattray,  after I reinstalled latest chef  (10.12.0) on ,y workstation, bootstrap a new centos6 node still has four gcc comipler calls, here is the relevant output:  http://pastebin.com/4sqKfz7x
[2012-06-20 20:24:06 -0400] josephholsten: jtimberman: now to get you all on the same versioning as ubuntu
[2012-06-20 20:26:08 -0400] mattray: ypz: what was the command-line you used to create that node?
[2012-06-20 20:33:15 -0400] rich_: have a question on timing... I'm creating a cookbook that's trying to pull an artifact (war file), manually extract the war, then run a sed command on a file inside the extracted war. I'm getting a directory not found as if the war is not successfully extracted, even though the extract command succeeds. it seems to almost be a timing issue. I've tried several iterations of notifies logic, and nothing seems to change that. Anybody have 
[2012-06-20 20:35:15 -0400] xuru: nictrix: bah, got pulled into a meeting   https://gist.github.com/2961961  There is the recipe, and the error I get
[2012-06-20 20:36:37 -0400] monvillalon: I need help with some ruby foo :) In a erb template I need to iterate depending on an attribute value.
[2012-06-20 20:36:59 -0400] yfeldblum: monvillalon, a little more detail?
[2012-06-20 20:37:56 -0400] monvillalon: i have the number of solr cores on nodes on node.solr.cores , and i want to create solr.xml to add n cores, that translates to adding a <core.. xml line
[2012-06-20 20:38:02 -0400] cheeseplus: rich_: this is going to sound like a horrible fix but have you tried adding a pause in there
[2012-06-20 20:38:15 -0400] cheeseplus: rich_: just to confirm a timing issue of course ;)
[2012-06-20 20:38:37 -0400] cjs226: how (un)safe is it to allow 0.0.0.0 access to port 4000 with open source chef?  my environment is currently 100% AWS but we develop locally on our laptops
[2012-06-20 20:38:37 -0400] monvillalon: basically i don't know how to iterate on ruby :) I tried node.solr.cores.each do | i | but it seems it is a string and not an int
[2012-06-20 20:38:51 -0400] Rorgo: "We've reordered out versioning so instead of Chef 0.10.12 this is Chef 10.12.0"
[2012-06-20 20:38:54 -0400] Rorgo: *golf clap*
[2012-06-20 20:39:02 -0400] rich_: cheeseplus_: didn't know I could... I'm kinda new to chef. I can try it. It actually looks like it might be a problem with the execute command... it says it's running sh(jar -xvf /var/lib/tomcat7/webapps/identity-services.war > /tmp/jar.out 2&>1), but I don't think it's actually running that... the /tmp/jar.out was empty.
[2012-06-20 20:39:55 -0400] cheeseplus: rich_: yea I was thinking it may be the extraction that is silently failing
[2012-06-20 20:39:56 -0400] yfeldblum: monvillalon, so what you want to do is to iterate, but also to get both the value and its index in the array inside the loop's body block?
[2012-06-20 20:40:06 -0400] nictrix: xuru, http://wiki.opscode.com/display/chef/Deploy+Resource#DeployResource-DeployResource - under providers table
[2012-06-20 20:40:08 -0400] monvillalon: yfeldblum: exactly
[2012-06-20 20:40:30 -0400] cheeseplus: rich_: I've used a ping -c 5 before to pause something just to verify - also try running "chef-client -l debug"
[2012-06-20 20:40:39 -0400] nictrix: xuru, you can use timestamped_deploy, deploy_revision or deploy_branch as the actual resource block
[2012-06-20 20:41:03 -0400] nictrix: xuru, application "" do, is not a resource in Chef, last time I looked
[2012-06-20 20:41:14 -0400] yfeldblum: monvillalon, the method you're looking for is: Enumerable#each_with_index
[2012-06-20 20:41:14 -0400] monvillalon: yfeldblum: a tutorial to erg syntax would also work . its just that i think erb in chef is a little bit different
[2012-06-20 20:41:16 -0400] jtimberman: nictrix: its in the "application" cookbook.
[2012-06-20 20:41:21 -0400] nictrix: oh
[2012-06-20 20:41:35 -0400] yfeldblum: <% node["solr"]["cores"].each_with_index do |core_attr, index| %> ... <% end %>
[2012-06-20 20:41:37 -0400] xuru: right
[2012-06-20 20:41:46 -0400] jtimberman: nictrix: there's a lightweight resource/provider in the application cookbook, and several supporting sub-resources in application_ruby, application_java, et al.
[2012-06-20 20:42:05 -0400] nictrix: oh cool, did not see that
[2012-06-20 20:42:19 -0400] yfeldblum: monvillalon, ERB in chef is just plain ERB - it's just plain embedded ruby
[2012-06-20 20:42:27 -0400] monvillalon: yfeldblum: almost what i need but i grok it now
[2012-06-20 20:42:49 -0400] xuru: jtimberman: is https://github.com/opscode-cookbooks/application and application_python the latest?
[2012-06-20 20:43:25 -0400] xuru: or should i be looking else where for the most up-to-date cookbook
[2012-06-20 20:45:25 -0400] monvillalon: yfeldblum:     <% node["solr"]["cores"].times do | i | %>
[2012-06-20 20:45:26 -0400] monvillalon:         <core name='core-<%= i; ?>' />
[2012-06-20 20:45:26 -0400] monvillalon:     <% end %> what i needed but you pushed me to where i needed, I'm total new with ruby
[2012-06-20 20:48:54 -0400] xuru: Also, the cookbooks says that it uses the deploy_revision LWRP, but I can't find that on the opscode wiki.  Is that just the deploy resource using the "revision" deploy strategy?
[2012-06-20 20:54:02 -0400] raz: hm. what's wrong when chef-client doesn't pick up updated cookbooks that have been uploaded to the server?
[2012-06-20 20:55:33 -0400] Drewzar: Hey, is anything going on with managed chef?
[2012-06-20 20:55:44 -0400] Drewzar: Getting this on new instances: https://gist.github.com/2962151
[2012-06-20 20:56:11 -0400] cwj: xuru: is the client in an environment that is locked to a particular version of the cookbook?
[2012-06-20 20:56:16 -0400] mattray: Drewzar: not that I'm aware of
[2012-06-20 20:56:28 -0400] mattray: Drewzar: does knife work for you?
[2012-06-20 20:56:45 -0400] Drewzar: Yes
[2012-06-20 20:56:50 -0400] xuru: cwj: not yet
[2012-06-20 20:57:10 -0400] Drewzar: mattray: Seems like an issue with registering a new node.
[2012-06-20 20:57:28 -0400] mattray: Drewzar: yeah, everything ok with your organization.pem?
[2012-06-20 20:57:44 -0400] Drewzar: yes, we can run chef on other machines.
[2012-06-20 20:57:55 -0400] c_t: hmm
[2012-06-20 20:57:59 -0400] Drewzar: Sould I open a support ticket?
[2012-06-20 20:58:01 -0400] mattray: Drewzar: yeah, those have client.pems, but what are you bootstrapping with?
[2012-06-20 20:58:05 -0400] mattray: Drewzar: yeah
[2012-06-20 20:58:06 -0400] xuru: So, I'm guessing that I'll need to either A) write my own cookbook based on application_python to handle the svn attributes, or B) just use the SCM resource and handle everything else separately.
[2012-06-20 20:58:12 -0400] c_t: what are the perms on /etc/chef and /etc/chef/client.pem?
[2012-06-20 20:58:22 -0400] yfeldblum: monvillalon, cool
[2012-06-20 20:58:39 -0400] c_t: WARN: Failed to read the private key /etc/chef/client.pem: #<Errno::ENOENT: No such file or directory - /etc/chef/client.pem>
[2012-06-20 20:58:50 -0400] c_t: and FATAL: Chef::Exceptions::PrivateKeyMissing: I cannot read /etc/chef/client.pem, which you told me to use to sign requests!
[2012-06-20 20:59:04 -0400] c_t: makes it look sort of like client.pem is either unreadable or not present
[2012-06-20 20:59:27 -0400] Drewzar: c_t: That's cause it didn't get one.
[2012-06-20 20:59:56 -0400] mattray: c_t: yeah, without the org.pem signing off, he can't get a new client.pem
[2012-06-20 21:00:05 -0400] c_t: validation key's present and isn't unreadable?
[2012-06-20 21:00:13 -0400] mattray: or it's been revoked?
[2012-06-20 21:00:21 -0400] mattray: or it's the wrong one?
[2012-06-20 21:00:29 -0400] Drewzar: This is a new machine it won't have one untill it's registered
[2012-06-20 21:00:30 -0400] c_t: yeah, I've gotten into the habit of reading ruby stack traces backwards
[2012-06-20 21:00:36 -0400] Drewzar: :P
[2012-06-20 21:00:41 -0400] chip-: Interesting dilemma: I've got a ruby_block command in one of my custom cookbooks that executes file.join and does some other stuff.
[2012-06-20 21:00:49 -0400] chip-: However, if I install via omnibus, the target node never gets system Ruby.
[2012-06-20 21:01:08 -0400] chip-: Any suggested workarounds?
[2012-06-20 21:01:13 -0400] mattray: chip-: it should be using the Ruby from omnibus
[2012-06-20 21:01:39 -0400] mattray: ruby_block will use chef's ruby
[2012-06-20 21:03:18 -0400] chip-: mattray: Interesting. I'm requiring fileutils, and then running file.join(), but I'm getting "NoMethodError: undefined method `join' for Chef::Resource::File:Class"
[2012-06-20 21:04:14 -0400] cwj:  use ::File
[2012-06-20 21:04:21 -0400] cwj: er ::File.join
[2012-06-20 21:06:29 -0400] chip-: Gist: https://gist.github.com/2962216
[2012-06-20 21:07:02 -0400] chip-: Idea is that I can have recipes (and eventually an LWRP) write out a conf.d folder for haproxy and then at runtime Chef joins them into an haproxy.conf
[2012-06-20 21:07:37 -0400] chip-: I floated this here a couple of months ago and people recommended doing it in-memory, but I went with the disk because I like the pattern. Easier for the rest of my team.
[2012-06-20 21:08:09 -0400] chip-: also boo to haproxy not supporting includes in the config file.
[2012-06-20 21:09:29 -0400] cwj: chip-: http://tickets.opscode.com/browse/COOK-318
[2012-06-20 21:09:51 -0400] cwj: you need to use ::File when accessing the ruby stdlib File class
[2012-06-20 21:10:02 -0400] Drewzar: mattray: Looks like I'm one of you guys now! http://cl.ly/3K3F2h1x0m2z3i0G2616
[2012-06-20 21:10:06 -0400] chip-: cwj: Ah, now I get what you mean. Thank you.
[2012-06-20 21:10:19 -0400] cwj: sure
[2012-06-20 21:10:42 -0400] cwj: bawt: ::File is http://tickets.opscode.com/browse/COOK-318
[2012-06-20 21:11:10 -0400] cwj: maybe he doesn't listen to me
[2012-06-20 21:14:17 -0400] chip-: Today I love: Versioned cookbooks, --freeze, environment pinning.
[2012-06-20 21:14:25 -0400] chip-: Nothing like having that fix into dev inside of 5 minutes.
[2012-06-20 21:14:31 -0400] chip-: Thanks a lot cwj
[2012-06-20 21:14:49 -0400] cwj: you bet
[2012-06-20 21:14:55 -0400] mattray: Drewzar: congrats?
[2012-06-20 21:15:19 -0400] Drewzar: When do we get paid?! \o/
[2012-06-20 21:15:31 -0400] mattray: Drewzar: where was that?
[2012-06-20 21:15:53 -0400] Drewzar: On the support page. Ticket #12477
[2012-06-20 21:18:24 -0400] mattray: Drewzar: I think it means you have to fix your own ticket ;)
[2012-06-20 21:18:59 -0400] mattray: Drewzar: it's cosmetic, we switched support platforms recently and working out the kinks
[2012-06-20 21:19:03 -0400] Drewzar: If you give me backend access to your systems, I'd love to :)
[2012-06-20 21:19:10 -0400] Drewzar: haha no worries.
[2012-06-20 21:23:32 -0400] sivy: anyone know if there's a good channel to discuss repoman issues?
[2012-06-20 21:27:48 -0400] tony_: hello, can I ask questions specific to the nginx cookbook here
[2012-06-20 21:28:19 -0400] tony_: specifically where to place some lines that need to go into the configuration file
[2012-06-20 21:30:58 -0400] tony_: I want to add something like the server block shown in this example http://wiki.nginx.org/FullExample
[2012-06-20 21:31:30 -0400] tony_: and everything below it, but not sure what attribute or template to modify in the cookbook
[2012-06-20 21:35:24 -0400] javawidget: HI folks...
[2012-06-20 21:35:36 -0400] javawidget: I'm back again with another question....
[2012-06-20 21:35:50 -0400] javawidget: surprise, surprise ;)
[2012-06-20 21:36:34 -0400] javawidget: how do I re-run a recipe after a sever has been bootstrapped?
[2012-06-20 21:40:16 -0400] yfeldblum: if you have bootstrapped correctly, then you should simply be able to run `chef-client` as root (or `sudo chef-client` as a sudoer)
[2012-06-20 21:40:34 -0400] xuru: chef-client -l debug if you want debug
[2012-06-20 21:43:48 -0400] woozie_: Hi I am unable to bootstrap ubuntu 10.04 LTS nodes properly with knife rackspace server create -f 2 -I 112. I am using chef 10.12.0... ruby does not get installed. What can I do?
[2012-06-20 21:50:50 -0400] josephholsten: grr, chef-client seems to be getting really memory heavy on my boxes
[2012-06-20 21:51:25 -0400] laurent\: happens here as well
[2012-06-20 21:53:37 -0400] josephholsten: I wish I had the time to memprof this, anything in particular I should do? trim down my base role? avoid big searches?
[2012-06-20 21:55:11 -0400] laurent\: i don't really know, i haven't looked at it yet. i'm still using ruby 1.8 on most of my servers, don't know if it matters
[2012-06-20 21:57:15 -0400] josephholsten: exception handlers seems really memory heavy
[2012-06-20 21:57:33 -0400] josephholsten: (when it blows up, it really blows up)
[2012-06-20 21:58:00 -0400] monvillalon: is it ok to do something like this in a recipe?
[2012-06-20 21:58:01 -0400] josephholsten: woozie_: are you using the omnibus/chef_full installer?
[2012-06-20 21:58:01 -0400] monvillalon: node["tomcat"]["java_options"] += " -javaagent:#{node.tomcat.home}/newrelic/newrelic.jar"
[2012-06-20 21:58:15 -0400] cheeseplus: woozie_: ah boo, still having issues?
[2012-06-20 21:58:17 -0400] laurent\: woozie_: sorry i've never used rackspace/ec2 and all the hype cloudy thingies
[2012-06-20 21:59:11 -0400] cheeseplus: woozie_: I'm honestly curious if it's something with the rackspace specific command, taking different actions than your standard bootstrap command
[2012-06-20 22:00:01 -0400] monvillalon: woozie_: where does it fail? can you post your output to a paste bin, i was working last month with rackspace and had no problems
[2012-06-20 22:02:24 -0400] doomviking: I was about to say, I use a bootstrap file that installs a more current version of ruby...
[2012-06-20 22:02:55 -0400] doomviking: but he/she's gone.
[2012-06-20 22:31:52 -0400] miah: when you are unsure of gender, 'they' or 'their' works quite well =)
[2012-06-20 22:33:36 -0400] erratic: hahaha
[2012-06-20 22:33:39 -0400] erratic: he!
[2012-06-20 22:33:42 -0400] erratic: I insist!
[2012-06-20 22:33:44 -0400] erratic: xP
[2012-06-20 22:35:20 -0400] erratic: at least thats how people used to be in a lot of channels
[2012-06-20 22:36:10 -0400] erratic: munin_servers = search(:node, "munin:[* TO *] AND chef_environment:#{node.chef_environment}")
[2012-06-20 22:36:13 -0400] erratic: you know what would be nice
[2012-06-20 22:36:21 -0400] erratic: I think btm and I have been over this together but
[2012-06-20 22:36:34 -0400] erratic: from that I can't get munin_servers[0][:ipaddress2]
[2012-06-20 22:36:46 -0400] erratic: you know like on a server that has two interfaces
[2012-06-20 22:36:50 -0400] erratic: with two ip addresses
[2012-06-20 22:37:33 -0400] erratic: instead I have to do this craziness: adminsrv = search(:node, "role:Admin_Server").map {|n| n["network"]["interfaces"]["eth1"]["addresses"].select { |address, data| data["family"] == "inet" }[0][0]}
[2012-06-20 22:38:10 -0400] erratic: anyway now I have to rewrite this cookbook some
[2012-06-20 22:54:56 -0400] hoover_damm: ipaddress is always the first unless you monkeypatch it otherwise
[2012-06-20 22:55:00 -0400] hoover_damm: so you need the secondary interface
[2012-06-20 22:55:20 -0400] hoover_damm: having node['ipaddress'] as an array bothers me for some reason
[2012-06-20 23:07:03 -0400] yfeldblum: erratic, not sure why you consider that craziness
[2012-06-20 23:07:35 -0400] yfeldblum: erratic, i mean, sticking it on one line might be craziness, but beyond that...
[2012-06-20 23:15:01 -0400] georg__: Hi there
[2012-06-20 23:15:53 -0400] georg__: setting up chef on a small cluster, and getting 409 conflicts on bootstrap. (Hosted chef) - no nodes are configured on my server. Any quick pointers?
[2012-06-20 23:17:35 -0400] georg__: oh, client not deleted.
[2012-06-20 23:17:43 -0400] georg__: I thought deleting nodes is sufficient
[2012-06-20 23:18:35 -0400] georg__: awesome.
[2012-06-20 23:24:03 -0400] hoover_damm: yfeldblum, extreme cases are easy
[2012-06-20 23:26:46 -0400] erratic: yfeldblum I kinda like it
[2012-06-20 23:26:58 -0400] erratic: but its just redundant
[2012-06-20 23:27:04 -0400] erratic: and nobody does it the same way
[2012-06-20 23:27:11 -0400] erratic: and its a pain in the butt to have to change
[2012-06-20 23:27:20 -0400] erratic: when god when, when can i go back to working on COOOOOL stuff
[2012-06-20 23:27:22 -0400] erratic: lol
[2012-06-20 23:27:51 -0400] erratic: hahahahaha
[2012-06-20 23:27:54 -0400] erratic: <3
[2012-06-20 23:29:05 -0400] hoover_damm: might as well be right?
[2012-06-20 23:29:09 -0400] erratic: today I got to play around with munin rrdtool and php5-rrd
[2012-06-20 23:29:26 -0400] c_t: IDENTIFICATION.DIVISION
[2012-06-20 23:29:34 -0400] erratic: and realized I can deserialize the rrd file into a php array then serialize it to json
[2012-06-20 23:29:38 -0400] c_t:     CHEF_COBOL
[2012-06-20 23:29:39 -0400] erratic: then send it off to highcharts
[2012-06-20 23:29:46 -0400] erratic: and was like yayyyyy
[2012-06-20 23:34:28 -0400] hoover_damm: bawt, file?
[2012-06-20 23:34:28 -0400] bawt: file is 100% empty
[2012-06-20 23:34:41 -0400] hoover_damm: bawt, forget file
[2012-06-20 23:34:41 -0400] bawt: done
[2012-06-20 23:34:57 -0400] hoover_damm: bawt, file is ::File see http://tickets.opscode.com/browse/COOK-318
[2012-06-20 23:35:02 -0400] hoover_damm: bawt, file?
[2012-06-20 23:35:02 -0400] bawt: file is ::File see http://tickets.opscode.com/browse/COOK-318
[2012-06-20 23:35:17 -0400] hoover_damm: cwj, that is a access level thing
[2012-06-20 23:53:16 -0400] hongbin: Hi. Do anyone know what is the cause of this error ERROR: Server returned error for http://ec2-23-20-244-31.compute-1.amazonaws.com:4000/search/node?q=*:*&sort=X_CHEF_id_CHEF_X%20asc&start=0&rows=1000, retrying 1/5 in 3s
[2012-06-20 23:53:17 -0400] hongbin: ERROR: Server returned error for http://ec2-23-20-244-31.compute-1.amazonaws.com:4000/search/node?q=*:*&sort=X_CHEF_id_CHEF_X%20asc&start=0&rows=1000, retrying 2/5 in 7s
[2012-06-20 23:55:56 -0400] jameson: is the cookbook repo that knife pulls from really agnostic of opscode?
[2012-06-20 23:57:43 -0400] hongbin: jameson: Pull from open community cookbook. I modified it.
[2012-06-20 23:58:38 -0400] jameson: so the the github.com/cookbooks is redundant(?)
[2012-06-20 23:59:20 -0400] hongbin: yes
[2012-06-20 23:59:24 -0400] hongbin: I guess
